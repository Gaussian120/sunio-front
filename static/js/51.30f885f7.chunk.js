(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[51],{1044:function(e,t,a){"use strict";var c=a(22),n=a(3),s=(a(880),a(21)),o=a.n(s),r=a(9);t.a=function(){var e=Object(n.useState)(!0),t=Object(c.a)(e,2),a=t[0],s=t[1],i=Object(n.useState)(!0),l=Object(c.a)(i,2),b=l[0],j=l[1];return Object(r.jsxs)("div",{className:"window charts",children:[Object(r.jsxs)("ul",{className:"li-inline",children:[Object(r.jsxs)("li",{onClick:function(){return s(!a)},children:["[",a&&Object(r.jsx)("span",{children:"X"}),"] usdt"]}),Object(r.jsxs)("li",{onClick:function(){return j(!b)},children:["[",b&&Object(r.jsx)("span",{children:"X"}),"] 3pool"]})]}),Object(r.jsx)("div",{className:"mt-10",children:Object(r.jsx)("button",{children:o.a.get("volume_percoin.select")})})]})}},1181:function(e,t,a){"use strict";a(3),a(21),a(9)},1204:function(e,t,a){"use strict";var c=a(4),n=a(0),s=a(2),o=a(22),r=a(3),i=a(35),l=a.n(i),b=a(75),j=a(88),u=a(21),d=a.n(u),p=a(1351),O=a(1934),m=a(163),x=(a(880),a(870)),h=a(871),f=a(872),g=a(238),v=a(5),w=a(14),N=a(1),k=a(27),y=a(186),_=a(860),S=(a(862),a(864),a(9)),D=a(1925),C=(a(442),a(441),a(438),a(424)),I=a(423),A=function(){var e=Object(b.d)((function(){return y.a.pool})),t=Object(r.useState)(Object(j.a)(window.navigator).any),a=Object(o.a)(t,1)[0],c=[{title:d.a.get("home.pools.pool"),dataIndex:"name",key:"name",fixed:"left",render:function(e,t){return Object(S.jsxs)("div",{className:"long",children:["USDC"===t.symbol?Object(S.jsxs)("div",{className:"swap-pool-img",children:[Object(S.jsx)("img",{src:C.default,alt:""}),Object(S.jsx)("img",{src:I.default,alt:""})]}):Object(S.jsx)("div",{className:"swap-pool-img",children:Object(S.jsx)("img",{className:"pool3-img",src:k.a[t.symbol],alt:""})}),Object(S.jsxs)("div",{className:"flex column start",children:[Object(S.jsx)("span",{className:"symbol",children:t.symbol}),Object(S.jsx)("span",{className:"name",children:t.name})]})]})}},{title:d.a.get("home.pools.base_apy"),dataIndex:"baseApy",key:"baseApy",render:function(e,t){return"--"!==e?"".concat(Object(N.s)(e),"%"):"--"}},{title:d.a.get("home.pools.rewards_apy"),dataIndex:"rewardsApy",key:"rewardsApy",render:function(e,t){return"--"!==e?"".concat(Object(N.s)(e),"%"):"--"}},{title:d.a.get("home.pools.volume"),dataIndex:"volume",key:"volume",render:function(e,t){return"--"!==e?"$".concat(Object(N.e)(e)):"--"}}];return Object(S.jsx)(b.a,{children:function(){return Object(S.jsx)("div",{className:"window white pl-0",children:Object(S.jsxs)("fieldset",{children:[Object(S.jsx)("legend",{className:"text-center",children:d.a.get("home.pools_title")}),Object(S.jsx)(D.a,{className:"table-swap",dataSource:e.sspTableData,columns:c,pagination:!1,rowKey:function(e){return e.name},scroll:{x:!!a&&600},onRow:function(e){return{onClick:function(t){!function(e){var t=window.localStorage.getItem("lang")||d.a.options.currentLocale,a=window.location.origin+window.location.pathname;window.location.href=a+"?lang=".concat(t,"#/").concat(e)}(e.symbol.toLowerCase())}}}})]})})}})},B=window.location.origin+"/"+window.location.search+"#/3pool/deposit",F=window.location.origin+"/"+window.location.search+"#/usdc/deposit",T=window.location.origin+"/"+window.location.search+"#/stake",H=function(){var e=Object(b.d)((function(){return y.a.pool})),t=e.sspTableData,a=Object(r.useState)("--"),c=Object(o.a)(a,2),n=c[0],s=c[1],i=function(t){"deposit"===t&&(Object(N.a)(e.totalApy).gte(n)?window.open(B,"deposit"):window.open(F,"deposit")),"stake"===t&&window.open(T,"stake")};return Object(r.useEffect)((function(){t.length>=2&&s(Object(N.a)(t[1].baseApy).plus(t[1].rewardsApy))}),[e.sspTableData]),Object(S.jsx)(b.a,{children:function(){return Object(S.jsx)("div",{className:"window white no-bg padding-0",children:Object(S.jsxs)("div",{className:"flex around apys",children:[Object(S.jsx)("div",{onClick:function(){return i("deposit")},className:"cp",children:Object(S.jsxs)("fieldset",{className:"",children:[Object(S.jsxs)("div",{className:"jcst",children:[Object(S.jsx)("h2",{className:"legend-title title1",children:d.a.get("home.stake_apy.stable_deposit")}),Object(S.jsxs)("h2",{className:"legend-title nowrap",children:[Object(N.a)(e.totalApy).gt(n)?Object(N.s)(e.totalApy):Object(N.s)(n),"%"]})]}),Object(S.jsxs)("div",{className:"jcst mt-10",children:[Object(S.jsx)("span",{className:"c-999",children:d.a.get("home.stake_apy.stable_deposit_desc")}),Object(S.jsx)("span",{className:"c-999 min-100 right",children:d.a.get("home.stake_apy.highest_apy")})]})]})}),Object(S.jsx)("div",{onClick:function(){return i("stake")},className:"cp",children:Object(S.jsxs)("fieldset",{className:"",children:[Object(S.jsxs)("div",{className:"jcst",children:[Object(S.jsx)("h2",{className:"legend-title",children:d.a.get("home.stake_apy.join_deposit")}),Object(S.jsxs)("h2",{className:"legend-title",children:[Object(N.s)(e.highestApy),"%"]})]}),Object(S.jsxs)("div",{className:"jcst mt-10",children:[Object(S.jsx)("span",{className:"c-999",children:d.a.get("home.stake_apy.join_deposit_desc")}),Object(S.jsx)("span",{className:"c-999 min-100 right",children:d.a.get("home.stake_apy.highest_apy")})]})]})})]})})}})},P=a(1110),E=(v.a.pools,v.a.usdcPools),V=v.a.poolKeys,K=v.a.usdcPoolKeys,L=v.a.stablePool,U=v.a.usdcContracts,J=p.a.Option,X=v.a.lockKeys,q=function(){var e={};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:V).map((function(t){e[t]=""})),e};t.a=function(e){var t=null,a=Object(b.d)((function(){return y.a.system})),i=Object(b.d)((function(){return y.a.network})),u=Object(b.d)((function(){return y.a.pool})),v=Object(b.d)((function(){return y.a.home})),D=Object(b.d)((function(){return y.a.usdcPool})),C=q(),I=q(K),B=Object(j.a)(window.navigator).any,F=Object(r.useState)("--"),T=Object(o.a)(F,2),V=(T[0],T[1]),R=Object(r.useState)("--"),$=Object(o.a)(R,2),z=($[0],$[1]),G=Object(r.useState)("--"),M=Object(o.a)(G,2),Q=(M[0],M[1]),W=Object(r.useState)("--"),Y=Object(o.a)(W,2),Z=(Y[0],Y[1]),ee=function(){var e=Object(s.a)(Object(n.a)().mark((function e(){var t,a,c,s,o;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getHomePageBottomApy();case 2:return e.next=4,u.getVolumeData();case 4:return e.next=6,v.getAllTvlData();case 6:t=e.sent,a=t.allSwaps,c=t.miningPools,s=t.stableCoins,o=t.totalTvl,V(o),z(a),Q(c),Z(s);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(s.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getBalanceInfo();case 2:return e.next=4,D.getBalanceInfo(U.usdcSwap);case 4:return e.next=6,u.getSwapBalance();case 6:Be&&Ke();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){return t||(Te({rageChange:!0}),t=setInterval(Object(s.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:case"end":return e.stop()}}),e)}))),i.defaultIntervalSec)),function(){clearInterval(t)}}),[]);var ae=Object(r.useState)("usdt"),ce=Object(o.a)(ae,2),ne=ce[0],se=ce[1],oe=Object(r.useState)(1),re=Object(o.a)(oe,2),ie=re[0],le=re[1],be=Object(r.useState)("usdj"),je=Object(o.a)(be,2),ue=je[0],de=je[1],pe=Object(r.useState)(1),Oe=Object(o.a)(pe,2),me=Oe[0],xe=Oe[1],he=Object(r.useState)(l()(1)),fe=Object(o.a)(he,2),ge=fe[0],ve=fe[1],we=Object(r.useState)(!1),Ne=Object(o.a)(we,2),ke=Ne[0],ye=Ne[1],_e=Object(r.useState)(1),Se=Object(o.a)(_e,2),De=Se[0],Ce=Se[1],Ie=Object(r.useState)(!1),Ae=Object(o.a)(Ie,2),Be=Ae[0],Fe=Ae[1],Te=function(){var e=Object(s.a)(Object(n.a)().mark((function e(){var t,a,c,s,o,r,i,b,j,u,d,p,O,m,x,h,f,g,v=arguments;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(t=v.length>0&&void 0!==v[0]?v[0]:{}).i,c=void 0===a?ne:a,s=t.j,o=void 0===s?ue:s,r=t.dx_base,i=void 0===r?ie:r,b=t.rageChange,j=void 0!==b&&b,(i=Object(N.bb)(i)).gt(0)){e.next=4;break}return e.abrupt("return");case 4:return u=E[c].index,d=E[o].index,p=E[c].precision,O=E[o].precision,m=i.times(p)._toIntegerDown()._toHex(),e.prev=9,e.next=12,Object(w.tb)(u,d,m);case 12:if((x=e.sent).success){e.next=15;break}return e.abrupt("return");case 15:if(xe(Object(N.c)(x.value.div(O)._toFixed(E[o].decimal,1))),!j){e.next=21;break}return e.next=19,Object(w.tb)(u,d,m);case 19:h=e.sent,1===De?(f=h.value.div(O).div(i),l()(f).gt(0)?ve(f):ve("--")):(g=l()(1).div(h.value.div(O).div(Object(N.bb)(ie))._toFixed(4,1)),l()(g).gt(0)?ve(g):ve("--"));case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(9),console.log("get dy error: ",e.t0);case 26:case"end":return e.stop()}}),e,null,[[9,23]])})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=Object(s.a)(Object(n.a)().mark((function e(){var t,s,o,r,i,b,j;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,ke){e.next=5;break}if(!Ke()){e.next=5;break}return e.abrupt("return");case 5:if(!ke){e.next=7;break}return e.abrupt("return");case 7:if(t=Object(c.a)({},u.poolData),s=Object(c.a)({},C),(o=[ne,ue].includes("usdc"))&&(t=Object(c.a)(Object(c.a)({},D.poolData),D.poolData1),s=Object(c.a)({},I)),r=t[ne],i=r.allowance,b=r.precision,i=l()(i).div(b),!Object(N.bb)(ie).gt(i)||s[ne]){e.next=23;break}return j={action:"approve",title:"deposit.approve_token",obj:{value:E[ne].symbol},continuous:!0},e.next=17,a.approveToken(E[ne].token,o?U.usdcSwap:L,j,[["pool/getBalanceInfo"]]);case 17:if(!e.sent){e.next=22;break}o?I[ne]=2:C[ne]=2,e.next=23;break;case 22:return e.abrupt("return");case 23:Pe(),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(0),console.log(e.t0);case 29:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(s.a)(Object(n.a)().mark((function e(){var t,c,s,o,r,i,l;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=E[ne].index,c=E[ue].index,s=Object(N.bb)(ie),o=Object(N.bb)(me),r=E[ne].precision,i=E[ue].precision,l={title:"notification.tip1",obj:{fromValue:Object(N.t)(s),fromToken:ne.toUpperCase(),toValue:Object(N.t)(o),toToken:ue.toUpperCase()}},e.prev=7,![ne,ue].includes("usdc")){e.next=14;break}return e.next=11,a.toUsdcExchange(t,c,s.times(r)._toIntegerDown()._toHex(),o.times(i).times(.995)._toIntegerDown()._toHex(),l,[["pool/getBalanceInfo"],["pool/getStakeApyData"],["pool/getVolumeData"],["pool/getStatsData"]]);case 11:e.t0=e.sent,e.next=17;break;case 14:return e.next=16,a.toExchange(t-1,c-1,s.times(r)._toIntegerDown()._toHex(),o.times(i).times(.995)._toIntegerDown()._toHex(),l,[["pool/getBalanceInfo"],["pool/getStakeApyData"],["pool/getVolumeData"],["pool/getStatsData"]]);case 16:e.t0=e.sent;case 17:e.t0&&setTimeout((function(){u.getBalanceInfo(),D.getBalanceInfo(U.usdcSwap),Te()}),5e3),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(7),console.log("exchange error: ",e.t1);case 24:case"end":return e.stop()}}),e,null,[[7,21]])})));return function(){return e.apply(this,arguments)}}(),Ee=function(){!Be&&Fe(!0),se(ue),de(ne),le(Object(N.c)(Object(N.bb)(me)._toFixed(E[ue].decimal),1)),Te({i:ue,j:ne,dx_base:me,rageChange:!0}),Ce(1)},Ve=function(e){!Be&&Fe(!0);var t=E[ne],a=t.decimal,n=(t.symbol,Object(N.S)((""+e).replace(/,/g,""),a)),s=n.valid,o=n.str,r=Object(c.a)(Object(c.a)({},D.poolData),D.poolData1)[ne],i=r.precision,b=r.balance;b=l()(b).div(i),s&&(le(Object(N.c)(o)),Te({dx_base:l()(o),rageChange:!0}))};Object(r.useEffect)((function(){Be&&Ke()}),[ne,ue,ie]);var Ke=function(){var e=Object(c.a)(Object(c.a)({},D.poolData),D.poolData1)[ne],t=e.precision,a=e.balance,n=e.symbol;return a=l()(a).div(t),Object(N.bb)(ie).eq(0)||Object(N.bb)(ie).isNaN()?(ye(d.a.get("error.e1")),!0):Object(N.bb)(ie).gt(a)?(ye(d.a.get("error.e2",{token:n})),!0):(ye(!1),!1)},Le=function(){var e=Object(s.a)(Object(n.a)().mark((function e(t){var a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!Be&&Fe(!0),se(t),le(Object(N.c)(Object(N.bb)(ie)._toFixed(E[t].decimal),1)),Te({i:t,rageChange:!0}),a=Object(N.bb)(ie)._toFixed(E[t].decimal,1),le(Object(N.c)(a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(e){!Be&&Fe(!0),de(e),Te({j:e,rageChange:!0})},Je=function(){var e=Object(s.a)(Object(n.a)().mark((function e(){var t,a,c,s,o,r,i;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Be&&Fe(!0),t=[ne,ue],Ce(1!==De?1:2),l()(ge).gt(0)){e.next=6;break}return ve("--"),e.abrupt("return");case 6:return a=E[t[0].toLocaleLowerCase()].precision,c=E[t[0]].index,s=E[t[1]].index,o=E[t[1]].precision,r=Object(N.bb)(ie).times(a)._toIntegerDown()._toHex(),e.next=13,Object(w.tb)(c,s,r);case 13:i=e.sent,ve(1!==De?i.value.div(o).div(Object(N.bb)(ie)):l()(1).div(i.value.div(o).div(Object(N.bb)(ie))._toFixed(4,1)));case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(e){try{var t=Object(c.a)(Object(c.a)({},D.poolData),D.poolData1)[e],a=t.precision,n=t.balance;return n=l()(n).isNaN()?"--":l()(n).div(a),Object(S.jsxs)("span",{className:"clickable c-purple fs-12",onClick:function(){return Ve(n)},children:[d.a.get("buysell.max"),": ",l()(n)._toFixed(2,1)]})}catch(s){}},qe=function(){return Object(S.jsxs)("div",{className:"page-head",children:[Object(S.jsx)("div",{className:"gradient-title",children:d.a.get("home.swap_all_title")}),Object(S.jsx)("div",{className:"dim-content",children:d.a.get("banner.desc_1")})]})};return Object(S.jsx)(b.a,{children:function(){return Object(S.jsxs)("div",{className:"container",children:[!e.headerHidden&&Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(_.a,{routeName:"home",instantActions:ee,mountedActions:te})}),Object(S.jsx)(qe,{}),Object(S.jsx)("div",{className:"window white",children:Object(S.jsxs)("fieldset",{children:[Object(S.jsx)("legend",{className:"text-center",children:d.a.get("home.swap_all_title")}),(D.poolData,Object(S.jsxs)("div",{className:"swap flex mt-24",children:[Object(S.jsxs)("div",{className:"swap-block",children:[Object(S.jsx)(p.a,{onChange:Le,value:ne,children:K.map((function(e){var t=E[e];return Object(S.jsxs)(J,{value:e,disabled:ue===e,children:[Object(S.jsx)("img",{src:k.a[e]?k.a[e]:g.default,alt:"",className:"token-logo"}),t.symbol]},e)}))}),Object(S.jsxs)("div",{className:"flex column all-end a-end w-200 mobile-top",children:[Xe(ne),Object(S.jsx)(O.a,{value:ie,onChange:function(e){return Ve(e.target.value)}})]})]}),B?Object(S.jsx)("img",{className:"mobile-top mobile-rotate",src:x.a,onClick:function(){return Ee()}}):Object(S.jsx)("img",{className:"mobile-top mobile-rotate mobile-rotate-new ",src:h.a,onClick:function(){return Ee()}}),Object(S.jsxs)("div",{className:"swap-block",children:[Object(S.jsx)(p.a,{className:"mobile-top",onChange:Ue,value:ue,children:K.map((function(e){var t=E[e];return Object(S.jsxs)(J,{value:e,disabled:ne===e,children:[Object(S.jsx)("img",{src:k.a[e]?k.a[e]:g.default,alt:"",className:"token-logo"}),t.symbol]},e)}))}),Object(S.jsx)(O.a,{className:"mobile-top",value:me,disabled:!0})]})]})),Object(S.jsxs)("p",{className:"flex jce a-middle mt-20 exchange-rate",children:[Object(S.jsxs)("span",{className:"c-999 mobile-text",children:[d.a.get("buysell.exchange_rate"),1===De?" ".concat(E[ne].symbol,"/").concat(E[ue].symbol):" ".concat(E[ue].symbol,"/").concat(E[ne].symbol)]}),Object(S.jsx)("img",{src:f.a,className:"swaprates-icon",onClick:function(){return Je()}}),Object(S.jsxs)("span",{className:"clickable c-999 mobile-text",children:["(",d.a.get("buysell.including_fees"),"):"," ",Object(S.jsx)("span",{className:"c-999",children:"--"===ge?"--":ge._toFixed(4,1)})]})]}),Object(S.jsxs)("p",{className:"flex jce swap-pool-des",children:[Object(S.jsx)("span",{className:"c-999",children:d.a.get("buysell.trade_through")}),Object(S.jsx)("span",{className:"ml-2 c-999",children:"usdc"===ne||"usdc"===ue?d.a.get("buysell.usdc_pool"):"3pool"})]}),ke&&Object(S.jsx)("p",{className:"red-error mt-10",children:ke}),Object(S.jsx)("p",{className:"flex center mt-20",children:Object(S.jsx)(m.a,{className:"sell",onClick:function(){return He()},disabled:ke,children:d.a.get("sell_btn")})})]})}),Object(S.jsx)(A,{}),Object(S.jsx)(P.a,{}),Object(S.jsx)(H,{data:X},X)]})}})}},1915:function(e,t,a){"use strict";a.r(t);a(3);var c=a(860),n=a(862),s=(a(1181),a(1204),a(459),a(880),a(1044)),o=a(9);t.default=function(){return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(c.a,{routeName:"3pool/trade"}),Object(o.jsx)(n.a,{}),Object(o.jsx)(s.a,{})]})}},870:function(e,t,a){"use strict";t.a=a.p+"static/media/exchange-alt-solid.730f2c6b.svg"},871:function(e,t,a){"use strict";t.a=a.p+"static/media/exchange-alt-solid-cn.24d365f8.svg"},872:function(e,t,a){"use strict";t.a=a.p+"static/media/sync-solid.2db08506.svg"}}]);