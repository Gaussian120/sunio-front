(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[16,1],{1010:function(e,t,a){"use strict";t.a=a.p+"static/media/back_white.7ed6b99e.svg"},1014:function(e,t,a){"use strict";var n=a(0),s=a(2),o=a(7),c=a(8),r=a(19),i=a(14),l=a(15),d=a(3),u=a(928),p=a.n(u),b=a(21),j=a.n(b),m=a(1877),h=a(44),f=a.n(h),x=a(1304),k=a(103),O=a(94),g=a(216),v=a.p+"static/media/kline.e1278ad6.svg",w=a(10);d.Component},1056:function(e,t,a){"use strict";var n,s=a(7),o=a(8),c=a(14),r=a(15),i=a(3),l=a.n(i),d=a(167),u=a(21),p=a.n(u),b=a(814),j=a(1317),m=a(17),h=a(23),f=a(10),x=Object(d.b)("sunSwapNetwork")(n=Object(d.c)(n=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).changeCheckStatus=function(e){n.setState({checkStatus:e})},n.comfirmContinue=function(){n.state.checkStatus&&n.props.cb()},n.componentDidMount=function(){},n.state={checkStatus:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.dealWarningSymbol,s=this.state.checkStatus,o=n?h.a.deflationToken[n]:{symbol:"",slippage:""},c=o.symbol,r=o.slippage;return Object(f.jsx)(b.a,{title:p.a.getHTML("list.deal_warning_title",{value:c}),closable:!1,visible:a,footer:null,style:{marginLeft:Object(m.v)(500)},width:525,className:"list-addtoken-modal deal-warning-modal sun-swap-modal",centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:Object(f.jsxs)("div",{className:"solor-modal-body",children:[Object(f.jsxs)("div",{className:"tips",children:[Object(f.jsx)("div",{className:"tips1",children:p.a.getHTML("list.deal_warning_content_1",{value:c})}),Object(f.jsx)("div",{className:"tips1 yellow",children:p.a.getHTML("list.deal_warning_content_2",{value:r})}),Object(f.jsx)("div",{className:"tips1",children:p.a.getHTML("list.deal_warning_content_3",{value:c})})]}),Object(f.jsx)("div",{className:"check-box"+(s?" checked":""),children:Object(f.jsx)(j.a,{onChange:function(t){return e.changeCheckStatus(t.target.checked)},children:p.a.get("sunSwap.list.i_understand")})}),Object(f.jsx)("div",{className:"btns",children:Object(f.jsx)("button",{onClick:this.comfirmContinue,className:s?"button-active":"",children:p.a.get("sunSwap.list.continue")})})]})})}}]),a}(l.a.Component))||n)||n;t.a=x},1057:function(e,t,a){"use strict";var n,s=a(7),o=a(8),c=a(14),r=a(15),i=a(3),l=a.n(i),d=a(21),u=a.n(d),p=(a(94),a(167)),b=a(814),j=a(1851),m=(a(1149),a(261)),h=a(887),f=a(17),x=a(10),k=Object(p.b)("sunSwapNetwork")(n=Object(p.c)(n=function(e){Object(c.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).initState=function(e,t){n.setState({_slippage:e,_deadline:t,slippage:e,deadline:t},(function(){n.showInfoMsg()}))},n.onCancel=function(){n.setState({slippage:n.state._slippage,deadline:n.state._deadline},(function(){n.showInfoMsg()})),n.props.onCancel&&n.props.onCancel()},n.onChange=function(){n.setState({_slippage:n.state.slippage,_deadline:n.state.deadline},(function(){n.showInfoMsg()})),n.props.onChange&&n.props.onChange(n.state.slippage,n.state.deadline)},n.onSlippageChange=function(e){var t=e.target.value,a=Object(f.w)(t,2),s=a.valid,o=a.str;s&&n.setState({slippage:o},(function(){n.showInfoMsg()}))},n.onDeadlineChange=function(e){var t=e.target.value,a=Object(f.w)(t,0),s=a.valid,o=a.str;if(t){if(s){var c=o;Number(o)>1e4&&(c=1e4),n.setState({deadline:c})}}else n.setState({deadline:t})},n.onSlippageBlur=function(){var e=n.state.slippage;Number(e)>=50?n.setState({slippage:e.slice(0,1)},(function(){n.showInfoMsg()})):0!=Number(e)||n.setState({slippage:"0.01"},(function(){n.showInfoMsg()}))},n.onDeadlineBlur=function(){var e=Number(n.state.deadline);0===e&&(e=1),n.setState({deadline:e})},n.showInfoMsg=function(){var e=n.state.slippage;e&&(Number(e)<.5?n.setState({info:u.a.get("sunSwap.settings.slippage_info_1")}):Number(e)>5&&Number(e)<50?n.setState({info:u.a.get("sunSwap.settings.slippage_info_2")}):Number(e)>=50?n.setState({info:u.a.get("sunSwap.settings.slippage_info_3")}):n.setState({info:""}))},n.state={_slippage:"0.5",_deadline:"1",slippage:"0.5",deadline:"1",info:""},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return Object(x.jsx)(l.a.Fragment,{children:Object(x.jsxs)(b.a,{title:Object(x.jsx)("span",{className:"setting-title",children:u.a.get("sunSwap.settings.title")}),closable:!0,visible:this.props.visible,onCancel:this.onCancel,footer:null,className:"setting-modal sun-swap-modal",transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",width:630,centered:!0,children:[Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsx)(m.a,{tip:this.props.slippate_tip||u.a.get("sunSwap.settings.slippage_tip"),children:Object(x.jsx)("span",{className:"setting-slippage",children:u.a.get("sunSwap.settings.slippage")})}),Object(x.jsxs)("div",{className:"flex justify-content btns",children:[Object(x.jsx)("button",{className:"0.1"===this.state.slippage?"active":"default",onClick:function(){return e.onSlippageChange({target:{value:"0.1"}})},children:"0.1%"}),Object(x.jsx)("button",{className:"0.5"===this.state.slippage?"active":"",onClick:function(){return e.onSlippageChange({target:{value:"0.5"}})},children:"0.5%"}),Object(x.jsx)("button",{className:"1"===this.state.slippage?"active":"",onClick:function(){return e.onSlippageChange({target:{value:"1"}})},children:"1%"}),Object(x.jsx)("div",{className:"slippage-input",children:Object(x.jsx)(j.a,{suffix:"%",value:this.state.slippage,onChange:this.onSlippageChange,onBlur:this.onSlippageBlur})})]}),this.state.info?Object(x.jsx)("div",{className:"info",children:this.state.info}):null,Object(x.jsxs)("div",{className:"dead-line",children:[Object(x.jsx)(m.a,{tip:u.a.get("sunSwap.settings.deadline_tip"),children:u.a.get("sunSwap.settings.deadline")}),Object(x.jsxs)("div",{className:"flex",children:[Object(x.jsx)(j.a,{value:this.state.deadline,onChange:this.onDeadlineChange,onBlur:this.onDeadlineBlur}),Object(x.jsx)("div",{className:"minutes",children:u.a.get("sunSwap.settings.deadline_minutes")})]})]})]}),Object(x.jsx)(h.a,{type:"single",info:u.a.get("sunSwap.settings.confirm_btn"),onClick:this.onChange})]})})}}]),a}(l.a.Component))||n)||n;t.a=k},1139:function(e,t,a){},1140:function(e,t,a){"use strict";t.a=a.p+"static/media/Back.9ec56707.svg"},1141:function(e,t,a){},1142:function(e,t,a){},1143:function(e,t,a){},1144:function(e,t,a){"use strict";t.a=a.p+"static/media/Add.17fec9f1.svg"},1145:function(e,t,a){},1146:function(e,t,a){"use strict";t.a=a.p+"static/media/per.e4b1b756.svg"},1147:function(e,t,a){"use strict";t.a=a.p+"static/media/arrDown_purple.a01dd458.svg"},1148:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAANCAMAAAB4p3UoAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEJQTFRFAAAASFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlDTbkywAAABZ0Uk5TAIDuQFf/9AFYP9cvsf78ImriLWQuePVMmBkAAABCSURBVHicY2DADRiZmNFEWFhZMYXYcAmxIwAHKysnAwMXKyrgZuABkrwQABLg40cxSIBVUIhEAWFWVhFU14hyQQQA99wCt/58bxkAAAAASUVORK5CYII="},1149:function(e,t,a){},1150:function(e,t,a){"use strict";t.a=a.p+"static/media/wallet.d2b086d3.svg"},1151:function(e,t,a){"use strict";t.a=a.p+"static/media/arrow-right-long.03b7f6c0.svg"},1152:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return c}));var n,s=a(9),o="v1.0",c="v2.0";n={},Object(s.a)(n,o,"V 1"),Object(s.a)(n,"v1.5","V 1.5"),Object(s.a)(n,c,"V 2")},1153:function(e,t,a){},1154:function(e,t,a){"use strict";a(1155);var n=a(30),s=a.n(n),o=a(10);t.a=function(e){return Object(o.jsx)("div",{className:"tempalte-pageTab-nav",children:e.list.map((function(t){return Object(o.jsx)("div",{className:s()("tempalte-pageTab-nav-item",{"tempalte-pageTab-nav-active":e.activeKey===t.value}),onClick:function(){return t.handler(t)},children:t.label},t.value)}))})}},1155:function(e,t,a){},1808:function(e,t,a){},1854:function(e,t,a){"use strict";a.r(t);var n,s,o,c,r,i,l,d=a(0),u=a(2),p=a(7),b=a(8),j=a(14),m=a(15),h=a(3),f=a.n(h),x=a(21),k=a.n(x),O=a(94),g=a(167),v=a(1845),w=a(26),S=a.n(w),A=a(832),N=a.n(A),y=a(9),T=a(4),_=a(814),C=a(23),D=a(138),V=a(40),I=a.n(V),L=a(1313),B=a(1318),P=a(1851),F=a(1317),R=a(79),M=a(1878),E=a(17),q=(a(1139),a(261)),U=a(259),H=a(266),X=a(1140),W=a(103),J=a(1056),z=a(10),K="REMOVE",Q=Object(g.b)("sunSwapPool")(n=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=window.localStorage.getItem("solor");if(e){var t=JSON.parse(e);window.localStorage.setItem("solor",JSON.stringify(t)),n.props.sunSwapPool.setData({solor:t})}},n.setTokenList=Object(u.a)(Object(d.a)().mark((function e(){var t,a,s,o,c,r,i,l,u,p,b,j,m,h,f,x,k,O,g,v,w,S,A=arguments;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=A.length>0&&void 0!==A[0]?A[0]:null,e.prev=1,a=n.props.sunSwapPool,s=a.byUrl,o=void 0===s?{}:s,c=a.selectedListUrl,r=void 0===c?"":c,i=a.solor,l=void 0===i?[]:i,u=window.localStorage.getItem("swapVersion"),p=o[r].tokens||[],I.a.uniqBy(p,"address").length!=p.length&&(p=[]),void 0!==(b=o[r].isToken)){e.next=15;break}return e.next=11,W.a.isToken(p.map((function(e){return e.address})));case 11:return b=e.sent,o[r].isToken=Number(b),e.next=15,n.props.sunSwapPool.updateByUrl(o[r]);case 15:2===Number(b)&&(p=[]),j={tokenAddress:C.a.trxFakeAddress,address:"",addressV1:"",addressV2:"",tokenSymbol:"TRX",tokenLogoUrl:H.a,tokenName:"TRX",tokenDecimal:C.a.trxDecimal,balance:"-"},m=n.props.sunSwapPool,h=m.exchanges,f=void 0===h?{}:h,x=m.allExchanges,k=void 0===x?{}:x,O=[],n.props.swap?p.map((function(e){e.address&&f[e.address]&&f[e.address].e&&O.push({tokenAddress:e.address,address:f[e.address]?f[e.address].e:null,addressV1:k&&k[0]&&k[0][e.address]?k[0][e.address].e:null,addressV2:k&&k[1]&&k[1][e.address]?k[1][e.address].e:null,tokenSymbol:e.symbol||"",tokenLogoUrl:e.logoURI||U.a,tokenName:e.name||"",tokenDecimal:Number(f[e.address].d),balance:"-"})})):p.map((function(e){e.address&&O.push({tokenAddress:e.address,address:"",addressV1:"",addressV2:"",tokenSymbol:e.symbol||"",tokenLogoUrl:e.logoURI||U.a,tokenName:e.name||"",tokenDecimal:f[e.address]&&f[e.address].d?Number(f[e.address].d):e.decimals,balance:"-"})})),l.map((function(e){e.addressV1=k&&k[0]&&k[0][e.tokenAddress]?k[0][e.tokenAddress].e:null,e.addressV2=k&&k[1]&&k[1][e.tokenAddress]?k[1][e.tokenAddress].e:null,e.address="v1.0"===u?k&&k[0]&&k[0][e.tokenAddress]?k[0][e.tokenAddress].e:null:k&&k[1]&&k[1][e.tokenAddress]?k[1][e.tokenAddress].e:null})),g=l.slice(),l.map((function(e){I.a.findIndex(O,(function(t){return t.tokenAddress===e.tokenAddress}))>=0&&I.a.remove(g,(function(t){return t.tokenAddress===e.tokenAddress}))})),O=[j].concat(g,O),v=[],w=[],S={},O.map((function(e){v.push(e),w.push(e),S[e.tokenAddress]=e})),n.state.tokenMap=S,n.setState({allTokenList:v,tokenList:w},(function(){n.getTokenBalance(),t&&t()})),e.next=35;break;case 32:e.prev=32,e.t0=e.catch(1),console.log(e.t0);case 35:case"end":return e.stop()}}),e,null,[[1,32]])}))),n.getTokenBalance=Object(u.a)(Object(d.a)().mark((function e(){var t,a,s,o,c;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.defaultAccount,a=n.state,s=a.tokenList,o=a.tokenMap,c=[],s.map((function(e){c.push(e.tokenAddress)})),!t){e.next=8;break}return e.next=7,Object(R.k)(t,c,o);case 7:n.setState({});case 8:case"end":return e.stop()}}),e)}))),n.showModal=Object(u.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.props.disabled){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n.props.sunSwapPool.getTokensDataFromLocal(),e.next=6,n.setTokenList((function(){var e=n.state.tokenStr;n.onTokenStrChange({target:{value:e}},(function(){n.setState({modalVisible:!0,defaultStatus:1})}))}));case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("tokenModal err",e.t0),n.setState({modalVisible:!0}),n.getTokenBalance();case 13:case"end":return e.stop()}}),e,null,[[2,8]])}))),n.calcItem=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t){var a,s,o,c,r,i,l,u,p;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=window.localStorage.getItem("swapVersion"),s=n.props.sunSwapPool.allExchanges,o=void 0===s?{}:s,c=C.a.contract.factory,r=C.a.sunContract.factory,i=o[0][t.tokenAddress]&&o[0][t.tokenAddress].e||null,l=o[1][t.tokenAddress]&&o[1][t.tokenAddress].e||null,i){e.next=22;break}return e.next=9,Object(R.l)(t.tokenAddress,c);case 9:if(!(u=e.sent)){e.next=21;break}if(t.addressV1=u,t.notCreatedV1=!1,"v1.0"!==a){e.next=19;break}return t.address=u,e.next=17,n.removeSolor(t);case 17:return e.next=19,n.addSolor(t);case 19:e.next=22;break;case 21:t.tokenAddress!==C.a.trxFakeAddress&&(t.notCreatedV1=!0);case 22:if(!t.addressV1||2!==t.cst){e.next=27;break}return e.next=25,Object(R.v)(t.addressV1);case 25:e.sent.gt(0)||t.tokenAddress===C.a.trxFakeAddress?t.notCreatedV1=!1:t.notCreatedV1=!0;case 27:if(l){e.next=43;break}return e.next=30,Object(R.l)(t.tokenAddress,r);case 30:if(!(p=e.sent)){e.next=42;break}if(t.addressV2=p,t.notCreatedV2=!1,"v1.5"!==a){e.next=40;break}return t.address=p,e.next=38,n.removeSolor(t);case 38:return e.next=40,n.addSolor(t);case 40:e.next=43;break;case 42:t.tokenAddress!==C.a.trxFakeAddress&&(t.notCreatedV2=!0);case 43:if(!t.addressV2||2!==t.cst){e.next=48;break}return e.next=46,Object(R.v)(t.addressV2);case 46:e.sent.gt(0)||t.tokenAddress===C.a.trxFakeAddress?t.notCreatedV2=!1:t.notCreatedV2=!0;case 48:return e.abrupt("return",t);case 49:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setTokenAddressCallback=function(){var e=n.state.selectSearchItem;n.setState({dealWarningVisible:!1}),n.props.onChange&&n.props.onChange(n.state.tokenMap[e.tokenAddress])},n.setTokenAddress=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t,a,s){var o,c,r,i,l,u,p,b,j,m,h,f,x,k;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.props.sunSwapPool,c=o.exchanges,r=void 0===c?{}:c,i=o.allExchanges,l=void 0===i?{}:i,!t||!n.state.tokenMap[t]){e.next=8;break}if("swap"!==s||!Object.keys(C.a.deflationToken).includes(t)){e.next=5;break}return n.setState({dealWarningVisible:!0,callbacks:n.setTokenAddressCallback,selectSearchItem:{tokenAddress:t}}),e.abrupt("return");case 5:n.props.onChange&&n.props.onChange(n.state.tokenMap[t]),e.next=35;break;case 8:if(!Object(E.t)(t)||!a){e.next=22;break}return e.next=11,W.a.tokenBrief(t);case 11:if(!(u=e.sent).success){e.next=20;break}if(!(p=u.data).tokenAddr){e.next=20;break}return b={tokenAddress:t,address:r[p.tokenAddr]&&r[p.tokenAddr].e||null,addressV1:l[0][p.tokenAddr]&&l[0][p.tokenAddr].e||null,addressV2:l[1][p.tokenAddr]&&l[1][p.tokenAddr].e||null,tokenSymbol:p.tokenSymbol,tokenLogoUrl:p.tokenLogo,tokenName:p.tokenName,tokenDecimal:p.tokenDecimal,cst:1,balance:"-"},e.next=18,n.calcItem(b);case 18:j=e.sent,n.setState({tokenBrief:j,solorModalVisible:!0});case 20:e.next=35;break;case 22:if(!Object(E.t)(t)){e.next=35;break}return e.next=25,W.a.tokenBrief(t);case 25:if(!(m=e.sent).success){e.next=35;break}if(!(h=m.data).tokenAddr){e.next=35;break}return f=window.localStorage.getItem("swapVersion"),x={tokenAddress:t,address:h.exchangeAddr,addressV1:"v1.0"===f?h.exchangeAddr:null,addressV2:"v1.5"===f?h.exchangeAddr:null,tokenSymbol:h.tokenSymbol,tokenLogoUrl:h.tokenLogo,tokenName:h.tokenName,tokenDecimal:h.tokenDecimal,cst:1,balance:"-"},e.next=33,n.calcItem(x);case 33:k=e.sent,n.setState({tokenBrief:k,solorModalVisible:!0});case 35:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.onChange=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t,a){var s,o;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.stopPropagation(),t.tokenAddress!==n.props.value){e.next=3;break}return e.abrupt("return");case 3:if(!n.props.fromPool||t.tokenAddress!==C.a.trxFakeAddress){e.next=5;break}return e.abrupt("return");case 5:if(1!==(s=n.props.type)&&2!==s||!Object.keys(C.a.deflationToken).includes(t.tokenAddress)){e.next=9;break}return n.setState({modalVisible:!1,dealWarningVisible:!0,callbacks:n.selectSearchCallback,selectSearchItem:t}),e.abrupt("return");case 9:return e.next=11,n.calcItem(t);case 11:o=e.sent,n.setState({modalVisible:!1}),n.props.onChange&&n.props.onChange(o);case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.selectSearchCallback=Object(u.a)(Object(d.a)().mark((function e(){var t,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.selectSearchItem,e.next=3,n.calcItem(t);case 3:a=e.sent,n.setState({dealWarningVisible:!1}),n.props.onChange&&n.props.onChange(a);case 6:case"end":return e.stop()}}),e)}))),n.hideModal=function(){1===n.state.defaultStatus?n.setState({modalVisible:!1,customTokenUriLeg:!0}):n.hideListModal()},n.onTokenStrChange=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t){var a,s,o,c,r,i,l,u,p,b,j,m,h,f,x,k=arguments;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=k.length>1&&void 0!==k[1]?k[1]:null,s=n.props.sunSwapPool,o=s.exchanges,c=void 0===o?{}:o,r=s.allExchanges,i=void 0===r?{}:r,e.prev=2,l=t.target.value,u=n.state.allTokenList,p=[],b=n.state.tokenSort,!(l.length>1)){e.next=31;break}if(!Object(E.t)(l)){e.next=27;break}if(p=u.filter((function(e){return e.tokenAddress===l.trim()})),0!==p.length){e.next=25;break}return e.next=13,W.a.tokenBrief(l);case 13:if(!(j=e.sent).success){e.next=25;break}if(m=window.defaultAccount,h=j.data,f="-",!m){e.next=22;break}return e.next=21,Object(R.A)(m,[l],n.state.tokenMap);case 21:f=e.sent;case 22:x={tokenAddress:l,address:c[h.tokenAddr]&&c[h.tokenAddr].e||null,addressV1:i[0][h.tokenAddr]&&i[0][h.tokenAddr].e||null,addressV2:i[1][h.tokenAddr]&&i[1][h.tokenAddr].e||null,tokenSymbol:h.tokenSymbol,tokenLogoUrl:h.tokenLogo,tokenName:h.tokenName,tokenDecimal:h.tokenDecimal,cst:1,balance:"-"==f?"-":Object(E.k)(f,2)},p.push(x),u.push(x);case 25:e.next=29;break;case 27:p=u.filter((function(e){return e.tokenSymbol.toLowerCase().indexOf(l.toLowerCase())>-1&&1!==Number(e.cst)})),b&&(p=p.sort((function(e,t){var a=e.tokenSymbol.toLowerCase(),n=t.tokenSymbol.toLowerCase();return a<n?-1:a>n?1:0})));case 29:e.next=33;break;case 31:p=u.slice().filter((function(e){return 1!==Number(e.cst)})),b&&(p=p.sort((function(e,t){var a=e.tokenSymbol.toLowerCase(),n=t.tokenSymbol.toLowerCase();return a<n?-1:a>n?1:0})));case 33:n.setState({tokenStr:l,tokenList:p},(function(){a&&a(),n.getTokenBalance()})),e.next=39;break;case 36:e.prev=36,e.t0=e.catch(2),console.log("onTokenStrChange: ",e.t0);case 39:case"end":return e.stop()}}),e,null,[[2,36]])})));return function(t){return e.apply(this,arguments)}}(),n.clearStorage=function(){var e=C.a.localStorage;for(var t in e)window.localStorage.removeItem(e[t]);window.location.reload()},n.showListModal=function(){n.setState({defaultStatus:2})},n.hideListModal=function(){n.setState({defaultStatus:1})},n.selectTokenList=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.props.sunSwapPool.selectedListUrl,n.props.sunSwapPool.setData({selectedListUrl:t}),n.props.sunSwapPool.setTokensDataIntoLocal(),e.next=6,n.setTokenList((function(){n.setState({defaultStatus:1});var e=n.state.tokenStr;n.onTokenStrChange({target:{value:e}})}));case 6:n.props.sunSwapPool.handleNotifiction(),n.props.sunSwapPool.setTokensDataIntoLocal(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),n.backTokensCategory=function(){n.setState({changeStatus:1})},n.onTokenUriChange=function(e){try{var t=e.target.value;n.setState({customTokenUri:t.trim(),errInfo:""})}catch(a){console.log(a)}},n.checkUrl=function(e){return e||(k.a.get("sunSwap.list.err1"),Object(D.a)("errInfo")),""},n.isListsOver=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).length>=C.a.maxLists},n.addCustomTokens=Object(u.a)(Object(d.a)().mark((function e(){var t,a,s,o,c,r,i,l,u,p,b;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=n.state.customTokenUri,a="",Object(E.u)(t)){e.next=7;break}return a=k.a.get("sunSwap.list.add_failed_tip"),n.setState({errInfo:a}),e.abrupt("return");case 7:if(s=n.props.sunSwapPool.byUrl,!(o=void 0===s?{}:s)[t]||o[t].rs){e.next=12;break}return a=k.a.get("sunSwap.list.exists"),n.setState({errInfo:a}),e.abrupt("return");case 12:if(!n.isListsOver(o)){e.next=16;break}return a=k.a.getHTML("list.lists_over",{value:C.a.maxLists}),n.setState({errInfo:a}),e.abrupt("return");case 16:return e.next=18,W.a.getTokenListJson(t);case 18:if(c=e.sent,r=c.tokens,!((void 0===r?[]:r).length>C.a.maxTokens)){e.next=24;break}return a=k.a.getHTML("list.tokens_over",{value:C.a.maxTokens}),n.setState({errInfo:a}),e.abrupt("return");case 24:if(i=Object(E.I)(c),l=i.key,u=void 0===l?"":l,p=i.valid,void 0!==p&&p){e.next=29;break}return a=k.a.get("sunSwap.list.add_err_tip",{value:u}),n.setState({errInfo:a}),e.abrupt("return");case 29:return n.props.sunSwapPool.updateTokensData(t,Object(T.a)(Object(T.a)({},c),{},{uri:t,rs:0})),e.next=32,n.setTokenList((function(){n.setState({defaultStatus:1,customTokenUri:""});var e=n.state.tokenStr;n.onTokenStrChange({target:{value:e}})}));case 32:e.next=39;break;case 34:e.prev=34,e.t0=e.catch(0),b=k.a.get("sunSwap.list.add_failed_retry"),n.setState({errInfo:b}),console.log(e.t0);case 39:case"end":return e.stop()}}),e,null,[[0,34]])}))),n.updateList=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t){var a,s,o;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.uri,s=n.props.sunSwapPool.byUrlNew,o=(void 0===s?{}:s)[a],Object(E.g)(o,Object(u.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.sunSwapPool.updateByUrl(o);case 2:n.setState({});case 3:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.hideRemoveModal=function(){n.setState({removeId:"",removeModalVisible:!1,removeText:""})},n.showRemoveModal=function(e){try{n.setState({removeId:e.uri,removeModalVisible:!0})}catch(t){console.log(t)}},n.removeTokens=function(){try{var e=n.state,t=e.removeId,a=e.removeText;if(!t)return;if(a.trim()!=K)return;var s=n.props.sunSwapPool.byUrl,o=(void 0===s?{}:s)[t],c=o.cst,r=void 0!==c&&c,i=o.uri,l=void 0===i?"":i;r?n.props.sunSwapPool.deleteByUrlById(l):(o.rs=1,n.props.sunSwapPool.updateByUrl(o)),n.hideRemoveModal()}catch(d){console.log(d)}},n.inputRemoveText=function(e){var t=e.target.value;n.setState({removeText:t})},n.addSolor=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t){var a,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=n.props.sunSwapPool.solor,s=void 0===a?[]:a,!(I.a.findIndex(s,(function(e){return e.tokenAddress===t.tokenAddress}))>=0)){e.next=5;break}return e.abrupt("return");case 5:return s.unshift(Object(T.a)(Object(T.a)({},t),{},{cst:2})),n.props.sunSwapPool.setData({solor:s}),e.next=9,n.setTokenList((function(){var e=n.state.tokenStr;n.onTokenStrChange({target:{value:e}},(function(){n.getTokenBalance()}))}));case 9:window.localStorage.setItem("solor",JSON.stringify(s)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),n.removeSolor=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t){var a,s,o;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.tokenAddress!==n.props.value&&t.tokenAddress!==n.props.switchValue){e.next=3;break}return e.abrupt("return");case 3:return a=n.props.sunSwapPool.solor,s=void 0===a?[]:a,o=t.tokenAddress,I.a.remove(s,(function(e){return e.tokenAddress===o})),n.props.sunSwapPool.setData({solor:s}),e.next=9,n.setTokenList((function(){var e=n.state.tokenStr;n.onTokenStrChange({target:{value:e}},(function(){n.getTokenBalance()}))}));case 9:window.localStorage.setItem("solor",JSON.stringify(s)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),n.getKeys=function(e){try{return Object.keys(e).sort((function(t,a){return e[t].name>e[a].name?1:-1}))}catch(t){return[]}},n.tokenSortByAsCII=function(e){try{var t=n.state.tokenList;if(e=!e){var a=t.sort((function(e,t){var a=e.tokenSymbol.toLowerCase(),n=t.tokenSymbol.toLowerCase();return a<n?-1:a>n?1:0})),s=I.a.findIndex(a,(function(e){return e.tokenAddress===C.a.trxFakeAddress}));if(s>=0){var o=a.splice(s,1);a.unshift(o[0])}n.setState({tokenList:a})}else n.setTokenList((function(){var e=n.state.tokenStr;n.onTokenStrChange({target:{value:e}},(function(){n.getTokenBalance()}))}));n.setState({tokenSort:e})}catch(c){console.log(c)}},n.comfirmContinue=Object(u.a)(Object(d.a)().mark((function e(){var t,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=n.state,a=t.tokenBrief,t.checkStatus){e.next=4;break}return e.abrupt("return");case 4:if(!Object.keys(C.a.deflationToken).includes(a.tokenAddress)){e.next=7;break}return n.setState({solorModalVisible:!1,dealWarningVisible:!0,callbacks:n.dealWarningCallback}),e.abrupt("return");case 7:return e.next=9,n.addSolor(a);case 9:n.setState({solorModalVisible:!1}),n.props.onChange&&n.props.onChange(a),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),n.setState({dealWarningVisible:!1,solorModalVisible:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),n.dealWarningCallback=Object(u.a)(Object(d.a)().mark((function e(){var t;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState({dealWarningVisible:!1}),t=n.state.tokenBrief,e.next=5,n.addSolor(t);case 5:n.setState({solorModalVisible:!1}),n.props.onChange&&n.props.onChange(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),n.setState({dealWarningVisible:!1,solorModalVisible:!1});case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),n.changeCheckStatus=function(e){n.setState({checkStatus:e.target.checked})},n.renderSelectedList=function(e,t,a,s,o){var c=n.state,r=c.tokenSort,i=c.tokenMap;return e&&t&&e[t]?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("input",{className:"select-search",type:"text",placeholder:k.a.get("sunSwap.tokens.select_placeholder_text"),value:a,onChange:n.onTokenStrChange}),Object(z.jsxs)("div",{className:"title flexB",children:[Object(z.jsx)("span",{className:"text",children:k.a.get("sunSwap.tokens.select_tokenName_title")}),Object(z.jsx)("span",{className:"sort "+(r?"active":""),onClick:function(){return n.tokenSortByAsCII(r)}})]}),Object(z.jsx)("div",{className:"itemList",children:0===o.length?Object(z.jsx)("div",{className:"no-token-fund",children:k.a.get("sunSwap.tokens.loading_tokens")}):s.length?s.map((function(e,t){return Object(z.jsxs)("div",{className:"flex item "+(e.tokenAddress===n.props.value||e.tokenAddress===n.props.switchValue?"opac":""),onClick:function(t){return n.onChange(e,t)},children:[Object(z.jsxs)("div",{className:"a-center",children:[Object(z.jsx)("img",{src:e.tokenLogoUrl,alt:"",onError:function(e){e.target.onerror=null,e.target.src=U.a}}),Object(z.jsxs)("div",{className:"searchRes left",children:[Object(z.jsxs)("span",{className:"item-content",children:[e.tokenSymbol,n.props.fromPool?"":n.props.asInput?e.tokenAddress===n.props.value&&" (".concat(k.a.get("sunSwap.tokens.selected_as_input"),")")||e.tokenAddress===n.props.switchValue&&" (".concat(k.a.get("sunSwap.tokens.selected_as_output"),")"):e.tokenAddress===n.props.value&&" (".concat(k.a.get("sunSwap.tokens.selected_as_output"),")")||e.tokenAddress===n.props.switchValue&&" (".concat(k.a.get("sunSwap.tokens.selected_as_input"),")")]}),1===e.cst&&Object(z.jsxs)("div",{className:"item-content solor-detail",children:[Object(z.jsx)("span",{children:k.a.get("sunSwap.list.search_by_addr")}),Object(z.jsxs)("span",{className:"ib",onClick:function(t){t.stopPropagation(),n.addSolor(e)},children:["(",k.a.get("sunSwap.list.add"),")"]})]}),2===e.cst&&Object(z.jsxs)("div",{className:"item-content solor-detail",children:[Object(z.jsx)("span",{children:k.a.get("sunSwap.list.add_by_user")}),Object(z.jsxs)("span",{className:"solor-remove ib",onClick:function(t){t.stopPropagation(),n.removeSolor(e)},children:["(",k.a.get("sunSwap.list.remove_token"),")"]})]})]})]}),e.tokenAddress===C.a.trxFakeAddress?Object(z.jsx)("div",{children:Object(z.jsx)("p",{children:Object(E.l)(i[e.tokenAddress]?i[e.tokenAddress].balance:e.balance)})}):Object(z.jsxs)("div",{className:"inline-flex balanceAndAddr",children:[Object(z.jsx)("p",{children:i[e.tokenAddress]&&!isNaN(i[e.tokenAddress].balance)?Object(E.l)(i[e.tokenAddress].balance):"--"}),Object(z.jsx)("p",{children:Object(O.a)(window.navigator).any?Object(E.j)(e.tokenAddress,4,4):Object(E.j)(e.tokenAddress,8,10)})]})]},e.tokenAddress+t)})):Object(z.jsx)("div",{className:"no-token-fund",children:k.a.getHTML("list.no_token_found")})}),Object(z.jsxs)("div",{className:"list-switch flexB",children:[Object(z.jsxs)("div",{className:"list-switch-name",children:[Object(z.jsx)("img",{src:e[t].logoURI,alt:""}),Object(z.jsx)("span",{children:e[t].name||""})]}),Object(z.jsx)("button",{className:"list-switch-btn",onClick:function(){return n.showListModal()},children:k.a.get("sunSwap.list.switch")})]})]}):Object(z.jsx)(z.Fragment,{})},n.renderUpdateListItem=function(e){var t=n.props.sunSwapPool.byUrlNew,a=void 0===t?{}:t,s=e.version,o=void 0===s?{}:s,c=a[e.uri]||{},r=c.version||{},i=Object(E.f)(o,r),l=Object(E.e)(e,c).success,d=void 0!==l&&l;return!I.a.isEqual(c,{})&&i&&d&&Object(z.jsx)(L.a.Item,{onClick:function(){n.updateList(e)},children:k.a.get("sunSwap.list.update")})},n.adjustAndroid=function(e){var t=Object(E.d)(e);n.setState({adjust:t})},n.renderTokensCategory=function(){var e=n.state,t=e.customTokenUri,a=e.lang,s=e.errInfo,o=n.props.sunSwapPool,c=o.byUrl,r=o.selectedListUrl,i=n.getKeys(c);return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("ul",{className:"list-list",children:[c&&i.length&&i.map((function(e){var t=c[e];return!t.rs&&Object(z.jsxs)("li",{className:"flex",children:[Object(z.jsxs)("div",{className:"drop-parent flexB w-80",children:[Object(z.jsxs)("div",{className:"left flex",children:[Object(z.jsx)("img",{src:t.logoURI,alt:"",className:"logo"}),Object(z.jsxs)("div",{children:[Object(z.jsx)("div",{className:"name",children:t.name}),Object(z.jsx)("div",{className:"source",children:Object(E.n)(t.uri)})]})]}),Object(z.jsx)(B.a,{trigger:"click",placement:"bottomRight",overlay:Object(z.jsx)(L.a,{children:Object(z.jsxs)(L.a.ItemGroup,{title:Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{className:"key",children:k.a.get("sunSwap.list.version")}),Object(z.jsx)("span",{className:"value",children:Object(E.s)(t.version)})]}),children:[Object(z.jsxs)(L.a.Item,{children:[" ",Object(z.jsx)("a",{href:"".concat(C.a.justList,"?lang=").concat(a,"#/detail?uri=").concat(t.uri),target:t.uri||"_blank",children:k.a.get("sunSwap.list.view")})]}),n.renderUpdateListItem(t),t.uri!==r&&Object(z.jsx)(L.a.Item,{onClick:function(){n.showRemoveModal(t)},children:k.a.get("sunSwap.list.remove")})]})}),children:Object(z.jsx)("a",{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()}})})]}),Object(z.jsx)("div",{className:"right",children:Object(z.jsx)("button",{className:String(r)===String(t.uri)?"selected":"",onClick:function(){return n.selectTokenList(e)},children:String(r)===String(t.uri)?k.a.get("sunSwap.list.selected"):k.a.get("sunSwap.list.select")})})]},t.name+"_"+e)})),Object(z.jsx)("div",{className:"list-more",children:Object(z.jsx)("a",{href:"en-US"===a?C.a.moreList.en:C.a.moreList.zh,target:"_blank",children:k.a.get("sunSwap.more.more")})})]}),Object(z.jsx)("div",{className:"list-add",children:Object(z.jsxs)("div",{className:"list-input-line flex",children:[Object(z.jsx)(P.a,{type:"text",className:"list-input w-80",placeholder:"https://",value:t,onChange:n.onTokenUriChange,onFocus:function(){return n.adjustAndroid(!0)},onBlur:function(){return n.adjustAndroid(!1)}}),Object(z.jsx)("div",{className:"right",children:Object(z.jsx)("button",{onClick:n.addCustomTokens,disabled:!t.trim(),children:k.a.get("sunSwap.list.add_list")})})]})}),!!s&&Object(z.jsxs)("div",{className:"list-add-errTip",children:[Object(z.jsx)("span",{className:"icon",children:"!"}),Object(z.jsx)("span",{className:"text",children:s})]}),Object(z.jsx)("div",{className:"list-footer",children:Object(z.jsx)("a",{href:"".concat(C.a.justList,"?lang=").concat(a,"#/home"),className:"link",target:"justList",children:k.a.get("sunSwap.list.view_list_home")})})]})},n.hideSolorModal=function(){n.setState({solorModalVisible:!1})},n.state={lang:window.localStorage.getItem("lang")||k.a.options.currentLocale,modalVisible:!1,tokenStr:"",allTokenList:[],tokenList:[],tokenMap:Object(y.a)({},C.a.trxFakeAddress,{tokenAddress:C.a.trxFakeAddress,address:"",addressV1:"",addressV2:"",tokenSymbol:"TRX",tokenLogoUrl:H.a,tokenName:"TRX",tokenDecimal:C.a.trxDecimal,removeText:""}),defaultStatus:1,removeModalVisible:!1,removeText:"",removeId:"",solor:JSON.parse(window.localStorage.getItem("solor")||"[]"),customTokenUri:"",customTokenUriLeg:!0,errInfo:"",tokenSort:!1,solorModalVisible:!1,tokenBrief:{},checkStatus:!1,dealWarningVisible:!1,selectSearchItem:""},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.tokenList,n=(t.tokenMap,t.tokenStr),s=t.allTokenList,o=t.defaultStatus,c=t.removeText,r=t.removeModalVisible,i=t.adjust,l=t.solorModalVisible,d=t.tokenBrief,u=t.checkStatus,p=t.dealWarningVisible,b=t.callbacks,j=t.selectSearchItem,m=this.props,h=m.value,x=m.tokenInfo,O=this.props.sunSwapPool,g=O.byUrl,v=O.selectedListUrl;return Object(z.jsxs)(f.a.Fragment,{children:[Object(z.jsx)("p",{className:"dragDown "+(this.props.disabled?"no-bg":""),onClick:this.showModal,children:h&&x?Object(z.jsxs)(f.a.Fragment,{children:[Object(z.jsx)("img",{src:x.tokenLogoUrl||U.a,alt:"",onError:function(e){e.target.onerror=null,e.target.src=U.a}}),Object(z.jsx)("span",{children:x.tokenSymbol})]}):k.a.get("sunSwap.tokens.add_choose_select")}),this.props.disabled?null:Object(z.jsx)(_.a,{title:1===o?Object(z.jsx)(q.a,{tip:k.a.get("sunSwap.tokens.add_choose_select_tip"),toolClass:"select-ib left",children:Object(z.jsx)("span",{className:"add-title",children:k.a.get("sunSwap.tokens.add_choose_select")})}):Object(z.jsxs)("div",{className:"list-modal-header",children:[Object(z.jsx)("img",{src:X.a,alt:"",onClick:function(){return e.hideListModal()}}),Object(z.jsx)("span",{className:"add-title",children:k.a.get("sunSwap.list.select_list")})]}),closable:!0,visible:this.state.modalVisible,onCancel:this.hideModal,className:"select-modal sun-swap-modal "+(1===o?"":"list-modal "+(i?"adjust":"")),footer:null,width:630,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:1===o?this.renderSelectedList(g,v,n,a,s):this.renderTokensCategory()}),Object(z.jsxs)(_.a,{title:"",closable:!1,visible:r,footer:null,style:{marginLeft:Object(E.v)()},width:420,className:"list-remove-modal sun-swap-modal",transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:[Object(z.jsx)("div",{className:"title",children:k.a.get("sunSwap.list.remove_confirm")}),Object(z.jsx)("div",{className:"tips",children:k.a.get("sunSwap.list.remove_confirm_tip")}),Object(z.jsx)("input",{type:"text",className:"list-input w-80",value:c,onChange:this.inputRemoveText}),Object(z.jsxs)("div",{className:"btns",children:[Object(z.jsx)("button",{onClick:this.removeTokens,disabled:c.trim()!==K,children:k.a.get("sunSwap.list.confirm")}),Object(z.jsx)("button",{onClick:this.hideRemoveModal,children:k.a.get("sunSwap.list.cancel")})]})]}),Object(z.jsx)(_.a,{title:k.a.get("sunSwap.list.add_token"),closable:!1,visible:l,footer:null,style:{marginLeft:Object(E.v)(500)},width:525,className:"list-addtoken-modal sun-swap-modal",centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:Object(z.jsxs)("div",{className:"solor-modal-body",children:[Object(z.jsxs)("div",{className:"tips",children:[Object(z.jsx)("div",{className:"tips1",children:k.a.get("sunSwap.list.add_token_tip1")}),Object(z.jsx)("div",{className:"tips1",children:k.a.get("sunSwap.list.add_token_tip2")}),Object(z.jsx)("div",{className:"tips1",children:k.a.get("sunSwap.list.add_token_tip3")})]}),Object(z.jsxs)("div",{className:"token-info flex",children:[Object(z.jsx)("div",{className:"logo",children:Object(z.jsx)("img",{src:d.tokenLogoUrl?d.tokenLogoUrl:U.a})}),Object(z.jsxs)("div",{className:"info",children:[Object(z.jsxs)("div",{className:"symbol",children:[d.tokenName,"(",d.tokenSymbol,")"]}),Object(z.jsxs)("div",{className:"addr",children:[Object(z.jsx)("span",{children:d.tokenAddress}),Object(z.jsx)("span",{className:"pointer",title:d.tokenAddress,id:"copySpan",onClick:function(e){Object(E.i)(e,"5px","copySpan")},children:Object(z.jsx)(M.a,{})})]})]})]}),Object(z.jsx)("div",{className:"check-box"+(u?" checked":""),children:Object(z.jsx)(F.a,{onChange:this.changeCheckStatus,children:k.a.get("sunSwap.list.add_token_tip4")})}),Object(z.jsx)("div",{className:"btns",children:Object(z.jsx)("button",{onClick:this.comfirmContinue,className:u?"button-active":"",children:k.a.get("sunSwap.list.continue")})})]})}),p&&Object(z.jsx)(J.a,{visible:p,cb:b,dealWarningSymbol:d.tokenAddress||j.tokenAddress})]})}}]),a}(f.a.Component))||n,G=Q,Y=a(887),Z=a(961),$=a(923),ee=(a(1014),a(894),a(1010)),te=a(1144),ae=a(924),ne=Object(g.b)("sunSwapNetwork")(s=Object(g.b)("sunSwapPool")(s=Object(g.b)("network")(s=Object(g.c)(s=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(u.a)(Object(d.a)().mark((function e(){var t,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.props.sunSwapPool.setData({addRef:n.toTokenRef}),t=setInterval((function(){n.props.network.isConnected&&(n.timer=setInterval((function(){n.selectedToken(n.props.sunSwapPool.tokenInfo,!0)}),6e3),n.selectedToken(n.props.sunSwapPool.tokenInfo,!1),clearInterval(t))}),1e3),n.getTokenBalance(),a=Object(O.a)(window.navigator).apple.device,n.setState({appleDevice:a}),e.next=8,n.toTokenRef.current.setTokenList();case 8:n.toTokenRef.current.setTokenAddress(n.props.sunSwapPool.tokenInfo.tokenAddress),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])}))),n.componentWillUnmount=function(){clearInterval(n.timer)},n.initInputData=function(){n.setState({tokenOneValueStr:"",tokenTwoValueStr:"",tokenOneValue:new E.a(0),tokenTwoValue:new E.a(0),versionChanged:!0},(function(){n.selectedToken(n.props.sunSwapPool.tokenInfo)}))},n.getTokenBalance=Object(u.a)(Object(d.a)().mark((function e(){var t,a,s,o,c,r,i;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.props.network.isConnected){e.next=15;break}return t=n.props.sunSwapPool.tokenInfo,a=n.props.network.defaultAccount,s=n.state.fromToken,e.next=6,Object(R.i)(a,[s.tokenAddress]);case 6:if(o=e.sent,(c=o[0].div(new E.a(10).pow(s.tokenDecimal))).eq(n.state.fromBalance)||n.setState({fromBalance:c,fromBalanceStr:c._toFixed(6,1)},(function(){n.calcEh()})),!t.tokenAddress){e.next=15;break}return e.next=12,Object(R.i)(a,[t.tokenAddress]);case 12:r=e.sent,i=r[0].div(new E.a(10).pow(t.tokenDecimal)),isNaN(i.toNumber())||i.eq(n.state.toBalance)||n.setState({toBalance:i,toBalanceStr:i._toFixed(6,1)},(function(){n.calcEh()}));case 15:case"end":return e.stop()}}),e)}))),n.setInsufficient=function(e,t,a){e<=t?n.setState({insufficientBalance:""}):n.setState({insufficientBalance:a})},n.calcEh=function(){var e=n.props.sunSwapPool,t=e.tokenInfo,a=e.tokenDetail,s=e.selectTokenOne,o=e.tokenTwoFixed,c=n.state,r=c.fromBalance,i=c.toBalance,l=c.noPoolBalance,d=Object(E.D)(document.querySelector(".token-sec-input-1").value),u=Object(E.D)(document.querySelector(".token-sec-input-2").value);if(d.gt(r)||d.lt(C.a.firstTRXLimit)&&0!==l&&!o?n.setState({insufficientBalance:s.tokenSymbol}):u.gt(i)||isNaN(i.toNumber())?n.setState({insufficientBalance:t.tokenSymbol}):n.setState({insufficientBalance:""}),d.gt(0)&&a.exTrx.gt(0)){var p=a.exTrx;n.setState({calcStatus:!0,shareOfPool:d.div(d.plus(p)).times(100)},(function(){}))}else"--"===a.price1&&d.toNumber()>0&&u.toNumber()>0?n.setState({calcStatus:!0,shareOfPool:new E.a(100)}):n.setState({calcStatus:!1,shareOfPool:new E.a(0)})},n.setInputValue=function(e,t,a){var s;s=t?{num:new E.a(t.num),str:t.str,baseTwo:!1}:{num:new E.a(-1),str:"",baseTwo:!0};var o=n.props.sunSwapPool,c=o.tokenInfo,r=o.tokenDetail,i=n.state,l=i.tokenTwoValue,d=i.tokenOneValue;i.needCreate;if(c.tokenAddress&&""!==c.tokenAddress&&"--"!==r.price1){if(2===e){var u=l;s.num.eq(-1)||(u=s.num);var p=u.times(r.price1)._toFixed(C.a.trxDecimal,1),b=n.state.fromBalance;Object(E.D)(p).gt(b)&&a?n.setMaxFrom("TRX"):n.setState({tokenTwoValue:u,tokenTwoValueStr:Object(E.b)(s.str||l.toString()),tokenOneValue:Object(E.D)(p),tokenOneValueStr:Object(E.b)(p)},(function(){n.calcEh()}))}else if(1===e){var j=d;s.num.eq(-1)||(j=s.num);var m=j.div(r.price1),h="";m.gt(0)&&(h=m._toFixed(Number(c.tokenDecimal),1));var f=s.str||d.toString(),x=n.state.toBalance;Object(E.D)(h).gt(x)&&a?n.setMaxFrom("token"):n.setState({tokenOneValue:j,tokenOneValueStr:Object(E.b)(f),tokenTwoValue:Object(E.D)(h),tokenTwoValueStr:Object(E.b)(h)},(function(){n.calcEh()}))}}else 1===e&&n.setState({tokenOneValue:s.num,tokenOneValueStr:Object(E.b)(s.str)},(function(){n.calcEh()})),2===e&&n.setState({tokenTwoValue:s.num,tokenTwoValueStr:Object(E.b)(s.str)},(function(){n.calcEh()}))},n.initTokenDetail=function(e){n.props.sunSwapPool.setData({tokenDetail:{trx:new E.a(0),value:new E.a(0),tokens:new E.a(0),price1:"--",price2:"--",exTrx:new E.a(0),totalSupply:new E.a(0)}}),"createdNoBalance"!==e&&n.setState({createTxt:k.a.get("sunSwap.pool.create_pair_btn"),createState:"",approveTxt:k.a.get("sunSwap.pool.add_approve_btn"),approveState:"",supplyTxt:k.a.get("sunSwap.pool.add_supply_btn"),supplyState:""})},n.selectedToken=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t){var a,s,o,c,r,i,l,u,p,b,j,m,h,f,x,k,O,g,v,w,S,A,N,y,_=arguments;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=_.length>1&&void 0!==_[1]&&_[1],t.tokenAddress){e.next=3;break}return e.abrupt("return");case 3:if(s=Object(T.a)({},t),o=n.state,c=o.fromOrTo,r=o.tokenOneValue,i=o.tokenOneValueStr,l=o.tokenTwoValue,u=o.tokenTwoValueStr,a||(c=0,r=new E.a(0),l=new E.a(0),i="",u="",n.setState({tokenOneValueStr:i,tokenTwoValueStr:u,tokenOneValue:r,tokenTwoValue:l,fromOrTo:0,calcStatus:!1}),n.props.sunSwapPool.setData({tokenInfo:Object(T.a)(Object(T.a)({},s),{},{address:""})})),1!==c||n.state.versionChanged){e.next=11;break}if(r.gt(0)){e.next=9;break}return e.abrupt("return");case 9:e.next=14;break;case 11:if(2!==c||n.state.versionChanged){e.next=14;break}if(l.gt(0)){e.next=14;break}return e.abrupt("return");case 14:if(n.props.network.isConnected){e.next=16;break}return e.abrupt("return");case 16:return p=n.props.network.defaultAccount,e.next=19,Object(R.m)(p,s.tokenAddress);case 19:b=e.sent,j=b.exchangeAddr,m=b.allowance,h=b.exTokenBalance,f=b.exTrxBalance,x=b.totalLiquidity,k=b.userLiquidity,O=b.userTrxBalance,g=b.userTokenBalance,v=b.success,a||n.props.sunSwapPool.setData({tokenInfo:Object(T.a)(Object(T.a)({},s),{},{address:j})}),v?j?(n.setState({networkError:!1}),a?(w=!0,n.state.approvedAmount.gte(n.state.tokenTwoValue)&&(w=!1),n.setState({poolIsExist:0,needApprove:w})):(n.setState({poolIsExist:0,noPoolBalance:0,needCreate:!1}),n.setState({poolIsExist:0,approvedAmount:m.div(new E.a(10).pow(s.tokenDecimal))})),S="--",A="--",x.gt(0)?(N=f.div(new E.a(10).pow(C.a.trxDecimal)),y=h.div(new E.a(10).pow(s.tokenDecimal)),S=N.div(y),A=y.div(N),a&&n.setInputValue(n.state.fromOrTo),(n.props.sunSwapPool.tokenInfo.address===j||n.state.versionChanged)&&(n.setState({noPoolBalance:0}),n.props.sunSwapPool.setData({tokenDetail:{trx:new E.a(O).div(new E.a(10).pow(C.a.trxDecimal)),value:new E.a(g).div(new E.a(10).pow(s.tokenDecimal)),tokens:new E.a(k).div(new E.a(10).pow(C.a.trxDecimal)),totalSupply:new E.a(x).div(new E.a(10).pow(C.a.trxDecimal)),price1:S,price2:A,exTrx:N,exToken:y}}))):(n.setState({noPoolBalance:1}),a||n.initTokenDetail("createdNoBalance"))):(n.setState({networkError:!1}),n.setState({poolIsExist:1,noPoolBalance:-1,needCreate:!0}),a||n.initTokenDetail()):n.setState({networkError:!0}),n.getTokenBalance();case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.judgeIssues=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t,a,s){var o,c,r,i,l,u,p,b,j,m;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.fromOrTo=a,o=n.state.fromBalanceStr,c=n.props.sunSwapPool,r=c.selectTokenOne,i=c.tokenInfo,l={},!t){e.next=15;break}if(u=6,u=1===a?6:i.tokenDecimal,p=Object(E.w)((""+t).replace(/,/g,""),u),b=p.valid,j=p.str,!b){e.next=14;break}t=j,l.num=j,l.str=t,e.next=15;break;case 14:return e.abrupt("return");case 15:m=o,""!==t?""===i.tokenSymbol?(1===a&&(n.setState({tokenTwoValue:new E.a(0),tokenOneValue:new E.a(l.num),tokenOneValueStr:Object(E.b)(t),tokenTwoValueStr:""}),n.setInsufficient(l.num,m,r.tokenSymbol)),2===a&&n.setState({tokenOneValue:new E.a(0),tokenTwoValue:new E.a(l.num),tokenTwoValueStr:Object(E.b)(t),tokenOneValueStr:""})):(1===a&&n.setState({tokenOneValue:new E.a(l.num),tokenOneValueStr:Object(E.b)(t)}),2===a&&n.setState({tokenTwoValue:new E.a(l.num),tokenTwoValueStr:Object(E.b)(t)}),n.setInputValue(a,l,s)):(n.setState({calcStatus:!1,shareOfPool:new E.a(0)}),n.setState({tokenTwoValue:new E.a(0),tokenOneValue:new E.a(0),tokenOneValueStr:"",tokenTwoValueStr:""}));case 17:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.setMaxFrom=function(e){var t=n.state,a=t.fromBalance,s=t.toBalance,o=t.poolIsExist,c=t.noPoolBalance,r=(t.needCreate,n.props.sunSwapPool.tokenInfo),i=a;i.gt(0)&&s.gt(0)||(i=Object(E.a)(0),s=Object(E.a)(0)),"TRX"===e?((1!==o&&1!==c||""===r.tokenAddress)&&n.setState({tokenTwoValue:s,tokenTwoValueStr:Object(E.b)(s.toString())}),n.setState({tokenOneValue:i,tokenOneValueStr:Object(E.b)(i.toString())},(function(){n.calcEh()})),s.gt(0)&&n.judgeIssues(i,1,!0)):"token"===e&&((1!==o&&1!==c||""===r.tokenAddress)&&n.setState({tokenOneValue:i,tokenOneValueStr:Object(E.b)(i.toString())}),n.setState({tokenTwoValue:s,tokenTwoValueStr:Object(E.b)(s.toString())},(function(){n.calcEh()})),s.gt(0)&&n.judgeIssues(s,2,!0))},n.exchangeInfo=function(){var e=n.state,t=e.poolIsExist,a=e.shareOfPool,s=e.noPoolBalance,o=e.tokenOneValue,c=e.tokenTwoValue,r=n.props.sunSwapPool,i=r.tokenInfo,l=r.tokenDetail,d="--",u="--";"--"!==l.price1&&(d=l.price1._toFixed(4,1)),"--"!==l.price2&&(u=l.price2._toFixed(4,1)),c.gt(0)&&o.gt(0)&&(1===t||1===s)&&(d=o.div(c),u=c.div(o));var p="--",b="--";p="--"===d?d:Object(E.a)(d).lt(1e-4)?"< 0.0001":Object(E.a)(d)._toFixed(4,1),"--"===u||(b=Object(E.a)(u).lt(1e-4)?"< 0.0001":Object(E.a)(u)._toFixed(4,1));var j=a._toFixed(2,1);return isNaN(j)?j="--":a.gt(0)&&a.lt(.01)&&(j="<0.01"),Object(z.jsxs)(f.a.Fragment,{children:[Object(z.jsx)("div",{className:"flex justify-content price-chart-wrap align-items-center",style:{paddingBottom:0,paddingTop:"20px"},children:Object(z.jsxs)("div",{className:"token-pairs",children:[Object(z.jsxs)("div",{className:"sun-swap-normal-1",children:[k.a.get("sunSwap.swap.detail_token_info")," "]}),Object(z.jsx)("div",{children:Object(z.jsx)(f.a.Fragment,{children:Object(E.G)(Object(z.jsxs)(f.a.Fragment,{children:[Object(z.jsx)("img",{src:i.tokenLogoUrl?i.tokenLogoUrl:U.a,alt:"logo",onError:function(e){e.target.onerror=null,e.target.src=U.a}}),Object(z.jsx)("span",{className:"sun-swap-link-1",children:i.tokenSymbol})]}),i.tokenAddress)})})]})}),Object(z.jsxs)("div",{children:[Object(z.jsxs)("div",{className:"action-info",children:[Object(z.jsx)("div",{className:"info-title sun-swap-normal-1",children:1===t||1===s?k.a.get("sunSwap.pool.create_initial_title"):k.a.get("sunSwap.pool.add_price_title")}),Object(z.jsxs)("div",{className:"info-detail flex",children:[Object(z.jsxs)("div",{className:"left",children:[Object(z.jsx)("p",{children:k.a.get("sunSwap.pool.add_unit_text",{toToken:i.tokenSymbol?i.tokenSymbol:"--",fromToken:"TRX"})}),Object(z.jsx)("p",{children:p})]}),Object(z.jsxs)("div",{className:"left",children:[Object(z.jsx)("p",{children:k.a.get("sunSwap.pool.add_unit_text",{toToken:"TRX",fromToken:i.tokenSymbol?i.tokenSymbol:"--"})}),Object(z.jsx)("p",{children:b})]}),Object(z.jsxs)("div",{className:"right",children:[Object(z.jsx)("p",{children:k.a.get("sunSwap.pool.add_share_text")}),Object(z.jsxs)("p",{children:[j,"%"]})]})]})]}),1===t||1===s?null:Object(z.jsxs)("div",{className:"action-info",children:[Object(z.jsxs)("div",{className:"info-title flex between sun-swap-normal-1",children:[Object(z.jsx)("span",{children:k.a.get("sunSwap.pool.base_posi_title")}),Object(z.jsxs)("p",{className:"yourPosi",children:[Object(z.jsx)("img",{src:H.a,alt:""}),Object(z.jsx)("img",{src:i.tokenLogoUrl||U.a,onError:function(e){e.target.onerror=null,e.target.src=U.a},alt:""}),Object(z.jsx)("span",{children:"TRX"}),Object(z.jsx)("span",{className:"symbol",children:"/"}),Object(z.jsx)("span",{children:i.tokenSymbol?i.tokenSymbol:"--"})]})]}),Object(z.jsxs)("div",{className:"info-detail flex",children:[Object(z.jsxs)("div",{className:"left",children:[Object(z.jsx)("p",{children:"TRX"}),Object(z.jsx)("p",{children:l.trx.lt(1e-4)&&l.trx.gt(0)?"<0.0001":l.trx._toFixed(4,1)})]}),Object(z.jsxs)("div",{className:"left",children:[Object(z.jsx)("p",{children:i.tokenSymbol?i.tokenSymbol:"--"}),Object(z.jsx)("p",{children:l.value.lt(1e-4)&&l.value.gt(0)?"<0.0001":l.value._toFixed(4,1)})]}),Object(z.jsxs)("div",{className:"right",children:[Object(z.jsx)("p",{children:k.a.get("sunSwap.pool.add_tokens_text")}),Object(z.jsx)("p",{children:l.tokens.lt(1e-4)&&l.tokens.gt(0)?"<0.0001":l.tokens._toFixed(4,1)})]})]})]})]})]})},n.showSettingModal=function(){n.props.sunSwapNetwork.setData({settingVisible:!0})},n.setLiq=function(e){n.props.sunSwapPool.setData({actionLiqV2:e})},n.retryGetExchange=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t){var a,s,o=arguments;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=o.length>1&&void 0!==o[1]?o[1]:0)>10)){e.next=3;break}return e.abrupt("return","");case 3:return e.next=5,Object(R.l)(t);case 5:if(!(s=e.sent)){e.next=10;break}return e.abrupt("return",s);case 10:return e.next=12,new Promise((function(e){setTimeout((function(){e()}),1e3)}));case 12:return e.abrupt("return",n.retryGetExchange(t,a+1));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.createPair=Object(u.a)(Object(d.a)().mark((function e(){var t,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.sunSwapPool.tokenInfo,a={title:"pair_actions.create",obj:{trx:"TRX",tokenSymbol:t.tokenSymbol}},e.next=4,Object(R.h)(t.tokenAddress,a);case 4:e.sent?n.setState({createActionState:"pending",actionInfo:k.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0},(function(){setTimeout(Object(u.a)(Object(d.a)().mark((function e(){var a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.retryGetExchange(t.tokenAddress);case 2:(a=e.sent)?(n.props.sunSwapPool.setData({tokenInfo:Object(T.a)(Object(T.a)({},t),{},{address:a})}),n.setState({createActionState:"success",approveActionState:"start"},(function(){n.setApprove()}))):n.setState({createActionState:"failed",actionRetry:"createPair",actionInfo:k.a.get("sunSwap.action.retryBtn"),actionDisabled:!1});case 4:case"end":return e.stop()}}),e)}))),5e3)})):n.setState({createActionState:"error",actionRetry:"createPair",actionInfo:k.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0});case 6:case"end":return e.stop()}}),e)}))),n.setApprove=Object(u.a)(Object(d.a)().mark((function e(){var t,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.sunSwapPool.tokenInfo,a={title:"pool.add_approve_token",obj:{token:t.tokenSymbol}},e.next=4,Object(R.e)(t.tokenAddress,t.address,a);case 4:e.sent?n.setState({approveActionState:"pending",actionInfo:k.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0},(function(){setTimeout((function(){n.setState({approveActionState:"success",actionState:"info"})}),5e3)})):n.setState({approveActionState:"error",actionRetry:"setApprove",actionInfo:k.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0});case 6:case"end":return e.stop()}}),e)}))),n.beforeSupplyLiquidity=Object(u.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({actionStarted:!0,supplyPopBtn:k.a.get("sunSwap.action.startBtn"),supplyPopBtnDisabled:!0},(function(){n.supplyLiquidity()}));case 1:case"end":return e.stop()}}),e)}))),n.supplyLiquidity=Object(u.a)(Object(d.a)().mark((function e(){var t,a,s,o,c,r,i,l,p,b,j,m,h,f,x,O,g;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.tokenOneValue,s=t.tokenTwoValue,o=t.needApprove,c=n.props.sunSwapPool,r=c.tokenInfo,i=c.tokenDetail,l=n.props.sunSwapNetwork.settingSlippage,l=Number(l),j=a.times(1e6),m=s.times(new E.a(10).pow(r.tokenDecimal)),i.exTrx.eq(0)?(p=j,b=m):(p="0x".concat(a.times(i.totalSupply).div(i.exTrx).times(1-l/100).times(new E.a(10).pow(C.a.trxDecimal)).integerValue(E.a.ROUND_DOWN).toString(16)),b="0x".concat(a.times(i.exToken).div(i.exTrx).times(1+l/100).times(new E.a(10).pow(r.tokenDecimal)).integerValue(E.a.ROUND_DOWN).toString(16))),h={title:"pair_actions.add",obj:{trxAmount:Object(E.k)(a.toString(),6),trx:"TRX",tokenAmount:Object(E.k)(s.toString(),i.tokenDecimal),tokenSymbol:r.tokenSymbol}},f=n.state.tokenOneValueStr,x=n.state.tokenTwoValueStr,e.t0=R.b,e.t1=r.address,e.t2=p.toString(),e.t3=b.toString(),e.next=16,Object(R.g)(n.props.sunSwapNetwork.settingDeadline);case 16:return e.t4=e.sent,e.t5=j.toString(),e.t6=h,e.next=21,(0,e.t0)(e.t1,e.t2,e.t3,e.t4,e.t5,e.t6);case 21:e.sent?(O={supplyErrorInfo:"",supplyPopBtn:k.a.get("sunSwap.action.doingBtn"),supplyPopBtnDisabled:!0,actionStarted:!0},o&&(O={actionInfo:k.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,supplyActionState:"pending",actionState:"line",actionStarted:!0}),n.setState(O,(function(){setTimeout(Object(u.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({tokenOneValue:new E.a(0),tokenOneValueStr:"",tokenTwoValue:new E.a(0),tokenTwoValueStr:"",successOneValueStr:f,successTwoValueStr:x,actionRetry:"",actionState:"success",actionStarted:!1});case 1:case"end":return e.stop()}}),e)}))),5e3)}))):(g={supplyErrorInfo:k.a.get("sunSwap.action.supplyActErr"),supplyPopBtn:k.a.get("sunSwap.action.retryBtn"),supplyPopBtnDisabled:!1,actionStarted:!0},o&&(g={actionState:"line",supplyActionState:"error",actionRetry:"supplyLiquidity",actionInfo:k.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0}),n.setState(g));case 23:case"end":return e.stop()}}),e)}))),n.initAddModal=function(){var e=n.props.sunSwapPool.tokenInfo,t=!0;return n.state.approvedAmount.gte(n.state.tokenTwoValue)&&(t=!1),{needApprove:t,supplyPopBtn:k.a.get("sunSwap.pool.popup_supply_btn"),supplyPopBtnDisabled:!1,supplyErrorInfo:"",createActionTitle:k.a.get("sunSwap.action.createAct",{token:e.tokenSymbol}),createActionError:k.a.get("sunSwap.action.createActErr"),createActionFailed:k.a.get("sunSwap.action.createActFailed"),createActionState:"",approveActionTitle:k.a.get("sunSwap.action.approveAct",{token:e.tokenSymbol}),approveActionError:k.a.get("sunSwap.action.approveActErr"),approveActionState:"",supplyActionTitle:k.a.get("sunSwap.action.supplyAct"),supplyActionError:k.a.get("sunSwap.action.supplyActErr"),supplyActionState:"",actionInfo:k.a.get("sunSwap.action.startBtn"),actionDisabled:!0,actionRetry:"",actionState:t?"line":"info",actionStarted:!1,successOneValueStr:"",successTwoValueStr:"",miniPopVisible:!1}},n.showAddModal=function(){n.setState(Object(T.a)(Object(T.a)({},n.initAddModal()),{},{addVisible:!0}),(function(){n.onRetryAction()}))},n.beforeHideAddModal=function(){n.state.actionStarted?n.setState({miniPopVisible:!0}):n.hideAddModal()},n.hideAddModal=function(){n.setState({addVisible:!1},(function(){setTimeout((function(){n.setState(Object(T.a)({},n.initAddModal()))}),1e3)}))},n.miniPopOk=function(){var e=n.state.needApprove;n.setState({miniPopVisible:!1},Object(u.a)(Object(d.a)().mark((function t(){var a,s,o,c,r,i;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.hideAddModal(),!e){t.next=12;break}return a=n.props.sunSwapPool.tokenInfo,s=n.props.network.defaultAccount,t.next=6,Object(R.m)(s,a.tokenAddress);case 6:o=t.sent,c=o.exchangeAddr,r=o.allowance,i=!0,c&&(i=!1),n.setState({needCreate:i,approvedAmount:r.div(new E.a(10).pow(a.tokenDecimal))});case 12:case"end":return t.stop()}}),t)}))))},n.miniPopCancel=function(){n.setState({miniPopVisible:!1})},n.gotoPool=function(){n.props.sunSwapPool.setData({actionLiqV2:0})},n.onRetryAction=function(){var e=n.state.needCreate,t=n.state.needApprove,a=n.state.actionRetry;switch(!a&&e&&(a="createPair"),!a&&t&&(a="setApprove"),a){case"createPair":n.setState({createActionState:"start",actionInfo:k.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){n.createPair()}));break;case"setApprove":n.setState({approveActionState:"start",actionInfo:k.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){n.setApprove()}));break;case"supplyLiquidity":n.setState({swapActionState:"start",actionInfo:k.a.get("sunSwap.action.startBtn"),actionDisabled:!1},(function(){n.supplyLiquidity()}))}},n.useSafeMax=function(){var e=n.props.sunSwapPool.tokenInfo,t=n.state,a=t.poolIsExist,s=t.fromBalanceStr,o=t.noPoolBalance,c=(1===a||1===o)&&""!==e.tokenAddress?C.a.createFeeAmount:C.a.addFeeAmount,r=Object(E.b)(Object(E.D)(s).minus(c));n.judgeIssues(r,1)},n.toTokenRef=f.a.createRef(),n.state={fromToken:{tokenSymbol:"TRX",tokenAddress:C.a.trxFakeAddress,tokenDecimal:C.a.trxDecimal,trxBalance:new E.a(0),tokenBalance:new E.a(0)},calcStatus:!1,insufficientBalance:"",fromBalance:new E.a(-1),fromBalanceStr:"--",toBalance:new E.a(-1),toBalanceStr:"--",poolIsExist:-1,noPoolBalance:-1,shareOfPool:new E.a(0),approvedAmount:new E.a(0),tokenOneValueStr:"",tokenTwoValueStr:"",tokenOneValue:new E.a(0),tokenTwoValue:new E.a(0),tokenMap:Object(y.a)({},C.a.trxFakeAddress,{tokenAddress:C.a.trxFakeAddress,address:"",tokenSymbol:"TRX",tokenLogoUrl:C.a.trxLogoUrl,tokenName:"TRX",tokenDecimal:C.a.trxDecimal}),addVisible:!1,createTxt:k.a.get("sunSwap.pool.create_pair_btn"),createState:"",approveTxt:k.a.get("sunSwap.pool.add_approve_btn"),approveState:"",supplyTxt:k.a.get("sunSwap.pool.add_supply_btn"),supplyState:"",createAddr:"",fromOrTo:0,appleDevice:!1,needCreate:!0,needApprove:!0,supplyPopBtn:"",supplyPopBtnDisabled:!1,supplyErrorInfo:"",createActionTitle:"",createActionError:"",createActionFailed:"",createActionState:"",approveActionTitle:"",approveActionError:"",approveActionState:"",supplyActionTitle:"",supplyActionError:"",supplyActionState:"",actionInfo:"",actionDisabled:!1,actionRetry:"",actionState:"",actionStarted:!1,successOneValueStr:"",successTwoValueStr:"",miniPopVisible:!1,versionChanged:!1,status:!1},n}return Object(b.a)(a,[{key:"componentDidUpdate",value:function(e){e.sunSwapPool.actionLiqV2!=this.props.sunSwapPool.actionLiqV2&&1===Number(this.props.sunSwapPool.actionLiqV2)&&this.props.sunSwapPool.setData({addRef:this.toTokenRef})}},{key:"render",value:function(){var e=this,t=this.state,a=t.calcStatus,n=t.insufficientBalance,s=t.shareOfPool,o=t.poolIsExist,c=t.fromBalanceStr,r=t.toBalanceStr,i=t.tokenOneValue,l=t.tokenTwoValue,d=t.addVisible,u=t.noPoolBalance,p=t.tokenOneValueStr,b=t.tokenTwoValueStr,j=t.successOneValueStr,m=t.successTwoValueStr,h=t.status,f=t.networkError,x=this.props.sunSwapPool,g=x.tokenTwoFixed,v=x.tokenInfo,w=x.selectTokenOne,S=x.tokenDetail,A=this.props.sunSwapNetwork.settingSlippage,N=i._toFixed(4,1),y=l.div(i),T=i.div(l);S.exTrx.gt(0)&&(N=i.times(S.totalSupply).div(S.exTrx)._toFixed(C.a.trxDecimal,1),y=S.price2,T=S.price1);var D=s._toFixed(2,1);isNaN(D)?D="--":s.gt(0)&&s.lt(.01)&&(D="<0.01");var V="";n&&(V=k.a.get("sunSwap.pool.add_insufficient_btn",{value:n}));var I=(1===o||1===u)&&""!==v.tokenAddress,L=I?C.a.createFeeAmount:C.a.addFeeAmount;I?i.lt(C.a.createFeeAmount)&&(V=k.a.get("sunSwap.pool.less_than_btn",{value:C.a.createFeeAmount})):i.lt(C.a.firstTRXLimit)&&0!==u&&(V=k.a.get("sunSwap.pool.less_than_btn",{value:C.a.firstTRXLimit}));var B="";V&&(B=V),a||(B=k.a.get("sunSwap.pool.add_enter_btn"));var P=null;return P=setTimeout((function(){e.setState({status:!0}),clearTimeout(P)}),3e3),Object(z.jsxs)("section",{className:"action-content",children:[Object(z.jsxs)("header",{className:"flex",children:[Object(z.jsx)("span",{className:"return ib",onClick:function(t){return e.setLiq(0)},children:Object(z.jsx)("img",{src:ee.a,alt:"back"})}),Object(z.jsx)(q.a,{titleClass:"add-title",children:k.a.get("sunSwap.pool.add_addLiq_title"),tip:k.a.get("sunSwap.pool.add_addLiq_title_tip"),toolClass:"pool-add-tool",tail:!0,placement:O.a?"left":"bottom"})]}),f&&Object(z.jsx)("p",{className:"fz14 red mb20",children:k.a.get("sunSwap.pool.network_error")}),I&&Object(z.jsxs)("div",{className:"first-pool-copy",children:[Object(z.jsx)("div",{className:"bold fz14 black first-pool-title",children:k.a.get("sunSwap.pool.create_firstProv_bold")}),i.lt(C.a.createFeeAmount)&&Object(z.jsx)("p",{className:"fz14 first-pool-tip red",children:k.a.get("sunSwap.pool.less_than",{value:C.a.createFeeAmount})}),Object(z.jsx)("p",{className:"fz14 first-pool-tip sun-swap-normal-1",children:k.a.get("sunSwap.pool.create_first_tip1")})]}),Object(z.jsxs)("div",{className:"flex token-sec",children:[Object(z.jsxs)("div",{className:"input",children:[Object(z.jsx)("p",{children:k.a.get("sunSwap.pool.add_input_text")}),Object(z.jsx)("input",{type:"type",className:"token-sec-input token-sec-input-1",placeholder:k.a.get("sunSwap.pool.add_placeholder_text"),onChange:function(t){return e.judgeIssues(t.target.value,1)},value:p})]}),Object(z.jsxs)("div",{className:"select",children:[Object(z.jsxs)("p",{children:[Object(z.jsxs)("span",{className:"tag",children:[k.a.get("sunSwap.pool.add_balance_text"),": "]}),Object(z.jsx)("span",{className:"balance",children:Object(E.a)(c).gte(0)?Object(E.l)(c,{dp:6,cutZero:!0}):"--"})]}),Object(z.jsxs)("div",{className:"input-max",children:[this.props.network.isConnected?Object(z.jsx)("span",{className:"link",onClick:function(t){return e.setMaxFrom("TRX",{firstAdd:!0})},children:k.a.get("sunSwap.swap.input_from_max")}):null,Object(z.jsx)(G,{disabled:!0,value:w.tokenAddress,tokenInfo:w,fromPool:!0})]})]})]}),h&&"TRX"===w.tokenSymbol&&p?Object(E.D)(c).lt(L)?Object(z.jsx)("div",{className:"safe-amount-tip",children:k.a.getHTML("list.trx_tip_3",{value:L})}):Object(E.D)(c).minus(L).lt(Object(E.D)(p))?Object(z.jsxs)("div",{className:"safe-amount-tip",children:[k.a.getHTML("list.trx_tip_1",{value:L})," ",Object(z.jsx)("em",{onClick:this.useSafeMax,children:k.a.get("sunSwap.list.trx_tip_2")})]}):null:null,Object(z.jsxs)("div",{className:"plusBtn flex between",children:[Object(z.jsx)("img",{src:te.a,alt:"plus"}),Object(z.jsx)("span",{className:"link sun-swap-link-1",onClick:this.showSettingModal,children:k.a.get("sunSwap.pool.add_set_link")})]}),Object(z.jsxs)("div",{className:"flex token-sec",children:[Object(z.jsxs)("div",{className:"input",children:[Object(z.jsx)("p",{children:k.a.get("sunSwap.pool.add_input_text")}),Object(z.jsx)("input",{type:"type",className:"token-sec-input token-sec-input-2",placeholder:k.a.get("sunSwap.pool.add_placeholder_text"),onChange:function(t){return e.judgeIssues(t.target.value,2)},value:b})]}),Object(z.jsxs)("div",{className:"select",children:[Object(z.jsxs)("p",{children:[Object(z.jsxs)("span",{className:"tag",children:[k.a.get("sunSwap.pool.add_balance_text"),": "]}),Object(z.jsx)("span",{className:"balance",children:Object(E.a)(r).gte(0)?Object(E.l)(r,{dp:6,cutZero:!0}):"--"})]}),Object(z.jsxs)("div",{className:"input-max",children:[this.props.network.isConnected?Object(z.jsx)("span",{className:"link",onClick:function(t){return e.setMaxFrom("token")},children:k.a.get("sunSwap.swap.input_from_max")}):null,Object(z.jsx)(G,{onChange:this.selectedToken,fromPool:!0,appleDevice:this.state.appleDevice,disabled:g,address:this.props.network.defaultAccount,value:v.tokenAddress,tokenInfo:v,ref:this.toTokenRef})]})]})]}),""!==v.tokenAddress&&v.tokenAddress.length>0?this.exchangeInfo():null,Object(z.jsx)("div",{className:"action-btns",children:this.props.network.isConnected?B?Object(z.jsx)(Y.a,{type:"single",disabled:!0,info:B}):Object(z.jsx)(Y.a,{type:"single",info:k.a.get("sunSwap.pool.add_supply_btn"),onClick:this.showAddModal}):Object(z.jsx)(Y.a,{type:"single",info:k.a.get("sunSwap.pool.add_connect_btn"),onClick:function(t){e.props.network.setData({loginModalVisible:!0,loginModalStep:1})}})}),Object(z.jsxs)(_.a,{title:null,closable:"success"!==this.state.actionState,visible:d,onCancel:this.beforeHideAddModal,className:"pool-modal add-gai sun-swap-modal",footer:null,width:630,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:["line"===this.state.actionState&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{className:"title normal",children:k.a.get("sunSwap.swap.action_supply")}),Object(z.jsxs)("div",{className:"ib-parent center",children:[Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{className:"add-value",children:p}),Object(z.jsx)("span",{className:"add-token",children:w.tokenSymbol})]}),Object(z.jsx)("span",{className:"plus",children:"+"}),Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{className:"add-value",children:b}),Object(z.jsx)("span",{className:"add-token",children:v.tokenSymbol})]})]}),Object(z.jsx)("div",{className:"supplyLineTitle",children:k.a.get("sunSwap.action.supplyLineTitle")}),this.state.needCreate?Object(z.jsxs)(Z.a,{children:[Object(z.jsx)("span",{status:this.state.createActionState,err:this.state.createActionError,failed:this.state.createActionFailed,children:this.state.createActionTitle}),Object(z.jsx)("span",{status:this.state.approveActionState,err:this.state.approveActionError,children:this.state.approveActionTitle}),Object(z.jsx)("span",{status:this.state.supplyActionState,err:this.state.supplyActionError,children:this.state.supplyActionTitle})]}):Object(z.jsxs)(Z.a,{children:[Object(z.jsx)("span",{status:this.state.approveActionState,err:this.state.approveActionError,children:this.state.approveActionTitle}),Object(z.jsx)("span",{status:this.state.supplyActionState,err:this.state.supplyActionError,children:this.state.supplyActionTitle})]}),Object(z.jsx)(Y.a,{type:"single",disabled:this.state.actionDisabled,info:this.state.actionInfo,onClick:this.onRetryAction})]}),"info"===this.state.actionState&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{children:k.a.get("sunSwap.pool.popup_receive_title")}),Object(z.jsxs)("div",{className:"amount",children:[Object(z.jsxs)("div",{className:"center",children:[Object(z.jsx)("p",{className:"amount-num",children:Object(E.l)(N,{dp:C.a.trxDecimal,cutZero:!0})}),Object(z.jsx)("p",{className:"amount-name",children:Object(z.jsx)("span",{children:w.tokenSymbol+"/"+v.tokenSymbol+" "+k.a.get("sunSwap.pool.popup_tokens_text")})})]}),Object(z.jsx)("p",{className:"amount-tip left",children:k.a.get("sunSwap.pool.popup_receive_tip",{value:A})})]}),Object(z.jsxs)("div",{className:"price",children:[Object(z.jsxs)("p",{className:"flex param",children:[Object(z.jsx)("span",{className:"price-key",children:w.tokenSymbol+" "+k.a.get("sunSwap.pool.popup_deposited_text")}),Object(z.jsxs)("span",{className:"price-value",children:[Object(z.jsx)("img",{src:w.tokenLogoUrl,alt:""}),Object(z.jsx)("span",{children:i.toString()})]})]}),Object(z.jsxs)("p",{className:"flex param",children:[Object(z.jsx)("span",{className:"price-key",children:v.tokenSymbol+" "+k.a.get("sunSwap.pool.popup_deposited_text")}),Object(z.jsxs)("span",{className:"price-value",children:[Object(z.jsx)("img",{src:v.tokenLogoUrl||U.a,alt:"",onError:function(e){e.target.onerror=null,e.target.src=U.a}}),Object(z.jsx)("span",{children:l.toString()})]})]}),Object(z.jsxs)("div",{className:"flex param",children:[Object(z.jsx)("span",{className:"price-key",children:k.a.get("sunSwap.pool.popup_rates_text")}),Object(z.jsxs)("div",{className:"price-value ib",children:[Object(z.jsxs)("p",{children:["1 ",w.tokenSymbol," ="," ",Object(E.a)(1).div(Object(E.a)(10).pow(Number(v.tokenDecimal))).gt(y)?"< "+Object(E.a)(1).div(Object(E.a)(10).pow(Number(v.tokenDecimal))).toString():y._toFixed(Number(v.tokenDecimal))," ",v.tokenSymbol]}),Object(z.jsxs)("p",{children:["1 ",v.tokenSymbol," ="," ",Object(E.a)(1).div(Object(E.a)(10).pow(Number(C.a.trxDecimal))).gt(T)?"< "+Object(E.a)(1).div(Object(E.a)(10).pow(Number(C.a.trxDecimal))).toString():T._toFixed(Number(C.a.trxDecimal))," ",w.tokenSymbol]})]})]}),Object(z.jsxs)("div",{className:"flex between mb30",children:[Object(z.jsx)("div",{className:"share-title",children:k.a.get("sunSwap.pool.popup_share_text")}),Object(z.jsxs)("div",{className:"v-right",children:[D,"%"]})]})]}),this.state.supplyErrorInfo&&Object(z.jsx)("div",{className:"errorMsg",children:this.state.supplyErrorInfo}),Object(z.jsx)(Y.a,{type:"single",disabled:this.state.supplyPopBtnDisabled,info:this.state.supplyPopBtn,onClick:this.beforeSupplyLiquidity})]}),"success"===this.state.actionState&&Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)("div",{className:"modal-success",children:[Object(z.jsx)("img",{src:ae.a,alt:""}),Object(z.jsx)("div",{className:"title green",children:k.a.get("sunSwap.action.supplySuccessTitle")}),Object(z.jsxs)("div",{className:"ib-parent center mb40",children:[Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{className:"add-value",children:j}),Object(z.jsx)("span",{className:"add-token",children:w.tokenSymbol})]}),Object(z.jsx)("span",{className:"plus",children:"+"}),Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{className:"add-value",children:m}),Object(z.jsx)("span",{className:"add-token",children:v.tokenSymbol})]})]}),Object(z.jsx)(Y.a,{type:"single",info:k.a.get("sunSwap.action.closeBtn"),onClick:this.gotoPool}),Object(z.jsx)("div",{className:"supplyDescTitle",children:k.a.get("sunSwap.action.supplyDescTitle")})]})})]}),Object(z.jsx)($.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}}]),a}(f.a.Component))||s)||s)||s)||s,se=ne,oe=a(1849),ce=a(268),re=Object(g.b)("sunSwapPool")(o=Object(g.b)("sunSwapNetwork")(o=Object(g.b)("network")(o=Object(g.c)(o=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(u.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.getUserPool();case 1:case"end":return e.stop()}}),e)}))),n.getUserPool=Object(u.a)(Object(d.a)().mark((function e(){var t,a,s,o,c,r,i,l,u,p,b,j;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.sunSwapPool.tokenInfo,a=n.props.network.defaultAccount,e.next=4,Object(R.m)(a,t.tokenAddress);case 4:s=e.sent,o=s.exchangeAddr,c=s.exTokenBalance,r=s.exTrxBalance,i=s.totalLiquidity,l=s.userLiquidity,u=s.userTrxBalance,p=s.userTokenBalance,o&&(b=r.div(new E.a(10).pow(C.a.trxDecimal)),j=c.div(new E.a(10).pow(t.tokenDecimal)),b.gt(0)&&n.setState({tokenDetail:{trx:new E.a(u).div(new E.a(10).pow(C.a.trxDecimal)),value:new E.a(p).div(new E.a(10).pow(t.tokenDecimal)),tokens:new E.a(l).div(new E.a(10).pow(C.a.trxDecimal)),totalSupply:new E.a(i).div(new E.a(10).pow(C.a.trxDecimal)),price1:b.div(j),price2:j.div(b),exTrx:b,exToken:j}}));case 13:case"end":return e.stop()}}),e)}))),n.showSettingModal=function(){n.props.sunSwapNetwork.setData({settingVisible:!0})},n.setPercent=function(e){n.setState({percentNum:e})},n.userTokenInfo=function(){var e=n.state,t=e.percentNum,a=e.tokenDetail,s=n.props.sunSwapPool,o=s.selectTokenOne,c=s.tokenInfo,r=t,i=function(e,t){return e.isNaN()||e.eq(1/0)?"--":e._toFixed(Number(t),1)},l=i(a.value.div(a.trx),c.tokenDecimal),d=i(a.trx.div(a.value),C.a.trxDecimal);return Object(z.jsx)(f.a.Fragment,{children:Object(z.jsxs)("div",{children:[Object(z.jsxs)("div",{className:"action-info",children:[Object(z.jsxs)("div",{className:"info-title flex between sun-swap-normal-1",children:[Object(z.jsx)("span",{children:k.a.get("sunSwap.pool.base_posi_title")}),Object(z.jsxs)("p",{className:"ib yourPosi",children:[Object(z.jsx)("img",{src:o.tokenLogoUrl}),Object(z.jsx)("img",{src:c.tokenLogoUrl||U.a}),Object(z.jsx)("span",{children:o.tokenSymbol}),Object(z.jsx)("span",{className:"symbol",children:"/"}),Object(z.jsx)("span",{children:c.tokenSymbol})]})]}),Object(z.jsxs)("div",{className:"info-detail",children:[Object(z.jsxs)("div",{children:[Object(z.jsx)("p",{children:o.tokenSymbol}),Object(z.jsx)("p",{children:a.trx._toFixed(4,1)})]}),Object(z.jsx)("div",{className:"d8line"}),Object(z.jsxs)("div",{children:[Object(z.jsx)("p",{children:c.tokenSymbol}),Object(z.jsx)("p",{children:a.value._toFixed(4,1)})]}),Object(z.jsx)("div",{className:"d8line"}),Object(z.jsxs)("div",{children:[Object(z.jsx)("p",{children:k.a.get("sunSwap.pool.add_tokens_text")}),Object(z.jsx)("p",{children:a.tokens._toFixed(4,1)})]})]})]}),Object(z.jsx)("div",{className:"flex justify-content price-chart-wrap align-items-center",children:Object(z.jsxs)("div",{className:"token-pairs",children:[Object(z.jsxs)("div",{className:"sun-swap-normal-1",children:[k.a.get("sunSwap.swap.detail_token_info")," "]}),Object(z.jsx)("div",{children:Object(z.jsx)(f.a.Fragment,{children:Object(E.G)(Object(z.jsxs)(f.a.Fragment,{children:[Object(z.jsx)("img",{src:c.tokenLogoUrl,alt:"logo",onError:function(e){e.target.onerror=null,e.target.src=U.a}}),Object(z.jsx)("span",{className:"sun-swap-link-1",children:c.tokenSymbol})]}),c.tokenAddress)})})]})}),Object(z.jsxs)("div",{className:"action-ui-box",children:[Object(z.jsxs)("div",{className:"action-info",children:[Object(z.jsxs)("div",{className:"info-title pd0 flex between",children:[k.a.get("sunSwap.pool.remove_amount_title"),Object(z.jsx)("span",{className:"link fz12",onClick:n.showSettingModal,children:k.a.get("sunSwap.pool.add_set_link")})]}),Object(z.jsxs)("div",{className:"schedule",children:[Object(z.jsxs)("div",{className:"num",children:[Object(z.jsx)("span",{className:"percent",children:r}),"%"]}),Object(z.jsx)(oe.a,{defaultValue:t,onChange:function(e){return n.setPercent(e)},tipFormatter:null,className:"super-slider",value:t})]}),Object(z.jsxs)("div",{className:"schedule-key",children:[Object(z.jsx)("button",{className:"25"===t?"schedule-btn-active":"schedule-btn",onClick:function(e){return n.setPercent(25)},children:"25%"}),Object(z.jsx)("button",{className:"50"===t?"schedule-btn-active":"schedule-btn",onClick:function(e){return n.setPercent(50)},children:"50%"}),Object(z.jsx)("button",{className:"75"===t?"schedule-btn-active":"schedule-btn",onClick:function(e){return n.setPercent(75)},children:"75%"}),Object(z.jsx)("button",{className:"100"===t?"schedule-btn-active":"schedule-btn",onClick:function(e){return n.setPercent(100)},children:k.a.get("sunSwap.pool.remove_max_text")})]})]}),Object(z.jsxs)("div",{className:"convert flex",children:[Object(z.jsxs)("div",{className:"token1",children:[Object(z.jsx)("p",{children:0===t?0:a.trx.times(t).div(100)._toFixed(4,1)<1e-4?"<0.0001":a.trx.times(t).div(100)._toFixed(4,1)}),Object(z.jsxs)("p",{children:[Object(z.jsx)("img",{src:o.tokenLogoUrl,alt:""}),Object(z.jsx)("span",{children:o.tokenSymbol})]})]}),Object(z.jsxs)("div",{className:"convert-info",children:[Object(z.jsxs)("p",{className:"relative",children:["1 ",o.tokenSymbol," ="," ",Object(E.a)(1).div(Object(E.a)(10).pow(c.tokenDecimal)).gt(l)?"< "+Object(E.a)(1).div(Object(E.a)(10).pow(c.tokenDecimal)).toString():l," ",c.tokenSymbol,Object(z.jsx)("span",{className:"hook absolute"})]}),Object(z.jsxs)("p",{className:"relative",children:[Object(z.jsx)("span",{className:"hook absolute"}),"1 ",c.tokenSymbol," ="," ",Object(E.a)(1).div(Object(E.a)(10).pow(o.tokenDecimal)).gt(d)?"< "+Object(E.a)(1).div(Object(E.a)(10).pow(o.tokenDecimal)).toString():d," ",o.tokenSymbol]})]}),Object(z.jsxs)("div",{className:"token2",children:[Object(z.jsx)("p",{children:0===t?0:a.value.times(t).div(100)._toFixed(4,1)<1e-4?"<0.0001":a.value.times(t).div(100)._toFixed(4,1)}),Object(z.jsxs)("p",{children:[Object(z.jsx)("img",{src:c.tokenLogoUrl||U.a,alt:""}),Object(z.jsx)("span",{children:c.tokenSymbol})]})]})]})]})]})})},n.setLiq=function(e){n.props.sunSwapPool.setData({actionLiqV2:e})},n.beforeRemoveLiquidity=Object(u.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({actionStarted:!0,removePopBtn:k.a.get("sunSwap.action.startBtn"),removePopBtnDisabled:!0},(function(){n.removeLiquidity()}));case 1:case"end":return e.stop()}}),e)}))),n.removeLiquidity=Object(u.a)(Object(d.a)().mark((function e(){var t,a,s,o,c,r,i,l,u,p;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.percentNum,s=t.tokenDetail,o=n.props.sunSwapPool.tokenInfo,c=s.tokens.times(n.state.percentNum).div(100).times(new E.a(10).pow(C.a.trxDecimal)).integerValue(E.a.ROUND_DOWN),e.next=5,Object(R.o)(o.tokenAddress,o.address);case 5:return r=e.sent,i=r.div(new E.a(10).pow(o.tokenDecimal)),l=c.times(s.exTrx).div(s.totalSupply).integerValue(E.a.ROUND_DOWN),u=c.times(i).div(s.totalSupply).integerValue(E.a.ROUND_DOWN),p={title:"pair_actions.remove",obj:{trxAmount:Object(E.k)(Object(E.a)(s.trx).times(a).div(100),6),trx:"TRX",tokenSymbol:o.tokenSymbol,tokenAmount:Object(E.k)(Object(E.a)(s.value).times(a).div(100),o.tokenDecimal)}},e.t0=R.x,e.t1=o.address,e.t2="0x".concat(c.toString(16)),e.t3="0x".concat(l.toString(16)),e.t4="0x".concat(u.toString(16)),e.next=17,Object(R.g)(n.props.sunSwapNetwork.settingDeadline);case 17:return e.t5=e.sent,e.t6=p,e.next=21,(0,e.t0)(e.t1,e.t2,e.t3,e.t4,e.t5,e.t6);case 21:e.sent?n.setState({removeErrorInfo:"",removePopBtn:k.a.get("sunSwap.action.doingBtn"),removePopBtnDisabled:!0,actionStarted:!0},(function(){setTimeout((function(){n.setState({actionState:"success",actionStarted:!1})}),5e3)})):n.setState({removeErrorInfo:k.a.get("sunSwap.action.removeActErr"),removePopBtn:k.a.get("sunSwap.action.retryBtn"),removePopBtnDisabled:!1,actionStarted:!0});case 23:case"end":return e.stop()}}),e)}))),n.initRemoveModal=function(){return{removeErrorInfo:"",removePopBtn:k.a.get("sunSwap.pool.popup_remove_btn"),removePopBtnDisabled:!1,actionState:"info",actionStarted:!1,miniPopVisible:!1}},n.showRemoveModal=function(){var e=n.state,t=e.percentNum,a=e.tokenDetail;t>0&&a.tokens.gt(0)&&n.setState(Object(T.a)(Object(T.a)({},n.initRemoveModal()),{},{removePopStatus:!0}))},n.beforeHideRemoveModal=function(){n.state.actionStarted?n.setState({miniPopVisible:!0}):n.hideRemoveModal()},n.hideRemoveModal=function(){n.setState({removePopStatus:!1},(function(){setTimeout((function(){n.setState(Object(T.a)({},n.initRemoveModal()))}),1e3)}))},n.miniPopOk=function(){n.setState({miniPopVisible:!1},(function(){n.hideRemoveModal()}))},n.miniPopCancel=function(){n.setState({miniPopVisible:!1})},n.gotoPool=function(){n.props.sunSwapPool.setData({actionLiqV2:0})},n.state={percentNum:0,removePopStatus:!1,tokenDetail:{trx:new E.a(0),value:new E.a(0),tokens:new E.a(0),totalSupply:new E.a(0),price1:"--",price2:"--",exTrx:new E.a(0),exToken:new E.a(0),removeErrorInfo:"",removePopBtn:k.a.get("sunSwap.pool.popup_remove_btn"),removePopBtnDisabled:!1,actionState:"info",actionStarted:!1,miniPopVisible:!1}},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.percentNum,n=t.removePopStatus,s=t.tokenDetail,o=this.props.sunSwapPool,c=o.selectTokenOne,r=o.tokenInfo,i=function(e,t){return e.isNaN()||e.eq(1/0)?"--":e._toFixed(Number(t),1)},l=i(s.value.div(s.trx),r.tokenDecimal),d=i(s.trx.div(s.value),C.a.trxDecimal);return Object(z.jsxs)("section",{className:"action-content",children:[Object(z.jsxs)("header",{className:"flex between",children:[Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{className:"return ib",onClick:function(t){return e.setLiq(0)},children:Object(z.jsx)("img",{src:ee.a,alt:"back"})}),Object(z.jsx)("div",{className:"add-title",children:k.a.get("sunSwap.pool.remove_liq_title")})]}),Object(z.jsx)(ce.a,{title:Object(z.jsx)("div",{className:"pool-tooltip-text",children:k.a.get("sunSwap.pool.remove_liq_title_tip")}),overlayClassName:"pool-tooltip",placement:"bottom",color:"rgba(27,31,38,0.90)",children:Object(z.jsx)("span",{className:"ques",children:"?"})})]}),this.userTokenInfo(),Object(z.jsx)("div",{className:"action-btns",children:Object(z.jsx)("button",{className:"single "+(a>0&&s.tokens.gt(0)?"blue":"gray"),onClick:this.showRemoveModal,children:k.a.get("sunSwap.pool.remove_confirm_btn")})}),Object(z.jsxs)(_.a,{title:null,closable:"success"!==this.state.actionState,visible:n,onCancel:this.beforeHideRemoveModal,className:"pool-modal remove-modal sun-swap-modal",footer:null,width:630,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:["info"===this.state.actionState&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{className:"title big",children:k.a.get("sunSwap.pool.popup_remove_title")}),Object(z.jsxs)("div",{className:"amount ib-parent center pb25",children:[Object(z.jsxs)("div",{children:[Object(z.jsx)("p",{className:"add-value",children:s.trx.times(a).div(100).lt(1e-4)?"<0.0001":s.trx.times(a).div(100)._toFixed(4,1)}),Object(z.jsxs)("p",{className:"add-token",children:[Object(z.jsx)("img",{src:c.tokenLogoUrl,alt:""}),Object(z.jsx)("span",{children:c.tokenSymbol})]})]}),Object(z.jsx)("span",{className:"plus",children:"+"}),Object(z.jsxs)("div",{children:[Object(z.jsx)("p",{className:"add-value",children:s.value.times(a).div(100).lt(1e-4)?"<0.0001":s.value.times(a).div(100)._toFixed(4,1)}),Object(z.jsxs)("p",{className:"add-token",children:[Object(z.jsx)("img",{src:r.tokenLogoUrl,alt:""}),Object(z.jsx)("span",{children:r.tokenSymbol})]})]})]}),Object(z.jsxs)("div",{className:"price",children:[Object(z.jsxs)("p",{className:"flex param",children:[Object(z.jsx)("span",{className:"price-key",children:k.a.get("sunSwap.pool.popup_burned_text")}),Object(z.jsxs)("span",{className:"price-value",children:[Object(z.jsx)("img",{src:c.tokenLogoUrl,alt:""}),Object(z.jsx)("img",{src:r.tokenLogoUrl||U.a,alt:""}),Object(z.jsx)("span",{children:s.tokens.times(a).div(100).lt(1e-4)?"<0.0001":s.tokens.times(a).div(100)._toFixed(4,1)})]})]}),Object(z.jsxs)("div",{className:"flex param",children:[Object(z.jsx)("span",{className:"price-key",children:k.a.get("sunSwap.pool.popup_price_text")}),Object(z.jsxs)("div",{className:"price-value ib right",children:[Object(z.jsxs)("p",{children:["1 ",c.tokenSymbol," = ",l," ",r.tokenSymbol]}),Object(z.jsxs)("p",{className:"mb20",children:["1 ",r.tokenSymbol," = ",d," ",c.tokenSymbol]})]})]})]}),this.state.removeErrorInfo&&Object(z.jsx)("div",{className:"errorMsg",children:this.state.removeErrorInfo}),Object(z.jsx)(Y.a,{type:"single",disabled:this.state.removePopBtnDisabled,info:this.state.removePopBtn,onClick:this.beforeRemoveLiquidity})]}),"success"===this.state.actionState&&Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)("div",{className:"modal-success",children:[Object(z.jsx)("img",{src:ae.a,alt:""}),Object(z.jsx)("div",{className:"title green",children:k.a.get("sunSwap.action.removeSuccessTitle")}),Object(z.jsxs)("div",{className:"ib-parent center mb25",children:[Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{className:"remove-value",children:s.trx.times(a).div(100).lt(1e-4)?"<0.0001":s.trx.times(a).div(100)._toFixed(4,1)}),Object(z.jsx)("span",{className:"remove-token",children:c.tokenSymbol})]}),Object(z.jsx)("span",{className:"plus",children:"+"}),Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{className:"remove-value",children:s.value.times(a).div(100).lt(1e-4)?"<0.0001":s.value.times(a).div(100)._toFixed(4,1)}),Object(z.jsx)("span",{className:"remove-token",children:r.tokenSymbol})]})]}),Object(z.jsx)(Y.a,{type:"single",info:k.a.get("sunSwap.action.closeBtn"),onClick:this.gotoPool}),Object(z.jsx)("div",{className:"endTip",children:k.a.get("sunSwap.action.removeDescTitle")})]})})]}),Object(z.jsx)($.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}}]),a}(f.a.Component))||o)||o)||o)||o,ie=a(1838),le=(a(1145),a(1146)),de=a(1147),ue=a(975),pe=a(1148),be=Object(g.b)("sunSwapNetwork")(c=Object(g.b)("sunSwapPool")(c=Object(g.b)("network")(c=Object(g.c)(c=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getExchangesFunc=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t,a,s,o){var c,r,i,l,p,b,j,m;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=window.localStorage.getItem("swapVersion"),e.next=3,n.props.sunSwapPool.getExchangesListV3(t||c);case 3:return e.next=5,n.fromTokenRef.current.setTokenList();case 5:return e.next=7,n.toTokenRef.current.setTokenList();case 7:if(r=n.state,i=r.fromToken,l=r.toToken,p=a||Object(E.q)("type"),b=l.tokenAddress||Object(E.q)("t1"),(j=i.tokenAddress||Object(E.q)("t0"))&&!b&&(b=""),!j&&b&&(j="",i={tokenAddress:"",tokenSymbol:"",approvedAmount:new E.a(0)}),m=s||Object(E.q)("tokenAddress"),"swap"!==p){e.next=30;break}if(!m){e.next=19;break}n.setState({fromToken:{tokenSymbol:"TRX",tokenAddress:C.a.trxFakeAddress,tokenDecimal:C.a.trxDecimal,trxBalance:new E.a(0),tokenBalance:new E.a(0),trxBalanceV1:new E.a(0),tokenBalanceV1:new E.a(0),approvedAmount:new E.a(R.a),tokenLogoUrl:C.a.trxLogoUrl}},Object(u.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!o,!e.t0){e.next=4;break}return e.next=4,n.toTokenRef.current.setTokenAddress(m,!0,"swap");case 4:case"end":return e.stop()}}),e)})))),e.next=28;break;case 19:if(!j&&!b){e.next=28;break}if(!j){e.next=25;break}return e.next=23,n.fromTokenRef.current.setTokenAddress(j,!0);case 23:e.next=26;break;case 25:n.setState({fromToken:i});case 26:return e.next=28,n.toTokenRef.current.setTokenAddress(b,!0);case 28:e.next=48;break;case 30:if(j||b||i.tokenAddress){e.next=34;break}n.setState({fromToken:{tokenSymbol:"TRX",tokenAddress:C.a.trxFakeAddress,tokenDecimal:C.a.trxDecimal,trxBalance:new E.a(0),tokenBalance:new E.a(0),trxBalanceV1:new E.a(0),tokenBalanceV1:new E.a(0),approvedAmount:new E.a(R.a),tokenLogoUrl:C.a.trxLogoUrl}},Object(u.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=n.state.fromToken&&n.state.fromToken.tokenAddress,!e.t0){e.next=5;break}return e.next=5,n.fromTokenRef.current.setTokenAddress(n.state.fromToken.tokenAddress);case 5:if(e.t1=n.state.toToken&&n.state.toToken.tokenAddress,!e.t1){e.next=9;break}return e.next=9,n.toTokenRef.current.setTokenAddress(n.state.toToken.tokenAddress);case 9:e.next=14;break;case 11:e.prev=11,e.t2=e.catch(0),console.log("version change:",e.t2);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))),e.next=48;break;case 34:if(e.prev=34,e.t0=n.state.fromToken&&n.state.fromToken.tokenAddress,!e.t0){e.next=39;break}return e.next=39,n.fromTokenRef.current.setTokenAddress(n.state.fromToken.tokenAddress);case 39:if(e.t1=n.state.toToken&&n.state.toToken.tokenAddress,!e.t1){e.next=43;break}return e.next=43,n.toTokenRef.current.setTokenAddress(n.state.toToken.tokenAddress);case 43:e.next=48;break;case 45:e.prev=45,e.t2=e.catch(34),console.log("version change:",e.t2);case 48:case"end":return e.stop()}}),e,null,[[34,45]])})));return function(t,a,n,s){return e.apply(this,arguments)}}(),n.getHasLiquidity=Object(u.a)(Object(d.a)().mark((function e(){var t,a,s,o,c,r,i,l,u,p,b,j;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.state.fromToken)||!t.tokenAddress||t.tokenAddress===C.a.trxFakeAddress){e.next=12;break}return a=n.props.network.defaultAccount,e.next=5,Object(R.m)(a,t.tokenAddress);case 5:if(s=e.sent,o=s.exchangeAddr,c=s.totalLiquidity,r=o&&Object(E.a)(c).gt(0),n.setState({hasLiquidity:r}),r){e.next=12;break}return e.abrupt("return");case 12:if(!(i=n.state.toToken)||!i.tokenAddress||i.tokenAddress===C.a.trxFakeAddress){e.next=22;break}return l=n.props.network.defaultAccount,e.next=17,Object(R.m)(l,i.tokenAddress);case 17:u=e.sent,p=u.exchangeAddr,b=u.totalLiquidity,j=p&&Object(E.a)(b).gt(0),n.setState({hasLiquidity:j});case 22:case"end":return e.stop()}}),e)}))),n.componentDidMount=Object(u.a)(Object(d.a)().mark((function e(){var t;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=setInterval((function(){if(n.props.network.isConnected){n.getHasLiquidity(),n.timer=setInterval((function(){n.getTokenBalance(),n.getExchangeBalance(n.state.fromToken),n.getExchangeBalance(n.state.toToken);var e=C.a.contract.poly;n.getExchangeBalance(n.state.fromToken,e),n.getExchangeBalance(n.state.toToken,e),n.calcPrice()}),6e3),n.timer2=setInterval((function(){var e=window.localStorage.getItem("swapVersion");n.props.sunSwapPool.getExchangesListV3(e)}),15e3),n.getTokenBalance(),n.getExchangeBalance(n.state.fromToken),n.getExchangeBalance(n.state.toToken);var e=C.a.contract.poly;n.getExchangeBalance(n.state.fromToken,e),n.getExchangeBalance(n.state.toToken,e),clearInterval(t)}}),1e3),e.next=4,n.getExchangesFunc();case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),n.componentWillUnmount=function(){clearInterval(n.timer),clearInterval(n.timer2)},n.reload=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t){var a,s,o;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({fromValue:"",toValue:"",miniError:!1}),a=n.state,s=a.v1Balance,o=a.v2Balance,"v1.0"===t?(n.setState({betterPrice:!1}),s.fromBalance&&s.fromBalanceStr?n.setState({fromBalanceStr:s.fromBalanceStr,fromBalance:s.fromBalance,toBalance:s.toBalance,toBalanceStr:s.toBalanceStr,swapVersion:t},(function(){n.checkInput(),n.initSwapData(t)})):n.initSwapData(t)):"v1.5"===t&&o.fromBalance&&o.fromBalanceStr?n.setState({fromBalanceStr:o.fromBalanceStr,fromBalance:o.fromBalance,toBalance:o.toBalance,toBalanceStr:o.toBalanceStr,swapVersion:t},(function(){n.checkInput(),n.initSwapData(t)})):n.initSwapData(t),n.setState({priceChartVisible:!1},(function(){n.showPriceChart()}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.initSwapData=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getExchangesFunc(t);case 2:n.getTokenBalance(),n.getExchangeBalance(n.state.fromToken),n.getExchangeBalance(n.state.toToken),n.calcPrice();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.checkInput=function(){var e,t=n.state.fromValue,a=n.state.toValue,s=n.state.fromToken,o=n.state.toToken,c=s.tokenAddress,r=o.tokenAddress,i=n.state.dependentValue,l=n.state.receivedFlag;e=!!(s&&o&&(s.tokenAddress===C.a.trxFakeAddress&&o.tokenAddress===C.a.wtrxAddress||o.tokenAddress===C.a.trxFakeAddress&&s.tokenAddress===C.a.wtrxAddress));var d=function(t){n.setState({actionError:t,swapTRXState:e})},u=n.state.recipientAddr;if(n.state.miniError)return d(k.a.get("sunSwap.swap.action_zero"));if(u){if(!Object(E.t)(u))return n.setState({recipientValid:!1}),d(k.a.get("sunSwap.swap.action_invalid_recipient"));n.setState({recipientValid:!0})}else if(n.setState({recipientValid:!1}),n.state.addRecipient)return d(k.a.get("sunSwap.swap.action_enter_recipient"));if(!c||!r)return d(k.a.get("sunSwap.swap.action_select_token"));if(!t)return!l&&a?Object(E.D)(a).lte(0)?d(k.a.get("sunSwap.swap.action_enter_amount")):d(k.a.get("sunSwap.swap.action_insufficient_liquidity")):d(k.a.get("sunSwap.swap.action_enter_amount"));if(Object(E.D)(t).lte(0))return d(k.a.get("sunSwap.swap.action_enter_amount"));if(l){if(!a)return d(k.a.get("sunSwap.swap.action_insufficient_liquidity"));if(n.state.fromBalance.lt(Object(E.D)(t)))return d(k.a.get("sunSwap.swap.action_insufficient",{token:s.tokenSymbol}));if(Object(E.D)(t).gt(s.approvedAmount))return n.setState({actionError:"",needApprove:!0})}else{if(n.state.fromBalance.lt(Object(E.D)(n.state.swapTRXState?t:i)))return d(k.a.get("sunSwap.swap.action_insufficient",{token:s.tokenSymbol}));if(Object(E.D)(i).gt(s.approvedAmount))return n.setState({actionError:"",needApprove:!0})}n.setState({actionError:"",needApprove:!1})},n.getTokenBalance=Object(u.a)(Object(d.a)().mark((function e(){var t,a,s,o,c,r,i,l,u,p,b,j;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.props.network.isConnected){e.next=24;break}if(t=n.props.network.defaultAccount,a=n.state.fromToken,s=n.state.toToken,o=[C.a.trxFakeAddress],c=a.tokenAddress,r=s.tokenAddress,c&&(o[0]=c),r&&o.push(r),o.length){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,Object(R.i)(t,o);case 13:i=e.sent,l=!1,u=!1,p=new E.a(-1),b=new E.a(-1),j={},c?(p=i[0].div(new E.a(10).pow(a.tokenDecimal))).eq(n.state.fromBalance)||(l=!0):p.eq(n.state.fromBalance)||(j.fromBalance=p,j.fromBalanceStr="--"),r?(b=i[1].div(new E.a(10).pow(s.tokenDecimal))).eq(n.state.toBalance)||(u=!0):b.eq(n.state.toBalance)||(j.toBalance=b,j.toBalanceStr="--"),l&&(j.fromBalance=p,j.fromBalanceStr=p._toFixed(6,1)),u&&(j.toBalance=b,j.toBalanceStr=b._toFixed(6,1)),n.setState(j,(function(){n.checkInput();var e=window.localStorage.getItem("swapVersion"),t={fromBalance:n.state.fromBalance,fromBalanceStr:n.state.fromBalanceStr,toBalance:n.state.toBalance,toBalanceStr:n.state.toBalanceStr};"v1.0"===e&&n.setState({v1Balance:t}),"v1.5"===e&&n.setState({v2Balance:t})}));case 24:case"end":return e.stop()}}),e)}))),n.getExchangeBalance=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t,a){var s,o,c,r,i;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.props.network.isConnected||!t.tokenAddress){e.next=21;break}if(s=t.address,t.address||(s=n.props.network.defaultAccount),o=t.addressV1,t.addressV1||(o=n.props.network.defaultAccount),c=[C.a.trxFakeAddress,t.tokenAddress],!a||!o){e.next=14;break}return e.next=9,Object(R.i)(o,c,a);case 9:r=e.sent,t.trxBalanceV1=r[0].div(new E.a(10).pow(C.a.trxDecimal)),t.tokenBalanceV1=r[1].div(new E.a(10).pow(t.tokenDecimal)),e.next=19;break;case 14:return e.next=16,Object(R.i)(s,c);case 16:i=e.sent,t.trxBalance=i[0].div(new E.a(10).pow(C.a.trxDecimal)),t.tokenBalance=i[1].div(new E.a(10).pow(t.tokenDecimal));case 19:e.next=23;break;case 21:t.trxBalance=new E.a(0),t.tokenBalance=new E.a(0);case 23:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.getApprovedAmount=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t){var a,s,o,c;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.props.network.isConnected){e.next=11;break}if((a=t.tokenAddress)!==C.a.trxFakeAddress){e.next=5;break}return t.approvedAmount=new E.a(R.a),e.abrupt("return");case 5:return s=n.props.network.defaultAccount,o=t.address,e.next=9,Object(R.u)(a,s,o);case 9:c=e.sent,t.approvedAmount=c.div(new E.a(10).pow(t.tokenDecimal));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onFromValueChange=function(e){var t=e.target.value,a=n.state.toValue;if(t){var s=Object(E.w)(t.replace(/,/g,""),n.state.fromToken.tokenDecimal),o=s.valid,c=s.str;if(!o)return;t=c,n.state.fromToken.tokenAddress&&n.state.toToken.tokenAddress||(a="")}else a="";n.setState({fromValue:Object(E.b)(t),toValue:Object(E.b)(a),receivedFlag:!0},(function(){n.calcPrice()}))},n.onToValueChange=function(e){var t=n.state.fromValue,a=e.target.value;if(a){var s=Object(E.w)(a.replace(/,/g,""),n.state.toToken.tokenDecimal),o=s.valid,c=s.str;if(!o)return;a=c,n.state.fromToken.tokenAddress&&n.state.toToken.tokenAddress||(t="")}else t="";n.setState({fromValue:Object(E.b)(t),toValue:Object(E.b)(a),receivedFlag:!1},(function(){n.calcPrice()}))},n.addSplit=function(e){return e?Object(E.k)(e):0},n.removeSplit=function(e){return e?(""+e).replace(/\s/g,""):0},n.onFromValueBlur=function(){var e=n.state.fromValue;e&&n.setState({fromValue:Object(E.b)(e)})},n.onToValueBlur=function(){var e=n.state.toValue;e&&n.setState({toValue:Object(E.b)(e)})},n.calcPrice=Object(u.a)(Object(d.a)().mark((function e(){var t,a,s,o,c,r,i,l,u,p,b,j,m,h,f,x,O,g,v,w,S,A,N,y,T,_,D;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=n.state.hasLiquidity,a=n.state.receivedFlag,s=n.state.fromToken,o=n.state.toToken,c=n.state.fromValue,r=n.state.toValue,i=n.state.swapTRXState,l=Object(E.D)(c),u=Object(E.D)(r),p="-",b="-",j=window.localStorage.getItem("swapVersion"),n.getExchangeBalance(s),n.getExchangeBalance(o),m=n.props.sunSwapPool.allExchanges,h=void 0===m?{}:m,s.tokenAddress!==C.a.trxFakeAddress&&(s.addressV1=h&&h[0]&&h[0][s.tokenAddress]?h[0][s.tokenAddress].e:null,s.addressV2=h&&h[1]&&h[1][s.tokenAddress]?h[1][s.tokenAddress].e:null,s.address="v1.0"===j?h&&h[0]&&h[0][s.tokenAddress]?h[0][s.tokenAddress].e:null:h&&h[1]&&h[1][s.tokenAddress]?h[1][s.tokenAddress].e:null),o.tokenAddress!==C.a.trxFakeAddress&&(o.addressV1=h&&h[0]&&h[0][o.tokenAddress]?h[0][o.tokenAddress].e:null,o.addressV2=h&&h[1]&&h[1][o.tokenAddress]?h[1][o.tokenAddress].e:null,o.address="v1.0"===j?h&&h[0]&&h[0][o.tokenAddress]?h[0][o.tokenAddress].e:null:h&&h[1]&&h[1][o.tokenAddress]?h[1][o.tokenAddress].e:null),c||r){e.next=21;break}return n.setState({priceStr:p,priceInverseStr:b,betterPrice:!1},(function(){n.checkInput()})),e.abrupt("return");case 21:if(s.tokenAddress&&o.tokenAddress){e.next=24;break}return n.setState({priceStr:p,priceInverseStr:b,betterPrice:!1},(function(){n.checkInput()})),e.abrupt("return");case 24:if(f=new E.a(1),x=new E.a(1),s.tokenAddress!==C.a.trxFakeAddress&&(f=s.tokenBalance.div(s.trxBalance),x=s.tokenBalanceV1.div(s.trxBalanceV1)),O=new E.a(1),g=new E.a(1),o.tokenAddress!==C.a.trxFakeAddress&&(O=o.tokenBalance.div(o.trxBalance),g=o.tokenBalanceV1&&o.trxBalanceV1&&o.tokenBalanceV1.div(o.trxBalanceV1)),v=new E.a(1).div(new E.a(10).pow(s.tokenDecimal)),w=new E.a(1).div(new E.a(10).pow(o.tokenDecimal)),S=new E.a(1).div(new E.a(10).pow(C.a.trxDecimal)),A=function(e){var t=new E.a(10).pow(C.a.trxDecimal);return e.times(t).integerValue(E.a.ROUND_DOWN).div(t)},N=f.div(O),y=null,(s.tokenAddress===C.a.trxFakeAddress&&o.addressV1&&o.addressV1.length>0||o.tokenAddress===C.a.trxFakeAddress&&s.addressV1&&s.addressV1.length>0)&&(y=x.div(g)),"v1.0"===j&&(N=x.div(g)),T=!1,a?(s.tokenAddress===C.a.trxFakeAddress?o.tokenAddress===C.a.wtrxAddress?(n.swapFuncType="deposit",u=l,n.setState({swapTRXState:!0}),i=!0):(n.swapFuncType="trxToTokenFromInput",u=n.calcTrxTokenOutputFromInput(l,o.trxBalance,o.tokenBalance)):o.tokenAddress===C.a.trxFakeAddress?s.tokenAddress===C.a.wtrxAddress?(n.swapFuncType="withdraw",u=l,n.setState({swapTRXState:!0}),i=!0):(n.swapFuncType="tokenToTrxFromInput",u=n.calcTrxTokenOutputFromInput(l,s.tokenBalance,s.trxBalance)):(n.swapFuncType="tokenToTokenFromInput",T=!0,(u=n.calcTrxTokenOutputFromInput(l,s.tokenBalance,s.trxBalance)).gte(S)?(u=A(u),u=n.calcTrxTokenOutputFromInput(u,o.trxBalance,o.tokenBalance)):u=new E.a(0)),r=u._toFixed(Number(o.tokenDecimal),1)):(s.tokenAddress===C.a.trxFakeAddress?o.tokenAddress===C.a.wtrxAddress?(n.swapFuncType="deposit",l=u,n.setState({swapTRXState:!0}),i=!0):(n.swapFuncType="trxToTokenFromOutput",l=n.calcTrxTokenInputFromOutput(u,o.trxBalance,o.tokenBalance,v)):o.tokenAddress===C.a.trxFakeAddress?s.tokenAddress===C.a.wtrxAddress?(n.swapFuncType="withdraw",l=u,n.setState({swapTRXState:!0}),i=!0):(n.swapFuncType="tokenToTrxFromOutput",l=n.calcTrxTokenInputFromOutput(u,s.tokenBalance,s.trxBalance,v)):(n.swapFuncType="tokenToTokenFromOutput",T=!0,(l=n.calcTrxTokenInputFromOutput(u,o.trxBalance,o.tokenBalance,S)).gte(S)?(l=A(l),l=n.calcTrxTokenInputFromOutput(l,s.tokenBalance,s.trxBalance,v)):l=new E.a(0)),c=l._toFixed(Number(s.tokenDecimal),1)),!a){e.next=56;break}if(!(t&&l.gt(0)&&u.lt(w))){e.next=47;break}return n.setState({toValue:i?c:0,dependentValue:0,priceImpactColor:i?"mini-red":"",priceImpact:i?"--":[o.tokenSymbol,s.tokenSymbol].includes("TRX")?"-99.70%":"-99.40%",miniError:!i,actionError:i?"":k.a.get("sunSwap.swap.action_zero")}),n.calcLiquidityProviderFee(l),e.abrupt("return");case 47:n.setState({miniError:!1});case 48:if(!(u.lt(w)||u.eq(1/0)||u.isNaN()||"v1.0"===j&&!o.addressV1&&o.tokenAddress!==C.a.trxFakeAddress||"v1.5"===j&&!o.addressV2&&o.tokenAddress!==C.a.trxFakeAddress||"v1.0"===j&&!s.addressV1&&s.tokenAddress!==C.a.trxFakeAddress||"v1.5"===j&&!s.addressV2&&s.tokenAddress!==C.a.trxFakeAddress)){e.next=53;break}return"v1.5"===j&&o.addressV1&&s.addressV1&&y&&y.gt(0)?n.setState({toValue:i?c:"",priceStr:p,priceInverseStr:b,betterPrice:!0,notCreatedOfNew:!0},(function(){n.checkInput()})):n.setState({toValue:i?c:"",priceStr:p,priceInverseStr:b,betterPrice:!1,notCreatedOfNew:!1},(function(){n.checkInput()})),e.abrupt("return");case 53:n.setState({miniError:!1});case 54:e.next=69;break;case 56:if(!(t&&u.gt(0)&&l.lt(v))){e.next=62;break}return i?n.setState({fromValue:i?r:0,dependentValue:r,priceImpactColor:"",priceImpact:"",miniError:!1,actionError:""}):n.setState({fromValue:i?r:0,dependentValue:0,priceImpactColor:"mini-red",priceImpact:[o.tokenSymbol,s.tokenSymbol].includes("TRX")?"-99.70%":"-99.40%",miniError:!0,actionError:k.a.get("sunSwap.swap.action_zero")}),n.calcLiquidityProviderFee(u),e.abrupt("return");case 62:n.setState({miniError:!1});case 63:if(!(l.lte(v)||l.eq(1/0)||l.isNaN()||"v1.0"===j&&!o.addressV1&&o.tokenAddress!==C.a.trxFakeAddress||"v1.5"===j&&!o.addressV2&&o.tokenAddress!==C.a.trxFakeAddress||"v1.0"===j&&!s.addressV1&&s.tokenAddress!==C.a.trxFakeAddress||"v1.5"===j&&!s.addressV2&&s.tokenAddress!==C.a.trxFakeAddress)){e.next=68;break}return"v1.5"===j&&o.addressV1&&s.addressV2&&y.gt(0)?n.setState({fromValue:i?r:"",priceStr:p,priceInverseStr:b,betterPrice:!0,notCreatedOfNew:!0},(function(){n.checkInput()})):n.setState({fromValue:i?r:"",priceStr:p,priceInverseStr:b,betterPrice:!1,notCreatedOfNew:!1},(function(){n.checkInput()})),e.abrupt("return");case 68:n.setState({miniError:!1});case 69:y&&y.lt(N)&&"v1.5"===j?n.setState({betterPrice:!0,notCreatedOfNew:!1}):n.setState({betterPrice:!1,notCreatedOfNew:!1}),_=l.div(u),D=u.div(l),p=_._toFixed(Number(s.tokenDecimal),1),b=D._toFixed(Number(o.tokenDecimal),1),n.calcDependentValue(l,u),n.calcPriceImpact(N,_,T),n.calcLiquidityProviderFee(l),n.setState({priceStr:p,priceInverseStr:b,fromValue:Object(E.b)(c),toValue:Object(E.b)(r)},(function(){n.checkInput()})),e.next=83;break;case 80:e.prev=80,e.t0=e.catch(0),console.log("Error: "+e.t0);case 83:case"end":return e.stop()}}),e,null,[[0,80]])}))),n.calcDependentValue=function(e,t){var a=new E.a(n.props.sunSwapNetwork.settingSlippage).div(100),s=new E.a(0),o=C.a.trxDecimal;n.state.receivedFlag?(s=t.times(new E.a(1).minus(a)),o=n.state.toToken.tokenDecimal):(s=e.times(new E.a(1).plus(a)),o=n.state.fromToken.tokenDecimal);var c=s._toFixed(Number(o),1);n.setState({dependentValue:c,dependentValueSunBig:new E.a(c).times(new E.a(10).pow(o))})},n.calcPriceImpact=function(e,t,a){var s=.997;a&&(s=.994);var o=e.minus(t.times(s)).abs().div(t).times(100).abs().times(-1),c="",r="--";r=Object(E.a)(o).lte(0)&&Object(E.a)(o).gt(-.01)?"0.00%":"".concat(o._toFixed(2),"%"),c=o.lte(-15)?"red":o.gt(-15)&&o.lte(-5)?"orange":"blue",n.setState({priceImpact:r,priceImpactColor:c})},n.calcLiquidityProviderFee=function(e){n.swapFuncType.indexOf("tokenToToken")>-1?n.setState({liquidityProviderFee:e.times(6).div(1e3)._toFixed(Number(n.state.fromToken.tokenDecimal),1)}):n.setState({liquidityProviderFee:e.times(3).div(1e3)._toFixed(Number(n.state.fromToken.tokenDecimal),1)})},n.calcTrxTokenOutputFromInput=function(e,t,a){var n=e.times(997),s=n.times(a),o=t.times(1e3).plus(n);return s.div(o)},n.calcTrxTokenInputFromOutput=function(e,t,a,n){var s=t.times(e).times(1e3),o=a.minus(e).times(997);return s.div(o).plus(n)},n.setMaxFrom=function(){if(!n.state.fromBalance.eq(-1)){var e=n.state.fromBalance,t=e.gt(0)?e._toFixed(Number(n.state.fromToken.tokenDecimal),1):"0";n.setState({fromValue:Object(E.b)(t),receivedFlag:!0},(function(){n.calcPrice()}))}},n.addSolor=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t){var a,s,o;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=n.props.sunSwapPool.solor,s=void 0===a?[]:a,(o=I.a.findIndex(s,(function(e){return e.tokenAddress===t.tokenAddress})))>=0?s.splice(o,1,Object(T.a)(Object(T.a)({},t),{},{cst:2})):s.unshift(Object(T.a)(Object(T.a)({},t),{},{cst:2})),n.props.sunSwapPool.setData({solor:s}),window.localStorage.setItem("solor",JSON.stringify(s))}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onFromTokenChange=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t){var a,s,o,c,r,i,l,u,p,b,j,m,h,f,x,k,O,g;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(a=n.props.sunSwapPool.allExchanges,s=void 0===a?{}:a,o=window.localStorage.getItem("swapVersion"),!t.cst){e.next=12;break}return c=s&&s[0]&&s[0][t.tokenAddress]?s[0][t.tokenAddress].e:null,r=s&&s[1]&&s[1][t.tokenAddress]?s[1][t.tokenAddress].e:null,t.address="v1.0"===o?c||null:r||null,t.addressV1=c,t.addressV2=r,e.next=12,n.addSolor(t);case 12:if(t.tokenAddress!==n.state.toToken.tokenAddress){e.next=14;break}return e.abrupt("return",n.switchToken());case 14:return(i=n.state.fromValue)&&t.tokenDecimal!=n.state.fromToken.tokenDecimal&&(i=Object(E.D)(i)._toFixed(Number(t.tokenDecimal),1)),l=n.getExchangeBalance(t),u=n.getExchangeBalance(n.state.toToken),p=C.a.contract.poly,b=n.getExchangeBalance(t,p),j=n.getExchangeBalance(n.state.toToken,p),m=n.getApprovedAmount(t),e.next=24,l;case 24:return e.next=26,u;case 26:return e.next=28,b;case 28:return e.next=30,j;case 30:return e.next=32,m;case 32:if(t.tokenAddress===C.a.trxFakeAddress){e.next=40;break}return h=n.props.network.defaultAccount,e.next=36,Object(R.m)(h,t.tokenAddress);case 36:f=e.sent,x=f.exchangeAddr,k=f.totalLiquidity,n.setState({hasLiquidity:x&&Object(E.a)(k).gt(0)});case 40:O=n.state.toToken,g=t&&O&&(t.tokenAddress===C.a.trxFakeAddress&&O.tokenAddress===C.a.wtrxAddress||t.tokenAddress===C.a.wtrxAddress&&O.tokenAddress===C.a.trxFakeAddress),n.setState({fromValue:Object(E.b)(i),fromToken:t,needApprove:!1,swapTRXState:g},(function(){n.calcPrice(),n.getTokenBalance(),n.showPriceChart()}));case 43:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onToTokenChange=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t){var a,s,o,c,r,i,l,u,p,b,j,m,h,f,x,k,O,g;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.props.sunSwapPool.allExchanges,s=void 0===a?{}:a,o=window.localStorage.getItem("swapVersion"),!t.cst){e.next=10;break}return c=s&&s[0]&&s[0][t.tokenAddress]?s[0][t.tokenAddress].e:null,r=s&&s[1]&&s[1][t.tokenAddress]?s[1][t.tokenAddress].e:null,t.address="v1.0"===o?c||null:r||null,t.addressV1=c,t.addressV2=r,e.next=10,n.addSolor(t);case 10:if(e.prev=10,t.tokenAddress!==n.state.fromToken.tokenAddress){e.next=13;break}return e.abrupt("return",n.switchToken());case 13:return(i=n.state.toValue)&&t.tokenDecimal!=n.state.toToken.tokenDecimal&&(i=Object(E.D)(i)._toFixed(Number(t.tokenDecimal),1)),l=n.getExchangeBalance(n.state.fromToken),u=n.getExchangeBalance(t),p=C.a.contract.poly,b=n.getExchangeBalance(n.state.fromToken,p),j=n.getExchangeBalance(t,p),m=n.getApprovedAmount(t),e.next=23,l;case 23:return e.next=25,u;case 25:return e.next=27,b;case 27:return e.next=29,j;case 29:return e.next=31,m;case 31:if(t.tokenAddress===C.a.trxFakeAddress){e.next=39;break}return h=n.props.network.defaultAccount,e.next=35,Object(R.m)(h,t.tokenAddress);case 35:f=e.sent,x=f.exchangeAddr,k=f.totalLiquidity,n.setState({hasLiquidity:x&&Object(E.a)(k).gt(0)});case 39:O=n.state.fromToken,g=O&&t&&(t.tokenAddress===C.a.trxFakeAddress&&O.tokenAddress===C.a.wtrxAddress||t.tokenAddress===C.a.wtrxAddress&&O.tokenAddress===C.a.trxFakeAddress),n.setState({toValue:Object(E.b)(i),toToken:t,swapTRXState:g},(function(){n.calcPrice(),n.getTokenBalance(),n.showPriceChart()})),e.next=47;break;case 44:e.prev=44,e.t0=e.catch(10),console.error(e.t0);case 47:case"end":return e.stop()}}),e,null,[[10,44]])})));return function(t){return e.apply(this,arguments)}}(),n.showPriceChart=function(){var e=n.state,t=e.fromToken,a=e.toToken,s=!1;t.tokenAddress&&a.tokenAddress&&(t.tokenAddress===C.a.trxFakeAddress||a.tokenAddress===C.a.trxFakeAddress)&&(s=!0),n.setState({priceChartVisible:s})},n.onSlippageChange=function(){n.calcPrice()},n.showAddRecipient=function(){n.setState({addRecipient:!0},(function(){n.checkInput()}))},n.switchPriceInverseFlag=function(){n.setState({priceInverseFlag:!n.state.priceInverseFlag})},n.switchToken=function(){n.setState({showTrxLimitText:!1});var e=n.state.toToken,t=n.state.fromToken,a=n.state.receivedFlag,s=n.state.fromValue,o=n.state.toValue;a?(o=n.state.fromValue,s=n.state.toValue):(s=n.state.toValue,o=n.state.fromValue),n.setState({priceInverseFlag:!1,receivedFlag:!a,fromToken:e,toToken:t,fromValue:Object(E.b)(s),toValue:Object(E.b)(o),needApprove:!1},Object(u.a)(Object(d.a)().mark((function t(){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getApprovedAmount(e);case 2:return t.next=4,n.getTokenBalance();case 4:n.calcPrice(),n.fromTokenRef.current.setTokenList(),n.toTokenRef.current.setTokenList(),n.fromTokenRef.current.setState({}),n.toTokenRef.current.setState({}),n.setState({showTrxLimitText:!0});case 10:case"end":return t.stop()}}),t)}))))},n.hideAddRecipient=function(){n.setState({addRecipient:!1,recipientAddr:""},(function(){n.checkInput()}))},n.onRecipientChange=function(e){var t=e.target.value;n.setState({recipientAddr:t},(function(){n.checkInput()}))},n.showSettingModal=function(){n.props.sunSwapNetwork.setData({settingVisible:!0})},n.initSwapModal=function(){var e=n.state.swapTRXState,t=n.state.fromToken,a=n.state.toToken,s=!e&&n.state.needApprove,o=n.state.recipientAddr,c=o?k.a.get("sunSwap.swap.action_swapSend"):k.a.get("sunSwap.swap.action_swap"),r=["orange","red"].includes(n.state.priceImpactColor)&&!e?k.a.get("sunSwap.swap.action_swapStill"):o?k.a.get("sunSwap.swap.confirm_swapSend"):k.a.get("sunSwap.swap.confirm_swap"),i=o?k.a.get("sunSwap.action.swapSendAct",{from:t.tokenSymbol,to:a.tokenSymbol}):k.a.get("sunSwap.action.swapAct",{from:t.tokenSymbol,to:a.tokenSymbol}),l=o?k.a.get("sunSwap.action.swapSendActErr"):k.a.get("sunSwap.action.swapActErr");return{swapPopTitle:c,swapPopBtn:r,swapPopBtnDisabled:!1,swapErrorInfo:"",approveActionTitle:k.a.get("sunSwap.action.approveAct",{token:t.tokenSymbol}),approveActionError:k.a.get("sunSwap.action.approveActErr"),approveActionState:"",swapActionTitle:i,swapActionError:l,swapActionState:"",actionInfo:k.a.get("sunSwap.action.startBtn"),actionDisabled:!0,actionRetry:"",actionState:s?"line":"info",actionStarted:!1,successFromValue:"",successToValue:"",miniPopVisible:!1}},n.showSwapModal=function(){n.setState(Object(T.a)(Object(T.a)({},n.initSwapModal()),{},{swapVisible:!0}),(function(){n.onRetryAction()}))},n.beforeHideSwapModal=function(){n.state.actionStarted?n.setState({miniPopVisible:!0}):n.hideSwapModal()},n.hideSwapModal=function(){n.setState({swapVisible:!1},(function(){setTimeout((function(){n.setState(Object(T.a)({},n.initSwapModal()))}),1e3)}))},n.approveToken=Object(u.a)(Object(d.a)().mark((function e(){var t,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state.fromToken.tokenAddress,a=n.state.fromToken.address,!n.state.swapTRXState){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Object(R.e)(t,a,{title:"swap.pop_title_approve",obj:{token:n.state.fromToken.tokenSymbol}});case 6:e.sent?n.setState({approveActionState:"pending",actionInfo:k.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0,needApprove:!1},(function(){setTimeout((function(){n.setState({approveActionState:"success",actionState:"info"})}),5e3)})):n.setState({approveActionState:"error",actionRetry:"approveToken",actionInfo:k.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0});case 8:case"end":return e.stop()}}),e)}))),n.beforeSwapToken=Object(u.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({actionStarted:!0,swapPopBtn:k.a.get("sunSwap.action.startBtn"),swapPopBtnDisabled:!0},(function(){n.swapToken()}));case 1:case"end":return e.stop()}}),e)}))),n.swapToken=Object(u.a)(Object(d.a)().mark((function e(){var t,a,s,o,c,r,i,l,p,b,j,m,h;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state.fromToken,a=n.state.toToken,s=n.state.fromValue,o=n.state.toValue,c=n.state.recipientAddr,r=n.state.swapTRXState,i=!r&&n.state.needApprove,l=s,p=o,b="",!r){e.next=17;break}return j={title:c&&!r?"swap.pop_title_swap_send":"swap.pop_title_swap",obj:{from:"".concat(Object(E.k)(Object(E.D)(s),t.tokenDecimal)," ").concat(t.tokenSymbol),to:"".concat(Object(E.k)(Object(E.D)(o),a.tokenDecimal)," ").concat(a.tokenSymbol),addr:r?window.defaultAccount:c}},e.next=14,R.B[n.swapFuncType]({amountIn:Object(E.D)(s).times(Object(E.a)(10).pow(t.tokenDecimal))._toIntegerDown()._toHex(),amountOut:Object(E.D)(o).times(Object(E.a)(10).pow(a.tokenDecimal))._toIntegerDown()._toHex(),intlObj:j});case 14:b=e.sent,e.next=33;break;case 17:return e.t0=R.B,e.t1=n.swapFuncType,e.t2=t,e.t3=a,e.t4="0x".concat(Object(E.D)(s).times(new E.a(10).pow(t.tokenDecimal)).toString(16)),e.t5="0x".concat(Object(E.D)(o).times(new E.a(10).pow(a.tokenDecimal)).toString(16)),e.t6="0x".concat(n.state.dependentValueSunBig.toString(16)),e.next=26,Object(R.g)(n.props.sunSwapNetwork.settingDeadline);case 26:return e.t7=e.sent,e.t8=c,e.t9={title:c?"swap.pop_title_swap_send":"swap.pop_title_swap",obj:{from:"".concat(Object(E.k)(Object(E.D)(s),t.tokenDecimal)," ").concat(t.tokenSymbol),to:"".concat(Object(E.k)(Object(E.D)(o),a.tokenDecimal)," ").concat(a.tokenSymbol),addr:c}},e.t10={fromToken:e.t2,toToken:e.t3,input:e.t4,output:e.t5,dependentValue:e.t6,deadline:e.t7,recipientAddr:e.t8,intlObj:e.t9},e.next=32,e.t0[e.t1].call(e.t0,e.t10);case 32:b=e.sent;case 33:b?(m={swapErrorInfo:"",swapPopBtn:k.a.get("sunSwap.action.doingBtn"),swapPopBtnDisabled:!0,actionStarted:!0},i&&!r&&(m={actionInfo:k.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,swapActionState:"pending",actionState:"line",actionStarted:!0}),n.setState(m,(function(){setTimeout(Object(u.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({fromValue:"",toValue:"",successFromValue:Object(E.b)(l),successToValue:Object(E.b)(p),actionRetry:"",actionState:"success",actionStarted:!1}),e.next=3,n.getApprovedAmount(n.state.fromToken);case 3:n.calcPrice();case 4:case"end":return e.stop()}}),e)}))),5e3)}))):(h={swapErrorInfo:c?k.a.get("sunSwap.action.swapSendActErr"):k.a.get("sunSwap.action.swapActErr"),swapPopBtn:k.a.get("sunSwap.action.retryBtn"),swapPopBtnDisabled:!1,actionStarted:!0},i&&(h={actionState:"line",swapActionState:"error",actionRetry:"swapToken",actionInfo:k.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0}),n.setState(h));case 34:case"end":return e.stop()}}),e)}))),n.onRetryAction=function(){var e=n.state.actionRetry,t=n.state.needApprove;switch(!e&&t&&(e="approveToken"),e){case"approveToken":n.setState({approveActionState:"start",actionInfo:k.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){n.approveToken()}));break;case"swapToken":n.setState({swapActionState:"start",actionInfo:k.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){n.swapToken()}))}},n.miniPopOk=function(){var e=n.state.needApprove;n.setState({miniPopVisible:!1},(function(){n.hideSwapModal(),e&&n.getApprovedAmount(n.state.fromToken)}))},n.miniPopCancel=function(){n.setState({miniPopVisible:!1})},n.useSafeMax=function(e){var t=n.state,a=t.fromBalanceStr,s=t.toBalanceStr;if("from"===e){var o=Object(E.b)(Object(E.D)(a).minus(C.a.swapFeeAmount));n.setState({fromValue:o,receivedFlag:!0},Object(u.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.calcPrice();case 2:case"end":return e.stop()}}),e)}))))}else if("to"===e){var c=Object(E.b)(Object(E.D)(s).minus(C.a.swapFeeAmount));n.setState({toValue:c},Object(u.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.calcPrice();case 2:case"end":return e.stop()}}),e)}))))}},n.timer=0,n.timer2=0,n.fromTokenRef=f.a.createRef(),n.toTokenRef=f.a.createRef(),n.swapFuncType="",n.state={swapTRXState:!1,fromValue:"",toValue:"",fromToken:{tokenSymbol:""},toToken:{tokenSymbol:""},fromBalance:new E.a(-1),fromBalanceStr:"--",toBalance:new E.a(-1),toBalanceStr:"--",priceStr:"-",priceInverseStr:"-",priceInverseFlag:!1,dependentValueSunBig:"",dependentValue:"",priceImpact:"",priceImpactColor:"",liquidityProviderFee:"",receivedFlag:!0,addRecipient:!1,recipientAddr:"",recipientValid:!1,needApprove:!0,actionError:k.a.get("sunSwap.swap.action_enter_amount"),swapInfo:k.a.get("sunSwap.swap.action_swap"),swapVisible:!1,priceChartVisible:!1,swapPopTitle:"",swapPopBtn:"",swapPopBtnDisabled:!1,swapErrorInfo:"",approveActionTitle:"",approveActionError:"",approveActionState:"",swapActionTitle:"",swapActionError:"",swapActionState:"",actionInfo:"",actionDisabled:!1,actionRetry:"",actionState:"",actionStarted:!1,successFromValue:"",successToValue:"",miniPopVisible:!1,swapVersion:window.localStorage.getItem("swapVersion"),v1Balance:{fromBalance:null,fromBalanceStr:null,toBalance:null,toBalanceStr:null},v2Balance:{fromBalance:null,fromBalanceStr:null,toBalance:null,toBalanceStr:null},betterPrice:!1,notCreatedOfNew:!1,miniError:!1,hasLiquidity:!1,showTrxLimitText:!0},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=(t.priceChartVisible,t.fromToken),n=t.toToken,s=(t.betterPrice,t.notCreatedOfNew,t.fromBalanceStr),o=t.toBalanceStr,c=t.swapTRXState,r=t.fromValue,i=t.toValue,l=t.actionError;return l===k.a.get("sunSwap.swap.action_insufficient_liquidity")&&c&&(l=""),Object(z.jsxs)(ie.a,{className:"swap-content",children:[Object(z.jsxs)("div",{className:"flex justify-content swap-block",children:[Object(z.jsxs)("div",{className:"left-block",children:[Object(z.jsx)("div",{children:k.a.get("sunSwap.swap.input_from")+(this.state.receivedFlag?"":k.a.get("sunSwap.swap.input_estimated"))}),Object(z.jsx)("div",{className:"flex input-number",children:Object(z.jsx)("input",{value:this.state.fromValue,onChange:this.onFromValueChange,onBlur:this.onFromValueBlur,placeholder:k.a.get("sunSwap.swap.input_placeholder")})})]}),Object(z.jsxs)("div",{className:"right-block",children:[Object(z.jsxs)("div",{children:[k.a.get("sunSwap.swap.input_from_balance")," ",Object(z.jsx)("span",{children:Object(E.l)(s,{dp:6,cutZero:!0})})]}),Object(z.jsxs)("div",{className:"token-selector",children:[this.props.network.isConnected?Object(z.jsx)("span",{className:"link",onClick:this.setMaxFrom,children:k.a.get("sunSwap.swap.input_from_max")}):null,Object(z.jsx)(G,{ref:this.fromTokenRef,onChange:this.onFromTokenChange,address:this.props.network.defaultAccount,value:a.tokenAddress,tokenInfo:a,switchValue:n.tokenAddress,swap:!0,asInput:!0,type:1})]})]})]}),Object(z.jsxs)("div",{className:"flex justify-content rates",children:[Object(z.jsx)("div",{className:"word-break",children:k.a.get("sunSwap.swap.input_from_price")}),Object(z.jsx)("div",{className:"flex  ai-center between",children:a.tokenAddress&&n.tokenAddress?Object(z.jsxs)(f.a.Fragment,{children:[Object(z.jsx)("span",{className:"swap-token",children:this.state.priceInverseFlag?k.a.get("sunSwap.swap.input_from_per",{toToken:this.state.fromToken.tokenSymbol,price:c?1:Object(E.l)(this.state.priceInverseStr,{dp:C.a.trxDecimal,cutZero:!0,miniTextNoZero:!0,miniText:C.a.minPrice}),fromToken:this.state.toToken.tokenSymbol}):k.a.get("sunSwap.swap.input_from_per",{toToken:this.state.toToken.tokenSymbol,price:c?1:Object(E.l)(this.state.priceStr,{dp:C.a.trxDecimal,cutZero:!0,miniTextNoZero:!0,miniText:C.a.minPrice}),fromToken:this.state.fromToken.tokenSymbol})}),Object(z.jsx)("img",{src:le.a,alt:"",onClick:this.switchPriceInverseFlag})]}):Object(z.jsx)("div",{children:"--"})})]}),"TRX"===a.tokenSymbol&&this.state.fromValue&&s&&this.state.showTrxLimitText?Object(E.D)(s).gte(C.a.swapFeeAmount)?Object(E.D)(s).minus(C.a.swapFeeAmount).gte(Object(E.D)(this.state.fromValue))?null:Object(z.jsxs)("div",{className:"safe-amount-tip safe-amount",children:[k.a.getHTML("list.trx_tip_1",{value:C.a.swapFeeAmount})," ",Object(z.jsx)("em",{onClick:function(){return e.useSafeMax("from")},children:k.a.get("sunSwap.list.trx_tip_2")})]}):Object(z.jsx)("div",{className:"safe-amount-tip safe-amount",children:k.a.getHTML("list.trx_tip_3",{value:C.a.swapFeeAmount})}):null,Object(z.jsxs)("div",{className:"flex justify-content setting",children:[Object(z.jsx)("img",{src:ue.a,className:"arrDown",alt:"",onClick:this.switchToken}),Object(z.jsx)("span",{className:"link sun-swap-link-1",onClick:this.showSettingModal,children:k.a.get("sunSwap.swap.settings_title")})]}),Object(z.jsxs)("div",{className:"flex justify-content swap-block",children:[Object(z.jsxs)("div",{className:"left-block",children:[Object(z.jsx)("div",{children:k.a.get("sunSwap.swap.input_to")+(this.state.receivedFlag?k.a.get("sunSwap.swap.input_estimated"):"")}),Object(z.jsx)("div",{className:"flex input-number",children:Object(z.jsx)("input",{value:this.state.toValue,onChange:this.onToValueChange,onBlur:this.onToValueBlur,placeholder:k.a.get("sunSwap.swap.input_placeholder")})})]}),Object(z.jsxs)("div",{className:"right-block",children:[Object(z.jsxs)("div",{children:[k.a.get("sunSwap.swap.input_to_balance")," ",Object(z.jsx)("span",{children:Object(E.l)(o,{dp:6,cutZero:!0})})]}),Object(z.jsx)(G,{ref:this.toTokenRef,onChange:this.onToTokenChange,address:this.props.network.defaultAccount,value:n.tokenAddress,tokenInfo:n,switchValue:a.tokenAddress,swap:!0,type:2})]})]}),"TRX"===n.tokenSymbol&&this.state.toValue&&o&&this.state.showTrxLimitText?Object(E.D)(o).gte(C.a.swapFeeAmount)?null:Object(z.jsx)("div",{className:"safe-amount-tip safe-amount",children:k.a.getHTML("list.trx_tip_3",{value:C.a.swapFeeAmount})}):null,this.state.addRecipient?Object(z.jsxs)(f.a.Fragment,{children:[Object(z.jsxs)("div",{className:"flex justify-content add-recipient",children:[Object(z.jsx)("img",{src:de.a,alt:""}),Object(z.jsx)("span",{className:"link",onClick:this.hideAddRecipient,children:k.a.get("sunSwap.swap.input_remove_recipient")})]}),Object(z.jsxs)("div",{className:"recipient-list",children:[Object(z.jsxs)("div",{className:"flex",children:[Object(z.jsx)("div",{children:k.a.get("sunSwap.swap.input_recipient")}),this.state.recipientAddr&&this.state.recipientValid?Object(z.jsx)("a",{className:"link",href:"".concat(C.a.tronscanUrl,"/address/").concat(this.state.recipientAddr),target:"_blank",children:k.a.get("sunSwap.swap.input_recipient_tronscan")}):null]}),Object(z.jsx)("input",{value:this.state.recipientAddr,onChange:this.onRecipientChange,placeholder:k.a.get("sunSwap.swap.input_recipient_placeholder")})]})]}):Object(z.jsx)("div",{className:"add-recipient-btn",children:Object(z.jsx)("span",{className:"link sun-swap-link-1",onClick:this.showAddRecipient,children:k.a.get("sunSwap.swap.input_add_recipient")})}),Object(z.jsx)("div",{className:"flex justify-content detail-item token-info align-items-center",children:Object(z.jsxs)("div",{className:"token-pairs",children:[Object(z.jsxs)("div",{children:[k.a.get("sunSwap.swap.detail_token_info")," "]}),Object(z.jsxs)("div",{children:[this.state.fromToken.tokenAddress?this.state.fromToken.tokenAddress===C.a.trxFakeAddress?Object(z.jsxs)(f.a.Fragment,{children:[!Object(O.a)(window.navigator).any&&Object(z.jsx)("img",{src:this.state.fromToken.tokenLogoUrl,alt:"logo",onError:function(e){e.target.onerror=null,e.target.src=U.a}}),Object(z.jsx)("span",{className:"trx",children:this.state.fromToken.tokenSymbol})]}):Object(z.jsx)(f.a.Fragment,{children:Object(E.G)(Object(z.jsxs)(f.a.Fragment,{children:[!Object(O.a)(window.navigator).any&&Object(z.jsx)("img",{src:this.state.fromToken.tokenLogoUrl,alt:"logo",onError:function(e){e.target.onerror=null,e.target.src=U.a}}),Object(z.jsx)("span",{children:this.state.fromToken.tokenSymbol})]}),this.state.fromToken.tokenAddress)}):Object(z.jsx)("span",{children:"-"}),Object(z.jsx)("span",{children:"\xa0\xa0"}),this.state.toToken.tokenAddress?this.state.toToken.tokenAddress===C.a.trxFakeAddress?Object(z.jsxs)(f.a.Fragment,{children:[!Object(O.a)(window.navigator).any&&Object(z.jsx)("img",{src:this.state.toToken.tokenLogoUrl,alt:"logo",onError:function(e){e.target.onerror=null,e.target.src=U.a}}),Object(z.jsx)("span",{className:"trx",children:this.state.toToken.tokenSymbol})]}):Object(z.jsx)(f.a.Fragment,{children:Object(E.G)(Object(z.jsxs)(f.a.Fragment,{children:[!Object(O.a)(window.navigator).any&&Object(z.jsx)("img",{src:this.state.toToken.tokenLogoUrl,alt:"logo",onError:function(e){e.target.onerror=null,e.target.src=U.a}}),Object(z.jsx)("span",{children:this.state.toToken.tokenSymbol})]}),this.state.toToken.tokenAddress)}):Object(z.jsx)("span",{children:"-"})]})]})}),"0.5"!=this.props.sunSwapNetwork.settingSlippage?Object(z.jsxs)("div",{className:"flex justify-content detail-item slippage",children:[Object(z.jsxs)("div",{children:[k.a.get("sunSwap.swap.detail_slippage")," "]}),Object(z.jsx)("div",{children:(Object(E.a)(this.props.sunSwapNetwork.settingSlippage).lt(.01)?"<0.01":this.props.sunSwapNetwork.settingSlippage)+"%"})]}):null,!c&&Object(E.D)(this.state.fromValue).gt(0)&&Object(E.D)(this.state.toValue).gte(0)&&this.state.fromToken.tokenAddress&&this.state.toToken.tokenAddress?Object(z.jsxs)("div",{children:[Object(z.jsx)("div",{className:"flex justify-content detail-item",children:this.state.receivedFlag?Object(z.jsxs)(f.a.Fragment,{children:[Object(z.jsx)(q.a,{tip:k.a.get("sunSwap.swap.detail_min_received_tip"),left:!0,children:k.a.get("sunSwap.swap.detail_min_received")}),Object(z.jsx)("span",{children:this.state.dependentValue+" "+this.state.toToken.tokenSymbol})]}):Object(z.jsxs)(f.a.Fragment,{children:[Object(z.jsx)(q.a,{tip:k.a.get("sunSwap.swap.detail_max_sold_tip"),left:!0,children:k.a.get("sunSwap.swap.detail_max_sold")}),Object(z.jsx)("span",{children:this.state.dependentValue+" "+this.state.fromToken.tokenSymbol})]})}),Object(z.jsxs)("div",{className:"flex justify-content detail-item",children:[Object(z.jsx)(q.a,{tip:k.a.get("sunSwap.swap.detail_price_impact_tip"),left:!0,children:k.a.get("sunSwap.swap.detail_price_impact")}),Object(z.jsx)("span",{className:(["orange","red","mini-red"].includes(this.state.priceImpactColor)?this.state.priceImpactColor:"normal sun-swap-normal-1")+" price-text",children:this.state.priceImpact.indexOf("NaN")>-1?"--":this.state.priceImpact})]}),Object(z.jsxs)("div",{className:"flex justify-content detail-item",children:[Object(z.jsx)(q.a,{tip:k.a.get("sunSwap.swap.detail_liquidity_fee_tip"),left:!0,children:k.a.get("sunSwap.swap.detail_liquidity_fee")}),Object(z.jsx)("span",{children:this.state.liquidityProviderFee+" "+this.state.fromToken.tokenSymbol})]})]}):null,Object(z.jsx)("div",{className:"action-btns",children:this.props.network.isConnected?l?Object(z.jsx)(Y.a,{type:"single",disabled:!0,info:l}):Object(z.jsx)(Y.a,{type:"single",btnColor:c?"":this.state.priceImpactColor,info:"red"!==this.state.priceImpactColor||c?this.state.swapInfo:k.a.get("sunSwap.swap.action_high"),onClick:this.showSwapModal}):Object(z.jsx)(Y.a,{type:"single",info:k.a.get("sunSwap.swap.action_connect"),onClick:function(){e.props.network.setData({loginModalVisible:!0,loginModalStep:1})}})}),Object(z.jsxs)(_.a,{title:null,closable:"success"!==this.state.actionState,visible:this.state.swapVisible,onCancel:this.beforeHideSwapModal,footer:null,className:"confirm-swap-modal sun-swap-modal",width:630,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:["line"===this.state.actionState&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{className:"title big",children:this.state.swapPopTitle}),Object(z.jsxs)("div",{className:"ib-parent center trans-modal amount",children:[Object(z.jsxs)("div",{className:"from",children:[Object(z.jsx)("div",{className:"from-value",children:this.state.fromValue}),Object(z.jsx)("div",{className:"from-token",children:this.state.fromToken.tokenSymbol})]}),Object(z.jsx)("img",{src:pe.a,alt:"",className:"plus w10"}),Object(z.jsxs)("div",{className:"to",children:[Object(z.jsx)("div",{className:"to-value",children:this.state.toValue}),Object(z.jsx)("div",{className:"to-token",children:this.state.toToken.tokenSymbol})]}),this.state.recipientAddr&&Object(z.jsxs)("div",{className:"recipient",children:[k.a.get("sunSwap.swap.recipient"),this.state.recipientAddr]})]}),Object(z.jsx)("div",{className:"middleTip",children:this.state.recipientAddr?k.a.get("sunSwap.action.swapSendLineTitle"):k.a.get("sunSwap.action.swapLineTitle")}),Object(z.jsxs)(Z.a,{children:[Object(z.jsx)("span",{status:this.state.approveActionState,err:this.state.approveActionError,children:this.state.approveActionTitle}),Object(z.jsx)("span",{status:this.state.swapActionState,err:this.state.swapActionError,children:this.state.swapActionTitle})]}),Object(z.jsx)(Y.a,{type:"single",disabled:this.state.actionDisabled,info:this.state.actionInfo,onClick:this.onRetryAction})]}),"info"===this.state.actionState&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("div",{className:"title big",children:this.state.swapPopTitle}),Object(z.jsxs)("div",{className:"ib-parent center tokens amount",children:[Object(z.jsxs)("div",{className:"from",children:[Object(z.jsx)("div",{className:"from-value",children:this.state.fromValue}),Object(z.jsxs)("div",{className:"from-token",children:[Object(z.jsx)("img",{src:this.state.fromToken.tokenLogoUrl,alt:""}),Object(z.jsx)("span",{children:this.state.fromToken.tokenSymbol})]})]}),Object(z.jsx)("img",{src:pe.a,alt:"",className:"plus w10"}),Object(z.jsxs)("div",{className:"to",children:[Object(z.jsx)("div",{className:"to-value",children:this.state.toValue}),Object(z.jsxs)("div",{className:"to-token",children:[Object(z.jsx)("img",{src:this.state.toToken.tokenLogoUrl,alt:""}),Object(z.jsx)("span",{children:this.state.toToken.tokenSymbol})]})]}),this.state.recipientAddr&&Object(z.jsxs)("div",{className:"recipient",children:[k.a.get("sunSwap.swap.recipient"),this.state.recipientAddr]})]}),!c&&Object(z.jsxs)("div",{className:"flex justify-content price",children:[Object(z.jsx)("div",{className:"",children:k.a.get("sunSwap.swap.input_from_price")}),Object(z.jsxs)("div",{className:"right",children:[Object(z.jsx)("div",{children:"1 ".concat(this.state.toToken.tokenSymbol," =\n                    ").concat(Object(E.l)(this.state.priceStr,{dp:this.state.fromToken.tokenDecimal,cutZero:!0,miniTextNoZero:!0,miniText:C.a.minPrice}),"\n                    ").concat(this.state.fromToken.tokenSymbol," ")}),Object(z.jsx)("div",{className:"mt3",children:"1 ".concat(this.state.fromToken.tokenSymbol," =\n                    ").concat(Object(E.l)(this.state.priceInverseStr,{dp:this.state.toToken.tokenDecimal,cutZero:!0,miniTextNoZero:!0,miniText:C.a.minPrice}),"\n                    ").concat(this.state.toToken.tokenSymbol," ")})]})]}),!c&&"0.5"!=this.props.sunSwapNetwork.settingSlippage&&Object(z.jsxs)("div",{className:"flex justify-content detail-slippage",children:[Object(z.jsxs)("div",{children:[k.a.get("sunSwap.swap.detail_slippage")," "]}),Object(z.jsx)("div",{children:(Object(E.a)(this.props.sunSwapNetwork.settingSlippage).lt(.01)?"<0.01":this.props.sunSwapNetwork.settingSlippage)+"%"})]}),!c&&Object(z.jsxs)("div",{className:"detail-list",children:[Object(z.jsx)("div",{className:"flex justify-content detail-item",children:this.state.receivedFlag?Object(z.jsxs)(f.a.Fragment,{children:[Object(z.jsx)(q.a,{tip:k.a.get("sunSwap.swap.detail_min_received_tip"),left:!0,children:k.a.get("sunSwap.swap.detail_min_received")}),Object(z.jsx)("span",{className:"right",children:this.state.dependentValue+" "+this.state.toToken.tokenSymbol})]}):Object(z.jsxs)(f.a.Fragment,{children:[Object(z.jsx)(q.a,{tip:k.a.get("sunSwap.swap.detail_max_sold_tip"),left:!0,children:k.a.get("sunSwap.swap.detail_max_sold")}),Object(z.jsx)("span",{className:"right",children:this.state.dependentValue+" "+this.state.fromToken.tokenSymbol})]})}),Object(z.jsxs)("div",{className:"flex justify-content detail-item",children:[Object(z.jsx)(q.a,{tip:k.a.get("sunSwap.swap.detail_price_impact_tip"),left:!0,children:k.a.get("sunSwap.swap.detail_price_impact")}),Object(z.jsx)("span",{className:"right "+(["orange","red"].includes(this.state.priceImpactColor)?this.state.priceImpactColor:"normal sun-swap-normal-1"),children:this.state.priceImpact.indexOf("NaN")>-1?"--":this.state.priceImpact})]}),Object(z.jsxs)("div",{className:"flex justify-content detail-item",children:[Object(z.jsx)(q.a,{tip:k.a.get("sunSwap.swap.detail_liquidity_fee_tip"),left:!0,children:k.a.get("sunSwap.swap.detail_liquidity_fee")}),Object(z.jsx)("span",{className:"right",children:this.state.liquidityProviderFee+" "+this.state.fromToken.tokenSymbol})]})]}),Object(z.jsx)("div",{className:"warning",children:this.state.receivedFlag?Object(z.jsx)("div",{children:k.a.get("sunSwap.swap.confirm_warning_output",{amount:c?i:this.state.dependentValue,token:this.state.toToken.tokenSymbol})}):Object(z.jsx)("div",{children:k.a.get("sunSwap.swap.confirm_warning_input",{amount:c?r:this.state.dependentValue,token:this.state.fromToken.tokenSymbol})})}),this.state.swapErrorInfo&&Object(z.jsx)("div",{className:"errorMsg",children:this.state.swapErrorInfo}),Object(z.jsx)(Y.a,{type:"single",btnColor:c?"":this.state.priceImpactColor,disabled:this.state.swapPopBtnDisabled,info:this.state.swapPopBtn,onClick:this.beforeSwapToken})]}),"success"===this.state.actionState&&Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)("div",{className:"modal-success",children:[Object(z.jsx)("img",{src:ae.a,alt:""}),this.state.recipientAddr?Object(z.jsx)("div",{className:"title green",children:k.a.get("sunSwap.action.swapSendSuccessTitle")}):Object(z.jsx)("div",{className:"title green",children:k.a.get("sunSwap.action.swapSuccessTitle")}),Object(z.jsxs)("div",{className:"ib-parent center trans-modal mb25",children:[Object(z.jsxs)("div",{className:"from",children:[Object(z.jsx)("div",{className:"from-value",children:this.state.successFromValue}),Object(z.jsx)("div",{className:"from-token",children:this.state.fromToken.tokenSymbol})]}),Object(z.jsx)("img",{src:pe.a,alt:"",className:"plus w10"}),Object(z.jsxs)("div",{className:"to",children:[Object(z.jsx)("div",{className:"to-value",children:this.state.successToValue}),Object(z.jsx)("div",{className:"to-token",children:this.state.toToken.tokenSymbol})]}),this.state.recipientAddr&&Object(z.jsxs)("div",{className:"recipient",children:[k.a.get("sunSwap.swap.recipient"),Object(E.j)(this.state.recipientAddr)]})]}),Object(z.jsx)(Y.a,{type:"single",info:k.a.get("sunSwap.action.closeBtn"),onClick:this.hideSwapModal}),this.state.recipientAddr?Object(z.jsx)("div",{className:"endTip",children:k.a.get("sunSwap.action.swapSendDescTitle")}):Object(z.jsx)("div",{className:"endTip",children:k.a.get("sunSwap.action.swapDescTitle")})]})})]}),Object(z.jsx)($.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}}]),a}(f.a.Component))||c)||c)||c)||c,je=be,me=a(66),he=a(1403),fe=a(1813),xe=(a(1808),a(1057)),ke=Object(g.b)("sunSwapNetwork")(r=Object(g.b)("sunSwapPool")(r=Object(g.b)("network")(r=Object(g.c)(r=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).showModal=function(){n.setState({visible:!0})},n.cancel=function(){n.state.actionStarted?n.setState({miniPopVisible:!0}):(n.setState({visible:!1}),n.props.hideMigrateModal())},n.migrate=Object(u.a)(Object(d.a)().mark((function e(){var t,a,s,o,c,r,i,l,u,p,b,j,m,h;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,a=t.migrateData,t.migrateDataV2,s=n.computeV2(),o=s.tokenV2,c=s.trxV2,s.lpV2,r="v1.5"===n.props.version?C.a.migrateContract.v15:C.a.migrateContract.v1,i=n.props.sunSwapNetwork.settingSlippageMigrate,l=n.props.network.defaultAccount,i=Number(i),b=new E.a(c),j=new E.a(o),u="0x".concat(j.times(1-i/100).times(new E.a(10).pow(a.tokenDecimal)).integerValue(E.a.ROUND_DOWN).toString(16)),p="0x".concat(b.times(1-i/100).times(new E.a(10).pow(6)).integerValue(E.a.ROUND_DOWN).toString(16)),m={title:"pair_actions.add",obj:{trxAmount:Object(E.k)(a.trx.toString(),6),trx:"TRX",tokenAmount:Object(E.k)(a.value.toString(),a.tokenDecimal),tokenSymbol:a.tokenSymbol}},e.t0=r,e.t1=a.tokenAddress,e.t2=Object(E.a)(u)._toIntegerDown()._toHex(),e.t3=Object(E.a)(p)._toIntegerDown()._toHex(),e.t4=l,e.next=18,Object(R.g)(n.props.sunSwapNetwork.settingDeadlineMigrate);case 18:return e.t5=e.sent,h={contractAddress:e.t0,token:e.t1,amountTokenMin:e.t2,amountETHMin:e.t3,to:e.t4,deadline:e.t5},e.next=22,Object(R.w)(h,m);case 22:e.sent?n.setState({step:3}):n.setApproveBarText("two",!1);case 24:case"end":return e.stop()}}),e)}))),n.computeV2=function(){var e,t,a,s,o,c=n.props,r=c.migrateData,i=c.migrateDataV2,l=Object(E.a)(r.value).div(Object(E.a)(r.trx)),d=Object(E.a)(i.exTokenABalance.div(new E.a(10).pow(r.tokenDecimal))).div(Object(E.a)(i.exTokenBBalance.div(new E.a(10).pow(6))));return Object(E.a)(l).gt(Object(E.a)(d))?(e=Object(E.a)(r.trx),t=Object(E.a)(i.exTokenABalance.div(new E.a(10).pow(r.tokenDecimal))).div(Object(E.a)(i.exTokenBBalance.div(new E.a(10).pow(6)))).times(Object(E.a)(r.trx)),a=Object(E.a)(i.totalLiquidity.div(new E.a(10).pow(18))).div(Object(E.a)(i.exTokenBBalance.div(new E.a(10).pow(6)))).times(Object(E.a)(r.trx)),s=r.tokenSymbol,o=Object(E.l)(Object(E.a)(Object(E.a)(r.value).minus(t)),{miniText:1e-4,cutZero:!0,dp:4})):(t=Object(E.a)(r.value),e=Object(E.a)(i.exTokenBBalance.div(new E.a(10).pow(6))).div(Object(E.a)(i.exTokenABalance.div(new E.a(10).pow(r.tokenDecimal)))).times(Object(E.a)(r.value)),a=Object(E.a)(i.totalLiquidity.div(new E.a(10).pow(18))).div(Object(E.a)(i.exTokenABalance.div(new E.a(10).pow(r.tokenDecimal)))).times(Object(E.a)(r.value)),s="TRX",o=Object(E.l)(Object(E.a)(Object(E.a)(r.trx).minus(e)),{miniText:1e-4,cutZero:!0,dp:4})),{tokenV2:t,trxV2:e,lpV2:a,refundedToken:s,refundedValue:o}},n.checkApproveStatus=Object(u.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.isApproved();case 2:e.sent?n.setState({needApproveOne:"false",actionRetry:"setApproveTwo",step:2,actionStarted:!0},(function(){n.onRetryAction()})):n.onRetryAction();case 4:case"end":return e.stop()}}),e)}))),n.onRetryAction=function(){var e=n.state,t=e.needApproveOne,a=e.needApproveTwo,s=e.actionRetry;switch(s||(t?s="setApproveOne":a&&(s="setApproveTwo")),s){case"setApproveOne":n.setState({approveActionOneState:"start",actionInfo:k.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){n.setApprove("one")}));break;case"setApproveTwo":n.setState({approveActionOneState:"success",approveActionTwoState:"start",actionInfo:k.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){n.migrate()}))}},n.setApproveBarText=function(e,t){console.log(e),t?("one"===e&&n.setState({approveActionOneState:"pending",actionInfo:k.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0},(function(){console.log(273),setTimeout((function(){n.setState({approveActionOneState:"success",approveActionTwoState:"start"})}),5e3)})),"two"===e&&n.setState({approveActionTwoState:"pending",actionInfo:k.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0},(function(){setTimeout((function(){n.setState({approveActionTwoState:"success",baseActionState:"info"})}),5e3)}))):("one"===e&&n.setState({approveActionOneState:"error"}),"two"===e&&n.setState({approveActionTwoState:"error"}),n.setState({actionRetry:"one"===e?"setApproveOne":"setApproveTwo",actionInfo:k.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0}))},n.setApprove=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t){var a,s,o,c;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props,s=a.migrateData,a.migrateDataV2,o="v1.5"===n.props.version?C.a.migrateContract.v15:C.a.migrateContract.v1,n.setState({step:2}),c={title:"migrate.action1"},e.next=6,Object(R.e)(s.address,o,c);case 6:e.sent?(n.setApproveBarText(t,!0),"one"===t?n.setState({needApproveOne:!1,actionRetry:"setApproveTwo"},(function(){n.onRetryAction()})):n.setState({needApproveTwo:!1})):n.setApproveBarText(t,!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.miniPopOk=function(){n.setState({miniPopVisible:!1,visible:!1,step:1,actionStarted:!1}),n.props.hideMigrateModal()},n.miniPopCancel=function(){n.setState({miniPopVisible:!1})},n.gotoPool=function(){n.props.sunSwapPool.setData({actionLiqV2:0}),n.props.onChange(1),n.props.hideMigrateModal()},n.changeRate=function(){var e=n.props,t=e.migrateData,a=e.migrateDataV2;1===n.state.newRateType?n.setState({oldRateType:2,oldRateLabel:"TRX-"+t.tokenSymbol,oldRate:Object(E.l)(Object(E.a)(t.value).div(Object(E.a)(t.trx)),{miniText:1e-4,cutZero:!0,dp:4}),newRateType:2,newRateLabel:"TRX-"+t.tokenSymbol,newRate:Object(E.l)(Object(E.a)(a.exTokenABalance.div(new E.a(10).pow(t.tokenDecimal))).div(Object(E.a)(a.exTokenBBalance.div(new E.a(10).pow(6)))),{miniText:1e-4,cutZero:!0,dp:4})}):n.setState({oldRateType:1,oldRateLabel:t.tokenSymbol+"-TRX",oldRate:Object(E.l)(Object(E.a)(t.trx).div(Object(E.a)(t.value)),{miniText:1e-4,cutZero:!0,dp:4}),newRateType:1,newRateLabel:t.tokenSymbol+"-TRX",newRate:Object(E.l)(Object(E.a)(a.exTokenBBalance.div(new E.a(10).pow(6))).div(Object(E.a)(a.exTokenABalance.div(new E.a(10).pow(t.tokenDecimal)))),{miniText:1e-4,cutZero:!0,dp:4})})},n.isApproved=Object(u.a)(Object(d.a)().mark((function e(){var t,a,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="v1.5"===n.props.version?C.a.migrateContract.v15:C.a.migrateContract.v1,a=n.props.network.defaultAccount,e.next=4,Object(R.u)(n.props.migrateData.address,a,t);case 4:return s=e.sent,e.abrupt("return",Object(E.a)(s).gt(0));case 6:case"end":return e.stop()}}),e)}))),n.settingsRef=f.a.createRef(),n.state={visible:!1,step:1,actionInfo:k.a.get("sunSwap.action.startBtn"),actionDisabled:!0,approveActionOneState:"",approveActionOneError:k.a.get("sunSwap.action.approveActErr"),approveActionOneTitle:k.a.get("sunSwap.migrate.action1"),needApproveOne:!0,needApproveTwo:!0,approveActionTwoState:"",supplyActionEapproveActionTwoErrorrror:k.a.get("sunSwap.action.supplyActErr"),approveActionTwoTitle:k.a.get("sunSwap.migrate.action2"),miniPopVisible:!1,actionStarted:!1,oldRateType:1,oldRateLabel:e.migrateData.tokenSymbol+"-TRX",oldRate:Object(E.l)(Object(E.a)(e.migrateData.trx).div(Object(E.a)(e.migrateData.value)),{miniText:1e-4,cutZero:!0,dp:4}),newRateType:1,newRateLabel:e.migrateData.tokenSymbol+"-TRX",newRate:Object(E.l)(Object(E.a)(e.migrateDataV2.exTokenBBalance.div(new E.a(10).pow(6))).div(Object(E.a)(e.migrateDataV2.exTokenABalance.div(new E.a(10).pow(e.migrateData.tokenDecimal)))),{miniText:1e-4,cutZero:!0,dp:4}),refundedValue:"",refundedToken:"",actionRetry:""},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.migrateData,n=(t.migrateDataV2,this.computeV2()),s=n.tokenV2,o=n.trxV2,c=n.lpV2,r=n.refundedToken,i=n.refundedValue,l=this.state,d=l.step,u=l.actionDisabled,p=l.actionInfo,b=l.approveActionTwoState,j=l.approveActionTwoError,m=l.approveActionTwoTitle,h=l.approveActionOneState,f=l.approveActionOneError,x=l.approveActionOneTitle,g=l.oldRateLabel,v=l.oldRate,w=l.newRateLabel,S=l.newRate;return Object(z.jsxs)("div",{children:[Object(z.jsxs)(_.a,{title:null,closable:3!==this.state.step,visible:this.props.visible||this.state.visible,onCancel:this.cancel,className:"pool-modal sun-swap-modal add-gai ".concat(1===d?"migrateModal":""),footer:null,width:630,destroyOnClose:!0,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:[1===d&&Object(z.jsxs)("div",{className:"step1",children:[Object(z.jsx)("div",{className:"title",children:k.a.get("sunSwap.migrate.title")}),Object(z.jsx)("p",{className:"desc",children:k.a.get("sunSwap.migrate.desc")}),Object(z.jsxs)("section",{className:"info",children:[Object(z.jsxs)("div",{className:"lptokens",children:[Object(z.jsxs)("span",{className:"images",children:[Object(z.jsx)("img",{className:"logo",src:C.a.trxLogoUrl,alt:""}),Object(z.jsx)("img",{className:"logo",src:a.tokenLogoUrl||U.a,alt:""})]}),Object(z.jsxs)("span",{className:"name",children:["TRX-",a.tokenSymbol]}),Object(z.jsx)("span",{className:"version",children:"v1.5"===this.props.version?"V1.5":"V1"})]}),Object(z.jsxs)("div",{className:"box",children:[Object(z.jsx)("div",{className:"line-box",children:Object(z.jsx)("span",{})}),Object(z.jsxs)("div",{className:"lp",children:[Object(z.jsxs)("span",{className:"images",children:[Object(z.jsx)("img",{className:"logo",src:C.a.trxLogoUrl,alt:""}),Object(z.jsx)("img",{className:"logo",src:a.tokenLogoUrl||U.a,alt:""})]}),Object(z.jsxs)("span",{className:"name",children:[a.tokenSymbol,"-TRX LP"]}),Object(z.jsx)("span",{className:"amount",children:Object(E.l)(a.tokens,{miniText:1e-4,cutZero:!0,dp:4})})]}),Object(z.jsxs)("div",{className:"token",children:[Object(z.jsx)("span",{className:"images",children:Object(z.jsx)("img",{className:"logo",src:a.tokenLogoUrl||U.a,alt:""})}),Object(z.jsx)("span",{className:"name",children:a.tokenSymbol}),Object(z.jsx)("span",{className:"amount",children:Object(E.l)(a.value,{miniText:1e-4,cutZero:!0,dp:4})})]}),Object(z.jsxs)("div",{className:"token",children:[Object(z.jsx)("span",{className:"images",children:Object(z.jsx)("img",{className:"logo",src:C.a.trxLogoUrl,alt:""})}),Object(z.jsx)("span",{className:"name",children:"TRX"}),Object(z.jsx)("span",{className:"amount",children:Object(E.l)(a.trx,{miniText:1e-4,cutZero:!0,dp:4})})]})]}),Object(z.jsxs)("div",{className:"rate",children:[Object(z.jsx)("span",{className:"rate-title",children:k.a.get("sunSwap.migrate.rate")}),g,Object(z.jsx)("em",{onClick:function(){return e.changeRate()}}),Object(z.jsx)("span",{className:"value mr-0",children:v})]})]}),Object(z.jsx)("div",{className:"advanced",children:Object(z.jsx)("span",{onClick:function(){e.settingsRef.current.initState(e.props.sunSwapNetwork.settingSlippageMigrate,e.props.sunSwapNetwork.settingDeadlineMigrate),e.props.sunSwapNetwork.setData({settingVisibleMigrate:!0})},children:k.a.get("sunSwap.migrate.set_link")})}),Object(z.jsxs)("section",{className:"info v2",children:[Object(z.jsxs)("div",{className:"lptokens",children:[Object(z.jsxs)("span",{className:"images",children:[Object(z.jsx)("img",{className:"logo",src:C.a.trxLogoUrl,alt:""}),Object(z.jsx)("img",{className:"logo",src:a.tokenLogoUrl||U.a,alt:""})]}),Object(z.jsxs)("span",{className:"name",children:["TRX-",a.tokenSymbol]}),Object(z.jsx)("span",{className:"version",children:"V2"})]}),Object(z.jsxs)("div",{className:"box",children:[Object(z.jsx)("div",{className:"line-box",children:Object(z.jsx)("span",{})}),Object(z.jsxs)("div",{className:"lp",children:[Object(z.jsxs)("span",{className:"images",children:[Object(z.jsx)("img",{className:"logo",src:C.a.trxLogoUrl,alt:""}),Object(z.jsx)("img",{className:"logo",src:a.tokenLogoUrl||U.a,alt:""})]}),Object(z.jsxs)("span",{className:"name",children:[a.tokenSymbol,"-TRX LP"]}),Object(z.jsx)("span",{className:"amount",children:Object(E.l)(c,{miniText:1e-4,cutZero:!0,dp:4})})]}),Object(z.jsxs)("div",{className:"token",children:[Object(z.jsx)("span",{className:"images",children:Object(z.jsx)("img",{className:"logo",src:a.tokenLogoUrl||U.a,alt:""})}),Object(z.jsx)("span",{className:"name",children:a.tokenSymbol}),Object(z.jsx)("span",{className:"amount",children:Object(E.l)(s,{miniText:1e-4,cutZero:!0,dp:4})})]}),Object(z.jsxs)("div",{className:"token",children:[Object(z.jsx)("span",{className:"images",children:Object(z.jsx)("img",{className:"logo",src:C.a.trxLogoUrl,alt:""})}),Object(z.jsx)("span",{className:"name",children:"TRX"}),Object(z.jsx)("span",{className:"amount",children:Object(E.l)(o,{miniText:1e-4,cutZero:!0,dp:4})})]})]}),Object(z.jsxs)("div",{className:"rate",children:[Object(z.jsx)("span",{className:"rate-title",children:k.a.get("sunSwap.migrate.rate")}),w,Object(z.jsx)("em",{onClick:function(){return e.changeRate()}}),Object(z.jsx)("span",{className:"value",children:S})]}),Object(z.jsx)("div",{className:"refunded",children:Object(z.jsx)(q.a,{tip:Object(z.jsx)("div",{className:"pool-tooltip-text",children:k.a.get("sunSwap.migrate.refunded_tips")}),children:k.a.get("sunSwap.migrate.refunded",{value1:i,value2:r}),toolClass:"common-tool",titleClass:"common-tool-title",tail:!0,placement:O.a?"left":"bottom"})})]}),Object(z.jsx)("div",{className:"btn",onClick:this.checkApproveStatus,children:k.a.get("sunSwap.migrate.btn")})]}),2===d&&Object(z.jsxs)("div",{className:"step2",children:[Object(z.jsx)("div",{className:"title normal",children:k.a.get("sunSwap.migrate.migrate")}),Object(z.jsxs)("div",{className:"line",children:[Object(z.jsx)("span",{className:"version",children:"v1.5"===this.props.version?"V1.5":"V1"}),Object(z.jsx)("span",{className:"version",children:"V2"})]}),Object(z.jsxs)("div",{className:"ib-parent center",children:[Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{className:"add-value",children:Object(E.l)(a.value,{miniText:1e-4,cutZero:!0,dp:4})}),Object(z.jsx)("span",{className:"add-token",children:a.tokenSymbol})]}),Object(z.jsx)("span",{className:"plus",children:"+"}),Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{className:"add-value",children:Object(E.l)(a.trx,{miniText:1e-4,cutZero:!0,dp:4})}),Object(z.jsx)("span",{className:"add-token",children:"TRX"})]}),Object(z.jsx)("div",{className:"add-ver",children:"v1.5"===this.props.version?"V1.5":"V1"})]}),Object(z.jsx)("div",{className:"supplyLineTitle",children:k.a.get("sunSwap.action.supplyLineTitle")}),Object(z.jsxs)(Z.a,{children:["success"!==h&&Object(z.jsx)("span",{status:h,err:f,children:x}),"success"!==b&&Object(z.jsx)("span",{status:b,err:j,children:m})]}),Object(z.jsx)(Y.a,{type:"single",disabled:u,info:p,onClick:this.onRetryAction})]}),3===d&&Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)("div",{className:"modal-success",children:[Object(z.jsx)("img",{src:ae.a,alt:""}),Object(z.jsx)("div",{className:"title green",children:k.a.get("sunSwap.migrate.successTitle")}),Object(z.jsxs)("div",{className:"ib-parent center mb40",children:[Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{className:"add-value",children:Object(E.l)(a.value,{miniText:1e-4,cutZero:!0,dp:4})}),Object(z.jsx)("span",{className:"add-token",children:a.tokenSymbol})]}),Object(z.jsx)("span",{className:"plus",children:"+"}),Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{className:"add-value",children:Object(E.l)(a.trx,{miniText:1e-4,cutZero:!0,dp:4})}),Object(z.jsx)("span",{className:"add-token",children:"TRX"})]}),Object(z.jsx)("div",{className:"add-ver",children:"v1.5"===this.props.version?"V1.5":"V1"})]}),Object(z.jsx)(Y.a,{type:"single",info:k.a.get("sunSwap.action.closeBtn"),onClick:this.gotoPool}),Object(z.jsx)("div",{className:"supplyDescTitle",children:k.a.get("sunSwap.action.supplyDescTitle")})]})}),Object(z.jsx)(xe.a,{slippate_tip:k.a.get("sunSwap.migrate.slippate_tip"),ref:this.settingsRef,visible:this.props.sunSwapNetwork.settingVisibleMigrate,onCancel:function(t){e.props.sunSwapNetwork.setData({settingVisibleMigrate:!1})},onChange:function(t,a){e.props.sunSwapNetwork.setData({settingVisibleMigrate:!1}),e.props.sunSwapNetwork.saveSettingsForMigrate(t,a)}})]}),this.state.miniPopVisible&&Object(z.jsx)($.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}}]),a}(f.a.Component))||r)||r)||r)||r,Oe=ke,ge=a(62),ve=a.n(ge),we=a(1150),Se=a(1151),Ae=a(157),Ne=a(875),ye=a(876),Te=Object(z.jsx)(Ae.a,{style:{fontSize:24},spin:!0}),_e=null,Ce=Object(g.b)("sunSwapNetwork")(i=Object(g.b)("sunSwapPool")(i=Object(g.b)("network")(i=Object(g.c)(i=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(u.a)(Object(d.a)().mark((function e(){var t;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.unmount=!1,t=setInterval((function(){n.props.network.isConnected&&(n.timer=setInterval((function(){n.getLiquidityUserData()}),3e3),n.getLiquidityUserData(),clearInterval(t))}),1e3);case 2:case"end":return e.stop()}}),e)}))),n.componentWillUnmount=function(){n.unmount=!0,clearInterval(n.timer)},n.addLiq=function(e){n.props.sunSwapPool.setData({actionLiqV2:1,tokenTwoFixed:!0,tokenInfo:e})},n.removeLiq=function(e){if(!(e.tokens.times(C.a.defaultTokenPrecision).integerValue(E.a.ROUND_DOWN).gt(0)&&e.trx.times(C.a.trxPrecision).integerValue(E.a.ROUND_DOWN).gt(0)&&e.value.times(C.a.defaultTokenPrecision).integerValue(E.a.ROUND_DOWN).gt(0)))return!1;e.tokens.lte(0)||n.props.sunSwapPool.setData({actionLiqV2:2,tokenInfo:e})},n.migrateLiq=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t){var a,s,o,c,r,i,l,u,p;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C.a.wtrxAddress,s=t.tokenAddress,o=n.props.network.defaultAccount,e.next=5,Object(R.n)(o,s,a);case 5:c=e.sent,r=c.exchangeAddr,i=c.exTokenABalance,l=c.exTokenBBalance,u=c.totalLiquidity,p={exchangeAddr:r,exTokenABalance:i,exTokenBBalance:l,totalLiquidity:u},n.setState({migrateModalVisbile:!0,migrateData:t,migrateDataV2:p});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.hasContractV2=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t){var a,n,s,o,c,r;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C.a.wtrxAddress,n=t.tokenAddress,s=Object(E.h)(a,n),o=C.a.chain,c=new ve.a({fullHost:o.fullHost}),e.next=7,c.trx.getContract(s);case 7:if(r=e.sent,"{}"!==JSON.stringify(r)){e.next=12;break}return e.abrupt("return",!1);case 12:return!0,e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.hideMigrateModal=function(e){n.setState({migrateModalVisbile:!1})},n.changeAndFree=function(){n.props.sunSwapPool.setData({actionLiqV2:1,tokenTwoFixed:!1,tokenInfo:{tokenAddress:"",tokenSymbol:""},tokenDetail:{trx:new E.a(0),value:new E.a(0),tokens:new E.a(0),price1:"--",price2:"--",exTrx:new E.a(0)}})},n.getContractData=Object(u.a)(Object(d.a)().mark((function e(){var t,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=n.state.currentPage,!((a=n.props.sunSwapPool.originLiquidityList.slice((t-1)*n.pageSize,(t-1)*n.pageSize+n.pageSize)).length>0)){e.next=8;break}if(n.props.sunSwapPool.originLiquidityList.map((function(e){var t=a.filter((function(t){t.tokenAddress,e.tokenAddress}));t.length>0&&Object.assign(e,t[0])})),!n.unmount){e.next=7;break}return e.abrupt("return");case 7:t===n.state.currentPage&&n.setState({liquidityList:a});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),n.onChange=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({currentPage:t},(function(){n.getContractData()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.showLoginModal=function(e){n.props.network.setData({loginModalVisible:!0,loginModalStep:1})},n.timer=0,n.unmount=!1,n.pageSize=3,n.state={currentPage:1,liquidityList:[],version:window.localStorage.getItem("swapVersion")||"v1.0",migrateModalVisbile:!1,migrateData:"",status:!1},n}return Object(b.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.sunSwapPool.version!==t.version&&this.setState({currentPage:1,liquidityList:[],version:e.sunSwapPool.version,status:!1},(function(){a.getLiquidityUserData(),_e=setTimeout((function(){a.setState({status:!0}),clearTimeout(_e)}),3500)}))}},{key:"getLiquidityUserData",value:function(){var e=Object(u.a)(Object(d.a)().mark((function e(){var t,a,n,s,o,c,r,i,l,u,p,b,j,m;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.network.defaultAccount){e.next=3;break}return e.abrupt("return");case 3:return a=this.props.sunSwapPool,n=a.originLiquidityList,void 0===n?[]:n,s=a.version,o="v1.5"===s?2:1,e.next=7,W.a.getLiquidityUserList(t);case 7:c=e.sent,r=c.filter((function(e){return new E.a(e.jswapBalance).gt(0)&&e.ver===o})),i=[],l=Object(me.a)(r);try{for(l.s();!(u=l.n()).done;)p=u.value,new E.a(p.jswapBalance).gt(0)&&i.push(p.address)}catch(d){l.e(d)}finally{l.f()}return e.next=14,Object(R.p)(this.props.network.defaultAccount,i);case 14:b=e.sent,j=0;case 16:if(!(j<(null===(m=b._trx)||void 0===m?void 0:m.length))){e.next=27;break}return r[j].trx=new E.a(b._trx[j]._hex).div(new E.a(10).pow(6)),r[j].value=new E.a(b._token[j]._hex).div(new E.a(10).pow(r[j].tokenDecimal)),r[j].tokens=new E.a(b._uniToken[j]._hex).div(new E.a(10).pow(6)),r[j].share=new E.a(b._uniToken[j]._hex).times(100).div(new E.a(b._totalsupply[j]._hex)),e.next=23,this.hasContractV2(r[j]);case 23:r[j].hasContractV2=e.sent;case 24:j++,e.next=16;break;case 27:r=r.filter((function(e){return Object(E.a)(e.tokens).gt(0)})),this.props.sunSwapPool.setData({originLiquidityList:r}),1===this.state.currentPage&&this.getContractData();case 31:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.liquidityList,n=t.status,s=this.props.network.isConnected,o=this.props.sunSwapPool,c=o.originLiquidityList,r=void 0===c?[]:c,i=(o.version,a.length),l=k.a.options.currentLocale;return _e&&clearTimeout(_e),_e=setTimeout((function(){e.setState({status:!0}),clearTimeout(_e)}),3500),Object(z.jsxs)(ie.a,{className:"pool-content",children:[Object(z.jsx)(Y.a,{type:"single",info:k.a.get("sunSwap.pool.base_addLiq_btn"),onClick:this.changeAndFree}),Object(z.jsx)(q.a,{tip:Object(z.jsx)("div",{className:"pool-tooltip-text",children:k.a.get("sunSwap.pool.base_list_title_tip")}),children:k.a.get("sunSwap.pool.base_list_title")+(n&&i>0&&r.length>0?"(".concat(r.length,")"):""),toolClass:"common-tool",titleClass:"common-tool-title",tail:!0,placement:O.a?"left":"bottom"}),!n&&Object(z.jsxs)("section",{className:"err-list loading-section",children:[Object(z.jsx)(he.a,{indicator:Te,className:"spiny loading-spiny"}),Object(z.jsx)("span",{className:"loading-text",children:k.a.get("sunSwap.loading")})]}),n&&(s?Object(z.jsx)(z.Fragment,{children:Object(z.jsx)("section",{className:i>0?"base-list":"err-list",children:i>0&&r.length>0?Object(z.jsxs)("div",{children:[Object(z.jsx)("ul",{children:a.map((function(t,a){return Object(z.jsxs)("li",{className:"item",children:[Object(z.jsxs)("div",{className:"line-name flex between",children:[Object(z.jsxs)("div",{className:"inline-flex",children:[Object(z.jsx)("img",{className:"logo",src:H.a,alt:""}),Object(z.jsx)("img",{className:"logo",src:t.tokenLogoUrl||U.a,onError:function(e){e.target.onerror=null,e.target.src=U.a},alt:""}),Object(z.jsxs)("div",{children:[Object(z.jsxs)("span",{className:"name",children:[t.tokenSymbol,Object(z.jsx)("span",{className:"symbol",children:"/"}),"TRX"]}),Object(z.jsx)("a",{className:"link",href:"/?lang="+l+"#/scan/pairDetail?version=v1&pairAddress="+(null===t||void 0===t?void 0:t.address)+"&token0Address="+C.a.trxFakeAddress+"&token1Address="+t.tokenAddress,target:"_blank",children:k.a.get("sunSwap.pool.base_info_link")})]})]}),Object(z.jsxs)("div",{className:"inline-flex actions actions-new",children:[!Object.keys(C.a.deflationToken).includes(t.tokenAddress)&&t.hasContractV2&&t.tokens.gt(0)&&t.trx.gt(0)&&t.value.gt(0)&&Object(z.jsx)("span",{className:"link migrate",onClick:function(a){return e.migrateLiq(t)},children:k.a.get("sunSwap.migrate.title")}),Object(z.jsxs)("div",{className:"inline-flex",children:[Object(z.jsx)("span",{className:"link",onClick:function(a){return e.addLiq(t)},children:k.a.get("sunSwap.pool.base_increase_link")}),Object(z.jsx)("span",{className:"link ".concat(t.tokens.times(C.a.trxPrecision).integerValue(E.a.ROUND_DOWN).gt(0)&&t.trx.times(C.a.trxPrecision).integerValue(E.a.ROUND_DOWN).gt(0)&&t.value.times(C.a.defaultTokenPrecision).integerValue(E.a.ROUND_DOWN).gt(0)?"":"disabled"),onClick:function(a){return e.removeLiq(t)},children:k.a.get("sunSwap.pool.base_remove_link")})]})]})]}),Object(z.jsxs)("div",{className:"line-value ",children:[Object(z.jsxs)("div",{className:"flex between",children:[Object(z.jsxs)("p",{children:[k.a.get("sunSwap.pool.base_amount_text"),Object(z.jsxs)("span",{className:"name",children:[t.tokenSymbol,Object(z.jsx)("span",{className:"symbol",children:"/"}),"TRX"]})]}),Object(z.jsx)("p",{children:Object(z.jsxs)("span",{className:"name",children:[k.a.get("sunSwap.pool.base_tokens_text"),Object(z.jsx)("span",{className:"symbol",children:"/"}),k.a.get("sunSwap.pool.base_share_text")]})})]}),Object(z.jsxs)("div",{className:"flex between",children:[Object(z.jsx)("p",{children:t.value&&Object(z.jsxs)("span",{className:"value",children:[t.value._toFixed(4,1),Object(z.jsx)("span",{className:"symbol",children:"/"}),t.trx._toFixed(4,1)]})}),Object(z.jsx)("p",{children:t.value&&Object(z.jsxs)("span",{className:"value",children:[Object(E.l)(t.tokens,{miniText:1e-4,cutZero:!0,dp:4}),Object(z.jsx)("span",{className:"symbol",children:"/"}),t.share.gt(0)&&t.share.lt(.01)?"<0.01":isNaN(t.share._toFixed(2,1))?"--":t.share._toFixed(2,1),"%"]})})]})]})]},t.address)}))}),Object(z.jsx)(fe.a,{current:this.state.currentPage,pageSize:3,size:"small",onChange:this.onChange,total:r.length,hideOnSinglePage:!0,itemRender:function(e,t,a){return"prev"===t?Object(z.jsx)("a",{children:Object(z.jsx)("img",{src:Ne.a})}):"next"===t?Object(z.jsx)("a",{children:Object(z.jsx)("img",{src:ye.a})}):a}})]}):Object(z.jsx)("div",{className:"sun-swap-empty-text",children:k.a.get("sunSwap.pool.base_noLiquidity_tip")})})}):Object(z.jsx)("section",{className:"err-list",children:Object(z.jsxs)("span",{className:"wallet-link",onClick:function(t){e.showLoginModal(t)},children:[Object(z.jsx)("img",{src:we.a}),Object(z.jsx)("span",{children:k.a.get("sunSwap.pool.base_notConnect_tip")}),Object(z.jsx)("img",{src:Se.a})]})})),this.state.migrateModalVisbile&&Object(z.jsx)(Oe,{visible:this.state.migrateModalVisbile,hideMigrateModal:this.hideMigrateModal,migrateData:this.state.migrateData,migrateDataV2:this.state.migrateDataV2,onChange:this.onChange,version:this.props.sunSwapPool.version})]})}}]),a}(f.a.Component))||i)||i)||i)||i,De=Ce,Ve=a(824),Ie=(a(859),a(1152)),Le=(a(1153),a(927),a(1154)),Be=v.a.TabPane,Pe=Object(g.b)("sunSwapNetwork")(l=Object(g.b)("sunSwapPool")(l=Object(g.c)(l=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(u.a)(Object(d.a)().mark((function e(){var t,a,s,o,c,r,i;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),n.getTvlData(),n.setVersion(),Object(E.A)(),n.props.sunSwapNetwork.setData({defaultSelectedKeys:"1"}),n.props.sunSwapNetwork.getSettingsData(),n.settingsRef.current.initState(n.props.sunSwapNetwork.settingSlippage,n.props.sunSwapNetwork.settingDeadline),e.prev=7,n.props.sunSwapPool.setData({swapRef:n.swapRef,addRef:n.addRef}),t=Object(E.q)("type"),a=Object(E.q)("tokenAddress")||"",s=Object(E.q)("t1")||"",o=Object(E.q)("t0")||"",c=Object(E.q)("s"),r=window.location.hash.replace(/&s=\d/,""),i=window.location.origin+r,c&&window.history.pushState({},0,i),"add"===t?(n.props.sunSwapPool.setData({actionLiqV2:1,tokenInfo:{tokenAddress:a||s||o,tokenSymbol:""}}),n.setState({activeKey:"1"})):"pool"===t?(n.props.sunSwapPool.setData({actionLiqV2:0,tokenInfo:{tokenAddress:a,tokenSymbol:""}}),n.setState({activeKey:"1"})):"swap"===t&&(n.props.sunSwapPool.setData({actionLiqV2:9}),n.setState({activeKey:"2"})),n.props.sunSwapPool.getTokensDataFromLocal(),e.next=21,n.props.sunSwapPool.getTokensCategory();case 21:n.setState({isShow:!0}),e.next=26;break;case 24:e.prev=24,e.t0=e.catch(7);case 26:n.setState({visible:!window.localStorage.getItem("noRemind"),version:window.localStorage.getItem("swapVersion")});case 27:case"end":return e.stop()}}),e,null,[[7,24]])}))),n.setVersion=function(){window.localStorage.setItem("swapVersion",Ie.a),n.props.sunSwapPool.setData({version:Ie.a})},n.changeTab=function(){var e=Object(u.a)(Object(d.a)().mark((function e(t){var a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.setState({activeKey:t}),"1"!==t){e.next=6;break}n.props.sunSwapPool.setData({actionLiqV2:0}),e.next=13;break;case 6:return n.props.sunSwapPool.setData({actionLiqV2:9}),a=window.localStorage.getItem("swapVersion"),n.swapRef.current.getExchangesFunc(a,"swap",C.a.trxFakeAddress,!0),e.next=11,n.swapRef.current.fromTokenRef.current.setTokenList(Object(u.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n.swapRef.current.state.fromToken&&n.swapRef.current.state.fromToken.tokenAddress,!e.t0){e.next=4;break}return e.next=4,n.swapRef.current.fromTokenRef.current.setTokenAddress(n.swapRef.current.state.fromToken.tokenAddress);case 4:case"end":return e.stop()}}),e)}))));case 11:return e.next=13,n.swapRef.current.toTokenRef.current.setTokenList(Object(u.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n.swapRef.current.state.toToken&&n.swapRef.current.state.toToken.tokenAddress,!e.t0){e.next=4;break}return e.next=4,n.swapRef.current.toTokenRef.current.setTokenAddress(n.swapRef.current.state.toToken.tokenAddress);case 4:case"end":return e.stop()}}),e)}))));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),n.closeModal=function(){n.setState({visible:!1})},n.getTvlData=Object(u.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{S.a.get("".concat(C.a.tvl)).then((function(e){var t,a;200===e.status&&null!==(t=e.data)&&void 0!==t&&null!==(a=t.data)&&void 0!==a&&a.allSwaps&&n.setState({totalStakeValue:Number(e.data.data.allSwaps)})}))}catch(t){}case 1:case"end":return e.stop()}}),e)}))),n.onComplete=function(){n.setState({isAnimationNotDone:!1})},n.start=function(){},n.onVersionChange=function(e){var t=e.route,a=n.props.sunSwapPool.actionLiqV2;if(!t||"sun_swap/v1"!==t){var s="";if(9===a){var o=n.swapRef.current.state.fromToken.tokenAddress,c=n.swapRef.current.state.toToken.tokenAddress;o?(s="&t0=".concat(o),c&&(s+="&t1=".concat(c))):c&&(s="&t1=".concat(c)),s+="&type=swap"}else 0===a&&(s+="&type=pool");1===a&&(s="&t0="+C.a.trxFakeAddress+(n.props.sunSwapPool.tokenInfo.tokenAddress===C.a.wtrxAddress?"":"&t1="+n.props.sunSwapPool.tokenInfo.tokenAddress),s+="&type=add");var r=window.location.origin+window.location.pathname;window.location.href=r+"?lang=".concat(n.state.lang).concat(s,"#/").concat(t)}},n.settingsRef=f.a.createRef(),n.swapRef=f.a.createRef(),n.addRef=f.a.createRef(),n.state={lang:window.localStorage.getItem("lang")||k.a.options.currentLocale,activeKey:"2",visible:!1,isAnimationNotDone:!0,isShow:!1,toastStatus:!0,version:Ie.a},n.totalStakeValue="0.00",n}return Object(b.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.totalStakeValue,n=t.isAnimationNotDone,s=t.isShow,o=t.version;return Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)("div",{className:"home",children:[Object(z.jsx)(Ve.a,{customJump:[{key:"v1",handler:this.onVersionChange},{key:"v2",handler:this.onVersionChange}],subNavProps:{isCustom:!0,onItemClick:this.onVersionChange},routeName:"sun_swap/v1",mountedActions:function(){},instantActions:function(){}}),Object(z.jsxs)("div",{className:"swap-and-pool",children:[Object(z.jsxs)("section",{className:"main-content"+(o?" switch-version ".concat("v1.5"===o?"v15":"v2.0"===o?"v2":"v1"):"")+(Object(O.a)(window.navigator).any?" mobile-content":""),children:[Object(z.jsxs)("div",{className:"total-ele",children:[Object(z.jsx)("p",{className:"total-title",children:k.a.get("sunSwap.total_stake")}),Object(z.jsx)("p",{className:"total-value",children:s?Object(z.jsx)(N.a,{ref:function(t){return e.countup=t},className:"custom-count",start:0,end:Number(Object(E.a)(a).toFixed(0,1)),duration:.5,redraw:n,separator:",",decimal:",",prefix:"$ ",suffix:"",onEnd:this.onComplete,onStart:this.start}):Object(z.jsx)("span",{className:"custom-count",children:"\xa0"})})]}),Object(z.jsxs)("div",{className:"nav-style-swap-wrap",children:[Object(z.jsx)("div",{className:"swap-style-header",children:Object(z.jsx)(Le.a,{list:[{label:"V2",value:"V2",route:"sun_swap/v2",handler:this.onVersionChange},{label:"V1",value:"V1",route:"sun_swap/v1",handler:this.onVersionChange}],activeKey:"V1"})}),Object(z.jsx)("div",{className:"nav-style-swap-inner",children:Object(z.jsxs)(v.a,{defaultActiveKey:"2",animated:!1,id:"swap-tab",activeKey:this.state.activeKey,onTabClick:function(t){return e.changeTab(t)},children:[Object(z.jsx)(Be,{tab:k.a.get("sunSwap.tab.swap_text"),children:Object(z.jsx)(je,{ref:this.swapRef})},"2"),Object(z.jsx)(Be,{tab:k.a.get("sunSwap.tab.pool_text"),children:0===this.props.sunSwapPool.actionLiqV2?Object(z.jsx)(De,{}):1===this.props.sunSwapPool.actionLiqV2?Object(z.jsx)(se,{ref:this.addRef}):Object(z.jsx)(re,{})},"1")]})})]})]}),Object(z.jsx)(xe.a,{ref:this.settingsRef,visible:this.props.sunSwapNetwork.settingVisible,onCancel:function(t){e.props.sunSwapNetwork.setData({settingVisible:!1})},onChange:function(t,a){e.props.sunSwapNetwork.setData({settingVisible:!1}),e.props.sunSwapNetwork.saveSettings(t,a),e.swapRef.current&&e.swapRef.current.onSlippageChange()}})]})]})})}}]),a}(f.a.Component))||l)||l)||l;t.default=Pe},824:function(e,t,a){"use strict";var n=a(0),s=a(2),o=a(22),c=a(4),r=a(39),i=a(807),l=a(157),d=a(1878),u=a(1855),p=a(388),b=a(814),j=a(268),m=a(94),h=a(40),f=a.n(h),x=a(70),k=a(3),O=a.n(k),g=a(21),v=a.n(g),w=(a(914),a(270)),S=a.p+"static/media/ico_BitKeep.f16d74ad.svg",A=a.p+"static/media/ico_Okx.c9a8e9ac.svg",N=a.p+"static/media/ico_Tronlink.92ec32d5.svg",y=a.p+"static/media/ico_WalletConnect.d0fb8a01.svg",T=a.p+"static/media/icon_TokenPocket.f40f870f.svg",_=a(5),C=a(168),D=a(1),V=a(829),I=a(49),L=a(30),B=a.n(L),P=a(9),F=a(859),R=a(902),M=a(947),E=a(873),q=(a(966),a(903)),U=a(10),H=Object(k.memo)((function(e){var t=e.menu,a=e.customItems,n=e.onItemClick,s=Object(k.useCallback)((function(e,t){t.stopPropagation(),n(e,t)}),[n]);return Object(U.jsxs)("div",{className:"bottom-sub-nav",children:[Object(U.jsx)("div",{className:"bottom-sub-nav-inner",children:t.map((function(e){var t=e.icon,n=e.iconActive,o=e.corner,c=e.cornerActive;return Object(U.jsx)(R.a,{item:e,isCustom:!!a[e.id],clsPrefix:"bottom-sub",handleClick:s,renderContent:function(e,a){return Object(U.jsxs)(U.Fragment,{children:[t&&Object(U.jsx)("img",{className:"bottom-sub-nav-item-icon",src:a?n:t,alt:"icon"}),e.text,o&&Object(U.jsx)("img",{className:"bottom-sub-nav-item-corner",src:a?c:o,alt:"corner"})]})}},e.id)}))}),Object(U.jsx)("div",{className:"bottom-sub-nav-arrow"})]})})),X=Object(k.memo)((function(e){var t=e.item,a=e.onItemClick,n=void 0===a?function(){}:a,s=e.customItems,o=void 0===s?{}:s,c=e.clsPrefix,r=void 0===c?"bottom":c,i=e.showMenu,l=e.activeItem,d=e.activeMenu,u=t.subRoutes&&t.subRoutes.length>0,p=t.icon,b=t.iconActive,j=!i&&(l===t.id||d===t.id)||i&&u&&i===t.id;return Object(U.jsx)(R.a,{item:t,isCustom:!!o[t.id],itemActive:j,clsPrefix:r,handleClick:n,subNavOpen:u&&i===t.id,renderContent:function(){return Object(U.jsxs)(U.Fragment,{children:[p&&Object(U.jsx)("img",{src:j?b:p,className:Object(E.a)(r,"nav-icon"),alt:"icon"}),Object(U.jsx)("div",{className:Object(E.a)(r,"nav-item-text"),children:t.text}),u&&i===t.id&&Object(U.jsx)(H,{menu:t.subRoutes,customItems:o,onItemClick:n})]})}})})),W=Object(k.memo)((function(e){var t=Object(k.useState)(!1),a=Object(o.a)(t,2),n=a[0],s=a[1],r=Object(k.useState)("home"),i=Object(o.a)(r,2),l=i[0],d=i[1],u=Object(k.useState)("home"),p=Object(o.a)(u,2),b=p[0],j=p[1],m=window.localStorage.getItem("lang"),h=e.customJump,f=(void 0===h?[]:h).reduce((function(e,t){return Object(c.a)(Object(c.a)({},e),{},Object(P.a)({},t.key,t))}),{});Object(k.useEffect)((function(){var e=Object(F.d)();d(e.id),j(e.parentId)}),[l,n]);var x=Object(k.useCallback)((function(e){Math.abs(e.diffY)>1&&s(!1)}),[]);Object(q.a)(x);var O=Object(k.useCallback)((function(e){var t;e.subRoutes&&e.subRoutes.length?s(e.id!==n&&e.id):(s(!1),f[e.id]&&(null===(t=f[e.id])||void 0===t||t.handler(e)))}),[n,f]);return Object(U.jsxs)("div",{className:"bottom-nav-wrap",children:[Object(U.jsx)("div",{className:"bottom-nav-list",children:F.c.map((function(e){return Object(U.jsx)(X,{item:e,activeItem:l,activeMenu:b,showMenu:n,changeShowMenu:s,onItemClick:O,lang:m,customItems:f})}))}),n&&Object(U.jsx)(M.a,{style:{zIndex:100},onClose:function(){return s(!1)}})]})})),J=a(904),z=a.p+"static/media/back_icon.603ba397.svg",K=a.p+"static/media/ico_sucncurve_right.263c51c2.svg",Q=(a(967),function(e){var t=Object(F.d)(),a=t?Object(F.f)(t):[],n=e.showBack,s=e.backIcon,o=e.navList,c=void 0===o?a:o,r=e.isCustom,i=e.cls,l=e.onItemClick,d=e.itemActive,u=e.onBack,p=e.renderBackRight,b=e.shouldScroll,j=e.navRightMoreShow,m=e.navRightMoreClick,h=Object(k.useRef)(null);if(Object(k.useEffect)((function(){if(h&&h.current&&b){var e=h.current.querySelector(".sub-nav-item-active");if(!e)return;h.current.scrollLeft;var t=e.getBoundingClientRect(),a=t.right,n=t.left,s=document.body.clientWidth,o=(a-n)/2+n,c=s/2;o>c&&(a+15>s&&(h.current.scrollLeft=o-c),h.current.scrollTo({left:o-c,behavior:"smooth"}))}}),[h,b]),!n&&!c.length)return null;return Object(U.jsxs)(U.Fragment,{children:[n&&Object(U.jsxs)("div",{className:"sub-nav-back",children:[Object(U.jsx)("img",{className:"sub-nav-back-icon",src:s||z,alt:"back",onClick:function(){u?u():window.history.back()}}),p&&p()]}),Object(U.jsxs)("div",{className:"sub-nav-box",children:[Object(U.jsx)("div",{className:B()("sub-nav-wrap",i,{"show-jump-right-nav":j}),ref:h,children:Object(U.jsx)("div",{className:"sub-nav-wrap-div",children:c.map((function(e){var t=e.subIcon,a=e.subIconActive,n=e.corner,s=e.cornerActive;return Object(U.jsx)(R.a,{isCustom:e.isCustom||r,handleClick:e.onItemClick||l,item:e,clsPrefix:"sub",renderContent:function(e,o){return Object(U.jsxs)(U.Fragment,{children:[t&&Object(U.jsx)("img",{className:"sub-nav-item-icon",src:o?a:t,alt:"icon"}),e.text,n&&Object(U.jsx)("img",{className:"sub-nav-item-corner",src:o?s:n,alt:"corner"})]})},itemActive:d?d(e):void 0})}))})}),j?Object(U.jsx)("div",{className:"sub-nav-right-wrap",children:Object(U.jsx)("div",{className:"sub-nav-right-btn",onClick:function(){m&&m()},children:Object(U.jsx)("img",{src:K,alt:"SunCurve"})})}):""]})]})});Q.defaultProps={isCustom:!1,cls:"",showSubNav:!1,showBack:!1,shouldScroll:!1,navRightMoreShow:!1};var G=Object(k.memo)(Q),Y=a(167),Z=window.localStorage.getItem("lang")||v.a.options.currentLocale||"en-US",$=(a(968),Object(Y.c)((function(e){var t=e.mShowLogo,a=e.subNavProps,n=Object(x.d)((function(){return C.a.network})),s=Object(x.d)((function(){return C.a.accountCenter}));return Object(U.jsxs)(U.Fragment,{children:[t&&Object(U.jsxs)("div",{className:"mobile-header mobile-header-wrap",children:[Object(U.jsx)("a",{href:"/?lang=".concat(Z,"#/home"),className:"mobile-logo"}),Object(U.jsx)("div",{className:"mobile-header-right",children:Object(U.jsx)("div",{className:B()({"mobile-connect-btn":!0,"mobile-connected":n.isConnected}),onClick:function(){n.isConnected?s.toggleAccountCenter(!0):n.showLoginModal()},children:n.isConnected?Object(D.q)(n.defaultAccount,4,3):v.a.get("header.connect_wallet")})})]}),Object(U.jsx)(G,Object(c.a)({},a))]})}))),ee=(a(969),a(122)),te=function(e){return"".concat(e,"FetchParams")},ae=a(1867),ne=(a.p,a(1847),a(1850),function(e){var t=e.accountAddress,a=e.prefix,n=void 0===a?"wallet":a,s=(e.walletName,e.sunioAdapterName,e.isMobileStatus),c=void 0!==s&&s,r=(e.onClose,e.setExpirationTime,e.disConnectWallet),i=Object(k.useState)(window.localStorage.getItem("expirationTime")||1),l=Object(o.a)(i,2),d=(l[0],l[1],Object(x.d)((function(){return C.a.network}))),u=function(){return e.WALLET_LIST_DATA.filter((function(e){return e.type===d.sunioAdapterName}))[0].logo},p=function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:Object(E.a)(n,"wrap"),children:[Object(U.jsx)("img",{className:Object(E.a)(n,"logo"),src:u(),alt:"logo"}),Object(U.jsx)("div",{className:Object(E.a)(n,"info"),children:e.WALLET_LIST_DATA.filter((function(e){return e.type===d.sunioAdapterName}))[0].tip}),Object(U.jsx)("div",{className:Object(E.a)(n,"btn"),onClick:function(e){r()},children:v.a.get("account_modal.disconnect")})]}),Object(U.jsxs)("div",{className:Object(E.a)(n,"address"),children:[Object(U.jsxs)("span",{className:Object(E.a)(n,"label"),children:[v.a.get("account_modal.wallet_address"),"\uff1a"]}),t,Object(U.jsx)("span",{className:Object(E.a)(n,"copy"),onClick:function(){Object(D.p)({value:t})}})]})]})},b=function(){return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("div",{className:Object(E.a)(n,"wrap-mobile"),children:[Object(U.jsxs)("div",{children:[Object(U.jsx)("img",{className:Object(E.a)(n,"logo"),src:u(),alt:"logo"}),Object(U.jsxs)("div",{children:[Object(U.jsxs)("span",{className:Object(E.a)(n,"mobile-address"),children:[t?Object(D.q)(t,8,3):""," "]}),Object(U.jsx)("span",{className:Object(E.a)(n,"copy"),onClick:function(){Object(D.p)({value:t})}})]})]}),Object(U.jsx)("div",{className:Object(E.a)(n,"btn"),onClick:function(e){r()},children:v.a.get("account_modal.disconnect")})]})})};return Object(U.jsx)(U.Fragment,{children:c?Object(U.jsx)(b,{}):Object(U.jsx)(p,{})})}),se=O.a.memo(ne),oe=a(1842),ce=a(1845),re=a(1063),ie=a(44),le=a.n(ie),de=a(964),ue=function(e,t){if(/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){for(var a="#",n=1;n<4;n+=1)a+=e.slice(n,n+1).concat(e.slice(n,n+1));e=a}for(var s=[],o=1;o<7;o+=2)s.push(parseInt("0x"+e.slice(o,o+2)));return t?"RGBA("+[].concat(s,[t]).join(",")+")":"RGB("+s.join(",")+")"}return e},pe=function(e){var t=e.shape,a=void 0===t?"circle":t,n=e.color,s=e.text,o=e.style,r=void 0===o?{}:o,i=e.opacity,l=void 0===i?"0.1":i;return Object(U.jsx)("span",{className:B()("trade-status-tag","trade-status-tag-".concat(a)),style:Object(c.a)(Object(c.a)({},r),{},{color:n,backgroundColor:ue(n,l)}),children:s})},be=Object(k.memo)(pe),je=a(875),me=a(876),he=a(877),fe=a(27),xe=(a(973),a(392)),ke=a(404),Oe=a(405),ge=a(406),ve=a(407),we=a(408),Se=a(391),Ae=a(390),Ne=a(396),ye=a(393),Te=a(398),_e=a(400),Ce=a(394),De=a(401),Ve=a(420),Ie=a(397),Le=a(399),Be=a(395),Pe=a(419),Fe=a(427),Re=a(431),Me=a(425),Ee=a(422),qe=a(424),Ue={twopoollpNew:Oe.default,twopoollp:ke.default,thrpoollp:xe.default,thrpoollpNew:ge.default,thrsunlp:[Se.default,Ae.default],usddtrx:ve.default,usddusdt:we.default,usdcusdt:Ne.default,busd2poollp:ye.default,usdd2poollp:Te.default,usdj2poollp:_e.default,tusd2poollp:Ce.default,usdttusd:De.default,usdd2Pool_2:Ie.default,usdj2Pool_2:Le.default,usdc2Pool_2:Be.default,busd2Pool_2:Ve.default,bttusdt2:Pe.default,trxusdt:Fe.default,winusdt2:Re.default,sunusdt2:Me.default,jstusdt2:Ee.default,nftusdt2:qe.default,default:Object(fe.c)("default")},He=function(e){try{return e?e.split(" ")[0].split("-"):[]}catch(t){return console.log("transferSymbolToToken error"),[]}},Xe=function(e){var t=e.stake,a=void 0===t?{}:t,n=a.id,s=a.symbol,o=a.version,c=Ue[n];if(c)return Object(U.jsx)("div",{className:"sun-stake-logo",children:Array.isArray(c)?c.map((function(e,t){return Object(U.jsx)("img",{src:e},t)})):Object(U.jsx)("img",{src:c,alt:"logo"})});if(s&&He(s).length){var r=He(s);return Object(U.jsx)("div",{className:B()("sun-stake-logo","sun-stake-logo-".concat(r.length)),children:r.map((function(e){return Object(U.jsx)("img",{src:2==o?fe.b[e.toLowerCase()]:fe.a[e.toLowerCase()],alt:""},e)}))})}return Object(U.jsx)("div",{className:"sun-stake-logo",children:Object(U.jsx)("img",{src:Object(fe.c)("default"),alt:"logo"})})},We=Object(k.memo)(Xe),Je=function(e){e.empty;var t=e.className,a=e.style,n=e.size,s=void 0===n?20:n;return Object(U.jsx)("div",{className:B()("infinite-loading",t),style:a,children:Object(U.jsx)("img",{className:"infinite-loading-circle",style:{width:s,height:s},src:he.a,alt:"loading"})})},ze=Object(k.memo)(Je),Ke=a(949),Qe=a.p+"static/media/no_data_center.8292509c.png",Ge="2023-01-01",Ye=le()().diff(le()("2023-07-01"))>=0,Ze=function(e){return Object(U.jsx)(Ke.a,{className:"account-list-empty",img:Qe,emptyText:Ye?v.a.get("account_center.trade_list_no_data_text"):v.a.get("account_center.trade_list_no_data",{time:Ge})})},$e=function(e){return Object(U.jsx)("div",Object(c.a)(Object(c.a)({className:"account-list-tip"},e),{},{children:Ye?v.a.get("account_center.trade_time_tip_text"):v.a.get("account_center.trade_time_tip",{time:Ge})}))},et=["id","pageNo","handlePageChange","children","loading","dataLength"],tt={dp:4},at=function(e){return new Date(e+288e5).toJSON().substr(0,16).replace("T"," ")},nt=function(e){var t,a,n=e.stackLogoId,s=e.stackName,o=_.a.tokens,c=(null===(t=o[n])||void 0===t?void 0:t.symbol)||s;return c="USDC Old LP"===c&&Z===D.Q["zh-CN"].value?"Old USDC LP":c,"".concat(c," ").concat(null!==(a=o[n])&&void 0!==a&&a.lpTokens?"  ( "+o[n].lpTokens.join(" + ")+" )":"")},st=function(e){return function(t,a){return Object(U.jsx)("div",{className:Object(E.a)(e,"dark-tabs-header"),children:t.panes.map((function(a){var n;return Object(U.jsx)("div",{className:B()((n={},Object(P.a)(n,Object(E.a)(e,"dark-tabs-item"),a),Object(P.a)(n,Object(E.a)(e,"dark-tabs-item-active"),t.activeKey===a.key),n)),onClick:function(e){return t.onTabClick(a.key,e)},children:a.props.tab},a.key)}))})}},ot=Object(k.memo)((function(e){var t,a=e.data,n=e.loading,s=e.handlePageChange,o=e.params,c=e.columns,r=!(null!==a&&void 0!==a&&null!==(t=a.list)&&void 0!==t&&t.length);return!n&&r?Object(U.jsx)(Ze,{}):Object(U.jsx)(oe.a,{className:"dark-table dark-pagination",bordered:!1,showHeader:!1,columns:c,dataSource:a.list,loading:{spinning:n,tip:v.a.get("account_center.loading"),indicator:Object(U.jsx)(ze,{size:30,className:"dark-table-loading"})},pagination:{position:["bottomCenter"],total:a.totalCount,pageSize:ee.b,size:"small",defaultCurrent:1,current:o.pageNo,showSizeChanger:!1,onChange:function(e){return s(e)},itemRender:function(e,t,a){return"prev"===t?Object(U.jsx)("a",{children:Object(U.jsx)("img",{src:je.a})}):"next"===t?Object(U.jsx)("a",{children:Object(U.jsx)("img",{src:me.a})}):a}},footer:function(){return Object(U.jsx)($e,{})}})})),ct=O.a.memo((function(e){var t=e.currentType,a=e.handlePageChange,n=e.handleTabChange,s=e.loading,o=e.stakeData,c=e.liquidityData,r=e.getReqKey,i=Object(k.useMemo)((function(){return[{dataIndex:"stackAddr",key:"stackAddr",render:function(e,t){var a=t.type,n=t.stackSym,s=t.amount,o=t.stackLogoId,c=t.version,r=(ee.c[a]||ee.c.default).color;return Object(U.jsxs)("div",{children:[Object(U.jsx)(We,{stake:{id:o,symbol:n,version:c}}),Object(U.jsxs)("div",{className:"trade-pool-info",children:[Object(U.jsxs)("div",{className:"trade-cell-light",children:[Object(D.u)(s,tt),Object(U.jsx)(be,{style:{verticalAlign:"top",marginLeft:10},color:r,text:v.a.get("account_center.stake_status_".concat(a))})]}),Object(U.jsx)("div",{className:"trade-cell-gray",children:nt(t)})]})]})}},{dataIndex:"date",key:"date",render:function(e,t){var a=t.value;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:"trade-cell-light trade-text-right",style:{marginBottom:2},children:["$",Object(D.u)(a,tt)]}),Object(U.jsx)("div",{className:"trade-cell-gray trade-text-right",children:at(e)})]})}}]}),[]),l=Object(k.useMemo)((function(){return[{dataIndex:"tokenInfoList",key:"tokenInfoList",render:function(e,t){var a=t.type,n=(ee.a[a]||ee.a.default).color;return Object(U.jsxs)("div",{children:[Object(U.jsx)(be,{style:{verticalAlign:"top"},color:n,text:v.a.get("account_center.liq_status_".concat(a))}),Object(U.jsx)("div",{className:"trade-liquidity-token-wrap",children:e.map((function(e){return Object(U.jsxs)("div",{className:"trade-liquidity-token-from",children:[Object(U.jsx)(de.a,{style:{width:17,height:17},src:e.tokenLogo}),Object(U.jsx)("span",{className:"trade-cell-gray trade-liquidity-token-name",children:e.tokenSymbol}),Object(U.jsx)("span",{className:"trade-cell-light",children:Object(D.u)(e.amount,tt)})]})}))})]})}},{dataIndex:"time",key:"time",align:"right",className:"trade-liquidity-pc-list-time",render:function(e,t){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{className:"trade-cell-gray",style:{marginBottom:16},children:at(e)}),Object(U.jsxs)("div",{className:"trade-cell-light",children:["$",Object(D.u)(t.value,tt)]})]})}}]}),[]);return Object(U.jsxs)(ce.a,{activeKey:t,renderTabBar:st(),type:"card",onChange:n,className:"dark-tabs",children:[Object(U.jsx)(ce.a.TabPane,{tab:v.a.get("account_center.tab_liquidity"),children:Object(U.jsx)(ot,{params:e[r(ee.d.liquidity)],handlePageChange:a,data:c,loading:s.liquidity,columns:l})},ee.d.liquidity),Object(U.jsx)(ce.a.TabPane,{tab:v.a.get("account_center.tab_stake"),children:Object(U.jsx)(ot,{params:e[r(ee.d.stake)],handlePageChange:a,data:o,loading:s.stake,columns:i})},ee.d.stake)]})})),rt=Object(k.memo)((function(e){var t=e.tokenLogoUrl,a=e.tokenSymbol,n=e.amount,s=e.value,o=e.isStake,c=e.stakeData,r=e.showValue,i=void 0===r||r;return Object(U.jsxs)("div",{className:"trade-token-item",children:[o?Object(U.jsx)(We,{stake:c}):Object(U.jsx)(de.a,{src:t}),Object(U.jsxs)("div",{className:"trade-token-item-right",children:[Object(U.jsxs)("div",{className:"trade-token-item-amount",children:[Object(U.jsx)("span",{className:"trade-font-14 trade-font-light trade-font-w-600",children:Object(D.u)(n,tt)}),i?Object(U.jsxs)("span",{className:"trade-font-14 trade-font-light",children:["$",Object(D.u)(s,tt)]}):null]}),Object(U.jsx)("div",{className:"trade-font-14 trade-font-gray",children:a})]})]})})),it=Object(k.memo)((function(e){var t=e.showStatus,a=e.color,n=e.statusText,s=e.value,o=e.noValText,c=void 0===o?"":o,r=e.className,i=e.showNoVal,l=void 0!==i&&i,d=e.date,u=e.children;return Object(U.jsxs)("div",{className:B()("mobile-trade-item",r),children:[Object(U.jsxs)("div",{className:"mobile-trade-item-header",children:[t&&Object(U.jsx)(be,{color:a,shape:"bar",text:n}),Object(U.jsx)("span",{className:B()({"mobile-trade-item-header-value":!0,"mobile-trade-item-header-value-err":l}),children:l?c:"$".concat(Object(D.u)(s,tt))}),Object(U.jsx)("span",{className:"mobile-trade-item-header-date",children:d})]}),Object(U.jsx)("div",{className:"mobile-trade-item-content",children:u})]})})),lt=function(e){var t=e.id,a=e.pageNo,n=e.handlePageChange,s=e.children,o=e.loading,i=e.dataLength,l=Object(r.a)(e,et);return Object(U.jsx)("div",{id:t,className:"sun-scroll-bar",style:{height:472,overflow:"auto"},children:Object(U.jsx)(re.a,Object(c.a)(Object(c.a)({next:function(){if(!o)return n(a+1,!0)},scrollableTarget:t,dataLength:i,loader:Object(U.jsx)(ze,{}),endMessage:i?Object(U.jsx)($e,{style:{padding:"10px 16px"}}):Object(U.jsx)(Ze,{}),pullDownToRefreshContent:Object(U.jsx)(ze,{style:{marginBottom:10}}),releaseToRefreshContent:Object(U.jsx)(ze,{style:{marginBottom:10}}),refreshFunction:function(){if(!o)return n(1)},pullDownToRefresh:!0,pullDownToRefreshThreshold:50},l),{},{children:s}))})},dt=O.a.memo((function(e){var t,a,n,s,o=e.currentType,c=e.handlePageChange,r=e.handleTabChange,i=e.loading,l=e.stakeData,d=e.liquidityData,u=e.stakeFetchParams,p=e.liquidityFetchParams,b=(d.totalCount||0)-p.pageNo*p.pageSize,j=(l.totalCount||0)-u.pageNo*u.pageSize;return Object(U.jsxs)(ce.a,{activeKey:o,renderTabBar:st("mobile"),type:"card",onChange:r,className:"mobile-dark-tabs",children:[Object(U.jsx)(ce.a.TabPane,{tab:v.a.get("account_center.tab_liquidity"),children:Object(U.jsx)(lt,{id:"liquidity-scroll-list",dataLength:(null===(t=d.list)||void 0===t?void 0:t.length)||0,hasMore:b>0,handlePageChange:c,pageNo:p.pageNo,loading:i.liquidity,children:null===(a=d.list)||void 0===a?void 0:a.map((function(e){var t=e.time,a=e.type,n=e.value,s=e.tokenInfoList;return Object(U.jsx)(it,{showStatus:!0,color:(ee.a[a]||ee.a.default).color,statusText:v.a.get("account_center.liq_status_".concat(a)),value:n,date:at(t),className:"mobile-trade-item-liquidity",children:s.map((function(e){var t=e.tokenLogo,a=e.tokenSymbol,n=e.amount;return Object(U.jsx)(rt,{showValue:!1,tokenLogoUrl:t,tokenSymbol:a,amount:n})}))})}))})},ee.d.liquidity),Object(U.jsx)(ce.a.TabPane,{tab:v.a.get("account_center.tab_stake"),children:Object(U.jsx)(lt,{id:"stake-scroll-list",handlePageChange:c,dataLength:(null===(n=l.list)||void 0===n?void 0:n.length)||0,hasMore:j>0,pageNo:u.pageNo,loading:i.stake,children:null===(s=l.list)||void 0===s?void 0:s.map((function(e){var t=e.date,a=e.amount,n=e.version,s=e.stackLogoId,o=e.stackSym,c=e.type,r=e.value,i=e.stackName;return Object(U.jsx)(it,{showStatus:!0,color:(ee.c[c]||ee.c.default).color,statusText:v.a.get("account_center.stake_status_".concat(c)),date:at(t),showNoVal:!0,noVal:"",children:Object(U.jsx)(rt,{stakeData:{id:s,symbol:o,version:n},tokenSymbol:nt({stackLogoId:s,stackName:i}),amount:a,value:r,isStake:!0})})}))})},ee.d.stake)]})})),ut=function(e){var t=e.onClose,a=e.visible,n=e.accountAddress,s=e.sunioAdapterName,o=e.disConnectWallet,r=e.setExpirationTime,i=e.WALLET_LIST_DATA;return Object(U.jsxs)(ae.a,{onClose:t,className:"mobile-account-center-modal wallet-address-modal",visible:a,closable:!1,placement:"bottom",height:590,children:[Object(U.jsx)(se,{isMobileStatus:!0,accountAddress:n,sunioAdapterName:s,onClose:t,disConnectWallet:o,setExpirationTime:r,WALLET_LIST_DATA:i}),Object(U.jsx)(dt,Object(c.a)({},e))]})},pt=function(e){var t=e.visible,a=e.accountAddress,n=e.sunioAdapterName,s=e.onClose,o=e.disConnectWallet,r=e.setExpirationTime,i=e.WALLET_LIST_DATA;return Object(U.jsxs)(b.a,{width:600,wrapClassName:"dark-modal wallet-address-modal",footer:null,title:"",visible:t,onCancel:s,centered:!0,children:[Object(U.jsx)(se,{accountAddress:a,sunioAdapterName:n,onClose:s,disConnectWallet:o,setExpirationTime:r,WALLET_LIST_DATA:i}),Object(U.jsx)(ct,Object(c.a)({},e))]})},bt=Object(Y.c)((function(e){var t=function(){var e,t=Object(x.d)((function(){return C.a.accountCenter})),a=Object(x.d)((function(){return C.a.network})),n=Object(J.a)("(max-width: 1200px)"),s=t.currentType,o=t.pageParams,r=t.onTabChange,i=t.loading,l=t.stakeData,d=t.liquidityData,u=t.visible,p=te(s);return Object(k.useEffect)((function(){u&&(t.fetchTradeData(ee.d.stake,Object(c.a)({},t[p])),t.fetchTradeData(ee.d.liquidity,Object(c.a)({},t[p]))),u||t.resetPageData()}),[u]),e={visible:u,sunioAdapterName:a.sunioAdapterName,accountAddress:a.defaultAccount,currentType:s,pageParams:o,handleTabChange:function(e){r(e)},loading:i,stakeData:l,liquidityData:d,handlePageChange:function(e,a){t.setData(Object(P.a)({},p,Object(c.a)(Object(c.a)({},t[p]),{},{pageNo:e}))),t.fetchTradeData(s,Object(c.a)({},t[p]),a)}},Object(P.a)(e,te(ee.d.liquidity),t[te(ee.d.liquidity)]),Object(P.a)(e,te(ee.d.stake),t[te(ee.d.stake)]),Object(P.a)(e,"getReqKey",te),Object(P.a)(e,"onClose",(function(){t.toggleAccountCenter(!1)})),Object(P.a)(e,"setExpirationTime",(function(e){a.setExpirationTime(e)})),Object(P.a)(e,"disConnectWallet",(function(){a.disConnectWallet()})),Object(P.a)(e,"isMobileStatus",n),e}(),a=e.WALLET_LIST_DATA;return t.isMobileStatus?Object(U.jsx)(ut,Object(c.a)(Object(c.a)({},t),{},{WALLET_LIST_DATA:a})):Object(U.jsx)(pt,Object(c.a)(Object(c.a)({},t),{},{WALLET_LIST_DATA:a}))})),jt=a(387),mt=a(16),ht=a(62),ft=a.n(ht),xt=a(112),kt=a.p+"static/media/white-close.481cddd1.svg",Ot=a(26),gt=a.n(Ot).a.create({timeout:3e4});gt.interceptors.response.use((function(e){return e.data}));var vt=gt,wt=_.a.noticeListService,St=wt.host,At=wt.path,Nt=function(){var e=Object(s.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vt.get("".concat(St).concat(At,"?type=sunio")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),yt=Object(k.memo)((function(e){var t=e.dataList,a=function(){switch(window.localStorage.getItem("lang")){case D.Q["zh-CN"].value:return"cn";case D.Q["en-US"].value:return"en";case D.Q["zh-TC"].value:return"tw";default:return"en"}}();return t.map((function(e){var t=e["toast_".concat(a)],n=e["link_".concat(a)];return Object(U.jsx)("li",{children:Object(U.jsxs)("a",{href:n,target:"_blank",rel:"noreferrer",children:[Object(U.jsx)("span",{children:t}),Object(U.jsx)("span",{className:"link",children:v.a.get("header.learn_more")})]})},t)}))})),Tt=function(e){var t=e.toastStatus,a=e.onToastChange,n=function(e){var t=document.querySelector(".toast-text ul");t&&(t.style.animationPlayState=e?"paused":"running")},s=Object(k.useState)([]),c=Object(o.a)(s,2),r=c[0],i=c[1];return Object(k.useEffect)((function(){"1"!==t||r.length||Nt().then((function(e){i(Object(h.get)(e,"data",[]))})).catch((function(e){console.warn("fetch notice list error")}))}),[t,r]),t&&"0"!==t?Object(U.jsxs)("div",{className:"header-toast",children:[Object(U.jsx)("div",{className:"toast-text",children:Object(U.jsxs)("ul",{onMouseOver:function(){return n(!0)},onMouseLeave:function(){return n(!1)},className:"animate",children:[Object(U.jsx)(yt,{dataList:r}),Object(U.jsx)(yt,{dataList:r}),Object(U.jsx)(yt,{dataList:r})]})}),Object(U.jsx)("img",{src:kt,className:"white-close",onClick:function(){return a("0")}})]}):null},_t=Object(k.memo)(Tt),Ct=["item","isHoverPurple","lang","customJump","routeName"],Dt=["index","item","items","isHoverPurple","lang","mobileCollapseIndex","setMobileCollapseIndex","toogleMenu","customJump"],Vt=["item","items","isHoverPurple","customJump"],It=_.a.chain,Lt=It.privateKey,Bt=new ft.a({fullHost:It.fullHost,privateKey:Lt}),Pt=function(){var e=Object(x.d)((function(){return C.a.network})),t=window.localStorage.getItem("lang")||v.a.options.currentLocale,a=f.a.find(D.b,{value:t});return Object(U.jsx)("div",{className:"language",children:Object(U.jsx)("div",{className:"hide-for-pc",children:Object(U.jsx)("div",{className:"inner-box",children:Object(U.jsxs)("div",{className:"menu-hover-dropdown",children:[Object(U.jsx)("div",{style:{background:"#383050",borderRadius:"6px"},children:Object(U.jsxs)("a",{className:"lang-link",children:[null===a||void 0===a?void 0:a.name,Object(U.jsx)("div",{className:"down-icon"})]})}),Object(U.jsx)("div",{className:"header-select-box",children:Object(U.jsxs)("div",{className:"lang",children:[Object(U.jsx)("div",{className:"h15"}),Object(U.jsx)("div",{className:"header-wrapper",children:Object(U.jsx)("ul",{className:"top-list lang",children:D.b.map((function(a,n){var s=a.value,o=a.name;return Object(U.jsx)("li",{onClick:function(){return function(t){e.setData({lang:t}),window.localStorage.setItem("lang",t),window.location.search="?lang=".concat(t)}(s)},children:Object(U.jsx)("span",{children:Object(U.jsx)("a",{className:s==t?"disabled lang":"lang",children:o})})},n)}))})})]})})]})})})})},Ft=function(e){var t=e.item,a=e.isHoverPurple,n=void 0!==a&&a,s=e.lang,o=e.customJump,i=e.routeName,l=Object(r.a)(e,Ct),d="";(t.route&&Object(F.g)(t.route)||t.subRoutes&&t.subRoutes.some((function(e){return e.route&&Object(F.g)(e.route)}))||t.route&&t.route===i)&&(d+=" active "),n&&(d+=" is-hover-purple "),t.subRoutes&&t.showSubRoutes&&(d+=" menu-title ");var u=Object(k.useCallback)((function(e){var a=o.find((function(e){return e.key===t.key&&"function"===typeof e.handler}));a&&(e.preventDefault(),a.handler(t)),t.category&&Object(I.a)({action:Object(I.d)(t.category),event_category:t.category})}),[t,o]);return Object(U.jsx)("span",{children:Object(U.jsxs)("a",Object(c.a)(Object(c.a)({href:t.href||"/?lang=".concat(s,"#/").concat("home"===t.route?"home":t.route),className:d,onClick:u,target:t.href?"_blank":"_self"},l),{},{children:[t.text,t.subRoutes?Object(U.jsx)("div",{className:"down-icon"}):null]}),t.text)})},Rt=function(e){var t=e.index,a=e.item,n=(e.items,e.isHoverPurple,e.lang),s=e.mobileCollapseIndex,o=e.setMobileCollapseIndex,c=e.toogleMenu,i=e.customJump,l=(Object(r.a)(e,Dt),""),d=[];return(a.route&&Object(F.g)(a.route)||a.subRoutes&&a.subRoutes.some((function(e){return e.route&&Object(F.g)(e.route)})))&&(l="active",d.push("1")),Object(U.jsx)(u.a,{ghost:!0,expandIconPosition:"right",defaultActiveKey:d,activeKey:s===t?1:-1,onChange:function(){o(s===t?-1:t),c(!1)},children:Object(U.jsx)(u.a.Panel,{header:a.text,className:l,children:a.subRoutes.map((function(e){return"menu"===e.type&&!1!==e.show?Object(U.jsx)("li",{onClick:function(){return c(!0)},style:{textIndent:20},children:e.text},e.text):!1===e.show?null:Object(U.jsx)("li",{children:Object(U.jsx)(Ft,{customJump:i,item:e,isHoverPurple:!0,lang:n},e.text)},e.text)}))},"1")},t)},Mt=Object(k.memo)((function(e){var t=e.lang,a=e.customJump,n=e.routeName,s=Object(k.useState)(-999),i=Object(o.a)(s,2),l=i[0],d=i[1],u=Object(k.useState)(!1),p=Object(o.a)(u,2),b=p[0],j=p[1],m=Object(k.useMemo)((function(){return[F.b.home,Object(c.a)(Object(c.a)({},F.b.sunSwap),{},{subRoutes:[F.b.v2,F.b.v1]}),Object(c.a)(Object(c.a)({},F.b.pool),{},{subRoutes:[F.b.usdt_tusd,F.a.usdd_usdt_tusd_2pool,F.a.usdj_usdt_tusd_2pool,F.a.usdc_usdt_tusd_2pool,Object(c.a)(Object(c.a)({},F.b.pool_more),{},{show:!b}),Object(c.a)(Object(c.a)({},F.b.usdc_2pool),{},{show:b}),Object(c.a)(Object(c.a)({},F.b.usdd_usd_2pool),{},{show:b}),Object(c.a)(Object(c.a)({},F.b.tusd_2pool),{},{show:b}),Object(c.a)(Object(c.a)({},F.b.usdj_2pool),{},{show:b}),Object(c.a)(Object(c.a)({},F.b.busd_2pool),{},{show:b}),Object(c.a)(Object(c.a)({},F.b.usdd_2pool),{},{show:b}),Object(c.a)(Object(c.a)({},F.b["3pool"]),{},{show:b}),Object(c.a)(Object(c.a)({},F.b.usdc),{},{show:b}),Object(c.a)(Object(c.a)({},F.b.usdd_3pool),{},{show:b}),Object(c.a)(Object(c.a)({},F.b.usdd_old_2pool),{},{show:b})]}),F.b.stake,F.b.psm,F.b.governance,F.b.scan]}),[t,b]);Object(k.useEffect)((function(){var e=-1;m.forEach((function(t,a){t.subRoutes&&t.subRoutes.some((function(e){return e.route&&Object(F.g)(e.route)}))&&(e=a)})),d(e)}),[]);var h=function(e){j(e)},f=function(e){var a=e.item,n=e.items,s=(e.isHoverPurple,e.customJump),o=Object(r.a)(e,Vt);return Object(U.jsxs)("div",Object(c.a)(Object(c.a)({className:" menu-hover-dropdown"},o),{},{children:[Object(U.jsx)("button",{children:Object(U.jsx)(Ft,{item:a,isHoverPurple:!0,lang:t,customJump:s})}),Object(U.jsx)("div",{className:"header-select-box-wrapper",children:Object(U.jsxs)("div",{className:B()("header-select-box"),children:[Object(U.jsx)("div",{className:"h15"}),Object(U.jsx)("div",{className:"header-wrapper",children:Object(U.jsx)("ul",{className:"top-list",children:n.map((function(e){return Object(U.jsx)("li",{children:Object(U.jsx)(Ft,{item:e,lang:t,customJump:s})},e.text)}))})})]})})]}))};return Object(U.jsx)(U.Fragment,{children:m.map((function(e,s){return Object(U.jsxs)("div",{className:"header-list-item",children:[Object(U.jsx)("div",{className:"hide-for-pc",children:e.subRoutes&&e.showSubRoutes?Object(U.jsx)(f,{items:e.subRoutes,item:e,isHoverPurple:!0,id:e.id,customJump:a},s):Object(U.jsx)(Ft,{item:e,isHoverPurple:!0,lang:t,customJump:a,routeName:n})}),-999!==l&&Object(U.jsx)("div",{className:"hide-for-mobile",children:e.subRoutes&&e.showSubRoutes?Object(U.jsx)(Rt,{index:s,items:e.subRoutes,item:e,isHoverPurple:!0,mobileCollapseIndex:l,toogleMenu:h,setMobileCollapseIndex:d,customJump:a},s):Object(U.jsx)(Ft,{item:e,isHoverPurple:!0,lang:t,customJump:a},s)})]},s)}))})}));t.a=function(e){Object(m.a)(window.navigator).any;var t,a=Object(x.d)((function(){return C.a.network})),c=Object(x.d)((function(){return C.a.accountCenter})),r=window.localStorage.getItem("lang"),u=window.sessionStorage.getItem("toastStatus")||"1",h=Object(k.useState)(u),f=Object(o.a)(h,2),O=f[0],g=f[1],D=e.customJump,I=void 0===D?[]:D,L=e.subNavProps,P=void 0===L?{}:L,F=e.mShowLogo,R=void 0===F||F,M=e.mShowBottomNav,E=void 0===M||M,H=Object(J.a)("(max-width: 1080px)"),X=Object(k.useRef)(),z=Object(k.useState)(),K=Object(o.a)(z,2),Q=K[0],G=K[1],Y=Object(k.useState)(),Z=Object(o.a)(Y,2),ee=Z[0],te=Z[1],ae=Object(k.useRef)({isHideHeader:Q,isScrollHeader:ee,isMScreen:H});ae.current.isHideHeader=Q,ae.current.isScrollHeader=ee,ae.current.isMScreen=H;var ne=Object(k.useCallback)((function(e){var t,a=e.y,n=e.direction;a>20&&!ae.current.isScrollHeader&&!ae.current.isMScreen&&te(!0),a<=20&&ae.current.isScrollHeader&&!ae.current.isMScreen&&te(!1),"top"===n&&ae.current.isHideHeader?G(!1):"down"===n&&a>(null===(t=X.current)||void 0===t?void 0:t.clientHeight)&&!ae.current.isHideHeader&&G(!0)}),[ae]);Object(q.a)(ne),Object(k.useEffect)((function(){window.pageYOffset>20&&te(!0)}),[]),Object(k.useEffect)((function(){var e;document.documentElement.style.setProperty("--header-height",(null===(e=X.current)||void 0===e?void 0:e.clientHeight)+"px")}),[null===(t=X.current)||void 0===t?void 0:t.clientHeight,O]);var se=Object(k.useCallback)((function(e){window.sessionStorage.setItem("toastStatus",e),g(e)}),[]),oe=Object(k.useMemo)((function(){return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("div",{className:"top-menu-bar "+("none"===e.display?"hide":""),children:[Object(U.jsxs)("div",{className:"inner-box",children:[Object(U.jsx)("a",{href:"/?lang=".concat(r,"#/home"),className:"sun-logo",children:Object(U.jsx)("img",{src:w.a,alt:"SUN Logo"})}),Object(U.jsx)(Mt,{lang:r,customJump:I,routeName:e.routeName})]}),Object(U.jsxs)("div",{className:"flex account-box",children:[Object(U.jsx)(V.a,{accountShow:!0}),Object(U.jsx)(Pt,{})]})]})})}),[e.display,r,I,e.routeName]),ce=function(){a.setData({accountModalVisible:!1})},re=function(){a.setData({loginModalVisible:!1,loginModalStep:1})};Object(k.useEffect)((function(){return function(){c.toggleAccountCenter(!1)}}),[]);var ie=Object(jt.b)().wallets,le=Object(k.useState)(ie[0].adapter),de=Object(o.a)(le,2),ue=de[0],pe=de[1],be=function(){var t=Object(s.a)(Object(n.a)().mark((function t(s){var o;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=ie.filter((function(e){return e.adapter.name===s}))[0].adapter,window.localStorage.setItem("sunioAdapterName",s),window.sunioAdapter=o,pe(o),"TronLink"===s&&a.setData({loginModalStep:2}),t.next=7,o.connect();case 7:if("Connected"!==o.state){t.next=13;break}if("BitKeep"!==o.name||o.address){t.next=10;break}return t.abrupt("return",p.b.error(v.a.get("error.bitkeepError")));case 10:je(o.address,s),a.getTrxBalance(),e.mountedActions&&e.mountedActions();case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.localStorage.getItem("sunioAdapterName");Bt.setAddress(e),mt.ec.tronWeb=a.tronWeb=Bt,a.sunioAdapterName=t,a.defaultAccount=e,a.isConnected=!0,window.defaultAccount=a.defaultAccount,window.localStorage.setItem("sunioAdapterStatus","true"),a.closeLoginModal(),Object(xt.a)({category:"".concat(t.toLocaleLowerCase(),"_connect_success"),waddr:e})},me=function(){var t=Object(s.a)(Object(n.a)().mark((function t(){var s,o,c,r;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.loadPolyContract(),e.instantActions&&e.instantActions(),s=window.localStorage.getItem("sunioAdapterName"),o=null,s?o=ie.filter((function(e){return e.adapter.name===s}))[0].adapter:(o=ie.filter((function(e){return"Found"===e.adapter.readyState}))[0].adapter,s=o.name),pe(o),window.localStorage.setItem("sunioAdapterName",s),c={},(r=window.localStorage.getItem("sunio:ledger"))&&(c=JSON.parse(r)),window.sunioAdapter=o,a.isConnected){t.next=26;break}if("true"!==window.localStorage.getItem("sunioAdapterStatus")){t.next=24;break}if("Ledger"!==o.name||!r){t.next=19;break}return t.next=17,o.connect({account:c});case 17:t.next=21;break;case 19:return t.next=21,o.connect();case 21:je(o.address,s),a.getTrxBalance(),e.mountedActions&&e.mountedActions();case 24:t.next=28;break;case 26:a.getTrxBalance(),e.mountedActions&&e.mountedActions();case 28:a.setVariablesInterval();case 29:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(k.useEffect)((function(){me()}),[]),Object(k.useEffect)((function(){if(ue)return ue.on("connect",(function(e){a.isConnected&&je(e)})),ue.on("stateChanged",(function(e){})),ue.on("accountsChanged",(function(e){e&&e!==window.defaultAccount&&window.location.reload()})),ue.on("chainChanged",(function(e){window.location.reload()})),ue.on("disconnect",(function(){a.isConnected&&(a.isConnected=!1,a.tronWeb=!1,window.defaultAccount=a.defaultAccount=!1,window.localStorage.setItem("sunioAdapterStatus","false"),a.setData({accountModalVisible:!1}),c.toggleAccountCenter(!1),window.location.reload())})),ue.on("error",(function(t){a.loginModalVisible&&!["The wallet is not found."].includes(t.message)&&a.setData({loginModalStep:1}),e.unmountedActions&&e.unmountedActions()})),function(){ue.removeAllListeners()}}),[ue]);var he=Object(k.useMemo)((function(){return[{type:"TronLink",logo:N,name:v.a.get("login_modal.pocket",{value:"TronLink"}),tip:v.a.get("account_modal.pocket_with_wallect",{value:"TronLink"})},{type:"WalletConnect",logo:y,name:v.a.get("login_modal.pocket",{value:"WalletConnect"}),tip:v.a.get("account_modal.pocket_with_wallect",{value:"WalletConnect"})},{type:"BitKeep",logo:S,name:v.a.get("login_modal.pocket",{value:"BitKeep"}),tip:v.a.get("account_modal.pocket_with_wallect",{value:"BitKeep"})},{type:"OKX Wallet",logo:A,name:v.a.get("login_modal.pocket",{value:"OKX"}),tip:v.a.get("account_modal.pocket_with_wallect",{value:"OKX"})},{type:"TokenPocket",logo:T,name:v.a.get("login_modal.pocket",{value:"TokenPocket"}),tip:v.a.get("account_modal.pocket_with_wallect",{value:"TokenPocket"})},{type:"Ledger",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAYAAACLz2ctAAAAAXNSR0IArs4c6QAAFMhJREFUeAHtXXuMFEUeruW5PJbwFEVQjAtcvBCJmoASiUG4O3ICioBiEM5gNPgHJubERzw2HuApHOrxh3gcRLISlA2eghLfiCTKGgNBucNDFgiKILsIeyy77LI87vua7rmZ2Zme7pl+VPf8Kunp7urq+v3qq29+9eyqEiUuBYGysrK+586dG3bx4kXr6FdSUlKGQGXwM868t67Nlxvg1wC/Btwb1zzzHv51OPby6NChw96Ghobj5jtyAgIlxYpC//79u9XX148GSW4ABsOSjt4+Y3IC8e+1DhBzZ8+ePb84duxYo89ytYy+aAhYXl7e+fDhw6OQC2NBOh4jcd1Rk1xpBRG/wrEF+mwZOHBgdU1NTYsmuvmqRqwJ2Llz5yEg2lRk7O043wIku/iKpneRn4HOX0LnT3He0NLSss+7qPWKKXYE7NGjR29k2D3IvPsB9c16wZ23NttBxNfxh1p/6tQpFuGxcbEg4I033thx9+7dv0cm3Q/i3YHc6RSbHEpNyFmk8T2k8fXhw4dv3rFjR2vq4+jdRZqA3bp1648W62PIkDmAvk/04C9I419AxtVoWb/Y2Nh4rKCYQnw5kgTs0qXLoAsXLswH8R4EdqUh4qeD6GYQcVW7du2WnDlz5kcdFHKjQ6QIiDpQORL3JIg3C2ddWrBu8PYzLFvSlRDwPOrANX4K8jLuSBDQbM0+i4RPx9HeSwBiGNd5pKkKZKyIQutZ68xEf1iXs2fPVsDirQWoI3C0iyFhvE4SMRqO46GOHTt2vvzyy6vRcj7ntRCv4tPWAsLqsTW7HOS7xqvEFmM8sIQHke55sIbv6Zh+7QhYWlp6NUj3NxyTdQQsqjqBiBtxPNrc3HxIpzRoU6RNmzatfadOnZ5E63aPkM97ihBTYkuMibX3EvKLUQsL2LVr1yvOnz+/DiDdll8y5C03CMASbm3fvv19TU1NR92850fY0AmIut54JGwtyHeZHwmUODMjABLW4slM1A0/zhwiGN/QimAWA6jvLQLxPhDyBZPZyVKIObFnHoRZJIdiAVHkDkCR+wYAGJMMilyHgwCs4TYUyTNQJB8JWoPACYhhtJGoDL8L8vULOrEiLzsCIGEdhvMmYjjvq+yhvH8SKAFR35sA4m1AMrp6nxSJ0QMEmkDEqagXvu9BXI6iCKw5jrrGTJBvPbTq7EgzCRQGAhxfvwcjKAcxy+jbIBQIhICwfJwytQIJCkReEMDFWEY75NVdmObVgHr6dr/T6WsrGAkpAfmW4LwMCQm0uPcbuJjHX8I8M/PO13zzLXKSD8XuP3CeE/PMinXyUCdcheG7h3C+6EdCfbOAIN8LQj4/sizYOJGHDzIv/ZLqS53MrPM965fSEm/gCIz2q07oOQHN1i4bHL4V74HDLwKJwG/QOt7vdevYU5LA8rGfbxOU7SB5FksEzqEuOMnLfkLPCMgRDjTb+WW/dDLHknuJRDVh2G6sVyMmnhDQHNvdBesnw2uJfIrvBaxgHUg4woux44JbwZxJYU4sEPLFl3MpKaOhYZ57MYum4EbIgQMHFkIhLoMhrrgQuHrfvn3t0ShhtStvV1ARjEbHeJDvA0gv2JLmnQJ5MUwELqA4/l0hk1rzJqA5jZ71PpnJHCYFQpYNAtaa9cG8pvfnZbnMeh+/4RDyhUyAsMWTA6gPrsu3PpiXBeSXVUj4X8JOvMjXCoGnsIjA8241ck1AjHRczc/7IEj6+9yiHe/wTZhRfZ3b745dF8EwucuFfPFmUp6p62pyw9XrriwgWr13QMi7riRI4KJCAI2SiWgVO14GxLEF5EJBQJLWT5wgYIfAcpMrdmESzxxbQNT9FqLu90ziTc0uMF1I8UADSV155ZUKuir8G40D/0j1ww8/KLTWFCy4I80ZF7qaFMA03nP0kk+BUK9StbW1hu5MQ2ur3ivzoi64CDr/yQkcjgiIoperzf8LEWq19jL6nxQWJVeTJk1Sw4YNM66x/4dxn5z4kydPqsrKSrV27Vr17be5v7Xp3r27mj17tho9erS6++67k6MK5fr48eNq48aNhuzTp0+rn376Sb355psJUoailL3QFvz5h+OPn3N1f0cEhFVZB3kz7GUG9xT/MDV48GB12223qblz5yos2G1YulwaVFdXq/Hjxyt0F9gGZbybNm1S+OPZhgvz4XfffafWrVunqqqq1KFDhxxb9gB1fgM435dLXk4CIhPKYf3+g4gKHjfOpYyT55gUqUaNGqWWLVtmEI9kdOpYjA0dOlRhKpHtK3feeadav55fkOrvsPmOevzxx9XmzZsVqxoaufOwgr+CTrbLBTvJPXY6a0E+WqQpU6aoV155RV1//fXKDfmYMRg4d2QpWH+MimMdlXjMmjVLseqgkSNnyB1bZ0tArkYP6zfLNoaAHrK+x+KzoqLCsGIBiY2EmF69eqlFixYZf042wnRx5A45ZKePLQFhCebjZS1Wo6fFW7Bggbr22mvt0lO0z7DhoVq4cKG69dZbdcKgo8mhrDplJSA3gQGDuQ9H6I4t2xdeeMEodkNXRmMFsCC5mjNnjiJeujhyiFzKpk9WAqK+9Bhe0mITmJkzZ6oxY8ZkS4P4JyHABhTrg6yyaOJKTS5lVCcjAbn3Gpg7J+MbAXuuWbNGPfDAAwFLja44Eo9/WFgdbRJBLpFTmRTKSEBu/IfAWuy9Nn36dDVkyJBMuotfFgTYOY/9kbM8DcW7j8mpNsIzEhD9N9p844GN+NooLR72CAwYMEBNnjzZUee8fUzePc3GqTYE5H67MJncJEZchBEYNGiQVv2C5BS5lQ5pGwKi5/oeBNKnMyldY7l3hMCMGTN067LqZHIrRf82BARTteh4TtFSblwjwFEijVrChv7gVpuqXQoBOesFIUe5Tq28IAg4Q+Bmk2OJ0CkEBEOnJp7IhSDgAwLpHEshIFoqt/sgU6IUBBIIpHMsQUD0G3UGO29JhIzhBQfq3c6giSEMoSaJHCPXLCUSBMS8Mtb9+N2HVo7z/7xynEWcazKqV7IknqwIdDG5ZgRIXkhybNZXQnywa9cuoz8r3XLBlDua20fVGfbDDz9UL7/8sjEnMMTkiOhLCJBrn/MyQUCYRi0JOG7cOKPYtLoUoKdBKIuAvE931jP685qOH/OI9TOgCP3H5FoFFTEIiOk73fDhzsjQNcugAGcxi4sXAiDgSHLu2LFjjUYdsL6+fjSS6F1lK154SWq8R6CjyblL6/qBkTd4L0NiFASyI2BxzrCACDYse1B5Igj4goDBOSGgL9hKpA4QEAI6AEmC+IfAJQKWlZX1hYw287T8kysxCwIGAr3JvXbo5pD6nzAiFATIvQ5ojWhNQH7nyuE4rlYFXQ2g2LmcvPpVNvSSw2NLAWMNlSitepAtXXHxJ/e0J+D7779vELBQ0EnARx55RG3btq3QqOR9jxAgAbk9u9Yr3edaSMgpFvyy7qWXXtJ6xSunaYlLOHKvHYqzsrgkKFc6+vbtK9OxcoEU4HNyj/2ARUNA1v/wrwsQYhGVA4EyFsFFQ8AcYMjjgBEg92gBtVpULmAMRFy4CHQvqjpguFiL9HQEjDqgFMHpsMh9UAhYRbDUAYNCXOSkI2DUAdM95V4QCAwBNkIaApMmggSBVAQa2AgRAqaCIncBIUDusR9QCBgQ4CImFQFyT4rgVEzkLlgEpAgOFm+RloyAUQTDQ4rgZFTkOkgEjDrg6SAliixBwELAqAPCDNZaHnE/c2Z1+hozmdIMTDJ5R87PWs5EV8WBcx27YfbqqiD1wl5jnqiHf5tauXKlo/VhGhqiXyvZsGGD2r9/vyfY+RUJuddBdwJySj43XUm3XCQUdM+JjRWGq2OtWbPG0epYn3/+ubH5Hzestt6nvCg46svd4RcvXqxOnDihtcrQdW8JP43D6uV1WmsK5dwS0CKM9V4+k1GZmXzfikt3jKgfdc4nrWGkDetF9zNMCFYO/QUKyLfBYeRC8co8geXy+rAjmk7reuAlFeU3ZggYnBMCxixXI5QcIWCEMiuOqv6fgKi47oxjCiVN+iJgcc4ogrHd+xdQtVVfdUWzmCHQanLu0gqpXKsXjPwqZomU5GiKALlGzlE9qxHC/qMtmuorasUMgWSuJbZpQBpJwAW6pXXKlCnK2uEIihvquekYtjqiv/nmG7Vnzx5ju4ZcaaQcFBFqzJgxxh4lvHe7qpbVgf3JJ5+o48ePO5LLsdvBgwerkSPz27CAevKgvC1btjgadsyFhU/PE8YuMZbF7ZMwhHMSAr0ZfPVI8+bm5sRwWCFRHjlyRM2dO9fYsCYXgfv162cMZc2ePbsQkca7n332mZo3b576/vvvc8a1YMECNW3aNDV06NCcYe0CcE+Up59+Wr366quK+Gnmzlx11VW9ampqWqhXgoC8wdDIJ8gcrTYsrKurU9hpm+oV7A4cOKBGjBihMPRoG9eECRPUO++8YxvGzUMS4dFHH7V9hTN1Nm3apMaOHWsbzulD7q/CsWzuNKWTg4X+FPiPs3RK1AHpAfJ9aj2I45kza6wi2S59Xu5PRzldu3a1E2c8o15ebsrDBT156ObSOZZCQLBzg24Ke6kPi14eQTsn9Uc/dAsjrbmwTedYCgFhGvchgu25IpHngkCeCGw3OZZ4PYWA9AVDX088lQtPEACmnsQT9UgycasNAdEQWY+Eno16YnXSP6yi0El9N0CczprcShHZhoCnTp06Aaa+lxJKbgpCwIkF9LoOWF1drX7++eeC9PbyZXKK3EqPsw0BGQBgSDGcjlTE7r/++mutCJiNUxkJOHz48M3Am7OkQ3dOrEfoSmqmQGNjo9q9e7dqbdVmfskvJqfaIJWRgDt27GhFxq9uEzoED/bks2dfnHMEjh49qvgxly6OXCKnMumTkYAMiE7MF3EKfRznpptuUitWrMiku/hlQQDDXAr1rSxPA/duNrmUUXBWAsKMHwNzV2V8K0BPVqSrqqoUpu8EKDW6olj0Pvfcc9qMAZND5FI2RLMSkC+gGb8Ep4ymM1uEfvizQs3BdXG5EeCfdedObSa4t5ocyqq4LQGxTdaPYHBl1rcDesChrI8++kht3y6DNHaQczWEyspKbRof5A45ZKezLQHNF5/HOfRWQG1treLcQJLQydiqXaLj+Gzjxo2qoqJCp64XcobcsXU5CYixuxrEUGUbS0APudTEvffeq+bPn6+82sQwINV9FfPWW2+pJ554QrHxoZGrMrljq1JOAvJtmNIKnOwn0dmK8e4hGyWrV69WDz/8sOJcwWJ3XAOGcw0PHjyoExQtJmdy6uRowhhnMJSWli5F0fdMzhgDCNDU1KTefvttY/9fLlzkpMOV46JOV73ivDxaWCwdUXBqunfv7thaM12U6ca6v/baa9r9EYH1UvTfcmZVTud4msbAgQO7wOL8G0Mq1+SMVQIULQKwfAfxScOvDx8+fMYJCI4JyMgwm+EOEPBdJxFLmOJEAASciBLT8WQWR3VAC0pGDAEbrXs5CwLJCJAbbsjHd11ZQL6AuuDVqAvuwWXuDx34grhiQaAJdb/rUPc75CbB7d0EZlhU0P+L71cv4DLxZZPbOCR8LBFYAOvHWVSunKsi2Ip58uTJS2Fut1r3ci5uBMgFciIfFFwXwZYQfGp4BaZJ7UKj5DLLT87FhwDIV4sScQS6kI7mk/q8LCAFmQJn4pLFsbjiRIB5PzNf8hEy13XAZJxhAQ/gI+5OsIJjkv3lujgQQKPjOdT7VhWS2rwtoCV04sSJFTDD26x7ORcHAsxz5n2hqc27DpgsGPXBAWZ9sF+yv1zHEwGQr86s9x0pNIUFW0AqgDrAEZjjibwsVCF5X3sE2N83kXnuhaaeEJCKYAD9K/wzpuLynBeKSRxaInCOecy89kq7ghoh6UqgGK5Bo+QgGiV34ZknxXu6DLkPDYGLsHx/QKPjn15q4CkBqRhGSr7FV1Dc7e+3XioqcYWLACzfH0G+v3uthecEpIKwhNtBwm64HO21whJf8AiAfEtBvj/7Idm3YhLFcAkmLqzE+UE/FJc4g0EA5FuFCQYP4ezLwoqeNULS4aDCpuJ5jRGmxyf3wSNAy+cn+Zgi3yxgMlyYyPoYLOFfg5KXLFuu80LgIsjHOh9Xx/DV+VIHTNeYdUK0jveDhJPwzDermy5X7vNC4JzZ2vW8wZFJm0AsoCUYlnACSMh1qGUyqwWKXucmWL6psHyBrWwUKAGJNVaqH4kZ1e+CiDJspxH5QLw6jnB42cnsJHmBF4dMIMcRkeBtThSUMP4jwLxgngRNPqYscAJSKMcRJ02aNBb/uMW4lfmEBCUcd4F5wLzwamzXbTICL4LTFUS9cDz81qJIlpnV6eD4eA+rV4voZ6K+97GPYnJGHYoFTNaKAJhF8tZkf7n2DwGQbysxD5t8TGHoBKQSMP9HUQzwK7uneEs/cb4gQGyfItbE3BcJLiMNvQhO15ffHaM4Xo6DfYbiPEIAVm8Tjnluv9v1SHzWaLQjoKUplwHBNYl4jeUnZ/cIgHRcNmseilvHy2W4l5L/G1oUwZnUJ2Bc5AattEV4XvgyVZmExNuvhdgRQ13JR/i1tYDJ3IA1HAJL+Cz8puMIZPgwWX7ErrkyaRUsXwWI52iJtDDTFwkCWgCBiOW4fhJknIVzR8tfzgYC3NulElfPg3g1UcEkUgS0QMVw3iAM580HETnXsNTyL9JzM4i3CsXtEoxk/Bg1DCJJQAtkrI7aH58AcKrXHPj1sfyL5PwLiLeam8DY7cOhOxbaNkKcAEfgUdw8gX3IrkD4u5Ah/GAmzg2Ws2Ya72KamfYok495HGkLyASkux49evRGxtxj1hNHpT+P6H01iFeJOvD6TFueRjRNhtqxI2ByZpit56nIvNtByFvwrEvyc42vz0DnL6HzpzhvwB9K+9ZsvljGmoDJoJSXl3fGwtm0iGORsTxG4lqXljRbsPywfwt02oIF4aux50dLsv5xvS4aAqZnYP/+/bvV19ePBhFvwLNhSUfv9LAe359AfHutA6Tb2bNnzy+wGWOjx3IiEV3REjBb7pSVlfVFy3oYiGkdl4EkZQhfBj+eu/PevOY9XQP8GuDHD/JP85p+vMd1LY69PNBi3Yu9So7zBXGXEPgf30hvKVSaI9kAAAAASUVORK5CYII=",name:v.a.get("login_modal.pocket",{value:"Ledger"}),tip:v.a.get("account_modal.pocket_with_wallect",{value:"Ledger"})}]}),[]),fe=Object(k.useMemo)((function(){var e=he.map((function(e){return e.type===ue.name}))[0].logo;return Object(U.jsx)("img",{src:e,className:"address-logo",alt:""})}),[ue,he]),xe=Object(k.useMemo)((function(){var e=he.map((function(e){return e.type===ue.name}))[0].tip;return Object(U.jsx)("div",{className:"tip-text",children:e})}),[ue,he]);return Object(U.jsx)(x.a,{children:function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:B()({"main-header-wrap":!0,"main-header-wrap-scroll":ee,"main-header-wrap-hide":Q,"main-header-wrap-mobile":H}),ref:X,id:"mainHeaderWrap",children:[Object(U.jsx)(_t,{toastStatus:O,onToastChange:se}),H?Object(U.jsx)($,{mShowLogo:R,subNavProps:P}):Object(U.jsx)("div",{className:"hide-for-pc",children:oe}),Object(U.jsx)(b.a,{title:1===a.loginModalStep?Object(U.jsx)("div",{className:"common-modal-title",children:v.a.get("header.connect_wallet")}):null,visible:a.loginModalVisible,onCancel:re,footer:null,className:"common-modal common-bg dark-modal wallet-modal",width:1===a.loginModalStep?600:400,children:1===a.loginModalStep?Object(U.jsxs)("div",{className:"center",children:[Object(U.jsx)("div",{className:"wallet-list",children:he.map((function(e){return Object(U.jsxs)("div",{className:"wallet-item",onClick:function(t){be(e.type)},children:[Object(U.jsx)("span",{className:"wallet-item-logo",children:Object(U.jsx)("img",{src:e.logo,className:"tronlink-logo",alt:e.name})}),e.useTip?Object(U.jsx)("div",{onClick:function(e){e.preventDefault(),e.stopPropagation()},children:Object(U.jsx)(j.a,{arrowPointAtCenter:!0,className:"wallet-item-usetip",placement:"bottomRight",title:v.a.get("error.useWalletTip1"),children:Object(U.jsx)(i.a,{})})}):"",Object(U.jsx)("span",{className:"wallet-item-name",children:e.name})]})}))}),Object(U.jsxs)("div",{className:"tronlink-tips",children:[Object(U.jsx)("div",{className:"tronlink-tips-item",children:Object(U.jsxs)("span",{className:"tronlink-tips-text",children:[v.a.get("wallet.accept_tips")," "]})}),Object(U.jsxs)("div",{className:"tronlink-tips-item",children:[Object(U.jsx)("a",{href:"".concat(_.a.fileLink,"SUN_Terms_of_Use_").concat("en-US"===r?"en":"zh-CN"===r?"cn":"tc",".pdf"),target:"walletService",className:"tronlink-tips-link",children:v.a.get("wallet.service_new")}),Object(U.jsx)("a",{href:"".concat(_.a.fileLink,"SUN_Privacy_Policy_").concat("en-US"===r?"en":"zh-CN"===r?"cn":"tc",".pdf"),target:"walletPrivacy",className:"tronlink-tips-link",children:v.a.get("wallet.privacy_new")})]})]})]}):Object(U.jsxs)("div",{children:[Object(U.jsx)("div",{className:"back-icon pointer",children:Object(U.jsx)("span",{})}),Object(U.jsxs)("div",{className:"step2-wallet",children:[Object(U.jsx)("span",{className:"step2-wallet-logo",children:Object(U.jsx)("img",{src:N,className:"tronlink-logo",alt:""})}),Object(U.jsx)("span",{children:v.a.get("login_modal.tronlink")})]}),Object(U.jsx)(l.a,{className:"loading-img",style:{fontSize:"80px"}}),Object(U.jsx)("div",{className:"init-text",children:v.a.get("login_modal.initializing")}),Object(U.jsx)("div",{className:"login-tip-text",children:v.a.getHTML("login_modal.login_tips")})]})}),Object(U.jsx)(b.a,{title:v.a.get("account_modal.account"),footer:null,onCancel:ce,className:"account-modal common-modal common-bg dark-modal",visible:a.accountModalVisible,width:540,children:Object(U.jsxs)("div",{children:[Object(U.jsx)("div",{className:"account-info",children:v.a.get("account_modal.wallet_info")}),Object(U.jsxs)("div",{className:"address-con",children:[Object(U.jsx)("div",{children:fe}),Object(U.jsxs)("div",{children:[xe,Object(U.jsxs)("div",{className:"address-tex",children:[Object(U.jsx)("span",{className:"copy-account",children:a.defaultAccount}),Object(U.jsx)("span",{className:"pointer copy",title:a.defaultAccount,id:"copySpan",children:Object(U.jsx)(d.a,{})})]})]})]}),Object(U.jsx)("div",{className:"account-btn",onClick:function(e){a.disConnectWallet()},children:v.a.get("account_modal.disconnect")})]})})]}),E&&H&&Object(U.jsx)("div",{className:"sun-io-bottom-nav hide-for-mobile",children:Object(U.jsx)(W,{customJump:I})}),Object(U.jsx)(bt,{WALLET_LIST_DATA:he})]})}})}},829:function(e,t,a){"use strict";var n=a(70),s=(a(3),a(21)),o=a.n(s),c=(a(914),a(168)),r=a(1),i=a(10);t.a=function(e){var t=Object(n.d)((function(){return c.a.network})),a=Object(n.d)((function(){return c.a.accountCenter})),s=function(){a.toggleAccountCenter(!0)},l=function(){t.setData({loginModalVisible:!0,loginModalStep:1})};return t.isConnected&&!e.accountShow?null:Object(i.jsx)(n.a,{children:function(){return Object(i.jsx)("div",{children:t.isConnected?Object(i.jsx)("div",{onClick:s,className:e.accountShow?"connect-wallet":"",children:Object(r.q)(t.defaultAccount,4,4)}):Object(i.jsx)("div",{className:e.accountShow?"":"tac",children:Object(i.jsx)("span",{onClick:l,className:e.accountShow?"connect-wallet":"connect-btn",children:o.a.get("header.connect_wallet")})})})}})}},859:function(e,t,a){"use strict";a.d(t,"a",(function(){return P})),a.d(t,"b",(function(){return R})),a.d(t,"c",(function(){return M})),a.d(t,"i",(function(){return E})),a.d(t,"k",(function(){return q})),a.d(t,"j",(function(){return U})),a.d(t,"g",(function(){return H})),a.d(t,"d",(function(){return X})),a.d(t,"e",(function(){return W})),a.d(t,"h",(function(){return J})),a.d(t,"f",(function(){return Q}));var n,s=a(4),o=a(9),c=a(21),r=a.n(c),i=a(49),l=a(5),d=a.p+"static/media/home.59e78f9f.svg",u=a.p+"static/media/home_a.17e5b6c4.svg",p=a.p+"static/media/sunswap.803da5fb.svg",b=a.p+"static/media/sunswap_a.075efdfa.svg",j=a.p+"static/media/sunCurve.5b39926f.svg",m=a.p+"static/media/sunCurve_a.294e05ad.svg",h=a.p+"static/media/farm.d81fe65a.svg",f=a.p+"static/media/farm_a.9aa5ee4c.svg",x=a.p+"static/media/more.e8402170.svg",k=a.p+"static/media/more_a.bff41834.svg",O=a.p+"static/media/claim.fe00567d.svg",g=a.p+"static/media/documents.24834ff7.svg",v=a.p+"static/media/launge.96ef7673.svg",w=a.p+"static/media/mining.c02267dc.svg",S=a.p+"static/media/psm.8fc3f34d.svg",A=a.p+"static/media/scan.ca46a32d.svg",N=a.p+"static/media/risk.8feaf829.svg",y=a.p+"static/media/white_paper.01ac8f4d.svg",T=a.p+"static/media/repurchase.652d5bde.svg",_=a.p+"static/media/governance.9732ea3a.svg",C=a(1),D=a(942),V=a(943),I=a(944),L=a(945),B=a(946),P={home:{route:"home",text:r.a.get("header.home"),category:i.h.home,id:"home",icon:d,iconActive:u},sunSwap:{text:"SunSwap",id:"sunswap",icon:p,iconActive:b,category:i.h.sunswap,route:"sun_swap/v2"},v1:{text:"V1",category:i.h.sunswap,route:"sun_swap/v1",key:"v1",id:"v1",parentId:"sunswap"},v2:{text:"V2",route:"sun_swap/v2",key:"v2",id:"v2",category:i.h.sunswap,parentId:"sunswap"},pool:{text:r.a.get("header.curve"),id:"pool",icon:j,iconActive:m,route:"sunCurve"},usdc_2pool:{route:"usdc_2pool",text:r.a.get("buysell.usdc_2pool2_head"),category:i.h.liquidity_usdc2pool,id:"usdc_2pool",parentId:"pool"},usdt_tusd:{route:"usdt_tusd",text:r.a.get("buysell.usdt_tusd_pool_head"),category:i.h.liquidity_usdttusd,id:"usdt_tusd",parentId:"pool"},usdd_2pool:{route:"usdd_2pool",text:r.a.get("buysell.2pool_head"),category:i.h.liquidity_2pool,id:"usdd_2pool",parentId:"pool"},"3pool":{route:"3pool",text:r.a.get("header.3pool"),category:i.h.liquidity_old3pool,id:"3pool",parentId:"pool"},usdc:{route:"usdc",text:r.a.get("buysell.usdc_pool"),category:i.h.liquidity_oldusdc,id:"usdc",parentId:"pool"},usdd_usdt_tusd_2pool:{route:"usdd_usdt_tusd_2pool",text:r.a.get("buysell.usdd_2pool_2_head"),category:i.h.liquidity_oldusdc,id:"usdd_usdt_tusd_2pool",parentId:"pool"},usdj_usdt_tusd_2pool:{route:"usdj_usdt_tusd_2pool",text:r.a.get("buysell.usdj_2pool_2_head"),category:i.h.liquidity_oldusdc,id:"usdj_usdt_tusd_2pool",parentId:"pool"},usdc_usdt_tusd_2pool:{route:"usdc_usdt_tusd_2pool",text:r.a.get("buysell.usdc_2pool_2_head"),category:i.h.liquidity_oldusdc,id:"usdc_usdt_tusd_2pool",parentId:"pool"},pool_more:{type:"menu",id:"pool_more",text:r.a.get("header.more"),parentId:"pool"},usdd_3pool:{route:"usdd_3pool",text:r.a.get("buysell.usdd_pool"),category:i.h.liquidity_3pool,id:"usdd_3pool",parentId:"pool"},usdd_old_2pool:{route:"usdd_old_2pool",text:r.a.get("buysell.usdd_pool_new_head"),category:i.h.liquidity_old2pool,id:"usdd_old_2pool",parentId:"pool"},usdd_usd_2pool:{route:"usdd_usd_2pool",text:r.a.get("buysell.usdd_2pool_head"),category:i.h.liquidity_usdd2pool,id:"usdd_usd_2pool",parentId:"pool"},tusd_2pool:{route:"tusd_2pool",text:r.a.get("buysell.tusd_2pool_head"),category:i.h.liquidity_tusd2pool,id:"tusd_2pool",parentId:"pool"},usdj_2pool:{route:"usdj_2pool",text:r.a.get("buysell.usdj_2pool_head"),category:i.h.liquidity_usdj2pool,id:"usdj_2pool",parentId:"pool"},busd_2pool:{route:"busd_2pool",text:r.a.get("buysell.busd_2pool_head"),category:i.h.liquidity_busd2pool,id:"busd_2pool",parentId:"pool"},stake:{route:"stake/two",text:r.a.get("header.farm"),category:i.h.farm,id:"stake",icon:h,iconActive:f},stake_one:{route:"stake/one",text:r.a.get("stakes.phase_one"),category:i.h.farm,id:"stake_one",parentId:"stake",icon:D.a,iconActive:V.a},stake_two:{route:"stake/two",text:r.a.get("stakes.phase_two"),category:i.h.farm,id:"stake_two",parentId:"stake",corner:I.a,cornerActive:I.a,icon:D.a,iconActive:V.a},stake_genesis:{route:"stake/genesis",text:r.a.get("newStake.tab.tab_2"),category:i.h.farm,id:"stake_genesis",parentId:"stake",icon:L.a,iconActive:B.a},psm:{route:"psm",text:r.a.get("psm.menu"),category:i.h.psm,id:"psm",icon:S,parentId:"more"},governance:{route:"governance",text:r.a.get("header.governance"),category:i.h.governance,id:"governance",icon:_,parentId:"more"},scan:{route:"scan",text:r.a.get("header.scan"),id:"scan",icon:A,parentId:"more"},more:{text:r.a.get("header.more"),id:"more",icon:x,iconActive:k,route:"more_page",category:i.h.more_page},documents:{route:"documents",text:r.a.get("documents.nav"),category:i.h.documents,id:"documents",icon:g,parentId:"more",showBack:!0},white_paper:{text:r.a.get("wallet.white_paper"),href:function(e){return"".concat(l.a.fileLink,"SUN_V2_Whitepaper_").concat("en-US"===e?"en":"zh-CN"===e?"cn":"tc",".pdf")},category:i.h.more_whitepager,id:"white_paper",icon:y,parentId:"more"},risks:{route:"risks",text:r.a.get("header.risks"),category:i.h.more_risks,id:"risks",icon:N,parentId:"more"},claim:{route:"claim",text:r.a.get("header.airdrop"),category:i.h.more_claim,id:"claim",icon:O,parentId:"more"},century_mining:{href:function(e){return"".concat(l.a.centuryMining.replace("#","?lang=".concat(e,"#")))},text:r.a.get("header.century_mining"),category:i.h.more_mining,id:"century_mining",icon:w,parentId:"more"},repurchase:{href:function(e){return"".concat(l.a.swapRepurchaseUrl,"?lang=").concat(e)},text:r.a.get("header.repurchase"),category:i.h.swapRepurchase,id:"repurchase",icon:T,parentId:"more"}},F=(n={},Object(o.a)(n,P.more.id,{route:void 0}),Object(o.a)(n,P.governance.id,{parentId:void 0}),Object(o.a)(n,P.psm.id,{parentId:void 0}),Object(o.a)(n,P.scan.id,{parentId:void 0}),n),R=Object.keys(P).reduce((function(e,t){var a=P[t];return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},t,Object(s.a)(Object(s.a)({},a),F[a.id]||{})))}),{}),M=[P.home,P.sunSwap,P.pool,P.stake,P.more],E=[P.scan,P.governance,P.psm,P.documents],q=[P.white_paper,P.claim,P.century_mining,P.risks,P.repurchase],U=[{text:r.a.get("more_page.choose_language"),id:"language",icon:v,subRoutes:[C.Q["en-US"],C.Q["zh-TC"],C.Q["zh-CN"]]}],H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return window.location.hash.replace("#/","").toLowerCase()===e.toLowerCase()},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.home,a=Object.keys(e).find((function(t){return H(e[t].route||"")}));return"sunSwap"===a&&(a="v2"),a?e[a]:t},W=function(e,t){var a=t||window.localStorage.getItem("lang")||"zh-CN";if(e.subRoutes&&e.subRoutes.length)return"javascript:void(0)";var n=window.location.origin+window.location.pathname;return e.href?e.href(a):n+"?lang=".concat(a,"#/").concat("home"===e.route?"home":e.route)},J=function(e){var t=e.id,a=e.href;if(a)window.location.href=a;else{var n=null;for(var s in P)if(P[s].id===t){n=P[s];break}n&&(window.location.href=W(n))}},z=(P.v2,P.v1,[P.usdt_tusd,P.usdd_usdt_tusd_2pool,P.usdj_usdt_tusd_2pool,P.usdc_usdt_tusd_2pool,P.usdc_2pool,P.usdd_2pool,P.usdd_usd_2pool,P.tusd_2pool,P.usdj_2pool,P.busd_2pool,P["3pool"],P.usdc,P.usdd_3pool,P.usdd_old_2pool]),K=Object(s.a)({},z.reduce((function(e,t){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},t.id,z))}),{})),Q=function(e){var t=e.id;return t&&K[t]||[]}},873:function(e,t,a){"use strict";t.a=function(e,t){return"".concat(e?e+"-":"").concat(t)}},875:function(e,t,a){"use strict";t.a=a.p+"static/media/triangle-left-active.04e8dc28.svg"},876:function(e,t,a){"use strict";t.a=a.p+"static/media/triangle-right-active.91f51225.svg"},877:function(e,t,a){"use strict";t.a=a.p+"static/media/loading_chry.cbf82baf.svg"},887:function(e,t,a){"use strict";var n=a(7),s=a(8),o=a(14),c=a(15),r=a(3),i=a.n(r),l=(a(21),a(94),a(1141),a(10)),d=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).onClick=function(){s.props.disabled||s.props.state||s.props.onClick&&s.props.onClick()},s.onLeftClick=function(){s.props.lDisabled||s.props.lState||s.props.onLeftClick&&s.props.onLeftClick()},s.onMiddleClick=function(){s.props.mDisabled||s.props.mState||s.props.onMiddleClick&&s.props.onMiddleClick()},s.onRightClick=function(){s.props.rDisabled||s.props.rState||s.props.onRightClick&&s.props.onRightClick()},s.state={},s}return Object(s.a)(a,[{key:"render",value:function(){var e=null;switch(this.props.type){case"trisection":e=Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"trisection "+(this.props.lDisabled?"gray":this.props.lState?this.props.lState:"blue"),onClick:this.onLeftClick,children:this.props.lInfo}),Object(l.jsx)("button",{className:"trisection "+(this.props.mDisabled?"gray":this.props.mState?this.props.mState:"blue"),onClick:this.onMiddleClick,children:this.props.mInfo}),Object(l.jsx)("button",{className:"trisection "+(this.props.rDisabled?"gray":this.props.rState?this.props.rState:"blue"),onClick:this.onRightClick,children:this.props.rInfo})]});break;case"half":e=Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"half "+(this.props.lDisabled?"gray":this.props.lState?this.props.lState:"blue"),onClick:this.onLeftClick,children:this.props.lInfo}),Object(l.jsx)("button",{className:"half "+(this.props.rDisabled?"gray":this.props.rState?this.props.rState:"blue"),onClick:this.onRightClick,children:this.props.rInfo})]});break;default:e=Object(l.jsx)("button",{className:"single "+(this.props.disabled?"gray":this.props.state?this.props.state:this.props.btnColor?this.props.btnColor:"blue"),onClick:this.onClick,children:this.props.info})}return Object(l.jsx)(i.a.Fragment,{children:e})}}]),a}(i.a.Component);t.a=d},894:function(e,t,a){},902:function(e,t,a){"use strict";var n=a(9),s=a(3),o=a(859),c=a(30),r=a.n(c),i=a(873),l=a(49),d=a(10),u=Object(s.memo)((function(e){var t,a=e.renderContent,c=e.item,u=e.handleClick,p=e.isCustom,b=void 0!==p&&p,j=e.clsPrefix,m=e.itemActive,h=e.subNavOpen,f=void 0!==h&&h,x=Object(o.e)(c),k=Object(s.useCallback)((function(e){b&&e.preventDefault(),c.category&&Object(l.a)({action:Object(l.d)(c.category),event_category:c.category}),u&&u(c,e)}),[b,c]),O=void 0===m?Object(o.g)(c.route):m,g=c.subRoutes&&c.subRoutes.length>0;return Object(d.jsx)("a",{href:x,onClick:k,target:c.href?"_blank":"_self",className:r()((t={},Object(n.a)(t,Object(i.a)(j,"nav-item"),!0),Object(n.a)(t,Object(i.a)(j,"nav-item-with-sub"),g),Object(n.a)(t,Object(i.a)(j,"nav-item-active"),O),Object(n.a)(t,Object(i.a)(j,"nav-item-sub-open"),f),t)),children:a(c,O)})}));t.a=u},903:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(20),s=a(7),o=a(8),c=a(3),r=function(){function e(){Object(s.a)(this,e),this.onChangeList=[],this.callbackList=[]}return Object(o.a)(e,[{key:"_throttle",value:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,o=new Date,c=window.pageYOffset;return function(){var r=this,i=arguments,l=new Date;if(clearTimeout(t),l-o>=s){var d=c-window.pageYOffset;c=window.pageYOffset,e.apply(r,[{diffY:d,y:c,direction:d<=0?"down":"top"}].concat(Object(n.a)(i))),o=l}else t=setTimeout((function(){var t=c-window.pageYOffset;c=window.pageYOffset,e.apply(r,[{diffY:t,y:c,direction:t<=0?"down":"top"}].concat(Object(n.a)(i)))}),a)}}},{key:"_onScroll",value:function(e){if("function"!==typeof window.requestAnimationFrame)return this._throttle(e);var t=!1,a=window.pageYOffset;return function(){var s=this,o=arguments;t||(t=!0,requestAnimationFrame((function(){var c=a-window.pageYOffset;a=window.pageYOffset,e.apply(s,[{diffY:c,y:a,direction:c<=0?"down":"top"}].concat(Object(n.a)(o))),t=!1})))}}},{key:"on",value:function(e){if("function"===typeof e&&!this.onChangeList.find((function(t){return t===e}))){this.onChangeList.push(e);var t=this._onScroll(e);this.callbackList.push(t),window.addEventListener("scroll",t,!1)}}},{key:"off",value:function(e){var t=this.onChangeList.findIndex((function(t){return t===e}));t>-1&&(window.removeEventListener("scroll",this.callbackList[t],!1),this.onChangeList.splice(t,1),this.callbackList.splice(t,1))}}]),e}(),i=new r;window.ScrollInstance=window.ScrollInstance||i;var l=function(e){Object(c.useEffect)((function(){return i.on(e),function(){i.off(e)}}),[e])}},904:function(e,t,a){"use strict";var n=a(22),s=a(3);t.a=function(e){var t=Object(s.useState)(!1),a=Object(n.a)(t,2),o=a[0],c=a[1];return Object(s.useEffect)((function(){var t=window.matchMedia(e);c(t.matches);var a=function(e){c(e.matches)};try{t.addEventListener("change",a)}catch(n){t.addListener(a)}return function(){try{t.removeEventListener("change",a),t.removeListener(a)}catch(n){}}}),[]),o}},914:function(e,t,a){},923:function(e,t,a){"use strict";var n=a(7),s=a(8),o=a(14),c=a(15),r=a(3),i=a.n(r),l=a(94),d=a(21),u=a.n(d),p=a(814),b=a(17),j=(a(1143),a(10)),m=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).confirm=function(){s.props.confirm&&s.props.confirm()},s.cancel=function(){s.props.cancel&&s.props.cancel()},s.state={},s}return Object(s.a)(a,[{key:"render",value:function(){var e=Object(l.a)(window.navigator).any?0:64;return Object(j.jsxs)(p.a,{footer:null,title:null,closable:!0,maskClosable:!1,visible:this.props.visible,className:"unfinished-pop sun-swap-modal",onCancel:this.cancel,style:{marginLeft:Object(b.o)()+e},width:430,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:[Object(j.jsxs)("div",{className:"title",children:[u.a.get("sunSwap.action.popTitle"),Object(j.jsx)("p",{children:u.a.get("sunSwap.action.popDesc")})]}),Object(j.jsxs)("div",{className:"btns",children:[Object(j.jsx)("button",{onClick:this.confirm,children:u.a.get("sunSwap.action.popQuitBtn")}),Object(j.jsx)("button",{onClick:this.cancel,children:u.a.get("sunSwap.action.popCancelBtn")})]})]})}}]),a}(i.a.Component);t.a=m},924:function(e,t,a){"use strict";t.a=a.p+"static/media/TransactionSuccess.9be097c2.svg"},927:function(e,t,a){},942:function(e,t,a){"use strict";t.a=a.p+"static/media/v2_icon.261c63be.svg"},943:function(e,t,a){"use strict";t.a=a.p+"static/media/v2_active_icon.c84ddb09.svg"},944:function(e,t,a){"use strict";t.a=a.p+"static/media/hot_icon.8d040809.svg"},945:function(e,t,a){"use strict";t.a=a.p+"static/media/v1_icon.6a6bd135.svg"},946:function(e,t,a){"use strict";t.a=a.p+"static/media/v1_active_icon.4d44c20d.svg"},947:function(e,t,a){"use strict";var n=a(3),s=a(46),o=(a(965),a(10));t.a=Object(n.memo)((function(e){var t=e.children,a=e.container,c=e.style,r=e.onClose,i=void 0===r?function(){}:r,l=e.scrolling,d=void 0===l||l,u=Object(o.jsx)("div",{className:"sun-io-mask",style:c,onClick:i,children:Object(o.jsx)("div",{className:"sun-io-mask-content",onClick:function(e){return e.stopPropagation()},children:t})});return Object(n.useEffect)((function(){return d||document.body.classList.add("sun-scrolling-effect"),function(){d||document.body.classList.remove("sun-scrolling-effect")}}),[d]),Object(s.createPortal)(u,a&&document.querySelector(a)||document.body)}))},949:function(e,t,a){"use strict";var n=a(3),s=a.n(n),o=a(30),c=a.n(o),r=a(873),i=(a(974),a(10)),l=function(e){var t=e.clsPrefix,a=e.img,n=e.btnText,s=e.emptyText,o=e.className,l=e.onClick;return Object(i.jsxs)("div",{className:c()(Object(r.a)(t,"wrap"),o),children:[Object(i.jsx)("img",{src:a,alt:"image",className:Object(r.a)(t,"img")}),s&&Object(i.jsx)("p",{className:Object(r.a)(t,"text"),children:s}),n&&Object(i.jsx)("div",{className:Object(r.a)(t,"btn"),onClick:l,children:n})]})};l.defaultProps={clsPrefix:"sun-empty",onClick:function(){}},t.a=s.a.memo(l)},961:function(e,t,a){"use strict";var n=a(7),s=a(8),o=a(14),c=a(15),r=a(3),i=a.n(r),l=a(21),d=a.n(l),u=a(1403),p=a(157),b=(a(1142),a(10)),j=Object(b.jsx)(p.a,{style:{fontSize:24},spin:!0}),m=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={},s}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.children,t=i.a.Children.toArray(e).map((function(e,t){var a=e.props,n=a.children,s=a.status,o=a.err,c=a.failed,r=n;return"error"===s&&(r=o||n),"pending"===s&&(r=d.a.get("sunSwap.action.doingAct")),"failed"===s&&(r=c||n),Object(b.jsxs)("div",{className:"al_item ".concat(s?"".concat(s):""),children:[Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("span",{className:"al_number",children:t+1}),Object(b.jsx)("span",{className:"al_title".concat(s?" ".concat(s):""),children:r})]}),"pending"===s&&Object(b.jsx)(u.a,{indicator:j,className:"spiny"})]},e.key)}));return Object(b.jsx)("div",{className:"action-line",children:t})}}]),a}(i.a.Component);t.a=m},964:function(e,t,a){"use strict";var n=a(4),s=a(22),o=a(39),c=a(259),r=a.p+"static/media/token_loading.df40235f.svg",i=a(3),l=a(30),d=a.n(l),u=(a(972),a(10)),p=["src","defaultSrc","className"],b=function(e){var t=e.src,a=e.defaultSrc,l=e.className,b=Object(o.a)(e,p),j=Object(i.useState)(r),m=Object(s.a)(j,2),h=m[0],f=m[1],x=t||a||c.a;return Object(i.useEffect)((function(){var e=new Image;e.src=x,e.onload=function(){f(x),e=null},e.onerror=function(){f(c.a),e=null}}),[x]),Object(u.jsx)("img",Object(n.a)(Object(n.a)({src:h},b),{},{alt:"logo",className:d()("sun-icon-img",l)}))};t.a=Object(i.memo)(b)},965:function(e,t,a){},966:function(e,t,a){},967:function(e,t,a){},968:function(e,t,a){},969:function(e,t,a){},972:function(e,t,a){},973:function(e,t,a){},974:function(e,t,a){},975:function(e,t,a){"use strict";t.a=a.p+"static/media/swap-arrow-purple.62718d5d.svg"}}]);