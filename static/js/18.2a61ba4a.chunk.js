(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[18],{1055:function(e,t,s){"use strict";var a=s(1),o=s.n(a),n=(s(1146),s(2));class i extends o.a.Component{constructor(e){super(e),this.onClick=()=>{this.props.disabled||this.props.state||this.props.onClick&&this.props.onClick()},this.onLeftClick=()=>{this.props.lDisabled||this.props.lState||this.props.onLeftClick&&this.props.onLeftClick()},this.onMiddleClick=()=>{this.props.mDisabled||this.props.mState||this.props.onMiddleClick&&this.props.onMiddleClick()},this.onRightClick=()=>{this.props.rDisabled||this.props.rState||this.props.onRightClick&&this.props.onRightClick()};const{styleName:t=""}=e;this.state={}}render(){let e=null;switch(this.props.type){case"trisection":e=Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{className:"trisection "+(this.props.lDisabled?"gray":this.props.lState?this.props.lState:"blue"),onClick:this.onLeftClick,children:this.props.lInfo}),Object(n.jsx)("button",{className:"trisection "+(this.props.mDisabled?"gray":this.props.mState?this.props.mState:"blue"),onClick:this.onMiddleClick,children:this.props.mInfo}),Object(n.jsx)("button",{className:"trisection "+(this.props.rDisabled?"gray":this.props.rState?this.props.rState:"blue"),onClick:this.onRightClick,children:this.props.rInfo})]});break;case"half":e=Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{className:"half "+(this.props.lDisabled?"gray":this.props.lState?this.props.lState:"blue"),onClick:this.onLeftClick,children:this.props.lInfo}),Object(n.jsx)("button",{className:"half "+(this.props.rDisabled?"gray":this.props.rState?this.props.rState:"blue"),onClick:this.onRightClick,children:this.props.rInfo})]});break;default:e=Object(n.jsx)("button",{className:"single "+(this.props.disabled?"single-disabled":this.props.state?this.props.state:this.props.btnColor?this.props.btnColor:"blue"),onClick:this.onClick,children:this.props.info})}return Object(n.jsx)("div",{className:"sun-action-btns "+this.props.styleName||!1,children:e})}}t.a=i},1070:function(e,t,s){e.exports={setting_wrap:"style_setting_wrap__L7ld9",setting_label:"style_setting_label__3qQrG",setting_btns:"style_setting_btns__zH_61",setting_btn_wrap:"style_setting_btn_wrap__uxT1B",setting_input:"style_setting_input__kvJzs",active:"style_active__10VTC",module_important:"style_module_important__PuwNO",info_text:"style_info_text__3K73H",setting_minutes:"style_setting_minutes__1mIXw"}},1120:function(e,t,s){"use strict";var a=s(518),o=s(516),n=s(515),i=s(517),c=s(523),l=s(519),r=s(525),d=s(527),p=s(521),j=s(528),b=s(524),m=s(526),u=s(522),h=s(520);const v=[{poolAddress:"TS8d3ZrSxiGZkqhJqMzFKHEC1pjaowFMBJ",poolIcon:j.default,fontName:"2pool",poolTokens:["TUSD","USDT"],routeName:"usdt_tusd"},{poolAddress:"TLssvTsY4YZeDPwemQvUzLdoqhFCbVxDGo",poolIcon:b.default,fontName:"USDD Pool",poolTokens:["USDD","TUSD","USDT"],routeName:"usdd_usdt_tusd_2pool"},{poolAddress:"TKBqNLyGJRQbpuMhaT49qG7adcxxmFaVxd",poolIcon:m.default,fontName:"USDJ Pool",poolTokens:["USDJ","TUSD","USDT"],routeName:"usdj_usdt_tusd_2pool"},{poolAddress:"TE7SB1v9vRbYRe5aJMWQWp9yfE2k9hnn3s",poolIcon:u.default,fontName:"USDC Pool",poolTokens:["USDC","TUSD","USDT"],routeName:"usdc_usdt_tusd_2pool"},{poolAddress:"TExeaZuD5YPi747PN5yEwk3Ro9eT2jJfB6",poolIcon:c.default,fontName:"USDC 2pool",poolTokens:["USDC","USDT"],routeName:"usdc_2pool"},{poolAddress:"TNTfaTpkdd4AQDeqr8SGG7tgdkdjdhbP5c",poolIcon:n.default,fontName:"USDD 2pool",poolTokens:["USDD","USDT"],routeName:"usdd_2pool"},{poolAddress:"TNU9LfegfzLcJo2ZxTQXDYE2uh7JuxZfnP",poolIcon:r.default,fontName:"Old USDD Pool",poolTokens:["USDD","USDC","USDT"],routeName:"usdd_usd_2pool"},{poolAddress:"TLZacPrPKfrfbsimu5dDdrgMT16m9cnpL9",poolIcon:p.default,fontName:"Old TUSD Pool",poolTokens:["TUSD","USDC","USDT"],routeName:"tusd_2pool"},{poolAddress:"TSbahrnT5sJwjCzN6LPa1pE5d9pdVwRQ1E",poolIcon:d.default,fontName:"Old USDJ Pool",poolTokens:["USDJ","USDC","USDT"],routeName:"usdj_2pool"},{poolAddress:"TGG5AWMNjssDtLgsHg2QSN8CTwVTCHQMF6",poolIcon:l.default,fontName:"Old BUSD Pool",poolTokens:["BUSD","USDC","USDT"],routeName:"busd_2pool"},{poolAddress:"TKcEU8ekq2ZoFzLSGFYCUY6aocJBX9X31b",poolIcon:a.default,fontName:"Old 3pool",poolTokens:["USDJ","TUSD","USDT"],routeName:"3pool"},{poolAddress:"TQx6CdLHqjwVmJ45ecRzodKfVumAsdoRXH",poolIcon:h.default,fontName:"Old USDC",poolTokens:["USDC","USDJ","TUSD","USDT"],routeName:"usdc"},{poolAddress:"TKVsYedAY23WFchBniU7kcx1ybJnmRSbGt",poolIcon:i.default,fontName:"3pool",poolTokens:["USDD","TUSD","USDT"],routeName:"usdd_3pool"},{poolAddress:"TAUGwRhmCP518Bm4VBqv7hDun9fg8kYjC4",poolIcon:o.default,fontName:"Old 2pool",poolTokens:["USDD","USDT"],routeName:"usdd_old_2pool"}];j.default,b.default,m.default,u.default,c.default,n.default,r.default,p.default,d.default,l.default,a.default,h.default,i.default,o.default;let k;k=v,t.a=k},1123:function(e,t,s){"use strict";var a=s(1502),o=s(1917),n=s(1135),i=(s(1172),s(2));const c={V3:"V3",V2:"V2",V1:"",home:"",Migrate:"Migrate"};t.a=e=>{const{onChange:t,network:s={},version:l="v1",placement:r="bottomRight"}=e,d=s["settingSlippage".concat(c[l])],p=s["settingDeadline".concat(c[l])];return Object(i.jsx)(a.a,{trigger:"click",overlayClassName:"setting_popover",placement:r,content:Object(i.jsx)(n.a,{showType:"popover",slippage:d,deadline:p,onChange:function(e){t(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")}}),title:"",children:Object(i.jsx)(o.a,{className:"new_setting_icon"})})}},1135:function(e,t,s){"use strict";var a=s(1),o=s(9),n=s.n(o),i=s(1910),c=s(16),l=s.n(c),r=s(223),d=s(0),p=s(1070),j=s(2);t.a=e=>{const{showType:t="",slippage:s,deadline:o}=e,[c,b]=Object(a.useState)("0.5"),[m,u]=Object(a.useState)("1"),[h,v]=Object(a.useState)("0.5"),[k,O]=Object(a.useState)("1"),[g,x]=Object(a.useState)("");Object(a.useEffect)((()=>{f(s,o)}),[]),Object(a.useEffect)((()=>{(h||k)&&w()}),[w,h,k]);const f=(e,t)=>{b(e),u(t),v(e),O(t),S()},w=()=>{b(c),u(m),S(),e.onChange&&e.onChange(h,k)},N=e=>{const t=e.target.value,{valid:s,str:a}=Object(d.V)(t,2);s&&v(a)},S=()=>{h&&(Number(h)<.5?x(n.a.get("settings.slippage_info_1")):Number(h)>5&&Number(h)<50?x(n.a.get("settings.slippage_info_2")):Number(h)>=50?x(n.a.get("settings.slippage_info_3")):x(""))};return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:l()({"flex start wrap":""===t}),children:[Object(j.jsx)(r.a,{toolClass:p.setting_wrap,tip:e.slippate_tip||n.a.get("settings.slippage_tip"),children:Object(j.jsx)("span",{className:p.setting_label,children:n.a.get("settings.slippage")})}),Object(j.jsxs)("div",{className:l()(p.setting_btns),children:[Object(j.jsxs)("div",{className:p.setting_btn_wrap,children:[Object(j.jsx)("button",{className:l()("0.1"===h?p.active:""),onClick:()=>N({target:{value:"0.1"}}),children:"0.1%"}),Object(j.jsx)("button",{className:l()("0.5"===h?p.active:""),onClick:()=>N({target:{value:"0.5"}}),children:"0.5%"}),Object(j.jsx)("button",{className:l()("1"===h?p.active:""),onClick:()=>N({target:{value:"1"}}),children:"1%"})]}),Object(j.jsx)(i.a,{className:l()(p.setting_input,p.module_important,["ml-20"]),suffix:"%",value:h,onChange:N,onBlur:()=>{Number(h)>=50?v(h.slice(0,1)):0!==Number(h)||v("0.01")}})]})]}),g?Object(j.jsx)("div",{className:p.info_text,children:g}):null,Object(j.jsxs)("div",{className:l()({"flex start":""===t}),children:[Object(j.jsx)("div",{style:{marginBottom:"popover"===t?"12px":0},children:Object(j.jsx)(r.a,{toolClass:p.setting_wrap,tip:n.a.get("settings.deadline_tip"),children:Object(j.jsx)("span",{className:p.setting_label,children:n.a.get("settings.deadline")})})}),Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)(i.a,{className:l()(p.setting_input,p.module_important),value:k,onChange:e=>{const t=e.target.value,{valid:s,str:a}=Object(d.V)(t,0);if(t){if(s){let e=a;Number(a)>1e4&&(e=1e4),O(e)}}else O(t)},onBlur:()=>{let e=Number(k);0===+k&&(e=1),O(e)}}),Object(j.jsx)("div",{className:l()(p.setting_minutes,["ml-10"]),children:n.a.get("settings.deadline_minutes")})]})]})]})}},1146:function(e,t,s){},1147:function(e,t,s){},1158:function(e,t,s){},1170:function(e,t,s){},1171:function(e,t,s){"use strict";var a=s(1),o=s(2);t.a=e=>{let{visible:t,onChange:s}=e;return Object(a.useEffect)((()=>{t&&s&&s()}),[t,s]),Object(o.jsx)(o.Fragment,{})}},1172:function(e,t,s){},1277:function(e,t,s){},1317:function(e,t,s){"use strict";var a=s(1),o=s(9),n=s.n(o),i=s(93),c=s(69),l=s(328),r=s(1038),d=s(16),p=s.n(d),j=s(271),b=s(160),m=(s(1318),s(2));const u=[n.a.get("trade.price_1"),n.a.get("trade.price_2"),n.a.get("trade.price_3")],h=Object(i.a)(window.navigator).any;t.a=e=>{const{transRoutePath:t,activePathIndex:s,showVersion:o=!0}=e,[i,d]=Object(a.useState)(!1),v=Object(j.a)("(max-width: 1080px)"),k=()=>{d(!0)},O=()=>{d(!1)},g=(e,t)=>{var s,a;let o="-0.04%",n=e.version[t];switch(n){case"v1":o="-0.3%";break;case"v2":let n=e.path[t+1].tokenSymbol,i=e.path[t].tokenSymbol;o="-0.3%",("TRX"===i&&"WTRX"===n||"WTRX"===i&&"TRX"===n)&&(o="");break;case"v3":o=(null===(s=e.poolFees)||void 0===s?void 0:s[t])>0?"-".concat((null===(a=e.poolFees)||void 0===a?void 0:a[t])/1e4,"%"):"";break;default:o="-0.04%"}return n.includes("psm")&&(o="0%"),o},x=(e,t)=>{let s=!1;if("v2"===e.version[t]){let a=e.path[t+1].tokenSymbol,o=e.path[t].tokenSymbol;("TRX"===o&&"WTRX"===a||"WTRX"===o&&"TRX"===a)&&(s=!0)}return s},f=e=>Object(m.jsxs)("div",{className:"renderRoutrOuter",children:[!h&&Object(m.jsx)("span",{className:"trade-router-txt",children:n.a.get("swap.trans_route")}),Object(m.jsx)("div",{className:"renderRoutrOuter-r",children:e.map(((t,s)=>Object(m.jsxs)("span",{children:[Object(m.jsx)("img",{src:t.tokenLogoUrl||b.a,onError:e=>{e.target.onerror=null,e.target.src=b.a},alt:""}),Object(m.jsx)("span",{children:Object(m.jsx)("span",{className:"token",children:null===t||void 0===t?void 0:t.tokenSymbol})}),s!==e.length-1&&Object(m.jsx)("span",{className:"tr-arrow"})]},s)))})]}),w=()=>Object(m.jsx)("div",{className:"tr-content",children:Object(m.jsx)("ul",{children:e.tradeRouterPathArr.map(((t,s)=>Object(m.jsxs)("li",{className:p()({"tr-content-li":!0,active:e.activePathIndex===s}),onClick:()=>(t=>{const s=e.tradeRouterDataArr[t]||{};e.onChangeRouteIndex&&e.onChangeRouteIndex(t),e.onChangeRoutePath&&e.onChangeRoutePath(s)})(s),children:[Object(m.jsxs)("div",{className:"tr-content-li-top",children:[Object(m.jsx)("span",{className:"tr-content-li-title",children:u[s]}),Object(m.jsxs)("div",{className:"tr-content-li-top-r",children:[Object(m.jsx)("span",{className:"tr-content-li-top-r-swap",children:n.a.get("trade.swap")}),Object(m.jsxs)("span",{className:"tr-content-li-top-r-num",children:[t.amount,t.symbol]})]})]}),Object(m.jsx)("div",{className:"tr-content-li-down",children:t.path.map(((e,s)=>Object(m.jsxs)("div",{className:"tr-content-li-pair",children:[Object(m.jsxs)("div",{className:"tr-content-li-pair-op",children:[Object(m.jsx)("img",{src:e.tokenLogoUrl||b.a,onError:e=>{e.target.onerror=null,e.target.src=b.a},alt:""}),Object(m.jsx)("span",{className:"token",children:null===e||void 0===e?void 0:e.tokenSymbol}),s!==t.path.length-1&&Object(m.jsx)("span",{children:g(t,s)})]}),s<t.version.length&&Object(m.jsxs)("div",{className:"flex path-pool",children:[o?!x(t,s)&&Object(m.jsx)("span",{className:"tr-pool",children:t.version[s]}):null,Object(m.jsx)("span",{className:"tr-arrow"})]})]},e.tokenAddress)))})]},s)))})}),N=t=>Object(m.jsx)(m.Fragment,{children:t.length?Object(m.jsx)(l.a,{align:{offset:h?[0,0]:e.offset||[60,-10]},getPopupContainer:e=>e.parentElement||document.body,title:w(),overlayClassName:"tr-tooltip",placement:h?"bottomRight":"rightTop",color:"#403858",arrow:!1,children:f(t)}):Object(m.jsx)("span",{})}),S=e=>Object(m.jsx)(m.Fragment,{children:e.length?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{onClick:k,children:f(e)}),Object(m.jsx)(r.a,{closeIcon:Object(m.jsx)(m.Fragment,{}),title:"",closable:!0,open:i,onCancel:O,footer:null,className:"trade-router-modal",width:630,centered:!0,mask:!0,children:w()})]}):Object(m.jsx)("span",{})});return Object(m.jsx)(c.a,{children:()=>Object(m.jsx)("div",{className:"trade-router",children:v?S(t):N(t)})})}},1318:function(e,t,s){},1319:function(e,t,s){"use strict";var a=s(16),o=s.n(a),n=(s(1320),s(2));t.a=e=>{const{children:t,className:s,disabledCanClick:a,disabled:i,onClick:c,...l}=e;return Object(n.jsx)("div",{onClick:e=>{(a&&i||!i)&&c&&c(e)},className:o()("sun-button-primary",{"sun-button-weak":a&&i},s),...l,children:t})}},1320:function(e,t,s){},1508:function(e,t,s){var a={"./3pool.svg":543,"./btc.svg":544,"./btt.svg":545,"./eth.svg":546,"./jst.svg":547,"./nft.svg":548,"./s3p.svg":549,"./sun.svg":550,"./sun3.svg":551,"./trx.svg":552,"./tusd.svg":553,"./usdc.svg":554,"./usdd.svg":555,"./usdj.svg":556,"./usdt.svg":557,"./wbtt.svg":558,"./win.svg":559};function o(e){var t=n(e);return s(t)}function n(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=n,e.exports=o,o.id=1508},1509:function(e,t,s){},1510:function(e,t,s){},1513:function(e,t,s){},1514:function(e,t,s){},1515:function(e,t,s){},1951:function(e,t,s){"use strict";s.r(t);var a=s(69),o=s(1),n=s.n(o),i=s(3),c=s(126),l=s(1053),r=s(9),d=s.n(r),p=(s(1277),s(18)),j=s(0),b=s(16),m=s.n(b),u=s.p+"static/media/ico_hot.3df94fdf.svg",h=s.p+"static/media/ico_new_pool.1ce2849e.svg",v=s(1120),k=s(2);const O=["bttusdt2","nftusdt2","jstusdt2","sunusdt2","winusdt2"],g=()=>Object(k.jsxs)("div",{className:"slogan",children:[Object(k.jsx)("div",{className:"title",children:d.a.get("home.section.liquidity_farm")}),Object(k.jsx)("div",{className:"content ".concat("en-US"===window.localStorage.getItem("lang")?" en ":""),children:d.a.get("home.section.featured_pools")})]}),x=()=>Object(k.jsxs)("div",{className:"token-icons",children:[Object(k.jsx)("img",{style:{marginRight:"-8px"},src:Object(p.d)("default"),alt:"default icon"}),Object(k.jsx)("img",{src:Object(p.d)("default"),alt:"default icon"})]}),f=e=>{let{id:t,version:s}=e;return Object(k.jsx)("div",{className:"token-icons",children:Object(k.jsx)("img",{src:Object(p.e)(t,s),alt:"".concat(t," icon")})})},w=(e,t)=>{const s=["bttusdt2","jstusdt2","nftusdt2","sunusdt2","trxusdt","winusdt2"];let a=!1;return 1===t&&(a=["twopoollpNew"].includes(e)),2===t&&(a=s.includes(e)),a};var N=()=>{const e=Object(a.d)((()=>c.a.pool)),t=Object(a.d)((()=>c.a.farmStore)),s=Object(a.d)((()=>c.a.network)),[o,i]=n.a.useState({}),[l,r]=n.a.useState({}),[p,b]=n.a.useState(!0);n.a.useEffect((()=>{!async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.stakeVersion;try{await e.getStakeApyDataNew(),i({...e["stakeData"+a]}),await t.getFarmStakeApyData(),r({...t.farmData})}finally{b(!1)}}()}),[]);const N=()=>{let e=Object.values(o).map((e=>{let{id:t,symbol:s,version:a,token:o,lpStaker:n,...i}=e;const c=(e=>{let{thisWeekApy:t,extraRewardApy:s}=e;const a=Object(j.a)(t),o=a.times(.4),n=Object(j.a)(s);let i=o,c=a;return Object(j.a)(s).isNaN()||Object(j.a)(t).isNaN()||(i=n.plus(o),c=n.plus(a)),{minApy:i,maxApy:c}})(i).maxApy;return"twopoollpNew"===t||"usddusdt"===t?"":{id:t,symbol:s,version:a,maxApy:c,apyText:Object(j.t)(c)+"%",token:o,lpStaker:n}})).filter((e=>{let{maxApy:t,id:s}=e;return!!t&&"twopoollpNew"!==s})).sort(((e,t)=>t.maxApy.minus(e.maxApy)));e=[...Object.values(l).map((e=>{let{id:t,symbol:s,version:a,token:o,lpStaker:n,...i}=e;const c=(e=>{let{flexApy:t,fixApy:s,govApy:a}=e;return{minApy:t,maxApy:Object(j.a)(s).plus(a)}})(i).maxApy||Object(j.a)(0);return{id:t,symbol:s,version:a,maxApy:c,apyText:Object(j.t)(c)+"%",token:o,lpStaker:n}})).filter((e=>{let{id:t}=e;return O.includes(t)})).sort(((e,t)=>t.maxApy.minus(e.maxApy))),...e],e=e.slice(0,5);const t=e=>{let t="";return t=(v.a.filter((t=>t.poolAddress===e))[0]||{}).fontName||"SunCurve",t};return Object(k.jsx)("div",{className:"farm-apy-wrapper",children:e&&5===e.length&&e.map((e=>{let{apyText:s,symbol:a,id:o,version:n,token:i,lpStaker:c}=e;return Object(k.jsxs)("div",{className:m()("farm-apy-item",{"farm-apy-hot":w(o,n)}),children:[Object(k.jsxs)("div",{className:"pc-wrap",children:[Object(k.jsx)("img",{className:"hot-img",src:h,alt:"newPool"}),Object(k.jsx)("div",{className:"farm-apy-name",children:Number.isInteger(n)?"SunSwap V".concat(n):t(c)}),Object(k.jsxs)("div",{className:"apy-upper-part",children:[p?Object(k.jsx)(x,{}):Object(k.jsx)(f,{id:o,version:n}),Object(k.jsxs)("div",{className:"symbol-text",children:["twopoollpNew"===o||"usddusdt"===o?Object(k.jsx)("img",{className:"apy-hot-icon",src:u,alt:"hot"}):"",p?null:a]})]}),Object(k.jsxs)("div",{className:"apy-lower-part",children:[Object(k.jsxs)("div",{className:"apy-up-to-text",children:[Object(k.jsx)("div",{className:"apy-up-to",children:d.a.get("home.section.apy_up_to")}),Object(k.jsx)("div",{className:"apy-text",children:p?null:s})]}),Object(k.jsx)("a",{className:"apy-btn",href:"/#/stake?search=".concat(c),children:d.a.get("home.section.stake_to_earn")})]})]}),Object(k.jsxs)("div",{className:"mobile-wrap",children:[Object(k.jsx)("img",{className:"hot-img",src:h,alt:"newPool"}),Object(k.jsxs)("div",{className:"farm-apy-header",children:[p?Object(k.jsx)(x,{}):Object(k.jsx)(f,{id:o,version:n}),Object(k.jsxs)("div",{className:"symbol-text",children:[p?null:a,"twopoollpNew"===o||"usddusdt"===o?Object(k.jsx)("img",{className:"apy-hot-icon",src:u,alt:"hot"}):""]}),Object(k.jsx)("div",{className:"farm-pool-version",children:Number.isInteger(n)?"SunSwap V".concat(n):t(c)})]}),Object(k.jsxs)("div",{className:"farm-apy-btm",children:[Object(k.jsxs)("div",{className:"farm-apy-btm-l",children:[Object(k.jsx)("div",{className:"apy-up-to",children:d.a.get("home.section.apy_up_to")}),Object(k.jsx)("div",{className:"apy-text",children:p?null:s})]}),Object(k.jsx)("div",{className:"farm-apy-btm-r",children:Object(k.jsx)("a",{className:"apy-btn",href:"/#/stake?search=".concat(c),children:d.a.get("home.section.stake_to_earn")})})]})]})]},o)}))})};return Object(k.jsx)(a.a,{children:()=>Object(k.jsxs)("div",{className:"apy-section",children:[Object(k.jsx)(g,{}),Object(k.jsx)(N,{})]})})},S=s.p+"static/media/bg_gov.72291deb.png";var T=()=>{const e=window.localStorage.getItem("lang")||d.a.options.currentLocale;return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{className:"gov",children:Object(k.jsxs)("div",{className:"box",children:[Object(k.jsx)("div",{className:"box-l",children:Object(k.jsx)("img",{src:S,alt:"earch"})}),Object(k.jsxs)("div",{className:"box-r",children:[Object(k.jsx)("div",{className:"title",children:d.a.get("home.section.participate_in_governance")}),Object(k.jsxs)("div",{className:"content",children:[Object(k.jsx)("div",{className:"content-row",children:d.a.get("home.section.mining_speed")}),Object(k.jsx)("div",{className:"content-row",dangerouslySetInnerHTML:{__html:d.a.get("home.section.by_locking_sun")}})]}),Object(k.jsx)("a",{className:"gov-btn",href:"/?lang=".concat(e,"#/governance"),children:d.a.get("toast.warning_tip_more")})]})]})})})},y=s(1103),_=s.n(y),A=s(1910),D=s(328),C=s(1038),I=s(1500),U=s(1918),F=s(10),P=s(26),L=s.n(P),M=s(35),R=s.n(M),B=s(93),V=s(1317);var E,q=e=>{const t=Object(a.d)((()=>c.a.network)),s=Object(a.d)((()=>c.a.homeTokens)),o=Object(a.d)((()=>c.a.pool)),{swapToken:n}=o,{toToken:i}=n,l=Object(j.fb)(s.inUsd),r=Object(j.fb)(e.fromValue),p=Object(j.fb)(t.liquidityProviderFee),b=l.dividedBy(r),m=Object(j.v)(b.multipliedBy(p),{dp:2});return Object(k.jsx)(a.a,{children:()=>Object(k.jsx)("div",{className:"description-card",children:Object(k.jsxs)("ul",{className:"description-list",children:[Object(k.jsxs)("li",{className:"description-list-item",children:[Object(k.jsxs)("span",{className:"label",children:[d.a.get("swap.detail_min_received"),"\uff1a"]}),Object(k.jsx)("span",{className:"text",children:Object(j.v)(t.dependentValue,{dp:i.tokenDecimal})+" "+i.tokenSymbol})]}),Object(k.jsxs)("li",{className:"description-list-item",children:[Object(k.jsxs)("span",{className:"label",children:[d.a.get("swap.detail_price_impact"),"\uff1a"]}),Object(k.jsx)("span",{className:"text",children:String(t.priceImpact).indexOf("NaN")>-1?"--":(0===+t.priceImpact?t.priceImpact:"-"+Math.abs(t.priceImpact))+"%"})]}),Object(k.jsxs)("li",{className:"description-list-item",children:[Object(k.jsxs)("span",{className:"label",children:[d.a.get("swap.detail_liquidity_fee"),"\uff1a"]}),Object(k.jsxs)("span",{className:"text",children:[(t.liquidityProviderFee||0)+" "+o.swapToken.fromToken.tokenSymbol," / ".concat("--"!==m?m:0," ").concat(d.a.get("swap.usd"))]})]})]})})})},H=s(187),X=s(1495),J=s(1496),Z=s(1959),W=s(1512),G=s(1036),K=(s(1509),s(1158),s(1170),s(21));var Q=Object(H.b)("network")(E=Object(H.c)(E=class extends n.a.Component{constructor(e){super(e),this.changeCheckStatus=e=>{this.setState({checkStatus:e})},this.comfirmContinue=()=>{const{checkStatus:e}=this.state;e&&this.props.cb()},this.componentDidMount=()=>{},this.state={checkStatus:!1}}render(){const{visible:e,dealWarningSymbol:t}=this.props,{checkStatus:s}=this.state;let{symbol:a,slippage:o}=t?i.a.deflationToken[t]:{symbol:"",slippage:""};return Object(k.jsx)(C.a,{title:d.a.getHTML("list.deal_warning_title",{value:a}),closable:!1,open:e,footer:null,style:{marginLeft:Object(j.R)(500)},width:525,className:"list-addtoken-modal deal-warning-modal",centered:!0,children:Object(k.jsxs)("div",{className:"solor-modal-body",children:[Object(k.jsxs)("div",{className:"tips",children:[Object(k.jsx)("div",{className:"tips1",children:d.a.getHTML("list.deal_warning_content_1",{value:a})}),Object(k.jsx)("div",{className:"tips1 yellow",children:d.a.getHTML("list.deal_warning_content_2",{value:o})}),Object(k.jsx)("div",{className:"tips1",children:d.a.getHTML("list.deal_warning_content_3",{value:a})})]}),Object(k.jsx)("div",{className:"check-box"+(s?" checked":""),children:Object(k.jsx)(I.a,{onChange:e=>this.changeCheckStatus(e.target.checked),children:d.a.get("list.i_understand")})}),Object(k.jsx)("div",{className:"btns",children:Object(k.jsx)("button",{onClick:this.comfirmContinue,className:s?"button-active":"",children:d.a.get("list.continue")})})]})})}})||E)||E,z=s(160),Y=s(1511);s(1510);const $=e=>{const{prefix:t,showPrefix:s,suffix:a,showSuffix:n,enterButton:i,value:c,onSearch:l,...r}=e,d=Object(o.useRef)(null);return Object(k.jsxs)("div",{className:"sun-search-input-wrap",children:[s&&Object(k.jsx)("div",{className:"sun-search-input-prefix",children:t||Object(k.jsx)(Y.a,{style:{color:"rgba(255, 255, 255, .5)"}})}),Object(k.jsx)("input",{ref:d,type:"text",className:"sun-search-input",value:c,...r}),n&&Object(k.jsx)("div",{className:"sun-search-input-suffix",children:a||(i?Object(k.jsx)("div",{className:"sun-search-input-btn",onClick:()=>{var e;return l&&l(null===(e=d.current)||void 0===e?void 0:e.value)},children:i}):null)})]})};$.defaultProps={showPrefix:!0,showSuffix:!0};var ee,te=Object(o.memo)($),se=s(1319),ae=s(1211),oe=s(1916),ne=s(1171);const ie="REMOVE";let ce=Object(H.b)("pool")(ee=Object(H.b)("hotTokens")(ee=Object(H.c)(ee=class extends n.a.Component{constructor(e){var t;super(e),t=this,this.componentDidMount=()=>{const e=window.localStorage.getItem("solor");if(e){let t=JSON.parse(e);window.localStorage.setItem("solor",JSON.stringify(t)),this.props.pool.setData({solor:t})}this.props.hotTokens.getHotCoinList()},this.setInitToken=()=>{this.setState({tokenSort:!1})},this.onTokenStrChange=async function(e){const{exchanges:s={},allExchanges:a={}}=t.props.pool;try{const s=t.props.type,a="object"===typeof e?e.target.value.trim():e.trim(),{tokenSort:o}=t.state;t.setState({tokenStr:a}),1===s||2===s?t.props.pool.setData({swapToken:{...t.props.pool.swapToken,["tokenStr".concat(s)]:a,["tokenSort".concat(s)]:o}}):t.props.pool.setData({liqToken:{...t.props.pool.liqToken,["tokenStr".concat(s)]:a,["tokenSort".concat(s)]:o}}),t.props.pool.searchTokenList(s)}catch(o){console.log("onTokenStrChange: ",o)}},this.onChange=async(e,t)=>{t.stopPropagation();const s=this.props.type;if(1===s||2===s){var a;let t=this.props.pool.swapToken;const o=e.tokenAddress,{fromToken:n,toToken:c}=t;if(1===s&&o===n.tokenAddress||2===s&&o===c.tokenAddress)return;if((1===s||2===s)&&Object.keys(i.a.deflationToken).includes(e.tokenAddress)&&(null===(a=this.props)||void 0===a||!a.hideDealWarning))return void this.setState({modalVisible:!1,dealWarningVisible:!0,callbacks:this.selectSearchCallback,selectSearchItem:e})}this.props.onChangeToken(e)},this.selectSearchCallback=()=>{const{selectSearchItem:e}=this.state;this.setState({dealWarningVisible:!1}),this.props.onChangeToken(e)},this.hideModal=()=>{const{defaultStatus:e}=this.state;1===e?this.setState({modalVisible:!1,customTokenUriLeg:!0,tokenSort:!1}):this.hideListModal()},this.clearStorage=()=>{const{localStorage:e}=i.a;for(const t in e)window.localStorage.removeItem(e[t]);window.location.reload()},this.showListModal=()=>{this.setState({defaultStatus:2})},this.hideListModal=()=>{this.setState({defaultStatus:1})},this.selectTokenList=async e=>{try{const{selectedListUrl:t}=this.props.pool;this.props.pool.setData({selectedListUrl:e}),this.props.pool.setTokensDataIntoLocal(),await this.props.pool.setTokenList(this.props.type),this.setState({defaultStatus:1}),this.props.pool.handleNotifiction(),this.props.pool.setTokensDataIntoLocal()}catch(t){console.log(t)}},this.backTokensCategory=()=>{this.setState({changeStatus:1})},this.onTokenUriChange=e=>{try{const t=e.target.value;this.setState({customTokenUri:t.trim(),errInfo:""})}catch(t){console.log(t)}},this.checkUrl=e=>{const t="";return e||(t=d.a.get("list.err1")),t},this.isListsOver=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).length>=i.a.maxLists},this.addCustomTokens=async()=>{try{const{customTokenUri:e}=this.state;let t="";if(!Object(j.P)(e))return t=d.a.get("list.add_failed_tip"),void this.setState({errInfo:t});const{byUrl:s={}}=this.props.pool;if(s[e]&&!s[e].rs)return t=d.a.get("list.exists"),void this.setState({errInfo:t});if(this.isListsOver(s))return t=d.a.getHTML("list.lists_over",{value:i.a.maxLists}),void this.setState({errInfo:t});const a=await Object(K.A)(e),{tokens:o=[]}=a;if(o.length>i.a.maxTokens)return t=d.a.getHTML("list.tokens_over",{value:i.a.maxTokens}),void this.setState({errInfo:t});const{key:n="",valid:c=!1}=Object(j.lb)(a);if(!c)return t=d.a.get("list.add_err_tip",{value:n}),void this.setState({errInfo:t});this.props.pool.updateTokensData(e,{...a,uri:e,rs:0}),await this.props.pool.setTokenList(this.props.type),this.setState({defaultStatus:1})}catch(e){const t=d.a.get("list.add_failed_retry");this.setState({errInfo:t}),console.log(e)}},this.updateList=async e=>{const{uri:t}=e,{byUrlNew:s={}}=this.props.pool,a=s[t];Object(j.o)(a,(async()=>{await this.props.pool.updateByUrl(a),this.setState({})}))},this.hideRemoveModal=()=>{this.setState({removeId:"",removeModalVisible:!1,removeText:""})},this.showRemoveModal=e=>{try{this.setState({removeId:e.uri,removeModalVisible:!0})}catch(t){console.log(t)}},this.removeTokens=()=>{try{const{removeId:e,removeText:t}=this.state;if(!e)return;if(t.trim()!=ie)return;const{byUrl:s={}}=this.props.pool,a=s[e],{cst:o=!1,uri:n=""}=a;o?this.props.pool.deleteByUrlById(n):(a.rs=1,this.props.pool.updateByUrl(a)),this.hideRemoveModal()}catch(e){console.log(e)}},this.inputRemoveText=e=>{const t=e.target.value;this.setState({removeText:t})},this.addSolor=async e=>{try{const{solor:t=[]}=this.props.pool;if(R.a.findIndex(t,(t=>t.tokenAddress===e.tokenAddress))>=0)return;t.unshift({...e,cst:2}),this.props.pool.setData({solor:t}),await this.props.pool.setTokenList(this.props.type),window.localStorage.setItem("solor",JSON.stringify(t))}catch(t){console.log(t)}},this.removeSolor=async e=>{try{const{solor:t=[]}=this.props.pool,{tokenAddress:s}=e;R.a.remove(t,(e=>e.tokenAddress===s)),this.props.pool.setData({solor:t}),await this.props.pool.setTokenList(this.props.type),window.localStorage.setItem("solor",JSON.stringify(t))}catch(t){console.log(t)}},this.getKeys=e=>{try{const t=Object.keys(e);return t.sort(((t,s)=>e[t].name>e[s].name?1:-1))}catch(t){return[]}},this.tokenSortByAsCII=async e=>{try{e=!e;let{type:t}=this.props,s=[],a={};const{swapToken:o,liqToken:n}=this.props.pool;if(1!==t&&2!==t||(s=o.tokenList,a=o.tokenMap),3!==t&&4!==t||(s=n.tokenList,a=n.tokenMap),o["tokenSort".concat(this.props.type)]=e,n["tokenSort".concat(this.props.type)]=e,this.props.pool.setData({swapToken:o,liqToken:n}),e){let e=s.sort(((e,t)=>{const s=a[e].tokenSymbol.toLowerCase(),o=a[t].tokenSymbol.toLowerCase();return s<o?-1:s>o?1:0}));const c=R.a.findIndex(e,(e=>e.tokenAddress===i.a.trxFakeAddress));if(c>=0){const t=e.splice(c,1);e.unshift(t[0])}1!==t&&2!==t||(o.tokenList=e),3!==t&&4!==t||(n.tokenList=e)}else await this.props.pool.setTokenList(this.props.type);this.setState({tokenSort:e})}catch(t){console.log(t)}},this.confirmContinue=async()=>{try{const{checkStatus:e}=this.state,{tokenBrief:t,tokenBriefAnother:s}=this.props.pool,a=Object(j.G)("type");if(!e)return;Object.keys(t).length>0&&await this.addSolor(t),Object.keys(s).length>0&&await this.addSolor(s),this.props.pool.setData({solorModalVisible:!1}),Object.keys(t).length>0&&this.props.onChangeToken&&this.props.onChangeToken(t,"swap"===a?1:3),Object.keys(s).length>0&&this.props.onChangeToken&&this.props.onChangeToken(s,"swap"===a?2:4)}catch(e){console.log(e),this.props.pool.setData({solorModalVisible:!1})}},this.changeCheckStatus=e=>{this.setState({checkStatus:e.target.checked})},this.getClassName=(e,t)=>{try{const s=this.props.type;let a={};const o=e.tokenAddress;a=1===s||2===s?this.props.pool.swapToken:this.props.pool.liqToken;const{fromToken:n,toToken:i}=a;if(o===n.tokenAddress||o===i.tokenAddress||t)return"n-list-item-selected"}catch(s){return""}return""},this.isItemSelected=(e,t)=>{try{const s=this.props.type;let a={};const o=e.tokenAddress;a=1===s||2===s?this.props.pool.swapToken:this.props.pool.liqToken;const{fromToken:n,toToken:i}=a;if(o===n.tokenAddress||o===i.tokenAddress||t)return!0}catch(s){return!1}return!1},this.outInputCheck=e=>{try{const t=this.props.type;let s={};const a=e.tokenAddress;s=1===t||2===t?this.props.pool.swapToken:this.props.pool.liqToken;const{fromToken:o,toToken:n}=s;if(a===o.tokenAddress)return" (".concat(d.a.get("tokens.selected_as_input"),")");if(a===n.tokenAddress)return" (".concat(d.a.get("tokens.selected_as_output"),")")}catch(t){return""}},this.renderHotCoin=()=>{const{hotTokenList:e=[],hotTokenMaps:t,isLoading:s}=this.props.hotTokens;return s?Object(k.jsxs)("div",{className:"n-hot-coin",children:[Object(k.jsx)("div",{className:"n-hot-title",children:d.a.get("account_center.popular")}),Object(k.jsx)("div",{className:"loading-hot-list",children:new Array(4).fill(1).map((()=>Object(k.jsx)("div",{className:"loading-hot-item"})))})]}):e.length?Object(k.jsxs)("div",{className:"n-hot-coin",children:[Object(k.jsx)("div",{className:"n-hot-title",children:d.a.get("account_center.popular")}),Object(k.jsx)("div",{className:"n-hot-list",children:e.map((e=>{const s=t[e];return Object(k.jsxs)("div",{className:m()({"n-hot-item":!0,"n-hot-item-selected":this.isItemSelected(s)}),onClick:e=>this.onChange(s,e),children:[Object(k.jsx)("img",{className:"n-hot-icon",src:s.tokenLogoUrl,onError:e=>{e.target.onerror=null,e.target.src=z.a}}),s.tokenSymbol]})}))})]}):null},this.renderSelectedList=(e,t)=>{let{tokenSort:s}=this.state;const{isMobileStatus:a}=this.props,{swapToken:o,liqToken:n,loadingTokenList:c}=this.props.pool,{fromToken:l,toToken:r}=n;let p=[],b={},u=[];const h=this.props.type;let v="";return 1!==h&&2!==h||(u=o.tokenList,p=o.allTokenList,b=o.tokenMap,v=o["tokenStr".concat(h)]),3!==this.props.type&&4!==this.props.type||(u=n.tokenList,p=n.allTokenList,b=n.tokenMap,v=n["tokenStr".concat(h)]),e&&t&&e[t]?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(te,{placeholder:d.a.get("tokens.select_placeholder_text"),onSearch:this.onTokenStrChange,onChange:this.onTokenStrChange,value:v,enterButton:d.a.get("tokens.search"),showSuffix:!a}),this.renderHotCoin(),Object(k.jsxs)("div",{className:"n-list-title",children:[Object(k.jsx)("span",{className:"n-list-title-text",children:d.a.get("tokens.select_tokenName_title")}),Object(k.jsx)("span",{className:m()({"icon-sort":!0,"icon-sort-active":s}),onClick:()=>this.tokenSortByAsCII(s)})]}),c?Object(k.jsx)("div",{className:"n-list-loading",children:new Array(8).fill(1).map((e=>Object(k.jsxs)("div",{className:"n-list-loading-item",children:[Object(k.jsxs)("div",{className:"n-list-loading-left",children:[Object(k.jsx)("div",{className:"n-list-loading-top"}),Object(k.jsx)("div",{className:"n-list-loading-bottom"})]}),Object(k.jsx)("div",{className:"n-list-loading-right"})]})))}):null,Object(k.jsx)("div",{className:"n-list sun-scroll-bar",children:0===p.length?Object(k.jsx)("div",{className:"n-list-empty",children:d.a.get("tokens.loading_tokens")}):u.length?u.map(((e,t)=>{const s=b[e],a=e===i.a.wtrxAddress&&(3===this.props.type||4===this.props.type);return s&&!a?Object(k.jsxs)("div",{className:m()({"n-list-item":!0,"n-list-item-selected":this.isItemSelected(s)}),onClick:e=>this.onChange(s,e),children:[Object(k.jsx)(ae.a,{className:"n-token-icon",src:s.tokenLogoUrl}),Object(k.jsxs)("div",{className:"n-item-content",children:[Object(k.jsxs)("div",{className:"n-item-title",children:[Object(k.jsxs)("span",{className:"item-content",children:[s.tokenSymbol,this.outInputCheck(s)]}),1===s.cst&&Object(k.jsxs)("div",{className:"item-content solor-detail",children:[Object(k.jsx)("span",{children:d.a.get("list.search_by_addr")}),Object(k.jsxs)("span",{className:"ib",onClick:e=>{e.stopPropagation(),this.addSolor(s)},children:["(",d.a.get("list.add"),")"]})]}),2===s.cst&&Object(k.jsxs)("div",{className:"item-content solor-detail",children:[Object(k.jsx)("span",{children:d.a.get("list.add_by_user")}),Object(k.jsxs)("span",{className:"solor-remove ib",onClick:e=>{e.stopPropagation(),this.removeSolor(s)},children:["(",d.a.get("list.remove_token"),")"]})]})]}),Object(k.jsx)("div",{className:"n-item-address",children:s.tokenAddress===i.a.trxFakeAddress?null:Object(B.a)(window.navigator).any?Object(j.r)(s.tokenAddress,4,4):Object(j.r)(s.tokenAddress,8,10)})]}),Object(k.jsx)("div",{className:"n-item-balance",children:s.tokenAddress===i.a.trxFakeAddress?Object(k.jsx)("div",{children:Object(k.jsx)("p",{children:Object(j.v)(b[s.tokenAddress]?b[s.tokenAddress].balance:s.balance)})}):Object(k.jsx)("div",{children:Object(k.jsx)("p",{children:b[s.tokenAddress]&&!isNaN(b[s.tokenAddress].balance)?Object(j.v)(b[s.tokenAddress].balance):"--"})})})]},s.tokenAddress+t):Object(k.jsx)(k.Fragment,{})})):Object(k.jsx)("div",{className:"no-token-fund",children:d.a.getHTML("list.no_token_found")})}),Object(k.jsx)("div",{className:"n-list-switch-wrap",children:Object(k.jsxs)("div",{className:"n-list-switch",children:[Object(k.jsxs)("div",{className:"n-list-switch-name",children:[Object(k.jsx)("img",{className:"n-list-switch-icon",src:e[t].logoURI,alt:"",onError:e=>{e.target.onerror=null,e.target.src=z.a}}),Object(k.jsx)("span",{children:e[t].name||""})]}),Object(k.jsx)("button",{className:"n-list-switch-btn",onClick:()=>this.showListModal(),children:d.a.get("list.switch")})]})})]}):Object(k.jsx)(k.Fragment,{})},this.renderUpdateListItem=e=>{const{byUrlNew:t={}}=this.props.pool,{version:s={},uri:a}=e,o=t[a]||{},n=o.version||{},i=Object(j.n)(s,n),{success:c=!1}=Object(j.m)(e,o);return!R.a.isEqual(o,{})&&i&&c&&Object(k.jsx)(X.a.Item,{onClick:()=>{this.updateList(e)},children:d.a.get("list.update")})},this.adjustAndroid=e=>{let t=Object(j.d)(e);this.setState({adjust:t})},this.renderTokensCategory=e=>{const{customTokenUri:t,lang:s,errInfo:a}=this.state,{byUrl:o,selectedListUrl:n}=this.props.pool,c=this.getKeys(o);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"home-select-url-input-wrap",children:[Object(k.jsx)(A.a,{type:"text",className:"home-select-url-input",placeholder:"https://",value:t,onChange:this.onTokenUriChange}),Object(k.jsx)("button",{className:"home-select-url-btn",onClick:this.addCustomTokens,disabled:!t.trim(),children:d.a.get("list.add_list")})]}),!!a&&Object(k.jsxs)("div",{className:"list-add-errTip",children:[Object(k.jsx)("span",{className:"icon",children:"!"}),Object(k.jsx)("span",{className:"text",children:a})]}),Object(k.jsx)("ul",{className:"n-origin-list",style:e?{height:460}:{},children:o&&c.length&&c.map((e=>{const t=o[e];return!t.rs&&Object(k.jsxs)("li",{className:"n-origin-list-item",children:[Object(k.jsxs)("div",{className:"n-origin-list-item-left",children:[Object(k.jsxs)("div",{className:"n-origin-list-item-img-text",children:[Object(k.jsx)("img",{src:t.logoURI,alt:"",className:"n-origin-list-item-logo"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"n-origin-list-item-name",children:t.name}),Object(k.jsx)("div",{className:"n-origin-list-item-source",children:Object(j.B)(t.uri)})]})]}),Object(k.jsx)(J.a,{trigger:"click",placement:"bottomRight",getPopupContainer:e=>e.parentNode,overlayClassName:"home-select-url-drop",dropdownRender:()=>Object(k.jsx)(X.a,{children:Object(k.jsxs)(X.a.ItemGroup,{title:Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:"key",children:d.a.get("list.version")}),Object(k.jsx)("span",{className:"value",children:Object(j.N)(t.version)})]}),children:[Object(k.jsxs)(X.a.Item,{children:[" ",Object(k.jsx)("a",{href:"".concat(i.a.justList,"?lang=").concat(s,"#/detail?uri=").concat(t.uri),target:t.uri||"_blank",children:d.a.get("list.view")})]}),this.renderUpdateListItem(t),t.uri!==n&&Object(k.jsx)(X.a.Item,{onClick:()=>{this.showRemoveModal(t)},children:d.a.get("list.remove")})]})}),children:Object(k.jsx)("a",{className:"n-origin-list-item-drop",onClick:e=>e.preventDefault()})})]}),Object(k.jsx)("div",{className:"n-origin-list-item-right",children:Object(k.jsx)(se.a,{onClick:()=>this.selectTokenList(e),disabledCanClick:!0,disabled:String(n)===String(t.uri),children:String(n)===String(t.uri)?d.a.get("list.selected"):d.a.get("list.select")})})]},t.name+"_"+e)}))}),Object(k.jsxs)("div",{className:"home-select-url-links",children:[Object(k.jsx)("a",{className:"home-select-url-more",href:"en-US"===s?i.a.moreList.en:i.a.moreList.zh,target:"_blank",children:d.a.get("more.more")}),Object(k.jsx)("a",{className:"home-select-url-home",href:"".concat(i.a.justList,"?lang=").concat(s,"#/home"),target:"justList",children:d.a.get("list.view_list_home")})]})]})},this.hideSolorModal=()=>{this.props.pool.setData({solorModalVisible:!1})},this.onTokenCancel=()=>{this.props.onCancel()},this.renderPCSelectModal=()=>{const{defaultStatus:e,adjust:t}=this.state,{byUrl:s,selectedListUrl:a}=this.props.pool;return Object(k.jsx)(C.a,{title:this.renderSelectModalTitle(),closable:!0,open:this.props.modalVisible,onCancel:()=>this.onTokenCancel(),className:m()({"dark-modal":!0,"token-select-modal":!0,"token-select-list-modal":1!==e}),footer:null,width:405,centered:!0,children:Object(k.jsx)("div",{style:{position:"relative"},children:1===e?this.renderSelectedList(s,a):this.renderTokensCategory()})})},this.renderMobileSelectModal=()=>{const{defaultStatus:e}=this.state,{byUrl:t,selectedListUrl:s}=this.props.pool,{hotTokenList:a=[]}=this.props.hotTokens,o=a.length>4;return Object(k.jsx)(Z.a,{onClose:()=>this.onTokenCancel(),rootClassName:m()({"sun-mobile-token-modal":!0,"sun-mobile-token-select-modal":1!==e}),open:this.props.modalVisible,closable:!1,extra:Object(k.jsx)(W.a,{onClick:()=>this.onTokenCancel(),style:{color:"#fff",fontSize:16}}),placement:"bottom",height:o?658:622,title:this.renderSelectModalTitle(),children:1===e?this.renderSelectedList(t,s):Object(k.jsx)("div",{style:{position:"relative",display:"flex",flexDirection:"column",height:"100%"},children:this.renderTokensCategory(o)})})},this.renderSelectModalTitle=()=>{const{defaultStatus:e}=this.state;return Object(k.jsx)("div",{className:"n-token-modal-title",children:1===e?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{children:d.a.get("tokens.add_choose_select")}),Object(k.jsx)(D.a,{zIndex:1e4,placement:"bottom",title:d.a.get("tokens.add_choose_select_tip"),children:Object(k.jsx)(G.a,{className:"n-token-modal-title-icon",color:"rgba(255, 255, 255, .5)"})})]}):Object(k.jsxs)("div",{className:"list-modal-header",children:[Object(k.jsx)(oe.a,{onClick:()=>this.hideListModal(),style:{marginRight:10}}),Object(k.jsx)("span",{className:"n-add-title",children:d.a.get("list.select_list")})]})})},this.state={lang:window.localStorage.getItem("lang")||d.a.options.currentLocale,tokenStr:"",defaultStatus:1,removeModalVisible:!1,removeText:"",removeId:"",solor:JSON.parse(window.localStorage.getItem("solor")||"[]"),customTokenUri:"",customTokenUriLeg:!0,errInfo:"",tokenSort:!1,checkStatus:!1,dealWarningVisible:!1,selectSearchItem:"",adjust:!1,tokenMap:{},tokenList:[],originalTokenList:[]}}render(){const{removeText:e,removeModalVisible:t,dealWarningVisible:s,callbacks:a,selectSearchItem:o}=this.state,{isMobileStatus:i}=this.props;return Object(k.jsxs)(n.a.Fragment,{children:[Object(k.jsx)(ne.a,{visible:this.props.modalVisible,onChange:this.setInitToken}),i?this.renderMobileSelectModal():this.renderPCSelectModal(),Object(k.jsxs)(C.a,{title:"",closable:!1,open:t,footer:null,style:{marginLeft:Object(j.R)()},width:420,className:"list-remove-modal base-home-swapmodal",transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",centered:!0,children:[Object(k.jsx)("div",{className:"title",children:d.a.get("list.remove_confirm")}),Object(k.jsx)("div",{className:"tips",children:d.a.get("list.remove_confirm_tip")}),Object(k.jsx)("input",{type:"text",className:"list-input w-80",value:e,onChange:this.inputRemoveText}),Object(k.jsxs)("div",{className:"btns",children:[Object(k.jsx)("button",{onClick:this.removeTokens,disabled:e.trim()!==ie,children:d.a.get("list.confirm")}),Object(k.jsx)("button",{onClick:this.hideRemoveModal,children:d.a.get("list.cancel")})]})]}),s&&Object(k.jsx)(Q,{visible:s,cb:a,dealWarningSymbol:o.tokenAddress})]})}})||ee)||ee)||ee;var le=ce,re=s(1123);s(1513);class de extends n.a.Component{constructor(e){super(e),this.confirm=()=>{this.props.confirm&&this.props.confirm()},this.cancel=()=>{this.props.cancel&&this.props.cancel()},this.state={}}render(){const e=Object(B.a)(window.navigator).any?0:64;return Object(k.jsxs)(C.a,{footer:null,title:null,closable:!0,maskClosable:!1,open:this.props.visible,className:"unfinished-pop base-home-swapmodal",onCancel:this.cancel,style:{marginLeft:Object(j.F)()+e},width:430,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:[Object(k.jsxs)("div",{className:"title",children:[d.a.get("action.popTitle"),Object(k.jsx)("p",{children:d.a.get("action.popDesc")})]}),Object(k.jsxs)("div",{className:"btns",children:[Object(k.jsx)("button",{onClick:this.confirm,children:d.a.get("action.popQuitBtn")}),Object(k.jsx)("button",{onClick:this.cancel,children:d.a.get("action.popCancelBtn")})]})]})}}var pe=de,je=s(1055),be=s(1915),me=s(1033);s(1514);const ue=Object(k.jsx)(me.a,{style:{fontSize:24},spin:!0});var he=e=>{const{children:t}=e,s=n.a.Children.toArray(t).map(((e,t)=>{const{children:s,status:a,err:o,failed:n}=e.props;let i=s;return"error"===a&&(i=o||s),"pending"===a&&(i=d.a.get("action.doingAct")),"failed"===a&&(i=n||s),Object(k.jsxs)("div",{className:"al_item ".concat(a?"".concat(a):""),children:[Object(k.jsxs)("div",{className:"flex",children:[Object(k.jsx)("span",{className:"al_number",children:t+1}),Object(k.jsx)("span",{className:"al_title".concat(a?" ".concat(a):""),children:i})]}),"pending"===a&&Object(k.jsx)(be.a,{indicator:ue,className:"spiny"})]},e.key)}));return Object(k.jsx)("div",{className:"action-line",children:s})};var ve=e=>{let{left:t,placement:s="bottom",toolClass:a,tip:o,titleClass:i,children:c,tail:l}=e;return Object(k.jsx)(n.a.Fragment,{children:t?Object(k.jsxs)("div",{className:"flex between ai-center "+(a||""),children:[Object(k.jsx)(D.a,{title:o,overlayClassName:"tooltip",placement:s,color:"rgba(27,31,38,0.90)",children:Object(k.jsx)("span",{className:"ques",children:"?"})}),Object(k.jsx)("span",{className:i||"",children:c})]}):Object(k.jsxs)("div",{className:"flex "+(l?"between ":"")+(a||""),children:[Object(k.jsx)("span",{className:i||"",children:c}),Object(k.jsx)(D.a,{title:o,overlayClassName:"tooltip",placement:s,color:"rgba(27,31,38,0.90)",children:Object(k.jsx)("span",{className:"ques",children:"?"})})]})})},ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAANCAMAAAB4p3UoAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEJQTFRFAAAASFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlDTbkywAAABZ0Uk5TAIDuQFf/9AFYP9cvsf78ImriLWQuePVMmBkAAABCSURBVHicY2DADRiZmNFEWFhZMYXYcAmxIwAHKysnAwMXKyrgZuABkrwQABLg40cxSIBVUIhEAWFWVhFU14hyQQQA99wCt/58bxkAAAAASUVORK5CYII=",Oe=s.p+"static/media/TransactionSuccess.9be097c2.svg";var ge=e=>{const{swapData:t}=e,s=Object(a.d)((()=>c.a.network)),o=Object(a.d)((()=>c.a.pool)),l=Object(a.d)((()=>c.a.homeTokens)),{swapToken:r}=o,{dependentValue:p}=s,{fromToken:b,toToken:m}=r,{fromValue:u,toValue:h,priceStr:v,priceInverseStr:O,priceImpactColor:g}=t,x=()=>{e.hideSwapModal&&e.hideSwapModal()},f=()=>{e.onRetryAction&&e.onRetryAction()},w=()=>{e.beforeSwapToken&&e.beforeSwapToken()},N=()=>{e.beforeHideSwapModal&&e.beforeHideSwapModal()};return Object(k.jsx)(a.a,{children:()=>Object(k.jsxs)(C.a,{title:null,closable:"success"!==l.actionState,open:e.visible,onCancel:N,footer:null,className:"confirm-swap-modal base-home-swapmodal",style:{marginLeft:Object(j.F)()},width:630,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:["line"===l.actionState&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"title big",children:l.swapPopTitle}),Object(k.jsxs)("div",{className:"ib-parent center trans-modal amount",children:[Object(k.jsxs)("div",{className:"from",children:[Object(k.jsx)("div",{className:"from-value",children:u}),Object(k.jsx)("div",{className:"from-token",children:o.swapToken.fromToken.tokenSymbol})]}),Object(k.jsx)("img",{src:ke,alt:"",className:"plus w10"}),Object(k.jsxs)("div",{className:"to",children:[Object(k.jsx)("div",{className:"to-value",children:h}),Object(k.jsx)("div",{className:"to-token",children:o.swapToken.toToken.tokenSymbol})]})]}),Object(k.jsxs)(he,{children:[Object(k.jsx)("span",{status:l.approveActionState,err:l.approveActionError,children:l.approveActionTitle}),Object(k.jsx)("span",{status:l.swapActionState,err:l.swapActionError,children:l.swapActionTitle})]}),Object(k.jsx)(je.a,{type:"single",disabled:l.actionDisabled,info:l.actionInfo,onClick:f})]}),"info"===l.actionState&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"title big",children:l.swapPopTitle}),Object(k.jsxs)("div",{className:"ib-parent center tokens amount",children:[Object(k.jsxs)("div",{className:"from",children:[Object(k.jsx)("div",{className:"from-value",children:u}),Object(k.jsxs)("div",{className:"from-token",children:[Object(k.jsx)("img",{src:o.swapToken.fromToken.tokenLogoUrl,alt:""}),Object(k.jsx)("span",{children:o.swapToken.fromToken.tokenSymbol})]})]}),Object(k.jsx)("img",{src:ke,alt:"",className:"plus w10"}),Object(k.jsxs)("div",{className:"to",children:[Object(k.jsx)("div",{className:"to-value",children:h}),Object(k.jsxs)("div",{className:"to-token",children:[Object(k.jsx)("img",{src:o.swapToken.toToken.tokenLogoUrl,alt:""}),Object(k.jsx)("span",{children:o.swapToken.toToken.tokenSymbol})]})]})]}),Object(k.jsxs)("div",{className:"flex justify-content price",children:[Object(k.jsx)("div",{className:"",children:d.a.get("swap.input_from_price")}),Object(k.jsxs)("div",{className:"right",children:[Object(k.jsx)("div",{children:"1 ".concat(o.swapToken.toToken.tokenSymbol," =\n              ").concat(Object(j.v)(v,{dp:o.swapToken.fromToken.tokenDecimal,cutZero:!0,miniTextNoZero:!0,miniText:i.a.minPrice}),"\n              ").concat(o.swapToken.fromToken.tokenSymbol," ")}),Object(k.jsx)("div",{className:"mt3",children:"1 ".concat(o.swapToken.fromToken.tokenSymbol," =\n              ").concat(Object(j.v)(O,{dp:o.swapToken.toToken.tokenDecimal,cutZero:!0,miniTextNoZero:!0,miniText:i.a.minPrice}),"\n              ").concat(o.swapToken.toToken.tokenSymbol," ")})]})]}),"0.5"!==s.settingSlippage?Object(k.jsxs)("div",{className:"flex justify-content detail-slippage",children:[Object(k.jsxs)("div",{children:[d.a.get("swap.detail_slippage")," "]}),Object(k.jsx)("div",{children:(Object(j.a)(s.settingSlippage).lt(.01)?"<0.01":s.settingSlippage)+"%"})]}):null,!l.swapTRXState&&Object(k.jsxs)("div",{className:"detail-list",children:[Object(k.jsx)("div",{className:"flex justify-content detail-item",children:l.receivedFlag?Object(k.jsxs)(n.a.Fragment,{children:[Object(k.jsx)(ve,{tip:d.a.get("swap.detail_min_received_tip"),left:!0,children:d.a.get("swap.detail_min_received")}),Object(k.jsx)("span",{className:"right",children:Object(j.v)(p,{dp:m.tokenDecimal})+" "+o.swapToken.toToken.tokenSymbol})]}):Object(k.jsxs)(n.a.Fragment,{children:[Object(k.jsx)(ve,{tip:d.a.get("swap.detail_max_sold_tip"),left:!0,children:d.a.get("swap.detail_max_sold")}),Object(k.jsx)("span",{className:"right",children:Object(j.v)(p,{dp:b.tokenDecimal})+" "+o.swapToken.fromToken.tokenSymbol})]})}),Object(k.jsxs)("div",{className:"flex justify-content detail-item",children:[Object(k.jsx)(ve,{tip:d.a.get("swap.detail_price_impact_tip"),left:!0,children:d.a.get("swap.detail_price_impact")}),Object(k.jsx)("span",{className:"right "+(["orange","red"].includes(g)?g:"normal"),children:String(s.priceImpact).indexOf("NaN")>-1?"--":(0===+s.priceImpact?"":"-")+Math.abs(s.priceImpact)+"%"})]}),Object(k.jsxs)("div",{className:"flex justify-content detail-item",children:[Object(k.jsx)(ve,{tip:d.a.getHTML("swap.detail_liquidity_fee_tip_v2"),left:!0,children:d.a.get("swap.detail_liquidity_fee")}),Object(k.jsx)("span",{className:"right",children:s.liquidityProviderFee+" "+o.swapToken.fromToken.tokenSymbol})]})]}),Object(k.jsx)("div",{className:"warning",children:l.receivedFlag?Object(k.jsx)("div",{children:d.a.get("swap.confirm_warning_output",{amount:Object(j.v)(p,{dp:m.tokenDecimal}),token:o.swapToken.toToken.tokenSymbol})}):Object(k.jsx)("div",{children:d.a.get("swap.confirm_warning_input",{amount:Object(j.v)(p,{dp:b.tokenDecimal}),token:o.swapToken.fromToken.tokenSymbol})})}),l.swapErrorInfo&&Object(k.jsx)("div",{className:"errorMsg",children:l.swapErrorInfo}),Object(k.jsx)(je.a,{type:"single",btnColor:g,disabled:l.swapPopBtnDisabled,info:l.swapPopBtn,onClick:w})]}),"success"===l.actionState&&Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"modal-success",children:[Object(k.jsx)("img",{src:Oe,alt:""}),Object(k.jsx)("div",{className:"title green",children:d.a.get("action.swapSuccessTitle")}),Object(k.jsxs)("div",{className:"ib-parent center trans-modal mb25",children:[Object(k.jsxs)("div",{className:"from",children:[Object(k.jsx)("div",{className:"from-value",children:l.successFromValue}),Object(k.jsx)("div",{className:"from-token",children:o.swapToken.fromToken.tokenSymbol})]}),Object(k.jsx)("img",{src:ke,alt:"",className:"plus w10"}),Object(k.jsxs)("div",{className:"to",children:[Object(k.jsx)("div",{className:"to-value",children:l.successToValue}),Object(k.jsx)("div",{className:"to-token",children:o.swapToken.toToken.tokenSymbol})]})]}),Object(k.jsx)(je.a,{type:"single",info:d.a.get("action.closeBtn"),onClick:x})]})})]})})},xe=s.p+"static/media/ico_switch.7800d88b.svg";var fe=e=>{const[t,s]=Object(o.useState)(!1),n=Object(a.d)((()=>c.a.pool)),{swapToken:l}=n,{fromToken:r,toToken:p}=l,{priceInverseStr:b,priceStr:m}=e,u=async()=>{s(!t)};return Object(k.jsx)(a.a,{children:()=>Object(k.jsxs)("div",{className:"swap-rate",children:[Object(k.jsxs)("span",{className:"swap-rate-label swap-rate-label1",children:[d.a.get("scan.chart.price"),"\uff1a"]}),t?d.a.getHTML("swap.input_from_per",{toToken:r.tokenSymbol,price:Object(j.v)(b,{miniText:i.a.minPrice,miniTextNoZero:!0,separator:!1,dp:p.tokenDecimal,cutZero:!0}),fromToken:p.tokenSymbol}):d.a.getHTML("swap.input_from_per",{toToken:p.tokenSymbol,price:Object(j.v)(m,{miniText:i.a.minPrice,miniTextNoZero:!0,separator:!1,dp:r.tokenDecimal,cutZero:!0}),fromToken:r.tokenSymbol}),Object(k.jsx)("img",{src:xe,className:"purple-switch",onClick:u,alt:""})]})})};var we=e=>{const t=Object(a.d)((()=>c.a.network)),s=Object(a.d)((()=>c.a.homeTokens)),{errorTip:o,priceImpactColor:l}=e,r=()=>o===d.a.get("trade.tip_1")?Object(k.jsx)("div",{className:"submit-btn",onClick:()=>(()=>{let e=window.localStorage.getItem("lang");window.open("".concat(i.a.sunSwapV2,"?lang=").concat(e),"_blank")})(),children:o}):Object(k.jsx)("div",{className:"submit-btn disabled",children:o||d.a.get("buysell.swap")}),p=()=>Object(k.jsx)("div",{className:"submit-btn ".concat(l," ").concat(s.isRequesting&&"disabled"),onClick:()=>{e.showSwapModal&&e.showSwapModal()},children:"red"===l?d.a.get("swap.action_high"):d.a.get("buysell.swap")});return Object(k.jsx)(a.a,{children:()=>Object(k.jsx)(n.a.Fragment,{children:t.isConnected?o?Object(k.jsx)(r,{}):Object(k.jsx)(p,{}):Object(k.jsx)("div",{className:"submit-btn",onClick:()=>t.setData({loginModalVisible:!0,loginModalStep:1}),children:d.a.get("header.connect_wallet")})})})};var Ne=e=>{const t=Object(a.d)((()=>c.a.pool)),s=Object(a.d)((()=>c.a.homeTokens)),{swapToken:o}=t,{fromToken:n}=o,l=s.swapPool||[],r=e.fromValue;let p=0;l.includes("v1")&&(p+=i.a.swapFeeAmount),l.includes("v2")&&(p+=i.a.swapFeeAmountV2);return Object(k.jsx)(a.a,{children:()=>Object(k.jsx)("div",{children:"TRX"===n.tokenSymbol&&r?Object(j.fb)(n.balance).lt(p)?Object(k.jsx)("div",{className:"safe-amount-tip safe-amount",children:d.a.getHTML("list.trx_tip_3",{value:p})}):Object(j.fb)(n.balance).minus(p).lt(Object(j.fb)(r))?Object(k.jsxs)("div",{className:"safe-amount-tip safe-amount",children:[Object(k.jsxs)("span",{className:"safe-word",children:[d.a.getHTML("list.trx_tip_1",{value:p})," "]}),Object(k.jsx)("span",{className:"safe-btn",onClick:()=>((t,s)=>{e.onSafeMax&&e.onSafeMax(t,s)})("from",p),children:d.a.get("list.trx_tip_2")})]}):null:null})})};class Se extends n.a.Component{constructor(e){super(e)}render(){const{token:e={}}=this.props;return Object(k.jsx)("p",{className:"dragDown "+(this.props.disabled?"no-bg":""),onClick:()=>{this.props.showModal()},children:e.tokenAddress?Object(k.jsxs)("div",{className:"selector",children:[Object(k.jsx)("img",{src:e.tokenLogoUrl||z.a,alt:"",onError:e=>{e.target.onerror=null,e.target.src=z.a}}),Object(k.jsx)("span",{children:e.tokenSymbol})]}):Object(k.jsxs)("div",{className:"selector",children:[d.a.get("swap.add_choose_select")," "]})})}}var Te=Se,ye=s.p+"static/media/ico_view_token.5cfb5e2f.svg";var _e=e=>{const t=Object(a.d)((()=>c.a.pool)),{swapToken:s}=(Object(a.d)((()=>c.a.network)),t),{fromToken:o,toToken:n}=s,{isFrom:l,errorTip:r}=e,p=()=>{window.open("".concat(i.a.tronscanUrl,"/address/").concat(e.token.tokenAddress),"_blank")};return Object(k.jsx)(a.a,{children:()=>Object(k.jsxs)("div",{className:"info-row",children:[Object(k.jsx)("div",{className:"from-text",children:Object(k.jsx)(Te,{showModal:e.showModal,token:e.token})}),Object(k.jsx)("div",{className:"view-token",children:e.token.tokenAddress!==i.a.trxFakeAddress?Object(k.jsx)("img",{onClick:p,src:ye,alt:"viewToken"}):""}),Object(k.jsxs)("div",{className:"balance-wrap",children:[Object(k.jsx)("span",{className:"balance-text",children:d.a.get("buysell.balance")}),Object(k.jsxs)("span",{className:"balance-value",children:[l?Object(j.v)(o.balance,{dp:6,cutZero:!0}):Object(j.v)(n.balance,{dp:6,cutZero:!0}),"\xa0",e.token.tokenSymbol]})]})]})})};var Ae=e=>{const t=Object(a.d)((()=>c.a.homeTokens)),{isFrom:s}=e,o=()=>{let e=Object(j.fb)(t.inUsd);const s=Object(j.fb)(t.outUsd).minus(e).div(e).times(100),a=Object(j.v)(s);return Object(k.jsxs)("span",{children:["\uff08","Infinity"===a?"--":a,"%\uff09"]})};return Object(k.jsx)(a.a,{children:()=>Object(k.jsx)("div",{className:"input-usd",children:s?Object(k.jsxs)("div",{children:["$",Object(j.v)(t.inUsd)]}):Object(k.jsxs)("div",{children:["$",Object(j.v)(t.outUsd),o()]})})})},De=(s(1147),s(5));s(48);const Ce=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).tokenAddress,s=e.tokenAddress,{trxFakeAddress:a,wtrxAddress:o}=i.a;return t===a&&s===o||t===o&&s===a},Ie=async e=>{try{var t,s,a;const o="btfs",n="test"===o||"qaTest"===o?e.tokenSymbol:e.tokenAddress,{data:i}=await Object(K.B)([n]);return(null===(t=i[n])||void 0===t||null===(s=t.quote)||void 0===s||null===(a=s.USD)||void 0===a?void 0:a.price)||""}catch(o){console.log("get token price error",o)}},{usdcPools:Ue,usddPools:Fe,twoKeyPools:Pe,twoKeyPoolContracts:Le,twoKeyNewPoolContracts:Me}=i.a;var Re=()=>{const e=Object(a.d)((()=>c.a.homeTokens)),[t,s]=Object(o.useState)(!1),[n,l]=Object(o.useState)({}),[r,d]=Object(o.useState)(""),[p,b]=Object(o.useState)(""),m=async(t,a,o,n)=>{try{const i=L()(10).pow(t.tokenDecimal),c=L()(10).pow(a.tokenDecimal),r=Object(j.fb)(o).gt(0)?Object(j.fb)(o).times(i).div(c)._toFixed(Number(a.tokenDecimal),1):"";l({timestamp:n,amountOut:Object(j.c)(r),fee:"",impact:"",pool:["v2"],tokens:[t.tokenAddress,a.tokenAddress],roadForName:[t.tokenSymbol.toUpperCase(),a.tokenSymbol.toUpperCase()],inUsd:L()(e.trxPrice).times(L()(r)),outUsd:L()(e.trxPrice).times(L()(r))}),s(!1),d("success")}catch(i){console.log("get token price error: ",i)}},u=async(t,s,a)=>{if(!a)return{};const o=L()(10).pow(t.tokenDecimal);try{let n="";e.fromTokenPrice||(n=await Ie(t),e.setData({fromTokenPrice:n}));const c=v(a);let l=await Object(K.k)({fromToken:"TRX"===t.tokenSymbol?i.a.trxFakeAddress:t.tokenAddress,toToken:"TRX"===s.tokenSymbol?i.a.trxFakeAddress:s.tokenAddress,amountIn:Object(j.v)(Object(j.fb)(a).times(o),{separator:!1,cutZero:!0}),typeList:c});if(0===l.code){const e=R.a.cloneDeep(null===l||void 0===l?void 0:l.data),t=(null===l||void 0===l?void 0:l.data[0])||{};return t.roadPathArr=e||[],t||{}}d("failed")}catch(n){console.log("get routing error: ",n)}},h=async(e,t,s,a,o)=>{var n,i;if(!a)return{};let c=e.tokenSymbol.toLowerCase(),l=t.tokenSymbol.toLowerCase(),r=s;if(r=Object(j.fb)(r),!r.gt(0))return;let d=w(c,l)?Pe:f(c,l)?Fe:Ue;const p=null===(n=d[c])||void 0===n?void 0:n.index,b=null===(i=d[l])||void 0===i?void 0:i.index;try{var m;const{result:a,dx_precision:n,dy_precision:i,pools:d,type:u}=await k(c,l,r)||{};if(null===a||void 0===a||!a.success)return;const h=s,v=Object(j.c)(null===a||void 0===a?void 0:a.value.div(i)._toFixed(null===(m=d[l])||void 0===m?void 0:m.decimal,1)),O=await x(u,h,v,p,b,n,i);return{amountOut:v,fee:o?Object(j.fb)(s).times(4).div(1e4)._toFixed(Number(e.tokenDecimal),1):0,impact:O,pool:u,roadForAddr:[p,b],roadForName:[e.tokenSymbol,t.tokenSymbol]}}catch(u){console.log("get dy error: ",u)}},v=t=>Object(j.fb)(e.fromTokenPrice).times(Object(j.fb)(t)).gt(5e3)?"":"PSM,CURVE,CURVE_COMBINATION,WTRX,SUNSWAP_V1,SUNSWAP_V2",k=async(e,t,s)=>{if([e,t].includes("usdd")){if([e,t].includes("usdc"));else if([e,t].includes("usdt")){return await O("2pool",e,t,s)}}else if([e,t].includes("usdt")){if([e,t].includes("tusd")){let a=await O("old3pool",e,t,s),o=await O("oldusdcpool",e,t,s);return g([a,o])}if([e,t].includes("usdj"))return await O("old3pool",e,t,s);if([e,t].includes("usdc")){return await O("oldusdcpool",e,t,s)}}else if([e,t].includes("tusd")){if([e,t].includes("usdj"))return await O("old3pool",e,t,s);if([e,t].includes("usdc"))return await O("oldusdcpool",e,t,s)}else if([e,t].includes("usdc")&&[e,t].includes("usdj"))return await O("oldusdcpool",e,t,s)},O=async function(){var e,t,s,a,o,n,i,c,l,r,d,p,b,m,u,h,v,k,O,g,x,f,w,N,S,T,y,_,A;let D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"old3pool",C=arguments.length>1?arguments[1]:void 0,I=arguments.length>2?arguments[2]:void 0,U=arguments.length>3?arguments[3]:void 0;try{if(Object(j.fb)(U).isNaN())return;let F=null,P=null,L=null,M=null,R=null,B=null;switch(D){case"old3pool":D="old3pool",R=Ue,L=null===(e=R[C])||void 0===e?void 0:e.precision,P=null===(t=R[I])||void 0===t?void 0:t.precision,M=null===(s=Object(j.fb)(U))||void 0===s||null===(a=s.times(L))||void 0===a||null===(o=a._toIntegerDown())||void 0===o?void 0:o._toHex(),F=await Object(De.mb)(null===(n=R[C])||void 0===n?void 0:n.index,null===(i=R[I])||void 0===i?void 0:i.index,M);break;case"3pool":D="3pool",R=Fe,L=null===(c=R[C])||void 0===c?void 0:c.precision,P=null===(l=R[I])||void 0===l?void 0:l.precision,M=null===(r=Object(j.fb)(U))||void 0===r||null===(d=r.times(L))||void 0===d||null===(p=d._toIntegerDown())||void 0===p?void 0:p._toHex(),F=await Object(De.T)(null===(b=R[C])||void 0===b?void 0:b.index,null===(m=R[I])||void 0===m?void 0:m.index,M);break;case"old2pool":D="old2pool",R=Pe,L=null===(u=R[C])||void 0===u?void 0:u.precision,P=null===(h=R[I])||void 0===h?void 0:h.precision,M=null===(v=Object(j.fb)(U))||void 0===v||null===(k=v.times(L))||void 0===k||null===(O=k._toIntegerDown())||void 0===O?void 0:O._toHex(),F=await Object(De.S)(R[C].index,R[I].index,M,Le.stablePool);break;case"2pool":D="2pool",R=Pe,L=null===(g=R[C])||void 0===g?void 0:g.precision,P=null===(x=R[I])||void 0===x?void 0:x.precision,M=null===(f=Object(j.fb)(U))||void 0===f||null===(w=f.times(L))||void 0===w||null===(N=w._toIntegerDown())||void 0===N?void 0:N._toHex(),F=await Object(De.S)(R[C].index,R[I].index,M,Me.stablePool);break;case"oldusdcpool":D="oldusdcpool",R=Ue,L=null===(S=R[C])||void 0===S?void 0:S.precision,P=null===(T=R[I])||void 0===T?void 0:T.precision,M=null===(y=Object(j.fb)(U))||void 0===y||null===(_=y.times(L))||void 0===_||null===(A=_._toIntegerDown())||void 0===A?void 0:A._toHex(),F=await Object(De.mb)(R[C].index,R[I].index,M)}return{result:F,dx_precision:L,dy_precision:P,pools:R,type:D,poolData:B}}catch(F){console.log("getAllDy error: "+F)}},g=e=>e.reduce((function(e,t){return L()(e.result.value).div(e.dy_precision).gte(L()(t.result.value).div(t.dy_precision))?e:t})),x=async(e,t,s,a,o,n,i)=>{var c,l,r,d,p,b,m,u,h,v,k,O,g,x,f;let w=L()(1),N=null,S=null;switch(e){case"old3pool":for(3!==o&&0!==o||(w=3===a&&0===o||0===a&&3===o?L()("1"):L()("1000000000000")),N=null===(c=Object(j.fb)(1))||void 0===c||null===(l=c.times(w))||void 0===l||null===(r=l._toIntegerDown())||void 0===r?void 0:r._toHex(),S=await Object(De.mb)(a,o,N);L()(0).eq(S.value);){var T,y,_;w=w.times(L()(10)),N=null===(T=Object(j.fb)(1))||void 0===T||null===(y=T.times(w))||void 0===y||null===(_=y._toIntegerDown())||void 0===_?void 0:_._toHex(),S=await Object(De.mb)(a,o,N)}break;case"3pool":for(2===o&&(w=L()("1000000000000")),N=null===(d=Object(j.fb)(1))||void 0===d||null===(p=d.times(w))||void 0===p||null===(b=p._toIntegerDown())||void 0===b?void 0:b._toHex(),S=await Object(De.T)(a,o,N);L()(0).eq(S.value);){var A,D,C;w=w.times(L()(10)),N=null===(A=Object(j.fb)(1))||void 0===A||null===(D=A.times(w))||void 0===D||null===(C=D._toIntegerDown())||void 0===C?void 0:C._toHex(),S=await Object(De.T)(a,o,N)}break;case"old2pool":for(1===o&&(w=L()("1000000000000")),N=null===(m=Object(j.fb)(1))||void 0===m||null===(u=m.times(w))||void 0===u||null===(h=u._toIntegerDown())||void 0===h?void 0:h._toHex(),S=await Object(De.S)(a,o,N,Le.stablePool);L()(0).eq(S.value);){var I,U,F;w=w.times(L()(10)),N=null===(I=Object(j.fb)(1))||void 0===I||null===(U=I.times(w))||void 0===U||null===(F=U._toIntegerDown())||void 0===F?void 0:F._toHex(),S=await Object(De.S)(a,o,N,Le.stablePool)}break;case"2pool":for(1===o&&(w=L()("1000000000000")),N=null===(v=Object(j.fb)(1))||void 0===v||null===(k=v.times(w))||void 0===k||null===(O=k._toIntegerDown())||void 0===O?void 0:O._toHex(),S=await Object(De.S)(a,o,N,Me.stablePool);L()(0).eq(S.value);){var P,M,R;w=w.times(L()(10)),N=null===(P=Object(j.fb)(1))||void 0===P||null===(M=P.times(w))||void 0===M||null===(R=M._toIntegerDown())||void 0===R?void 0:R._toHex(),S=await Object(De.S)(a,o,N,Me.stablePool)}break;case"oldusdcpool":for(3!==o&&0!==o||(w=3===a&&0===o||0===a&&3===o?L()("1"):L()("1000000000000")),N=null===(g=Object(j.fb)(1))||void 0===g||null===(x=g.times(w))||void 0===x||null===(f=x._toIntegerDown())||void 0===f?void 0:f._toHex(),S=await Object(De.mb)(a,o,N);L()(0).eq(S.value);){var B,V,E;w=w.times(L()(10)),N=null===(B=Object(j.fb)(1))||void 0===B||null===(V=B.times(w))||void 0===V||null===(E=V._toIntegerDown())||void 0===E?void 0:E._toHex(),S=await Object(De.mb)(a,o,N)}}const q=Object(j.fb)(t),H=Object(j.fb)(s),X=Object(j.fb)("9996"),J=Object(j.fb)("10000"),Z=Object(j.fb)("1000000000000000000"),W=Object(j.fb)("100000"),G=q.times(X).times(W).times(Z).times(n).div(H).div(i),K=w.times(J).times(W).times(Z).div(S.value),Q=q.times(J).times(Z).times(n).div(H).div(i),z=G.minus(K).div(Q);return Object(j.v)(z.div(L()(10)).div(L()(100)))},f=(e,t)=>[e,t].includes("usdd")&&![e,t].includes("usdc"),w=(e,t)=>i.a.twoKeyPoolKeys.includes(e)&&i.a.twoKeyPoolKeys.includes(t);return{sendRequest:t=>{const{fromToken:a,toToken:o,fromValue:n,receivedFlag:i,timestamp:c}=t;s(!0);const r=Ce(a,o);if(e.setData({swapTRXState:r}),r)return m(a,o,n,c);Promise.allSettled([u(a,o,n),h(a,o,n,!1,i)]).then((e=>{var t;let a=(null===(t=(e.filter((e=>"fulfilled"===e.status&&Object.keys(e.value||{}).length))||[]).sort(((e,t)=>{var s,a;return Object(j.fb)(null===t||void 0===t||null===(s=t.value)||void 0===s?void 0:s.amount)-Object(j.fb)(null===e||void 0===e||null===(a=e.value)||void 0===a?void 0:a.amount)}))[0])||void 0===t?void 0:t.value)||"";a&&(a.timestamp=c,d("success")),l(a||{}),s(!1)}))},loading:t,result:n,requestStatus:r,debugStr:p}},Be=s.p+"static/media/icon_swap.85053dec.svg",Ve=s.p+"static/media/icon_swap_active.b9641109.svg";s(1515),s(167);var Ee=s(55);var qe=()=>{const e=Object(a.d)((()=>c.a.network)),t=Object(a.d)((()=>c.a.pool)),s=Object(a.d)((()=>c.a.homeTokens)),[n,l]=Object(o.useState)(d.a.get("swap.action_enter_amount")),[r,p]=Object(o.useState)(!1),b="en-US"===window.localStorage.getItem("lang"),[u,h]=Object(o.useState)(""),[v,O]=Object(o.useState)(""),[g,x]=Object(o.useState)(!0),[f,w]=Object(o.useState)(0),[N,S]=Object(o.useState)("-"),[T,y]=Object(o.useState)("-"),[_,P]=Object(o.useState)(""),M=Object(o.useRef)(null),[E,H]=Object(o.useState)(!1),[X,J]=Object(o.useState)(!1),[Z,W]=Object(o.useState)(!1),[G,Q]=Object(o.useState)(!1),[Y,$]=Object(o.useState)([]),[ee,te]=Object(o.useState)(!1),[se,ae]=Object(o.useState)(""),oe=Object(B.a)(window.navigator).any;Object(o.useEffect)((()=>(ne(),()=>{f&&clearInterval(f)})),[]),Object(o.useEffect)((()=>{const e=Object(F.p)((()=>t.swapToken.fromToken.tokenAddress),((e,t,s)=>{W(!0)})),a=Object(F.p)((()=>t.swapToken.toToken.tokenAddress),((e,t,s)=>{W(!0)})),o=Object(F.p)((()=>s.swapTxid),(e=>{e&&setTimeout((()=>{const a=e.fromValue,o=e.toValue;h(""),O(""),s.setData({successFromValue:a,successToValue:o,actionRetry:"",actionState:"success",actionStarted:!1}),t.getBalanceAndApprove(),ve()}),5e3)}));return()=>{e(),a(),o()}}),[]);const ne=async()=>{Object(j.Z)(),e.getSettingsData(),t.setData({swapRef:M});try{t.getTokensDataFromLocal(),await t.getTokensCategory(),await t.setTokenList(1),ie(),je(),t.getBalanceAndApprove(),w(setInterval((()=>{t.getBalanceAndApprove(),ie()}),6e3)),he()}catch(s){}},ie=async()=>{try{var e,t,a;const{data:o}=await Object(K.B)(["TRX"]),n=(null===(e=o.TRX)||void 0===e||null===(t=e.quote)||void 0===t||null===(a=t.USD)||void 0===a?void 0:a.price)||"";s.setData({trxPrice:n})}catch(o){console.log("get trx price error",o)}},ce=async e=>{s.setData({fromTokenPrice:""});const t=await Ie(e);s.setData({fromTokenPrice:t})},de=async(e,s)=>{const a=await Object(K.L)(e);if(a.success){const o=a.data;if(o.tokenAddr){const a=window.localStorage.getItem("swapVersion"),n={tokenAddress:e,address:o.exchangeAddr,addressV1:"v1.0"===a?o.exchangeAddr:null,addressV2:"v1.5"===a?o.exchangeAddr:null,tokenSymbol:o.tokenSymbol,tokenLogoUrl:o.tokenLogo,tokenName:o.tokenName,tokenDecimal:o.tokenDecimal,cst:1,balance:"-"};0===s&&t.setData({tokenBrief:n}),1===s&&t.setData({tokenBriefAnother:n}),t.setData({solorModalVisible:!0})}}},je=()=>{const{liqToken:e,swapToken:s}=t,{toToken:a={},allTokenList:o=[]}=s,n=Object(j.G)("t0"),c=Object(j.G)("t1"),l=Object(j.G)("from"),r=Object(j.G)("type"),d={tokenSymbol:"TRX",tokenAddress:i.a.trxFakeAddress,tokenDecimal:i.a.trxDecimal,trxBalance:new L.a(0),tokenBalance:new L.a(0),trxBalanceV1:new L.a(0),tokenBalanceV1:new L.a(0),balance:"--",approvedAmount:new L.a(De.a),tokenLogoUrl:i.a.trxLogoUrl},p=o.find((e=>"USDJ"===e.tokenSymbol.toUpperCase()&&e.tokenAddress===i.a.usdjFakeAddress));try{if("swap"===r&&"scan"===l&&n){const{tokenMap:e}=s;c?e[n]&&e[c]?(We(e[n]),Ge(e[c])):e[n]?e[c]||(We(d),de(c,1)):(de(n,0),Ge(p)):e[n]?n===i.a.usdjFakeAddress?(We(p),Ge(d)):(We(e[n]),Ge(p)):(de(n,0),Ge(p))}else""===a.tokenSymbol&&p&&(We(d),Ge(p))}catch(b){console.log("set Default token err",b)}},be=e=>Object(k.jsxs)("div",{className:"token-info flex",children:[Object(k.jsx)("div",{className:"logo",children:Object(k.jsx)("img",{src:e.tokenLogoUrl?e.tokenLogoUrl:z.a})}),Object(k.jsxs)("div",{className:"info",children:[Object(k.jsxs)("div",{className:"symbol",children:[e.tokenName,"(",e.tokenSymbol,")"]}),Object(k.jsxs)("div",{className:"addr",children:[Object(k.jsx)("span",{children:e.tokenAddress}),Object(k.jsx)("span",{className:"pointer",title:e.tokenAddress,id:e.tokenAddress,onClick:t=>{Object(j.p)(t,"5px","".concat(e.tokenAddress))},children:Object(k.jsx)(U.a,{})})]})]})]}),me=e=>{te(e.target.checked)},ue=()=>{try{const{tokenBrief:e,tokenBriefAnother:s}=t;if(!ee)return;(null===e||void 0===e?void 0:e.tokenAddress)&&We(e),(null===s||void 0===s?void 0:s.tokenAddress)&&Ge(s),t.setData({solorModalVisible:!1})}catch(e){console.log(e),t.setData({solorModalVisible:!1})}},he=function(){if(s.isRequesting)return!1;let a="";const o=t.swapToken.fromToken,n=t.swapToken.toToken,i=o.tokenAddress,c=n.tokenAddress,r=L()(o.balance),p=e.dependentValue;if(!i&&!Object(j.G)("t0")||!c&&!Object(j.G)("t1"))return a=d.a.get("swap.action_select_token"),l(a);if(!u)return!s.receivedFlag&&v?L()(v).lte(0)?(a=d.a.get("swap.action_enter_amount"),l(a)):(a=d.a.get("swap.action_insufficient_liquidity"),l(a)):(a=d.a.get("swap.action_enter_amount"),l(a));if(Object(j.fb)(u).lte(0))return a=d.a.get("swap.action_enter_amount"),l(a);if(s.swapTRXState&&r&&r.lt(Object(j.fb)(u)))return a=d.a.get("swap.action_insufficient",{token:o.tokenSymbol}),l(a);if(s.receivedFlag){if(!v)return a=d.a.get("swap.action_insufficient_liquidity"),l(a);if(r&&r.lt(Object(j.fb)(u)))return a=d.a.get("swap.action_insufficient",{token:o.tokenSymbol}),l(a);if(Object(j.fb)(u).gt(o.approvedAmount))return a="",x(!0),l(a)}else{if(!s.swapTRXState&&r.lt(Object(j.fb)(p)))return a=d.a.get("swap.action_insufficient",{token:o.tokenSymbol}),l(a);if(!s.swapTRXState&&L()(p).gt(o.approvedAmount))return a="",x(!0),l(a)}l(a),x(!1)},ve=async()=>{try{const{fromToken:e,toToken:a}=t.swapToken,o=Ce(e,a);if(o)return s.setData({swapTRXState:o}),S(1),y(1),!1;s.setData({swapTRXState:!1}),Pe(),Le(),Me(),he()}catch(e){console.error(e)}};Object(o.useEffect)((()=>{setTimeout((()=>{ve()}),0),he(),!u&&v&&O(""),v||(s.setTransRoutePath([]),e.setData({priceImpact:""}),e.setData({liquidityProviderFee:""}),s.setData({swapPool:[]}),s.setData({roadForAddr:[]}),s.setData({inUsd:""}),s.setData({outUsd:""}),s.setData({poolFees:[]}),S(""),y(""))}),[v]);const{loading:ke,result:Oe,requestStatus:xe,sendRequest:Se,debugStr:Te}=Re();Object(o.useEffect)((()=>{if(!ke){if($(Te),Object.keys(Oe).length&&"success"===xe&&se===Oe.timestamp){if(s.setData({isRequesting:!1}),!s.swapTRXState)return s.setData({activePathIndex:0}),s.setTransRoutePathArr(Oe.roadPathArr),ye(Oe.roadPathArr[0]||[]),!1;ye(Oe)}"failed"===xe&&(h(""),O(""))}}),[ke,Oe,xe,se]);const ye=t=>{s.setTransRoutePath(t.tokens||[]),e.setData({priceImpact:t.impact}),e.setData({liquidityProviderFee:t.fee+""}),s.setData({swapPool:t.poolVersions||[]}),s.setData({roadForAddr:t.tokens||[]}),s.setData({inUsd:t.inUsd}),s.setData({outUsd:t.outUsd}),s.setData({poolFees:t.poolFees}),O(t.amountOut||""),Pe(),Le(),Me(),he(!0)},Ue=e=>{s.setData({activePathIndex:e})},Fe=async e=>{const{fromToken:a,toToken:o}=t.swapToken;if(!a.tokenAddress||!o.tokenAddress||!e||0===+e)return O(""),void he();const n=(new Date).getTime();ae(n),O(""),Se({fromToken:a,toToken:o,fromValue:e,receivedFlag:s.receivedFlag,timestamp:n})},Pe=()=>{if(!u||!v)return!1;const{fromToken:e,toToken:s}=t.swapToken;let a="-",o="-",n=Object(j.fb)(u),i=Object(j.fb)(v);const c=n.div(i),l=i.div(n);a=c._toFixed(Number(e.tokenDecimal),1),o=l._toFixed(Number(s.tokenDecimal),1),S(a),y(o)},Le=()=>{const{fromToken:a,toToken:o}=t.swapToken,n=Ce(a,o),c=new L.a(e.settingSlippage).div(100);let l=new L.a(0),r=i.a.trxDecimal;l=n?Object(j.fb)(v):Object(j.fb)(v).times(L()(1).minus(c)),r=t.swapToken.toToken.tokenDecimal,l=l._toFixed(Number(r),1),e.setData({dependentValue:l}),s.setData({dependentValueSunBig:new L.a(l).times(new L.a(10).pow(r))})},Me=()=>{const t=e.priceImpact,s=L()(t).abs().times(-1);let a="--",o="";a=L()(t).lte(0)&&L()(t).gt(-.01)?"0.00":"".concat(L()(t)._toFixed(2)),e.setData({priceImpact:a}),o=L()(s).lte(-15)?"red":L()(s).gt(-15)&&L()(s).lte(-5)?"orange":"",P(o)},qe=Object(o.useCallback)(R.a.debounce((e=>{(async e=>{e&&s.setData({isRequesting:!0}),await t.getBalanceAndApprove(),await Fe(e)})(e)}),200,{leading:!1,trailing:!0}),[]);Object(o.useEffect)((()=>{qe(u)}),[u]);const He=()=>{const{swapToken:e}=t,{fromToken:a}=e,o=L()(a.balance);if(!L()(o).gte(0))return;let n=o;const i=n.gt(0)?n._toFixed(Number(a.tokenDecimal),1):"0";h(Object(j.c)(i)),0===+i&&O(""),s.setData({receivedFlag:!0})},Xe=(e,a)=>{const{swapToken:o}=t,{fromToken:n}=o;if("from"===e){const e=Object(j.c)(Object(j.fb)(n.balance).minus(a));h(e),s.setData({receivedFlag:!0}),ve()}},Je=async()=>{const e={...t.swapToken.fromToken},s={...t.swapToken.toToken};t.swapToken.fromToken=s,t.swapToken.toToken=e,ce(s),h(v),O(""),x(!1)},Ze=e=>{try{e.tokenDecimal=Number(e.tokenDecimal);const{solor:s=[]}=t,a=R.a.findIndex(s,(t=>t.tokenAddress===e.tokenAddress));a>=0?s.splice(a,1,{...e,cst:2}):s.unshift({...e,cst:2}),t.setData({solor:s}),window.localStorage.setItem("solor",JSON.stringify(s))}catch(s){console.log(s)}},We=async e=>{try{const{swapToken:a}=t;if(e.tokenDecimal=Number(e.tokenDecimal),e.tokenAddress===a.fromToken.tokenAddress)return;if(t.showModal(1,!1),e.cst&&Ze(e),e.tokenAddress===a.toToken.tokenAddress)return Je();let o=u;o&&e.tokenDecimal!=a.fromToken.tokenDecimal&&(o=Object(j.fb)(o)._toFixed(Number(e.tokenDecimal),1)),a.fromToken={...e},t.setData({swapToken:a}),ce(a.fromToken),h(Object(j.c)(o)),x(!1);const n=Ce(a.fromToken,a.toToken);s.setData({swapTRXState:n})}catch(a){t.showModal(1,!1),console.log(a)}};Object(o.useEffect)((()=>{!async function(){Z&&u&&(s.setData({isRequesting:!0}),await t.getBalanceAndApprove(),await Fe(u),W(!1))}()}),[u,g,Z]);const Ge=async e=>{const{swapToken:a}=t;if((null===e||void 0===e?void 0:e.tokenAddress)!==a.toToken.tokenAddress){t.showModal(2,!1),e.cst&&Ze(e);try{if(e.tokenAddress===a.fromToken.tokenAddress)return Je();e.tokenDecimal=Number(e.tokenDecimal);let o=v;o&&e.tokenDecimal!=a.toToken.tokenDecimal&&(o=new L.a(o)._toFixed(Number(e.tokenDecimal),1)),a.toToken={...e},t.setData({swapToken:a});const n=Ce(a.fromToken,a.toToken);s.setData({swapTRXState:n})}catch(o){t.showModal(2,!1),console.error(o)}}},Ke=e=>{let a=e.target.value,o=v;if(a){const{valid:e,str:s}=Object(j.V)(a.replace(/,/g,""),t.swapToken.fromToken.tokenDecimal);if(!e)return;a=s,t.swapToken.fromToken.tokenAddress&&t.swapToken.toToken.tokenAddress||(o="")}else o="";h(Object(j.c)(a)),s.setData({receivedFlag:!0})},Qe=()=>{const e=t.swapToken.fromToken,a=t.swapToken.toToken;s.swapTRXState&&x(!1);const o=d.a.get("swap.action_swap"),n=["orange","red"].includes(_)?d.a.get("swap.action_swapStill"):d.a.get("swap.confirm_swap"),i=d.a.get("action.swapAct",{from:e.tokenSymbol,to:a.tokenSymbol}),c=d.a.get("action.swapActErr"),l=!s.swapTRXState&&g;s.setData({swapPopTitle:o,swapPopBtn:n,swapPopBtnDisabled:!1,swapErrorInfo:"",approveActionTitle:d.a.get("action.approveAct",{token:e.tokenSymbol}),approveActionError:d.a.get("action.approveActErr"),approveActionState:"",swapActionTitle:i,swapActionError:c,swapActionState:"",actionInfo:d.a.get("action.startBtn"),actionDisabled:!0,actionRetry:"",actionState:l?"line":"info",actionStarted:!1,successFromValue:"",successToValue:""}),H(!1)},ze=()=>{if(s.isRequesting)return!1;Qe(),Q(!0),J(!1)};Object(o.useEffect)((()=>{G&&tt()}),[G]);const Ye=()=>{s.actionStarted?H(!0):$e()},$e=()=>{Q(!1),setTimeout((()=>{Qe()}),1e3)},et=()=>{s.setData({actionStarted:!0,swapPopBtn:d.a.get("action.startBtn"),swapPopBtnDisabled:!0}),s.swapToken(u,v)},tt=()=>{let e=g,a=s.actionRetry;switch(s.swapTRXState&&(e=!1),!a&&e&&(a="approveToken"),a){case"approveToken":s.setData({approveActionState:"start",actionInfo:d.a.get("action.startBtn"),actionDisabled:!0}),(async()=>{const{fromToken:e,toToken:a}=t.swapToken;if(e&&a&&(e.tokenAddress===i.a.trxFakeAddress&&a.tokenAddress===i.a.wtrxAddress||a.tokenAddress===i.a.trxFakeAddress&&e.tokenAddress===i.a.wtrxAddress))return;const o=t.swapToken.fromToken.tokenAddress,n=i.a.v3Contract.router;await Object(De.b)(o,n,{title:"swap.pop_title_approve",obj:{token:t.swapToken.fromToken.tokenSymbol}})?(x(!1),s.setData({approveActionState:"pending",actionInfo:d.a.get("action.doingBtn"),actionDisabled:!0,actionStarted:!0}),setTimeout((()=>{s.setData({approveActionState:"success",actionState:"info"})}),5e3)):s.setData({approveActionState:"error",actionRetry:"approveToken",actionInfo:d.a.get("action.retryBtn"),actionDisabled:!1,actionStarted:!0})})();break;case"swapToken":s.setData({swapActionState:"start",actionInfo:d.a.get("action.startBtn"),actionDisabled:!0}),s.swapToken(u,v)}},st=()=>{H(!1),J(!0)},at=()=>{H(!1)};Object(o.useEffect)((()=>{if(!E&&X){async function e(){g&&await t.getBalanceAndApprove()}$e(),e()}return()=>{}}),[E,X]);const ot=Object(k.jsx)(a.a,{children:()=>Object(k.jsx)("div",{className:"box-tools",children:Object(k.jsx)("p",{className:"box-tool-item",children:Object(k.jsx)(re.a,{network:e,version:"home",onChange:(t,s)=>{e.saveSettings(t,s),ve()}})})})}),nt=()=>ke?Object(k.jsxs)("div",{className:"trade-router-loading",children:[d.a.get("swap.loading_router"),Object(k.jsx)("span",{className:"price-loading-img"})]}):Object(k.jsx)(k.Fragment,{children:s.swapTRXState?"":Object(k.jsx)(V.a,{swapPool:s.swapPool,swapTRXState:s.swapTRXState,onChangeRoutePath:ye,onChangeRouteIndex:Ue,activePathIndex:s.activePathIndex,transRoutePath:s.transRoutePath,tradeRouterPathArr:s.tradeRouterPathArr,tradeRouterDataArr:s.tradeRouterDataArr},s.activePathIndex)}),it=e=>{Object(Ee.a)({action:e,event_category:Ee.h.home})};return Object(k.jsx)(a.a,{children:()=>Object(k.jsxs)("div",{className:"home-swap-box",id:"swap-box",ref:M,children:[Object(k.jsxs)("div",{className:"hero-swap-box-card",children:[Object(k.jsxs)("div",{className:"header-box",children:[Object(k.jsx)("div",{className:"box-header",children:d.a.get("header.swap")}),Object(k.jsx)("div",{className:"header-advanced",children:ot})]}),Object(k.jsx)("div",{className:"box-body",children:Object(k.jsxs)("div",{className:"swap-body",children:[Object(k.jsxs)("div",{className:"input-part from-input",children:[Object(k.jsx)(_e,{showModal:()=>{t.showModal(1),it(Ee.f.from_token)},isFrom:!0,errorTip:n,setMaxFrom:He,token:t.swapToken.fromToken}),Object(k.jsxs)("div",{className:m()("swap-input-wrap",{"max-input-wrap":e.isConnected}),children:[Object(k.jsx)(A.a,{placeholder:r?"":d.a.get("buysell.enter_amount"),className:"from-input ".concat(b?"en":""),onFocus:()=>{p(!0)},onBlur:()=>!u&&!(null!==u&&void 0!==u&&u.length)&&p(!1),value:u,onChange:Ke}),e.isConnected?Object(k.jsx)("span",{className:"max-btn ".concat(n?" disabled ":""),onClick:He,children:d.a.get("buysell.max")}):null,ke?Object(k.jsxs)("div",{className:"bottom-price-loading",children:[d.a.get("swap.calc_usd_loading"),Object(k.jsx)("span",{className:"price-loading-img"})]}):""!==s.inUsd&&Object(k.jsx)(Ae,{isFrom:!0}),Object(k.jsx)(le,{modalVisible:t.modalVisibleInfo.visible1,onCancel:()=>t.showModal(1,!1),type:1,isMobileStatus:s.isMobileStatus,onChangeToken:e=>{We(e)}})]})]}),s.swapPool&&s.swapPool.some((e=>i.a.safePoolConfig.includes(e)))?Object(k.jsx)(Ne,{fromValue:u,onSafeMax:Xe}):"",Object(k.jsxs)("div",{className:"box-control",children:[Object(k.jsxs)("div",{className:"swap-ico-wrap",children:[Object(k.jsx)("img",{src:Be,className:"swap-ico swap-ico-default",onClick:()=>Je(),alt:"switch"}),Object(k.jsx)("img",{src:Ve,className:"swap-ico swap-ico-active",onClick:()=>Je(),alt:"switch"})]}),Object(k.jsx)(nt,{})]}),Object(k.jsxs)("div",{className:"input-part",children:[Object(k.jsx)(_e,{showModal:()=>{t.showModal(2),it(Ee.f.to_token)},token:t.swapToken.toToken,isFrom:!1,errorTip:n}),Object(k.jsxs)("div",{className:"swap-input-wrap",children:[Object(k.jsx)(D.a,{arrow:!1,title:v,placement:"bottomLeft",align:{offset:oe?[10,-5]:[16,-10]},getPopupContainer:e=>e.parentElement||document.body,overlayClassName:"swap-input-wrap-tooltip",children:Object(k.jsx)(A.a,{placeholder:"0",style:{caretColor:"transparent"},className:"wallet to-input ".concat(b?"en":""),value:v})}),ke?Object(k.jsxs)("div",{className:"bottom-price-loading",children:[d.a.get("swap.calc_usd_loading"),Object(k.jsx)("span",{className:"price-loading-img"})]}):""!==s.outUsd&&Object(k.jsx)(Ae,{isFrom:!1}),Object(k.jsx)(le,{modalVisible:t.modalVisibleInfo.visible2,onCancel:()=>t.showModal(2,!1),type:2,isMobileStatus:s.isMobileStatus,onChangeToken:e=>{Ge(e)}})]})]})]})}),Object(k.jsxs)("div",{className:"box-footer",children:[Object(k.jsx)("div",{className:"footer-info-row",children:Object(k.jsx)(fe,{priceInverseStr:T,priceStr:N})}),"0.5"===e.settingSlippage||s.swapTRXState?null:Object(k.jsx)("div",{className:"description-list",children:Object(k.jsxs)("div",{className:"description-list-item first",children:[Object(k.jsxs)("span",{className:"label",children:[d.a.get("swap.detail_slippage"),"\uff1a"]}),Object(k.jsx)("span",{className:"text",children:(L()(e.settingSlippage).lt(.01)?"<0.01":e.settingSlippage)+"%"})]})}),u&&v&&t.swapToken.fromToken.tokenAddress&&t.swapToken.toToken.tokenAddress&&!s.swapTRXState?Object(k.jsx)("div",{className:"box-description",children:Object(k.jsx)(q,{fromValue:u})}):null,Object(k.jsx)(we,{errorTip:n,priceImpactColor:_,showSwapModal:ze}),n===d.a.get("trade.tip_1")?Object(k.jsx)("div",{className:"error-text",children:d.a.get("trade.tip_2")}):""]})]}),Object(k.jsx)(ge,{visible:G,swapData:{fromValue:u,toValue:v,priceStr:N,priceInverseStr:T,priceImpactColor:_,miniPopVisible:!1},hideSwapModal:$e,onRetryAction:tt,beforeSwapToken:et,beforeHideSwapModal:Ye}),Object(k.jsx)(pe,{visible:E,confirm:st,cancel:at}),Object(k.jsx)(C.a,{title:d.a.get("list.add_token"),closable:!1,open:t.solorModalVisible,footer:null,width:500,className:"list-addtoken-modal base-home-swapmodal",centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:Object(k.jsxs)("div",{className:"solor-modal-body",children:[Object(k.jsxs)("div",{className:"tips",children:[Object(k.jsx)("div",{className:"tips1",children:d.a.get("list.add_token_tip1")}),Object(k.jsx)("div",{className:"tips1",children:d.a.get("list.add_token_tip2")}),Object(k.jsx)("div",{className:"tips1",children:d.a.get("list.add_token_tip3")})]}),Object.keys(t.tokenBrief).length>0&&be(t.tokenBrief),Object.keys(t.tokenBriefAnother).length>0&&be(t.tokenBriefAnother),Object(k.jsx)("div",{className:"check-box"+(ee?" checked":""),children:Object(k.jsx)(I.a,{onChange:me,children:d.a.get("list.add_token_tip4")})}),Object(k.jsx)("div",{className:"btns",children:Object(k.jsx)("button",{onClick:ue,className:ee?"button-active":"",children:d.a.get("list.continue")})})]})}),Object(k.jsx)(k.Fragment,{})]})})},He=s.p+"static/media/bg_tvl1.1e2187ca.svg",Xe=s.p+"static/media/bg_tvl2.9cd58cac.svg",Je=s.p+"static/media/bg_tvl3.685136ad.svg",Ze=s.p+"static/media/bg_tvl4.77e0e7cd.svg",We=s.p+"static/media/banner_sun.bb99f7d0.png",Ge=s.p+"static/media/ico_sun.588d297f.gif";const Ke=e=>e&&Object(k.jsx)(_.a,{className:"tvl-count-up",end:Number(Object(j.gb)(e,0)),duration:1,prefix:"$",separator:","}),Qe=()=>Object(k.jsxs)("div",{className:"hero-intro-card",children:[Object(k.jsx)("div",{className:"title",children:d.a.get("home.section.sun_ecosystem")}),Object(k.jsx)("div",{className:"content",children:d.a.get("banner.desc_home")}),Object(k.jsx)("div",{className:"content",children:d.a.get("homeLegal.title")}),Object(k.jsxs)("div",{className:"banner-wrap",children:[Object(k.jsx)("img",{className:"banner-wrap-icon",src:Ge,alt:"sun"}),Object(k.jsx)("img",{className:"banner-wrap-bg",src:We,alt:"banner"})]})]}),ze=()=>{const e=Object(a.d)((()=>c.a.pool)),t=Object(a.d)((()=>c.a.home)),[s,o]=n.a.useState({});return n.a.useEffect((()=>{(async()=>{await e.getHomePageBottomApy(),await e.getVolumeData();const{allSwaps:s,miningPools:a,stableCoins:o,totalTvl:n}=await t.getAllTvlData();return{allSwaps:s,miningPools:a,stableCoins:o,totalTvl:n}})().then(o)}),[]),n.a.useEffect((()=>{const e=["totalTvl","stableCoins","allSwaps","miningPools"],t=setInterval((()=>{var a;const o=document.querySelectorAll(".tvl-count-up");(null===(a=o[0])||void 0===a?void 0:a.innerHTML)==="$"+Object(j.c)(Object(j.gb)(s[e[0]],0))&&clearInterval(t),o.forEach(((t,a)=>{t.innerHTML="$"+Object(j.c)(Object(j.gb)(s[e[a]],0))}))}),1e3);return()=>{clearInterval(t)}}),[s]),Object(k.jsx)(a.a,{children:()=>Object(k.jsx)("div",{className:"tvl-card-wrap",children:[{title:d.a.get("banner.total_value"),content:Ke(s.totalTvl),icon:He},{title:d.a.get("banner.total_value_stable"),content:Ke(s.stableCoins),icon:Xe},{title:d.a.get("banner.total_value_sunswap"),content:Ke(s.allSwaps),icon:Je},{title:d.a.get("banner.total_value_mining"),content:Ke(s.miningPools),icon:Ze}].map((e=>{let{title:t,content:s,icon:a}=e;return Object(k.jsxs)("div",{className:"tvl-card-item",children:[Object(k.jsx)("div",{className:"tvl-card-title",children:t}),Object(k.jsx)("div",{className:"tvl-card-text",children:s}),Object(k.jsx)("img",{className:"tvl-card-img",src:a,alt:"icon"})]})}))})})};var Ye=()=>Object(k.jsx)(a.a,{children:()=>Object(k.jsxs)("div",{className:"hero-bg",children:[Object(k.jsxs)("div",{className:"hero",children:[Object(k.jsx)(qe,{}),Object(k.jsx)(Qe,{})]}),Object(k.jsx)(ze,{})]})});t.default=()=>{let e=null;const t=Object(a.d)((()=>c.a.pool)),s=Object(a.d)((()=>c.a.usdcPool)),o=Object(a.d)((()=>c.a.usdc2Pool)),r=Object(a.d)((()=>c.a.tusdPool)),d=Object(a.d)((()=>c.a.usddPool)),p=Object(a.d)((()=>c.a.twoKeyPool)),j=Object(a.d)((()=>c.a.twoKeyNewPool)),b=Object(a.d)((()=>c.a.network)),m=async()=>{await Promise.all([t.getHomePageBottomApy(),t.getVolumeData()])};return n.a.useEffect((()=>(window.scrollTo(0,0),e||(e=setInterval((async()=>{await m()}),b.defaultIntervalSec)),()=>{clearInterval(e)})),[]),Object(k.jsxs)("div",{className:"home-page",children:[Object(k.jsx)(l.a,{routeName:"home",instantActions:m,mountedActions:async()=>{await Promise.all([t.getBalanceAndApprove(),t.getBalanceInfo(),s.getBalanceInfo(i.a.usdcContracts.usdcSwap),t.getSwapBalance(),d.getBalanceInfo(),d.getSwapBalance(),p.getBalanceInfo(),p.getSwapBalance(),j.getBalanceInfo(),j.getSwapBalance(),o.getBalanceInfo(),o.getSwapBalance(),r.getBalanceInfo(),r.getSwapBalance()])}}),Object(k.jsxs)("div",{className:"home-page-content",children:[Object(k.jsx)(Ye,{}),Object(k.jsx)(N,{}),Object(k.jsx)(T,{})]})]})}}}]);