(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[21,27],{1058:function(e,t,a){"use strict";a(1071);var n=a(24),c=a.n(n),r=a(7);t.a=function(e){return Object(r.jsx)("div",{className:"tempalte-pageTab-nav",children:e.list.map((function(t){return Object(r.jsx)("div",{className:c()("tempalte-pageTab-nav-item",{"tempalte-pageTab-nav-active":e.activeKey===t.value}),onClick:function(){return t.handler(t)},children:t.label},t.value)}))})}},1061:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var n=a(15),c=a.n(n),r={row:{gutter:[{xs:8,sm:16,md:32},20]},colLeft:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:15}},colRight:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:9}}},s={1:{title:c.a.get("banner.title_deposit"),content:c.a.get("banner.desc_deposit"),tabTitle:c.a.get("header.deposit")},2:{title:c.a.get("banner.title_withdraw"),content:c.a.get("banner.desc_withdraw"),tabTitle:c.a.get("header.withdraw")},3:{title:c.a.get("banner.title_1"),content:c.a.get("banner.desc_1"),tabTitle:c.a.get("header.swap")}},o=[{label:s[1].tabTitle,value:"1"},{label:s[2].tabTitle,value:"2"},{label:s[3].tabTitle,value:"3"}]},1063:function(e,t,a){"use strict";var n=a(4),c=a(24),r=a.n(c),s=a(1085),o=a(7);t.a=function(e){var t,a=e.checked,c=e.tokenLogo,i=e.symbol,u=void 0===i?"":i,l=e.onChange,b=e.id,j=void 0===b?"":b;return Object(o.jsxs)("div",{className:r()((t={},Object(n.a)(t,s.sun_check_button,!0),Object(n.a)(t,s.sun_check_active_button,a),t)),onClick:function(){l&&l(!a,j)},children:[c&&Object(o.jsx)("img",{src:c,alt:"",className:"token-logo"}),Object(o.jsx)("span",{children:u})]})}},1064:function(e,t,a){"use strict";var n=a(15),c=a.n(n),r=a(24),s=a.n(r),o=a(1914),i=a(1074),u=a(7),l=[{key:.2,label:"0.2%"},{key:3,label:"3%"}],b=[{key:.005,label:"0.5%"},{key:.01,label:"1%"}];t.a=function(e){var t=e.slippage,a=e.customSlippage,n=e.CUSTOM_SLIPPAGE,r=e.type,j="withdraw"===(void 0===r?"withdraw":r)?l:b;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"mr-10",children:c.a.get("withdraw.slippage")}),Object(u.jsxs)("div",{className:s()(i.setting_btns),children:[Object(u.jsx)("div",{className:i.setting_btn_wrap,children:j.map((function(a){return Object(u.jsx)("button",{className:s()(t===a.key?i.active:""),onClick:function(){return t=a.key,void(e.onChangeSlippage&&e.onChangeSlippage(t));var t},children:a.label})}))}),Object(u.jsx)(o.a,{className:s()(i.setting_input,i.module_important,["ml-20"]),suffix:"%",value:a,onFocus:function(){a||e.onChangeSlippage&&e.onChangeSlippage(n)},onBlur:function(){a||e.onChangeSlippage&&e.onChangeSlippage(String(j[0].key))},onChange:function(t){e.onChangeCustomSlippage&&e.onChangeCustomSlippage(t.target.value)}})]})]})}},1068:function(e,t,a){"use strict";var n=a(4),c=a(3),r=a(24),s=a.n(r),o=a(1072),i=a(7),u=function(e){var t,a=e.title,c=e.subTitle,r=e.isRevert,u="string"===typeof a;return Object(i.jsxs)("div",{className:o.page_title_wrap,children:[r&&c&&Object(i.jsx)("div",{className:o.page_title_sub,children:c}),a&&Object(i.jsx)("div",{className:s()((t={},Object(n.a)(t,o.page_title,!0),Object(n.a)(t,o.page_title_revert,r),Object(n.a)(t,o.page_title_ele,!u),t)),children:u?a.split("").map((function(e,t){return Object(i.jsx)("span",{className:o.page_title_ele,children:e},t)})):a}),c&&!r&&Object(i.jsx)("div",{className:o.page_title_sub,children:c})]})};t.a=Object(c.memo)(u)},1071:function(e,t,a){},1072:function(e,t,a){e.exports={page_title:"style_page_title__dfZPh",page_title_wrap:"style_page_title_wrap__7dtV_",page_title_ele:"style_page_title_ele__Tktf1",page_title_sub:"style_page_title_sub__1IUsF",page_title_revert:"style_page_title_revert__18HMS"}},1074:function(e,t,a){e.exports={setting_wrap:"style_setting_wrap__L7ld9",setting_label:"style_setting_label__3qQrG",setting_btns:"style_setting_btns__zH_61",setting_btn_wrap:"style_setting_btn_wrap__uxT1B",setting_input:"style_setting_input__kvJzs",active:"style_active__10VTC",module_important:"style_module_important__PuwNO",info_text:"style_info_text__3K73H",setting_minutes:"style_setting_minutes__1mIXw"}},1076:function(e,t,a){},1077:function(e,t,a){"use strict";a(3);var n=a(15),c=a.n(n),r=a(78),s=a(6),o=a(110),i=a(1),u=(a(1078),a(1092)),l=a(1089),b=a(7),j=s.a.Fee,p=s.a.A,d=s.a.ADMIN_FEE,O=s.a.poolKeys;s.a.pools;t.a=function(e){var t=Object(r.d)((function(){return o.a.pool})),a=Object(r.d)((function(){return o.a.network})),n=function(e,t){var a=Object(i.a)(e).times(t).div(1e18);return a.isNaN()?"--":Object(i.u)(a,2)},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var a=Object(i.a)(0);for(var n in e){var c=e[n],r=c.userSwapBalance,s=c.priceKey,o=t?t[s]:"--";a=a.plus(Object(i.a)(r).times(o))}return Object(i.u)(a)}catch(u){return console.log(u),"--"}},x=O.map((function(e){return t.poolData[e]})).filter((function(e){return e})),v=t.volData?t.volData["3pvol24Hours"]:"",g="Old 3Pool ".concat(c.a.get("pool.pool2_contract")),m="3SUN ".concat(c.a.get("pool.token_contract2"));return Object(b.jsx)(r.a,{children:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(u.a,{poolTokens:x,totalSwapBalance:t.totalSwapBalance,adminFee:d,fee:j,virtualPrice:t.virtualPrice,dailyVol:v,poolContract:s.a.stablePool,poolName:g,lpTokenAddress:s.a.stableLp,lpTokenName:m,aValue:p}),a.isConnected&&Object(i.a)(t.sharePer).gt(0)&&Object(b.jsx)(l.a,{sharePer:t.sharePer,usdBalance:f(t.poolData,t.volData),avgUsdBalance:n(t.userLpBalance,t.virtualPrice),userTotalBalance:t.userTotalBalance,myPoolTokens:x})]})}})}},1079:function(e,t,a){},1080:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAA/JJREFUWEfVWctqFUEQPeX7/X5tXIkIouBa/AkxgkYXgrhwIQiufaCuxYXoQsSNGkHFnxDXgiKIuHJlTIwmMYmJ8ci5Voe+k3tneuaOIVMwhCTT3aerTlWdnjb0YCQNwHIAKwEsA7AEwFL/qZn/AJj1n78B/AIwY2asuqwWLG0kBXCVPwJZxrSJKT1mpg2UslKASa4AsMG9GhaSBwVgJuNR/T/2uCKhTSoCwTRm1MymU1EnASapcK/3BUOoJ9xLWjTZSAbgayLqaMNjZiba5FohYA//ZgB6V9z7qcfMFNrKRlLeX+tPmHukiCa5gElqQlFAJi8ofKJAbUZSFNEaootMa8gpHa0rYJIbAShssnE9vWR33g692qwDoEc2YWY/Oo3pCDjj2e9mNlmbS3MmIrkawKY8T88D7Jzd4oMWDGzYRwb0tyyn2wB7NdjmCSYKjC2EZ7NrkFRFEj2U5ENx9cgCVjUQ+ZVg8m6pjkTyMIA9AAZSSlQ3ZzinRY0WFjMbCe/OAfamsNV39bVMNSCp5LwN4JxPfMPMrvQSHa8e2z3aw6G5xIBFBRX1UlQgeRDAUwD7I4A9A9ZcETWkP4b0txbgKNHUDOTdpKZA8jyAW1EN1XQDAM7WUVm8ucjLajKtBAyAxReVlCTvkhTXHwA4GnlVxf6CmT3shQo5CdiqzeYE3+G7UEbmagOSRwA8AbA7mvwNgBNm9qFOsB590VR0VdQHBVgKTMk2a2aDBR3pMoCrGcWljnTPtW4VvB/lgLyKRFIOVQsfFuBQ8yRoRnNKzTEAz6sgShhz2swe56wtrSFdMy7AofbmdjWSfQCeJSxe5ZUiwKFlTwmw6CBazGuDHRJAoA9UQZQzJoUSOuFILkwLcOCHylmhgK4ZbNJ0LhlU3mYFeJfX4y+p9TdplRpf8nq8Uy2jkYAbR4mkpPMG0w9gb43R1lTvzCy3XEbSoZV0qWXtFIBHNYMN0x3PAx2J+lZZS20c/xNwn5m9SG0cSa25Bkqolkrd6XAbTCfwa2Z2s0AStLVmKbZk8VOFEiT3uWY+FI3/DKDfzF4VgG0XP66IwpE+SV6WAU3yDIA7rgXC0JeumeeOPjl0CJT9Jy8dcGh9pQR8gWfU/6WZT0bv6ax4yczupmy6q4B30JWOSDmeuQ5AcjTYe9fMb1PAOqbg3fYjkv8zJJ9OyqUOoZ0AkIwB3wdw0cz0ATHJCg+hDrqnY36MxAWL6PDJzF4nofSXko75DlifVZvzISWTgPp1cX+qCmFr1MfACHRzPrd28fTi/qAdgVZTacaVQQS6OZcymdrajGuvbNH3E4C0guhS5WJRF4qTRTdGnZpN4bVXgcBZ8Kvbv7gRNO3rhp7CAAAAAElFTkSuQmCC"},1081:function(e,t,a){"use strict";var n=a(5),c=a(64);t.a=function(e){var t=e.childPage,a=["deposit","withdraw","swap"],r=function(e,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a[e-1],i=c.g[r?"".concat(r,"_").concat(o):o];i&&Object(c.a)(Object(n.a)({action:i(t),event_category:t},s))};return{tabChangeLog:function(e){return r(e,"tab")},tabSubmitLog:function(e,t){return r(e,null,t)}}}},1085:function(e,t,a){e.exports={sun_check_button:"style_sun_check_button__5diEB",sun_check_active_button:"style_sun_check_active_button__28IzL"}},1099:function(e,t,a){"use strict"},1102:function(e,t,a){"use strict";var n=a(11),c=a(78),r=a(3),s=a(15),o=a.n(s),i=(a(1078),a(6)),u=a(110),l=a(1),b=a(40),j=a(1092),p=a(1089),d=a(7);t.a=function(e){var t=e.curveConfig,a=e.type,s=t.busd2PoolContracts,O=t.currencyBUSDKeys,f=t.curveSymbol,x=t.curveLPSymbol,v=t.busdusdPoolKeys,g=t.twoPoolUsdLpKey,m=void 0===g?"2poollp":g,h=Object(c.d)((function(){return u.a.network})),w=Object(c.d)((function(){return Object(b.d)({Stores:u.a,poolType:m,baseStoreName:"busdPool"})})),k=Object(c.d)((function(){return Object(b.d)({Stores:u.a,poolType:m,baseStoreName:"usd2Pool"})})),_=Object(r.useState)(w),y=Object(n.a)(_,2),S=y[0],N=y[1];Object(r.useEffect)((function(){N("2usdlp"===a?k:w)}));var P=function(e,t){var a=Object(l.a)(e).times(t).div(1e18);return a.isNaN()?"--":Object(l.u)(a,2)},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var a=Object(l.a)(0);for(var n in e)if(v.includes(n)){var c=e[n],r=c.userSwapBalance,s=c.priceKey,o=t?t[s]:"--";a=a.plus(Object(l.a)(r).times(o))}return Object(l.u)(a)}catch(i){return console.log(i),"--"}},L=window.localStorage.getItem("lang"),D=O.map((function(e){return S.currencyData[e]})).filter((function(e){return e})),I="".concat("2poollp"===m?"Old ":"").concat(f.toUpperCase()," ").concat("en-US"===L?"":"Pool"," ").concat(o.a.get("pool.pool_contract")),A="".concat(f.toUpperCase()," ").concat("2poollp"===m?" 2pool ":" 2Pool_2 "," ").concat(o.a.get("pool.token_contract2")),U=O.map((function(e){return S.currencyData[e]})).filter((function(e){return e})),T=S.volData?S.volData["".concat(f).concat("2Pool_2"===m?"UsdtTusdPool24hourVol":"2UsdPool24hourVol")]:"";return Object(d.jsx)(c.a,{children:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(j.a,{curveLPSymbol:x,poolTokens:D,totalSwapBalance:S.totalSwapBalance,adminFee:S.poolInfo.ADMIN_FEE,fee:S.poolInfo.Fee,virtualPrice:S.virtualPrice,dailyVol:T,poolContract:s.usdcSwap,poolName:I,lpTokenAddress:i.a.tokens["".concat(f).concat(m)].token,lpTokenName:A,aValue:S.poolInfo.A}),h.isConnected&&Object(l.a)(S.sharePer).gt(0)&&Object(d.jsx)(p.a,{sharePer:S.sharePer,usdBalance:C(S.currencyData,S.volData),avgUsdBalance:P(S.swapBalanceInfo.userUsdcLpBalance,S.virtualPrice),userTotalBalance:S.swapBalanceInfo.userTotalBalance,myPoolTokens:U})]})}})}},1106:function(e,t,a){},1110:function(e,t,a){"use strict";var n=a(4),c=a(5),r=a(0),s=a(2),o=a(11),i=a(3),u=a(15),l=a.n(u),b=a(78),j=a(1931),p=a(1933),d=a(1502),O=a(1042),f=a(181),x=a(283),v=a(25),g=a(1),m=a(6),h=a(110),w=a(1057),k=a(1067),_=(a(1075),a(1077)),y=a(340),S=a(1066),N=a(1059),P=a(12),C=a(1058),L=a(1061),D=a(1062),I=a(1070),A=a(338),U=a(7),T=m.a.pools,B=m.a.poolKeys,F=m.a.ALL_FEE,V=m.a.defaultSlippage,K=m.a.stablePool;t.a=function(e){var t,a,u,m,E,H,q,M,R=e.pageList,J=e.tabPaneKey,Z=Object(b.d)((function(){return h.a.network})),Q=Object(b.d)((function(){return h.a.system})),G=Object(b.d)((function(){return h.a.pool})),W=Object(i.useState)(function(){var e={};return B.map((function(t){e[t]=""})),e}()),z=Object(o.a)(W,2),X=z[0],Y=z[1],$=Object(i.useState)(!1),ee=Object(o.a)($,2),te=ee[0],ae=ee[1],ne=Object(i.useState)(!0),ce=Object(o.a)(ne,2),re=ce[0],se=ce[1],oe=Object(i.useState)(!1),ie=Object(o.a)(oe,2),ue=ie[0],le=ie[1],be=Object(i.useState)("--"),je=Object(o.a)(be,2),pe=je[0],de=je[1],Oe=Object(i.useState)("--"),fe=Object(o.a)(Oe,2),xe=fe[0],ve=fe[1],ge=Object(i.useState)(!1),me=Object(o.a)(ge,2),he=me[0],we=me[1],ke=Object(i.useState)(!1),_e=Object(o.a)(ke,2),ye=_e[0],Se=_e[1],Ne=Object(i.useState)(!1),Pe=Object(o.a)(Ne,2),Ce=Pe[0],Le=Pe[1],De=null;Object(i.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Ve(X),Ae()]);case 2:he&&Be(X);case 3:case"end":return e.stop()}}),e)}))),[X]);var Ie=function(t){return(a=a||Object(s.a)(Object(r.a)().mark((function t(a){var n,s,o,i,u,l,b,j,p,d,O,f,x,v,m,h,w;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,n=[],e.onSubmit&&e.onSubmit(),B.map((function(e){n.push(Object(c.a)(Object(c.a)({},G.poolData[e]),{},{inputValue:a[e]?Object(g.fb)(a[e]).times(T[e].precision):Object(g.a)(0)}))})),s=0;case 5:if(!(s<n.length)){t.next=19;break}if(o=n[s],i=o.allowance,u=void 0===i?Object(g.a)(0):i,l=o.inputValue,b=o.token,j=o.symbol,p=o.approveStatus,d=o.id,!Object(g.a)(u).lt(l)||p){t.next=16;break}return t.next=10,Q.approveToken(b,K,{title:"deposit.approve_token",obj:{value:j},continuous:!0},[["pool/getBalanceInfo"]]);case 10:if(!t.sent){t.next=15;break}G.poolData[d].approveStatus=2,t.next=16;break;case 15:return t.abrupt("return");case 16:s++,t.next=5;break;case 19:if(O=n.sort((function(e,t){return e.index-t.index})),f=O.length,x=O.map((function(e){return e.inputValue._toIntegerDown()._toHex()}))||[],v=null,!G.lpTotalSupply.lte(0)){t.next=26;break}return t.next=26,G.getUserLp();case 26:if(!G.lpTotalSupply.lte(0)){t.next=30;break}v=Object(g.a)(1),t.next=36;break;case 30:return t.next=32,Object(P.d)(x);case 32:if((m=t.sent).success){t.next=35;break}return t.abrupt("return");case 35:v=m.value;case 36:return v=v.times(Object(g.a)(1).minus(Object(g.a)(F).times(f).div(Object(g.a)(4).times(f-1)).div(1e10))),h=v.times(1-V)._toFixed(0,1),w={title:"actions.addLiq",obj:{detail:Object(g.A)(a)}},t.next=41,Q.addLiquidity(x,h,w,[["pool/updateCurrencyData"]]);case 41:t.sent&&qe(),t.next=48;break;case 45:t.prev=45,t.t0=t.catch(0),console.log("deposit err: ",t.t0);case 48:case"end":return t.stop()}}),t,null,[[0,45]])})))).apply(this,arguments)},Ae=function(){return(u=u||Object(s.a)(Object(r.a)().mark((function e(){var t,a,n,c,s,o,i,u;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in t=[],X)n=T[a],c=n.index,s=n.precision,o=X[a].replace(/,/g,""),t[c]=Object(g.a)(o).isNaN()?0:Object(g.a)(o).times(s)._toIntegerDown()._toHex();if(i=null,!G.lpTotalSupply.lte(0)){e.next=6;break}return e.next=6,G.getUserLp();case 6:if(!G.lpTotalSupply.lte(0)){e.next=10;break}i=Object(g.a)(1),e.next=16;break;case 10:return e.next=12,Object(P.d)(t);case 12:if((u=e.sent).success){e.next=15;break}return e.abrupt("return");case 15:i=u.value.div(1e18);case 16:ve(i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Ue=function(){return(m=m||Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([G.getSwapBalance(),G.getVirtualPrice(),G.getVolData()]);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Te=function(){return(E=E||Object(s.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([G.getUserLp(),G.getBalanceInfo()]);case 2:t={},B.map((function(e){var a=G.poolData[e],n=a.precision,c=a.balance,r=a.decimal;t[e]=Object(g.c)(Object(g.a)(c).div(n)._toFixed(r,1))})),Y(t),!he&&we(!0),De||(De=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ue(),G.getUserLp();case 2:case"end":return e.stop()}}),e)}))),Z.defaultIntervalSec));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)};Object(i.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Te(),Ue()]);case 2:return e.abrupt("return",(function(){clearInterval(De)}));case 3:case"end":return e.stop()}}),e)}))),[Z.defaultAccount]);var Be=function(e){var t=Object.keys(e),a=t.length;if(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),a=t.filter((function(t){return Object(g.fb)(e[t]).eq(0)||!e[t]}));return t.length===a.length}(e))return le(l.a.get("error.e1")),!0;for(var n=0;n<a;n++){var c=t[n],r=e[c];if(!r&&(te||re))return le(l.a.get("error.e1")),!0;var s=G.poolData[c],o=s.balance,i=s.precision,u=s.symbol;if(Object(g.a)(o).div(i).lt(Object(g.fb)(r)))return le(l.a.get("error.e2",{token:u})),!0}return le(!1),!1},Fe=function(e){Le(e.target.checked)},Ve=function(e){return(H=H||Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.calcInclPrice(t);case 2:a=e.sent,de(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Ke=function(e,t){var a=t,n={};n[e]=Object(g.c)(String(a).replace(/,/g,""));var c=G.poolData[e],r=(c.precision,c.swapBalance),s=(c.balance,Object(g.fb)(a).div(r).isNaN()?Object(g.a)(0):Object(g.fb)(a).div(r));B.filter((function(t){return t!==e})).map((function(e){var t=G.poolData[e],a=t.balance,c=void 0===a?Object(g.a)(0):a,r=t.swapBalance,o=t.precision,i=t.decimal;n[e]=Object(g.c)(s.times(r)._toFixed(i,1)),c.div(o).lt(Object(g.fb)(n[e]))&&(n[e]=Object(g.c)(c.div(o)._toFixed(i,1)))})),Y(n)},Ee=function(e){return(q=q||Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,ae(a),re&&se(!a),a&&Ke(B[0],X[B[0]])}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},He=function(e){return(M=M||Object(s.a)(Object(r.a)().mark((function e(t){var a,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,se(a),te&&ae(!a),n={},B.map((function(e){var t=G.poolData[e],a=t.balance,c=t.precision,r=t.decimal;n[e]=Object(g.a)(a).isNaN()?0:Object(g.c)(a.div(c)._toFixed(r,1))})),Y(n)}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},qe=function(){Le(!1),Se(!1)},Me=Object(A.b)();return Object(U.jsx)(b.a,{children:function(){return Object(U.jsxs)(j.a,Object(c.a)(Object(c.a)({},L.a.row),{},{children:[Object(U.jsx)(p.a,Object(c.a)(Object(c.a)({},L.a.colLeft),{},{children:Object(U.jsxs)("div",{className:"pool-deposit",children:[Object(U.jsx)(C.a,{list:R,activeKey:J[0]}),e.isSinglePage?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(w.a,{routeName:"3pool/deposit",mountedActions:Te,instantActions:Ue}),Object(U.jsx)(k.a,{title:"3pool "+l.a.get("banner.title_deposit"),desc:l.a.get("banner.desc_deposit")}),Object(U.jsx)(S.a,{})]}):null,Z.isConnected?Object(U.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(U.jsxs)("div",{className:"add-liq",children:[Object(U.jsxs)("fieldset",{className:"currencies",children:[Object(U.jsx)("legend",{children:l.a.get("deposit.currencies")}),Object(U.jsx)("ul",{children:B.map((function(e){var t=G.poolData[e],a=t.symbol,r=void 0===a?"":a,s=t.balance,o=void 0===s?"--":s,i=t.precision,u=t.decimal;return o=Object(g.a)(o).div(i),Object(U.jsxs)("li",{children:[Object(U.jsxs)("div",{className:"cur-label",children:[Object(U.jsxs)("span",{className:"icon",children:[Object(U.jsx)("img",{src:v.a[e]?v.a[e]:x.default,alt:"",className:"token-logo"})," ",r]}),Object(U.jsx)("span",{className:"token-max",children:l.a.getHTML("deposit.token_max",{balance:Object(g.u)(o)})})]}),Object(U.jsx)(I.a,{onMaxClick:function(){!function(e,t,a){if(!Object(g.a)(t).isNaN()){var r=Object(g.a)(t)._toFixed(a,1);Y(Object(c.a)(Object(c.a)({},X),{},Object(n.a)({},e,Object(g.c)(r)))),te&&Ke(e,r)}}(e,o,u)},value:X[e],onChange:function(t){return function(e,t){re&&se(!1);var a=T[t].decimal,r=Object(g.V)((""+e.target.value).replace(/,/g,""),a),s=r.valid,o=r.str;s&&(Y(Object(c.a)(Object(c.a)({},X),{},Object(n.a)({},t,Object(g.c)(o)))),te&&Ke(t,o))}(t,e)}})]},e)}))})]}),!Object(g.a)(pe).isNaN()&&Object(g.ab)(pe,!0),Object(U.jsxs)("div",{className:"deposit-check",children:[Object(U.jsx)(d.a,{checked:te,onChange:Ee,children:l.a.get("deposit.ch1")}),Object(U.jsx)("br",{}),Object(U.jsx)(d.a,{checked:re,onChange:He,children:l.a.get("deposit.ch2")})]}),ue?Object(U.jsx)(N.a,{styleName:"mt-40",type:"single",disabled:!0,info:l.a.get("deposit.action")}):Object(U.jsx)(N.a,{styleName:"mt-40",type:"single",info:Me?l.a.get("not_available"):l.a.get("deposit.action"),onClick:function(){return function(e){return(t=t||Object(s.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,ue){e.next=5;break}if(!Be(t)){e.next=5;break}return e.abrupt("return");case 5:if(!ue){e.next=7;break}return e.abrupt("return");case 7:if(!Object(g.a)(pe).abs().gt(10)){e.next=9;break}return e.abrupt("return",Se(!0));case 9:return e.next=11,Ie(t);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}(X)},disabled:Me}),ue&&Object(U.jsx)("div",{className:"error-content mt-12",children:Object(U.jsx)("div",{className:"error-tip",children:ue})}),Object(g.a)(xe).gt(0)&&Object(U.jsxs)("div",{className:"error-content mt-12",children:[Object(U.jsxs)("div",{className:"error-tip",children:[l.a.getHTML("deposit.swap_detail",{value:Object(g.u)(xe,2),symbol:"Old 3pool LP"})," "]}),Object(U.jsx)("div",{className:"error-tip",children:l.a.get("deposit.exchange_rate",{value:Object(g.u)(G.virtualPrice,6),symbol:"Old 3pool LP"})})]})]})}):Object(U.jsx)(D.a,{}),Object(U.jsx)(y.a,{}),Object(U.jsx)(O.a,{title:l.a.get("deposit.high_slippage_title"),open:ye,closable:!0,icon:null,onCancel:qe,footer:null,width:400,className:"common-modal common-bg slippage-modal",children:Object(U.jsxs)("div",{className:"center",children:[Object(U.jsxs)("div",{className:"common-err-bg",children:[Object(U.jsx)("div",{children:l.a.get("deposit.high_tip1")}),Object(U.jsx)("div",{children:l.a.get("deposit.high_tip2",{value:Object(g.u)(Object(g.a)(pe).abs(),3)})})]}),Object(U.jsx)(d.a,{checked:Ce,onChange:Fe,children:l.a.get("deposit.confirm_slippage",{value:Object(g.u)(Object(g.a)(pe).abs(),3)})}),Object(U.jsx)("br",{}),Object(U.jsxs)("div",{className:"btns flex",children:[Object(U.jsx)(f.a,{onClick:function(){return Se(!1)},type:"primary",children:l.a.get("cancel")}),Object(U.jsx)(f.a,{onClick:function(){return Ie(X)},disabled:!Ce,children:l.a.get("deposit.anyway")})]})]})})]})})),Object(U.jsx)(p.a,Object(c.a)(Object(c.a)({},L.a.colRight),{},{children:Object(U.jsx)(_.a,{className:Z.isConnected?null:"window-for-tabs-pane"})}))]}))}})}},1111:function(e,t,a){"use strict";var n=a(4),c=a(5),r=a(0),s=a(2),o=a(11),i=a(3),u=a(15),l=a.n(u),b=a(1931),j=a(1933),p=a(344),d=a(1040),O=a(283),f=a(78),x=a(110),v=a(25),g=a(6),m=a(12),h=a(1),w=a(1077),k=a(1057),_=a(1067),y=(a(1075),a(1066)),S=(a(41),a(1063)),N=a(1059),P=a(1064),C=a(1061),L=a(1058),D=a(1062),I=a(1070),A=a(7),U=g.a.pools,T=g.a.poolKeys,B=g.a.stableLp,F=g.a.ALL_FEE,V=g.a.stablePool,K=g.a.tokens,E="---",H="CUSTOM",q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={};return T.map((function(a){t[a]=e})),t};t.a=function(e){var t,a,u,g,M,R,J,Z,Q,G,W,z=e.pageList,X=e.tabPaneKey,Y=Object(i.useState)(),$=Object(o.a)(Y,2),ee=$[0],te=void 0===ee?q("--"):ee,ae=$[1],ne=Object(i.useState)("100.00"),ce=Object(o.a)(ne,2),re=ce[0],se=ce[1],oe=Object(i.useState)(.2),ie=Object(o.a)(oe,2),ue=ie[0],le=ie[1],be=Object(i.useState)(""),je=Object(o.a)(be,2),pe=je[0],de=je[1],Oe=Object(i.useState)(!0),fe=Object(o.a)(Oe,2),xe=fe[0],ve=fe[1],ge=Object(i.useState)(!1),me=Object(o.a)(ge,2),he=me[0],we=me[1],ke=Object(i.useState)("--"),_e=Object(o.a)(ke,2),ye=_e[0],Se=_e[1],Ne=Object(i.useState)(),Pe=Object(o.a)(Ne,2),Ce=Pe[0],Le=void 0===Ce?q(!1):Ce,De=Pe[1],Ie=Object(i.useState)(!1),Ae=Object(o.a)(Ie,2),Ue=Ae[0],Te=Ae[1],Be=Object(i.useState)(!1),Fe=Object(o.a)(Be,2),Ve=Fe[0],Ke=Fe[1],Ee=Object(f.d)((function(){return x.a.system})),He=Object(f.d)((function(){return x.a.pool})),qe=Object(f.d)((function(){return x.a.network})),Me=null;Object(i.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ve&&Re();case 1:case"end":return e.stop()}}),e)}))),[te,re,ue,pe,Le]),Object(i.useEffect)((function(){at(te,he)}),[te]);var Re=function(){return re!==E&&Object(h.fb)(re).gt(100)?(Te(l.a.get("error.e3")),!0):function(){for(var e in te)if(Object(h.fb)(te[e]).gt(0)||"--"===te[e])return!1;return!0}()?(Te(l.a.get("error.e4")),!0):ue===H&&(Ge()||re===E)&&(Object(h.a)(pe).lt(.1)||Object(h.a)(pe).gt(50)||Object(h.a)(pe).isNaN())?(Te(l.a.get("error.e5")),!0):(Te(!1),!1)},Je=function(e,a){return(t=t||Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,o,i,u,l,b;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.length,c=t.map((function(e){return e.inputValue.isNaN()?0:e.inputValue._toIntegerDown()._toHex()}))||[],e.next=5,Object(m.d)(c,!1);case 5:if((s=e.sent).success){e.next=8;break}return e.abrupt("return");case 8:if(o=s.value,i=o.times(Object(h.a)(1).plus(Object(h.a)(F).times(n).div(4*(n-1)))),u=Object(h.a)(100).plus(a).div(100),i=i.times(u)._toIntegerDown(),!xe||!Object(h.a)(He.userLpAllowance).lt(i)){e.next=21;break}return e.next=15,Ee.approveToken(B,V,{title:"deposit.approve_token",obj:{value:K.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]);case 15:if(!e.sent){e.next=20;break}ve(!1),e.next=21;break;case 20:return e.abrupt("return");case 21:return l=i._toHex(),b={title:"actions.remove",obj:{detail:Object(h.A)(te)}},e.next=25,Ee.removeLiqImBalance(c,l,b,[["pool/updateCurrencyData"]]);case 25:e.sent,e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.log(e.t0);case 31:case"end":return e.stop()}}),e,null,[[0,28]])})))).apply(this,arguments)},Ze=function(e,t){return(a=a||Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,o,i,u,l;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,We(a,t,Object(h.fb)(re));case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return");case 6:if(c=n.userLpBalance,n.lpTotalSupply,n.balances,s=n.userLpAllowance,o=n.minAmounts,i=Object(h.fb)(re).div(100).times(c)._toIntegerDown(),!xe||!Object(h.a)(s).lt(i._toIntegerDown())){e.next=17;break}return e.next=11,Ee.approveToken(B,V,{title:"deposit.approve_token",obj:{value:K.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]);case 11:if(!e.sent){e.next=16;break}ve(!1),e.next=17;break;case 16:return e.abrupt("return");case 17:return u={title:"actions.remove",obj:{detail:Object(h.A)(te)}},l=i._toHex(),e.next=21,Ee.removeLiquidity(l,o,u,[["pool/updateCurrencyData"]]);case 21:e.sent,e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})))).apply(this,arguments)},Qe=function(e,t,a){return(u=u||Object(s.a)(Object(r.a)().mark((function e(t,a,n){var c,s,o,i,u,l,b,j,p,d,O,f,x,v;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.qb)(a,t);case 3:if((c=e.sent).success){e.next=6;break}return e.abrupt("return");case 6:if(s=c.userLpBalance,o=c.userLpAllowance,i=Object(h.fb)(re).div(100).times(s)._toIntegerDown(),!xe||!Object(h.a)(o).lt(i._toIntegerDown())){e.next=17;break}return e.next=11,Ee.approveToken(B,V,{title:"deposit.approve_token",obj:{value:K.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]);case 11:if(!e.sent){e.next=16;break}ve(!1),e.next=17;break;case 16:return e.abrupt("return");case 17:for(b in u=i._toHex(),l=!1,Le)!0===Le[b]&&(l=U[b].index);return e.next=22,Object(m.p)(u,l);case 22:if((j=e.sent).success){e.next=25;break}return e.abrupt("return");case 25:return p=j.value,d=t.length,O=p.times(Object(h.a)(1).minus(Object(h.a)(F).times(d).div(4*(d-1)).div(1e10))),f=Object(h.a)(100).div(Object(h.a)(100).plus(n)),x=O.times(f)._toIntegerDown()._toHex(),v={title:"actions.remove",obj:{detail:Object(h.A)(te)}},e.next=33,Ee.removeLiqOneCoin(u,l,x,v,[["pool/updateCurrencyData"]]);case 33:e.sent,e.next=39;break;case 36:e.prev=36,e.t0=e.catch(0),console.log(e.t0);case 39:case"end":return e.stop()}}),e,null,[[0,36]])})))).apply(this,arguments)},Ge=function(){for(var e in Le)if(Le[e])return e;return!1},We=function(e,t,a){return(M=M||Object(s.a)(Object(r.a)().mark((function e(t,a,n){var c,s,o,i,u,l,b,j,p=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=p.length>3&&void 0!==p[3]&&p[3],e.prev=1,e.next=4,Object(m.qb)(t,a);case 4:if((s=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:return o=s.userLpBalance,i=s.lpTotalSupply,u=s.balances,l=s.userLpAllowance,b=[],j={},a.map((function(e){var t=e.index,a=e.id,r=e.decimal,s=e.precision,l=Object(h.fb)(n).div(100).times(u[t]);c||(l=Object(h.a)(.98).times(l)),b[t]=l.times(o).div(i)._toIntegerDown()._toHex(),j[a]=Object(h.c)(l.times(o).div(i).div(s)._toFixed(r,1))})),e.abrupt("return",{userLpBalance:o,lpTotalSupply:i,balances:u,userLpAllowance:l,minAmounts:b,amountsStr:j});case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)},ze=function(e,t){return(R=R||Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,o,i,u,l,b,j,p;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,He.getUserLp();case 3:return n=He.userLpBalance,c=U[t],s=c.precision,o=c.decimal,i=Object(h.fb)(a).div(100).times(n)._toIntegerDown(),u=U[t].index,l=i._toHex(),e.next=10,Object(m.p)(l,u);case 10:if((b=e.sent).success){e.next=13;break}return e.abrupt("return",!1);case 13:return j=b.value,p=Object(h.a)(j).div(s)._toFixed(o,1),e.abrupt("return",p);case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)},Xe=function(){He.getSwapBalance(),He.getVirtualPrice(),He.getVolData()},Ye=function(){return(J=J||Object(s.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([He.getUserLp(),He.getBalanceInfo()]);case 2:t={},T.map((function(e){var a=He.poolData[e],n=a.userSwapBalance,c=a.decimal;t[e]=Object(h.c)(Object(h.a)(n)._toFixed(c,1))})),ae(t),Me||(Me=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xe(),e.next=3,He.getUserLp();case 3:case"end":return e.stop()}}),e)}))),qe.defaultIntervalSec));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)};Object(i.useEffect)((function(){return Ye(),Xe(),function(){clearInterval(Me)}}),[]);var $e=function(e,t){return(Z=Z||Object(s.a)(Object(r.a)().mark((function e(t,a){var s,o,i,u,l;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ve&&Ke(!0),s=Object(h.fb)(re),o={},i={},!t){e.next=16;break}for(u in we(!0),Le)u!==a&&(o[u]=!1,i[u]=0);return De(Object(c.a)(Object(c.a)(Object(c.a)({},Le),o),{},Object(n.a)({},a,t))),(re===E||Object(h.fb)(re).lte(0))&&se(s="100.00"),Object(h.a)(s).gt(100)&&(s=100),e.next=12,ze(a,s);case 12:(l=e.sent)&&ae(Object(c.a)(Object(c.a)(Object(c.a)({},te),i),{},Object(n.a)({},a,Object(h.c)(l)))),e.next=19;break;case 16:se(E),we(!1),De(Object(c.a)(Object(c.a)({},Le),{},Object(n.a)({},a,t)));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)},et=function(){var e={},t={};T.map((function(a){e[a]=0,t[0]=!1})),ae(e),De(Le),se(0)},tt=function(){var e={};T.map((function(t){e[t]=0})),ae(e)},at=function(e,t){return(G=G||Object(s.a)(Object(r.a)().mark((function e(t,a){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.calcInclPrice(t,!1,a);case 2:n=e.sent,Se(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},nt=function(e){return(W=W||Object(s.a)(Object(r.a)().mark((function e(t){var a,s,o,i,u,l,b,j,p,d,O,f,x,v,g;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ve&&Ke(!0),s=t.target.value,o=s.split("."),(null===(a=o[1])||void 0===a?void 0:a.length)>2&&(s="".concat(o[0]+"."+o[1].substr(0,2))),!Object(h.a)(s).gt(100)){e.next=6;break}return e.abrupt("return");case 6:if(i=Object(h.V)(s,10),u=i.valid,l=i.str,re!==E){e.next=9;break}return e.abrupt("return",et());case 9:if(""!==s){e.next=12;break}return se(""),e.abrupt("return",tt());case 12:if(!u){e.next=34;break}if(se(Object(h.c)(l)),!(b=Object(h.a)(l).gt(100)?Object(h.a)(100):Object(h.a)(l)).isNaN()){e.next=17;break}return e.abrupt("return");case 17:if(qe.defaultAccount){e.next=19;break}return e.abrupt("return");case 19:if(j=qe.defaultAccount,!(p=Ge())){e.next=26;break}return e.next=24,ze(p,b);case 24:return d=e.sent,e.abrupt("return",d&&ae(Object(c.a)(Object(c.a)({},te),{},Object(n.a)({},p,Object(h.c)(d)))));case 26:if(l===E){e.next=34;break}return O=[],T.map((function(e){O.push(Object(c.a)({},U[e]))})),f=O.sort((function(e,t){return e.index-t.index})),e.next=32,We(j,f,l,!0);case 32:x=e.sent,s===t.target.value&&(v=x.amountsStr,g=void 0===v?{}:v,x&&ae(g));case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)},ct=function(e){!Ve&&Ke(!0),le(e),e!==E&&de("")},rt=function(e){var t=Object(h.V)(e,10),a=t.valid,n=t.str;if(a)if(""===n)de("");else if(Object(h.a)(n).lte(100)){var c,r=n,s=n.split(".");(null===(c=s[1])||void 0===c?void 0:c.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),de(r)}},st=function(e){return Ge()||re===E?Object(A.jsx)("div",{className:"flex start mt-20",children:Object(A.jsx)(P.a,{slippage:e,customSlippage:pe,CUSTOM_SLIPPAGE:H,onChangeSlippage:ct,onChangeCustomSlippage:rt})}):Object(A.jsx)(A.Fragment,{})};return Object(A.jsx)(f.a,{children:function(){return Object(A.jsxs)(b.a,Object(c.a)(Object(c.a)({},C.a.row),{},{children:[Object(A.jsxs)(j.a,Object(c.a)(Object(c.a)({},C.a.colLeft),{},{children:[Object(A.jsx)(L.a,{list:z,activeKey:X[0]}),Object(A.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(k.a,{routeName:"3pool/withdraw",mountedActions:Ye,instantActions:Xe}),Object(A.jsx)(_.a,{title:"3pool "+l.a.get("banner.title_withdraw"),desc:l.a.get("banner.desc_withdraw")}),Object(A.jsx)(y.a,{})]}):null,qe.isConnected?Object(A.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(A.jsxs)("div",{className:"add-liq withdraw-liq",children:[Object(A.jsxs)("div",{className:"flex",children:[l.a.get("withdraw.share_of_liq"),Object(A.jsx)(I.a,{className:"flex-1 ml-20",showMax:!1,placeholder:"100.00",value:re,onChange:nt})]}),Object(A.jsxs)("fieldset",{className:"currencies mt-35",children:[Object(A.jsx)("legend",{children:l.a.get("deposit.currencies")}),Object(A.jsx)("ul",{children:T.map((function(e){var t=U[e].symbol,a=void 0===t?"":t;return Object(A.jsxs)("li",{children:[Object(A.jsx)("div",{className:"cur-label",children:Object(A.jsxs)("span",{className:"icon",children:[Object(A.jsx)("img",{src:v.a[e]?v.a[e]:O.default,alt:"",className:"token-logo"}),a]})}),Object(A.jsx)(I.a,{showMax:!1,value:te[e],onChange:function(t){!function(e,t){(Q=Q||Object(s.a)(Object(r.a)().mark((function e(t,a){var s,o,i,u,l,b;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(b in!Ve&&Ke(!0),s=U[a].decimal,o=Object(h.V)((""+t.target.value).replace(/,/g,""),s),i=o.valid,u=o.str,i&&ae(Object(c.a)(Object(c.a)({},te),{},Object(n.a)({},a,Object(h.c)(u)))),se(E),we(!1),l={},Le)l[b]=!1;De(l);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(t,e)}})]},e)}))})]}),Object(h.ab)(ye),Object(A.jsxs)("fieldset",{children:[Object(A.jsxs)("legend",{className:"flex aic jcs pt20",children:[Object(A.jsx)("span",{className:"mr-10",children:l.a.get("withdraw.withdraw_text")}),Object(A.jsx)(p.a,{title:l.a.get("withdraw.tip"),children:Object(A.jsx)(d.a,{})})]}),Object(A.jsx)("div",{className:"withdraw-one",children:T.map((function(e){var t=U[e].symbol,a=void 0===t?"":t;return Object(A.jsx)(S.a,{id:e,checked:Le[e],tokenLogo:v.a[e]?v.a[e]:O.default,symbol:a,onChange:$e})}))})]}),st(ue),Ue?Object(A.jsx)(N.a,{styleName:"mt-40",type:"single",disabled:!0,info:l.a.get("withdraw.action")}):Object(A.jsx)(N.a,{styleName:"mt-40",type:"single",info:l.a.get("withdraw.action"),onClick:function(){return function(t){return(g=g||Object(s.a)(Object(r.a)().mark((function t(a){var n,s,o,i;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,qe.defaultAccount){t.next=3;break}return t.abrupt("return");case 3:if(!Ve&&Ke(!0),Ue){t.next=8;break}if(!Re(a)){t.next=8;break}return t.abrupt("return");case 8:if(!Ue){t.next=10;break}return t.abrupt("return");case 10:if(n=qe.defaultAccount,s=[],T.map((function(e){s.push(Object(c.a)(Object(c.a)({},U[e]),{},{inputValue:Object(h.fb)(a[e]).times(U[e].precision)}))})),o=s.sort((function(e,t){return e.index-t.index})),i=ue===H?pe:ue,e.onSubmit&&e.onSubmit(),!he){t.next=20;break}return t.next=19,Qe(o,n,i);case 19:return t.abrupt("return",t.sent);case 20:if(re===E){t.next=24;break}return t.next=23,Ze(o,n);case 23:return t.abrupt("return",t.sent);case 24:return t.next=26,Je(o,i);case 26:return t.abrupt("return",t.sent);case 29:t.prev=29,t.t0=t.catch(0),console.log(t.t0);case 32:case"end":return t.stop()}}),t,null,[[0,29]])})))).apply(this,arguments)}(te)},disabled:Ue}),Ue&&Object(A.jsx)("div",{className:"error-content mt-12",children:Object(A.jsx)("div",{className:"error-tip",children:Ue})})]})}):Object(A.jsx)(D.a,{})]})]})),Object(A.jsx)(j.a,Object(c.a)(Object(c.a)({},C.a.colRight),{},{children:Object(A.jsx)(w.a,{className:qe.isConnected?null:"window-for-tabs-pane"})}))]}))}})}},1114:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(1),c=a(67),r={usdd2Pool_2:{keys:c.e.usdd2Pool_2UsdPoolKeys,poolsInfo:c.e.usdd2Pool_2UsdPools},usdj2Pool_2:{keys:c.e.usdj2Pool_2UsdPoolKeys,poolsInfo:c.e.usdj2Pool_2UsdPools},usdc2Pool_2:{keys:c.e.usdc2Pool_2UsdPoolKeys,poolsInfo:c.e.usdc2Pool_2UsdPools},busd2Pool_2:{keys:c.e.busd2Pool_2UsdPoolKeys,poolsInfo:c.e.busd2Pool_2UsdPools},usddlp:{keys:c.e.usdd2Pool_2Keys,poolsInfo:c.e.usdd2Pool_2Pools},usdjlp:{keys:c.e.usdj2Pool_2Keys,poolsInfo:c.e.usdj2Pool_2Pools},usdclp:{keys:c.e.usdc2Pool_2Keys,poolsInfo:c.e.usdc2Pool_2Pools},busdlp:{keys:c.e.busd2Pool_2Keys,poolsInfo:c.e.busd2Pool_2Pools}};var s=function(e,t){return function(e,t,a){try{var c=e[a]||{},r=c.keys,s=c.poolsInfo,o=[];return r.map((function(e){var a=Object(n.u)(Object(n.fb)(t[e]).isNaN()?0:Object(n.fb)(t[e])),c=s[e].symbol;o.push("".concat(a," ").concat(c))})),o.join(" + ")}catch(i){return console.error("getApproveDetail",i),""}}(r,e,t)}},1123:function(e,t,a){"use strict";a.r(t),a.d(t,"renderTab",(function(){return H})),a.d(t,"usePoolTab",(function(){return Z}));var n=a(11),c=a(0),r=a(2),s=a(5),o=a(1931),i=a(1933),u=a(1954),l=a(78),b=a(3),j=a.n(b),p=a(15),d=a.n(p),O=(a(1076),a(1079),a(110)),f=a(1057),x=a(1096),v=(a(1915),a(1914)),g=(a(1500),a.p,a(283)),m=a(1080),h=a(6),w=a(12),k=a(25),_=a(1),y=a(1063),S=a(1064),N=a(1059),P=a(285),C=a(7);function L(e){var t,a,o=Object(b.useState)(2),i=Object(n.a)(o,2),u=i[0],j=i[1],p=Object(b.useState)(1),f=Object(n.a)(p,2),L=f[0],D=f[1],I=Object(b.useState)(0),A=Object(n.a)(I,2),U=A[0],T=A[1],B=Object(b.useState)(1),F=Object(n.a)(B,2),V=F[0],K=F[1],E=Object(b.useState)(-1),H=Object(n.a)(E,2),q=H[0],M=H[1],R=Object(b.useState)(1),J=Object(n.a)(R,2),Z=J[0],Q=J[1],G=Object(b.useState)(.005),W=Object(n.a)(G,2),z=W[0],X=W[1],Y=Object(b.useState)(""),$=Object(n.a)(Y,2),ee=$[0],te=$[1],ae=Object(b.useState)(!0),ne=Object(n.a)(ae,2),ce=(ne[0],ne[1],Object(b.useState)("")),re=Object(n.a)(ce,2),se=re[0],oe=re[1],ie=Object(b.useState)(!1),ue=Object(n.a)(ie,2),le=ue[0],be=ue[1],je=h.a.pools,pe=h.a.poolIndex,de=h.a.stablePool,Oe=h.a.poolKeys,fe=Object(l.d)((function(){return O.a.network})),xe=Object(l.d)((function(){return O.a.system})),ve=Object(l.d)((function(){return O.a.pool})),ge=Object(b.useState)(!1),me=Object(n.a)(ge,2),he=me[0],we=me[1];Object(b.useEffect)((function(){ye({i:u,j:U,dx:L})}),[]);var ke=function(){!he&&we(!0);var e=u,t=U,a=V;e!==t&&(j(t),T(e),D(a),ye({i:t,j:e,dx:a,notChangeRate:!0}),Se({no:1,i:t,j:e,dx:a}))},_e=function(e){var t=Object.assign({},(Object(x.a)(e),e));be(!le),Se(Object(s.a)(Object(s.a)({},t),{},{exchangeFlags:!le}))},ye=function(e){return(t=t||Object(r.a)(Object(c.a)().mark((function e(t){var a,n,r,s,o,i,l;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},(Object(x.a)(t),t)),e.prev=1,n=void 0===a.i?u:a.i,r=void 0===a.j?U:a.j,s=void 0===a.dx?Object(_.fb)(L):Object(_.fb)(a.dx),Object(_.a)(s).gt(0)){e.next=8;break}return K(0),e.abrupt("return");case 8:return o=Object(_.a)(s).times(je[pe[n]].precision)._toIntegerDown()._toHex(),i=null,e.next=12,Object(w.Q)(n,r,o);case 12:(i=e.sent).success?(l=Object(_.a)(i.value).div(je[pe[r]].precision),K(Object(_.c)(Object(_.a)(l)._toFixed(je[pe[r]].decimal,1))),Q(Object(_.a)(i.value))):(K(0),Q(1)),a.notChangeRate||Se({i:n,j:r,dx:s}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("getDyData: ",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)},Se=function(e){return(a=a||Object(r.a)(Object(c.a)().mark((function e(t){var a,n,r,s,o,i,l,b;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},(Object(x.a)(t),t)),e.prev=1,n=void 0===a.i?u:a.i,r=void 0===a.j?U:a.j,s=void 0===a.dx?Object(_.fb)(L):Object(_.fb)(a.dx),o=void 0===a.exchangeFlags?le:a.exchangeFlags,i=Object(_.a)(s).times(je[pe[n]].precision)._toIntegerDown()._toHex(),l=null,Object(_.a)(s).gt(0)){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Object(w.Q)(n,r,i);case 12:(l=e.sent).success&&(b=Object(_.a)(l.value).div(je[pe[r]].precision).div(s),M(o?Object(_.a)(1).div(Object(_.a)(b)._toFixed(4,1))._toFixed(4,1):b._toFixed(4,1))),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log("getRateData: ",e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)},Ne=function(e){var t=u;Number(e)!==Number(U)&&(t=U),T(t),j(e);var a=Object(_.fb)(L)._toFixed(je[pe[e]].decimal,1);D(Object(_.c)(a)),ye({i:e,j:t,dx:a})},Pe=function(e){var t=U;Number(e)!==Number(u)&&(t=u),j(t),T(e);var a=Object(_.fb)(L)._toFixed(je[pe[t]].decimal,1);D(Object(_.c)(a)),ye({j:e,i:t,dx:a})},Ce=function(e){!he&&we(!0);var t=Object(_.V)((""+e).replace(/,/g,""),je[pe[u]].decimal),a=t.valid,n=t.str,c=ve.poolData&&Object(_.a)(ve.poolData[pe[u]].balance).div(je[pe[u]].precision)._toFixed(2,1);if(a){if(Object(_.a)(n).lte(0))return D(Object(_.c)(n)),K(0),void oe(d.a.get("buysell.error_msg_1"));Object(_.a)(n).gt(c)&&oe(d.a.get("buysell.error_msg_2")),D(Object(_.c)(n)),ye({dx:n})}},Le=function(e){var t="--";return t=ve.poolData[pe[u]].balance,t=Object(_.a)(t).isNaN()?"--":ve.poolData[pe[u]].balance.div(ve.poolData[pe[u]].precision),Object(C.jsx)("span",{children:ve.poolData&&Object(_.u)(t)})},De=function(){var e=ve.poolData[pe[u]],t=e.precision,a=e.balance,n=e.symbol;return a=Object(_.a)(a).div(t),Object(_.fb)(L).eq(0)||Object(_.fb)(L).isNaN()?(oe(d.a.get("error.e1")),!0):Object(_.fb)(L).gt(a)?(oe(d.a.get("error.e2",{token:n})),!0):2===z&&(!ee||Number(ee)<.1||Number(ee)>50)?(oe(d.a.get("error.e5")),!0):(oe(""),!1)};Object(b.useEffect)((function(){he&&De()}),[u,U,L,z,ee]);var Ie=function(){var e=ve.poolData&&Object(_.a)(ve.poolData[pe[u]].balance).div(je[pe[u]].precision);Ce(e)},Ae=function(e){!he&&we(!0),X(e),2!==e&&te("")},Ue=function(e){!he&&we(!0);var t=Object(_.V)(e,10),a=t.valid,n=t.str;if(a)if(""===n)te("");else if(Object(_.a)(n).lte(100)){var c,r=n,s=n.split(".");(null===(c=s[1])||void 0===c?void 0:c.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),te(r)}},Te=function(){var e=function(){var e=u,t=U;if(le){var a=[t,e];e=a[0],t=a[1]}return Object(C.jsx)(C.Fragment,{children:pe[e].toUpperCase()+"/"+pe[t].toUpperCase()})};return Object(C.jsxs)("p",{className:"exchang-rate-text mt-20",children:[Object(C.jsxs)("span",{className:"en-US"===window.localStorage.getItem("lang")?"er-en":"",children:[d.a.get("buysell.exchange_rate",{symbol:"3pool LP"})+" ",Object(C.jsx)(e,{})]}),Object(C.jsx)("img",{style:{cursor:"pointer",margin:"0 6px"},className:"exchange-img",alt:"",src:m.a,onClick:_e}),Object(C.jsxs)("span",{children:["(",d.a.get("buysell.including_fees"),"): ",-1===q?d.a.get("buysell.not_available"):q]})]})},Be=function(){var t,a,n=function(){return(t=t||Object(r.a)(Object(c.a)().mark((function t(){var a,n,r,s,o,i,l;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!se){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,a=2!==z?z:ee?Object(_.a)(ee).div(100):0,n=Object(_.a)(Z).times(Object(_.a)(1).minus(Object(_.a)(a)))._toIntegerDown()._toHex(),r=u,s=U,o=Object(_.fb)(L).times(je[pe[r]].precision)._toIntegerDown()._toHex(),i={title:"notification.tip1",title2:"notification.tip1",title3:"notification.tip1",title4:"notification.tip1",obj:{fromValue:Object(_.u)(Object(_.fb)(L)),fromToken:pe[r].toUpperCase(),toValue:Object(_.u)(Object(_.fb)(V)),toToken:pe[s].toUpperCase()}},t.next=11,xe.toExchange(r,s,o,n,i,[["pool/updateCurrencyData"]]);case 11:(l=t.sent)&&(setTimeout((function(){ve.getBalanceInfo()}),5e3),e.onSubmit&&e.onSubmit(l)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),console.log("sellSubmit: ",t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,15]])})))).apply(this,arguments)};return Object(C.jsx)(C.Fragment,{children:se?Object(C.jsx)(N.a,{styleName:"mt-40",type:"single",disabled:!0,info:d.a.get("sell_btn")}):Object(C.jsx)(N.a,{styleName:"mt-40",type:"single",info:d.a.get("sell_btn"),onClick:function(){return(a=a||Object(r.a)(Object(c.a)().mark((function e(){var t,a,r,s;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fe.isConnected){e.next=3;break}return oe(d.a.get("buysell.error_msg_3")),e.abrupt("return");case 3:if(!he&&we(!0),se){e.next=8;break}if(!De()){e.next=8;break}return e.abrupt("return");case 8:if(!se){e.next=10;break}return e.abrupt("return");case 10:return e.prev=10,e.next=13,Object(w.Sb)(window.defaultAccount,[je[pe[u]].token],[de]);case 13:if(t=e.sent,a=t[de].allowance,r=ve.poolData[pe[u]].approveStatus,a.gt(0)||r){e.next=29;break}return s={action:"approve",title:"deposit.approve_token",obj:{value:Oe[u].toUpperCase()},continuous:!0},e.next=20,xe.approveToken(je[pe[u]].token,de,s,[["pool/getBalanceInfo"]]);case 20:if(!e.sent){e.next=26;break}ve.poolData[pe[u]].approveStatus=2,n(),e.next=27;break;case 26:return e.abrupt("return");case 27:e.next=30;break;case 29:n();case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(10),console.log("exchangeBefore: ",e.t0);case 35:case"end":return e.stop()}}),e,null,[[10,32]])})))).apply(this,arguments)}})})},Fe=function(e){var t=e.direction,a=void 0===t?"left":t,n=Oe;return Object(C.jsx)("div",{className:"flex start mb-16 pc-input-box",children:n.map((function(e){var t=k.a[e]||g.default,n="left"===a?u:U;return Object(C.jsx)(y.a,{id:e,checked:n===je[e].index,tokenLogo:t,symbol:je[e].symbol,onChange:function(t,n){"left"===a?Ne(je[e].index):Pe(je[e].index)}})}))})},Ve=function(){return Object(C.jsx)("span",{className:"exchange-alt",onClick:function(){return ke()}})},Ke=Object(P.a)(P.b);return Object(C.jsx)(l.a,{children:function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"exchange-box",children:[Object(C.jsx)(Fe,{direction:"left"},"left"),Object(C.jsxs)("div",{className:"input-block",children:[Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("div",{className:"input-number",children:Object(C.jsx)(v.a,{className:"input",value:L,onChange:function(e){return Ce(e.target.value)}})}),Object(C.jsx)("span",{className:"max-btn",onClick:Ie,children:d.a.get("sunSwapV3.swap.input_from_max")})]}),Object(C.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(C.jsx)("span",{children:d.a.get("sunSwapV3.swap.input_from_balance")})," ",Le(ve.poolData)]})]}),Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)(Ve,{}),!Ke&&Object(C.jsx)("div",{className:"flex start",children:Object(C.jsx)(S.a,{type:"exchange",slippage:z,customSlippage:ee,CUSTOM_SLIPPAGE:2,onChangeSlippage:function(e){Ae(Number(e))},onChangeCustomSlippage:function(e){X(2),Ue(e)}})})]}),Object(C.jsx)(Fe,{direction:"right"},"right"),Object(C.jsxs)("div",{className:"input-block",children:[Object(C.jsx)("div",{className:"input-number",children:Object(C.jsx)(v.a,{disabled:!0,className:"input",value:V})}),Object(C.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(C.jsx)("span",{children:d.a.get("sunSwapV3.swap.input_from_balance")})," ",Le(ve.poolData)]})]}),Object(C.jsx)(Te,{}),Ke&&Object(C.jsx)("div",{className:"flex start",children:Object(C.jsx)(S.a,{type:"exchange",slippage:z,customSlippage:ee,CUSTOM_SLIPPAGE:2,onChangeSlippage:function(e){Ae(Number(e))},onChangeCustomSlippage:function(e){X(2),Ue(e)}})})]}),Object(C.jsx)(Be,{}),se&&Object(C.jsx)("div",{className:"error-content mt-12",children:Object(C.jsx)("div",{className:"error-tip",children:se})})]})}})}var D=a(1077),I=a(1110),A=a(1111),U=a(1081),T=a(64),B=a(1068),F=a(1061),V=a(1058),K=a(1062),E=function(e){var t=e.onSubmit,a=e.pageList,n=e.tabPaneKey,c=e.isConnected;return Object(C.jsxs)(o.a,Object(s.a)(Object(s.a)({},F.a.row),{},{children:[Object(C.jsxs)(i.a,Object(s.a)(Object(s.a)({},F.a.colLeft),{},{children:[Object(C.jsx)(V.a,{list:a,activeKey:n[0]}),c?Object(C.jsx)("div",{className:"window-for-tabs-pane",children:Object(C.jsx)(L,{onSubmit:t})}):Object(C.jsx)(K.a,{})]})),Object(C.jsx)(i.a,Object(s.a)(Object(s.a)({},F.a.colRight),{},{children:Object(C.jsx)(D.a,{})}))]}))},H=function(e){return Object(C.jsx)("span",{children:J[e].tabTitle})},q=Object(U.a)({childPage:T.h.liquidity_old3pool}),M=q.tabChangeLog,R=q.tabSubmitLog,J={1:{title:d.a.get("banner.title_deposit"),content:d.a.get("banner.desc_deposit"),tabTitle:d.a.get("header.deposit")},2:{title:d.a.get("banner.title_withdraw"),content:d.a.get("banner.desc_withdraw"),tabTitle:d.a.get("header.withdraw")},3:{title:d.a.get("banner.title_1"),content:d.a.get("banner.desc_1"),tabTitle:d.a.get("header.swap")}},Z=function(e){var t=window.location.hash.split("/"),a=Object(n.a)(t,3),c=a[1],r=a[2],s=window.localStorage.getItem("lang");return c.includes("usdc")&&(c="en-US"===s?"USDC Old":"Old USDC"),c.includes("3pool")&&(c="Old 3pool"),c.includes("busd")&&(c="en-US"===s?"Old BUSD":d.a.get("buysell.busd_2pool")),c.includes("usdd_usd_2pool")&&(c="en-US"===s?"Old USDD":d.a.get("buysell.usdd_2pool")),c.includes("usdj_2pool")&&(c="en-US"===s?"Old USDJ":d.a.get("buysell.usdj_2pool")),c.includes("tusd_2pool")&&(c="en-US"===s?"Old TUSD":d.a.get("buysell.tusd_2pool")),{title:c,tabKey:[{deposit:"1",withdraw:"2",swap:"3"}[r]||"1"]}};t.default=function(){var e=Z(),t=e.title,a=e.tabKey,o=j.a.useState(a),i=Object(n.a)(o,2),p=i[0],x=i[1],v=function(){var e,t=null,a=Object(l.d)((function(){return O.a.pool})),n=Object(l.d)((function(){return O.a.network})),s=function(){a.getSwapBalance(),a.getVirtualPrice(),a.getVolData()};return j.a.useEffect((function(){return function(){clearInterval(t)}}),[]),{mountedActions:function(){return(e=e||Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.getUserLp(),e.next=3,a.getBalanceInfo();case 3:t||(t=setInterval(Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(),a.getUserLp(),e.next=4,a.getBalanceInfo();case 4:case"end":return e.stop()}}),e)}))),n.defaultIntervalSec));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},instantActions:s}}(),g=v.mountedActions,m=v.instantActions,h=Object(b.useCallback)((function(e){var t=e.value;x(t),M(t)}),[]),w=function(){var e=window.localStorage.getItem("lang")||d.a.options.currentLocale,t=window.location.origin+window.location.pathname;window.location.href=t+"?lang=".concat(e,"#/sunCurve")},k=Object(b.useMemo)((function(){return{shouldScroll:!0,navRightMoreShow:!0,navRightMoreClick:w}}),[]),_=Object(b.useMemo)((function(){return F.b.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{handler:h})}))}),[h]),y=Object(l.d)((function(){return O.a.network}));return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(f.a,{mountedActions:g,instantActions:m,subNavProps:k}),Object(C.jsxs)("div",{className:"main-page-content",children:[Object(C.jsx)(B.a,{title:"".concat(t," ").concat(J[p[0]].title),subTitle:J[p[0]].content}),Object(C.jsx)("div",{className:"pool-tabs",children:Object(C.jsxs)(u.a,{activeKey:p[0],centered:!0,onChange:h,renderTabBar:function(){return null},children:[Object(C.jsx)(u.a.TabPane,{tab:H("1"),children:Object(C.jsx)(I.a,{onSubmit:function(){return R("1")},pageList:_,tabPaneKey:p})},"1"),Object(C.jsx)(u.a.TabPane,{tab:H("2"),children:Object(C.jsx)(A.a,{onSubmit:function(){return R("2")},pageList:_,tabPaneKey:p})},"2"),Object(C.jsx)(u.a.TabPane,{tab:H("3"),children:Object(C.jsx)(E,{onSubmit:function(e){return R("3",{event_label:e,txid:e})},pageList:_,tabPaneKey:p,isConnected:y.isConnected})},"3")]})})]})]})}},1157:function(e,t,a){"use strict";a.d(t,"a",(function(){return L}));var n=a(0),c=a(2),r=a(5),s=a(1096),o=a(11),i=a(1502),u=a(1914),l=a(101),b=a(78),j=a(3),p=a(15),d=a.n(p),O=(a(1099),a(283)),f=a(1080),x=a(6),v=a(110),g=a(12),m=a(25),h=a(1),w=a(40),k=a(1063),_=a(1064),y=a(1059),S=a(285),N=a(7),P=x.a.tokens,C=2;function L(e){var t,a,p=e.curveConfig,x=e.initParams,L=p.busd2PoolPools,D=p.busd2PoolIndex,I=p.busdUsdPoolIndex,A=p.busdusdPools,U=p.busd2PoolKeys,T=p.busdusdPoolKeys,B=p.busd2PoolContracts,F=p.curveLPSymbol,V=p.twoPoolUsdLpKey,K=B.usdcSwap,E=Object(j.useState)(0),H=Object(o.a)(E,2),q=H[0],M=H[1],R=Object(j.useState)(1),J=Object(o.a)(R,2),Z=J[0],Q=J[1],G=Object(j.useState)(1),W=Object(o.a)(G,2),z=W[0],X=W[1],Y=Object(j.useState)(1),$=Object(o.a)(Y,2),ee=$[0],te=$[1],ae=Object(j.useState)(-1),ne=Object(o.a)(ae,2),ce=ne[0],re=ne[1],se=Object(j.useState)(1),oe=Object(o.a)(se,2),ie=oe[0],ue=oe[1],le=Object(j.useState)(.005),be=Object(o.a)(le,2),je=be[0],pe=be[1],de=Object(j.useState)(""),Oe=Object(o.a)(de,2),fe=Oe[0],xe=Oe[1],ve=Object(j.useState)(!0),ge=Object(o.a)(ve,2),me=(ge[0],ge[1],Object(j.useState)("")),he=Object(o.a)(me,2),we=he[0],ke=he[1],_e=Object(j.useState)(!1),ye=Object(o.a)(_e,2),Se=ye[0],Ne=ye[1],Pe=(Object(l.a)(window.navigator).any,Object(b.d)((function(){return v.a.network}))),Ce=Object(b.d)((function(){return v.a.system})),Le=Object(b.d)((function(){return Object(w.d)({Stores:v.a,poolType:V,baseStoreName:"busdPool"})})),De=Object(j.useState)(!1),Ie=Object(o.a)(De,2),Ae=Ie[0],Ue=Ie[1],Te=Object(j.useState)(!1),Be=Object(o.a)(Te,2),Fe=Be[0],Ve=Be[1],Ke=Object(j.useState)(Le.poolData1),Ee=Object(o.a)(Ke,2),He=Ee[0],qe=Ee[1],Me=Object(j.useState)(D),Re=Object(o.a)(Me,2),Je=Re[0],Ze=Re[1];Object(j.useEffect)((function(){Le.initPage(x),We({i:q,j:z,dx:Z,checked:Fe})}),[]),Object(j.useEffect)((function(){Fe?(qe(Le.poolData2),Ze(I)):(qe(Le.poolData1),Ze(D))}),[Fe,Le.poolData1,Le.poolData2]);var Qe=function(){try{var e=q,t=z;if(Se){var a=[t,e];e=a[0],t=a[1]}return Object(N.jsx)(N.Fragment,{children:P[Je[e]].symbol+"/"+P[Je[t]].symbol})}catch(n){return Object(N.jsx)(N.Fragment,{})}},Ge=function(e){var t=Object.assign({},(Object(s.a)(e),e));Ne(!Se),ze(Object(r.a)(Object(r.a)({},t),{},{exchangeFlags:!Se,checked:Fe}))},We=function(e){return(t=t||Object(c.a)(Object(n.a)().mark((function e(t){var a,c,r,o,i,u,l,b,j;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},(Object(s.a)(t),t)),e.prev=1,c=void 0===a.i?q:a.i,r=void 0===a.j?z:a.j,o=void 0===a.dx?Z:a.dx,i=a.checked?I:D,u=a.checked?A:L,Object(h.fb)(o).gt(0)){e.next=10;break}return te(0),e.abrupt("return");case 10:if(l=Object(h.fb)(o).times(u[i[c]].precision)._toIntegerDown()._toHex(),b=null,!a.checked){e.next=18;break}return e.next=15,Object(g.R)(c,r,l,K);case 15:b=e.sent,e.next=21;break;case 18:return e.next=20,Object(g.mb)(c,r,l,K);case 20:b=e.sent;case 21:b.success?(j=Object(h.a)(b.value).div(u[i[r]].precision),te(Object(h.c)(Object(h.a)(j)._toFixed(u[i[r]].decimal,1))),ue(Object(h.a)(b.value))):(te(0),ue(1)),a.notChangeRate||ze({i:c,j:r,dx:o,checked:a.checked}),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(1),console.log("getDyData: ",e.t0);case 28:case"end":return e.stop()}}),e,null,[[1,25]])})))).apply(this,arguments)},ze=function(e){return(a=a||Object(c.a)(Object(n.a)().mark((function e(t){var a,c,r,o,i,u,l,b,j,p;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},(Object(s.a)(t),t)),e.prev=1,c=void 0===a.i?q:a.i,r=void 0===a.j?z:a.j,o=void 0===a.dx?Z:a.dx,i=void 0===a.exchangeFlags?Se:a.exchangeFlags,u=a.checked?I:D,l=a.checked?A:L,b=Object(h.fb)(o).times(l[u[c]].precision)._toIntegerDown()._toHex(),j=null,Object(h.fb)(o).gt(0)){e.next=12;break}return e.abrupt("return");case 12:if(!a.checked){e.next=18;break}return e.next=15,Object(g.R)(c,r,b,K);case 15:j=e.sent,e.next=21;break;case 18:return e.next=20,Object(g.mb)(c,r,b,K);case 20:j=e.sent;case 21:j.success&&(p=Object(h.a)(j.value).div(l[u[r]].precision).div(Object(h.fb)(o)),re(i?Object(h.a)(1).div(Object(h.a)(p)._toFixed(4,1))._toFixed(4,1):p._toFixed(4,1))),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(1),console.log("getRateData: ",e.t0);case 27:case"end":return e.stop()}}),e,null,[[1,24]])})))).apply(this,arguments)},Xe=function(e){var t=Fe?A:L,a=q;Number(e)!==Number(z)&&(a=z),X(a),M(e);var n=Object(h.fb)(Z)._toFixed(t[Je[e]].decimal,1);Q(Object(h.c)(n)),We({i:e,j:a,dx:n,checked:Fe})},Ye=function(e){var t=Fe?A:L,a=z;Number(e)!==Number(q)&&(a=q),M(a),X(e);var n=Object(h.fb)(Z)._toFixed(t[Je[a]].decimal,1);Q(Object(h.c)(n)),We({j:e,i:a,dx:n,checked:Fe})},$e=function(e){!Ae&&Ue(!0);var t=Fe?A:L,a=Object(h.V)((""+e).replace(/,/g,""),t[Je[q]].decimal),n=a.valid,c=a.str,r=He&&He[Je[q]]&&Object(h.a)(He[Je[q]].balance).div(t[Je[q]].precision)._toFixed(2,1);if(n){if(Object(h.a)(c).lte(0))return Q(Object(h.c)(c)),te(0),void ke(d.a.get("buysell.error_msg_1"));Object(h.a)(c).gt(r)&&ke(d.a.get("buysell.error_msg_2")),Q(Object(h.c)(c)),We({dx:c,checked:Fe})}},et=function(e){try{var t="--";return t=e[Je[q]].balance,t=Object(h.a)(t).isNaN()?"--":e[Je[q]].balance.div(e[Je[q]].precision),Object(N.jsx)("span",{children:e&&Object(h.u)(t)})}catch(a){}},tt=function(){try{var e=He[Je[q]],t=e.precision,a=e.balance,n=e.symbol;return a=Object(h.a)(a).div(t),Object(h.fb)(Z).eq(0)||Object(h.fb)(Z).isNaN()?(ke(d.a.get("error.e1")),!0):Object(h.fb)(Z).gt(a)?(ke(d.a.get("error.e2",{token:n})),!0):2===je&&(!fe||Number(fe)<.1||Number(fe)>50)?(ke(d.a.get("error.e5")),!0):(ke(""),!1)}catch(c){return!1}};Object(j.useEffect)((function(){Ae&&tt()}),[q,z,Z,je,fe]);var at=function(){var e=Fe?A:L,t=He&&Object(h.a)(He[Je[q]].balance).div(e[Je[q]].precision);$e(t)},nt=function(){var e;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{children:Object(N.jsx)(i.a,{checked:Fe,onChange:function(t){return(e=e||Object(c.a)(Object(n.a)().mark((function e(t){var a,c,r,s,o,i,u;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.checked,c=a?I:D,Ve(a),r=0,s=1,o=Object(h.fb)(Z),a||(r=2,s=0),!a){e.next=15;break}if("--"!==(null===(i=Le.poolData2[c[r]])||void 0===i?void 0:i.balance)){e.next=13;break}return e.next=11,Le.getBalanceInfo(K,T,"2usdlp");case 11:qe(Le.poolData2),Ze(I);case 13:e.next=20;break;case 15:if("--"!==(null===(u=Le.poolData1[c[r]])||void 0===u?void 0:u.balance)){e.next=20;break}return e.next=18,Le.getBalanceInfo(K);case 18:qe(Le.poolData1),Ze(D);case 20:M(r),X(s),Q(Object(h.c)(o)),We({i:r,j:s,dx:o,checked:a,notChangeRate:!0}),ze({no:1,i:r,j:s,dx:o,checked:a});case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)},children:d.a.get("buysell.".concat("2Pool_2"===V?"2Pool_2lp_swap":"2usdlp_swap"))})}),Object(N.jsxs)("div",{className:"exchang-rate-text mt-20",children:[Object(N.jsxs)("span",{className:"en-US"===window.localStorage.getItem("lang")?"er-en":"",children:[d.a.get("buysell.exchange_rate",{symbol:"3Pool LP"})+" ",Object(N.jsx)(Qe,{})]}),Object(N.jsx)("img",{style:{cursor:"pointer",margin:"0 6px"},alt:"",src:f.a,onClick:Ge}),"(",Object(N.jsxs)("span",{children:[d.a.get("buysell.including_fees"),"): ",-1===ce?d.a.get("buysell.not_available"):ce]})]})]})},ct=function(){var t;return Object(N.jsx)(N.Fragment,{children:we?Object(N.jsx)(y.a,{styleName:"mt-40",type:"single",disabled:!0,info:d.a.get("sell_btn")}):Object(N.jsx)(y.a,{styleName:"mt-40",type:"single",info:d.a.get("sell_btn"),onClick:function(){return(t=t||Object(c.a)(Object(n.a)().mark((function t(){var a,r,s,o,i,u,l,b;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=function(){return(a=a||Object(c.a)(Object(n.a)().mark((function t(){var a,c,r,s,o,i,u,l,b,j;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!we){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,r=2!==je?je:fe?Object(h.a)(fe).div(100):0,s=Object(h.a)(ie).times(Object(h.a)(1).minus(Object(h.a)(r)))._toIntegerDown()._toHex(),o=q,i=z,u=Fe?A:L,l=Object(h.fb)(Z).times(u[Je[o]].precision)._toIntegerDown()._toHex(),b={title:"notification.tip1",title2:"notification.tip1",title3:"notification.tip1",title4:"notification.tip1",obj:{fromValue:Object(h.u)(Object(h.fb)(Z)),fromToken:null===(a=P[Je[o]])||void 0===a?void 0:a.symbol,toValue:Object(h.u)(Object(h.fb)(ee)),toToken:null===(c=P[Je[i]])||void 0===c?void 0:c.symbol}},j="",!Fe){t.next=17;break}return t.next=14,Ce.toExchangeUsdcNew(o,i,l,s,b,[["pool/updateCurrencyData"]],K);case 14:j=t.sent,t.next=20;break;case 17:return t.next=19,Ce.toUsdcExchange(o,i,l,s,b,[["pool/updateCurrencyData"]],K);case 19:j=t.sent;case 20:j&&(setTimeout((function(){Fe?Le.getBalanceInfo(K,T,"2usdlp"):Le.getBalanceInfo(K)}),5e3),e.onSubmit&&e.onSubmit(j)),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(2),console.log("sellSubmit: ",t.t0);case 26:case"end":return t.stop()}}),t,null,[[2,23]])})))).apply(this,arguments)},Pe.isConnected){t.next=4;break}return ke(d.a.get("buysell.error_msg_3")),t.abrupt("return");case 4:if(!Ae&&Ue(!0),we){t.next=9;break}if(!tt()){t.next=9;break}return t.abrupt("return");case 9:if(!we){t.next=11;break}return t.abrupt("return");case 11:return s=Fe?A:L,t.prev=12,t.next=15,Object(g.Sb)(window.defaultAccount,[s[Je[q]].token],[K]);case 15:if(o=t.sent,i=o[K].allowance,u=He[Je[q]].approveStatus,i.gt(0)||u){t.next=33;break}return l={action:"approve",title:"deposit.approve_token",obj:{value:P[(Fe?T:U)[q]].symbol},continuous:!0},b=s[Je[q]].token,t.next=24,Ce.approveToken(b,K,l,[["pool/getBalanceInfo"]]);case 24:if(!t.sent){t.next=30;break}He[Je[q]].approveStatus=2,r(),t.next=31;break;case 30:return t.abrupt("return");case 31:t.next=34;break;case 33:r();case 34:t.next=39;break;case 36:t.prev=36,t.t0=t.catch(12),console.log("exchangeBefore: ",t.t0);case 39:case"end":return t.stop()}}),t,null,[[12,36]])})))).apply(this,arguments)}})})},rt=function(e){!Ae&&Ue(!0),pe(e),2!==e&&xe("")},st=function(e){!Ae&&Ue(!0);var t=Object(h.V)(e,10),a=t.valid,n=t.str;if(a)if(""===n)xe("");else if(Object(h.a)(n).lte(100)){var c,r=n,s=n.split(".");(null===(c=s[1])||void 0===c?void 0:c.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),xe(r)}},ot=function(e){var t=e.direction,a=void 0===t?"left":t,n=Fe?T:U,c=Fe?A:L;return Object(N.jsx)("div",{className:"flex start mb-16 pc-input-box",children:n.map((function(e){var t="2usdlp"===e||"2Pool_2"===e?m.a[F]?m.a[F]:O.default:m.a[e]?m.a[e]:O.default,n="left"===a?q:z;return Object(N.jsx)(k.a,{id:e,checked:n===c[e].index,tokenLogo:t,symbol:c[e].symbol,onChange:function(t,n){"left"===a?Xe(c[e].index):Ye(c[e].index)}})}))})},it=function(){return Object(N.jsx)("span",{className:"exchange-alt",onClick:function(){return function(){!Ae&&Ue(!0);var e=q,t=z,a=ee;e!==t&&(M(t),X(e),Q(a),We({i:t,j:e,dx:a,notChangeRate:!0,checked:Fe}),ze({no:1,i:t,j:e,dx:a,checked:Fe}))}()}})},ut=Object(S.a)(S.b);return Object(N.jsx)(b.a,{children:function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"exchange-box",children:[Object(N.jsx)(ot,{direction:"left"},"left"),Object(N.jsxs)("div",{className:"input-block",children:[Object(N.jsxs)("div",{className:"flex",children:[Object(N.jsx)("div",{className:"input-number",children:Object(N.jsx)(u.a,{className:"input",value:Z,onChange:function(e){return $e(e.target.value)}})}),Object(N.jsx)("span",{className:"max-btn",onClick:at,children:d.a.get("sunSwapV3.swap.input_from_max")})]}),Object(N.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(N.jsx)("span",{children:d.a.get("sunSwapV3.swap.input_from_balance")})," ",et(He)]})]}),Object(N.jsxs)("div",{className:"flex",children:[Object(N.jsx)(it,{}),!ut&&Object(N.jsx)("div",{className:"flex start",children:Object(N.jsx)(_.a,{type:"exchange",slippage:je,customSlippage:fe,CUSTOM_SLIPPAGE:C,onChangeSlippage:function(e){rt(Number(e))},onChangeCustomSlippage:function(e){pe(2),st(e)}})})]}),Object(N.jsx)(ot,{direction:"right"},"right"),Object(N.jsxs)("div",{className:"input-block",children:[Object(N.jsx)("div",{className:"input-number",children:Object(N.jsx)(u.a,{disabled:!0,className:"input",value:ee})}),Object(N.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(N.jsx)("span",{children:d.a.get("sunSwapV3.swap.input_from_balance")})," ",et(He)]})]}),Object(N.jsx)(nt,{}),ut&&Object(N.jsx)("div",{className:"flex start",children:Object(N.jsx)(_.a,{type:"exchange",slippage:je,customSlippage:fe,CUSTOM_SLIPPAGE:C,onChangeSlippage:function(e){rt(Number(e))},onChangeCustomSlippage:function(e){pe(2),st(e)}})})]}),Object(N.jsx)(ct,{}),we&&Object(N.jsx)("div",{className:"error-content mt-12",children:Object(N.jsx)("div",{className:"error-tip",children:we})})]})}})}},1158:function(e,t,a){"use strict";var n=a(4),c=a(5),r=a(0),s=a(2),o=a(11),i=a(3),u=a(15),l=a.n(u),b=a(18),j=a(78),p=a(1931),d=a(1933),O=a(1502),f=a(1042),x=a(181),v=a(283),g=(a(1106),a(1078),a(25)),m=a(1),h=a(6),w=a(110),k=a(1057),_=a(1067),y=(a(1075),a(1102)),S=a(340),N=a(1066),P=a(1059),C=a(12),L=a(138),D=a(40),I=a(1114),A=a(1058),U=a(1061),T=a(1062),B=a(1070),F=a(338),V=a(7),K=h.a.usdcInfo,E=h.a.defaultSlippage,H=h.a.busdCommonPools,q=h.a.tokens,M=K.ALL_FEE,R=function(e){var t={};return e.map((function(e){t[e]=""})),t};t.a=function(e){var t,a,u,K,J,Z,Q,G,W,z,X=Object(j.d)((function(){return w.a.network})),Y=Object(j.d)((function(){return w.a.system})),$=e.curveConfig,ee=e.initParams,te=e.pageList,ae=e.tabPaneKey,ne=$.busd2PoolPools,ce=$.busdusdPools,re=$.busd2PoolKeys,se=$.busdusdPoolKeys,oe=$.busd2PoolContracts,ie=$.curveSymbol,ue=$.curveLPSymbol,le=$.twoPoolUsdLpKey,be=void 0===le?"2usdlp":le,je=$.busd2Pool_2CommonPools,pe=oe.USDCDepositer,de=oe.usdcSwap,Oe=oe.stablePool,fe=(q[be].symbol,q[be].token,"2Pool_2"===be),xe=Object(j.d)((function(){return Object(D.d)({Stores:w.a,poolType:be,baseStoreName:"busdPool"})})),ve=Object(j.d)((function(){return Object(D.d)({Stores:w.a,poolType:be,baseStoreName:"usd2Pool"})})),ge=Object(i.useState)(!1),me=Object(o.a)(ge,2),he=me[0],we=me[1],ke=Object(i.useState)(!0),_e=Object(o.a)(ke,2),ye=_e[0],Se=_e[1],Ne=Object(i.useState)(!1),Pe=Object(o.a)(Ne,2),Ce=Pe[0],Le=Pe[1],De=Object(i.useState)(!0),Ie=Object(o.a)(De,2),Ae=Ie[0],Ue=Ie[1],Te=Object(i.useState)(!1),Be=Object(o.a)(Te,2),Fe=Be[0],Ve=Be[1],Ke=Object(i.useState)("--"),Ee=Object(o.a)(Ke,2),He=Ee[0],qe=Ee[1],Me=Object(i.useState)("--"),Re=Object(o.a)(Me,2),Je=Re[0],Ze=Re[1],Qe=Object(i.useState)(!1),Ge=Object(o.a)(Qe,2),We=Ge[0],ze=Ge[1],Xe=Object(i.useState)(!1),Ye=Object(o.a)(Xe,2),$e=Ye[0],et=Ye[1],tt=Object(i.useState)(!1),at=Object(o.a)(tt,2),nt=at[0],ct=at[1],rt=Object(i.useState)(xe),st=Object(o.a)(rt,2),ot=st[0],it=st[1],ut=Object(i.useState)(re),lt=Object(o.a)(ut,2),bt=lt[0],jt=lt[1],pt=Object(i.useState)(ne),dt=Object(o.a)(pt,2),Ot=dt[0],ft=dt[1],xt=Object(i.useState)((function(){return R(re)})),vt=Object(o.a)(xt,2),gt=vt[0],mt=vt[1],ht=Object(i.useState)((function(){return R(se)})),wt=Object(o.a)(ht,2),kt=wt[0],_t=wt[1],yt=Object(i.useState)(gt),St=Object(o.a)(yt,2),Nt=St[0],Pt=St[1],Ct=null,Lt=null,Dt=(window.localStorage.getItem("lang"),fe?je:H);Object(i.useEffect)((function(){Ce?(it(ve),jt(se),Pt(kt),ft(ce)):(it(xe),jt(re),Pt(gt),ft(ne))}),[Ce]),Object(i.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Kt(Nt),Ut()]);case 2:We&&Ft(Nt);case 3:case"end":return e.stop()}}),e)}))),[Nt]);var It=function(){return(t=t||Object(s.a)(Object(r.a)().mark((function e(){var t,a,n,c,s,o;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ce){e.next=2;break}return e.abrupt("return",{success:!0,value:Nt[be]?Object(m.fb)(Nt[be]).times(Ot[be].precision):Object(m.a)(0)});case 2:for(a in e.prev=2,t=[],Dt)n=Dt[a],c=n.index,s=n.precision,t[c]=Object(m.fb)(Nt[a]).isNaN()?0:Object(m.fb)(Nt[a]).times(s)._toIntegerDown()._toHex();return e.next=7,Object(C.g)(Oe,t);case 7:return o=e.sent,e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",{success:!1});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)},At=function(t){return(u=u||Object(s.a)(Object(r.a)().mark((function t(a){var n,s,o,i,u,l,b,j,p,d,O,f,x,v,g,h,w,k,_,y,S,N;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,e.onSubmit&&e.onSubmit(),n=[],bt.map((function(e){n.push(Object(c.a)(Object(c.a)({},ot.poolData[e]),{},{inputValue:a[e]?Object(m.fb)(a[e]).times(Ot[e].precision):Object(m.a)(0)}))})),s="".concat(Object(D.a)({poolType:be}),"/getBalanceInfo"),o=pe,Ce&&(s="".concat(Object(D.f)({poolType:be}),"/getBalanceInfo"),o=de),i=0;case 8:if(!(i<n.length)){t.next=24;break}if(u=n[i],l=u.allowance,b=void 0===l?Object(m.a)(0):l,j=u.inputValue,p=u.token,d=u.symbol,O=u.approveStatus,f=u.id,console.log("approveAddress",f,b,"allowance",j,b.toFixed(),O,n),Object(L.a)({txid:"".concat(f,"_").concat(b.toFixed(),"_").concat(j.toFixed(),"_").concat(O),category:"debug_busd",waddr:X.defaultAccount}),!Object(m.a)(b).lt(j)||O){t.next=21;break}return t.next=15,Y.approveToken(p,o,{title:"deposit.approve_token",obj:{value:d},continuous:!0},[[s]]);case 15:if(!t.sent){t.next=20;break}ot.poolData[f].approveStatus=2,t.next=21;break;case 20:return t.abrupt("return");case 21:i++,t.next=8;break;case 24:if(x=n.sort((function(e,t){return e.index-t.index})),v=x.length,g=x.map((function(e){return e.inputValue._toIntegerDown()._toHex()}))||[],h=null,!ot.lpTotalSupply.lte(0)){t.next=31;break}return t.next=31,ot.getSwapBalance();case 31:if(!ot.lpTotalSupply.lte(0)){t.next=40;break}return t.next=34,It();case 34:if((w=t.sent).success){t.next=37;break}return t.abrupt("return");case 37:h=w.value.div(1e18).plus(Object(m.fb)(a[ie]||0)),t.next=53;break;case 40:if(k={},!Ce){t.next=47;break}return t.next=44,Object(C.f)(g,!0,de);case 44:k=t.sent,t.next=50;break;case 47:return t.next=49,Object(C.e)(g,!0,pe);case 49:k=t.sent;case 50:if(k.success){t.next=52;break}return t.abrupt("return");case 52:h=k.value;case 53:if(h=h.times(Object(m.a)(1).minus(Object(m.a)(M).times(v).div(Object(m.a)(4).times(v-1)).div(1e10))),_=h.times(1-E)._toIntegerDown()._toHex(),!Ce){t.next=62;break}return S={title:"actions.addLiq",obj:{detail:fe?Object(I.a)(a,ue):Object(m.A)(a,ue)}},t.next=59,Y.addLiquidityBUSDBy2USD(g,de,_,S,[["".concat(Object(D.f)({poolType:be}),"/updateCurrencyData")]]);case 59:y=t.sent,t.next=66;break;case 62:return N={title:"actions.addLiq",obj:{detail:fe?Object(I.a)(a,ie+"lp"):Object(m.A)(a,ie+"lp")}},t.next=65,Y.addLiquidityBUSD(g,pe,_,N,[["".concat(Object(D.a)({poolType:be}),"/updateCurrencyData")]]);case 65:y=t.sent;case 66:y&&Rt(),t.next=72;break;case 69:t.prev=69,t.t0=t.catch(0),console.log("deposit err: ",t.t0);case 72:case"end":return t.stop()}}),t,null,[[0,69]])})))).apply(this,arguments)},Ut=function(){return(K=K||Object(s.a)(Object(r.a)().mark((function e(){var t,a,n,c,s,o,i,u,l;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in e.prev=0,t=[],a=!1,Nt)c=Ot[n],s=c.index,o=c.precision,t[s]=Object(m.fb)(Nt[n]).isNaN()?0:Object(m.fb)(Nt[n]).times(o)._toIntegerDown()._toHex(),Object(m.a)(t[s]).gt(0)&&(a=!0);if(a){e.next=7;break}return Ze(Object(m.a)(0)),e.abrupt("return");case 7:if(i=null,!ot.lpTotalSupply.lte(0)){e.next=11;break}return e.next=11,ot.getSwapBalance();case 11:if(!ot.lpTotalSupply.lte(0)){e.next=20;break}return e.next=14,It();case 14:if((u=e.sent).success){e.next=17;break}return e.abrupt("return");case 17:i=u.value.div(1e18).plus(Object(m.fb)(Nt[ie])),e.next=33;break;case 20:if(l={},!Ce){e.next=27;break}return e.next=24,Object(C.f)(t,!0,de);case 24:l=e.sent,e.next=30;break;case 27:return e.next=29,Object(C.e)(t,!0,pe);case 29:l=e.sent;case 30:if(l.success){e.next=32;break}return e.abrupt("return");case 32:i=l.value.div(1e18);case 33:Ze(i),e.next=39;break;case 36:e.prev=36,e.t0=e.catch(0),console.log(e.t0);case 39:case"end":return e.stop()}}),e,null,[[0,36]])})))).apply(this,arguments)},Tt=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(ve.getSwapBalance(),ve.getVirtualPriceBUSD(de),ve.getVolData(),ve.getPoolInfo()):(xe.getSwapBalance(),xe.getVirtualPriceBUSD(de),xe.getVolData(),xe.getPoolInfo())},Bt=function(){return(J=J||Object(s.a)(Object(r.a)().mark((function e(){var t,a=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},!(a.length>0&&void 0!==a[0]&&a[0])){e.next=12;break}return e.next=5,ve.getSwapBalance();case 5:return ve.getUserLp(),e.next=8,ve.getBalanceInfo();case 8:se.map((function(e){var a=ve.poolData[e],n=a.precision,c=a.balance,r=a.decimal;t[e]=Object(m.c)(Object(m.a)(c).div(n)._toFixed(r,1))})),_t(t),e.next=20;break;case 12:return e.next=14,xe.getSwapBalance();case 14:return xe.getUserLp(),e.next=17,xe.getBalanceInfo();case 17:re.map((function(e){var a=xe.poolData[e],n=a.precision,c=a.balance,r=a.decimal;t[e]=Object(m.c)(Object(m.a)(c).div(n)._toFixed(r,1))})),mt(t),Pt(t);case 20:Ue(!1),Pt(t),!We&&ze(!0),Ct||(Ct=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Tt(),xe.getUserLp();case 2:case"end":return e.stop()}}),e)}))),X.defaultIntervalSec));case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)};Object(i.useEffect)((function(){!Lt&&Ce&&(Lt=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tt(!0),e.next=3,ve.getUserLp();case 3:case"end":return e.stop()}}),e)}))),X.defaultIntervalSec))}),[Ce]),Object(i.useEffect)((function(){var e=Object(b.p)((function(){return X.defaultAccount}),(function(){Bt(),Tt()}));return function(){e()}}),[]),Object(i.useEffect)((function(){xe.resetData(),ve.resetData()}),[]),Object(i.useEffect)((function(){return xe.initPage(ee),ve.initPage(ee),Bt(),Tt(),function(){clearInterval(Ct),clearInterval(Lt)}}),[X.defaultAccount]);var Ft=function(e){var t=Object.keys(e),a=t.length;if(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),a=t.filter((function(t){return Object(m.fb)(e[t]).eq(0)||!e[t]}));return t.length===a.length}(e))return Ve(l.a.get("error.e1")),!0;for(var n=0;n<a;n++){var c=t[n],r=e[c];if(!r&&(he||ye))return Ve(l.a.get("error.e1")),!0;if(ot.poolData[c]){var s=ot.poolData[c],o=s.balance,i=s.precision,u=s.symbol;if(Object(m.a)(o).div(i).lt(Object(m.fb)(r)))return Ve(l.a.get("error.e2",{token:u})),!0}}return Ve(!1),!1},Vt=function(e){ct(e.target.checked)},Kt=function(e){return(Z=Z||Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.calcInclPrice(t);case 2:a=e.sent,qe(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Et=function(e,t){return(Q=Q||Object(s.a)(Object(r.a)().mark((function e(t,a){var s,o,i,u,l,b,j,p,d,O,f,x,v,g,w,k,_,y,S,N,P,L,D,I,A,U,T;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=a,(o={})[t]=Object(m.c)(s),i=ot.poolData[t],i.precision,u=i.swapBalance,i.balance,l=ot.swapBalanceInfo,b=l.sun3LpBalance,j=l.sun3TotalSupply,p=l.balancesUsdc,d=Object(m.fb)(s).div(u).isNaN()?Object(m.a)(0):Object(m.fb)(s).div(u),t!==ie){e.next=17;break}if(!Ce){e.next=12;break}return O=ot.poolData[be],f=O.swapBalance,x=O.decimal,o[be]=Object(m.c)(f.times(d)._toFixed(x,1)),e.abrupt("return",Pt(o));case 12:return v=bt.filter((function(e){return e!==t})),g=d.times(b),w=g.div(j),v.map((function(e){var t=ot.poolData[e],a=t.balance,n=void 0===a?Object(m.a)(0):a,c=t.swapBalance,r=t.precision,s=t.decimal;o[e]=Object(m.c)(w.times(c)._toFixed(s,1)),n.div(r).lt(Object(m.fb)(o[e]))&&(o[e]=Object(m.c)(n.div(r)._toFixed(s,1)))})),e.abrupt("return",Pt(o));case 17:if(k=bt.filter((function(e){return e!==t&&e!==ie})),_=Object(n.a)({},t,Object(m.c)(s)),k.map((function(e){var t=ot.poolData[e],a=t.balance,n=void 0===a?Object(m.a)(0):a,c=t.swapBalance,r=t.precision,s=t.decimal;_[e]=Object(m.c)(d.times(c)._toFixed(s,1)),n.div(r).lt(_[e])&&(_[e]=Object(m.c)(n.div(r)._toFixed(s,1)))})),y=Object(m.a)(0),!Ce){e.next=25;break}a&&(y=Object(m.fb)(a).times(Ot[be].precision)),e.next=33;break;case 25:for(N in S=[],_)P=Dt[N],L=P.index,D=P.precision,S[L]=Object(m.fb)(_[N]).isNaN()?0:Object(m.fb)(_[N]).times(D)._toIntegerDown()._toHex();return e.next=29,Object(C.g)(Oe,S);case 29:if((I=e.sent).success){e.next=32;break}return e.abrupt("return");case 32:y=I.value;case 33:A=Object(m.a)(y).div(Object(m.a)(b).times(h.a.defaultVotePrecision)),U=ot.poolData[ie],T=A.isNaN()?0:A.times(p)._toFixed(U.decimal,1),o[ie]=U.balance.div(U.precision).lt(T)?Object(m.c)(U.balance.div(U.precision)._toFixed(U.decimal,1)):Object(m.c)(T),Pt(Object(c.a)(Object(c.a)({},o),_)),e.next=43;break;case 40:e.prev=40,e.t0=e.catch(0),console.log(e.t0);case 43:case"end":return e.stop()}}),e,null,[[0,40]])})))).apply(this,arguments)},Ht=function(e){return(G=G||Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,we(a),ye&&Se(!a),a&&Et(bt[0],Object(m.fb)(Nt[bt[0]]))}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},qt=function(e){return(W=W||Object(s.a)(Object(r.a)().mark((function e(t){var a,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,Se(a),he&&we(!a),n={},bt.map((function(e){var t=ot.poolData[e],a=t.balance,c=void 0===a?Object(m.a)(0):a,r=t.precision,s=t.decimal;n[e]=Object(m.a)(c).isNaN()?0:Object(m.c)(c.div(r)._toFixed(s,1))})),Pt(n)}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Mt=function(e){return(z=z||Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,Le(a),we(!1),Se(!0),t.target.checked?clearInterval(Ct):clearInterval(Lt),Tt(t.target.checked),Bt(t.target.checked)}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Rt=function(){ct(!1),et(!1)},Jt=Object(F.b)();return Object(V.jsx)(j.a,{children:function(){return Object(V.jsxs)(p.a,Object(c.a)(Object(c.a)({},U.a.row),{},{children:[Object(V.jsxs)(d.a,Object(c.a)(Object(c.a)({},U.a.colLeft),{},{children:[Object(V.jsx)(A.a,{list:te,activeKey:ae[0]}),Object(V.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(k.a,{routeName:"usdc/deposit",mountedActions:Bt,instantActions:Tt}),Object(V.jsx)(_.a,{title:l.a.get("buysell.busd_2pool")+" "+l.a.get("banner.title_deposit"),desc:l.a.get("banner.desc_deposit")}),Object(V.jsx)(N.a,{})]}):null,X.isConnected?Object(V.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(V.jsxs)("div",{className:"add-liq",children:[Object(V.jsxs)("fieldset",{className:"currencies",children:[Object(V.jsx)("legend",{children:l.a.get("deposit.currencies")}),Object(V.jsx)("ul",{children:bt.map((function(e){var t=ot.poolData[e],a=t.symbol,r=void 0===a?"":a,s=t.balance,o=void 0===s?"--":s,i=t.precision,u=t.decimal;return o=Object(m.a)(o).div(i),Object(V.jsxs)("li",{children:[Object(V.jsxs)("div",{className:"cur-label",children:[Object(V.jsxs)("span",{className:"icon",children:[e===be?Object(V.jsx)("img",{src:g.a[ue]?g.a[ue]:v.default,alt:"",className:"token-logo"}):Object(V.jsx)("img",{src:g.a[e]?g.a[e]:v.default,alt:"",className:"token-logo"})," ",r]}),Object(V.jsx)("span",{className:"token-max",children:l.a.getHTML("deposit.token_max",{balance:Object(m.u)(o)})})]}),Object(V.jsx)(B.a,{value:Nt[e],onChange:function(t){return function(e,t){ye&&Se(!1);var a=Ot[t].decimal,r=Object(m.V)((""+e.target.value).replace(/,/g,""),a),s=r.valid,o=r.str;s&&(Pt(Object(c.a)(Object(c.a)({},Nt),{},Object(n.a)({},t,Object(m.c)(o)))),he&&Et(t,o))}(t,e)},onMaxClick:function(){!function(e,t,a){if(!Object(m.a)(t).isNaN()){var r=Object(m.a)(t)._toFixed(a,1);Pt(Object(c.a)(Object(c.a)({},Nt),{},Object(n.a)({},e,Object(m.c)(r)))),he&&Et(e,r)}}(e,o,u)}})]},e)}))})]}),!Object(m.a)(He).isNaN()&&Object(m.ab)(He,!0),Object(V.jsxs)("div",{className:"deposit-check",children:[Object(V.jsx)(O.a,{checked:he,disabled:Ae,onChange:Ht,children:l.a.get("deposit.ch1")}),Object(V.jsx)("br",{}),Object(V.jsx)(O.a,{checked:ye,disabled:Ae,onChange:qt,children:l.a.get("deposit.ch2")}),Object(V.jsx)("br",{}),Object(V.jsx)(O.a,{checked:Ce,disabled:Ae,onChange:Mt,children:l.a.get("2usdlp"===be?"deposit.ch5":"deposit.ch6")})]}),Fe?Object(V.jsx)(P.a,{styleName:"mt-40",type:"single",disabled:!0,info:l.a.get("deposit.action")}):Object(V.jsx)(P.a,{styleName:"mt-40",type:"single",info:Jt?l.a.get("not_available"):l.a.get("deposit.action"),onClick:function(){return function(e){return(a=a||Object(s.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Fe){e.next=5;break}if(!Ft(t)){e.next=5;break}return e.abrupt("return");case 5:if(!Fe){e.next=7;break}return e.abrupt("return");case 7:if(!Object(m.a)(He).abs().gt(10)){e.next=9;break}return e.abrupt("return",et(!0));case 9:return e.next=11,At(t);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}(Nt)},disabled:Jt}),Fe&&Object(V.jsx)("div",{className:"error-content mt-12",children:Object(V.jsx)("div",{className:"error-tip",children:Fe})}),Object(m.a)(Je).gt(0)&&Object(V.jsxs)("div",{className:"error-content mt-12",children:[Object(V.jsxs)("div",{className:"error-tip",children:[l.a.getHTML("deposit.swap_detail",{value:Object(m.u)(Je,2),symbol:"".concat(ie.toUpperCase()," ").concat("2Pool_2"===be?"2Pool_2":"2USD"," LP")})," "]}),Object(V.jsx)("div",{className:"error-tip",children:l.a.get("deposit.exchange_rate",{value:Object(m.u)(ot.virtualPrice,6),symbol:"".concat(ie.toUpperCase()," ").concat("2Pool_2"===be?"2Pool_2":"2USD"," LP")})})]})]})}):Object(V.jsx)(T.a,{}),Object(V.jsx)(S.a,{}),Object(V.jsx)(f.a,{title:l.a.get("deposit.high_slippage_title"),open:$e,closable:!0,icon:null,onCancel:Rt,footer:null,width:400,className:"common-modal common-bg slippage-modal",children:Object(V.jsxs)("div",{className:"center",children:[Object(V.jsxs)("div",{className:"common-err-bg",children:[Object(V.jsx)("div",{children:l.a.get("deposit.high_tip1")}),Object(V.jsx)("div",{children:l.a.get("deposit.high_tip2",{value:Object(m.u)(Object(m.a)(He).abs(),3)})})]}),Object(V.jsx)(O.a,{checked:nt,onChange:Vt,children:l.a.get("deposit.confirm_slippage",{value:Object(m.u)(Object(m.a)(He).abs(),3)})}),Object(V.jsx)("br",{}),Object(V.jsxs)("div",{className:"btns flex",children:[Object(V.jsx)(x.a,{onClick:function(){return et(!1)},type:"primary",children:l.a.get("cancel")}),Object(V.jsx)(x.a,{onClick:function(){return At(Nt)},disabled:!nt,children:l.a.get("deposit.anyway")})]})]})})]})]})),Object(V.jsx)(d.a,Object(c.a)(Object(c.a)({},U.a.colRight),{},{children:Object(V.jsx)(y.a,{type:Ce?"2usdlp":ie,curveConfig:$})}))]}))}})}},1159:function(e,t,a){"use strict";var n=a(4),c=a(5),r=a(0),s=a(2),o=a(11),i=a(3),u=a(15),l=a.n(u),b=a(1931),j=a(1933),p=a(344),d=a(1040),O=a(283),f=a(78),x=a(110),v=a(25),g=a(6),m=a(12),h=a(1),w=a(1102),k=a(1057),_=a(1067),y=(a(1075),a(1066)),S=a(40),N=a(1114),P=a(1063),C=a(1059),L=a(1064),D=a(1058),I=a(1062),A=a(1070),U=a(7),T=g.a.usdcInfo,B=g.a.tokens,F=T.ALL_FEE,V="---",K="CUSTOM";t.a=function(e){var t,a,u,g,T,E,H,q,M,R,J,Z,Q,G,W=Object(f.d)((function(){return x.a.system})),z=Object(f.d)((function(){return x.a.network})),X=e.curveConfig,Y=e.initParams,$=e.pageList,ee=e.tabPaneKey,te=X.busd2PoolPools,ae=X.busdusdPools,ne=X.busd2PoolKeys,ce=X.busdusdPoolKeys,re=X.busd2PoolContracts,se=X.curveSymbol,oe=X.curveLPSymbol,ie=X.twoPoolUsdLpKey,ue=void 0===ie?"2usdlp":ie,le=Object(f.d)((function(){return Object(S.d)({Stores:x.a,poolType:ue,baseStoreName:"busdPool"})})),be=Object(f.d)((function(){return Object(S.d)({Stores:x.a,poolType:ue,baseStoreName:"usd2Pool"})})),je=Object(S.f)({poolType:ue}),pe=Object(S.a)({poolType:ue}),de="2Pool_2"===ue,Oe=re.USDCDepositer,fe=re.usdcSwap,xe=(re.stablePool,B["".concat(se).concat("2Pool_2"===ue?"2Pool_2":"2poollp")].token),ve="2Pool_2"===ue?"2Pool_2LP":"2USDLP",ge="".concat(se).concat(ve),me=B["2Pool_2"===ue?"2Pool_2":"2usdlp"].symbol,he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={};return ne.map((function(a){t[a]=e})),t},we=Object(i.useState)(),ke=Object(o.a)(we,2),_e=ke[0],ye=void 0===_e?he("--"):_e,Se=ke[1],Ne=Object(i.useState)("100.00"),Pe=Object(o.a)(Ne,2),Ce=Pe[0],Le=Pe[1],De=Object(i.useState)(.2),Ie=Object(o.a)(De,2),Ae=Ie[0],Ue=Ie[1],Te=Object(i.useState)(""),Be=Object(o.a)(Te,2),Fe=Be[0],Ve=Be[1],Ke=Object(i.useState)(!0),Ee=Object(o.a)(Ke,2),He=Ee[0],qe=Ee[1],Me=Object(i.useState)(!1),Re=Object(o.a)(Me,2),Je=Re[0],Ze=Re[1],Qe=Object(i.useState)("--"),Ge=Object(o.a)(Qe,2),We=Ge[0],ze=Ge[1],Xe=Object(i.useState)(!1),Ye=Object(o.a)(Xe,2),$e=Ye[0],et=Ye[1],tt=Object(i.useState)(),at=Object(o.a)(tt,2),nt=at[0],ct=void 0===nt?he(!1):nt,rt=at[1],st=Object(i.useState)(!1),ot=Object(o.a)(st,2),it=ot[0],ut=ot[1],lt=Object(i.useState)(!1),bt=Object(o.a)(lt,2),jt=bt[0],pt=bt[1],dt=Object(i.useState)(ne),Ot=Object(o.a)(dt,2),ft=Ot[0],xt=Ot[1],vt=Object(i.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={};return ce.map((function(a){t[a]=e})),t}("--")),gt=Object(o.a)(vt,2),mt=gt[0],ht=gt[1],wt=null,kt=null;Object(i.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:jt&&_t();case 1:case"end":return e.stop()}}),e)}))),[ye,Ce,Ae,Fe,ct]),Object(i.useEffect)((function(){Mt(ye,Je)}),[ye]),Object(i.useEffect)((function(){Rt(mt,Je)}),[mt]);var _t=function(){return Ce!==V&&Object(h.fb)(Ce).gt(100)?(ut(l.a.get("error.e3")),!0):function(){var e=$e?mt:ye;for(var t in e)if(Object(h.fb)(e[t]).gt(0)||"--"===e[t])return!1;return!0}()?(ut(l.a.get("error.e4")),!0):Ae===K&&(Pt()||Ce===V)&&(Object(h.a)(Fe).lt(.1)||Object(h.a)(Fe).gt(50)||Object(h.a)(Fe).isNaN())?(ut(l.a.get("error.e5")),!0):(ut(!1),!1)},yt=function(e,a){return(t=t||Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,o,i,u,l,b,j,p,d,O,f,x;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.length,c=t.map((function(e){return e.inputValue.isNaN()?0:e.inputValue._toIntegerDown()._toHex()}))||[],!$e){e.next=29;break}return e.next=6,Object(m.f)(c,!1,fe);case 6:if((s=e.sent).success){e.next=9;break}return e.abrupt("return");case 9:if(o=s.value,i=o.times(Object(h.a)(1).plus(Object(h.a)(F).times(n).div(4*(n-1)).div(1e10))),u=Object(h.a)(100).plus(a).div(100),i=i.times(u)._toIntegerDown(),Object(h.a)(i).gt(le.swapBalanceInfo.userUsdcLpBalance)&&(i=le.swapBalanceInfo.userUsdcLpBalance),!He||!Object(h.a)(le.userLpAllowance).lt(i)){e.next=23;break}return e.next=17,W.approveToken(xe,fe,{title:"deposit.approve_token",obj:{value:ge},continuous:!0},[["".concat(je,"/getUserLp")]]);case 17:if(!e.sent){e.next=22;break}qe(!1),e.next=23;break;case 22:return e.abrupt("return");case 23:return l=i._toHex(),b={title:"actions.remove",obj:{detail:de?Object(N.a)(mt,oe):Object(h.A)(mt,oe)}},e.next=27,W.removeLiqImBalanceBUSD2USD(fe,c,l,b,[["".concat(je,"/updateCurrencyData")]]);case 27:return e.sent,e.abrupt("return");case 29:return e.next=31,Object(m.e)(c,!1,Oe);case 31:if((j=e.sent).success){e.next=34;break}return e.abrupt("return");case 34:if(p=j.value,d=p.times(Object(h.a)(1).plus(Object(h.a)(F).times(n).div(4*(n-1)).div(1e10))),O=Object(h.a)(100).plus(a).div(100),d=d.times(O)._toIntegerDown(),Object(h.a)(d).gt(le.swapBalanceInfo.userUsdcLpBalance)&&(d=le.swapBalanceInfo.userUsdcLpBalance),!He||!Object(h.a)(le.userLpAllowance).lt(d)){e.next=48;break}return e.next=42,W.approveToken(xe,Oe,{title:"deposit.approve_token",obj:{value:me},continuous:!0},[["".concat(pe,"/getUserLp")]]);case 42:if(!e.sent){e.next=47;break}qe(!1),e.next=48;break;case 47:return e.abrupt("return");case 48:return f=d._toHex(),x={title:"actions.remove",obj:{detail:de?Object(N.a)(ye,se+"lp"):Object(h.A)(ye,se+"lp")}},e.next=52,W.removeLiqImBalanceBUSD(Oe,c,f,x,[["".concat(pe,"/updateCurrencyData")]]);case 52:e.sent,e.next=58;break;case 55:e.prev=55,e.t0=e.catch(0),console.log("removeLiqImBalance",e.t0);case 58:case"end":return e.stop()}}),e,null,[[0,55]])})))).apply(this,arguments)},St=function(e,t){return(a=a||Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,o,i,u,l,b,j,p,d,O,f,x;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!$e){e.next=25;break}return e.next=4,It(a,t,Ce);case 4:if(n=e.sent){e.next=7;break}return e.abrupt("return");case 7:if(c=n.userLpBalance,s=n.userLpAllowanceUsdcSwap,o=n.minAmounts,i=Object(h.fb)(Ce).div(100).times(c)._toIntegerDown(),!He||!Object(h.a)(s).lt(i._toIntegerDown())){e.next=18;break}return e.next=12,W.approveToken(xe,fe,{title:"deposit.approve_token",obj:{value:ge},continuous:!0},[["".concat(je,"/getUserLp")]]);case 12:if(!e.sent){e.next=17;break}qe(!1),e.next=18;break;case 17:return e.abrupt("return");case 18:return u={title:"actions.remove",obj:{detail:de?Object(N.a)(mt,oe):Object(h.A)(mt,oe)}},l=i._toHex(),e.next=22,W.removeLiquidityBUSD2USD(fe,l,o,u,[["".concat(je,"/updateCurrencyData")]]);case 22:e.sent,e.next=46;break;case 25:return e.next=27,Dt(a,t,Ce);case 27:if(b=e.sent){e.next=30;break}return e.abrupt("return");case 30:if(j=b.userLpBalance,p=b.userLpAllowance,d=b.minAmounts,O=Object(h.fb)(Ce).div(100).times(j)._toIntegerDown(),!He||!Object(h.a)(p).lt(O._toIntegerDown())){e.next=41;break}return e.next=35,W.approveToken(xe,Oe,{title:"deposit.approve_token",obj:{value:me},continuous:!0},[["".concat(pe,"/getUserLp")]]);case 35:if(!e.sent){e.next=40;break}qe(!1),e.next=41;break;case 40:return e.abrupt("return");case 41:return f={title:"actions.remove",obj:{detail:de?Object(N.a)(ye,se+"lp"):Object(h.A)(ye,se+"lp")}},x=O._toHex(),e.next=45,W.removeLiquidityBUSD(Oe,x,d,f,[["".concat(pe,"/updateCurrencyData")]]);case 45:e.sent;case 46:e.next=51;break;case 48:e.prev=48,e.t0=e.catch(0),console.log(e.t0);case 51:case"end":return e.stop()}}),e,null,[[0,48]])})))).apply(this,arguments)},Nt=function(e,t,a){return(u=u||Object(s.a)(Object(r.a)().mark((function e(t,a,n){var c,s,o,i,u,l,b,j,p,d,O,f,x,v,g,w,k,_,y,S,P,C,L,D,I,A,U,T,B,V,K,E,H,q,M,R,J,Z;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!$e){e.next=37;break}return e.next=4,Object(m.rb)(re,a,t,"2Pool_2"===ue?ue:"2poollp",se);case 4:if((c=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:if(s=c.balances3pool,o=c.balancesUsdc,i=c.sun3LpBalance,u=c.sun3TotalSupply,l=c.usdcLpTotalSupply,b=c.userLpAllowance,j=c.userUsdcLpBalance,Lt({balances3pool:s,balancesUsdc:o,sun3LpBalance:i,sun3TotalSupply:u,usdcLpTotalSupply:l,userLpAllowance:b,userUsdcLpBalance:j,coins:t}),p=Object(h.fb)(Ce).div(100).times(j)._toIntegerDown(),!He||!Object(h.a)(b).lt(p._toIntegerDown())){e.next=19;break}return e.next=13,W.approveToken(xe,fe,{title:"deposit.approve_token",obj:{value:ge},continuous:!0},[["".concat(je,"/getUserLp")]]);case 13:if(!e.sent){e.next=18;break}qe(!1),e.next=19;break;case 18:return e.abrupt("return");case 19:for(f in d=p._toHex(),O=!1,ct)!0===ct[f]&&(O=ae[f].index);return e.next=24,Object(m.r)(d,O,fe);case 24:if((x=e.sent).success){e.next=27;break}return e.abrupt("return");case 27:return v=x.value,g=t.length,w=v.times(Object(h.a)(1).minus(Object(h.a)(F).times(g).div(4*(g-1)).div(1e10))),k=Object(h.a)(100).div(Object(h.a)(100).plus(n)),_=w.times(k)._toIntegerDown()._toHex(),y={title:"actions.remove",obj:{detail:de?Object(N.a)(mt,oe):Object(h.A)(mt,oe)}},e.next=35,W.removeLiqOneCoinBUSD2USD(fe,d,O,_,y,[["".concat(je,"/updateCurrencyData")]]);case 35:return e.sent,e.abrupt("return");case 37:return e.next=39,Object(m.rb)(re,a,t,"2Pool_2"===ue?ue:"2poollp",se);case 39:if((S=e.sent).success){e.next=42;break}return e.abrupt("return");case 42:if(P=S.balances3pool,C=S.balancesUsdc,L=S.sun3LpBalance,D=S.sun3TotalSupply,I=S.usdcLpTotalSupply,A=S.userLpAllowance,U=S.userUsdcLpBalance,Ct({balances3pool:P,balancesUsdc:C,sun3LpBalance:L,sun3TotalSupply:D,usdcLpTotalSupply:I,userLpAllowance:A,userUsdcLpBalance:U,coins:t}),T=Object(h.fb)(Ce).div(100).times(U)._toIntegerDown(),!He||!Object(h.a)(A).lt(T._toIntegerDown())){e.next=54;break}return e.next=48,W.approveToken(xe,Oe,{title:"deposit.approve_token",obj:{value:me},continuous:!0},[["".concat(pe,"/getUserLp")]]);case 48:if(!e.sent){e.next=53;break}qe(!1),e.next=54;break;case 53:return e.abrupt("return");case 54:for(K in B=T._toHex(),V=!1,ct)!0===ct[K]&&(V=te[K].index);return e.next=59,Object(m.q)(B,V,Oe);case 59:if((E=e.sent).success){e.next=62;break}return e.abrupt("return");case 62:return H=E.value,q=t.length,M=H.times(Object(h.a)(1).minus(Object(h.a)(F).times(q).div(4*(q-1)).div(1e10))),R=Object(h.a)(100).div(Object(h.a)(100).plus(n)),J=M.times(R)._toIntegerDown()._toHex(),Z={title:"actions.remove",obj:{detail:de?Object(N.a)(ye,se+"lp"):Object(h.A)(ye,se+"lp")}},e.next=70,W.removeLiqOneCoinBUSD(Oe,B,V,J,Z,[["".concat(pe,"/updateCurrencyData")]]);case 70:e.sent,e.next=76;break;case 73:e.prev=73,e.t0=e.catch(0),console.log(e.t0);case 76:case"end":return e.stop()}}),e,null,[[0,73]])})))).apply(this,arguments)},Pt=function(){for(var e in ct)if(ct[e])return e;return!1},Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.balances3pool,a=e.balancesUsdc,n=e.sun3LpBalance,c=e.sun3TotalSupply,r=e.usdcLpTotalSupply,s=(e.userLpAllowance,e.userUsdcLpBalance),o=e.coins;try{var i=[],u=Object(h.a)(s).div(r),l=Object(h.a)(u).times(a),b=Object(h.a)(u).times(n).div(c);return o.map((function(e){var a=e.index,n=e.precision,c=(e.symbol,e.id),r=Object(h.a)(0);r=c===se?l.div(n):b.times(t[c]).div(n),i[a]=r||Object(h.a)(0)})),i}catch(j){return console.log(j),[]}},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.balances3pool,e.balancesUsdc),a=e.sun3LpBalance,n=(e.sun3TotalSupply,e.usdcLpTotalSupply),c=(e.userLpAllowance,e.userUsdcLpBalance),r=e.coins;try{var s=[],o=Object(h.a)(c).div(n),i=Object(h.a)(o).times(t),u=Object(h.a)(o).times(a);return r.map((function(e){var t=e.index,a=e.precision,n=(e.symbol,e.id),c=Object(h.a)(0);c=n===se?i.div(a):u.div(a),s[t]=c||Object(h.a)(0)})),s}catch(l){return console.log(l),[]}},Dt=function(e,t,a){return(T=T||Object(s.a)(Object(r.a)().mark((function e(t,a,n){var c,s,o,i,u,l,b,j,p,d,O,f,x=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=x.length>3&&void 0!==x[3]&&x[3],e.prev=1,e.next=4,Object(m.rb)(re,t,a,"2Pool_2"===ue?ue:"2poollp",se);case 4:if((s=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:return o=s.balances3pool,i=s.balancesUsdc,u=s.sun3LpBalance,l=s.sun3TotalSupply,b=s.usdcLpTotalSupply,j=s.userLpAllowance,p=s.userUsdcLpBalance,d=Ct({balances3pool:o,balancesUsdc:i,sun3LpBalance:u,sun3TotalSupply:l,usdcLpTotalSupply:b,userLpAllowance:j,userUsdcLpBalance:p,coins:a}),O=[],f={},a.map((function(e){var t=e.index,a=e.id,r=e.decimal,s=(e.precision,Object(h.fb)(n).div(100).times(d[t]));c||(s=Object(h.a)(.98).times(s)),O[t]=s._toIntegerDown()._toHex(),f[a]=Object(h.c)(s._toFixed(r,1))})),e.abrupt("return",{balances:d,userLpAllowance:j,minAmounts:O,amountsStr:f,userLpBalance:p});case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)},It=function(e,t,a){return(E=E||Object(s.a)(Object(r.a)().mark((function e(t,a,n){var c,s,o,i,u,l,b,j,p,d,O,f,x,v=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=v.length>3&&void 0!==v[3]&&v[3],e.prev=1,e.next=4,Object(m.rb)(re,t,a,"2Pool_2"===ue?ue:"2poollp",se);case 4:if((s=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:return o=s.balances3pool,i=s.balancesUsdc,u=s.sun3LpBalance,l=s.sun3TotalSupply,b=s.usdcLpTotalSupply,j=s.userLpAllowance,p=s.userUsdcLpBalance,d=s.userLpAllowanceUsdcSwap,O=Lt({balances3pool:o,balancesUsdc:i,sun3LpBalance:u,sun3TotalSupply:l,usdcLpTotalSupply:b,userLpAllowance:j,userUsdcLpBalance:p,coins:a}),f=[],x={},a.map((function(e){var t=e.index,a=e.id,r=e.decimal,s=(e.precision,Object(h.fb)(n).div(100).times(O[t]));c||(s=Object(h.a)(.98).times(s)),f[t]=s._toIntegerDown()._toHex(),x[a]=s._toFixed(r,1)})),e.abrupt("return",{balances:O,userLpAllowance:j,minAmounts:f,amountsStr:x,userLpBalance:p,userLpAllowanceUsdcSwap:d});case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)},At=function(e,t){return(H=H||Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,o,i,u,l,b,j,p;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le.getUserLp();case 3:return n=le.swapBalanceInfo.userUsdcLpBalance,c=te[t],s=c.precision,o=c.decimal,i=Object(h.fb)(a).div(100).times(n)._toIntegerDown(),u=te[t].index,l=i._toHex(),e.next=10,Object(m.q)(l,u,Oe);case 10:if((b=e.sent).success){e.next=13;break}return e.abrupt("return",!1);case 13:return j=b.value,p=Object(h.a)(j).div(s)._toFixed(o,1),e.abrupt("return",p);case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)},Ut=function(e,t){return(q=q||Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,o,i,u,l,b,j,p;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.getUserLp();case 3:return n=be.swapBalanceInfo.userUsdcLpBalance,c=ae[t],s=c.precision,o=c.decimal,i=Object(h.fb)(a).div(100).times(n)._toIntegerDown(),u=ae[t].index,l=i._toHex(),e.next=10,Object(m.r)(l,u,fe);case 10:if((b=e.sent).success){e.next=13;break}return e.abrupt("return",!1);case 13:return j=b.value,p=Object(h.a)(j).div(s)._toFixed(o,1),e.abrupt("return",p);case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)},Tt=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(be.getSwapBalance(),be.getVirtualPriceBUSD(fe),be.getVolData()):(le.getSwapBalance(),le.getVirtualPriceBUSD(fe),le.getVolData())},Bt=function(){return(M=M||Object(s.a)(Object(r.a)().mark((function e(){var t,a,n=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length>0&&void 0!==n[0]&&n[0]){e.next=9;break}return e.next=4,Promise.all([le.getUserLp(),le.getBalanceInfo()]);case 4:t={},ne.map((function(e){var a=le.poolData[e],n=a.userSwapBalance,c=a.decimal;t[e]=Object(h.c)(Object(h.a)(n)._toFixed(c,1))})),Se(t),e.next=14;break;case 9:return e.next=11,Promise.all([be.getSwapBalance(),be.getUserLp(),be.getBalanceInfo()]);case 11:a={},ce.map((function(e){var t=be.poolData[e],n=t.userSwapBalance,c=t.decimal;a[e]=Object(h.c)(Object(h.a)(n)._toFixed(c,1))})),ht(a);case 14:!jt&&pt(!0),wt||(wt=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tt(!1),e.next=3,le.getUserLp();case 3:case"end":return e.stop()}}),e)}))),z.defaultIntervalSec));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)};Object(i.useEffect)((function(){!kt&&$e&&(kt=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tt(!0),e.next=3,be.getUserLp();case 3:case"end":return e.stop()}}),e)}))),z.defaultIntervalSec))}),[$e]),Object(i.useEffect)((function(){return le.initPage(Y),Bt(),Tt(),function(){clearInterval(wt),clearInterval(kt)}}),[]);var Ft=function(e,t){return(R=R||Object(s.a)(Object(r.a)().mark((function e(t,a){var s,o,i,u,l,b,j,p;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!jt&&pt(!0),s=Ce,o={},i={},u={},!$e){e.next=22;break}if(!t){e.next=18;break}for(l in Ze(!0),mt)l!==a&&(o[l]=!1,u[l]=0);return rt(Object(c.a)(Object(c.a)(Object(c.a)({},mt),o),{},Object(n.a)({},a,t))),(Ce===V||Object(h.fb)(Ce).lte(0))&&Le(s="100.00"),Object(h.fb)(s).gt(100)&&(s=100),e.next=14,Ut(a,s);case 14:(b=e.sent)&&ht(Object(c.a)(Object(c.a)(Object(c.a)({},mt),u),{},Object(n.a)({},a,Object(h.c)(b)))),e.next=21;break;case 18:Le(V),Ze(!1),rt(Object(c.a)(Object(c.a)({},ct),{},Object(n.a)({},a,t)));case 21:return e.abrupt("return");case 22:if(!t){e.next=34;break}for(j in Ze(!0),ct)j!==a&&(o[j]=!1,i[j]=0);return rt(Object(c.a)(Object(c.a)(Object(c.a)({},ct),o),{},Object(n.a)({},a,t))),(Ce===V||Object(h.fb)(Ce).lte(0))&&Le(s="100.00"),Object(h.fb)(s).gt(100)&&(s=100),e.next=30,At(a,s);case 30:(p=e.sent)&&Se(Object(c.a)(Object(c.a)(Object(c.a)({},ye),i),{},Object(n.a)({},a,Object(h.c)(p)))),e.next=37;break;case 34:Le(V),Ze(!1),rt(Object(c.a)(Object(c.a)({},ct),{},Object(n.a)({},a,t)));case 37:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Vt=function(e){Le("100"),e?(xt(ce),clearInterval(wt)):(xt(ne),clearInterval(kt)),et(e),Ze(!1),rt(he(!1)),Tt(e),Bt(e)},Kt=function(){var e={},t={};ne.map((function(a){e[a]=0,t[0]=!1})),Se(e),rt(ct),Le(0)},Et=function(){var e={},t={};ce.map((function(a){e[a]=0,t[0]=!1})),ht(e),rt(ct),Le(0)},Ht=function(){var e={};ne.map((function(t){e[t]=0})),Se(e)},qt=function(){var e={};ce.map((function(t){e[t]=0})),ht(e)},Mt=function(e,t){return(Z=Z||Object(s.a)(Object(r.a)().mark((function e(t,a){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.calcInclPrice(t,!1,a);case 2:n=e.sent,ze(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Rt=function(e,t){return(Q=Q||Object(s.a)(Object(r.a)().mark((function e(t,a){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.calcInclPrice(t,!1,a);case 2:n=e.sent,ze(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Jt=function(e){return(G=G||Object(s.a)(Object(r.a)().mark((function e(t){var a,s,o,i,u,l,b,j,p,d,O,f,x,v,g,m,w,k,_,y,S;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!jt&&pt(!0),s=t.target.value,o=s.split("."),(null===(a=o[1])||void 0===a?void 0:a.length)>2&&(s="".concat(o[0]+"."+o[1].substr(0,2))),!Object(h.a)(s).gt(100)){e.next=6;break}return e.abrupt("return");case 6:if(i=Object(h.V)(s,10),u=i.valid,l=i.str,Ce!==V){e.next=9;break}return e.abrupt("return",$e?Et():Kt());case 9:if(""!==s){e.next=12;break}return Le(""),e.abrupt("return",$e?qt():Ht());case 12:if(!u){e.next=50;break}if(Le(l),!(b=Object(h.a)(l).gt(100)?Object(h.a)(100):Object(h.a)(l)).isNaN()){e.next=17;break}return e.abrupt("return");case 17:if(z.defaultAccount){e.next=19;break}return e.abrupt("return");case 19:if(j=z.defaultAccount,p=Pt(),!$e){e.next=37;break}if(!p){e.next=27;break}return e.next=25,Ut(p,b);case 25:return d=e.sent,e.abrupt("return",d&&ht(Object(c.a)(Object(c.a)({},mt),{},Object(n.a)({},p,Object(h.c)(d)))));case 27:if(l===V){e.next=36;break}return O=[],ce.map((function(e){O.push(Object(c.a)({},ae[e]))})),f=O.sort((function(e,t){return e.index-t.index})),e.next=33,It(j,f,l,!0);case 33:x=e.sent,v=x.amountsStr,g=void 0===v?{}:v,x&&ht(g);case 36:return e.abrupt("return");case 37:if(!p){e.next=42;break}return e.next=40,At(p,b);case 40:return m=e.sent,e.abrupt("return",m&&Se(Object(c.a)(Object(c.a)({},ye),{},Object(n.a)({},p,Object(h.c)(m)))));case 42:if(l===V){e.next=50;break}return w=[],ne.map((function(e){w.push(Object(c.a)({},te[e]))})),k=w.sort((function(e,t){return e.index-t.index})),e.next=48,Dt(j,k,l,!0);case 48:_=e.sent,s===t.target.value&&(y=_.amountsStr,S=void 0===y?{}:y,_&&Se(S));case 50:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Zt=function(e){!jt&&pt(!0),Ue(e),e!==V&&Ve("")},Qt=function(e){var t=Object(h.V)(e,10),a=t.valid,n=t.str;if(a)if(""===n)Ve("");else if(Object(h.a)(n).lte(100)){var c,r=n,s=n.split(".");(null===(c=s[1])||void 0===c?void 0:c.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),Ve(r)}},Gt=function(e){return Pt()||Ce===V?Object(U.jsx)("div",{className:"flex start mt-20",children:Object(U.jsx)(L.a,{slippage:e,customSlippage:Fe,CUSTOM_SLIPPAGE:K,onChangeSlippage:Zt,onChangeCustomSlippage:Qt})}):Object(U.jsx)(U.Fragment,{})};return Object(U.jsx)(f.a,{children:function(){return Object(U.jsxs)(b.a,{gutter:[{xs:8,sm:16,md:32},20],children:[Object(U.jsxs)(j.a,{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:15},children:[Object(U.jsx)(D.a,{list:$,activeKey:ee[0]}),Object(U.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(k.a,{routeName:"usdc/withdraw",mountedActions:Bt,instantActions:Tt}),Object(U.jsx)(_.a,{title:l.a.get("buysell.usdc_pool")+" "+l.a.get("banner.title_withdraw"),desc:l.a.get("banner.desc_withdraw")}),Object(U.jsx)(y.a,{})]}):null,z.isConnected?Object(U.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(U.jsxs)("div",{className:"add-liq withdraw-liq",children:[Object(U.jsxs)("div",{className:"flex",children:[l.a.get("withdraw.share_of_liq"),Object(U.jsx)(A.a,{className:"flex-1 ml-20",showMax:!1,placeholder:"100.00",value:Ce,onChange:Jt})]}),Object(U.jsxs)("fieldset",{className:"currencies mt-35",children:[Object(U.jsx)("legend",{children:l.a.get("deposit.currencies")}),Object(U.jsx)("ul",{children:ft.map((function(e){var t=($e?ae[e]:te[e]).symbol,a=void 0===t?"":t;return Object(U.jsxs)("li",{children:[Object(U.jsx)("div",{className:"cur-label",children:Object(U.jsxs)("span",{className:"icon",children:[e===ue?Object(U.jsx)("img",{src:v.a[oe]?v.a[oe]:O.default,alt:"",className:"token-logo"}):Object(U.jsx)("img",{src:v.a[e]?v.a[e]:O.default,alt:"",className:"token-logo"}),a]})}),Object(U.jsx)(A.a,{showMax:!1,value:$e?mt[e]:ye[e],onChange:function(t){!function(e,t){(J=J||Object(s.a)(Object(r.a)().mark((function e(t,a){var s,o,i,u,l,b,j,p,d,O,f,x;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!jt&&pt(!0),!$e){e.next=11;break}for(b in s=ae[a].decimal,o=Object(h.V)((""+t.target.value).replace(/,/g,""),s),i=o.valid,u=o.str,i&&ht(Object(c.a)(Object(c.a)({},mt),{},Object(n.a)({},a,Object(h.c)(u)))),Le(V),Ze(!1),l={},ct)l[b]=!1;return rt(l),e.abrupt("return");case 11:for(x in j=te[a].decimal,p=Object(h.V)((""+t.target.value).replace(/,/g,""),j),d=p.valid,O=p.str,d&&Se(Object(c.a)(Object(c.a)({},ye),{},Object(n.a)({},a,Object(h.c)(O)))),Le(V),Ze(!1),f={},ct)f[x]=!1;rt(f);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(t,e)}})]},e)}))})]}),Object(h.ab)(We),Object(U.jsxs)("fieldset",{children:[Object(U.jsxs)("legend",{className:"flex aic jcs pt20",children:[Object(U.jsx)("span",{className:"mr-10",children:l.a.get("withdraw.withdraw_text")}),Object(U.jsx)(p.a,{title:l.a.get("withdraw.tip"),children:Object(U.jsx)(d.a,{})})]}),Object(U.jsxs)("div",{className:"withdraw-one mt-10",children:[ft.map((function(e){var t=($e?ae[e]:te[e]).symbol,a=void 0===t?"":t,n=e===ue?v.a[oe]?v.a[oe]:O.default:v.a[e]?v.a[e]:O.default;return Object(U.jsx)(P.a,{id:e,checked:ct[e],tokenLogo:n,symbol:a,onChange:Ft})})),Object(U.jsx)(P.a,{checked:$e,symbol:l.a.get("withdraw.".concat(de?"as_2Pool_2_LP":"as_2usd_LP")),onChange:Vt})]})]}),Gt(Ae),it?Object(U.jsx)(C.a,{styleName:"mt-40",type:"single",disabled:!0,info:l.a.get("withdraw.action")}):Object(U.jsx)(C.a,{styleName:"mt-40",type:"single",info:l.a.get("withdraw.action"),onClick:function(){return function(t){return(g=g||Object(s.a)(Object(r.a)().mark((function t(a){var n,s,o,i;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,z.defaultAccount){t.next=3;break}return t.abrupt("return");case 3:if(!jt&&pt(!0),it){t.next=8;break}if(!_t(a)){t.next=8;break}return t.abrupt("return");case 8:if(!it){t.next=10;break}return t.abrupt("return");case 10:if(n=z.defaultAccount,s=[],$e?ce.map((function(e){s.push(Object(c.a)(Object(c.a)({},ae[e]),{},{inputValue:Object(h.fb)(a[e]).times(ae[e].precision)}))})):ne.map((function(e){s.push(Object(c.a)(Object(c.a)({},te[e]),{},{inputValue:Object(h.fb)(a[e]).times(te[e].precision)}))})),o=s.sort((function(e,t){return e.index-t.index})),i=Ae===K?Fe:Ae,e.onSubmit&&e.onSubmit(),!Je){t.next=20;break}return t.next=19,Nt(o,n,i);case 19:return t.abrupt("return",t.sent);case 20:if(Ce===V){t.next=24;break}return t.next=23,St(o,n);case 23:return t.abrupt("return",t.sent);case 24:return t.next=26,yt(o,i);case 26:return t.abrupt("return",t.sent);case 29:t.prev=29,t.t0=t.catch(0),console.log("\u63d0\u73b0\u5931\u8d25",t.t0);case 32:case"end":return t.stop()}}),t,null,[[0,29]])})))).apply(this,arguments)}($e?mt:ye)}}),it&&Object(U.jsx)("div",{className:"error-content mt-12",children:Object(U.jsx)("div",{className:"error-tip",children:it})})]})}):Object(U.jsx)(I.a,{})]})]}),Object(U.jsx)(j.a,{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:9},children:Object(U.jsx)(w.a,{type:$e?"2usdlp":se,className:z.isConnected?null:"window-for-tabs-pane",curveConfig:X})})]})}})}},1941:function(e,t,a){"use strict";a.r(t);var n=a(11),c=a(0),r=a(2),s=a(5),o=a(1931),i=a(1933),u=a(1954),l=a(78),b=a(3),j=a.n(b),p=a(65),d=a(15),O=a.n(d),f=(a(1076),a(1079),a(6),a(110)),x=a(1123),v=a(1057),g=a(1157),m=a(1102),h=a(1158),w=a(1159),k=a(1081),_=a(64),y=a(40),S=a(1068),N=a(1061),P=a(1058),C=a(1062),L=a(7),D={curveSymbol:"tusd",curveLPSymbol:"tusd2pool",busd2PoolKeys:Object(y.c)("2PoolKeys"),busd2PoolPools:Object(y.c)("2PoolPools"),busd2PoolIndex:Object(y.c)("2PoolIndex"),busd2PoolContracts:Object(y.c)("2PoolContracts"),busdusdPoolKeys:Object(y.c)("usdPoolKeys"),busdusdPools:Object(y.c)("usdPools"),busdUsdPoolIndex:Object(y.c)("UsdPoolIndex"),currencyBUSDKeys:Object(y.g)()},I=D.busd2PoolContracts,A=Object(k.a)({childPage:_.h.liquidity_busd2pool}),U=A.tabChangeLog,T=A.tabSubmitLog,B=function(e){var t=e.onSubmit,a=e.curveConfig,n=e.pageList,c=e.tabPaneKey,r=e.isConnected;return Object(L.jsxs)(o.a,Object(s.a)(Object(s.a)({},N.a.row),{},{children:[Object(L.jsxs)(i.a,Object(s.a)(Object(s.a)({},N.a.colLeft),{},{children:[Object(L.jsx)(P.a,{list:n,activeKey:c[0]}),r?Object(L.jsx)("div",{className:"window-for-tabs-pane",children:Object(L.jsx)(g.a,{curveConfig:a,onSubmit:t})}):Object(L.jsx)(C.a,{})]})),Object(L.jsx)(i.a,Object(s.a)(Object(s.a)({},N.a.colRight),{},{children:Object(L.jsx)(m.a,{curveConfig:a})}))]}))},F={1:{title:O.a.get("banner.title_deposit"),content:O.a.get("banner.desc_deposit"),tabTitle:O.a.get("header.deposit")},2:{title:O.a.get("banner.title_withdraw"),content:O.a.get("banner.desc_withdraw"),tabTitle:O.a.get("header.withdraw")},3:{title:O.a.get("banner.title_1"),content:O.a.get("banner.desc_1"),tabTitle:O.a.get("header.swap")}};t.default=function(){var e=Object(p.h)().pathname,t=Object(x.usePoolTab)(),a=t.title,o=t.tabKey,i=Object(l.d)((function(){return f.a.busdPool})),d=Object(l.d)((function(){return f.a.usd2Pool})),g=j.a.useState(o),m=Object(n.a)(g,2),k=m[0],_=m[1],y=function(){var e,t,a=null,n=Object(l.d)((function(){return f.a.busdPool})),s=Object(l.d)((function(){return f.a.usd2Pool})),o=Object(l.d)((function(){return f.a.network})),i=function(t){return(e=e||Object(r.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t||(n.initPage(),s.initPage()),n.getSwapBalance(),n.getVirtualPriceBUSD(I.usdcSwap),n.getVolData();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)};return j.a.useEffect((function(){return function(){clearInterval(a)}}),[]),{mountedActions:function(){return(t=t||Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.getUserLp(),e.next=3,n.getBalanceInfo(I.usdcSwap);case 3:return e.next=5,n.getBalanceInfo(I.USDCDepositer);case 5:a||(a=setInterval(Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),n.getUserLp(),e.next=4,n.getBalanceInfo(I.usdcSwap);case 4:return e.next=6,n.getBalanceInfo(I.USDCDepositer);case 6:case"end":return e.stop()}}),e)}))),o.defaultIntervalSec));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},instantActions:i}}(),P=y.mountedActions,C=y.instantActions,A=window.localStorage.getItem("lang");Object(b.useEffect)((function(){return console.log("pathname tusd",e),i.initPage(),d.initPage(),function(){i.initPage(),d.initPage()}}),[e]);var V=Object(b.useCallback)((function(e){var t=e.value;_(t),U(t)}),[]),K=function(){var e=window.localStorage.getItem("lang")||O.a.options.currentLocale,t=window.location.origin+window.location.pathname;window.location.href=t+"?lang=".concat(e,"#/sunCurve")},E=Object(b.useMemo)((function(){return{shouldScroll:!0,navRightMoreShow:!0,navRightMoreClick:K}}),[]),H=Object(b.useMemo)((function(){return N.b.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{handler:V})}))}),[V]),q=Object(l.d)((function(){return f.a.network}));return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(v.a,{mountedActions:P,instantActions:C,subNavProps:E}),Object(L.jsxs)("div",{className:"main-page-content",children:[Object(L.jsx)(S.a,{title:"".concat(a).concat("en-US"===A?" ":"").concat(O.a.get("buysell.Pool")).concat("en-US"===A?" ":"").concat(F[k[0]].title),subTitle:F[k[0]].content}),Object(L.jsx)("div",{className:"pool-tabs",children:Object(L.jsxs)(u.a,{activeKey:k[0],centered:!0,onChange:V,renderTabBar:function(){return null},children:[Object(L.jsx)(u.a.TabPane,{tab:Object(x.renderTab)("1"),children:Object(L.jsx)(h.a,{curveConfig:D,onSubmit:function(){return T("1")},pageList:H,tabPaneKey:k})},"1"),Object(L.jsx)(u.a.TabPane,{tab:Object(x.renderTab)("2"),children:Object(L.jsx)(w.a,{curveConfig:D,onSubmit:function(){return T("2")},pageList:H,tabPaneKey:k})},"2"),Object(L.jsx)(u.a.TabPane,{tab:Object(x.renderTab)("3"),children:Object(L.jsx)(B,{curveConfig:D,onSubmit:function(e){return T("3",{event_label:e,txid:e})},pageList:H,tabPaneKey:k,isConnected:q.isConnected})},"3")]})})]})]})}}}]);