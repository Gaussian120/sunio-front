(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[32],{1759:function(e,t,a){"use strict";a.r(t),a.d(t,"renderTab",(function(){return ve})),a.d(t,"usePoolTab",(function(){return ge}));var n=a(4),c=a(0),r=a(2),s=a(14),i=a(1743),o=a(1327),u=a(1328),l=a(84),b=a(3),j=a(20),d=a.n(j),p=(a(912),a(915),a(171)),O=a(893),f=a(931),v=(a(1709),a(1708)),x=(a(1307),a(933),a(271)),g=a(916),m=a(6),h=a(15),w=a(27),_=a(1),k=a(899),y=a(900),S=a(894),N=a(923),C=a(10);function A(e){var t=Object(b.useState)(1),a=Object(s.a)(t,2),i=a[0],o=a[1],u=Object(b.useState)(1),j=Object(s.a)(u,2),O=j[0],A=j[1],P=Object(b.useState)(0),T=Object(s.a)(P,2),L=T[0],D=T[1],I=Object(b.useState)(1),F=Object(s.a)(I,2),B=F[0],U=F[1],V=Object(b.useState)(-1),E=Object(s.a)(V,2),K=E[0],M=E[1],R=Object(b.useState)(1),H=Object(s.a)(R,2),q=H[0],J=H[1],Z=Object(b.useState)(.005),z=Object(s.a)(Z,2),Q=z[0],W=z[1],Y=Object(b.useState)(""),G=Object(s.a)(Y,2),X=G[0],$=G[1],ee=Object(b.useState)(!0),te=Object(s.a)(ee,2),ae=(te[0],te[1],Object(b.useState)("")),ne=Object(s.a)(ae,2),ce=ne[0],re=ne[1],se=Object(b.useState)(!1),ie=Object(s.a)(se,2),oe=ie[0],ue=ie[1],le=m.a.usdcusdtPools,be=m.a.usdcusdtPoolIndex,je=m.a.usdcusdtPoolKeys,de=m.a.usdcusdtPoolContracts.stablePool,pe=Object(l.d)((function(){return p.a.network})),Oe=Object(l.d)((function(){return p.a.system})),fe=Object(l.d)((function(){return p.a.usdcusdtPool})),ve=Object(b.useState)(!1),xe=Object(s.a)(ve,2),ge=xe[0],me=xe[1];Object(b.useEffect)((function(){we({i:i,j:L,dx:O})}),[]);var he=function(e){var t=Object.assign({},(Object(f.a)(e),e));ue(!oe),_e(Object(n.a)(Object(n.a)({},t),{},{exchangeFlags:!oe}))},we=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){var a,n,r,s,o,u,l;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},(Object(f.a)(t),t)),e.prev=1,n=void 0===a.i?i:a.i,r=void 0===a.j?L:a.j,s=void 0===a.dx?Object(_.cb)(O):Object(_.cb)(a.dx),Object(_.a)(s).gt(0)){e.next=8;break}return U(0),e.abrupt("return");case 8:return o=Object(_.a)(s).times(le[be[n]].precision)._toIntegerDown()._toHex(),u=null,e.next=12,Object(h.S)(n,r,o,de);case 12:(u=e.sent).success?(l=Object(_.a)(u.value).div(le[be[r]].precision),U(Object(_.c)(Object(_.a)(l)._toFixed(le[be[r]].decimal,1))),J(Object(_.a)(u.value))):(U(0),J(1)),a.notChangeRate||_e({i:n,j:r,dx:s}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("getDyData: ",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){var a,n,r,s,o,u,l,b;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},(Object(f.a)(t),t)),e.prev=1,n=void 0===a.i?i:a.i,r=void 0===a.j?L:a.j,s=void 0===a.dx?Object(_.cb)(O):Object(_.cb)(a.dx),o=void 0===a.exchangeFlags?oe:a.exchangeFlags,u=Object(_.a)(s).times(le[be[n]].precision)._toIntegerDown()._toHex(),l=null,Object(_.a)(s).gt(0)){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Object(h.S)(n,r,u,de);case 12:(l=e.sent).success&&(b=Object(_.a)(l.value).div(le[be[r]].precision).div(s),M(o?Object(_.a)(1).div(Object(_.a)(b)._toFixed(4,1))._toFixed(4,1):b._toFixed(4,1))),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log("getRateData: ",e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),ke=function(e){var t=L;Number(e)!==Number(i)&&(t=i),o(t),D(e);var a=Object(_.cb)(O)._toFixed(le[be[t]].decimal,1);A(Object(_.c)(a)),we({j:e,i:t,dx:a})},ye=function(e){!ge&&me(!0);var t=Object(_.T)((""+e).replace(/,/g,""),le[be[i]].decimal),a=t.valid,n=t.str,c=fe.poolData&&Object(_.a)(fe.poolData[be[i]].balance).div(le[be[i]].precision)._toFixed(2,1);if(a){if(Object(_.a)(n).lte(0))return A(Object(_.c)(n)),U(0),void re(d.a.get("buysell.error_msg_1"));Object(_.a)(n).gt(c)&&re(d.a.get("buysell.error_msg_2")),A(Object(_.c)(n)),we({dx:n})}},Se=function(){var e=fe.poolData[be[i]],t=e.precision,a=e.balance,n=e.symbol;return a=Object(_.a)(a).div(t),Object(_.cb)(O).eq(0)||Object(_.cb)(O).isNaN()?(re(d.a.get("error.e1")),!0):Object(_.cb)(O).gt(a)?(re(d.a.get("error.e2",{token:n})),!0):2===Q&&(!X||Number(X)<.1||Number(X)>50)?(re(d.a.get("error.e5")),!0):(re(""),!1)};Object(b.useEffect)((function(){ge&&Se()}),[i,L,O,Q,X]);var Ne=function(){var e=fe.poolData&&Object(_.a)(fe.poolData[be[i]].balance).div(le[be[i]].precision);ye(e)},Ce=function(e){!ge&&me(!0),W(e),2!==e&&$("")},Ae=function(e){!ge&&me(!0);var t=Object(_.T)(e,10),a=t.valid,n=t.str;if(a)if(""===n)$("");else if(Object(_.a)(n).lte(100)){var c,r=n,s=n.split(".");(null===(c=s[1])||void 0===c?void 0:c.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),$(r)}},Pe=function(){var e=function(){var e,t,a=i,n=L;if(oe){var c=[n,a];a=c[0],n=c[1]}return Object(C.jsx)(C.Fragment,{children:(null===(e=be[a])||void 0===e?void 0:e.toUpperCase())+"/"+(null===(t=be[n])||void 0===t?void 0:t.toUpperCase())})};return Object(C.jsxs)("p",{className:"exchang-rate-text mt-20",children:[Object(C.jsxs)("span",{className:"en-US"===window.localStorage.getItem("lang")?"er-en":"",children:[d.a.get("buysell.exchange_rate")+" ",Object(C.jsx)(e,{})]}),Object(C.jsx)("img",{style:{cursor:"pointer",margin:"0 6px"},className:"exchange-img",alt:"",src:g.a,onClick:he}),Object(C.jsxs)("span",{children:["(",d.a.get("buysell.including_fees"),"): ",-1===K?d.a.get("buysell.not_available"):K]})]})},Te=function(){var t=function(){var t=Object(r.a)(Object(c.a)().mark((function t(){var a,n,r,s,o,u,l;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!ce){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,a=2!==Q?Q:X?Object(_.a)(X).div(100):0,n=Object(_.a)(q).times(Object(_.a)(1).minus(Object(_.a)(a)))._toIntegerDown()._toHex(),r=i,s=L,o=Object(_.cb)(O).times(le[be[r]].precision)._toIntegerDown()._toHex(),u={title:"notification.tip1",title2:"notification.tip1",title3:"notification.tip1",title4:"notification.tip1",obj:{fromValue:Object(_.t)(Object(_.cb)(O)),fromToken:be[r].toUpperCase(),toValue:Object(_.t)(Object(_.cb)(B)),toToken:be[s].toUpperCase()}},t.next=11,Oe.toExchange(r,s,o,n,u,[["usdcusdtPool/updateCurrencyData"]],de);case 11:(l=t.sent)&&(setTimeout((function(){fe.getBalanceInfo()}),5e3),e.onSubmit&&e.onSubmit(l)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),console.log("sellSubmit: ",t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(){return t.apply(this,arguments)}}(),a=function(){var e=Object(r.a)(Object(c.a)().mark((function e(){var a,n,r,s;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe.isConnected){e.next=3;break}return re(d.a.get("buysell.error_msg_3")),e.abrupt("return");case 3:if(!ge&&me(!0),ce){e.next=8;break}if(!Se()){e.next=8;break}return e.abrupt("return");case 8:if(!ce){e.next=10;break}return e.abrupt("return");case 10:return e.prev=10,e.next=13,Object(h.Sb)(window.defaultAccount,[le[be[i]].token],[de]);case 13:if(a=e.sent,n=a[de].allowance,r=fe.poolData[be[i]].approveStatus,n.gt(0)||r){e.next=29;break}return s={action:"approve",title:"deposit.approve_token",obj:{value:je[i].toUpperCase()},continuous:!0},e.next=20,Oe.approveToken(le[be[i]].token,de,s,[["usdcusdtPool/getBalanceInfo"]]);case 20:if(!e.sent){e.next=26;break}fe.poolData[be[i]].approveStatus=2,t(),e.next=27;break;case 26:return e.abrupt("return");case 27:e.next=30;break;case 29:t();case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(10),console.log("exchangeBefore: ",e.t0);case 35:case"end":return e.stop()}}),e,null,[[10,32]])})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)(C.Fragment,{children:ce?Object(C.jsx)(S.a,{styleName:"mt-40",type:"single",disabled:!0,info:d.a.get("sell_btn")}):Object(C.jsx)(S.a,{styleName:"mt-40",type:"single",info:d.a.get("sell_btn"),onClick:a})})},Le=function(e){var t=e.direction,a=void 0===t?"left":t,n=je,c=le;return Object(C.jsx)("div",{className:"flex start mb-16 pc-input-box",children:n.map((function(e){var t=w.a[e]||x.default,n="left"===a?i:L;return Object(C.jsx)(k.a,{id:e,checked:n===c[e].index,tokenLogo:t,symbol:c[e].symbol,onChange:function(t,n){"left"===a?function(e){var t=i;Number(e)!==Number(L)&&(t=L),D(t),o(e);var a=Object(_.cb)(O)._toFixed(le[be[e]].decimal,1);A(Object(_.c)(a)),we({i:e,j:t,dx:a})}(c[e].index):ke(c[e].index)}})}))})},De=function(){return Object(C.jsx)("span",{className:"exchange-alt",onClick:function(){return function(){!ge&&me(!0);var e=i,t=L,a=B;e!==t&&(o(t),D(e),A(a),we({i:t,j:e,dx:a,notChangeRate:!0}),_e({no:1,i:t,j:e,dx:a}))}()}})},Ie=function(e){var t,a="--";return a=null===(t=fe.poolData[be[i]])||void 0===t?void 0:t.balance,a=Object(_.a)(a).isNaN()?"--":fe.poolData[be[i]].balance.div(fe.poolData[be[i]].precision),Object(C.jsx)("span",{children:fe.poolData&&Object(_.t)(a)})},Fe=Object(N.a)(N.b);return Object(C.jsx)(l.a,{children:function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"exchange-box",children:[Object(C.jsx)(Le,{direction:"left"},"left"),Object(C.jsxs)("div",{className:"input-block",children:[Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("div",{className:"input-number",children:Object(C.jsx)(v.a,{className:"input",value:O,onChange:function(e){return ye(e.target.value)}})}),Object(C.jsx)("span",{className:"max-btn",onClick:Ne,children:d.a.get("sunSwapV3.swap.input_from_max")})]}),Object(C.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(C.jsx)("span",{children:d.a.get("sunSwapV3.swap.input_from_balance")})," ",Ie(fe.poolData)]})]}),Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)(De,{}),!Fe&&Object(C.jsx)("div",{className:"flex start",children:Object(C.jsx)(y.a,{type:"exchange",slippage:Q,customSlippage:X,CUSTOM_SLIPPAGE:2,onChangeSlippage:function(e){Ce(Number(e))},onChangeCustomSlippage:function(e){W(2),Ae(e)}})})]}),Object(C.jsx)(Le,{direction:"right"},"right"),Object(C.jsxs)("div",{className:"input-block",children:[Object(C.jsx)("div",{className:"input-number",children:Object(C.jsx)(v.a,{disabled:!0,className:"input",value:B})}),Object(C.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(C.jsx)("span",{children:d.a.get("sunSwapV3.swap.input_from_balance")})," ",Ie(fe.poolData)]})]}),Object(C.jsx)(Pe,{}),Fe&&Object(C.jsx)("div",{className:"flex start",children:Object(C.jsx)(y.a,{type:"exchange",slippage:Q,customSlippage:X,CUSTOM_SLIPPAGE:2,onChangeSlippage:function(e){Ce(Number(e))},onChangeCustomSlippage:function(e){W(2),Ae(e)}})})]}),Object(C.jsx)(Te,{}),ce&&Object(C.jsx)("div",{className:"error-content mt-12",children:Object(C.jsx)("div",{className:"error-tip",children:ce})})]})}})}a(914);var P=a(928),T=a(926),L=m.a.usdcusdtPoolKeys,D=(m.a.usdcusdtPools,m.a.usdc2poolInfo),I=D.Fee,F=D.ADMIN_FEE,B=function(e){var t=Object(l.d)((function(){return p.a.usdcusdtPool})),a=Object(l.d)((function(){return p.a.network})),n=function(e,t){var a=Object(_.a)(e).times(t).div(1e18);return a.isNaN()?"--":Object(_.t)(a,2)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var a=Object(_.a)(0);for(var n in e){var c=e[n],r=c.userSwapBalance,s=c.priceKey,i=t?t[s]:"--";a=a.plus(Object(_.a)(r).times(i))}return Object(_.t)(a)}catch(o){return console.log(o),"--"}},r=L.map((function(e){return t.poolData[e]})).filter((function(e){return e})),s="".concat(d.a.get("buysell.usdc_2pool2")," ").concat(d.a.get("pool.pool2_contract")),i="2USD LP ".concat(d.a.get("pool.token_contract2")),o=t.volData?t.volData.usdcUsdt2Poolvol24Hours:"";return Object(C.jsx)(l.a,{children:function(){return Object(C.jsxs)("div",{children:[Object(C.jsx)(P.a,{poolTokens:r,totalSwapBalance:t.totalSwapBalance,adminFee:F,fee:I,virtualPrice:t.virtualPrice,dailyVol:o,poolContract:m.a.usdcusdtPoolContracts.stablePool,poolName:s,lpTokenAddress:m.a.usdcusdtPoolContracts.stableLp,lpTokenName:i,aValue:t.A}),a.isConnected&&Object(_.a)(t.sharePer).gt(0)&&Object(C.jsx)(T.a,{sharePer:t.sharePer,usdBalance:c(t.poolData,t.volData),avgUsdBalance:n(t.userLpBalance,t.virtualPrice),userTotalBalance:t.userTotalBalance,myPoolTokens:r})]})}})},U=a(5),V=a(21),E=a(1311),K=a(878),M=a(194),R=a(903),H=(a(909),a(316)),q=a(902),J=a(897),Z=a(895),z=a(898),Q=a(905),W=m.a.usdcusdtPools,Y=m.a.usdcusdtPoolKeys,G=m.a.ALL_FEE,X=m.a.defaultSlippage,$=m.a.usdcusdtPoolContracts.stablePool,ee=function(e){var t=e.tabPaneKey,a=e.pageList,i=Object(l.d)((function(){return p.a.network})),j=Object(l.d)((function(){return p.a.system})),f=Object(l.d)((function(){return p.a.usdcusdtPool})),v=Object(b.useState)(function(){var e={};return Y.map((function(t){e[t]=""})),e}()),g=Object(s.a)(v,2),k=g[0],y=g[1],N=Object(b.useState)(!1),A=Object(s.a)(N,2),P=A[0],T=A[1],L=Object(b.useState)(!0),D=Object(s.a)(L,2),I=D[0],F=D[1],ee=Object(b.useState)(!0),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],ce=Object(b.useState)(!1),re=Object(s.a)(ce,2),se=re[0],ie=re[1],oe=Object(b.useState)("--"),ue=Object(s.a)(oe,2),le=ue[0],be=ue[1],je=Object(b.useState)("--"),de=Object(s.a)(je,2),pe=de[0],Oe=de[1],fe=Object(b.useState)(!1),ve=Object(s.a)(fe,2),xe=ve[0],ge=ve[1],me=Object(b.useState)(!1),he=Object(s.a)(me,2),we=he[0],_e=he[1],ke=Object(b.useState)(!1),ye=Object(s.a)(ke,2),Se=ye[0],Ne=ye[1],Ce=null;Object(b.useEffect)(Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Be(k),Te()]);case 2:xe&&Ie(k);case 3:case"end":return e.stop()}}),e)}))),[k]);var Ae=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,se){e.next=5;break}if(!Ie(t)){e.next=5;break}return e.abrupt("return");case 5:if(!se){e.next=7;break}return e.abrupt("return");case 7:if(!Object(_.a)(le).abs().gt(10)){e.next=9;break}return e.abrupt("return",_e(!0));case 9:return e.next=11,Pe(t);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var t=Object(r.a)(Object(c.a)().mark((function t(a){var r,s,i,o,u,l,b,d,p,O,v,x,g,w,k,y,S,N;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,e.onSubmit&&e.onSubmit(),s=[],Y.map((function(e){s.push(Object(n.a)(Object(n.a)({},f.poolData[e]),{},{inputValue:a[e]?Object(_.cb)(a[e]).times(W[e].precision):Object(_.a)(0)}))})),i=0;case 5:if(!(i<s.length)){t.next=19;break}if(o=s[i],u=o.allowance,l=void 0===u?Object(_.a)(0):u,b=o.inputValue,d=o.token,p=o.symbol,O=o.approveStatus,v=o.id,!Object(_.a)(l).lt(b)||O){t.next=16;break}return t.next=10,j.approveToken(d,$,{title:"deposit.approve_token",obj:{value:p},continuous:!0},[["usdcusdtPool/getBalanceInfo"]]);case 10:if(!t.sent){t.next=15;break}f.poolData[v].approveStatus=2,t.next=16;break;case 15:return t.abrupt("return");case 16:i++,t.next=5;break;case 19:if(x=s.sort((function(e,t){return e.index-t.index})),g=x.length,w=x.map((function(e){return e.inputValue._toIntegerDown()._toHex()}))||[],k=null,!f.lpTotalSupply.lte(0)){t.next=26;break}return t.next=26,f.getUserLp();case 26:if(!f.lpTotalSupply.lte(0)){t.next=30;break}k=Object(_.a)(1),t.next=36;break;case 30:return t.next=32,Object(h.j)(w,!0,$);case 32:if((y=t.sent).success){t.next=35;break}return t.abrupt("return");case 35:k=y.value;case 36:return k=k.times(Object(_.a)(1).minus(Object(_.a)(G).times(g).div(Object(_.a)(4).times(g-1)).div(1e10))),S=k.times(1-X)._toFixed(0,1),N={title:"actions.addLiq",obj:{detail:Object(_.z)(a,"usdc2pool")}},t.next=41,j.addLiquidityTwoKeyPool(w,S,N,[["usdcusdtPool/updateCurrencyData"]],{poolAddress:null===m.a||void 0===m.a||null===(r=m.a.usdcusdtPoolContracts)||void 0===r?void 0:r.stablePool});case 41:t.sent&&Ke(),t.next=48;break;case 45:t.prev=45,t.t0=t.catch(0),console.log("deposit err: ",t.t0);case 48:case"end":return t.stop()}}),t,null,[[0,45]])})));return function(e){return t.apply(this,arguments)}}(),Te=function(){var e=Object(r.a)(Object(c.a)().mark((function e(){var t,a,n,r,s,i,o,u;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in t=[],k)n=W[a],r=n.index,s=n.precision,i=k[a].replace(/,/g,""),t[r]=Object(_.a)(i).isNaN()?0:Object(_.a)(i).times(s)._toIntegerDown()._toHex();if(o=null,!f.lpTotalSupply.lte(0)){e.next=6;break}return e.next=6,f.getUserLp();case 6:if(!f.lpTotalSupply.lte(0)){e.next=10;break}o=Object(_.cb)(k.usdd).plus(Object(_.cb)(k.usdt)),e.next=16;break;case 10:return e.next=12,Object(h.j)(t,!0,$);case 12:if((u=e.sent).success){e.next=15;break}return e.abrupt("return");case 15:o=u.value.div(1e18);case 16:Oe(o);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([f.getSwapBalance(),f.getVirtualPrice(),f.getVolData(),f.getA()]);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(r.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([f.getUserLp(),f.getBalanceInfo()]);case 2:t={},Y.map((function(e){var a=f.poolData[e],n=a.precision,c=a.balance,r=a.decimal;t[e]=Object(_.c)(Object(_.a)(c).div(n)._toFixed(r,1))})),y(t),!xe&&ge(!0),ne(!1),Ce||(Ce=setInterval(Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Le(),f.getUserLp();case 2:case"end":return e.stop()}}),e)}))),i.defaultIntervalSec));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(b.useEffect)((function(){var e=Object(V.p)((function(){return i.defaultAccount}),(function(){De(),Le()}));return function(){e()}}),[]),Object(b.useEffect)(Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([De(),Le()]);case 2:return e.abrupt("return",(function(){clearInterval(Ce)}));case 3:case"end":return e.stop()}}),e)}))),[i.defaultAccount]);var Ie=function(e){var t=Object.keys(e),a=t.length;if(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),a=t.filter((function(t){return Object(_.cb)(e[t]).eq(0)||!e[t]}));return t.length===a.length}(e))return ie(d.a.get("error.e1")),!0;for(var n=0;n<a;n++){var c=t[n],r=e[c];if(!r&&(P||I))return ie(d.a.get("error.e1")),!0;var s=f.poolData[c],i=s.balance,o=s.precision,u=s.symbol;if(Object(_.a)(i).div(o).lt(Object(_.cb)(r)))return ie(d.a.get("error.e2",{token:u})),!0}return ie(!1),!1},Fe=function(e){Ne(e.target.checked)},Be=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){var a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.calcInclPrice(t);case 2:a=e.sent,be(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(e,t){var a=t,n={};n[e]=Object(_.c)(String(a).replace(/,/g,""));var c=f.poolData[e],r=(c.precision,c.swapBalance),s=(c.balance,Object(_.cb)(a).div(r).isNaN()?Object(_.a)(0):Object(_.cb)(a).div(r));Y.filter((function(t){return t!==e})).map((function(e){var t=f.poolData[e],a=t.balance,c=void 0===a?Object(_.a)(0):a,r=t.swapBalance,i=t.precision,o=t.decimal;n[e]=Object(_.c)(s.times(r)._toFixed(o,1)),c.div(i).lt(Object(_.cb)(n[e]))&&(n[e]=Object(_.c)(c.div(i)._toFixed(o,1)))})),y(n)},Ve=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){var a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,T(a),I&&F(!a),a&&Ue(Y[0],k[Y[0]])}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){var a,n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,F(a),P&&T(!a),n={},Y.map((function(e){var t=f.poolData[e],a=t.balance,c=t.precision,r=t.decimal;n[e]=Object(_.a)(a).isNaN()?0:Object(_.c)(a.div(c)._toFixed(r,1))})),y(n)}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ke=function(){Ne(!1),_e(!1)};return Object(C.jsx)(l.a,{children:function(){return Object(C.jsxs)(o.a,Object(n.a)(Object(n.a)({},J.a.row),{},{children:[Object(C.jsxs)(u.a,Object(n.a)(Object(n.a)({},J.a.colLeft),{},{children:[Object(C.jsx)(Z.a,{list:a,activeKey:t[0]}),Object(C.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(O.a,{routeName:"usdc_2pool/deposit",mountedActions:De,instantActions:Le}),Object(C.jsx)(R.a,{title:"2pool "+d.a.get("banner.title_deposit"),desc:d.a.get("banner.desc_deposit")}),Object(C.jsx)(q.a,{})]}):null,i.isConnected?Object(C.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(C.jsxs)("div",{className:"add-liq",children:[Object(C.jsxs)("fieldset",{className:"currencies",children:[Object(C.jsx)("legend",{children:d.a.get("deposit.currencies")}),Object(C.jsx)("ul",{children:Y.map((function(e){var t=f.poolData[e],a=t.symbol,c=void 0===a?"":a,r=t.balance,s=void 0===r?"--":r,i=t.precision,o=t.decimal;return s=Object(_.a)(s).div(i),Object(C.jsxs)("li",{children:[Object(C.jsxs)("div",{className:"cur-label",children:[Object(C.jsxs)("span",{className:"icon",children:[Object(C.jsx)("img",{src:w.a[e]?w.a[e]:x.default,alt:"",className:"token-logo"})," ",c]}),Object(C.jsx)("span",{className:"token-max",children:d.a.getHTML("deposit.token_max",{balance:Object(_.t)(s)})})]}),Object(C.jsx)(Q.a,{value:k[e],onChange:function(t){return function(e,t){I&&F(!1);var a=W[t].decimal,c=Object(_.T)((""+e.target.value).replace(/,/g,""),a),r=c.valid,s=c.str;r&&(y(Object(n.a)(Object(n.a)({},k),{},Object(U.a)({},t,Object(_.c)(s)))),P&&Ue(t,s))}(t,e)},onMaxClick:function(){!function(e,t,a){if(!Object(_.a)(t).isNaN()){var c=Object(_.a)(t)._toFixed(a,1);y(Object(n.a)(Object(n.a)({},k),{},Object(U.a)({},e,Object(_.c)(c)))),P&&Ue(e,c)}}(e,s,o)}})]},e)}))})]}),!Object(_.a)(le).isNaN()&&Object(_.Y)(le,!0),Object(C.jsxs)("div",{className:"deposit-check",children:[Object(C.jsx)(E.a,{checked:P,disabled:ae,onChange:Ve,children:d.a.get("deposit.ch1")}),Object(C.jsx)("br",{}),Object(C.jsx)(E.a,{checked:I,disabled:ae,onChange:Ee,children:d.a.get("deposit.ch2")})]}),se?Object(C.jsx)(S.a,{styleName:"mt-40",type:"single",disabled:!0,info:d.a.get("deposit.action")}):Object(C.jsx)(S.a,{styleName:"mt-40",type:"single",info:d.a.get("deposit.action"),onClick:function(){return Ae(k)}}),se&&Object(C.jsx)("div",{className:"error-content mt-12",children:Object(C.jsx)("div",{className:"error-tip",children:se})}),Object(_.a)(pe).gt(0)&&Object(C.jsxs)("div",{className:"error-content mt-12",children:[Object(C.jsxs)("div",{className:"error-tip",children:[d.a.getHTML("deposit.swap_detail",{value:Object(_.t)(pe,2),symbol:d.a.get("buysell.usdc_2pool2")+" LP"})," "]}),Object(C.jsx)("div",{className:"error-tip",children:d.a.get("deposit.exchange_rate",{value:Object(_.t)(f.virtualPrice,6),symbol:d.a.get("buysell.usdc_2pool2")+" LP"})})]})]})}):Object(C.jsx)(z.a,{}),Object(C.jsx)(H.a,{}),Object(C.jsx)(K.a,{title:d.a.get("deposit.high_slippage_title"),open:we,closable:!0,icon:null,onCancel:Ke,footer:null,width:400,className:"common-modal common-bg slippage-modal",children:Object(C.jsxs)("div",{className:"center",children:[Object(C.jsxs)("div",{className:"common-err-bg",children:[Object(C.jsx)("div",{children:d.a.get("deposit.high_tip1")}),Object(C.jsx)("div",{children:d.a.get("deposit.high_tip2",{value:Object(_.t)(Object(_.a)(le).abs(),3)})})]}),Object(C.jsx)(E.a,{checked:Se,onChange:Fe,children:d.a.get("deposit.confirm_slippage",{value:Object(_.t)(Object(_.a)(le).abs(),3)})}),Object(C.jsx)("br",{}),Object(C.jsxs)("div",{className:"btns flex",children:[Object(C.jsx)(M.a,{onClick:function(){return _e(!1)},type:"primary",children:d.a.get("cancel")}),Object(C.jsx)(M.a,{onClick:function(){return Pe(k)},disabled:!Se,children:d.a.get("deposit.anyway")})]})]})})]})]})),Object(C.jsx)(u.a,Object(n.a)(Object(n.a)({},J.a.colRight),{},{children:Object(C.jsx)(B,{className:i.isConnected?null:"window-for-tabs-pane"})}))]}))}})},te=a(866),ae=a(876),ne=m.a.usdcusdtPools,ce=m.a.usdcusdtPoolKeys,re=m.a.ALL_FEE,se=m.a.usdcusdtPoolContracts,ie=(m.a.tokens,se.stablePool),oe=se.stableLp,ue=se.poly,le="---",be="CUSTOM",je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={};return ce.map((function(a){t[a]=e})),t},de=function(e){var t=e.tabPaneKey,a=e.pageList,i=Object(b.useState)(),j=Object(s.a)(i,2),f=j[0],v=void 0===f?je("--"):f,g=j[1],N=Object(b.useState)("100.00"),A=Object(s.a)(N,2),P=A[0],T=A[1],L=Object(b.useState)(.2),D=Object(s.a)(L,2),I=D[0],F=D[1],V=Object(b.useState)(""),E=Object(s.a)(V,2),K=E[0],M=E[1],H=Object(b.useState)(!0),W=Object(s.a)(H,2),Y=W[0],G=W[1],X=Object(b.useState)(!1),$=Object(s.a)(X,2),ee=$[0],se=$[1],de=Object(b.useState)("--"),pe=Object(s.a)(de,2),Oe=pe[0],fe=pe[1],ve=Object(b.useState)(),xe=Object(s.a)(ve,2),ge=xe[0],me=void 0===ge?je(!1):ge,he=xe[1],we=Object(b.useState)(!1),_e=Object(s.a)(we,2),ke=_e[0],ye=_e[1],Se=Object(b.useState)(!1),Ne=Object(s.a)(Se,2),Ce=Ne[0],Ae=Ne[1],Pe=Object(l.d)((function(){return p.a.system})),Te=Object(l.d)((function(){return p.a.usdcusdtPool})),Le=Object(l.d)((function(){return p.a.network})),De=null;Object(b.useEffect)(Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ce&&Ie();case 1:case"end":return e.stop()}}),e)}))),[v,P,I,K,me]),Object(b.useEffect)((function(){Qe(v,ee)}),[v]);var Ie=function(){return P!==le&&Object(_.cb)(P).gt(100)?(ye(d.a.get("error.e3")),!0):function(){for(var e in v)if(Object(_.cb)(v[e]).gt(0)||"--"===v[e])return!1;return!0}()?(ye(d.a.get("error.e4")),!0):I===be&&(Ve()||P===le)&&(Object(_.a)(K).lt(.1)||Object(_.a)(K).gt(50)||Object(_.a)(K).isNaN())?(ye(d.a.get("error.e5")),!0):(ye(!1),!1)},Fe=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t,a){var n,r,s,i,o,u,l,b,j;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.length,s=t.map((function(e){return e.inputValue.isNaN()?0:e.inputValue._toIntegerDown()._toHex()}))||[],e.next=5,Object(h.j)(s,!1,ie);case 5:if((i=e.sent).success){e.next=8;break}return e.abrupt("return");case 8:if(o=i.value,u=o.times(Object(_.a)(1).plus(Object(_.a)(re).times(r).div(4*(r-1)))),l=Object(_.a)(100).plus(a).div(100),u=u.times(l)._toIntegerDown(),!Y||!Object(_.a)(Te.userLpAllowance).lt(u)){e.next=21;break}return e.next=15,Pe.approveToken(oe,ie,{title:"deposit.approve_token",obj:{value:d.a.get("buysell.usdc_2pool2")+" LP"},continuous:!0},[["usdcusdtPool/getUserLp"]]);case 15:if(!e.sent){e.next=20;break}G(!1),e.next=21;break;case 20:return e.abrupt("return");case 21:return b=u._toHex(),j={title:"actions.remove",obj:{detail:Object(_.z)(v,"usdc2pool")}},e.next=25,Pe.removeLiqImBalanceTwoKeyPool(s,b,j,[["usdcusdtPool/updateCurrencyData"]],{poolAddress:null===m.a||void 0===m.a||null===(n=m.a.usdcusdtPoolContracts)||void 0===n?void 0:n.stablePool});case 25:e.sent,e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.log(e.t0);case 31:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(t,a){return e.apply(this,arguments)}}(),Be=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t,a){var n,r,s,i,o,u,l,b;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke(a,t,Object(_.cb)(P));case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return");case 6:if(s=r.userLpBalance,r.lpTotalSupply,r.balances,i=r.userLpAllowance,o=r.minAmounts,u=Object(_.cb)(P).div(100).times(s)._toIntegerDown(),!Y||!Object(_.a)(i).lt(u._toIntegerDown())){e.next=17;break}return e.next=11,Pe.approveToken(oe,ie,{title:"deposit.approve_token",obj:{value:d.a.get("buysell.usdc_2pool2")+" LP"},continuous:!0},[["usdcusdtPool/getUserLp"]]);case 11:if(!e.sent){e.next=16;break}G(!1),e.next=17;break;case 16:return e.abrupt("return");case 17:return l={title:"actions.remove",obj:{detail:Object(_.z)(v,"usdc2pool")}},b=u._toHex(),e.next=21,Pe.removeLiquidityTwoKeyPool(b,o,l,[["usdcusdtPool/updateCurrencyData"]],{poolAddress:null===m.a||void 0===m.a||null===(n=m.a.usdcusdtPoolContracts)||void 0===n?void 0:n.stablePool});case 21:e.sent,e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t,a){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t,a,n){var r,s,i,o,u,l,b,j,p,O,f,x,g,w,k;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.tb)(a,t,ue);case 3:if((s=e.sent).success){e.next=6;break}return e.abrupt("return");case 6:if(i=s.userLpBalance,o=s.userLpAllowance,u=Object(_.cb)(P).div(100).times(i)._toIntegerDown(),!Y||!Object(_.a)(o).lt(u._toIntegerDown())){e.next=17;break}return e.next=11,Pe.approveToken(oe,ie,{title:"deposit.approve_token",obj:{value:d.a.get("buysell.usdc_2pool2")+" LP"},continuous:!0},[["usdcusdtPool/getUserLp"]]);case 11:if(!e.sent){e.next=16;break}G(!1),e.next=17;break;case 16:return e.abrupt("return");case 17:for(j in l=u._toHex(),b=!1,me)!0===me[j]&&(b=ne[j].index);return e.next=22,Object(h.t)(l,b,ie);case 22:if((p=e.sent).success){e.next=25;break}return e.abrupt("return");case 25:return O=p.value,f=t.length,x=O.times(Object(_.a)(1).minus(Object(_.a)(re).times(f).div(4*(f-1)).div(1e10))),g=Object(_.a)(100).div(Object(_.a)(100).plus(n)),w=x.times(g)._toIntegerDown()._toHex(),k={title:"actions.remove",obj:{detail:Object(_.z)(v,"usdc2pool")}},e.next=33,Pe.removeLiqOneCoinTwoKeyPool(l,b,w,k,[["usdcusdtPool/updateCurrencyData"]],{poolAddress:null===m.a||void 0===m.a||null===(r=m.a.usdcusdtPoolContracts)||void 0===r?void 0:r.stablePool});case 33:e.sent,e.next=39;break;case 36:e.prev=36,e.t0=e.catch(0),console.log(e.t0);case 39:case"end":return e.stop()}}),e,null,[[0,36]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Ve=function(){for(var e in me)if(me[e])return e;return!1},Ee=function(){var t=Object(r.a)(Object(c.a)().mark((function t(a){var r,s,i,o;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Le.defaultAccount){t.next=3;break}return t.abrupt("return");case 3:if(!Ce&&Ae(!0),ke){t.next=8;break}if(!Ie(a)){t.next=8;break}return t.abrupt("return");case 8:if(!ke){t.next=10;break}return t.abrupt("return");case 10:if(r=Le.defaultAccount,s=[],ce.map((function(e){s.push(Object(n.a)(Object(n.a)({},ne[e]),{},{inputValue:Object(_.cb)(a[e]).times(ne[e].precision)}))})),i=s.sort((function(e,t){return e.index-t.index})),o=I===be?K:I,e.onSubmit&&e.onSubmit(),!ee){t.next=20;break}return t.next=19,Ue(i,r,o);case 19:return t.abrupt("return",t.sent);case 20:if(P===le){t.next=24;break}return t.next=23,Be(i,r);case 23:return t.abrupt("return",t.sent);case 24:return t.next=26,Fe(i,o);case 26:return t.abrupt("return",t.sent);case 29:t.prev=29,t.t0=t.catch(0),console.log(t.t0);case 32:case"end":return t.stop()}}),t,null,[[0,29]])})));return function(e){return t.apply(this,arguments)}}(),Ke=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t,a,n){var r,s,i,o,u,l,b,j,d=arguments;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>3&&void 0!==d[3]&&d[3],e.prev=1,e.next=4,Object(h.tb)(t,a,ue);case 4:if((s=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:return i=s.userLpBalance,o=s.lpTotalSupply,u=s.balances,l=s.userLpAllowance,b=[],j={},a.map((function(e){var t=e.index,a=e.id,c=e.decimal,s=e.precision,l=Object(_.cb)(n).div(100).times(u[t]);r||(l=Object(_.a)(.98).times(l)),b[t]=l.times(i).div(o)._toIntegerDown()._toHex(),j[a]=Object(_.c)(l.times(i).div(o).div(s)._toFixed(c,1))})),e.abrupt("return",{userLpBalance:i,lpTotalSupply:o,balances:u,userLpAllowance:l,minAmounts:b,amountsStr:j});case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Me=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t,a){var n,r,s,i,o,u,l,b,j,d;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Te.getUserLp();case 3:return n=Te.userLpBalance,r=ne[t],s=r.precision,i=r.decimal,o=Object(_.cb)(a).div(100).times(n)._toIntegerDown(),u=ne[t].index,l=o._toHex(),e.next=10,Object(h.t)(l,u,ie);case 10:if((b=e.sent).success){e.next=13;break}return e.abrupt("return",!1);case 13:return j=b.value,d=Object(_.a)(j).div(s)._toFixed(i,1),e.abrupt("return",d);case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,a){return e.apply(this,arguments)}}(),Re=function(){Te.getSwapBalance(),Te.getVirtualPrice(),Te.getVolData(),Te.getA()},He=function(){var e=Object(r.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Te.getUserLp(),Te.getBalanceInfo()]);case 2:t={},ce.map((function(e){var a=Te.poolData[e],n=a.userSwapBalance,c=a.decimal;t[e]=Object(_.c)(Object(_.a)(n)._toFixed(c,1))})),g(t),De||(De=setInterval(Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Re(),e.next=3,Te.getUserLp();case 3:case"end":return e.stop()}}),e)}))),Le.defaultIntervalSec));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(b.useEffect)((function(){return He(),Re(),function(){clearInterval(De)}}),[]);var qe=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t,a){var r,s,i,o,u;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ce&&Ae(!0),r=Object(_.cb)(P),s={},i={},!t){e.next=16;break}for(o in se(!0),me)o!==a&&(s[o]=!1,i[o]=0);return he(Object(n.a)(Object(n.a)(Object(n.a)({},me),s),{},Object(U.a)({},a,t))),(P===le||Object(_.cb)(P).lte(0))&&T(r="100.00"),Object(_.a)(r).gt(100)&&(r=100),e.next=12,Me(a,r);case 12:(u=e.sent)&&g(Object(n.a)(Object(n.a)(Object(n.a)({},v),i),{},Object(U.a)({},a,Object(_.c)(u)))),e.next=19;break;case 16:T(le),se(!1),he(Object(n.a)(Object(n.a)({},me),{},Object(U.a)({},a,t)));case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Je=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t,a){var r,s,i,o,u,l;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(l in!Ce&&Ae(!0),r=ne[a].decimal,s=Object(_.T)((""+t.target.value).replace(/,/g,""),r),i=s.valid,o=s.str,i&&g(Object(n.a)(Object(n.a)({},v),{},Object(U.a)({},a,Object(_.c)(o)))),T(le),se(!1),u={},me)u[l]=!1;he(u);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ze=function(){var e={},t={};ce.map((function(a){e[a]=0,t[0]=!1})),g(e),he(me),T(0)},ze=function(){var e={};ce.map((function(t){e[t]=0})),g(e)},Qe=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t,a){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.calcInclPrice(t,!1,a);case 2:n=e.sent,fe(n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),We=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){var a,r,s,i,o,u,l,b,j,d,p,O,f,x,m;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ce&&Ae(!0),r=t.target.value,s=r.split("."),(null===(a=s[1])||void 0===a?void 0:a.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),!Object(_.a)(r).gt(100)){e.next=6;break}return e.abrupt("return");case 6:if(i=Object(_.T)(r,10),o=i.valid,u=i.str,P!==le){e.next=9;break}return e.abrupt("return",Ze());case 9:if(""!==r){e.next=12;break}return T(""),e.abrupt("return",ze());case 12:if(!o){e.next=34;break}if(T(Object(_.c)(u)),!(l=Object(_.a)(u).gt(100)?Object(_.a)(100):Object(_.a)(u)).isNaN()){e.next=17;break}return e.abrupt("return");case 17:if(Le.defaultAccount){e.next=19;break}return e.abrupt("return");case 19:if(b=Le.defaultAccount,!(j=Ve())){e.next=26;break}return e.next=24,Me(j,l);case 24:return d=e.sent,e.abrupt("return",d&&g(Object(n.a)(Object(n.a)({},v),{},Object(U.a)({},j,Object(_.c)(d)))));case 26:if(u===le){e.next=34;break}return p=[],ce.map((function(e){p.push(Object(n.a)({},ne[e]))})),O=p.sort((function(e,t){return e.index-t.index})),e.next=32,Ke(b,O,u,!0);case 32:f=e.sent,r===t.target.value&&(x=f.amountsStr,m=void 0===x?{}:x,f&&g(m));case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(e){!Ce&&Ae(!0),F(e),e!==le&&M("")},Ge=function(e){var t=Object(_.T)(e,10),a=t.valid,n=t.str;if(a)if(""===n)M("");else if(Object(_.a)(n).lte(100)){var c,r=n,s=n.split(".");(null===(c=s[1])||void 0===c?void 0:c.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),M(r)}},Xe=function(e){return Ve()||P===le?Object(C.jsx)("div",{className:"flex start mt-20",children:Object(C.jsx)(y.a,{slippage:e,customSlippage:K,CUSTOM_SLIPPAGE:be,onChangeSlippage:Ye,onChangeCustomSlippage:Ge})}):Object(C.jsx)(C.Fragment,{})};return Object(C.jsx)(l.a,{children:function(){return Object(C.jsxs)(o.a,Object(n.a)(Object(n.a)({},J.a.row),{},{children:[Object(C.jsxs)(u.a,Object(n.a)(Object(n.a)({},J.a.colLeft),{},{children:[Object(C.jsx)(Z.a,{list:a,activeKey:t[0]}),Object(C.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(O.a,{routeName:"usdc_2pool/withdraw",mountedActions:He,instantActions:Re}),Object(C.jsx)(R.a,{title:"2pool "+d.a.get("banner.title_withdraw"),desc:d.a.get("banner.desc_withdraw")}),Object(C.jsx)(q.a,{})]}):null,Le.isConnected?Object(C.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(C.jsxs)("div",{className:"add-liq withdraw-liq",children:[Object(C.jsxs)("div",{className:"flex",children:[d.a.get("withdraw.share_of_liq"),Object(C.jsx)(Q.a,{showMax:!1,placeholder:"100.00",value:P,onChange:We,className:"flex-1 ml-20"})]}),Object(C.jsxs)("fieldset",{className:"currencies mt-35",children:[Object(C.jsx)("legend",{children:d.a.get("deposit.currencies")}),Object(C.jsx)("ul",{children:ce.map((function(e){var t=ne[e].symbol,a=void 0===t?"":t;return Object(C.jsxs)("li",{children:[Object(C.jsx)("div",{className:"cur-label",children:Object(C.jsxs)("span",{className:"icon",children:[Object(C.jsx)("img",{src:w.a[e]?w.a[e]:x.default,alt:"",className:"token-logo"}),a]})}),Object(C.jsx)(Q.a,{showMax:!1,value:v[e],onChange:function(t){Je(t,e)}})]},e)}))})]}),Object(_.Y)(Oe),Object(C.jsxs)("fieldset",{children:[Object(C.jsxs)("legend",{className:"flex aic jcs pt20",children:[Object(C.jsx)("span",{className:"mr-10",children:d.a.get("withdraw.withdraw_text")}),Object(C.jsx)(te.a,{title:d.a.get("withdraw.tip"),children:Object(C.jsx)(ae.a,{})})]}),Object(C.jsx)("div",{className:"withdraw-one mt-10",children:ce.map((function(e){var t=ne[e].symbol,a=void 0===t?"":t;return Object(C.jsx)(k.a,{id:e,checked:me[e],tokenLogo:w.a[e]?w.a[e]:x.default,symbol:a,onChange:qe})}))})]}),Xe(I),ke?Object(C.jsx)(S.a,{styleName:"mt-40",type:"single",disabled:!0,info:d.a.get("withdraw.action")}):Object(C.jsx)(S.a,{styleName:"mt-40",type:"single",info:d.a.get("withdraw.action"),onClick:function(){return Ee(v)},disabled:ke}),ke&&Object(C.jsx)("div",{className:"error-content mt-12",children:Object(C.jsx)("div",{className:"error-tip",children:ke})})]})}):Object(C.jsx)(z.a,{})]})]})),Object(C.jsx)(u.a,Object(n.a)(Object(n.a)({},J.a.colRight),{},{children:Object(C.jsx)(B,{})}))]}))}})},pe=a(61),Oe=a(917),fe=a(906),ve=function(e){return Object(C.jsx)("span",{children:xe[e].tabTitle})},xe={1:{title:d.a.get("banner.title_deposit"),content:d.a.get("banner.desc_deposit"),tabTitle:d.a.get("header.deposit")},2:{title:d.a.get("banner.title_withdraw"),content:d.a.get("banner.desc_withdraw"),tabTitle:d.a.get("header.withdraw")},3:{title:d.a.get("banner.title_1"),content:d.a.get("banner.desc_1"),tabTitle:d.a.get("header.swap")}},ge=function(){var e=window.location.hash,t=e.split("/"),a=Object(s.a)(t,3),n=a[1],c=a[2];return n.includes("usdd_2pool")?n=d.a.get("buysell.2pool"):n.includes("usdd")?n="3pool":n.includes("usdc_2pool")&&(n=d.a.get("buysell.usdc_2pool2")),e.indexOf("tab=swap")>-1?{title:n,tabKey:["3"]}:{title:n,tabKey:[{deposit:"1",withdraw:"2",swap:"3"}[c]||"1"]}},me=Object(Oe.a)({childPage:pe.h.liquidity_2pool}),he=me.tabChangeLog,we=me.tabSubmitLog;t.default=function(){var e=ge(),t=e.title,a=e.tabKey,j=Object(b.useState)(a),f=Object(s.a)(j,2),v=f[0],x=f[1],g=null,m=Object(l.d)((function(){return p.a.usdcusdtPool})),h=Object(l.d)((function(){return p.a.network})),w=function(){m.getSwapBalance(),m.getVirtualPrice(),m.getVolData(),m.getA()},_=function(){var e=Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x("1"),m.getUserLp(),e.next=4,m.getBalanceInfo();case 4:g||(g=setInterval(Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(),m.getUserLp(),e.next=4,m.getBalanceInfo();case 4:case"end":return e.stop()}}),e)}))),h.defaultIntervalSec));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(b.useEffect)((function(){return window.scrollTo(0,0),function(){clearInterval(g)}}),[]);var k=Object(b.useCallback)((function(e){var t=e.value;x(t),he(t)}),[]),y=function(){var e=window.localStorage.getItem("lang")||d.a.options.currentLocale,t=window.location.origin+window.location.pathname;window.location.href=t+"?lang=".concat(e,"#/sunCurve")},S=Object(b.useMemo)((function(){return{shouldScroll:!0,navRightMoreShow:!0,navRightMoreClick:y}}),[]),N=Object(b.useMemo)((function(){return J.b.map((function(e){return Object(n.a)(Object(n.a)({},e),{},{handler:k})}))}),[k]);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(O.a,{mountedActions:_,instantActions:w,subNavProps:S}),Object(C.jsxs)("div",{className:"main-page-content",children:[Object(C.jsx)(fe.a,{title:"".concat(t," ").concat(xe[v[0]].title),subTitle:xe[v[0]].content}),Object(C.jsx)("div",{className:"pool-tabs",children:Object(C.jsxs)(i.a,{activeKey:v[0],centered:!0,renderTabBar:function(){return null},children:[Object(C.jsx)(i.a.TabPane,{tab:ve("1"),children:Object(C.jsx)(ee,{onSubmit:function(){return we("1")},pageList:N,tabPaneKey:v})},"1"),Object(C.jsx)(i.a.TabPane,{tab:ve("2"),children:Object(C.jsx)(de,{onSubmit:function(){return we("2")},pageList:N,tabPaneKey:v})},"2"),Object(C.jsx)(i.a.TabPane,{tab:ve("3"),children:Object(C.jsxs)(o.a,Object(n.a)(Object(n.a)({},J.a.row),{},{children:[Object(C.jsxs)(u.a,Object(n.a)(Object(n.a)({},J.a.colLeft),{},{children:[Object(C.jsx)(Z.a,{list:N,activeKey:v[0]}),h.isConnected?Object(C.jsx)("div",{className:" window-for-tabs-pane",children:Object(C.jsx)(A,{onSubmit:function(e){return we("3",{event_label:e,txid:e})}})}):Object(C.jsx)(z.a,{})]})),Object(C.jsx)(u.a,Object(n.a)(Object(n.a)({},J.a.colRight),{},{children:Object(C.jsx)(B,{})}))]}))},"3")]})})]})]})}},895:function(e,t,a){"use strict";a(910);var n=a(26),c=a.n(n),r=a(10);t.a=function(e){return Object(r.jsx)("div",{className:"tempalte-pageTab-nav",children:e.list.map((function(t){return Object(r.jsx)("div",{className:c()("tempalte-pageTab-nav-item",{"tempalte-pageTab-nav-active":e.activeKey===t.value}),onClick:function(){return t.handler(t)},children:t.label},t.value)}))})}},897:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}));var n=a(20),c=a.n(n),r={row:{gutter:[{xs:8,sm:16,md:32},20]},colLeft:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:15}},colRight:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:9}}},s={1:{title:c.a.get("banner.title_deposit"),content:c.a.get("banner.desc_deposit"),tabTitle:c.a.get("header.deposit")},2:{title:c.a.get("banner.title_withdraw"),content:c.a.get("banner.desc_withdraw"),tabTitle:c.a.get("header.withdraw")},3:{title:c.a.get("banner.title_1"),content:c.a.get("banner.desc_1"),tabTitle:c.a.get("header.swap")}},i=[{label:s[1].tabTitle,value:"1"},{label:s[2].tabTitle,value:"2"},{label:s[3].tabTitle,value:"3"}]},899:function(e,t,a){"use strict";var n=a(5),c=a(26),r=a.n(c),s=a(921),i=a(10);t.a=function(e){var t,a=e.checked,c=e.tokenLogo,o=e.symbol,u=void 0===o?"":o,l=e.onChange,b=e.id,j=void 0===b?"":b;return Object(i.jsxs)("div",{className:r()((t={},Object(n.a)(t,s.sun_check_button,!0),Object(n.a)(t,s.sun_check_active_button,a),t)),onClick:function(){l&&l(!a,j)},children:[c&&Object(i.jsx)("img",{src:c,alt:"",className:"token-logo"}),Object(i.jsx)("span",{children:u})]})}},900:function(e,t,a){"use strict";var n=a(20),c=a.n(n),r=a(26),s=a.n(r),i=a(1708),o=a(908),u=a(10),l=[{key:.2,label:"0.2%"},{key:3,label:"3%"}],b=[{key:.005,label:"0.5%"},{key:.01,label:"1%"}];t.a=function(e){var t=e.slippage,a=e.customSlippage,n=e.CUSTOM_SLIPPAGE,r=e.type,j="withdraw"===(void 0===r?"withdraw":r)?l:b;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"mr-10",children:c.a.get("withdraw.slippage")}),Object(u.jsxs)("div",{className:s()(o.setting_btns),children:[Object(u.jsx)("div",{className:o.setting_btn_wrap,children:j.map((function(a){return Object(u.jsx)("button",{className:s()(t===a.key?o.active:""),onClick:function(){return t=a.key,void(e.onChangeSlippage&&e.onChangeSlippage(t));var t},children:a.label})}))}),Object(u.jsx)(i.a,{className:s()(o.setting_input,o.module_important,["ml-20"]),suffix:"%",value:a,onFocus:function(){a||e.onChangeSlippage&&e.onChangeSlippage(n)},onBlur:function(){a||e.onChangeSlippage&&e.onChangeSlippage(String(j[0].key))},onChange:function(t){e.onChangeCustomSlippage&&e.onChangeCustomSlippage(t.target.value)}})]})]})}},906:function(e,t,a){"use strict";var n=a(5),c=a(3),r=a(26),s=a.n(r),i=a(911),o=a(10),u=function(e){var t,a=e.title,c=e.subTitle,r=e.isRevert,u="string"===typeof a;return Object(o.jsxs)("div",{className:i.page_title_wrap,children:[r&&c&&Object(o.jsx)("div",{className:i.page_title_sub,children:c}),a&&Object(o.jsx)("div",{title:a,className:s()((t={},Object(n.a)(t,i.page_title,!0),Object(n.a)(t,i.page_title_revert,r),Object(n.a)(t,i.page_title_ele,!u),t)),children:u?a.split("").map((function(e,t){return Object(o.jsx)("span",{className:i.page_title_ele,children:e},t)})):a}),c&&!r&&Object(o.jsx)("div",{className:i.page_title_sub,children:c})]})};t.a=Object(c.memo)(u)},908:function(e,t,a){e.exports={setting_wrap:"style_setting_wrap__L7ld9",setting_label:"style_setting_label__3qQrG",setting_btns:"style_setting_btns__zH_61",setting_btn_wrap:"style_setting_btn_wrap__uxT1B",setting_input:"style_setting_input__kvJzs",active:"style_active__10VTC",module_important:"style_module_important__PuwNO",info_text:"style_info_text__3K73H",setting_minutes:"style_setting_minutes__1mIXw"}},910:function(e,t,a){},911:function(e,t,a){e.exports={page_title:"style_page_title__dfZPh",page_title_wrap:"style_page_title_wrap__7dtV_",page_title_ele:"style_page_title_ele__Tktf1",page_title_sub:"style_page_title_sub__1IUsF",page_title_revert:"style_page_title_revert__18HMS"}},912:function(e,t,a){},915:function(e,t,a){},916:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAA/JJREFUWEfVWctqFUEQPeX7/X5tXIkIouBa/AkxgkYXgrhwIQiufaCuxYXoQsSNGkHFnxDXgiKIuHJlTIwmMYmJ8ci5Voe+k3tneuaOIVMwhCTT3aerTlWdnjb0YCQNwHIAKwEsA7AEwFL/qZn/AJj1n78B/AIwY2asuqwWLG0kBXCVPwJZxrSJKT1mpg2UslKASa4AsMG9GhaSBwVgJuNR/T/2uCKhTSoCwTRm1MymU1EnASapcK/3BUOoJ9xLWjTZSAbgayLqaMNjZiba5FohYA//ZgB6V9z7qcfMFNrKRlLeX+tPmHukiCa5gElqQlFAJi8ofKJAbUZSFNEaootMa8gpHa0rYJIbAShssnE9vWR33g692qwDoEc2YWY/Oo3pCDjj2e9mNlmbS3MmIrkawKY8T88D7Jzd4oMWDGzYRwb0tyyn2wB7NdjmCSYKjC2EZ7NrkFRFEj2U5ENx9cgCVjUQ+ZVg8m6pjkTyMIA9AAZSSlQ3ZzinRY0WFjMbCe/OAfamsNV39bVMNSCp5LwN4JxPfMPMrvQSHa8e2z3aw6G5xIBFBRX1UlQgeRDAUwD7I4A9A9ZcETWkP4b0txbgKNHUDOTdpKZA8jyAW1EN1XQDAM7WUVm8ucjLajKtBAyAxReVlCTvkhTXHwA4GnlVxf6CmT3shQo5CdiqzeYE3+G7UEbmagOSRwA8AbA7mvwNgBNm9qFOsB590VR0VdQHBVgKTMk2a2aDBR3pMoCrGcWljnTPtW4VvB/lgLyKRFIOVQsfFuBQ8yRoRnNKzTEAz6sgShhz2swe56wtrSFdMy7AofbmdjWSfQCeJSxe5ZUiwKFlTwmw6CBazGuDHRJAoA9UQZQzJoUSOuFILkwLcOCHylmhgK4ZbNJ0LhlU3mYFeJfX4y+p9TdplRpf8nq8Uy2jkYAbR4mkpPMG0w9gb43R1lTvzCy3XEbSoZV0qWXtFIBHNYMN0x3PAx2J+lZZS20c/xNwn5m9SG0cSa25Bkqolkrd6XAbTCfwa2Z2s0AStLVmKbZk8VOFEiT3uWY+FI3/DKDfzF4VgG0XP66IwpE+SV6WAU3yDIA7rgXC0JeumeeOPjl0CJT9Jy8dcGh9pQR8gWfU/6WZT0bv6ax4yczupmy6q4B30JWOSDmeuQ5AcjTYe9fMb1PAOqbg3fYjkv8zJJ9OyqUOoZ0AkIwB3wdw0cz0ATHJCg+hDrqnY36MxAWL6PDJzF4nofSXko75DlifVZvzISWTgPp1cX+qCmFr1MfACHRzPrd28fTi/qAdgVZTacaVQQS6OZcymdrajGuvbNH3E4C0guhS5WJRF4qTRTdGnZpN4bVXgcBZ8Kvbv7gRNO3rhp7CAAAAAElFTkSuQmCC"},917:function(e,t,a){"use strict";var n=a(4),c=a(61);t.a=function(e){var t=e.childPage,a=["deposit","withdraw","swap"],r=function(e,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a[e-1],o=c.g[r?"".concat(r,"_").concat(i):i];o&&Object(c.a)(Object(n.a)({action:o(t),event_category:t},s))};return{tabChangeLog:function(e){return r(e,"tab")},tabSubmitLog:function(e,t){return r(e,null,t)}}}},921:function(e,t,a){e.exports={sun_check_button:"style_sun_check_button__5diEB",sun_check_active_button:"style_sun_check_active_button__28IzL"}},933:function(e,t,a){"use strict"}}]);