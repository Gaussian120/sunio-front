(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[24,27,36,41],{1036:function(e,t,a){"use strict";var n=a(14),c=a(84),r=a(3),s=a(20),i=a.n(s),o=(a(918),a(969),a(6)),u=a(170),l=a(1),b=(a(958),a(10)),j=a(932),p=a(929),d=o.a.usdcInfo,O=(o.a.usdtPools,o.a.currencyKeys),f=d.Fee,x=d.A,v=d.ADMIN_FEE;t.a=function(e){var t=Object(c.d)((function(){return u.a.network})),a=Object(c.d)((function(){return u.a.usdcPool})),s=Object(c.d)((function(){return u.a.thrSunPool})),d=Object(r.useState)(a),g=Object(n.a)(d,2),m=g[0],h=g[1];Object(r.useEffect)((function(){h("sun3"===e.type?s:a)}));var w=function(e,t){var a=Object(l.a)(e).times(t).div(1e18);return a.isNaN()?"--":Object(l.u)(a,2)},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var a=Object(l.a)(0);for(var n in e){var c=e[n],r=c.userSwapBalance,s=c.priceKey,i=t?t[s]:"--";a=a.plus(Object(l.a)(r).times(i))}return Object(l.u)(a)}catch(o){return console.log(o),"--"}},_=window.localStorage.getItem("lang"),S=O.map((function(e){return m.currencyData[e]})).filter((function(e){return e})),y="".concat("en-US"===_?"USDC Old":"Old USDC"," ").concat(i.a.get("pool.pool_contract")),N="USDC3SUN ".concat(i.a.get("pool.token_contract2")),C=m.volData?m.volData.usdcpvol24Hours:"";return Object(b.jsx)(c.a,{children:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(j.a,{curveLPSymbol:"sun3",poolTokens:S,totalSwapBalance:m.totalSwapBalance,adminFee:v,fee:f,virtualPrice:m.virtualPrice,dailyVol:C,poolContract:o.a.usdcContracts.usdcSwap,poolName:y,lpTokenAddress:o.a.tokens.thrsunlp.token,lpTokenName:N,aValue:x}),t.isConnected&&Object(l.a)(m.sharePer).gt(0)&&Object(b.jsx)(p.a,{sharePer:m.sharePer,usdBalance:k(m.poolData,m.volData),avgUsdBalance:w(m.swapBalanceInfo.userUsdcLpBalance,m.virtualPrice),userTotalBalance:m.swapBalanceInfo.userTotalBalance,myPoolTokens:S})]})}})}},1244:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(4),r=a(0),s=a(2),i=a(14),o=a(3),u=a(20),l=a.n(u),b=a(84),j=a(1773),p=a(1775),d=a(1346),O=a(882),f=a(195),x=a(270),v=(a(946),a(918),a(27)),g=a(1),m=a(6),h=a(170),w=a(897),k=a(907),_=(a(915),a(1036)),S=a(317),y=a(906),N=a(899),C=a(15),L=a(901),D=a(898),A=a(902),P=a(910),I=a(10),T=m.a.usdcPools,U=m.a.usdcPoolKeys,B=m.a.usdcInfo,F=m.a.defaultSlippage,V=m.a.usdcContracts,E=m.a.pools,K=m.a.thrSunPoolKeys,H=m.a.thrSunPools,M=m.a.tokens.thrsunlp.symbol,q=B.ALL_FEE,R=V.USDCDepositer,J=V.usdcSwap,Q=function(e){var t={};return e.map((function(e){t[e]=""})),t};t.default=function(e){var t=e.tabPaneKey,a=e.pageList,u=Object(b.d)((function(){return h.a.network})),B=Object(b.d)((function(){return h.a.system})),V=Object(b.d)((function(){return h.a.usdcPool})),Z=Object(b.d)((function(){return h.a.thrSunPool})),G=Object(o.useState)(!1),W=Object(i.a)(G,2),z=W[0],X=W[1],Y=Object(o.useState)(!0),$=Object(i.a)(Y,2),ee=$[0],te=$[1],ae=Object(o.useState)(!1),ne=Object(i.a)(ae,2),ce=ne[0],re=ne[1],se=Object(o.useState)(!1),ie=Object(i.a)(se,2),oe=ie[0],ue=ie[1],le=Object(o.useState)("--"),be=Object(i.a)(le,2),je=be[0],pe=be[1],de=Object(o.useState)("--"),Oe=Object(i.a)(de,2),fe=Oe[0],xe=Oe[1],ve=Object(o.useState)(!1),ge=Object(i.a)(ve,2),me=ge[0],he=ge[1],we=Object(o.useState)(!1),ke=Object(i.a)(we,2),_e=ke[0],Se=ke[1],ye=Object(o.useState)(!1),Ne=Object(i.a)(ye,2),Ce=Ne[0],Le=Ne[1],De=Object(o.useState)(V),Ae=Object(i.a)(De,2),Pe=Ae[0],Ie=Ae[1],Te=Object(o.useState)(U),Ue=Object(i.a)(Te,2),Be=Ue[0],Fe=Ue[1],Ve=Object(o.useState)(T),Ee=Object(i.a)(Ve,2),Ke=Ee[0],He=Ee[1],Me=Object(o.useState)((function(){return Q(U)})),qe=Object(i.a)(Me,2),Re=qe[0],Je=qe[1],Qe=Object(o.useState)((function(){return Q(K)})),Ze=Object(i.a)(Qe,2),Ge=Ze[0],We=Ze[1],ze=Object(o.useState)(Re),Xe=Object(i.a)(ze,2),Ye=Xe[0],$e=Xe[1],et=null,tt=null,at=window.localStorage.getItem("lang");Object(o.useEffect)((function(){ce?(Ie(Z),Fe(K),$e(Ge),He(H)):(Ie(V),Fe(U),$e(Re),He(T))}),[ce]),Object(o.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([bt(Ye),st()]);case 2:me&&ut(Ye);case 3:case"end":return e.stop()}}),e)}))),[Ye]);var nt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(){var t,a,n,c,s,i;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ce){e.next=2;break}return e.abrupt("return",{success:!0,value:Ye.sun3?Object(g.fb)(Ye.sun3).times(Ke.sun3.precision):Object(g.a)(0)});case 2:for(a in e.prev=2,t=[],E)n=E[a],c=n.index,s=n.precision,t[c]=Object(g.fb)(Ye[a]).isNaN()?0:Object(g.fb)(Ye[a]).times(s)._toIntegerDown()._toHex();return e.next=7,Object(C.d)(t);case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",{success:!1});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),ct=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,oe){e.next=5;break}if(!ut(t)){e.next=5;break}return e.abrupt("return");case 5:if(!oe){e.next=7;break}return e.abrupt("return");case 7:if(!Object(g.a)(je).abs().gt(10)){e.next=9;break}return e.abrupt("return",Se(!0));case 9:return e.next=11,rt(t);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var t=Object(s.a)(Object(r.a)().mark((function t(a){var n,s,i,o,u,l,b,j,p,d,O,f,x,v,m,h,w,k,_,S,y,N;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,e.onSubmit&&e.onSubmit(),n=[],Be.map((function(e){n.push(Object(c.a)(Object(c.a)({},Pe.poolData[e]),{},{inputValue:a[e]?Object(g.fb)(a[e]).times(Ke[e].precision):Object(g.a)(0)}))})),s="usdcPool/getBalanceInfo",i=R,ce&&(s="thrSunPool/getBalanceInfo",i=J),o=0;case 8:if(!(o<n.length)){t.next=22;break}if(u=n[o],l=u.allowance,b=void 0===l?Object(g.a)(0):l,j=u.inputValue,p=u.token,d=u.symbol,O=u.approveStatus,f=u.id,!Object(g.a)(b).lt(j)||O){t.next=19;break}return t.next=13,B.approveToken(p,i,{title:"deposit.approve_token",obj:{value:d},continuous:!0},[[s]]);case 13:if(!t.sent){t.next=18;break}Pe.poolData[f].approveStatus=2,t.next=19;break;case 18:return t.abrupt("return");case 19:o++,t.next=8;break;case 22:if(x=n.sort((function(e,t){return e.index-t.index})),v=x.length,m=x.map((function(e){return e.inputValue._toIntegerDown()._toHex()}))||[],h=null,!Pe.lpTotalSupply.lte(0)){t.next=29;break}return t.next=29,Pe.getSwapBalance();case 29:if(!Pe.lpTotalSupply.lte(0)){t.next=38;break}return t.next=32,nt();case 32:if((w=t.sent).success){t.next=35;break}return t.abrupt("return");case 35:h=w.value.div(1e18).plus(Object(g.fb)(a.usdc)),t.next=51;break;case 38:if(k={},!ce){t.next=45;break}return t.next=42,Object(C.n)(m);case 42:k=t.sent,t.next=48;break;case 45:return t.next=47,Object(C.k)(m);case 47:k=t.sent;case 48:if(k.success){t.next=50;break}return t.abrupt("return");case 50:h=k.value;case 51:if(h=h.times(Object(g.a)(1).minus(Object(g.a)(q).times(v).div(Object(g.a)(4).times(v-1)).div(1e10))),_=h.times(1-F)._toIntegerDown()._toHex(),!ce){t.next=60;break}return y={title:"actions.addLiq",obj:{detail:Object(g.A)(a,"sun3")}},t.next=57,B.addLiquidityUsdcBySun3(m,_,y,[["thrSunPool/updateCurrencyData"]]);case 57:S=t.sent,t.next=64;break;case 60:return N={title:"actions.addLiq",obj:{detail:Object(g.A)(a,"usdc")}},t.next=63,B.addLiquidityUsdc(m,_,N,[["usdcPool/updateCurrencyData"]]);case 63:S=t.sent;case 64:S&&ft(),t.next=70;break;case 67:t.prev=67,t.t0=t.catch(0),console.log("deposit err: ",t.t0);case 70:case"end":return t.stop()}}),t,null,[[0,67]])})));return function(e){return t.apply(this,arguments)}}(),st=function(){var e=Object(s.a)(Object(r.a)().mark((function e(){var t,a,n,c,s,i,o,u,l;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in e.prev=0,t=[],a=!1,Ye)c=Ke[n],s=c.index,i=c.precision,t[s]=Object(g.fb)(Ye[n]).isNaN()?0:Object(g.fb)(Ye[n]).times(i)._toIntegerDown()._toHex(),Object(g.a)(t[s]).gt(0)&&(a=!0);if(a){e.next=7;break}return xe(Object(g.a)(0)),e.abrupt("return");case 7:if(o=null,!Pe.lpTotalSupply.lte(0)){e.next=11;break}return e.next=11,Pe.getSwapBalance();case 11:if(!Pe.lpTotalSupply.lte(0)){e.next=20;break}return e.next=14,nt();case 14:if((u=e.sent).success){e.next=17;break}return e.abrupt("return");case 17:o=u.value.div(1e18).plus(Object(g.fb)(Ye.usdc)),e.next=33;break;case 20:if(l={},!ce){e.next=27;break}return e.next=24,Object(C.n)(t);case 24:l=e.sent,e.next=30;break;case 27:return e.next=29,Object(C.k)(t);case 29:l=e.sent;case 30:if(l.success){e.next=32;break}return e.abrupt("return");case 32:o=l.value.div(1e18);case 33:xe(o),e.next=39;break;case 36:e.prev=36,e.t0=e.catch(0),console.log(e.t0);case 39:case"end":return e.stop()}}),e,null,[[0,36]])})));return function(){return e.apply(this,arguments)}}(),it=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(Z.getSwapBalance(),Z.getVirtualPriceUSDC(),Z.getVolData()):(V.getSwapBalance(),V.getVirtualPriceUSDC(),V.getVolData())},ot=function(){var e=Object(s.a)(Object(r.a)().mark((function e(){var t,a=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},!(a.length>0&&void 0!==a[0]&&a[0])){e.next=12;break}return e.next=5,Z.getSwapBalance();case 5:return Z.getUserLp(),e.next=8,Z.getBalanceInfo();case 8:K.map((function(e){var a=Z.poolData[e],n=a.precision,c=a.balance,r=a.decimal;t[e]=Object(g.c)(Object(g.a)(c).div(n)._toFixed(r,1))})),We(t),e.next=19;break;case 12:return e.next=14,V.getSwapBalance();case 14:return V.getUserLp(),e.next=17,V.getBalanceInfo();case 17:U.map((function(e){var a=V.poolData[e],n=a.precision,c=a.balance,r=a.decimal;t[e]=Object(g.c)(Object(g.a)(c).div(n)._toFixed(r,1))})),Je(t);case 19:$e(t),!me&&he(!0),et||(et=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:it(),V.getUserLp();case 2:case"end":return e.stop()}}),e)}))),u.defaultIntervalSec));case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!tt&&ce&&(tt=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return it(!0),e.next=3,Z.getUserLp();case 3:case"end":return e.stop()}}),e)}))),u.defaultIntervalSec))}),[ce]),Object(o.useEffect)((function(){return ot(),it(),function(){clearInterval(et),clearInterval(tt)}}),[]);var ut=function(e){var t=Object.keys(e),a=t.length;if(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),a=t.filter((function(t){return Object(g.fb)(e[t]).eq(0)||!e[t]}));return t.length===a.length}(e))return ue(l.a.get("error.e1")),!0;for(var n=0;n<a;n++){var c=t[n],r=e[c];if(!r&&(z||ee))return ue(l.a.get("error.e1")),!0;if(Pe.poolData[c]){var s=Pe.poolData[c],i=s.balance,o=s.precision,u=s.symbol;if(Object(g.a)(i).div(o).lt(Object(g.fb)(r)))return ue(l.a.get("error.e2",{token:u})),!0}}return ue(!1),!1},lt=function(e){Le(e.target.checked)},bt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe.calcInclPrice(t);case 2:a=e.sent,pe(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var s,i,o,u,l,b,j,p,d,O,f,x,v,h,w,k,_,S,y,N,L,D,A,P,I,T,U;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=a,(i={})[t]=Object(g.c)(s),o=Pe.poolData[t],o.precision,u=o.swapBalance,o.balance,l=Pe.swapBalanceInfo,b=l.sun3LpBalance,j=l.sun3TotalSupply,p=l.balancesUsdc,d=Object(g.fb)(s).div(u).isNaN()?Object(g.a)(0):Object(g.fb)(s).div(u),"usdc"!==t){e.next=17;break}if(!ce){e.next=12;break}return O=Pe.poolData.sun3,f=O.swapBalance,x=O.decimal,i.sun3=Object(g.c)(f.times(d)._toFixed(x,1)),e.abrupt("return",$e(i));case 12:return v=Be.filter((function(e){return e!==t})),h=d.times(b),w=h.div(j),v.map((function(e){var t=Pe.poolData[e],a=t.balance,n=void 0===a?Object(g.a)(0):a,c=t.swapBalance,r=t.precision,s=t.decimal;i[e]=Object(g.c)(w.times(c)._toFixed(s,1)),n.div(r).lt(Object(g.fb)(i[e]))&&(i[e]=Object(g.c)(n.div(r)._toFixed(s,1)))})),e.abrupt("return",$e(i));case 17:if(k=Be.filter((function(e){return e!==t&&"usdc"!==e})),_=Object(n.a)({},t,Object(g.c)(s)),k.map((function(e){var t=Pe.poolData[e],a=t.balance,n=void 0===a?Object(g.a)(0):a,c=t.swapBalance,r=t.precision,s=t.decimal;_[e]=Object(g.c)(d.times(c)._toFixed(s,1)),n.div(r).lt(_[e])&&(_[e]=Object(g.c)(n.div(r)._toFixed(s,1)))})),S=Object(g.a)(0),!ce){e.next=25;break}a&&(S=Object(g.fb)(a).times(Ke.sun3.precision)),e.next=33;break;case 25:for(N in y=[],_)L=E[N],D=L.index,A=L.precision,y[D]=Object(g.fb)(_[N]).isNaN()?0:Object(g.fb)(_[N]).times(A)._toIntegerDown()._toHex();return e.next=29,Object(C.d)(y);case 29:if((P=e.sent).success){e.next=32;break}return e.abrupt("return");case 32:S=P.value;case 33:I=Object(g.a)(S).div(Object(g.a)(b).times(m.a.defaultVotePrecision)),T=Pe.poolData.usdc,U=I.isNaN()?0:I.times(p)._toFixed(T.decimal,1),i.usdc=T.balance.div(T.precision).lt(U)?Object(g.c)(T.balance.div(T.precision)._toFixed(T.decimal,1)):Object(g.c)(U),$e(Object(c.a)(Object(c.a)({},i),_)),e.next=43;break;case 40:e.prev=40,e.t0=e.catch(0),console.log(e.t0);case 43:case"end":return e.stop()}}),e,null,[[0,40]])})));return function(t,a){return e.apply(this,arguments)}}(),pt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,X(a),ee&&te(!a),a&&jt(Be[0],Object(g.fb)(Ye[Be[0]]))}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,te(a),z&&X(!a),n={},Be.map((function(e){var t=Pe.poolData[e],a=t.balance,c=void 0===a?Object(g.a)(0):a,r=t.precision,s=t.decimal;n[e]=Object(g.a)(c).isNaN()?0:Object(g.c)(c.div(r)._toFixed(s,1))})),$e(n)}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,re(a),X(!1),te(!0),t.target.checked?clearInterval(et):clearInterval(tt),it(t.target.checked),ot(t.target.checked)}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ft=function(){Le(!1),Se(!1)};return Object(I.jsx)(b.a,{children:function(){return Object(I.jsxs)(j.a,Object(c.a)(Object(c.a)({},L.a.row),{},{children:[Object(I.jsxs)(p.a,Object(c.a)(Object(c.a)({},L.a.colLeft),{},{children:[Object(I.jsx)(D.a,{list:a,activeKey:t[0]}),Object(I.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(w.a,{routeName:"usdc/deposit",mountedActions:ot,instantActions:it}),Object(I.jsx)(k.a,{title:l.a.get("buysell.usdc_pool")+" "+l.a.get("banner.title_deposit"),desc:l.a.get("banner.desc_deposit")}),Object(I.jsx)(y.a,{})]}):null,u.isConnected?Object(I.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(I.jsxs)("div",{className:"add-liq",children:[Object(I.jsxs)("fieldset",{className:"currencies",children:[Object(I.jsx)("legend",{children:l.a.get("deposit.currencies")}),Object(I.jsx)("ul",{children:Be.map((function(e){var t=Pe.poolData[e],a=t.symbol,r=void 0===a?"":a,s=t.balance,i=void 0===s?"--":s,o=t.precision,u=t.decimal;return i=Object(g.a)(i).div(o),Object(I.jsxs)("li",{children:[Object(I.jsxs)("div",{className:"cur-label",children:[Object(I.jsxs)("span",{className:"icon",children:[Object(I.jsx)("img",{src:v.a[e]?v.a[e]:x.default,alt:"",className:"token-logo"})," ",r]}),Object(I.jsx)("span",{className:"token-max",children:l.a.getHTML("deposit.token_max",{balance:Object(g.u)(i)})})]}),Object(I.jsx)(P.a,{value:Ye[e],onChange:function(t){return function(e,t){ee&&te(!1);var a=Ke[t].decimal,r=Object(g.V)((""+e.target.value).replace(/,/g,""),a),s=r.valid,i=r.str;s&&($e(Object(c.a)(Object(c.a)({},Ye),{},Object(n.a)({},t,Object(g.c)(i)))),z&&jt(t,i))}(t,e)},onMaxClick:function(){!function(e,t,a){if(!Object(g.a)(t).isNaN()){var r=Object(g.a)(t)._toFixed(a,1);$e(Object(c.a)(Object(c.a)({},Ye),{},Object(n.a)({},e,Object(g.c)(r)))),z&&jt(e,r)}}(e,i,u)}})]},e)}))})]}),!Object(g.a)(je).isNaN()&&Object(g.ab)(je,!0),Object(I.jsxs)("div",{className:"deposit-check",children:[Object(I.jsx)(d.a,{checked:z,onChange:pt,children:l.a.get("deposit.ch1")}),Object(I.jsx)("br",{}),Object(I.jsx)(d.a,{checked:ee,onChange:dt,children:l.a.get("deposit.ch2")}),Object(I.jsx)("br",{}),Object(I.jsx)(d.a,{checked:ce,onChange:Ot,children:l.a.get("deposit.ch3")})]}),oe?Object(I.jsx)(N.a,{styleName:"mt-40",type:"single",disabled:!0,info:l.a.get("deposit.action")}):Object(I.jsx)(N.a,{styleName:"mt-40",type:"single",info:l.a.get("deposit.action"),onClick:function(){return ct(Ye)}}),oe&&Object(I.jsx)("div",{className:"error-content mt-12",children:Object(I.jsx)("div",{className:"error-tip",children:oe})}),Object(g.a)(fe).gt(0)&&Object(I.jsxs)("div",{className:"error-content mt-12",children:[Object(I.jsxs)("div",{className:"error-tip",children:[l.a.getHTML("deposit.swap_detail",{value:Object(g.u)(fe,2),symbol:"en_US"===at?M:"Old USDC LP"})," "]}),Object(I.jsx)("div",{className:"error-tip",children:l.a.get("deposit.exchange_rate",{value:Object(g.u)(Pe.virtualPrice,6),symbol:"en_US"===at?M:"Old USDC LP"})})]})]})}):Object(I.jsx)(A.a,{}),Object(I.jsx)(S.a,{}),Object(I.jsx)(O.a,{title:l.a.get("deposit.high_slippage_title"),open:_e,closable:!0,icon:null,onCancel:ft,footer:null,width:400,className:"common-modal common-bg slippage-modal",children:Object(I.jsxs)("div",{className:"center",children:[Object(I.jsxs)("div",{className:"common-err-bg",children:[Object(I.jsx)("div",{children:l.a.get("deposit.high_tip1")}),Object(I.jsx)("div",{children:l.a.get("deposit.high_tip2",{value:Object(g.u)(Object(g.a)(je).abs(),3)})})]}),Object(I.jsx)(d.a,{checked:Ce,onChange:lt,children:l.a.get("deposit.confirm_slippage",{value:Object(g.u)(Object(g.a)(je).abs(),3)})}),Object(I.jsx)("br",{}),Object(I.jsxs)("div",{className:"btns flex",children:[Object(I.jsx)(f.a,{onClick:function(){return Se(!1)},type:"primary",children:l.a.get("cancel")}),Object(I.jsx)(f.a,{onClick:function(){return rt(Ye)},disabled:!Ce,children:l.a.get("deposit.anyway")})]})]})})]})]})),Object(I.jsx)(p.a,Object(c.a)(Object(c.a)({},L.a.colRight),{},{children:Object(I.jsx)(_.a,{type:ce?"sun3":"usdc",className:u.isConnected?null:"window-for-tabs-pane"})}))]}))}})}},1245:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(4),r=a(0),s=a(2),i=a(14),o=a(3),u=a(20),l=a.n(u),b=a(1773),j=a(1775),p=a(321),d=a(880),O=a(270),f=a(84),x=a(170),v=a(27),g=a(6),m=a(15),h=a(1),w=a(1036),k=a(897),_=a(907),S=(a(915),a(906)),y=a(903),N=a(899),C=a(904),L=a(901),D=a(898),A=a(902),P=a(910),I=a(10),T=g.a.usdcPools,U=g.a.thrSunPools,B=g.a.usdcPoolKeys,F=g.a.thrSunPoolKeys,V=g.a.usdcContracts,E=g.a.usdcInfo,K=g.a.tokens,H=E.ALL_FEE,M=K.thrsunlp.token,q="3SUN LP",R=K.thrsunlp.symbol,J=V.USDCDepositer,Q=V.usdcSwap,Z="---",G="CUSTOM",W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={};return B.map((function(a){t[a]=e})),t};t.default=function(e){var t=e.tabPaneKey,a=e.pageList,u=Object(o.useState)(),g=Object(i.a)(u,2),V=g[0],E=void 0===V?W("--"):V,K=g[1],z=Object(o.useState)("100.00"),X=Object(i.a)(z,2),Y=X[0],$=X[1],ee=Object(o.useState)(.2),te=Object(i.a)(ee,2),ae=te[0],ne=te[1],ce=Object(o.useState)(""),re=Object(i.a)(ce,2),se=re[0],ie=re[1],oe=Object(o.useState)(!0),ue=Object(i.a)(oe,2),le=ue[0],be=ue[1],je=Object(o.useState)(!1),pe=Object(i.a)(je,2),de=pe[0],Oe=pe[1],fe=Object(o.useState)("--"),xe=Object(i.a)(fe,2),ve=xe[0],ge=xe[1],me=Object(o.useState)(!1),he=Object(i.a)(me,2),we=he[0],ke=he[1],_e=Object(o.useState)(),Se=Object(i.a)(_e,2),ye=Se[0],Ne=void 0===ye?W(!1):ye,Ce=Se[1],Le=Object(o.useState)(!1),De=Object(i.a)(Le,2),Ae=De[0],Pe=De[1],Ie=Object(o.useState)(!1),Te=Object(i.a)(Ie,2),Ue=Te[0],Be=Te[1],Fe=Object(o.useState)(B),Ve=Object(i.a)(Fe,2),Ee=Ve[0],Ke=Ve[1],He=Object(o.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={};return F.map((function(a){t[a]=e})),t}("--")),Me=Object(i.a)(He,2),qe=Me[0],Re=Me[1],Je=Object(f.d)((function(){return x.a.system})),Qe=Object(f.d)((function(){return x.a.usdcPool})),Ze=Object(f.d)((function(){return x.a.network})),Ge=Object(f.d)((function(){return x.a.thrSunPool})),We=null,ze=null;Object(o.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ue&&Xe();case 1:case"end":return e.stop()}}),e)}))),[E,Y,ae,se,Ne]),Object(o.useEffect)((function(){vt(E,de)}),[E]),Object(o.useEffect)((function(){gt(qe,de)}),[qe]);var Xe=function(){return Y!==Z&&Object(h.fb)(Y).gt(100)?(Pe(l.a.get("error.e3")),!0):function(){var e=we?qe:E;for(var t in e)if(Object(h.fb)(e[t]).gt(0)||"--"===e[t])return!1;return!0}()?(Pe(l.a.get("error.e4")),!0):ae===G&&(tt()||Y===Z)&&(Object(h.a)(se).lt(.1)||Object(h.a)(se).gt(50)||Object(h.a)(se).isNaN())?(Pe(l.a.get("error.e5")),!0):(Pe(!1),!1)},Ye=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,i,o,u,l,b,j,p,d,O,f,x;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.length,c=t.map((function(e){return e.inputValue.isNaN()?0:e.inputValue._toIntegerDown()._toHex()}))||[],!we){e.next=29;break}return e.next=6,Object(m.n)(c,!1);case 6:if((s=e.sent).success){e.next=9;break}return e.abrupt("return");case 9:if(i=s.value,o=i.times(Object(h.a)(1).plus(Object(h.a)(H).times(n).div(4*(n-1)).div(1e10))),u=Object(h.a)(100).plus(a).div(100),o=o.times(u)._toIntegerDown(),Object(h.a)(o).gt(Qe.swapBalanceInfo.userUsdcLpBalance)&&(o=Qe.swapBalanceInfo.userUsdcLpBalance),!le||!Object(h.a)(Qe.userLpAllowance).lt(o)){e.next=23;break}return e.next=17,Je.approveToken(M,Q,{title:"deposit.approve_token",obj:{value:q},continuous:!0},[["thrSunPool/getUserLp"]]);case 17:if(!e.sent){e.next=22;break}be(!1),e.next=23;break;case 22:return e.abrupt("return");case 23:return l=o._toHex(),b={title:"actions.remove",obj:{detail:Object(h.A)(qe,"sun3")}},e.next=27,Je.removeLiqImBalanceSUN3(c,l,b,[["thrSunPool/updateCurrencyData"]]);case 27:return e.sent,e.abrupt("return");case 29:return e.next=31,Object(m.k)(c,!1);case 31:if((j=e.sent).success){e.next=34;break}return e.abrupt("return");case 34:if(p=j.value,d=p.times(Object(h.a)(1).plus(Object(h.a)(H).times(n).div(4*(n-1)).div(1e10))),O=Object(h.a)(100).plus(a).div(100),d=d.times(O)._toIntegerDown(),Object(h.a)(d).gt(Qe.swapBalanceInfo.userUsdcLpBalance)&&(d=Qe.swapBalanceInfo.userUsdcLpBalance),!le||!Object(h.a)(Qe.userLpAllowance).lt(d)){e.next=48;break}return e.next=42,Je.approveToken(M,J,{title:"deposit.approve_token",obj:{value:R},continuous:!0},[["usdcPool/getUserLp"]]);case 42:if(!e.sent){e.next=47;break}be(!1),e.next=48;break;case 47:return e.abrupt("return");case 48:return f=d._toHex(),x={title:"actions.remove",obj:{detail:Object(h.A)(E,"usdc")}},e.next=52,Je.removeLiqImBalanceUSDC(c,f,x,[["usdcPool/updateCurrencyData"]]);case 52:e.sent,e.next=58;break;case 55:e.prev=55,e.t0=e.catch(0),console.log(e.t0);case 58:case"end":return e.stop()}}),e,null,[[0,55]])})));return function(t,a){return e.apply(this,arguments)}}(),$e=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,i,o,u,l,b,j,p,d,O,f,x;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!we){e.next=25;break}return e.next=4,st(a,t,Y);case 4:if(n=e.sent){e.next=7;break}return e.abrupt("return");case 7:if(c=n.userLpBalance,s=n.userLpAllowanceUsdcSwap,i=n.minAmounts,o=Object(h.fb)(Y).div(100).times(c)._toIntegerDown(),!le||!Object(h.a)(s).lt(o._toIntegerDown())){e.next=18;break}return e.next=12,Je.approveToken(M,Q,{title:"deposit.approve_token",obj:{value:q},continuous:!0},[["thrSunPool/getUserLp"]]);case 12:if(!e.sent){e.next=17;break}be(!1),e.next=18;break;case 17:return e.abrupt("return");case 18:return u={title:"actions.remove",obj:{detail:Object(h.A)(qe,"sun3")}},l=o._toHex(),e.next=22,Je.removeLiquiditySUN3(l,i,u,[["thrSunPool/updateCurrencyData"]]);case 22:e.sent,e.next=46;break;case 25:return e.next=27,rt(a,t,Y);case 27:if(b=e.sent){e.next=30;break}return e.abrupt("return");case 30:if(j=b.userLpBalance,p=b.userLpAllowance,d=b.minAmounts,O=Object(h.fb)(Y).div(100).times(j)._toIntegerDown(),!le||!Object(h.a)(p).lt(O._toIntegerDown())){e.next=41;break}return e.next=35,Je.approveToken(M,J,{title:"deposit.approve_token",obj:{value:R},continuous:!0},[["usdcPool/getUserLp"]]);case 35:if(!e.sent){e.next=40;break}be(!1),e.next=41;break;case 40:return e.abrupt("return");case 41:return f={title:"actions.remove",obj:{detail:Object(h.A)(E,"usdc")}},x=O._toHex(),e.next=45,Je.removeLiquidityUSDC(x,d,f,[["usdcPool/updateCurrencyData"]]);case 45:e.sent;case 46:e.next=51;break;case 48:e.prev=48,e.t0=e.catch(0),console.log(e.t0);case 51:case"end":return e.stop()}}),e,null,[[0,48]])})));return function(t,a){return e.apply(this,arguments)}}(),et=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a,n){var c,s,i,o,u,l,b,j,p,d,O,f,x,v,g,w,k,_,S,y,N,C,L,D,A,P,I,B,F,V,K,Z,G,W,z,X,$,ee;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!we){e.next=37;break}return e.next=4,Object(m.ub)(a,t);case 4:if((c=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:if(s=c.balances3pool,i=c.balancesUsdc,o=c.sun3LpBalance,u=c.sun3TotalSupply,l=c.usdcLpTotalSupply,b=c.userLpAllowance,j=c.userUsdcLpBalance,ct({balances3pool:s,balancesUsdc:i,sun3LpBalance:o,sun3TotalSupply:u,usdcLpTotalSupply:l,userLpAllowance:b,userUsdcLpBalance:j,coins:t}),p=Object(h.fb)(Y).div(100).times(j)._toIntegerDown(),!le||!Object(h.a)(b).lt(p._toIntegerDown())){e.next=19;break}return e.next=13,Je.approveToken(M,Q,{title:"deposit.approve_token",obj:{value:q},continuous:!0},[["thrSunPool/getUserLp"]]);case 13:if(!e.sent){e.next=18;break}be(!1),e.next=19;break;case 18:return e.abrupt("return");case 19:for(f in d=p._toHex(),O=!1,Ne)!0===Ne[f]&&(O=U[f].index);return e.next=24,Object(m.s)(d,O);case 24:if((x=e.sent).success){e.next=27;break}return e.abrupt("return");case 27:return v=x.value,g=t.length,w=v.times(Object(h.a)(1).minus(Object(h.a)(H).times(g).div(4*(g-1)).div(1e10))),k=Object(h.a)(100).div(Object(h.a)(100).plus(n)),_=w.times(k)._toIntegerDown()._toHex(),S={title:"actions.remove",obj:{detail:Object(h.A)(qe,"sun3")}},e.next=35,Je.removeLiqOneCoinSUN3(d,O,_,S,[["thrSunPool/updateCurrencyData"]]);case 35:return e.sent,e.abrupt("return");case 37:return e.next=39,Object(m.ub)(a,t);case 39:if((y=e.sent).success){e.next=42;break}return e.abrupt("return");case 42:if(N=y.balances3pool,C=y.balancesUsdc,L=y.sun3LpBalance,D=y.sun3TotalSupply,A=y.usdcLpTotalSupply,P=y.userLpAllowance,I=y.userUsdcLpBalance,nt({balances3pool:N,balancesUsdc:C,sun3LpBalance:L,sun3TotalSupply:D,usdcLpTotalSupply:A,userLpAllowance:P,userUsdcLpBalance:I,coins:t}),B=Object(h.fb)(Y).div(100).times(I)._toIntegerDown(),!le||!Object(h.a)(P).lt(B._toIntegerDown())){e.next=54;break}return e.next=48,Je.approveToken(M,J,{title:"deposit.approve_token",obj:{value:R},continuous:!0},[["usdcPool/getUserLp"]]);case 48:if(!e.sent){e.next=53;break}be(!1),e.next=54;break;case 53:return e.abrupt("return");case 54:for(K in F=B._toHex(),V=!1,Ne)!0===Ne[K]&&(V=T[K].index);return e.next=59,Object(m.u)(F,V);case 59:if((Z=e.sent).success){e.next=62;break}return e.abrupt("return");case 62:return G=Z.value,W=t.length,z=G.times(Object(h.a)(1).minus(Object(h.a)(H).times(W).div(4*(W-1)).div(1e10))),X=Object(h.a)(100).div(Object(h.a)(100).plus(n)),$=z.times(X)._toIntegerDown()._toHex(),ee={title:"actions.remove",obj:{detail:Object(h.A)(E,"usdc")}},e.next=70,Je.removeLiqOneCoinUSDC(F,V,$,ee,[["usdcPool/updateCurrencyData"]]);case 70:e.sent,e.next=76;break;case 73:e.prev=73,e.t0=e.catch(0),console.log(e.t0);case 76:case"end":return e.stop()}}),e,null,[[0,73]])})));return function(t,a,n){return e.apply(this,arguments)}}(),tt=function(){for(var e in Ne)if(Ne[e])return e;return!1},at=function(){var t=Object(s.a)(Object(r.a)().mark((function t(a){var n,s,i,o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Ze.defaultAccount){t.next=3;break}return t.abrupt("return");case 3:if(!Ue&&Be(!0),Ae){t.next=8;break}if(!Xe(a)){t.next=8;break}return t.abrupt("return");case 8:if(!Ae){t.next=10;break}return t.abrupt("return");case 10:if(n=Ze.defaultAccount,s=[],we?F.map((function(e){s.push(Object(c.a)(Object(c.a)({},U[e]),{},{inputValue:Object(h.fb)(a[e]).times(U[e].precision)}))})):B.map((function(e){s.push(Object(c.a)(Object(c.a)({},T[e]),{},{inputValue:Object(h.fb)(a[e]).times(T[e].precision)}))})),i=s.sort((function(e,t){return e.index-t.index})),o=ae===G?se:ae,e.onSubmit&&e.onSubmit(),!de){t.next=20;break}return t.next=19,et(i,n,o);case 19:return t.abrupt("return",t.sent);case 20:if(Y===Z){t.next=24;break}return t.next=23,$e(i,n);case 23:return t.abrupt("return",t.sent);case 24:return t.next=26,Ye(i,o);case 26:return t.abrupt("return",t.sent);case 29:t.prev=29,t.t0=t.catch(0),console.log(t.t0);case 32:case"end":return t.stop()}}),t,null,[[0,29]])})));return function(e){return t.apply(this,arguments)}}(),nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.balances3pool,a=e.balancesUsdc,n=e.sun3LpBalance,c=e.sun3TotalSupply,r=e.usdcLpTotalSupply,s=(e.userLpAllowance,e.userUsdcLpBalance),i=e.coins;try{var o=[],u=Object(h.a)(s).div(r),l=Object(h.a)(u).times(a),b=Object(h.a)(u).times(n).div(c);return i.map((function(e){var a=e.index,n=e.precision,c=(e.symbol,e.id),r=Object(h.a)(0);r="usdc"===c?l.div(n):b.times(t[c]).div(n),o[a]=r||Object(h.a)(0)})),o}catch(j){return console.log(j),[]}},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.balances3pool,e.balancesUsdc),a=e.sun3LpBalance,n=(e.sun3TotalSupply,e.usdcLpTotalSupply),c=(e.userLpAllowance,e.userUsdcLpBalance),r=e.coins;try{var s=[],i=Object(h.a)(c).div(n),o=Object(h.a)(i).times(t),u=Object(h.a)(i).times(a);return r.map((function(e){var t=e.index,a=e.precision,n=(e.symbol,e.id),c=Object(h.a)(0);c="usdc"===n?o.div(a):u.div(a),s[t]=c||Object(h.a)(0)})),s}catch(l){return console.log(l),[]}},rt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a,n){var c,s,i,o,u,l,b,j,p,d,O,f,x=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=x.length>3&&void 0!==x[3]&&x[3],e.prev=1,e.next=4,Object(m.ub)(t,a);case 4:if((s=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:return i=s.balances3pool,o=s.balancesUsdc,u=s.sun3LpBalance,l=s.sun3TotalSupply,b=s.usdcLpTotalSupply,j=s.userLpAllowance,p=s.userUsdcLpBalance,d=nt({balances3pool:i,balancesUsdc:o,sun3LpBalance:u,sun3TotalSupply:l,usdcLpTotalSupply:b,userLpAllowance:j,userUsdcLpBalance:p,coins:a}),O=[],f={},a.map((function(e){var t=e.index,a=e.id,r=e.decimal,s=(e.precision,Object(h.fb)(n).div(100).times(d[t]));c||(s=Object(h.a)(.98).times(s)),O[t]=s._toIntegerDown()._toHex(),f[a]=Object(h.c)(s._toFixed(r,1))})),e.abrupt("return",{balances:d,userLpAllowance:j,minAmounts:O,amountsStr:f,userLpBalance:p});case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,a,n){return e.apply(this,arguments)}}(),st=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a,n){var c,s,i,o,u,l,b,j,p,d,O,f,x,v=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=v.length>3&&void 0!==v[3]&&v[3],e.prev=1,e.next=4,Object(m.ub)(t,a);case 4:if((s=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:return i=s.balances3pool,o=s.balancesUsdc,u=s.sun3LpBalance,l=s.sun3TotalSupply,b=s.usdcLpTotalSupply,j=s.userLpAllowance,p=s.userUsdcLpBalance,d=s.userLpAllowanceUsdcSwap,O=ct({balances3pool:i,balancesUsdc:o,sun3LpBalance:u,sun3TotalSupply:l,usdcLpTotalSupply:b,userLpAllowance:j,userUsdcLpBalance:p,coins:a}),f=[],x={},a.map((function(e){var t=e.index,a=e.id,r=e.decimal,s=(e.precision,Object(h.fb)(n).div(100).times(O[t]));c||(s=Object(h.a)(.98).times(s)),f[t]=s._toIntegerDown()._toHex(),x[a]=s._toFixed(r,1)})),e.abrupt("return",{balances:O,userLpAllowance:j,minAmounts:f,amountsStr:x,userLpBalance:p,userLpAllowanceUsdcSwap:d});case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,a,n){return e.apply(this,arguments)}}(),it=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,i,o,u,l,b,j,p;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qe.getUserLp();case 3:return n=Qe.swapBalanceInfo.userUsdcLpBalance,c=T[t],s=c.precision,i=c.decimal,o=Object(h.fb)(a).div(100).times(n)._toIntegerDown(),u=T[t].index,l=o._toHex(),e.next=10,Object(m.u)(l,u);case 10:if((b=e.sent).success){e.next=13;break}return e.abrupt("return",!1);case 13:return j=b.value,p=Object(h.a)(j).div(s)._toFixed(i,1),e.abrupt("return",p);case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,a){return e.apply(this,arguments)}}(),ot=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,i,o,u,l,b,j,p;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ge.getUserLp();case 3:return n=Ge.swapBalanceInfo.userUsdcLpBalance,c=U[t],s=c.precision,i=c.decimal,o=Object(h.fb)(a).div(100).times(n)._toIntegerDown(),u=U[t].index,l=o._toHex(),e.next=10,Object(m.s)(l,u);case 10:if((b=e.sent).success){e.next=13;break}return e.abrupt("return",!1);case 13:return j=b.value,p=Object(h.a)(j).div(s)._toFixed(i,1),e.abrupt("return",p);case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,a){return e.apply(this,arguments)}}(),ut=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(Ge.getSwapBalance(),Ge.getVirtualPriceUSDC(),Ge.getVolData()):(Qe.getSwapBalance(),Qe.getVirtualPriceUSDC(),Qe.getVolData())},lt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(){var t,a,n=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length>0&&void 0!==n[0]&&n[0]){e.next=9;break}return e.next=4,Promise.all([Qe.getUserLp(),Qe.getBalanceInfo()]);case 4:t={},B.map((function(e){var a=Qe.poolData[e],n=a.userSwapBalance,c=a.decimal;t[e]=Object(h.c)(Object(h.a)(n)._toFixed(c,1))})),K(t),e.next=14;break;case 9:return e.next=11,Promise.all([Ge.getSwapBalance(),Ge.getUserLp(),Ge.getBalanceInfo()]);case 11:a={},F.map((function(e){var t=Ge.poolData[e],n=t.userSwapBalance,c=t.decimal;a[e]=Object(h.c)(Object(h.a)(n)._toFixed(c,1))})),Re(a);case 14:!Ue&&Be(!0),We||(We=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ut(!1),e.next=3,Qe.getUserLp();case 3:case"end":return e.stop()}}),e)}))),Ze.defaultIntervalSec));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){!ze&&we&&(ze=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ut(!0),e.next=3,Ge.getUserLp();case 3:case"end":return e.stop()}}),e)}))),Ze.defaultIntervalSec))}),[we]),Object(o.useEffect)((function(){return lt(),ut(),function(){clearInterval(We),clearInterval(ze)}}),[]);var bt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var s,i,o,u,l,b,j,p;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ue&&Be(!0),s=Y,i={},o={},u={},!we){e.next=22;break}if(!t){e.next=18;break}for(l in Oe(!0),qe)l!==a&&(i[l]=!1,u[l]=0);return Ce(Object(c.a)(Object(c.a)(Object(c.a)({},qe),i),{},Object(n.a)({},a,t))),(Y===Z||Object(h.fb)(Y).lte(0))&&$(s="100.00"),Object(h.fb)(s).gt(100)&&(s=100),e.next=14,ot(a,s);case 14:(b=e.sent)&&Re(Object(c.a)(Object(c.a)(Object(c.a)({},qe),u),{},Object(n.a)({},a,Object(h.c)(b)))),e.next=21;break;case 18:$(Z),Oe(!1),Ce(Object(c.a)(Object(c.a)({},Ne),{},Object(n.a)({},a,t)));case 21:return e.abrupt("return");case 22:if(!t){e.next=34;break}for(j in Oe(!0),Ne)j!==a&&(i[j]=!1,o[j]=0);return Ce(Object(c.a)(Object(c.a)(Object(c.a)({},Ne),i),{},Object(n.a)({},a,t))),(Y===Z||Object(h.fb)(Y).lte(0))&&$(s="100.00"),Object(h.fb)(s).gt(100)&&(s=100),e.next=30,it(a,s);case 30:(p=e.sent)&&K(Object(c.a)(Object(c.a)(Object(c.a)({},E),o),{},Object(n.a)({},a,Object(h.c)(p)))),e.next=37;break;case 34:$(Z),Oe(!1),Ce(Object(c.a)(Object(c.a)({},Ne),{},Object(n.a)({},a,t)));case 37:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),jt=function(e){$("100"),e?(Ke(F),clearInterval(We)):(Ke(B),clearInterval(ze)),ke(e),Oe(!1),Ce(W(!1)),ut(e),lt(e)},pt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var s,i,o,u,l,b,j,p,d,O,f,x;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ue&&Be(!0),!we){e.next=11;break}for(b in s=U[a].decimal,i=Object(h.V)((""+t.target.value).replace(/,/g,""),s),o=i.valid,u=i.str,o&&Re(Object(c.a)(Object(c.a)({},qe),{},Object(n.a)({},a,Object(h.c)(u)))),$(Z),Oe(!1),l={},Ne)l[b]=!1;return Ce(l),e.abrupt("return");case 11:for(x in j=T[a].decimal,p=Object(h.V)((""+t.target.value).replace(/,/g,""),j),d=p.valid,O=p.str,d&&K(Object(c.a)(Object(c.a)({},E),{},Object(n.a)({},a,Object(h.c)(O)))),$(Z),Oe(!1),f={},Ne)f[x]=!1;Ce(f);case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),dt=function(){var e={},t={};B.map((function(a){e[a]=0,t[0]=!1})),K(e),Ce(Ne),$(0)},Ot=function(){var e={},t={};F.map((function(a){e[a]=0,t[0]=!1})),Re(e),Ce(Ne),$(0)},ft=function(){var e={};B.map((function(t){e[t]=0})),K(e)},xt=function(){var e={};F.map((function(t){e[t]=0})),Re(e)},vt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe.calcInclPrice(t,!1,a);case 2:n=e.sent,ge(n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),gt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge.calcInclPrice(t,!1,a);case 2:n=e.sent,ge(n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),mt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a,s,i,o,u,l,b,j,p,d,O,f,x,v,g,m,w,k,_,S,y;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ue&&Be(!0),s=t.target.value,i=s.split("."),(null===(a=i[1])||void 0===a?void 0:a.length)>2&&(s="".concat(i[0]+"."+i[1].substr(0,2))),!Object(h.a)(s).gt(100)){e.next=6;break}return e.abrupt("return");case 6:if(o=Object(h.V)(s,10),u=o.valid,l=o.str,Y!==Z){e.next=9;break}return e.abrupt("return",we?Ot():dt());case 9:if(""!==s){e.next=12;break}return $(""),e.abrupt("return",we?xt():ft());case 12:if(!u){e.next=50;break}if($(l),!(b=Object(h.a)(l).gt(100)?Object(h.a)(100):Object(h.a)(l)).isNaN()){e.next=17;break}return e.abrupt("return");case 17:if(Ze.defaultAccount){e.next=19;break}return e.abrupt("return");case 19:if(j=Ze.defaultAccount,p=tt(),!we){e.next=37;break}if(!p){e.next=27;break}return e.next=25,ot(p,b);case 25:return d=e.sent,e.abrupt("return",d&&Re(Object(c.a)(Object(c.a)({},qe),{},Object(n.a)({},p,Object(h.c)(d)))));case 27:if(l===Z){e.next=36;break}return O=[],F.map((function(e){O.push(Object(c.a)({},U[e]))})),f=O.sort((function(e,t){return e.index-t.index})),e.next=33,st(j,f,l,!0);case 33:x=e.sent,v=x.amountsStr,g=void 0===v?{}:v,x&&Re(g);case 36:return e.abrupt("return");case 37:if(!p){e.next=42;break}return e.next=40,it(p,b);case 40:return m=e.sent,e.abrupt("return",m&&K(Object(c.a)(Object(c.a)({},E),{},Object(n.a)({},p,Object(h.c)(m)))));case 42:if(l===Z){e.next=50;break}return w=[],B.map((function(e){w.push(Object(c.a)({},T[e]))})),k=w.sort((function(e,t){return e.index-t.index})),e.next=48,rt(j,k,l,!0);case 48:_=e.sent,s===t.target.value&&(S=_.amountsStr,y=void 0===S?{}:S,_&&K(y));case 50:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ht=function(e){!Ue&&Be(!0),ne(e),e!==Z&&ie("")},wt=function(e){var t=Object(h.V)(e,10),a=t.valid,n=t.str;if(a)if(""===n)ie("");else if(Object(h.a)(n).lte(100)){var c,r=n,s=n.split(".");(null===(c=s[1])||void 0===c?void 0:c.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),ie(r)}},kt=function(e){return tt()||Y===Z?Object(I.jsx)("div",{className:"flex start mt-20",children:Object(I.jsx)(C.a,{slippage:e,customSlippage:se,CUSTOM_SLIPPAGE:G,onChangeSlippage:ht,onChangeCustomSlippage:wt})}):Object(I.jsx)(I.Fragment,{})};return Object(I.jsx)(f.a,{children:function(){return Object(I.jsxs)(b.a,Object(c.a)(Object(c.a)({},L.a.row),{},{children:[Object(I.jsxs)(j.a,Object(c.a)(Object(c.a)({},L.a.colLeft),{},{children:[Object(I.jsx)(D.a,{list:a,activeKey:t[0]}),Object(I.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(k.a,{routeName:"usdc/withdraw",mountedActions:lt,instantActions:ut}),Object(I.jsx)(_.a,{title:l.a.get("buysell.usdc_pool")+" "+l.a.get("banner.title_withdraw"),desc:l.a.get("banner.desc_withdraw")}),Object(I.jsx)(S.a,{})]}):null,Ze.isConnected?Object(I.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(I.jsxs)("div",{className:"add-liq withdraw-liq",children:[Object(I.jsxs)("div",{className:"flex",children:[l.a.get("withdraw.share_of_liq"),Object(I.jsx)(P.a,{showMax:!1,placeholder:"100.00",value:Y,onChange:mt,className:"flex-1 ml-20"})]}),Object(I.jsxs)("fieldset",{className:"currencies mt-35",children:[Object(I.jsx)("legend",{children:l.a.get("deposit.currencies")}),Object(I.jsx)("ul",{children:Ee.map((function(e){var t=(we?U[e]:T[e]).symbol,a=void 0===t?"":t;return Object(I.jsxs)("li",{children:[Object(I.jsx)("div",{className:"cur-label",children:Object(I.jsxs)("span",{className:"icon",children:[Object(I.jsx)("img",{src:v.a[e]?v.a[e]:O.default,alt:"",className:"token-logo"}),a]})}),Object(I.jsx)(P.a,{showMax:!1,value:we?qe[e]:E[e],onChange:function(t){pt(t,e)}})]},e)}))})]}),Object(h.ab)(ve),Object(I.jsxs)("fieldset",{children:[Object(I.jsxs)("legend",{className:"flex aic jcs pt20",children:[Object(I.jsx)("span",{className:"mr-10",children:l.a.get("withdraw.withdraw_text")}),Object(I.jsx)(p.a,{title:l.a.get("withdraw.tip"),children:Object(I.jsx)(d.a,{})})]}),Object(I.jsxs)("div",{className:"withdraw-one mt-10",children:[Ee.map((function(e){var t=(we?U[e]:T[e]).symbol,a=void 0===t?"":t;return Object(I.jsx)(y.a,{id:e,checked:Ne[e],tokenLogo:v.a[e]?v.a[e]:O.default,symbol:a,onChange:bt})})),Object(I.jsx)(y.a,{checked:we,symbol:l.a.get("withdraw.as_3sun"),onChange:jt})]})]}),kt(ae),Ae?Object(I.jsx)(N.a,{styleName:"mt-40",type:"single",disabled:!0,info:l.a.get("withdraw.action")}):Object(I.jsx)(N.a,{styleName:"mt-40",type:"single",info:l.a.get("withdraw.action"),onClick:function(){return at(we?qe:E)}}),Ae&&Object(I.jsx)("div",{className:"error-content mt-12",children:Object(I.jsx)("div",{className:"error-tip",children:Ae})})]})}):Object(I.jsx)(A.a,{})]})]})),Object(I.jsx)(j.a,Object(c.a)(Object(c.a)({},L.a.colRight),{},{children:Object(I.jsx)(w.a,{type:we?"sun3":"usdc",className:Ze.isConnected?null:"window-for-tabs-pane"})}))]}))}})}},1815:function(e,t,a){"use strict";a.r(t);var n=a(14),c=a(0),r=a(2),s=a(4),i=a(1773),o=a(1775),u=a(1795),l=a(84),b=a(3),j=a.n(b),p=a(20),d=a.n(p),O=(a(916),a(919),a(6)),f=a(170),x=a(963),v=a(897),g=a(936),m=(a(1342),a(1756)),h=a(1346),w=a(106),k=(a(939),a(270)),_=a(920),S=a(15),y=a(27),N=a(1),C=a(903),L=a(904),D=a(899),A=a(272),P=a(10);function I(e){var t=Object(b.useState)(3),a=Object(n.a)(t,2),i=a[0],o=a[1],u=Object(b.useState)(1),j=Object(n.a)(u,2),p=j[0],x=j[1],v=Object(b.useState)(1),I=Object(n.a)(v,2),T=I[0],U=I[1],B=Object(b.useState)(1),F=Object(n.a)(B,2),V=F[0],E=F[1],K=Object(b.useState)(-1),H=Object(n.a)(K,2),M=H[0],q=H[1],R=Object(b.useState)(1),J=Object(n.a)(R,2),Q=J[0],Z=J[1],G=Object(b.useState)(.005),W=Object(n.a)(G,2),z=W[0],X=W[1],Y=Object(b.useState)(""),$=Object(n.a)(Y,2),ee=$[0],te=$[1],ae=Object(b.useState)(!0),ne=Object(n.a)(ae,2),ce=(ne[0],ne[1],Object(b.useState)("")),re=Object(n.a)(ce,2),se=re[0],ie=re[1],oe=Object(b.useState)(!1),ue=Object(n.a)(oe,2),le=ue[0],be=ue[1],je=(Object(w.a)(window.navigator).any,O.a.usdcPools),pe=O.a.usdcPoolIndex,de=O.a.thrSunPoolIndex,Oe=O.a.usdcPoolKeys,fe=O.a.usdcContracts,xe=O.a.thrSunPoolKeys,ve=O.a.thrSunPools,ge=(O.a.stablePool,O.a.tokens),me=fe.usdcSwap,he=Object(l.d)((function(){return f.a.network})),we=Object(l.d)((function(){return f.a.system})),ke=Object(l.d)((function(){return f.a.usdcPool})),_e=Object(b.useState)(!1),Se=Object(n.a)(_e,2),ye=Se[0],Ne=Se[1],Ce=Object(b.useState)(!1),Le=Object(n.a)(Ce,2),De=Le[0],Ae=Le[1],Pe=Object(b.useState)(ke.poolData1),Ie=Object(n.a)(Pe,2),Te=Ie[0],Ue=Ie[1],Be=Object(b.useState)(pe),Fe=Object(n.a)(Be,2),Ve=Fe[0],Ee=Fe[1];Object(b.useEffect)((function(){Me({i:i,j:T,dx:p,checked:De})}),[]),Object(b.useEffect)((function(){De?(Ue(ke.poolData2),Ee(de)):(Ue(ke.poolData1),Ee(pe))}),[De,ke.poolData1,ke.poolData2]);var Ke=function(){try{var e=i,t=T;if(le){var a=[t,e];e=a[0],t=a[1]}return Object(P.jsx)(P.Fragment,{children:ge[Ve[e]].symbol+"/"+ge[Ve[t]].symbol})}catch(n){return Object(P.jsx)(P.Fragment,{})}},He=function(e){var t=Object.assign({},(Object(g.a)(e),e));be(!le),qe(Object(s.a)(Object(s.a)({},t),{},{exchangeFlags:!le,checked:De}))},Me=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){var a,n,r,s,o,u,l,b,j;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},(Object(g.a)(t),t)),e.prev=1,n=void 0===a.i?i:a.i,r=void 0===a.j?T:a.j,s=void 0===a.dx?p:a.dx,o=a.checked?de:pe,u=a.checked?ve:je,Object(N.fb)(s).gt(0)){e.next=10;break}return E(0),e.abrupt("return");case 10:if(l=Object(N.fb)(s).times(u[o[n]].precision)._toIntegerDown()._toHex(),b=null,!a.checked){e.next=18;break}return e.next=15,Object(S.Q)(n,r,l,me);case 15:b=e.sent,e.next=21;break;case 18:return e.next=20,Object(S.mb)(n,r,l);case 20:b=e.sent;case 21:b.success?(j=Object(N.a)(b.value).div(u[o[r]].precision),E(Object(N.c)(Object(N.a)(j)._toFixed(u[o[r]].decimal,1))),Z(Object(N.a)(b.value))):(E(0),Z(1)),a.notChangeRate||qe({i:n,j:r,dx:s,checked:a.checked}),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(1),console.log("getDyData: ",e.t0);case 28:case"end":return e.stop()}}),e,null,[[1,25]])})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){var a,n,r,s,o,u,l,b,j,d;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},(Object(g.a)(t),t)),e.prev=1,n=void 0===a.i?i:a.i,r=void 0===a.j?T:a.j,s=void 0===a.dx?p:a.dx,o=void 0===a.exchangeFlags?le:a.exchangeFlags,u=a.checked?de:pe,l=a.checked?ve:je,b=Object(N.fb)(s).times(l[u[n]].precision)._toIntegerDown()._toHex(),j=null,Object(N.fb)(s).gt(0)){e.next=12;break}return e.abrupt("return");case 12:if(!a.checked){e.next=18;break}return e.next=15,Object(S.Q)(n,r,b,me);case 15:j=e.sent,e.next=21;break;case 18:return e.next=20,Object(S.mb)(n,r,b);case 20:j=e.sent;case 21:j.success&&(d=Object(N.a)(j.value).div(l[u[r]].precision).div(Object(N.fb)(s)),q(o?Object(N.a)(1).div(Object(N.a)(d)._toFixed(4,1))._toFixed(4,1):d._toFixed(4,1))),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(1),console.log("getRateData: ",e.t0);case 27:case"end":return e.stop()}}),e,null,[[1,24]])})));return function(t){return e.apply(this,arguments)}}(),Re=function(e){var t=De?ve:je,a=i;Number(e)!==Number(T)&&(a=T),U(a),o(e);var n=Object(N.fb)(p)._toFixed(t[Ve[e]].decimal,1);x(Object(N.c)(n)),Me({i:e,j:a,dx:n,checked:De})},Je=function(e){var t=De?ve:je,a=T;Number(e)!==Number(i)&&(a=i),o(a),U(e);var n=Object(N.fb)(p)._toFixed(t[Ve[a]].decimal,1);x(Object(N.c)(n)),Me({j:e,i:a,dx:n,checked:De})},Qe=function(e){!ye&&Ne(!0);var t=De?ve:je,a=Object(N.V)((""+e).replace(/,/g,""),t[Ve[i]].decimal),n=a.valid,c=a.str,r=Te&&Te[Ve[i]]&&Object(N.a)(Te[Ve[i]].balance).div(t[Ve[i]].precision)._toFixed(2,1);if(n){if(Object(N.a)(c).lte(0))return x(Object(N.c)(c)),E(0),void ie(d.a.get("buysell.error_msg_1"));Object(N.a)(c).gt(r)&&ie(d.a.get("buysell.error_msg_2")),x(Object(N.c)(c)),Me({dx:c,checked:De})}},Ze=function(e){try{var t="--";return t=e[Ve[i]].balance,t=Object(N.a)(t).isNaN()?"--":e[Ve[i]].balance.div(e[Ve[i]].precision),Object(P.jsx)("span",{children:e&&Object(N.u)(t)})}catch(a){}},Ge=function(){try{var e=Te[Ve[i]],t=e.precision,a=e.balance,n=e.symbol;return a=Object(N.a)(a).div(t),Object(N.fb)(p).eq(0)||Object(N.fb)(p).isNaN()?(ie(d.a.get("error.e1")),!0):Object(N.fb)(p).gt(a)?(ie(d.a.get("error.e2",{token:n})),!0):2===z&&(!ee||Number(ee)<.1||Number(ee)>50)?(ie(d.a.get("error.e5")),!0):(ie(""),!1)}catch(c){return!1}};Object(b.useEffect)((function(){ye&&Ge()}),[i,T,p,z,ee]);var We=function(){var e=De?ve:je,t=Te&&Object(N.a)(Te[Ve[i]].balance).div(e[Ve[i]].precision);Qe(t)},ze=function(){var e=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){var a,n,r,s,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.checked,n=a?de:pe,Ae(a),r=0,s=1,i=Object(N.fb)(p),a||(r=3,s=1),!a){e.next=15;break}if("--"!==ke.poolData2[n[r]].balance){e.next=13;break}return e.next=11,ke.getBalanceInfo(me,xe,"3sun");case 11:Ue(ke.poolData2),Ee(de);case 13:e.next=20;break;case 15:if("--"!==ke.poolData1[n[r]].balance){e.next=20;break}return e.next=18,ke.getBalanceInfo(me);case 18:Ue(ke.poolData1),Ee(pe);case 20:o(r),U(s),x(Object(N.c)(i)),Me({i:r,j:s,dx:i,checked:a,notChangeRate:!0}),qe({no:1,i:r,j:s,dx:i,checked:a});case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{children:Object(P.jsx)(h.a,{checked:De,onChange:e,children:d.a.get("buysell.sun3_swap")})}),Object(P.jsxs)("div",{className:"exchang-rate-text mt-20",children:[Object(P.jsxs)("span",{className:"en-US"===window.localStorage.getItem("lang")?"er-en":"",children:[d.a.get("buysell.exchange_rate",{symbol:"3Pool LP"})+" ",Object(P.jsx)(Ke,{})]}),Object(P.jsx)("img",{style:{cursor:"pointer",margin:"0 6px"},className:"exchange-img",alt:"",src:_.a,onClick:He}),"(",Object(P.jsxs)("span",{children:[d.a.get("buysell.including_fees"),"): ",-1===M?d.a.get("buysell.not_available"):M]})]})]})},Xe=function(){var t=function(){var t=Object(r.a)(Object(c.a)().mark((function t(){var a,n,s,o,u,l;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=function(){var t=Object(r.a)(Object(c.a)().mark((function t(){var a,n,r,s,o,u,l,b;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!se){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,a=2!==z?z:ee?Object(N.a)(ee).div(100):0,n=Object(N.a)(Q).times(Object(N.a)(1).minus(Object(N.a)(a)))._toIntegerDown()._toHex(),r=i,s=T,o=De?ve:je,u=Object(N.fb)(p).times(o[Ve[r]].precision)._toIntegerDown()._toHex(),l={title:"notification.tip1",title2:"notification.tip1",title3:"notification.tip1",title4:"notification.tip1",obj:{fromValue:Object(N.u)(Object(N.fb)(p)),fromToken:ge[Ve[r]].symbol,toValue:Object(N.u)(Object(N.fb)(V)),toToken:ge[Ve[s]].symbol}},b="",!De){t.next=17;break}return t.next=14,we.toExchangeUsdcNew(r,s,u,n,l,[["pool/updateCurrencyData"]],me);case 14:b=t.sent,t.next=20;break;case 17:return t.next=19,we.toUsdcExchange(r,s,u,n,l,[["pool/updateCurrencyData"]]);case 19:b=t.sent;case 20:b&&(setTimeout((function(){De?ke.getBalanceInfo(me,xe,"3sun"):ke.getBalanceInfo(me)}),5e3),e.onSubmit&&e.onSubmit(b)),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(2),console.log("sellSubmit: ",t.t0);case 26:case"end":return t.stop()}}),t,null,[[2,23]])})));return function(){return t.apply(this,arguments)}}(),he.isConnected){t.next=4;break}return ie(d.a.get("buysell.error_msg_3")),t.abrupt("return");case 4:if(!ye&&Ne(!0),se){t.next=9;break}if(!Ge()){t.next=9;break}return t.abrupt("return");case 9:if(!se){t.next=11;break}return t.abrupt("return");case 11:return n=De?ve:je,t.prev=12,t.next=15,Object(S.Sb)(window.defaultAccount,[n[Ve[i]].token],[me]);case 15:if(s=t.sent,o=s[me].allowance,u=Te[Ve[i]].approveStatus,o.gt(0)||u){t.next=32;break}return l={action:"approve",title:"deposit.approve_token",obj:{value:ge[(De?xe:Oe)[i]].symbol},continuous:!0},t.next=23,we.approveToken(n[Ve[i]].token,me,l,[["pool/getBalanceInfo"]]);case 23:if(!t.sent){t.next=29;break}Te[Ve[i]].approveStatus=2,a(),t.next=30;break;case 29:return t.abrupt("return");case 30:t.next=33;break;case 32:a();case 33:t.next=38;break;case 35:t.prev=35,t.t0=t.catch(12),console.log("exchangeBefore: ",t.t0);case 38:case"end":return t.stop()}}),t,null,[[12,35]])})));return function(){return t.apply(this,arguments)}}();return Object(P.jsx)(P.Fragment,{children:se?Object(P.jsx)(D.a,{styleName:"mt-40",type:"single",disabled:!0,info:d.a.get("sell_btn")}):Object(P.jsx)(D.a,{styleName:"mt-40",type:"single",info:d.a.get("sell_btn"),onClick:t})})},Ye=function(e){!ye&&Ne(!0),X(e),2!==e&&te("")},$e=function(e){!ye&&Ne(!0);var t=Object(N.V)(e,10),a=t.valid,n=t.str;if(a)if(""===n)te("");else if(Object(N.a)(n).lte(100)){var c,r=n,s=n.split(".");(null===(c=s[1])||void 0===c?void 0:c.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),te(r)}},et=function(e){var t=e.direction,a=void 0===t?"left":t,n=De?xe:Oe,c=De?ve:je;return Object(P.jsx)("div",{className:"flex start mb-16 pc-input-box",children:n.map((function(e){var t=y.a[e]||k.default,n="left"===a?i:T;return Object(P.jsx)(C.a,{id:e,checked:n===c[e].index,tokenLogo:t,symbol:c[e].symbol,onChange:function(t,n){"left"===a?Re(c[e].index):Je(c[e].index)}})}))})},tt=function(){return Object(P.jsx)("span",{className:"exchange-alt",onClick:function(){return function(){!ye&&Ne(!0);var e=i,t=T,a=V;e!==t&&(o(t),U(e),x(a),Me({i:t,j:e,dx:a,notChangeRate:!0,checked:De}),qe({no:1,i:t,j:e,dx:a,checked:De}))}()}})},at=Object(A.a)(A.b);return Object(P.jsx)(l.a,{children:function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{className:"exchange-box",children:[Object(P.jsx)(et,{direction:"left"},"left"),Object(P.jsxs)("div",{className:"input-block",children:[Object(P.jsxs)("div",{className:"flex",children:[Object(P.jsx)("div",{className:"input-number",children:Object(P.jsx)(m.a,{className:"input",value:p,onChange:function(e){return Qe(e.target.value)}})}),Object(P.jsx)("span",{className:"max-btn",onClick:We,children:d.a.get("sunSwapV3.swap.input_from_max")})]}),Object(P.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(P.jsx)("span",{children:d.a.get("sunSwapV3.swap.input_from_balance")})," ",Ze(Te)]})]}),Object(P.jsxs)("div",{className:"flex",children:[Object(P.jsx)(tt,{}),!at&&Object(P.jsx)("div",{className:"flex start",children:Object(P.jsx)(L.a,{type:"exchange",slippage:z,customSlippage:ee,CUSTOM_SLIPPAGE:2,onChangeSlippage:function(e){Ye(Number(e))},onChangeCustomSlippage:function(e){X(2),$e(e)}})})]}),Object(P.jsx)(et,{direction:"right"},"right"),Object(P.jsxs)("div",{className:"input-block",children:[Object(P.jsx)("div",{className:"input-number",children:Object(P.jsx)(m.a,{disabled:!0,className:"input",value:V})}),Object(P.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(P.jsx)("span",{children:d.a.get("sunSwapV3.swap.input_from_balance")})," ",Ze(Te)]})]}),Object(P.jsx)(ze,{}),at&&Object(P.jsx)("div",{className:"flex start",children:Object(P.jsx)(L.a,{type:"exchange",slippage:z,customSlippage:ee,CUSTOM_SLIPPAGE:2,onChangeSlippage:function(e){Ye(Number(e))},onChangeCustomSlippage:function(e){X(2),$e(e)}})})]}),Object(P.jsx)(Xe,{}),se&&Object(P.jsx)("div",{className:"error-content mt-12",children:Object(P.jsx)("div",{className:"error-tip",children:se})})]})}})}var T=a(1036),U=a(1244),B=a(1245),F=a(921),V=a(61),E=a(908),K=a(901),H=a(898),M=a(902),q=Object(F.a)({childPage:V.h.liquidity_oldusdc}),R=q.tabChangeLog,J=q.tabSubmitLog,Q=function(e){var t=e.onSubmit,a=e.pageList,n=e.tabPaneKey,c=e.isConnected;return Object(P.jsxs)(i.a,Object(s.a)(Object(s.a)({},K.a.row),{},{children:[Object(P.jsxs)(o.a,Object(s.a)(Object(s.a)({},K.a.colLeft),{},{children:[Object(P.jsx)(H.a,{list:a,activeKey:n[0]}),c?Object(P.jsx)("div",{className:"window-for-tabs-pane",children:Object(P.jsx)(I,{onSubmit:t})}):Object(P.jsx)(M.a,{})]})),Object(P.jsx)(o.a,Object(s.a)(Object(s.a)({},K.a.colRight),{},{children:Object(P.jsx)(T.a,{})}))]}))},Z={1:{title:d.a.get("banner.title_deposit"),content:d.a.get("banner.desc_deposit"),tabTitle:d.a.get("header.deposit")},2:{title:d.a.get("banner.title_withdraw"),content:d.a.get("banner.desc_withdraw"),tabTitle:d.a.get("header.withdraw")},3:{title:d.a.get("banner.title_1"),content:d.a.get("banner.desc_1"),tabTitle:d.a.get("header.swap")}};t.default=function(){var e=Object(x.usePoolTab)(),t=e.title,a=e.tabKey,i=j.a.useState(a),o=Object(n.a)(i,2),p=o[0],g=o[1],m=function(){var e=null,t=Object(l.d)((function(){return f.a.usdcPool})),a=Object(l.d)((function(){return f.a.network})),n=(O.a.thrSunPoolKeys,O.a.usdcContracts),s=function(){var e=Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.getSwapBalance(),t.getVirtualPriceUSDC(),t.getVolData();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var i=Object(r.a)(Object(c.a)().mark((function i(){return Object(c.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t.getUserLp(),i.next=3,t.getBalanceInfo(n.usdcSwap);case 3:return i.next=5,t.getBalanceInfo(n.USDCDepositer);case 5:e||(e=setInterval(Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(),t.getUserLp(),e.next=4,t.getBalanceInfo(n.usdcSwap);case 4:return e.next=6,t.getBalanceInfo(n.USDCDepositer);case 6:case"end":return e.stop()}}),e)}))),a.defaultIntervalSec));case 6:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}();return j.a.useEffect((function(){return function(){clearInterval(e)}}),[]),{mountedActions:i,instantActions:s}}(),h=m.mountedActions,w=m.instantActions,k=window.localStorage.getItem("lang"),_=Object(b.useCallback)((function(e){var t=e.value;g(t),R(t)}),[]),S=function(){var e=window.localStorage.getItem("lang")||d.a.options.currentLocale,t=window.location.origin+window.location.pathname;window.location.href=t+"?lang=".concat(e,"#/sunCurve")},y=Object(b.useMemo)((function(){return{shouldScroll:!0,navRightMoreShow:!0,navRightMoreClick:S}}),[]),N=Object(b.useMemo)((function(){return K.b.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{handler:_})}))}),[_]),C=Object(l.d)((function(){return f.a.network}));return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(v.a,{mountedActions:h,instantActions:w,subNavProps:y}),Object(P.jsxs)("div",{className:"main-page-content",children:[Object(P.jsx)(E.a,{title:"".concat(t).concat("en-US"===k?" ":"").concat(d.a.get("buysell.Pool")).concat("en-US"===k?" ":"").concat(Z[p[0]].title),subTitle:Z[p[0]].content}),Object(P.jsx)("div",{className:"pool-tabs",children:Object(P.jsxs)(u.a,{activeKey:p[0],centered:!0,renderTabBar:function(){return null},children:[Object(P.jsx)(u.a.TabPane,{tab:Object(x.renderTab)("1"),children:Object(P.jsx)(U.default,{onSubmit:function(){return J("1")},pageList:N,tabPaneKey:p})},"1"),Object(P.jsx)(u.a.TabPane,{tab:Object(x.renderTab)("2"),children:Object(P.jsx)(B.default,{onSubmit:function(){return J("2")},pageList:N,tabPaneKey:p})},"2"),Object(P.jsx)(u.a.TabPane,{tab:Object(x.renderTab)("3"),children:Object(P.jsx)(Q,{onSubmit:function(e){return J("3",{event_label:e,txid:e})},pageList:N,tabPaneKey:p,isConnected:C.isConnected})},"3")]})})]})]})}},898:function(e,t,a){"use strict";a(911);var n=a(26),c=a.n(n),r=a(10);t.a=function(e){return Object(r.jsx)("div",{className:"tempalte-pageTab-nav",children:e.list.map((function(t){return Object(r.jsx)("div",{className:c()("tempalte-pageTab-nav-item",{"tempalte-pageTab-nav-active":e.activeKey===t.value}),onClick:function(){return t.handler(t)},children:t.label},t.value)}))})}},901:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}));var n=a(20),c=a.n(n),r={row:{gutter:[{xs:8,sm:16,md:32},20]},colLeft:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:15}},colRight:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:9}}},s={1:{title:c.a.get("banner.title_deposit"),content:c.a.get("banner.desc_deposit"),tabTitle:c.a.get("header.deposit")},2:{title:c.a.get("banner.title_withdraw"),content:c.a.get("banner.desc_withdraw"),tabTitle:c.a.get("header.withdraw")},3:{title:c.a.get("banner.title_1"),content:c.a.get("banner.desc_1"),tabTitle:c.a.get("header.swap")}},i=[{label:s[1].tabTitle,value:"1"},{label:s[2].tabTitle,value:"2"},{label:s[3].tabTitle,value:"3"}]},903:function(e,t,a){"use strict";var n=a(5),c=a(26),r=a.n(c),s=a(925),i=a(10);t.a=function(e){var t,a=e.checked,c=e.tokenLogo,o=e.symbol,u=void 0===o?"":o,l=e.onChange,b=e.id,j=void 0===b?"":b;return Object(i.jsxs)("div",{className:r()((t={},Object(n.a)(t,s.sun_check_button,!0),Object(n.a)(t,s.sun_check_active_button,a),t)),onClick:function(){l&&l(!a,j)},children:[c&&Object(i.jsx)("img",{src:c,alt:"",className:"token-logo"}),Object(i.jsx)("span",{children:u})]})}},904:function(e,t,a){"use strict";var n=a(20),c=a.n(n),r=a(26),s=a.n(r),i=a(1756),o=a(914),u=a(10),l=[{key:.2,label:"0.2%"},{key:3,label:"3%"}],b=[{key:.005,label:"0.5%"},{key:.01,label:"1%"}];t.a=function(e){var t=e.slippage,a=e.customSlippage,n=e.CUSTOM_SLIPPAGE,r=e.type,j="withdraw"===(void 0===r?"withdraw":r)?l:b;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"mr-10",children:c.a.get("withdraw.slippage")}),Object(u.jsxs)("div",{className:s()(o.setting_btns),children:[Object(u.jsx)("div",{className:o.setting_btn_wrap,children:j.map((function(a){return Object(u.jsx)("button",{className:s()(t===a.key?o.active:""),onClick:function(){return t=a.key,void(e.onChangeSlippage&&e.onChangeSlippage(t));var t},children:a.label})}))}),Object(u.jsx)(i.a,{className:s()(o.setting_input,o.module_important,["ml-20"]),suffix:"%",value:a,onFocus:function(){a||e.onChangeSlippage&&e.onChangeSlippage(n)},onBlur:function(){a||e.onChangeSlippage&&e.onChangeSlippage(String(j[0].key))},onChange:function(t){e.onChangeCustomSlippage&&e.onChangeCustomSlippage(t.target.value)}})]})]})}},908:function(e,t,a){"use strict";var n=a(5),c=a(3),r=a(26),s=a.n(r),i=a(912),o=a(10),u=function(e){var t,a=e.title,c=e.subTitle,r=e.isRevert,u="string"===typeof a;return Object(o.jsxs)("div",{className:i.page_title_wrap,children:[r&&c&&Object(o.jsx)("div",{className:i.page_title_sub,children:c}),a&&Object(o.jsx)("div",{className:s()((t={},Object(n.a)(t,i.page_title,!0),Object(n.a)(t,i.page_title_revert,r),Object(n.a)(t,i.page_title_ele,!u),t)),children:u?a.split("").map((function(e,t){return Object(o.jsx)("span",{className:i.page_title_ele,children:e},t)})):a}),c&&!r&&Object(o.jsx)("div",{className:i.page_title_sub,children:c})]})};t.a=Object(c.memo)(u)},911:function(e,t,a){},912:function(e,t,a){e.exports={page_title:"style_page_title__dfZPh",page_title_wrap:"style_page_title_wrap__7dtV_",page_title_ele:"style_page_title_ele__Tktf1",page_title_sub:"style_page_title_sub__1IUsF",page_title_revert:"style_page_title_revert__18HMS"}},914:function(e,t,a){e.exports={setting_wrap:"style_setting_wrap__L7ld9",setting_label:"style_setting_label__3qQrG",setting_btns:"style_setting_btns__zH_61",setting_btn_wrap:"style_setting_btn_wrap__uxT1B",setting_input:"style_setting_input__kvJzs",active:"style_active__10VTC",module_important:"style_module_important__PuwNO",info_text:"style_info_text__3K73H",setting_minutes:"style_setting_minutes__1mIXw"}},916:function(e,t,a){},917:function(e,t,a){"use strict";a(3);var n=a(20),c=a.n(n),r=a(84),s=a(6),i=a(170),o=a(1),u=(a(918),a(932)),l=a(929),b=a(10),j=s.a.Fee,p=s.a.A,d=s.a.ADMIN_FEE,O=s.a.poolKeys;s.a.pools;t.a=function(e){var t=Object(r.d)((function(){return i.a.pool})),a=Object(r.d)((function(){return i.a.network})),n=function(e,t){var a=Object(o.a)(e).times(t).div(1e18);return a.isNaN()?"--":Object(o.u)(a,2)},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var a=Object(o.a)(0);for(var n in e){var c=e[n],r=c.userSwapBalance,s=c.priceKey,i=t?t[s]:"--";a=a.plus(Object(o.a)(r).times(i))}return Object(o.u)(a)}catch(u){return console.log(u),"--"}},x=O.map((function(e){return t.poolData[e]})).filter((function(e){return e})),v=t.volData?t.volData["3pvol24Hours"]:"",g="Old 3Pool ".concat(c.a.get("pool.pool2_contract")),m="3SUN ".concat(c.a.get("pool.token_contract2"));return Object(b.jsx)(r.a,{children:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(u.a,{poolTokens:x,totalSwapBalance:t.totalSwapBalance,adminFee:d,fee:j,virtualPrice:t.virtualPrice,dailyVol:v,poolContract:s.a.stablePool,poolName:g,lpTokenAddress:s.a.stableLp,lpTokenName:m,aValue:p}),a.isConnected&&Object(o.a)(t.sharePer).gt(0)&&Object(b.jsx)(l.a,{sharePer:t.sharePer,usdBalance:f(t.poolData,t.volData),avgUsdBalance:n(t.userLpBalance,t.virtualPrice),userTotalBalance:t.userTotalBalance,myPoolTokens:x})]})}})}},919:function(e,t,a){},920:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAA/JJREFUWEfVWctqFUEQPeX7/X5tXIkIouBa/AkxgkYXgrhwIQiufaCuxYXoQsSNGkHFnxDXgiKIuHJlTIwmMYmJ8ci5Voe+k3tneuaOIVMwhCTT3aerTlWdnjb0YCQNwHIAKwEsA7AEwFL/qZn/AJj1n78B/AIwY2asuqwWLG0kBXCVPwJZxrSJKT1mpg2UslKASa4AsMG9GhaSBwVgJuNR/T/2uCKhTSoCwTRm1MymU1EnASapcK/3BUOoJ9xLWjTZSAbgayLqaMNjZiba5FohYA//ZgB6V9z7qcfMFNrKRlLeX+tPmHukiCa5gElqQlFAJi8ofKJAbUZSFNEaootMa8gpHa0rYJIbAShssnE9vWR33g692qwDoEc2YWY/Oo3pCDjj2e9mNlmbS3MmIrkawKY8T88D7Jzd4oMWDGzYRwb0tyyn2wB7NdjmCSYKjC2EZ7NrkFRFEj2U5ENx9cgCVjUQ+ZVg8m6pjkTyMIA9AAZSSlQ3ZzinRY0WFjMbCe/OAfamsNV39bVMNSCp5LwN4JxPfMPMrvQSHa8e2z3aw6G5xIBFBRX1UlQgeRDAUwD7I4A9A9ZcETWkP4b0txbgKNHUDOTdpKZA8jyAW1EN1XQDAM7WUVm8ucjLajKtBAyAxReVlCTvkhTXHwA4GnlVxf6CmT3shQo5CdiqzeYE3+G7UEbmagOSRwA8AbA7mvwNgBNm9qFOsB590VR0VdQHBVgKTMk2a2aDBR3pMoCrGcWljnTPtW4VvB/lgLyKRFIOVQsfFuBQ8yRoRnNKzTEAz6sgShhz2swe56wtrSFdMy7AofbmdjWSfQCeJSxe5ZUiwKFlTwmw6CBazGuDHRJAoA9UQZQzJoUSOuFILkwLcOCHylmhgK4ZbNJ0LhlU3mYFeJfX4y+p9TdplRpf8nq8Uy2jkYAbR4mkpPMG0w9gb43R1lTvzCy3XEbSoZV0qWXtFIBHNYMN0x3PAx2J+lZZS20c/xNwn5m9SG0cSa25Bkqolkrd6XAbTCfwa2Z2s0AStLVmKbZk8VOFEiT3uWY+FI3/DKDfzF4VgG0XP66IwpE+SV6WAU3yDIA7rgXC0JeumeeOPjl0CJT9Jy8dcGh9pQR8gWfU/6WZT0bv6ax4yczupmy6q4B30JWOSDmeuQ5AcjTYe9fMb1PAOqbg3fYjkv8zJJ9OyqUOoZ0AkIwB3wdw0cz0ATHJCg+hDrqnY36MxAWL6PDJzF4nofSXko75DlifVZvzISWTgPp1cX+qCmFr1MfACHRzPrd28fTi/qAdgVZTacaVQQS6OZcymdrajGuvbNH3E4C0guhS5WJRF4qTRTdGnZpN4bVXgcBZ8Kvbv7gRNO3rhp7CAAAAAElFTkSuQmCC"},921:function(e,t,a){"use strict";var n=a(4),c=a(61);t.a=function(e){var t=e.childPage,a=["deposit","withdraw","swap"],r=function(e,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a[e-1],o=c.g[r?"".concat(r,"_").concat(i):i];o&&Object(c.a)(Object(n.a)({action:o(t),event_category:t},s))};return{tabChangeLog:function(e){return r(e,"tab")},tabSubmitLog:function(e,t){return r(e,null,t)}}}},925:function(e,t,a){e.exports={sun_check_button:"style_sun_check_button__5diEB",sun_check_active_button:"style_sun_check_active_button__28IzL"}},939:function(e,t,a){"use strict"},946:function(e,t,a){},950:function(e,t,a){"use strict";var n=a(5),c=a(4),r=a(0),s=a(2),i=a(14),o=a(3),u=a(20),l=a.n(u),b=a(84),j=a(1773),p=a(1775),d=a(1346),O=a(882),f=a(195),x=a(270),v=a(27),g=a(1),m=a(6),h=a(170),w=a(897),k=a(907),_=(a(915),a(917)),S=a(317),y=a(906),N=a(899),C=a(15),L=a(898),D=a(901),A=a(902),P=a(910),I=a(10),T=m.a.pools,U=m.a.poolKeys,B=m.a.ALL_FEE,F=m.a.defaultSlippage,V=m.a.stablePool;t.a=function(e){var t=e.pageList,a=e.tabPaneKey,u=Object(b.d)((function(){return h.a.network})),m=Object(b.d)((function(){return h.a.system})),E=Object(b.d)((function(){return h.a.pool})),K=Object(o.useState)(function(){var e={};return U.map((function(t){e[t]=""})),e}()),H=Object(i.a)(K,2),M=H[0],q=H[1],R=Object(o.useState)(!1),J=Object(i.a)(R,2),Q=J[0],Z=J[1],G=Object(o.useState)(!0),W=Object(i.a)(G,2),z=W[0],X=W[1],Y=Object(o.useState)(!1),$=Object(i.a)(Y,2),ee=$[0],te=$[1],ae=Object(o.useState)("--"),ne=Object(i.a)(ae,2),ce=ne[0],re=ne[1],se=Object(o.useState)("--"),ie=Object(i.a)(se,2),oe=ie[0],ue=ie[1],le=Object(o.useState)(!1),be=Object(i.a)(le,2),je=be[0],pe=be[1],de=Object(o.useState)(!1),Oe=Object(i.a)(de,2),fe=Oe[0],xe=Oe[1],ve=Object(o.useState)(!1),ge=Object(i.a)(ve,2),me=ge[0],he=ge[1],we=null;Object(o.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([De(M),Se()]);case 2:je&&Ce(M);case 3:case"end":return e.stop()}}),e)}))),[M]);var ke=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,ee){e.next=5;break}if(!Ce(t)){e.next=5;break}return e.abrupt("return");case 5:if(!ee){e.next=7;break}return e.abrupt("return");case 7:if(!Object(g.a)(ce).abs().gt(10)){e.next=9;break}return e.abrupt("return",xe(!0));case 9:return e.next=11,_e(t);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var t=Object(s.a)(Object(r.a)().mark((function t(a){var n,s,i,o,u,l,b,j,p,d,O,f,x,v,h,w,k;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,n=[],e.onSubmit&&e.onSubmit(),U.map((function(e){n.push(Object(c.a)(Object(c.a)({},E.poolData[e]),{},{inputValue:a[e]?Object(g.fb)(a[e]).times(T[e].precision):Object(g.a)(0)}))})),s=0;case 5:if(!(s<n.length)){t.next=19;break}if(i=n[s],o=i.allowance,u=void 0===o?Object(g.a)(0):o,l=i.inputValue,b=i.token,j=i.symbol,p=i.approveStatus,d=i.id,!Object(g.a)(u).lt(l)||p){t.next=16;break}return t.next=10,m.approveToken(b,V,{title:"deposit.approve_token",obj:{value:j},continuous:!0},[["pool/getBalanceInfo"]]);case 10:if(!t.sent){t.next=15;break}E.poolData[d].approveStatus=2,t.next=16;break;case 15:return t.abrupt("return");case 16:s++,t.next=5;break;case 19:if(O=n.sort((function(e,t){return e.index-t.index})),f=O.length,x=O.map((function(e){return e.inputValue._toIntegerDown()._toHex()}))||[],v=null,!E.lpTotalSupply.lte(0)){t.next=26;break}return t.next=26,E.getUserLp();case 26:if(!E.lpTotalSupply.lte(0)){t.next=30;break}v=Object(g.a)(1),t.next=36;break;case 30:return t.next=32,Object(C.d)(x);case 32:if((h=t.sent).success){t.next=35;break}return t.abrupt("return");case 35:v=h.value;case 36:return v=v.times(Object(g.a)(1).minus(Object(g.a)(B).times(f).div(Object(g.a)(4).times(f-1)).div(1e10))),w=v.times(1-F)._toFixed(0,1),k={title:"actions.addLiq",obj:{detail:Object(g.A)(a)}},t.next=41,m.addLiquidity(x,w,k,[["pool/updateCurrencyData"]]);case 41:t.sent&&Te(),t.next=48;break;case 45:t.prev=45,t.t0=t.catch(0),console.log("deposit err: ",t.t0);case 48:case"end":return t.stop()}}),t,null,[[0,45]])})));return function(e){return t.apply(this,arguments)}}(),Se=function(){var e=Object(s.a)(Object(r.a)().mark((function e(){var t,a,n,c,s,i,o,u;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in t=[],M)n=T[a],c=n.index,s=n.precision,i=M[a].replace(/,/g,""),t[c]=Object(g.a)(i).isNaN()?0:Object(g.a)(i).times(s)._toIntegerDown()._toHex();if(o=null,!E.lpTotalSupply.lte(0)){e.next=6;break}return e.next=6,E.getUserLp();case 6:if(!E.lpTotalSupply.lte(0)){e.next=10;break}o=Object(g.a)(1),e.next=16;break;case 10:return e.next=12,Object(C.d)(t);case 12:if((u=e.sent).success){e.next=15;break}return e.abrupt("return");case 15:o=u.value.div(1e18);case 16:ue(o);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([E.getSwapBalance(),E.getVirtualPrice(),E.getVolData()]);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(s.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([E.getUserLp(),E.getBalanceInfo()]);case 2:t={},U.map((function(e){var a=E.poolData[e],n=a.precision,c=a.balance,r=a.decimal;t[e]=Object(g.c)(Object(g.a)(c).div(n)._toFixed(r,1))})),q(t),!je&&pe(!0),we||(we=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ye(),E.getUserLp();case 2:case"end":return e.stop()}}),e)}))),u.defaultIntervalSec));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Ne(),ye()]);case 2:return e.abrupt("return",(function(){clearInterval(we)}));case 3:case"end":return e.stop()}}),e)}))),[u.defaultAccount]);var Ce=function(e){var t=Object.keys(e),a=t.length;if(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),a=t.filter((function(t){return Object(g.fb)(e[t]).eq(0)||!e[t]}));return t.length===a.length}(e))return te(l.a.get("error.e1")),!0;for(var n=0;n<a;n++){var c=t[n],r=e[c];if(!r&&(Q||z))return te(l.a.get("error.e1")),!0;var s=E.poolData[c],i=s.balance,o=s.precision,u=s.symbol;if(Object(g.a)(i).div(o).lt(Object(g.fb)(r)))return te(l.a.get("error.e2",{token:u})),!0}return te(!1),!1},Le=function(e){he(e.target.checked)},De=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.calcInclPrice(t);case 2:a=e.sent,re(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(e,t){var a=t,n={};n[e]=Object(g.c)(String(a).replace(/,/g,""));var c=E.poolData[e],r=(c.precision,c.swapBalance),s=(c.balance,Object(g.fb)(a).div(r).isNaN()?Object(g.a)(0):Object(g.fb)(a).div(r));U.filter((function(t){return t!==e})).map((function(e){var t=E.poolData[e],a=t.balance,c=void 0===a?Object(g.a)(0):a,r=t.swapBalance,i=t.precision,o=t.decimal;n[e]=Object(g.c)(s.times(r)._toFixed(o,1)),c.div(i).lt(Object(g.fb)(n[e]))&&(n[e]=Object(g.c)(c.div(i)._toFixed(o,1)))})),q(n)},Pe=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,Z(a),z&&X(!a),a&&Ae(U[0],M[U[0]])}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,X(a),Q&&Z(!a),n={},U.map((function(e){var t=E.poolData[e],a=t.balance,c=t.precision,r=t.decimal;n[e]=Object(g.a)(a).isNaN()?0:Object(g.c)(a.div(c)._toFixed(r,1))})),q(n)}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){he(!1),xe(!1)};return Object(I.jsx)(b.a,{children:function(){return Object(I.jsxs)(j.a,Object(c.a)(Object(c.a)({},D.a.row),{},{children:[Object(I.jsx)(p.a,Object(c.a)(Object(c.a)({},D.a.colLeft),{},{children:Object(I.jsxs)("div",{className:"pool-deposit",children:[Object(I.jsx)(L.a,{list:t,activeKey:a[0]}),e.isSinglePage?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(w.a,{routeName:"3pool/deposit",mountedActions:Ne,instantActions:ye}),Object(I.jsx)(k.a,{title:"3pool "+l.a.get("banner.title_deposit"),desc:l.a.get("banner.desc_deposit")}),Object(I.jsx)(y.a,{})]}):null,u.isConnected?Object(I.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(I.jsxs)("div",{className:"add-liq",children:[Object(I.jsxs)("fieldset",{className:"currencies",children:[Object(I.jsx)("legend",{children:l.a.get("deposit.currencies")}),Object(I.jsx)("ul",{children:U.map((function(e){var t=E.poolData[e],a=t.symbol,r=void 0===a?"":a,s=t.balance,i=void 0===s?"--":s,o=t.precision,u=t.decimal;return i=Object(g.a)(i).div(o),Object(I.jsxs)("li",{children:[Object(I.jsxs)("div",{className:"cur-label",children:[Object(I.jsxs)("span",{className:"icon",children:[Object(I.jsx)("img",{src:v.a[e]?v.a[e]:x.default,alt:"",className:"token-logo"})," ",r]}),Object(I.jsx)("span",{className:"token-max",children:l.a.getHTML("deposit.token_max",{balance:Object(g.u)(i)})})]}),Object(I.jsx)(P.a,{onMaxClick:function(){!function(e,t,a){if(!Object(g.a)(t).isNaN()){var r=Object(g.a)(t)._toFixed(a,1);q(Object(c.a)(Object(c.a)({},M),{},Object(n.a)({},e,Object(g.c)(r)))),Q&&Ae(e,r)}}(e,i,u)},value:M[e],onChange:function(t){return function(e,t){z&&X(!1);var a=T[t].decimal,r=Object(g.V)((""+e.target.value).replace(/,/g,""),a),s=r.valid,i=r.str;s&&(q(Object(c.a)(Object(c.a)({},M),{},Object(n.a)({},t,Object(g.c)(i)))),Q&&Ae(t,i))}(t,e)}})]},e)}))})]}),!Object(g.a)(ce).isNaN()&&Object(g.ab)(ce,!0),Object(I.jsxs)("div",{className:"deposit-check",children:[Object(I.jsx)(d.a,{checked:Q,onChange:Pe,children:l.a.get("deposit.ch1")}),Object(I.jsx)("br",{}),Object(I.jsx)(d.a,{checked:z,onChange:Ie,children:l.a.get("deposit.ch2")})]}),ee?Object(I.jsx)(N.a,{styleName:"mt-40",type:"single",disabled:!0,info:l.a.get("deposit.action")}):Object(I.jsx)(N.a,{styleName:"mt-40",type:"single",info:l.a.get("deposit.action"),onClick:function(){return ke(M)}}),ee&&Object(I.jsx)("div",{className:"error-content mt-12",children:Object(I.jsx)("div",{className:"error-tip",children:ee})}),Object(g.a)(oe).gt(0)&&Object(I.jsxs)("div",{className:"error-content mt-12",children:[Object(I.jsxs)("div",{className:"error-tip",children:[l.a.getHTML("deposit.swap_detail",{value:Object(g.u)(oe,2),symbol:"Old 3pool LP"})," "]}),Object(I.jsx)("div",{className:"error-tip",children:l.a.get("deposit.exchange_rate",{value:Object(g.u)(E.virtualPrice,6),symbol:"Old 3pool LP"})})]})]})}):Object(I.jsx)(A.a,{}),Object(I.jsx)(S.a,{}),Object(I.jsx)(O.a,{title:l.a.get("deposit.high_slippage_title"),open:fe,closable:!0,icon:null,onCancel:Te,footer:null,width:400,className:"common-modal common-bg slippage-modal",children:Object(I.jsxs)("div",{className:"center",children:[Object(I.jsxs)("div",{className:"common-err-bg",children:[Object(I.jsx)("div",{children:l.a.get("deposit.high_tip1")}),Object(I.jsx)("div",{children:l.a.get("deposit.high_tip2",{value:Object(g.u)(Object(g.a)(ce).abs(),3)})})]}),Object(I.jsx)(d.a,{checked:me,onChange:Le,children:l.a.get("deposit.confirm_slippage",{value:Object(g.u)(Object(g.a)(ce).abs(),3)})}),Object(I.jsx)("br",{}),Object(I.jsxs)("div",{className:"btns flex",children:[Object(I.jsx)(f.a,{onClick:function(){return xe(!1)},type:"primary",children:l.a.get("cancel")}),Object(I.jsx)(f.a,{onClick:function(){return _e(M)},disabled:!me,children:l.a.get("deposit.anyway")})]})]})})]})})),Object(I.jsx)(p.a,Object(c.a)(Object(c.a)({},D.a.colRight),{},{children:Object(I.jsx)(_.a,{className:u.isConnected?null:"window-for-tabs-pane"})}))]}))}})}},951:function(e,t,a){"use strict";var n=a(5),c=a(4),r=a(0),s=a(2),i=a(14),o=a(3),u=a(20),l=a.n(u),b=a(1773),j=a(1775),p=a(321),d=a(880),O=a(270),f=a(84),x=a(170),v=a(27),g=a(6),m=a(15),h=a(1),w=a(917),k=a(897),_=a(907),S=(a(915),a(906)),y=(a(43),a(903)),N=a(899),C=a(904),L=a(901),D=a(898),A=a(902),P=a(910),I=a(10),T=g.a.pools,U=g.a.poolKeys,B=g.a.stableLp,F=g.a.ALL_FEE,V=g.a.stablePool,E=g.a.tokens,K="---",H="CUSTOM",M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={};return U.map((function(a){t[a]=e})),t};t.a=function(e){var t=e.pageList,a=e.tabPaneKey,u=Object(o.useState)(),g=Object(i.a)(u,2),q=g[0],R=void 0===q?M("--"):q,J=g[1],Q=Object(o.useState)("100.00"),Z=Object(i.a)(Q,2),G=Z[0],W=Z[1],z=Object(o.useState)(.2),X=Object(i.a)(z,2),Y=X[0],$=X[1],ee=Object(o.useState)(""),te=Object(i.a)(ee,2),ae=te[0],ne=te[1],ce=Object(o.useState)(!0),re=Object(i.a)(ce,2),se=re[0],ie=re[1],oe=Object(o.useState)(!1),ue=Object(i.a)(oe,2),le=ue[0],be=ue[1],je=Object(o.useState)("--"),pe=Object(i.a)(je,2),de=pe[0],Oe=pe[1],fe=Object(o.useState)(),xe=Object(i.a)(fe,2),ve=xe[0],ge=void 0===ve?M(!1):ve,me=xe[1],he=Object(o.useState)(!1),we=Object(i.a)(he,2),ke=we[0],_e=we[1],Se=Object(o.useState)(!1),ye=Object(i.a)(Se,2),Ne=ye[0],Ce=ye[1],Le=Object(f.d)((function(){return x.a.system})),De=Object(f.d)((function(){return x.a.pool})),Ae=Object(f.d)((function(){return x.a.network})),Pe=null;Object(o.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ne&&Ie();case 1:case"end":return e.stop()}}),e)}))),[R,G,Y,ae,ge]),Object(o.useEffect)((function(){Ze(R,le)}),[R]);var Ie=function(){return G!==K&&Object(h.fb)(G).gt(100)?(_e(l.a.get("error.e3")),!0):function(){for(var e in R)if(Object(h.fb)(R[e]).gt(0)||"--"===R[e])return!1;return!0}()?(_e(l.a.get("error.e4")),!0):Y===H&&(Fe()||G===K)&&(Object(h.a)(ae).lt(.1)||Object(h.a)(ae).gt(50)||Object(h.a)(ae).isNaN())?(_e(l.a.get("error.e5")),!0):(_e(!1),!1)},Te=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,i,o,u,l,b;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.length,c=t.map((function(e){return e.inputValue.isNaN()?0:e.inputValue._toIntegerDown()._toHex()}))||[],e.next=5,Object(m.d)(c,!1);case 5:if((s=e.sent).success){e.next=8;break}return e.abrupt("return");case 8:if(i=s.value,o=i.times(Object(h.a)(1).plus(Object(h.a)(F).times(n).div(4*(n-1)))),u=Object(h.a)(100).plus(a).div(100),o=o.times(u)._toIntegerDown(),!se||!Object(h.a)(De.userLpAllowance).lt(o)){e.next=21;break}return e.next=15,Le.approveToken(B,V,{title:"deposit.approve_token",obj:{value:E.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]);case 15:if(!e.sent){e.next=20;break}ie(!1),e.next=21;break;case 20:return e.abrupt("return");case 21:return l=o._toHex(),b={title:"actions.remove",obj:{detail:Object(h.A)(R)}},e.next=25,Le.removeLiqImBalance(c,l,b,[["pool/updateCurrencyData"]]);case 25:e.sent,e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.log(e.t0);case 31:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(t,a){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,i,o,u,l;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee(a,t,Object(h.fb)(G));case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return");case 6:if(c=n.userLpBalance,n.lpTotalSupply,n.balances,s=n.userLpAllowance,i=n.minAmounts,o=Object(h.fb)(G).div(100).times(c)._toIntegerDown(),!se||!Object(h.a)(s).lt(o._toIntegerDown())){e.next=17;break}return e.next=11,Le.approveToken(B,V,{title:"deposit.approve_token",obj:{value:E.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]);case 11:if(!e.sent){e.next=16;break}ie(!1),e.next=17;break;case 16:return e.abrupt("return");case 17:return u={title:"actions.remove",obj:{detail:Object(h.A)(R)}},l=o._toHex(),e.next=21,Le.removeLiquidity(l,i,u,[["pool/updateCurrencyData"]]);case 21:e.sent,e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t,a){return e.apply(this,arguments)}}(),Be=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a,n){var c,s,i,o,u,l,b,j,p,d,O,f,x,v;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.qb)(a,t);case 3:if((c=e.sent).success){e.next=6;break}return e.abrupt("return");case 6:if(s=c.userLpBalance,i=c.userLpAllowance,o=Object(h.fb)(G).div(100).times(s)._toIntegerDown(),!se||!Object(h.a)(i).lt(o._toIntegerDown())){e.next=17;break}return e.next=11,Le.approveToken(B,V,{title:"deposit.approve_token",obj:{value:E.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]);case 11:if(!e.sent){e.next=16;break}ie(!1),e.next=17;break;case 16:return e.abrupt("return");case 17:for(b in u=o._toHex(),l=!1,ge)!0===ge[b]&&(l=T[b].index);return e.next=22,Object(m.p)(u,l);case 22:if((j=e.sent).success){e.next=25;break}return e.abrupt("return");case 25:return p=j.value,d=t.length,O=p.times(Object(h.a)(1).minus(Object(h.a)(F).times(d).div(4*(d-1)).div(1e10))),f=Object(h.a)(100).div(Object(h.a)(100).plus(n)),x=O.times(f)._toIntegerDown()._toHex(),v={title:"actions.remove",obj:{detail:Object(h.A)(R)}},e.next=33,Le.removeLiqOneCoin(u,l,x,v,[["pool/updateCurrencyData"]]);case 33:e.sent,e.next=39;break;case 36:e.prev=36,e.t0=e.catch(0),console.log(e.t0);case 39:case"end":return e.stop()}}),e,null,[[0,36]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Fe=function(){for(var e in ge)if(ge[e])return e;return!1},Ve=function(){var t=Object(s.a)(Object(r.a)().mark((function t(a){var n,s,i,o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Ae.defaultAccount){t.next=3;break}return t.abrupt("return");case 3:if(!Ne&&Ce(!0),ke){t.next=8;break}if(!Ie(a)){t.next=8;break}return t.abrupt("return");case 8:if(!ke){t.next=10;break}return t.abrupt("return");case 10:if(n=Ae.defaultAccount,s=[],U.map((function(e){s.push(Object(c.a)(Object(c.a)({},T[e]),{},{inputValue:Object(h.fb)(a[e]).times(T[e].precision)}))})),i=s.sort((function(e,t){return e.index-t.index})),o=Y===H?ae:Y,e.onSubmit&&e.onSubmit(),!le){t.next=20;break}return t.next=19,Be(i,n,o);case 19:return t.abrupt("return",t.sent);case 20:if(G===K){t.next=24;break}return t.next=23,Ue(i,n);case 23:return t.abrupt("return",t.sent);case 24:return t.next=26,Te(i,o);case 26:return t.abrupt("return",t.sent);case 29:t.prev=29,t.t0=t.catch(0),console.log(t.t0);case 32:case"end":return t.stop()}}),t,null,[[0,29]])})));return function(e){return t.apply(this,arguments)}}(),Ee=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a,n){var c,s,i,o,u,l,b,j,p=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=p.length>3&&void 0!==p[3]&&p[3],e.prev=1,e.next=4,Object(m.qb)(t,a);case 4:if((s=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:return i=s.userLpBalance,o=s.lpTotalSupply,u=s.balances,l=s.userLpAllowance,b=[],j={},a.map((function(e){var t=e.index,a=e.id,r=e.decimal,s=e.precision,l=Object(h.fb)(n).div(100).times(u[t]);c||(l=Object(h.a)(.98).times(l)),b[t]=l.times(i).div(o)._toIntegerDown()._toHex(),j[a]=Object(h.c)(l.times(i).div(o).div(s)._toFixed(r,1))})),e.abrupt("return",{userLpBalance:i,lpTotalSupply:o,balances:u,userLpAllowance:l,minAmounts:b,amountsStr:j});case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,i,o,u,l,b,j,p;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,De.getUserLp();case 3:return n=De.userLpBalance,c=T[t],s=c.precision,i=c.decimal,o=Object(h.fb)(a).div(100).times(n)._toIntegerDown(),u=T[t].index,l=o._toHex(),e.next=10,Object(m.p)(l,u);case 10:if((b=e.sent).success){e.next=13;break}return e.abrupt("return",!1);case 13:return j=b.value,p=Object(h.a)(j).div(s)._toFixed(i,1),e.abrupt("return",p);case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,a){return e.apply(this,arguments)}}(),He=function(){De.getSwapBalance(),De.getVirtualPrice(),De.getVolData()},Me=function(){var e=Object(s.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([De.getUserLp(),De.getBalanceInfo()]);case 2:t={},U.map((function(e){var a=De.poolData[e],n=a.userSwapBalance,c=a.decimal;t[e]=Object(h.c)(Object(h.a)(n)._toFixed(c,1))})),J(t),Pe||(Pe=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return He(),e.next=3,De.getUserLp();case 3:case"end":return e.stop()}}),e)}))),Ae.defaultIntervalSec));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){return Me(),He(),function(){clearInterval(Pe)}}),[]);var qe=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var s,i,o,u,l;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ne&&Ce(!0),s=Object(h.fb)(G),i={},o={},!t){e.next=16;break}for(u in be(!0),ge)u!==a&&(i[u]=!1,o[u]=0);return me(Object(c.a)(Object(c.a)(Object(c.a)({},ge),i),{},Object(n.a)({},a,t))),(G===K||Object(h.fb)(G).lte(0))&&W(s="100.00"),Object(h.a)(s).gt(100)&&(s=100),e.next=12,Ke(a,s);case 12:(l=e.sent)&&J(Object(c.a)(Object(c.a)(Object(c.a)({},R),o),{},Object(n.a)({},a,Object(h.c)(l)))),e.next=19;break;case 16:W(K),be(!1),me(Object(c.a)(Object(c.a)({},ge),{},Object(n.a)({},a,t)));case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Re=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var s,i,o,u,l,b;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(b in!Ne&&Ce(!0),s=T[a].decimal,i=Object(h.V)((""+t.target.value).replace(/,/g,""),s),o=i.valid,u=i.str,o&&J(Object(c.a)(Object(c.a)({},R),{},Object(n.a)({},a,Object(h.c)(u)))),W(K),be(!1),l={},ge)l[b]=!1;me(l);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Je=function(){var e={},t={};U.map((function(a){e[a]=0,t[0]=!1})),J(e),me(ge),W(0)},Qe=function(){var e={};U.map((function(t){e[t]=0})),J(e)},Ze=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.calcInclPrice(t,!1,a);case 2:n=e.sent,Oe(n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a,s,i,o,u,l,b,j,p,d,O,f,x,v,g;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ne&&Ce(!0),s=t.target.value,i=s.split("."),(null===(a=i[1])||void 0===a?void 0:a.length)>2&&(s="".concat(i[0]+"."+i[1].substr(0,2))),!Object(h.a)(s).gt(100)){e.next=6;break}return e.abrupt("return");case 6:if(o=Object(h.V)(s,10),u=o.valid,l=o.str,G!==K){e.next=9;break}return e.abrupt("return",Je());case 9:if(""!==s){e.next=12;break}return W(""),e.abrupt("return",Qe());case 12:if(!u){e.next=34;break}if(W(Object(h.c)(l)),!(b=Object(h.a)(l).gt(100)?Object(h.a)(100):Object(h.a)(l)).isNaN()){e.next=17;break}return e.abrupt("return");case 17:if(Ae.defaultAccount){e.next=19;break}return e.abrupt("return");case 19:if(j=Ae.defaultAccount,!(p=Fe())){e.next=26;break}return e.next=24,Ke(p,b);case 24:return d=e.sent,e.abrupt("return",d&&J(Object(c.a)(Object(c.a)({},R),{},Object(n.a)({},p,Object(h.c)(d)))));case 26:if(l===K){e.next=34;break}return O=[],U.map((function(e){O.push(Object(c.a)({},T[e]))})),f=O.sort((function(e,t){return e.index-t.index})),e.next=32,Ee(j,f,l,!0);case 32:x=e.sent,s===t.target.value&&(v=x.amountsStr,g=void 0===v?{}:v,x&&J(g));case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(e){!Ne&&Ce(!0),$(e),e!==K&&ne("")},ze=function(e){var t=Object(h.V)(e,10),a=t.valid,n=t.str;if(a)if(""===n)ne("");else if(Object(h.a)(n).lte(100)){var c,r=n,s=n.split(".");(null===(c=s[1])||void 0===c?void 0:c.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),ne(r)}},Xe=function(e){return Fe()||G===K?Object(I.jsx)("div",{className:"flex start mt-20",children:Object(I.jsx)(C.a,{slippage:e,customSlippage:ae,CUSTOM_SLIPPAGE:H,onChangeSlippage:We,onChangeCustomSlippage:ze})}):Object(I.jsx)(I.Fragment,{})};return Object(I.jsx)(f.a,{children:function(){return Object(I.jsxs)(b.a,Object(c.a)(Object(c.a)({},L.a.row),{},{children:[Object(I.jsxs)(j.a,Object(c.a)(Object(c.a)({},L.a.colLeft),{},{children:[Object(I.jsx)(D.a,{list:t,activeKey:a[0]}),Object(I.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(k.a,{routeName:"3pool/withdraw",mountedActions:Me,instantActions:He}),Object(I.jsx)(_.a,{title:"3pool "+l.a.get("banner.title_withdraw"),desc:l.a.get("banner.desc_withdraw")}),Object(I.jsx)(S.a,{})]}):null,Ae.isConnected?Object(I.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(I.jsxs)("div",{className:"add-liq withdraw-liq",children:[Object(I.jsxs)("div",{className:"flex",children:[l.a.get("withdraw.share_of_liq"),Object(I.jsx)(P.a,{className:"flex-1 ml-20",showMax:!1,placeholder:"100.00",value:G,onChange:Ge})]}),Object(I.jsxs)("fieldset",{className:"currencies mt-35",children:[Object(I.jsx)("legend",{children:l.a.get("deposit.currencies")}),Object(I.jsx)("ul",{children:U.map((function(e){var t=T[e].symbol,a=void 0===t?"":t;return Object(I.jsxs)("li",{children:[Object(I.jsx)("div",{className:"cur-label",children:Object(I.jsxs)("span",{className:"icon",children:[Object(I.jsx)("img",{src:v.a[e]?v.a[e]:O.default,alt:"",className:"token-logo"}),a]})}),Object(I.jsx)(P.a,{showMax:!1,value:R[e],onChange:function(t){Re(t,e)}})]},e)}))})]}),Object(h.ab)(de),Object(I.jsxs)("fieldset",{children:[Object(I.jsxs)("legend",{className:"flex aic jcs pt20",children:[Object(I.jsx)("span",{className:"mr-10",children:l.a.get("withdraw.withdraw_text")}),Object(I.jsx)(p.a,{title:l.a.get("withdraw.tip"),children:Object(I.jsx)(d.a,{})})]}),Object(I.jsx)("div",{className:"withdraw-one",children:U.map((function(e){var t=T[e].symbol,a=void 0===t?"":t;return Object(I.jsx)(y.a,{id:e,checked:ge[e],tokenLogo:v.a[e]?v.a[e]:O.default,symbol:a,onChange:qe})}))})]}),Xe(Y),ke?Object(I.jsx)(N.a,{styleName:"mt-40",type:"single",disabled:!0,info:l.a.get("withdraw.action")}):Object(I.jsx)(N.a,{styleName:"mt-40",type:"single",info:l.a.get("withdraw.action"),onClick:function(){return Ve(R)},disabled:ke}),ke&&Object(I.jsx)("div",{className:"error-content mt-12",children:Object(I.jsx)("div",{className:"error-tip",children:ke})})]})}):Object(I.jsx)(A.a,{})]})]})),Object(I.jsx)(j.a,Object(c.a)(Object(c.a)({},L.a.colRight),{},{children:Object(I.jsx)(w.a,{className:Ae.isConnected?null:"window-for-tabs-pane"})}))]}))}})}},963:function(e,t,a){"use strict";a.r(t),a.d(t,"renderTab",(function(){return H})),a.d(t,"usePoolTab",(function(){return Q}));var n=a(14),c=a(0),r=a(2),s=a(4),i=a(1773),o=a(1775),u=a(1795),l=a(84),b=a(3),j=a.n(b),p=a(20),d=a.n(p),O=(a(916),a(919),a(170)),f=a(897),x=a(936),v=(a(1757),a(1756)),g=(a(1342),a.p,a(270)),m=a(920),h=a(6),w=a(15),k=a(27),_=a(1),S=a(903),y=a(904),N=a(899),C=a(272),L=a(10);function D(e){var t=Object(b.useState)(2),a=Object(n.a)(t,2),i=a[0],o=a[1],u=Object(b.useState)(1),j=Object(n.a)(u,2),p=j[0],f=j[1],D=Object(b.useState)(0),A=Object(n.a)(D,2),P=A[0],I=A[1],T=Object(b.useState)(1),U=Object(n.a)(T,2),B=U[0],F=U[1],V=Object(b.useState)(-1),E=Object(n.a)(V,2),K=E[0],H=E[1],M=Object(b.useState)(1),q=Object(n.a)(M,2),R=q[0],J=q[1],Q=Object(b.useState)(.005),Z=Object(n.a)(Q,2),G=Z[0],W=Z[1],z=Object(b.useState)(""),X=Object(n.a)(z,2),Y=X[0],$=X[1],ee=Object(b.useState)(!0),te=Object(n.a)(ee,2),ae=(te[0],te[1],Object(b.useState)("")),ne=Object(n.a)(ae,2),ce=ne[0],re=ne[1],se=Object(b.useState)(!1),ie=Object(n.a)(se,2),oe=ie[0],ue=ie[1],le=h.a.pools,be=h.a.poolIndex,je=h.a.stablePool,pe=h.a.poolKeys,de=Object(l.d)((function(){return O.a.network})),Oe=Object(l.d)((function(){return O.a.system})),fe=Object(l.d)((function(){return O.a.pool})),xe=Object(b.useState)(!1),ve=Object(n.a)(xe,2),ge=ve[0],me=ve[1];Object(b.useEffect)((function(){ke({i:i,j:P,dx:p})}),[]);var he=function(){!ge&&me(!0);var e=i,t=P,a=B;e!==t&&(o(t),I(e),f(a),ke({i:t,j:e,dx:a,notChangeRate:!0}),_e({no:1,i:t,j:e,dx:a}))},we=function(e){var t=Object.assign({},(Object(x.a)(e),e));ue(!oe),_e(Object(s.a)(Object(s.a)({},t),{},{exchangeFlags:!oe}))},ke=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){var a,n,r,s,o,u,l;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},(Object(x.a)(t),t)),e.prev=1,n=void 0===a.i?i:a.i,r=void 0===a.j?P:a.j,s=void 0===a.dx?Object(_.fb)(p):Object(_.fb)(a.dx),Object(_.a)(s).gt(0)){e.next=8;break}return F(0),e.abrupt("return");case 8:return o=Object(_.a)(s).times(le[be[n]].precision)._toIntegerDown()._toHex(),u=null,e.next=12,Object(w.Q)(n,r,o);case 12:(u=e.sent).success?(l=Object(_.a)(u.value).div(le[be[r]].precision),F(Object(_.c)(Object(_.a)(l)._toFixed(le[be[r]].decimal,1))),J(Object(_.a)(u.value))):(F(0),J(1)),a.notChangeRate||_e({i:n,j:r,dx:s}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("getDyData: ",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){var a,n,r,s,o,u,l,b;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},(Object(x.a)(t),t)),e.prev=1,n=void 0===a.i?i:a.i,r=void 0===a.j?P:a.j,s=void 0===a.dx?Object(_.fb)(p):Object(_.fb)(a.dx),o=void 0===a.exchangeFlags?oe:a.exchangeFlags,u=Object(_.a)(s).times(le[be[n]].precision)._toIntegerDown()._toHex(),l=null,Object(_.a)(s).gt(0)){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Object(w.Q)(n,r,u);case 12:(l=e.sent).success&&(b=Object(_.a)(l.value).div(le[be[r]].precision).div(s),H(o?Object(_.a)(1).div(Object(_.a)(b)._toFixed(4,1))._toFixed(4,1):b._toFixed(4,1))),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log("getRateData: ",e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),Se=function(e){var t=i;Number(e)!==Number(P)&&(t=P),I(t),o(e);var a=Object(_.fb)(p)._toFixed(le[be[e]].decimal,1);f(Object(_.c)(a)),ke({i:e,j:t,dx:a})},ye=function(e){var t=P;Number(e)!==Number(i)&&(t=i),o(t),I(e);var a=Object(_.fb)(p)._toFixed(le[be[t]].decimal,1);f(Object(_.c)(a)),ke({j:e,i:t,dx:a})},Ne=function(e){!ge&&me(!0);var t=Object(_.V)((""+e).replace(/,/g,""),le[be[i]].decimal),a=t.valid,n=t.str,c=fe.poolData&&Object(_.a)(fe.poolData[be[i]].balance).div(le[be[i]].precision)._toFixed(2,1);if(a){if(Object(_.a)(n).lte(0))return f(Object(_.c)(n)),F(0),void re(d.a.get("buysell.error_msg_1"));Object(_.a)(n).gt(c)&&re(d.a.get("buysell.error_msg_2")),f(Object(_.c)(n)),ke({dx:n})}},Ce=function(e){var t="--";return t=fe.poolData[be[i]].balance,t=Object(_.a)(t).isNaN()?"--":fe.poolData[be[i]].balance.div(fe.poolData[be[i]].precision),Object(L.jsx)("span",{children:fe.poolData&&Object(_.u)(t)})},Le=function(){var e=fe.poolData[be[i]],t=e.precision,a=e.balance,n=e.symbol;return a=Object(_.a)(a).div(t),Object(_.fb)(p).eq(0)||Object(_.fb)(p).isNaN()?(re(d.a.get("error.e1")),!0):Object(_.fb)(p).gt(a)?(re(d.a.get("error.e2",{token:n})),!0):2===G&&(!Y||Number(Y)<.1||Number(Y)>50)?(re(d.a.get("error.e5")),!0):(re(""),!1)};Object(b.useEffect)((function(){ge&&Le()}),[i,P,p,G,Y]);var De=function(){var e=fe.poolData&&Object(_.a)(fe.poolData[be[i]].balance).div(le[be[i]].precision);Ne(e)},Ae=function(e){!ge&&me(!0),W(e),2!==e&&$("")},Pe=function(e){!ge&&me(!0);var t=Object(_.V)(e,10),a=t.valid,n=t.str;if(a)if(""===n)$("");else if(Object(_.a)(n).lte(100)){var c,r=n,s=n.split(".");(null===(c=s[1])||void 0===c?void 0:c.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),$(r)}},Ie=function(){var e=function(){var e=i,t=P;if(oe){var a=[t,e];e=a[0],t=a[1]}return Object(L.jsx)(L.Fragment,{children:be[e].toUpperCase()+"/"+be[t].toUpperCase()})};return Object(L.jsxs)("p",{className:"exchang-rate-text mt-20",children:[Object(L.jsxs)("span",{className:"en-US"===window.localStorage.getItem("lang")?"er-en":"",children:[d.a.get("buysell.exchange_rate",{symbol:"3pool LP"})+" ",Object(L.jsx)(e,{})]}),Object(L.jsx)("img",{style:{cursor:"pointer",margin:"0 6px"},className:"exchange-img",alt:"",src:m.a,onClick:we}),Object(L.jsxs)("span",{children:["(",d.a.get("buysell.including_fees"),"): ",-1===K?d.a.get("buysell.not_available"):K]})]})},Te=function(){var t=function(){var t=Object(r.a)(Object(c.a)().mark((function t(){var a,n,r,s,o,u,l;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!ce){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,a=2!==G?G:Y?Object(_.a)(Y).div(100):0,n=Object(_.a)(R).times(Object(_.a)(1).minus(Object(_.a)(a)))._toIntegerDown()._toHex(),r=i,s=P,o=Object(_.fb)(p).times(le[be[r]].precision)._toIntegerDown()._toHex(),u={title:"notification.tip1",title2:"notification.tip1",title3:"notification.tip1",title4:"notification.tip1",obj:{fromValue:Object(_.u)(Object(_.fb)(p)),fromToken:be[r].toUpperCase(),toValue:Object(_.u)(Object(_.fb)(B)),toToken:be[s].toUpperCase()}},t.next=11,Oe.toExchange(r,s,o,n,u,[["pool/updateCurrencyData"]]);case 11:(l=t.sent)&&(setTimeout((function(){fe.getBalanceInfo()}),5e3),e.onSubmit&&e.onSubmit(l)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),console.log("sellSubmit: ",t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(){return t.apply(this,arguments)}}(),a=function(){var e=Object(r.a)(Object(c.a)().mark((function e(){var a,n,r,s;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(de.isConnected){e.next=3;break}return re(d.a.get("buysell.error_msg_3")),e.abrupt("return");case 3:if(!ge&&me(!0),ce){e.next=8;break}if(!Le()){e.next=8;break}return e.abrupt("return");case 8:if(!ce){e.next=10;break}return e.abrupt("return");case 10:return e.prev=10,e.next=13,Object(w.Sb)(window.defaultAccount,[le[be[i]].token],[je]);case 13:if(a=e.sent,n=a[je].allowance,r=fe.poolData[be[i]].approveStatus,n.gt(0)||r){e.next=29;break}return s={action:"approve",title:"deposit.approve_token",obj:{value:pe[i].toUpperCase()},continuous:!0},e.next=20,Oe.approveToken(le[be[i]].token,je,s,[["pool/getBalanceInfo"]]);case 20:if(!e.sent){e.next=26;break}fe.poolData[be[i]].approveStatus=2,t(),e.next=27;break;case 26:return e.abrupt("return");case 27:e.next=30;break;case 29:t();case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(10),console.log("exchangeBefore: ",e.t0);case 35:case"end":return e.stop()}}),e,null,[[10,32]])})));return function(){return e.apply(this,arguments)}}();return Object(L.jsx)(L.Fragment,{children:ce?Object(L.jsx)(N.a,{styleName:"mt-40",type:"single",disabled:!0,info:d.a.get("sell_btn")}):Object(L.jsx)(N.a,{styleName:"mt-40",type:"single",info:d.a.get("sell_btn"),onClick:a})})},Ue=function(e){var t=e.direction,a=void 0===t?"left":t,n=pe;return Object(L.jsx)("div",{className:"flex start mb-16 pc-input-box",children:n.map((function(e){var t=k.a[e]||g.default,n="left"===a?i:P;return Object(L.jsx)(S.a,{id:e,checked:n===le[e].index,tokenLogo:t,symbol:le[e].symbol,onChange:function(t,n){"left"===a?Se(le[e].index):ye(le[e].index)}})}))})},Be=function(){return Object(L.jsx)("span",{className:"exchange-alt",onClick:function(){return he()}})},Fe=Object(C.a)(C.b);return Object(L.jsx)(l.a,{children:function(){return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)("div",{className:"exchange-box",children:[Object(L.jsx)(Ue,{direction:"left"},"left"),Object(L.jsxs)("div",{className:"input-block",children:[Object(L.jsxs)("div",{className:"flex",children:[Object(L.jsx)("div",{className:"input-number",children:Object(L.jsx)(v.a,{className:"input",value:p,onChange:function(e){return Ne(e.target.value)}})}),Object(L.jsx)("span",{className:"max-btn",onClick:De,children:d.a.get("sunSwapV3.swap.input_from_max")})]}),Object(L.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(L.jsx)("span",{children:d.a.get("sunSwapV3.swap.input_from_balance")})," ",Ce(fe.poolData)]})]}),Object(L.jsxs)("div",{className:"flex",children:[Object(L.jsx)(Be,{}),!Fe&&Object(L.jsx)("div",{className:"flex start",children:Object(L.jsx)(y.a,{type:"exchange",slippage:G,customSlippage:Y,CUSTOM_SLIPPAGE:2,onChangeSlippage:function(e){Ae(Number(e))},onChangeCustomSlippage:function(e){W(2),Pe(e)}})})]}),Object(L.jsx)(Ue,{direction:"right"},"right"),Object(L.jsxs)("div",{className:"input-block",children:[Object(L.jsx)("div",{className:"input-number",children:Object(L.jsx)(v.a,{disabled:!0,className:"input",value:B})}),Object(L.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(L.jsx)("span",{children:d.a.get("sunSwapV3.swap.input_from_balance")})," ",Ce(fe.poolData)]})]}),Object(L.jsx)(Ie,{}),Fe&&Object(L.jsx)("div",{className:"flex start",children:Object(L.jsx)(y.a,{type:"exchange",slippage:G,customSlippage:Y,CUSTOM_SLIPPAGE:2,onChangeSlippage:function(e){Ae(Number(e))},onChangeCustomSlippage:function(e){W(2),Pe(e)}})})]}),Object(L.jsx)(Te,{}),ce&&Object(L.jsx)("div",{className:"error-content mt-12",children:Object(L.jsx)("div",{className:"error-tip",children:ce})})]})}})}var A=a(917),P=a(950),I=a(951),T=a(921),U=a(61),B=a(908),F=a(901),V=a(898),E=a(902),K=function(e){var t=e.onSubmit,a=e.pageList,n=e.tabPaneKey,c=e.isConnected;return Object(L.jsxs)(i.a,Object(s.a)(Object(s.a)({},F.a.row),{},{children:[Object(L.jsxs)(o.a,Object(s.a)(Object(s.a)({},F.a.colLeft),{},{children:[Object(L.jsx)(V.a,{list:a,activeKey:n[0]}),c?Object(L.jsx)("div",{className:"window-for-tabs-pane",children:Object(L.jsx)(D,{onSubmit:t})}):Object(L.jsx)(E.a,{})]})),Object(L.jsx)(o.a,Object(s.a)(Object(s.a)({},F.a.colRight),{},{children:Object(L.jsx)(A.a,{})}))]}))},H=function(e){return Object(L.jsx)("span",{children:J[e].tabTitle})},M=Object(T.a)({childPage:U.h.liquidity_old3pool}),q=M.tabChangeLog,R=M.tabSubmitLog,J={1:{title:d.a.get("banner.title_deposit"),content:d.a.get("banner.desc_deposit"),tabTitle:d.a.get("header.deposit")},2:{title:d.a.get("banner.title_withdraw"),content:d.a.get("banner.desc_withdraw"),tabTitle:d.a.get("header.withdraw")},3:{title:d.a.get("banner.title_1"),content:d.a.get("banner.desc_1"),tabTitle:d.a.get("header.swap")}},Q=function(e){var t=window.location.hash.split("/"),a=Object(n.a)(t,3),c=a[1],r=a[2],s=window.localStorage.getItem("lang");return c.includes("usdc")&&(c="en-US"===s?"USDC Old":"Old USDC"),c.includes("3pool")&&(c="Old 3pool"),c.includes("busd")&&(c="en-US"===s?"Old BUSD":d.a.get("buysell.busd_2pool")),c.includes("usdd_usd_2pool")&&(c="en-US"===s?"Old USDD":d.a.get("buysell.usdd_2pool")),c.includes("usdj_2pool")&&(c="en-US"===s?"Old USDJ":d.a.get("buysell.usdj_2pool")),c.includes("tusd_2pool")&&(c="en-US"===s?"Old TUSD":d.a.get("buysell.tusd_2pool")),{title:c,tabKey:[{deposit:"1",withdraw:"2",swap:"3"}[r]||"1"]}};t.default=function(){var e=Q(),t=e.title,a=e.tabKey,i=j.a.useState(a),o=Object(n.a)(i,2),p=o[0],x=o[1],v=function(){var e=null,t=Object(l.d)((function(){return O.a.pool})),a=Object(l.d)((function(){return O.a.network})),n=function(){t.getSwapBalance(),t.getVirtualPrice(),t.getVolData()},s=function(){var s=Object(r.a)(Object(c.a)().mark((function s(){return Object(c.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t.getUserLp(),s.next=3,t.getBalanceInfo();case 3:e||(e=setInterval(Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),t.getUserLp(),e.next=4,t.getBalanceInfo();case 4:case"end":return e.stop()}}),e)}))),a.defaultIntervalSec));case 4:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}();return j.a.useEffect((function(){return function(){clearInterval(e)}}),[]),{mountedActions:s,instantActions:n}}(),g=v.mountedActions,m=v.instantActions,h=Object(b.useCallback)((function(e){var t=e.value;x(t),q(t)}),[]),w=function(){var e=window.localStorage.getItem("lang")||d.a.options.currentLocale,t=window.location.origin+window.location.pathname;window.location.href=t+"?lang=".concat(e,"#/sunCurve")},k=Object(b.useMemo)((function(){return{shouldScroll:!0,navRightMoreShow:!0,navRightMoreClick:w}}),[]),_=Object(b.useMemo)((function(){return F.b.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{handler:h})}))}),[h]),S=Object(l.d)((function(){return O.a.network}));return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(f.a,{mountedActions:g,instantActions:m,subNavProps:k}),Object(L.jsxs)("div",{className:"main-page-content",children:[Object(L.jsx)(B.a,{title:"".concat(t," ").concat(J[p[0]].title),subTitle:J[p[0]].content}),Object(L.jsx)("div",{className:"pool-tabs",children:Object(L.jsxs)(u.a,{activeKey:p[0],centered:!0,onChange:h,renderTabBar:function(){return null},children:[Object(L.jsx)(u.a.TabPane,{tab:H("1"),children:Object(L.jsx)(P.a,{onSubmit:function(){return R("1")},pageList:_,tabPaneKey:p})},"1"),Object(L.jsx)(u.a.TabPane,{tab:H("2"),children:Object(L.jsx)(I.a,{onSubmit:function(){return R("2")},pageList:_,tabPaneKey:p})},"2"),Object(L.jsx)(u.a.TabPane,{tab:H("3"),children:Object(L.jsx)(K,{onSubmit:function(e){return R("3",{event_label:e,txid:e})},pageList:_,tabPaneKey:p,isConnected:S.isConnected})},"3")]})})]})]})}},969:function(e,t,a){"use strict";a.p}}]);