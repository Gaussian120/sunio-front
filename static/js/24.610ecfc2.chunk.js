(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[24,27,36,41],{1058:function(e,t,a){"use strict";a(1071);var n=a(24),c=a.n(n),r=a(7);t.a=function(e){return Object(r.jsx)("div",{className:"tempalte-pageTab-nav",children:e.list.map((function(t){return Object(r.jsx)("div",{className:c()("tempalte-pageTab-nav-item",{"tempalte-pageTab-nav-active":e.activeKey===t.value}),onClick:function(){return t.handler(t)},children:t.label},t.value)}))})}},1061:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return i}));var n=a(15),c=a.n(n),r={row:{gutter:[{xs:8,sm:16,md:32},20]},colLeft:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:15}},colRight:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:9}}},s={1:{title:c.a.get("banner.title_deposit"),content:c.a.get("banner.desc_deposit"),tabTitle:c.a.get("header.deposit")},2:{title:c.a.get("banner.title_withdraw"),content:c.a.get("banner.desc_withdraw"),tabTitle:c.a.get("header.withdraw")},3:{title:c.a.get("banner.title_1"),content:c.a.get("banner.desc_1"),tabTitle:c.a.get("header.swap")}},i=[{label:s[1].tabTitle,value:"1"},{label:s[2].tabTitle,value:"2"},{label:s[3].tabTitle,value:"3"}]},1063:function(e,t,a){"use strict";var n=a(4),c=a(24),r=a.n(c),s=a(1085),i=a(7);t.a=function(e){var t,a=e.checked,c=e.tokenLogo,o=e.symbol,u=void 0===o?"":o,l=e.onChange,b=e.id,j=void 0===b?"":b;return Object(i.jsxs)("div",{className:r()((t={},Object(n.a)(t,s.sun_check_button,!0),Object(n.a)(t,s.sun_check_active_button,a),t)),onClick:function(){l&&l(!a,j)},children:[c&&Object(i.jsx)("img",{src:c,alt:"",className:"token-logo"}),Object(i.jsx)("span",{children:u})]})}},1064:function(e,t,a){"use strict";var n=a(15),c=a.n(n),r=a(24),s=a.n(r),i=a(1914),o=a(1074),u=a(7),l=[{key:.2,label:"0.2%"},{key:3,label:"3%"}],b=[{key:.005,label:"0.5%"},{key:.01,label:"1%"}];t.a=function(e){var t=e.slippage,a=e.customSlippage,n=e.CUSTOM_SLIPPAGE,r=e.type,j="withdraw"===(void 0===r?"withdraw":r)?l:b;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"mr-10",children:c.a.get("withdraw.slippage")}),Object(u.jsxs)("div",{className:s()(o.setting_btns),children:[Object(u.jsx)("div",{className:o.setting_btn_wrap,children:j.map((function(a){return Object(u.jsx)("button",{className:s()(t===a.key?o.active:""),onClick:function(){return t=a.key,void(e.onChangeSlippage&&e.onChangeSlippage(t));var t},children:a.label})}))}),Object(u.jsx)(i.a,{className:s()(o.setting_input,o.module_important,["ml-20"]),suffix:"%",value:a,onFocus:function(){a||e.onChangeSlippage&&e.onChangeSlippage(n)},onBlur:function(){a||e.onChangeSlippage&&e.onChangeSlippage(String(j[0].key))},onChange:function(t){e.onChangeCustomSlippage&&e.onChangeCustomSlippage(t.target.value)}})]})]})}},1068:function(e,t,a){"use strict";var n=a(4),c=a(3),r=a(24),s=a.n(r),i=a(1072),o=a(7),u=function(e){var t,a=e.title,c=e.subTitle,r=e.isRevert,u="string"===typeof a;return Object(o.jsxs)("div",{className:i.page_title_wrap,children:[r&&c&&Object(o.jsx)("div",{className:i.page_title_sub,children:c}),a&&Object(o.jsx)("div",{className:s()((t={},Object(n.a)(t,i.page_title,!0),Object(n.a)(t,i.page_title_revert,r),Object(n.a)(t,i.page_title_ele,!u),t)),children:u?a.split("").map((function(e,t){return Object(o.jsx)("span",{className:i.page_title_ele,children:e},t)})):a}),c&&!r&&Object(o.jsx)("div",{className:i.page_title_sub,children:c})]})};t.a=Object(c.memo)(u)},1071:function(e,t,a){},1072:function(e,t,a){e.exports={page_title:"style_page_title__dfZPh",page_title_wrap:"style_page_title_wrap__7dtV_",page_title_ele:"style_page_title_ele__Tktf1",page_title_sub:"style_page_title_sub__1IUsF",page_title_revert:"style_page_title_revert__18HMS"}},1074:function(e,t,a){e.exports={setting_wrap:"style_setting_wrap__L7ld9",setting_label:"style_setting_label__3qQrG",setting_btns:"style_setting_btns__zH_61",setting_btn_wrap:"style_setting_btn_wrap__uxT1B",setting_input:"style_setting_input__kvJzs",active:"style_active__10VTC",module_important:"style_module_important__PuwNO",info_text:"style_info_text__3K73H",setting_minutes:"style_setting_minutes__1mIXw"}},1076:function(e,t,a){},1077:function(e,t,a){"use strict";a(3);var n=a(15),c=a.n(n),r=a(78),s=a(6),i=a(110),o=a(1),u=(a(1078),a(1092)),l=a(1089),b=a(7),j=s.a.Fee,p=s.a.A,d=s.a.ADMIN_FEE,O=s.a.poolKeys;s.a.pools;t.a=function(e){var t=Object(r.d)((function(){return i.a.pool})),a=Object(r.d)((function(){return i.a.network})),n=function(e,t){var a=Object(o.a)(e).times(t).div(1e18);return a.isNaN()?"--":Object(o.u)(a,2)},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var a=Object(o.a)(0);for(var n in e){var c=e[n],r=c.userSwapBalance,s=c.priceKey,i=t?t[s]:"--";a=a.plus(Object(o.a)(r).times(i))}return Object(o.u)(a)}catch(u){return console.log(u),"--"}},x=O.map((function(e){return t.poolData[e]})).filter((function(e){return e})),v=t.volData?t.volData["3pvol24Hours"]:"",g="Old 3Pool ".concat(c.a.get("pool.pool2_contract")),m="3SUN ".concat(c.a.get("pool.token_contract2"));return Object(b.jsx)(r.a,{children:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(u.a,{poolTokens:x,totalSwapBalance:t.totalSwapBalance,adminFee:d,fee:j,virtualPrice:t.virtualPrice,dailyVol:v,poolContract:s.a.stablePool,poolName:g,lpTokenAddress:s.a.stableLp,lpTokenName:m,aValue:p}),a.isConnected&&Object(o.a)(t.sharePer).gt(0)&&Object(b.jsx)(l.a,{sharePer:t.sharePer,usdBalance:f(t.poolData,t.volData),avgUsdBalance:n(t.userLpBalance,t.virtualPrice),userTotalBalance:t.userTotalBalance,myPoolTokens:x})]})}})}},1079:function(e,t,a){},1080:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAA/JJREFUWEfVWctqFUEQPeX7/X5tXIkIouBa/AkxgkYXgrhwIQiufaCuxYXoQsSNGkHFnxDXgiKIuHJlTIwmMYmJ8ci5Voe+k3tneuaOIVMwhCTT3aerTlWdnjb0YCQNwHIAKwEsA7AEwFL/qZn/AJj1n78B/AIwY2asuqwWLG0kBXCVPwJZxrSJKT1mpg2UslKASa4AsMG9GhaSBwVgJuNR/T/2uCKhTSoCwTRm1MymU1EnASapcK/3BUOoJ9xLWjTZSAbgayLqaMNjZiba5FohYA//ZgB6V9z7qcfMFNrKRlLeX+tPmHukiCa5gElqQlFAJi8ofKJAbUZSFNEaootMa8gpHa0rYJIbAShssnE9vWR33g692qwDoEc2YWY/Oo3pCDjj2e9mNlmbS3MmIrkawKY8T88D7Jzd4oMWDGzYRwb0tyyn2wB7NdjmCSYKjC2EZ7NrkFRFEj2U5ENx9cgCVjUQ+ZVg8m6pjkTyMIA9AAZSSlQ3ZzinRY0WFjMbCe/OAfamsNV39bVMNSCp5LwN4JxPfMPMrvQSHa8e2z3aw6G5xIBFBRX1UlQgeRDAUwD7I4A9A9ZcETWkP4b0txbgKNHUDOTdpKZA8jyAW1EN1XQDAM7WUVm8ucjLajKtBAyAxReVlCTvkhTXHwA4GnlVxf6CmT3shQo5CdiqzeYE3+G7UEbmagOSRwA8AbA7mvwNgBNm9qFOsB590VR0VdQHBVgKTMk2a2aDBR3pMoCrGcWljnTPtW4VvB/lgLyKRFIOVQsfFuBQ8yRoRnNKzTEAz6sgShhz2swe56wtrSFdMy7AofbmdjWSfQCeJSxe5ZUiwKFlTwmw6CBazGuDHRJAoA9UQZQzJoUSOuFILkwLcOCHylmhgK4ZbNJ0LhlU3mYFeJfX4y+p9TdplRpf8nq8Uy2jkYAbR4mkpPMG0w9gb43R1lTvzCy3XEbSoZV0qWXtFIBHNYMN0x3PAx2J+lZZS20c/xNwn5m9SG0cSa25Bkqolkrd6XAbTCfwa2Z2s0AStLVmKbZk8VOFEiT3uWY+FI3/DKDfzF4VgG0XP66IwpE+SV6WAU3yDIA7rgXC0JeumeeOPjl0CJT9Jy8dcGh9pQR8gWfU/6WZT0bv6ax4yczupmy6q4B30JWOSDmeuQ5AcjTYe9fMb1PAOqbg3fYjkv8zJJ9OyqUOoZ0AkIwB3wdw0cz0ATHJCg+hDrqnY36MxAWL6PDJzF4nofSXko75DlifVZvzISWTgPp1cX+qCmFr1MfACHRzPrd28fTi/qAdgVZTacaVQQS6OZcymdrajGuvbNH3E4C0guhS5WJRF4qTRTdGnZpN4bVXgcBZ8Kvbv7gRNO3rhp7CAAAAAElFTkSuQmCC"},1081:function(e,t,a){"use strict";var n=a(5),c=a(64);t.a=function(e){var t=e.childPage,a=["deposit","withdraw","swap"],r=function(e,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a[e-1],o=c.g[r?"".concat(r,"_").concat(i):i];o&&Object(c.a)(Object(n.a)({action:o(t),event_category:t},s))};return{tabChangeLog:function(e){return r(e,"tab")},tabSubmitLog:function(e,t){return r(e,null,t)}}}},1085:function(e,t,a){e.exports={sun_check_button:"style_sun_check_button__5diEB",sun_check_active_button:"style_sun_check_active_button__28IzL"}},1099:function(e,t,a){"use strict"},1106:function(e,t,a){},1110:function(e,t,a){"use strict";var n=a(4),c=a(5),r=a(0),s=a(2),i=a(11),o=a(3),u=a(15),l=a.n(u),b=a(78),j=a(1931),p=a(1933),d=a(1502),O=a(1042),f=a(181),x=a(283),v=a(25),g=a(1),m=a(6),h=a(110),w=a(1057),k=a(1067),_=(a(1075),a(1077)),S=a(340),y=a(1066),N=a(1059),C=a(12),L=a(1058),D=a(1061),A=a(1062),P=a(1070),I=a(338),T=a(7),U=m.a.pools,B=m.a.poolKeys,F=m.a.ALL_FEE,V=m.a.defaultSlippage,E=m.a.stablePool;t.a=function(e){var t,a,u,m,K,H,M,q,R=e.pageList,J=e.tabPaneKey,Q=Object(b.d)((function(){return h.a.network})),Z=Object(b.d)((function(){return h.a.system})),G=Object(b.d)((function(){return h.a.pool})),W=Object(o.useState)(function(){var e={};return B.map((function(t){e[t]=""})),e}()),z=Object(i.a)(W,2),X=z[0],Y=z[1],$=Object(o.useState)(!1),ee=Object(i.a)($,2),te=ee[0],ae=ee[1],ne=Object(o.useState)(!0),ce=Object(i.a)(ne,2),re=ce[0],se=ce[1],ie=Object(o.useState)(!1),oe=Object(i.a)(ie,2),ue=oe[0],le=oe[1],be=Object(o.useState)("--"),je=Object(i.a)(be,2),pe=je[0],de=je[1],Oe=Object(o.useState)("--"),fe=Object(i.a)(Oe,2),xe=fe[0],ve=fe[1],ge=Object(o.useState)(!1),me=Object(i.a)(ge,2),he=me[0],we=me[1],ke=Object(o.useState)(!1),_e=Object(i.a)(ke,2),Se=_e[0],ye=_e[1],Ne=Object(o.useState)(!1),Ce=Object(i.a)(Ne,2),Le=Ce[0],De=Ce[1],Ae=null;Object(o.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Ve(X),Ie()]);case 2:he&&Be(X);case 3:case"end":return e.stop()}}),e)}))),[X]);var Pe=function(t){return(a=a||Object(s.a)(Object(r.a)().mark((function t(a){var n,s,i,o,u,l,b,j,p,d,O,f,x,v,m,h,w;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,n=[],e.onSubmit&&e.onSubmit(),B.map((function(e){n.push(Object(c.a)(Object(c.a)({},G.poolData[e]),{},{inputValue:a[e]?Object(g.fb)(a[e]).times(U[e].precision):Object(g.a)(0)}))})),s=0;case 5:if(!(s<n.length)){t.next=19;break}if(i=n[s],o=i.allowance,u=void 0===o?Object(g.a)(0):o,l=i.inputValue,b=i.token,j=i.symbol,p=i.approveStatus,d=i.id,!Object(g.a)(u).lt(l)||p){t.next=16;break}return t.next=10,Z.approveToken(b,E,{title:"deposit.approve_token",obj:{value:j},continuous:!0},[["pool/getBalanceInfo"]]);case 10:if(!t.sent){t.next=15;break}G.poolData[d].approveStatus=2,t.next=16;break;case 15:return t.abrupt("return");case 16:s++,t.next=5;break;case 19:if(O=n.sort((function(e,t){return e.index-t.index})),f=O.length,x=O.map((function(e){return e.inputValue._toIntegerDown()._toHex()}))||[],v=null,!G.lpTotalSupply.lte(0)){t.next=26;break}return t.next=26,G.getUserLp();case 26:if(!G.lpTotalSupply.lte(0)){t.next=30;break}v=Object(g.a)(1),t.next=36;break;case 30:return t.next=32,Object(C.d)(x);case 32:if((m=t.sent).success){t.next=35;break}return t.abrupt("return");case 35:v=m.value;case 36:return v=v.times(Object(g.a)(1).minus(Object(g.a)(F).times(f).div(Object(g.a)(4).times(f-1)).div(1e10))),h=v.times(1-V)._toFixed(0,1),w={title:"actions.addLiq",obj:{detail:Object(g.A)(a)}},t.next=41,Z.addLiquidity(x,h,w,[["pool/updateCurrencyData"]]);case 41:t.sent&&Me(),t.next=48;break;case 45:t.prev=45,t.t0=t.catch(0),console.log("deposit err: ",t.t0);case 48:case"end":return t.stop()}}),t,null,[[0,45]])})))).apply(this,arguments)},Ie=function(){return(u=u||Object(s.a)(Object(r.a)().mark((function e(){var t,a,n,c,s,i,o,u;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in t=[],X)n=U[a],c=n.index,s=n.precision,i=X[a].replace(/,/g,""),t[c]=Object(g.a)(i).isNaN()?0:Object(g.a)(i).times(s)._toIntegerDown()._toHex();if(o=null,!G.lpTotalSupply.lte(0)){e.next=6;break}return e.next=6,G.getUserLp();case 6:if(!G.lpTotalSupply.lte(0)){e.next=10;break}o=Object(g.a)(1),e.next=16;break;case 10:return e.next=12,Object(C.d)(t);case 12:if((u=e.sent).success){e.next=15;break}return e.abrupt("return");case 15:o=u.value.div(1e18);case 16:ve(o);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Te=function(){return(m=m||Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([G.getSwapBalance(),G.getVirtualPrice(),G.getVolData()]);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Ue=function(){return(K=K||Object(s.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([G.getUserLp(),G.getBalanceInfo()]);case 2:t={},B.map((function(e){var a=G.poolData[e],n=a.precision,c=a.balance,r=a.decimal;t[e]=Object(g.c)(Object(g.a)(c).div(n)._toFixed(r,1))})),Y(t),!he&&we(!0),Ae||(Ae=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Te(),G.getUserLp();case 2:case"end":return e.stop()}}),e)}))),Q.defaultIntervalSec));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)};Object(o.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Ue(),Te()]);case 2:return e.abrupt("return",(function(){clearInterval(Ae)}));case 3:case"end":return e.stop()}}),e)}))),[Q.defaultAccount]);var Be=function(e){var t=Object.keys(e),a=t.length;if(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),a=t.filter((function(t){return Object(g.fb)(e[t]).eq(0)||!e[t]}));return t.length===a.length}(e))return le(l.a.get("error.e1")),!0;for(var n=0;n<a;n++){var c=t[n],r=e[c];if(!r&&(te||re))return le(l.a.get("error.e1")),!0;var s=G.poolData[c],i=s.balance,o=s.precision,u=s.symbol;if(Object(g.a)(i).div(o).lt(Object(g.fb)(r)))return le(l.a.get("error.e2",{token:u})),!0}return le(!1),!1},Fe=function(e){De(e.target.checked)},Ve=function(e){return(H=H||Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.calcInclPrice(t);case 2:a=e.sent,de(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Ee=function(e,t){var a=t,n={};n[e]=Object(g.c)(String(a).replace(/,/g,""));var c=G.poolData[e],r=(c.precision,c.swapBalance),s=(c.balance,Object(g.fb)(a).div(r).isNaN()?Object(g.a)(0):Object(g.fb)(a).div(r));B.filter((function(t){return t!==e})).map((function(e){var t=G.poolData[e],a=t.balance,c=void 0===a?Object(g.a)(0):a,r=t.swapBalance,i=t.precision,o=t.decimal;n[e]=Object(g.c)(s.times(r)._toFixed(o,1)),c.div(i).lt(Object(g.fb)(n[e]))&&(n[e]=Object(g.c)(c.div(i)._toFixed(o,1)))})),Y(n)},Ke=function(e){return(M=M||Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,ae(a),re&&se(!a),a&&Ee(B[0],X[B[0]])}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},He=function(e){return(q=q||Object(s.a)(Object(r.a)().mark((function e(t){var a,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,se(a),te&&ae(!a),n={},B.map((function(e){var t=G.poolData[e],a=t.balance,c=t.precision,r=t.decimal;n[e]=Object(g.a)(a).isNaN()?0:Object(g.c)(a.div(c)._toFixed(r,1))})),Y(n)}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Me=function(){De(!1),ye(!1)},qe=Object(I.b)();return Object(T.jsx)(b.a,{children:function(){return Object(T.jsxs)(j.a,Object(c.a)(Object(c.a)({},D.a.row),{},{children:[Object(T.jsx)(p.a,Object(c.a)(Object(c.a)({},D.a.colLeft),{},{children:Object(T.jsxs)("div",{className:"pool-deposit",children:[Object(T.jsx)(L.a,{list:R,activeKey:J[0]}),e.isSinglePage?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(w.a,{routeName:"3pool/deposit",mountedActions:Ue,instantActions:Te}),Object(T.jsx)(k.a,{title:"3pool "+l.a.get("banner.title_deposit"),desc:l.a.get("banner.desc_deposit")}),Object(T.jsx)(y.a,{})]}):null,Q.isConnected?Object(T.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(T.jsxs)("div",{className:"add-liq",children:[Object(T.jsxs)("fieldset",{className:"currencies",children:[Object(T.jsx)("legend",{children:l.a.get("deposit.currencies")}),Object(T.jsx)("ul",{children:B.map((function(e){var t=G.poolData[e],a=t.symbol,r=void 0===a?"":a,s=t.balance,i=void 0===s?"--":s,o=t.precision,u=t.decimal;return i=Object(g.a)(i).div(o),Object(T.jsxs)("li",{children:[Object(T.jsxs)("div",{className:"cur-label",children:[Object(T.jsxs)("span",{className:"icon",children:[Object(T.jsx)("img",{src:v.a[e]?v.a[e]:x.default,alt:"",className:"token-logo"})," ",r]}),Object(T.jsx)("span",{className:"token-max",children:l.a.getHTML("deposit.token_max",{balance:Object(g.u)(i)})})]}),Object(T.jsx)(P.a,{onMaxClick:function(){!function(e,t,a){if(!Object(g.a)(t).isNaN()){var r=Object(g.a)(t)._toFixed(a,1);Y(Object(c.a)(Object(c.a)({},X),{},Object(n.a)({},e,Object(g.c)(r)))),te&&Ee(e,r)}}(e,i,u)},value:X[e],onChange:function(t){return function(e,t){re&&se(!1);var a=U[t].decimal,r=Object(g.V)((""+e.target.value).replace(/,/g,""),a),s=r.valid,i=r.str;s&&(Y(Object(c.a)(Object(c.a)({},X),{},Object(n.a)({},t,Object(g.c)(i)))),te&&Ee(t,i))}(t,e)}})]},e)}))})]}),!Object(g.a)(pe).isNaN()&&Object(g.ab)(pe,!0),Object(T.jsxs)("div",{className:"deposit-check",children:[Object(T.jsx)(d.a,{checked:te,onChange:Ke,children:l.a.get("deposit.ch1")}),Object(T.jsx)("br",{}),Object(T.jsx)(d.a,{checked:re,onChange:He,children:l.a.get("deposit.ch2")})]}),ue?Object(T.jsx)(N.a,{styleName:"mt-40",type:"single",disabled:!0,info:l.a.get("deposit.action")}):Object(T.jsx)(N.a,{styleName:"mt-40",type:"single",info:qe?l.a.get("not_available"):l.a.get("deposit.action"),onClick:function(){return function(e){return(t=t||Object(s.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,ue){e.next=5;break}if(!Be(t)){e.next=5;break}return e.abrupt("return");case 5:if(!ue){e.next=7;break}return e.abrupt("return");case 7:if(!Object(g.a)(pe).abs().gt(10)){e.next=9;break}return e.abrupt("return",ye(!0));case 9:return e.next=11,Pe(t);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}(X)},disabled:qe}),ue&&Object(T.jsx)("div",{className:"error-content mt-12",children:Object(T.jsx)("div",{className:"error-tip",children:ue})}),Object(g.a)(xe).gt(0)&&Object(T.jsxs)("div",{className:"error-content mt-12",children:[Object(T.jsxs)("div",{className:"error-tip",children:[l.a.getHTML("deposit.swap_detail",{value:Object(g.u)(xe,2),symbol:"Old 3pool LP"})," "]}),Object(T.jsx)("div",{className:"error-tip",children:l.a.get("deposit.exchange_rate",{value:Object(g.u)(G.virtualPrice,6),symbol:"Old 3pool LP"})})]})]})}):Object(T.jsx)(A.a,{}),Object(T.jsx)(S.a,{}),Object(T.jsx)(O.a,{title:l.a.get("deposit.high_slippage_title"),open:Se,closable:!0,icon:null,onCancel:Me,footer:null,width:400,className:"common-modal common-bg slippage-modal",children:Object(T.jsxs)("div",{className:"center",children:[Object(T.jsxs)("div",{className:"common-err-bg",children:[Object(T.jsx)("div",{children:l.a.get("deposit.high_tip1")}),Object(T.jsx)("div",{children:l.a.get("deposit.high_tip2",{value:Object(g.u)(Object(g.a)(pe).abs(),3)})})]}),Object(T.jsx)(d.a,{checked:Le,onChange:Fe,children:l.a.get("deposit.confirm_slippage",{value:Object(g.u)(Object(g.a)(pe).abs(),3)})}),Object(T.jsx)("br",{}),Object(T.jsxs)("div",{className:"btns flex",children:[Object(T.jsx)(f.a,{onClick:function(){return ye(!1)},type:"primary",children:l.a.get("cancel")}),Object(T.jsx)(f.a,{onClick:function(){return Pe(X)},disabled:!Le,children:l.a.get("deposit.anyway")})]})]})})]})})),Object(T.jsx)(p.a,Object(c.a)(Object(c.a)({},D.a.colRight),{},{children:Object(T.jsx)(_.a,{className:Q.isConnected?null:"window-for-tabs-pane"})}))]}))}})}},1111:function(e,t,a){"use strict";var n=a(4),c=a(5),r=a(0),s=a(2),i=a(11),o=a(3),u=a(15),l=a.n(u),b=a(1931),j=a(1933),p=a(344),d=a(1040),O=a(283),f=a(78),x=a(110),v=a(25),g=a(6),m=a(12),h=a(1),w=a(1077),k=a(1057),_=a(1067),S=(a(1075),a(1066)),y=(a(41),a(1063)),N=a(1059),C=a(1064),L=a(1061),D=a(1058),A=a(1062),P=a(1070),I=a(7),T=g.a.pools,U=g.a.poolKeys,B=g.a.stableLp,F=g.a.ALL_FEE,V=g.a.stablePool,E=g.a.tokens,K="---",H="CUSTOM",M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={};return U.map((function(a){t[a]=e})),t};t.a=function(e){var t,a,u,g,q,R,J,Q,Z,G,W,z=e.pageList,X=e.tabPaneKey,Y=Object(o.useState)(),$=Object(i.a)(Y,2),ee=$[0],te=void 0===ee?M("--"):ee,ae=$[1],ne=Object(o.useState)("100.00"),ce=Object(i.a)(ne,2),re=ce[0],se=ce[1],ie=Object(o.useState)(.2),oe=Object(i.a)(ie,2),ue=oe[0],le=oe[1],be=Object(o.useState)(""),je=Object(i.a)(be,2),pe=je[0],de=je[1],Oe=Object(o.useState)(!0),fe=Object(i.a)(Oe,2),xe=fe[0],ve=fe[1],ge=Object(o.useState)(!1),me=Object(i.a)(ge,2),he=me[0],we=me[1],ke=Object(o.useState)("--"),_e=Object(i.a)(ke,2),Se=_e[0],ye=_e[1],Ne=Object(o.useState)(),Ce=Object(i.a)(Ne,2),Le=Ce[0],De=void 0===Le?M(!1):Le,Ae=Ce[1],Pe=Object(o.useState)(!1),Ie=Object(i.a)(Pe,2),Te=Ie[0],Ue=Ie[1],Be=Object(o.useState)(!1),Fe=Object(i.a)(Be,2),Ve=Fe[0],Ee=Fe[1],Ke=Object(f.d)((function(){return x.a.system})),He=Object(f.d)((function(){return x.a.pool})),Me=Object(f.d)((function(){return x.a.network})),qe=null;Object(o.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ve&&Re();case 1:case"end":return e.stop()}}),e)}))),[te,re,ue,pe,De]),Object(o.useEffect)((function(){at(te,he)}),[te]);var Re=function(){return re!==K&&Object(h.fb)(re).gt(100)?(Ue(l.a.get("error.e3")),!0):function(){for(var e in te)if(Object(h.fb)(te[e]).gt(0)||"--"===te[e])return!1;return!0}()?(Ue(l.a.get("error.e4")),!0):ue===H&&(Ge()||re===K)&&(Object(h.a)(pe).lt(.1)||Object(h.a)(pe).gt(50)||Object(h.a)(pe).isNaN())?(Ue(l.a.get("error.e5")),!0):(Ue(!1),!1)},Je=function(e,a){return(t=t||Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,i,o,u,l,b;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.length,c=t.map((function(e){return e.inputValue.isNaN()?0:e.inputValue._toIntegerDown()._toHex()}))||[],e.next=5,Object(m.d)(c,!1);case 5:if((s=e.sent).success){e.next=8;break}return e.abrupt("return");case 8:if(i=s.value,o=i.times(Object(h.a)(1).plus(Object(h.a)(F).times(n).div(4*(n-1)))),u=Object(h.a)(100).plus(a).div(100),o=o.times(u)._toIntegerDown(),!xe||!Object(h.a)(He.userLpAllowance).lt(o)){e.next=21;break}return e.next=15,Ke.approveToken(B,V,{title:"deposit.approve_token",obj:{value:E.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]);case 15:if(!e.sent){e.next=20;break}ve(!1),e.next=21;break;case 20:return e.abrupt("return");case 21:return l=o._toHex(),b={title:"actions.remove",obj:{detail:Object(h.A)(te)}},e.next=25,Ke.removeLiqImBalance(c,l,b,[["pool/updateCurrencyData"]]);case 25:e.sent,e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.log(e.t0);case 31:case"end":return e.stop()}}),e,null,[[0,28]])})))).apply(this,arguments)},Qe=function(e,t){return(a=a||Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,i,o,u,l;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,We(a,t,Object(h.fb)(re));case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return");case 6:if(c=n.userLpBalance,n.lpTotalSupply,n.balances,s=n.userLpAllowance,i=n.minAmounts,o=Object(h.fb)(re).div(100).times(c)._toIntegerDown(),!xe||!Object(h.a)(s).lt(o._toIntegerDown())){e.next=17;break}return e.next=11,Ke.approveToken(B,V,{title:"deposit.approve_token",obj:{value:E.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]);case 11:if(!e.sent){e.next=16;break}ve(!1),e.next=17;break;case 16:return e.abrupt("return");case 17:return u={title:"actions.remove",obj:{detail:Object(h.A)(te)}},l=o._toHex(),e.next=21,Ke.removeLiquidity(l,i,u,[["pool/updateCurrencyData"]]);case 21:e.sent,e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})))).apply(this,arguments)},Ze=function(e,t,a){return(u=u||Object(s.a)(Object(r.a)().mark((function e(t,a,n){var c,s,i,o,u,l,b,j,p,d,O,f,x,v;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.qb)(a,t);case 3:if((c=e.sent).success){e.next=6;break}return e.abrupt("return");case 6:if(s=c.userLpBalance,i=c.userLpAllowance,o=Object(h.fb)(re).div(100).times(s)._toIntegerDown(),!xe||!Object(h.a)(i).lt(o._toIntegerDown())){e.next=17;break}return e.next=11,Ke.approveToken(B,V,{title:"deposit.approve_token",obj:{value:E.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]);case 11:if(!e.sent){e.next=16;break}ve(!1),e.next=17;break;case 16:return e.abrupt("return");case 17:for(b in u=o._toHex(),l=!1,De)!0===De[b]&&(l=T[b].index);return e.next=22,Object(m.p)(u,l);case 22:if((j=e.sent).success){e.next=25;break}return e.abrupt("return");case 25:return p=j.value,d=t.length,O=p.times(Object(h.a)(1).minus(Object(h.a)(F).times(d).div(4*(d-1)).div(1e10))),f=Object(h.a)(100).div(Object(h.a)(100).plus(n)),x=O.times(f)._toIntegerDown()._toHex(),v={title:"actions.remove",obj:{detail:Object(h.A)(te)}},e.next=33,Ke.removeLiqOneCoin(u,l,x,v,[["pool/updateCurrencyData"]]);case 33:e.sent,e.next=39;break;case 36:e.prev=36,e.t0=e.catch(0),console.log(e.t0);case 39:case"end":return e.stop()}}),e,null,[[0,36]])})))).apply(this,arguments)},Ge=function(){for(var e in De)if(De[e])return e;return!1},We=function(e,t,a){return(q=q||Object(s.a)(Object(r.a)().mark((function e(t,a,n){var c,s,i,o,u,l,b,j,p=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=p.length>3&&void 0!==p[3]&&p[3],e.prev=1,e.next=4,Object(m.qb)(t,a);case 4:if((s=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:return i=s.userLpBalance,o=s.lpTotalSupply,u=s.balances,l=s.userLpAllowance,b=[],j={},a.map((function(e){var t=e.index,a=e.id,r=e.decimal,s=e.precision,l=Object(h.fb)(n).div(100).times(u[t]);c||(l=Object(h.a)(.98).times(l)),b[t]=l.times(i).div(o)._toIntegerDown()._toHex(),j[a]=Object(h.c)(l.times(i).div(o).div(s)._toFixed(r,1))})),e.abrupt("return",{userLpBalance:i,lpTotalSupply:o,balances:u,userLpAllowance:l,minAmounts:b,amountsStr:j});case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)},ze=function(e,t){return(R=R||Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,i,o,u,l,b,j,p;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,He.getUserLp();case 3:return n=He.userLpBalance,c=T[t],s=c.precision,i=c.decimal,o=Object(h.fb)(a).div(100).times(n)._toIntegerDown(),u=T[t].index,l=o._toHex(),e.next=10,Object(m.p)(l,u);case 10:if((b=e.sent).success){e.next=13;break}return e.abrupt("return",!1);case 13:return j=b.value,p=Object(h.a)(j).div(s)._toFixed(i,1),e.abrupt("return",p);case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)},Xe=function(){He.getSwapBalance(),He.getVirtualPrice(),He.getVolData()},Ye=function(){return(J=J||Object(s.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([He.getUserLp(),He.getBalanceInfo()]);case 2:t={},U.map((function(e){var a=He.poolData[e],n=a.userSwapBalance,c=a.decimal;t[e]=Object(h.c)(Object(h.a)(n)._toFixed(c,1))})),ae(t),qe||(qe=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xe(),e.next=3,He.getUserLp();case 3:case"end":return e.stop()}}),e)}))),Me.defaultIntervalSec));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)};Object(o.useEffect)((function(){return Ye(),Xe(),function(){clearInterval(qe)}}),[]);var $e=function(e,t){return(Q=Q||Object(s.a)(Object(r.a)().mark((function e(t,a){var s,i,o,u,l;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ve&&Ee(!0),s=Object(h.fb)(re),i={},o={},!t){e.next=16;break}for(u in we(!0),De)u!==a&&(i[u]=!1,o[u]=0);return Ae(Object(c.a)(Object(c.a)(Object(c.a)({},De),i),{},Object(n.a)({},a,t))),(re===K||Object(h.fb)(re).lte(0))&&se(s="100.00"),Object(h.a)(s).gt(100)&&(s=100),e.next=12,ze(a,s);case 12:(l=e.sent)&&ae(Object(c.a)(Object(c.a)(Object(c.a)({},te),o),{},Object(n.a)({},a,Object(h.c)(l)))),e.next=19;break;case 16:se(K),we(!1),Ae(Object(c.a)(Object(c.a)({},De),{},Object(n.a)({},a,t)));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)},et=function(){var e={},t={};U.map((function(a){e[a]=0,t[0]=!1})),ae(e),Ae(De),se(0)},tt=function(){var e={};U.map((function(t){e[t]=0})),ae(e)},at=function(e,t){return(G=G||Object(s.a)(Object(r.a)().mark((function e(t,a){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.calcInclPrice(t,!1,a);case 2:n=e.sent,ye(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},nt=function(e){return(W=W||Object(s.a)(Object(r.a)().mark((function e(t){var a,s,i,o,u,l,b,j,p,d,O,f,x,v,g;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ve&&Ee(!0),s=t.target.value,i=s.split("."),(null===(a=i[1])||void 0===a?void 0:a.length)>2&&(s="".concat(i[0]+"."+i[1].substr(0,2))),!Object(h.a)(s).gt(100)){e.next=6;break}return e.abrupt("return");case 6:if(o=Object(h.V)(s,10),u=o.valid,l=o.str,re!==K){e.next=9;break}return e.abrupt("return",et());case 9:if(""!==s){e.next=12;break}return se(""),e.abrupt("return",tt());case 12:if(!u){e.next=34;break}if(se(Object(h.c)(l)),!(b=Object(h.a)(l).gt(100)?Object(h.a)(100):Object(h.a)(l)).isNaN()){e.next=17;break}return e.abrupt("return");case 17:if(Me.defaultAccount){e.next=19;break}return e.abrupt("return");case 19:if(j=Me.defaultAccount,!(p=Ge())){e.next=26;break}return e.next=24,ze(p,b);case 24:return d=e.sent,e.abrupt("return",d&&ae(Object(c.a)(Object(c.a)({},te),{},Object(n.a)({},p,Object(h.c)(d)))));case 26:if(l===K){e.next=34;break}return O=[],U.map((function(e){O.push(Object(c.a)({},T[e]))})),f=O.sort((function(e,t){return e.index-t.index})),e.next=32,We(j,f,l,!0);case 32:x=e.sent,s===t.target.value&&(v=x.amountsStr,g=void 0===v?{}:v,x&&ae(g));case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)},ct=function(e){!Ve&&Ee(!0),le(e),e!==K&&de("")},rt=function(e){var t=Object(h.V)(e,10),a=t.valid,n=t.str;if(a)if(""===n)de("");else if(Object(h.a)(n).lte(100)){var c,r=n,s=n.split(".");(null===(c=s[1])||void 0===c?void 0:c.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),de(r)}},st=function(e){return Ge()||re===K?Object(I.jsx)("div",{className:"flex start mt-20",children:Object(I.jsx)(C.a,{slippage:e,customSlippage:pe,CUSTOM_SLIPPAGE:H,onChangeSlippage:ct,onChangeCustomSlippage:rt})}):Object(I.jsx)(I.Fragment,{})};return Object(I.jsx)(f.a,{children:function(){return Object(I.jsxs)(b.a,Object(c.a)(Object(c.a)({},L.a.row),{},{children:[Object(I.jsxs)(j.a,Object(c.a)(Object(c.a)({},L.a.colLeft),{},{children:[Object(I.jsx)(D.a,{list:z,activeKey:X[0]}),Object(I.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(k.a,{routeName:"3pool/withdraw",mountedActions:Ye,instantActions:Xe}),Object(I.jsx)(_.a,{title:"3pool "+l.a.get("banner.title_withdraw"),desc:l.a.get("banner.desc_withdraw")}),Object(I.jsx)(S.a,{})]}):null,Me.isConnected?Object(I.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(I.jsxs)("div",{className:"add-liq withdraw-liq",children:[Object(I.jsxs)("div",{className:"flex",children:[l.a.get("withdraw.share_of_liq"),Object(I.jsx)(P.a,{className:"flex-1 ml-20",showMax:!1,placeholder:"100.00",value:re,onChange:nt})]}),Object(I.jsxs)("fieldset",{className:"currencies mt-35",children:[Object(I.jsx)("legend",{children:l.a.get("deposit.currencies")}),Object(I.jsx)("ul",{children:U.map((function(e){var t=T[e].symbol,a=void 0===t?"":t;return Object(I.jsxs)("li",{children:[Object(I.jsx)("div",{className:"cur-label",children:Object(I.jsxs)("span",{className:"icon",children:[Object(I.jsx)("img",{src:v.a[e]?v.a[e]:O.default,alt:"",className:"token-logo"}),a]})}),Object(I.jsx)(P.a,{showMax:!1,value:te[e],onChange:function(t){!function(e,t){(Z=Z||Object(s.a)(Object(r.a)().mark((function e(t,a){var s,i,o,u,l,b;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(b in!Ve&&Ee(!0),s=T[a].decimal,i=Object(h.V)((""+t.target.value).replace(/,/g,""),s),o=i.valid,u=i.str,o&&ae(Object(c.a)(Object(c.a)({},te),{},Object(n.a)({},a,Object(h.c)(u)))),se(K),we(!1),l={},De)l[b]=!1;Ae(l);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(t,e)}})]},e)}))})]}),Object(h.ab)(Se),Object(I.jsxs)("fieldset",{children:[Object(I.jsxs)("legend",{className:"flex aic jcs pt20",children:[Object(I.jsx)("span",{className:"mr-10",children:l.a.get("withdraw.withdraw_text")}),Object(I.jsx)(p.a,{title:l.a.get("withdraw.tip"),children:Object(I.jsx)(d.a,{})})]}),Object(I.jsx)("div",{className:"withdraw-one",children:U.map((function(e){var t=T[e].symbol,a=void 0===t?"":t;return Object(I.jsx)(y.a,{id:e,checked:De[e],tokenLogo:v.a[e]?v.a[e]:O.default,symbol:a,onChange:$e})}))})]}),st(ue),Te?Object(I.jsx)(N.a,{styleName:"mt-40",type:"single",disabled:!0,info:l.a.get("withdraw.action")}):Object(I.jsx)(N.a,{styleName:"mt-40",type:"single",info:l.a.get("withdraw.action"),onClick:function(){return function(t){return(g=g||Object(s.a)(Object(r.a)().mark((function t(a){var n,s,i,o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Me.defaultAccount){t.next=3;break}return t.abrupt("return");case 3:if(!Ve&&Ee(!0),Te){t.next=8;break}if(!Re(a)){t.next=8;break}return t.abrupt("return");case 8:if(!Te){t.next=10;break}return t.abrupt("return");case 10:if(n=Me.defaultAccount,s=[],U.map((function(e){s.push(Object(c.a)(Object(c.a)({},T[e]),{},{inputValue:Object(h.fb)(a[e]).times(T[e].precision)}))})),i=s.sort((function(e,t){return e.index-t.index})),o=ue===H?pe:ue,e.onSubmit&&e.onSubmit(),!he){t.next=20;break}return t.next=19,Ze(i,n,o);case 19:return t.abrupt("return",t.sent);case 20:if(re===K){t.next=24;break}return t.next=23,Qe(i,n);case 23:return t.abrupt("return",t.sent);case 24:return t.next=26,Je(i,o);case 26:return t.abrupt("return",t.sent);case 29:t.prev=29,t.t0=t.catch(0),console.log(t.t0);case 32:case"end":return t.stop()}}),t,null,[[0,29]])})))).apply(this,arguments)}(te)},disabled:Te}),Te&&Object(I.jsx)("div",{className:"error-content mt-12",children:Object(I.jsx)("div",{className:"error-tip",children:Te})})]})}):Object(I.jsx)(A.a,{})]})]})),Object(I.jsx)(j.a,Object(c.a)(Object(c.a)({},L.a.colRight),{},{children:Object(I.jsx)(w.a,{className:Me.isConnected?null:"window-for-tabs-pane"})}))]}))}})}},1123:function(e,t,a){"use strict";a.r(t),a.d(t,"renderTab",(function(){return H})),a.d(t,"usePoolTab",(function(){return Q}));var n=a(11),c=a(0),r=a(2),s=a(5),i=a(1931),o=a(1933),u=a(1954),l=a(78),b=a(3),j=a.n(b),p=a(15),d=a.n(p),O=(a(1076),a(1079),a(110)),f=a(1057),x=a(1096),v=(a(1915),a(1914)),g=(a(1500),a.p,a(283)),m=a(1080),h=a(6),w=a(12),k=a(25),_=a(1),S=a(1063),y=a(1064),N=a(1059),C=a(285),L=a(7);function D(e){var t,a,i=Object(b.useState)(2),o=Object(n.a)(i,2),u=o[0],j=o[1],p=Object(b.useState)(1),f=Object(n.a)(p,2),D=f[0],A=f[1],P=Object(b.useState)(0),I=Object(n.a)(P,2),T=I[0],U=I[1],B=Object(b.useState)(1),F=Object(n.a)(B,2),V=F[0],E=F[1],K=Object(b.useState)(-1),H=Object(n.a)(K,2),M=H[0],q=H[1],R=Object(b.useState)(1),J=Object(n.a)(R,2),Q=J[0],Z=J[1],G=Object(b.useState)(.005),W=Object(n.a)(G,2),z=W[0],X=W[1],Y=Object(b.useState)(""),$=Object(n.a)(Y,2),ee=$[0],te=$[1],ae=Object(b.useState)(!0),ne=Object(n.a)(ae,2),ce=(ne[0],ne[1],Object(b.useState)("")),re=Object(n.a)(ce,2),se=re[0],ie=re[1],oe=Object(b.useState)(!1),ue=Object(n.a)(oe,2),le=ue[0],be=ue[1],je=h.a.pools,pe=h.a.poolIndex,de=h.a.stablePool,Oe=h.a.poolKeys,fe=Object(l.d)((function(){return O.a.network})),xe=Object(l.d)((function(){return O.a.system})),ve=Object(l.d)((function(){return O.a.pool})),ge=Object(b.useState)(!1),me=Object(n.a)(ge,2),he=me[0],we=me[1];Object(b.useEffect)((function(){Se({i:u,j:T,dx:D})}),[]);var ke=function(){!he&&we(!0);var e=u,t=T,a=V;e!==t&&(j(t),U(e),A(a),Se({i:t,j:e,dx:a,notChangeRate:!0}),ye({no:1,i:t,j:e,dx:a}))},_e=function(e){var t=Object.assign({},(Object(x.a)(e),e));be(!le),ye(Object(s.a)(Object(s.a)({},t),{},{exchangeFlags:!le}))},Se=function(e){return(t=t||Object(r.a)(Object(c.a)().mark((function e(t){var a,n,r,s,i,o,l;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},(Object(x.a)(t),t)),e.prev=1,n=void 0===a.i?u:a.i,r=void 0===a.j?T:a.j,s=void 0===a.dx?Object(_.fb)(D):Object(_.fb)(a.dx),Object(_.a)(s).gt(0)){e.next=8;break}return E(0),e.abrupt("return");case 8:return i=Object(_.a)(s).times(je[pe[n]].precision)._toIntegerDown()._toHex(),o=null,e.next=12,Object(w.Q)(n,r,i);case 12:(o=e.sent).success?(l=Object(_.a)(o.value).div(je[pe[r]].precision),E(Object(_.c)(Object(_.a)(l)._toFixed(je[pe[r]].decimal,1))),Z(Object(_.a)(o.value))):(E(0),Z(1)),a.notChangeRate||ye({i:n,j:r,dx:s}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("getDyData: ",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)},ye=function(e){return(a=a||Object(r.a)(Object(c.a)().mark((function e(t){var a,n,r,s,i,o,l,b;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},(Object(x.a)(t),t)),e.prev=1,n=void 0===a.i?u:a.i,r=void 0===a.j?T:a.j,s=void 0===a.dx?Object(_.fb)(D):Object(_.fb)(a.dx),i=void 0===a.exchangeFlags?le:a.exchangeFlags,o=Object(_.a)(s).times(je[pe[n]].precision)._toIntegerDown()._toHex(),l=null,Object(_.a)(s).gt(0)){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Object(w.Q)(n,r,o);case 12:(l=e.sent).success&&(b=Object(_.a)(l.value).div(je[pe[r]].precision).div(s),q(i?Object(_.a)(1).div(Object(_.a)(b)._toFixed(4,1))._toFixed(4,1):b._toFixed(4,1))),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log("getRateData: ",e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)},Ne=function(e){var t=u;Number(e)!==Number(T)&&(t=T),U(t),j(e);var a=Object(_.fb)(D)._toFixed(je[pe[e]].decimal,1);A(Object(_.c)(a)),Se({i:e,j:t,dx:a})},Ce=function(e){var t=T;Number(e)!==Number(u)&&(t=u),j(t),U(e);var a=Object(_.fb)(D)._toFixed(je[pe[t]].decimal,1);A(Object(_.c)(a)),Se({j:e,i:t,dx:a})},Le=function(e){!he&&we(!0);var t=Object(_.V)((""+e).replace(/,/g,""),je[pe[u]].decimal),a=t.valid,n=t.str,c=ve.poolData&&Object(_.a)(ve.poolData[pe[u]].balance).div(je[pe[u]].precision)._toFixed(2,1);if(a){if(Object(_.a)(n).lte(0))return A(Object(_.c)(n)),E(0),void ie(d.a.get("buysell.error_msg_1"));Object(_.a)(n).gt(c)&&ie(d.a.get("buysell.error_msg_2")),A(Object(_.c)(n)),Se({dx:n})}},De=function(e){var t="--";return t=ve.poolData[pe[u]].balance,t=Object(_.a)(t).isNaN()?"--":ve.poolData[pe[u]].balance.div(ve.poolData[pe[u]].precision),Object(L.jsx)("span",{children:ve.poolData&&Object(_.u)(t)})},Ae=function(){var e=ve.poolData[pe[u]],t=e.precision,a=e.balance,n=e.symbol;return a=Object(_.a)(a).div(t),Object(_.fb)(D).eq(0)||Object(_.fb)(D).isNaN()?(ie(d.a.get("error.e1")),!0):Object(_.fb)(D).gt(a)?(ie(d.a.get("error.e2",{token:n})),!0):2===z&&(!ee||Number(ee)<.1||Number(ee)>50)?(ie(d.a.get("error.e5")),!0):(ie(""),!1)};Object(b.useEffect)((function(){he&&Ae()}),[u,T,D,z,ee]);var Pe=function(){var e=ve.poolData&&Object(_.a)(ve.poolData[pe[u]].balance).div(je[pe[u]].precision);Le(e)},Ie=function(e){!he&&we(!0),X(e),2!==e&&te("")},Te=function(e){!he&&we(!0);var t=Object(_.V)(e,10),a=t.valid,n=t.str;if(a)if(""===n)te("");else if(Object(_.a)(n).lte(100)){var c,r=n,s=n.split(".");(null===(c=s[1])||void 0===c?void 0:c.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),te(r)}},Ue=function(){var e=function(){var e=u,t=T;if(le){var a=[t,e];e=a[0],t=a[1]}return Object(L.jsx)(L.Fragment,{children:pe[e].toUpperCase()+"/"+pe[t].toUpperCase()})};return Object(L.jsxs)("p",{className:"exchang-rate-text mt-20",children:[Object(L.jsxs)("span",{className:"en-US"===window.localStorage.getItem("lang")?"er-en":"",children:[d.a.get("buysell.exchange_rate",{symbol:"3pool LP"})+" ",Object(L.jsx)(e,{})]}),Object(L.jsx)("img",{style:{cursor:"pointer",margin:"0 6px"},className:"exchange-img",alt:"",src:m.a,onClick:_e}),Object(L.jsxs)("span",{children:["(",d.a.get("buysell.including_fees"),"): ",-1===M?d.a.get("buysell.not_available"):M]})]})},Be=function(){var t,a,n=function(){return(t=t||Object(r.a)(Object(c.a)().mark((function t(){var a,n,r,s,i,o,l;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!se){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,a=2!==z?z:ee?Object(_.a)(ee).div(100):0,n=Object(_.a)(Q).times(Object(_.a)(1).minus(Object(_.a)(a)))._toIntegerDown()._toHex(),r=u,s=T,i=Object(_.fb)(D).times(je[pe[r]].precision)._toIntegerDown()._toHex(),o={title:"notification.tip1",title2:"notification.tip1",title3:"notification.tip1",title4:"notification.tip1",obj:{fromValue:Object(_.u)(Object(_.fb)(D)),fromToken:pe[r].toUpperCase(),toValue:Object(_.u)(Object(_.fb)(V)),toToken:pe[s].toUpperCase()}},t.next=11,xe.toExchange(r,s,i,n,o,[["pool/updateCurrencyData"]]);case 11:(l=t.sent)&&(setTimeout((function(){ve.getBalanceInfo()}),5e3),e.onSubmit&&e.onSubmit(l)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),console.log("sellSubmit: ",t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,15]])})))).apply(this,arguments)};return Object(L.jsx)(L.Fragment,{children:se?Object(L.jsx)(N.a,{styleName:"mt-40",type:"single",disabled:!0,info:d.a.get("sell_btn")}):Object(L.jsx)(N.a,{styleName:"mt-40",type:"single",info:d.a.get("sell_btn"),onClick:function(){return(a=a||Object(r.a)(Object(c.a)().mark((function e(){var t,a,r,s;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fe.isConnected){e.next=3;break}return ie(d.a.get("buysell.error_msg_3")),e.abrupt("return");case 3:if(!he&&we(!0),se){e.next=8;break}if(!Ae()){e.next=8;break}return e.abrupt("return");case 8:if(!se){e.next=10;break}return e.abrupt("return");case 10:return e.prev=10,e.next=13,Object(w.Sb)(window.defaultAccount,[je[pe[u]].token],[de]);case 13:if(t=e.sent,a=t[de].allowance,r=ve.poolData[pe[u]].approveStatus,a.gt(0)||r){e.next=29;break}return s={action:"approve",title:"deposit.approve_token",obj:{value:Oe[u].toUpperCase()},continuous:!0},e.next=20,xe.approveToken(je[pe[u]].token,de,s,[["pool/getBalanceInfo"]]);case 20:if(!e.sent){e.next=26;break}ve.poolData[pe[u]].approveStatus=2,n(),e.next=27;break;case 26:return e.abrupt("return");case 27:e.next=30;break;case 29:n();case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(10),console.log("exchangeBefore: ",e.t0);case 35:case"end":return e.stop()}}),e,null,[[10,32]])})))).apply(this,arguments)}})})},Fe=function(e){var t=e.direction,a=void 0===t?"left":t,n=Oe;return Object(L.jsx)("div",{className:"flex start mb-16 pc-input-box",children:n.map((function(e){var t=k.a[e]||g.default,n="left"===a?u:T;return Object(L.jsx)(S.a,{id:e,checked:n===je[e].index,tokenLogo:t,symbol:je[e].symbol,onChange:function(t,n){"left"===a?Ne(je[e].index):Ce(je[e].index)}})}))})},Ve=function(){return Object(L.jsx)("span",{className:"exchange-alt",onClick:function(){return ke()}})},Ee=Object(C.a)(C.b);return Object(L.jsx)(l.a,{children:function(){return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)("div",{className:"exchange-box",children:[Object(L.jsx)(Fe,{direction:"left"},"left"),Object(L.jsxs)("div",{className:"input-block",children:[Object(L.jsxs)("div",{className:"flex",children:[Object(L.jsx)("div",{className:"input-number",children:Object(L.jsx)(v.a,{className:"input",value:D,onChange:function(e){return Le(e.target.value)}})}),Object(L.jsx)("span",{className:"max-btn",onClick:Pe,children:d.a.get("sunSwapV3.swap.input_from_max")})]}),Object(L.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(L.jsx)("span",{children:d.a.get("sunSwapV3.swap.input_from_balance")})," ",De(ve.poolData)]})]}),Object(L.jsxs)("div",{className:"flex",children:[Object(L.jsx)(Ve,{}),!Ee&&Object(L.jsx)("div",{className:"flex start",children:Object(L.jsx)(y.a,{type:"exchange",slippage:z,customSlippage:ee,CUSTOM_SLIPPAGE:2,onChangeSlippage:function(e){Ie(Number(e))},onChangeCustomSlippage:function(e){X(2),Te(e)}})})]}),Object(L.jsx)(Fe,{direction:"right"},"right"),Object(L.jsxs)("div",{className:"input-block",children:[Object(L.jsx)("div",{className:"input-number",children:Object(L.jsx)(v.a,{disabled:!0,className:"input",value:V})}),Object(L.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(L.jsx)("span",{children:d.a.get("sunSwapV3.swap.input_from_balance")})," ",De(ve.poolData)]})]}),Object(L.jsx)(Ue,{}),Ee&&Object(L.jsx)("div",{className:"flex start",children:Object(L.jsx)(y.a,{type:"exchange",slippage:z,customSlippage:ee,CUSTOM_SLIPPAGE:2,onChangeSlippage:function(e){Ie(Number(e))},onChangeCustomSlippage:function(e){X(2),Te(e)}})})]}),Object(L.jsx)(Be,{}),se&&Object(L.jsx)("div",{className:"error-content mt-12",children:Object(L.jsx)("div",{className:"error-tip",children:se})})]})}})}var A=a(1077),P=a(1110),I=a(1111),T=a(1081),U=a(64),B=a(1068),F=a(1061),V=a(1058),E=a(1062),K=function(e){var t=e.onSubmit,a=e.pageList,n=e.tabPaneKey,c=e.isConnected;return Object(L.jsxs)(i.a,Object(s.a)(Object(s.a)({},F.a.row),{},{children:[Object(L.jsxs)(o.a,Object(s.a)(Object(s.a)({},F.a.colLeft),{},{children:[Object(L.jsx)(V.a,{list:a,activeKey:n[0]}),c?Object(L.jsx)("div",{className:"window-for-tabs-pane",children:Object(L.jsx)(D,{onSubmit:t})}):Object(L.jsx)(E.a,{})]})),Object(L.jsx)(o.a,Object(s.a)(Object(s.a)({},F.a.colRight),{},{children:Object(L.jsx)(A.a,{})}))]}))},H=function(e){return Object(L.jsx)("span",{children:J[e].tabTitle})},M=Object(T.a)({childPage:U.h.liquidity_old3pool}),q=M.tabChangeLog,R=M.tabSubmitLog,J={1:{title:d.a.get("banner.title_deposit"),content:d.a.get("banner.desc_deposit"),tabTitle:d.a.get("header.deposit")},2:{title:d.a.get("banner.title_withdraw"),content:d.a.get("banner.desc_withdraw"),tabTitle:d.a.get("header.withdraw")},3:{title:d.a.get("banner.title_1"),content:d.a.get("banner.desc_1"),tabTitle:d.a.get("header.swap")}},Q=function(e){var t=window.location.hash.split("/"),a=Object(n.a)(t,3),c=a[1],r=a[2],s=window.localStorage.getItem("lang");return c.includes("usdc")&&(c="en-US"===s?"USDC Old":"Old USDC"),c.includes("3pool")&&(c="Old 3pool"),c.includes("busd")&&(c="en-US"===s?"Old BUSD":d.a.get("buysell.busd_2pool")),c.includes("usdd_usd_2pool")&&(c="en-US"===s?"Old USDD":d.a.get("buysell.usdd_2pool")),c.includes("usdj_2pool")&&(c="en-US"===s?"Old USDJ":d.a.get("buysell.usdj_2pool")),c.includes("tusd_2pool")&&(c="en-US"===s?"Old TUSD":d.a.get("buysell.tusd_2pool")),{title:c,tabKey:[{deposit:"1",withdraw:"2",swap:"3"}[r]||"1"]}};t.default=function(){var e=Q(),t=e.title,a=e.tabKey,i=j.a.useState(a),o=Object(n.a)(i,2),p=o[0],x=o[1],v=function(){var e,t=null,a=Object(l.d)((function(){return O.a.pool})),n=Object(l.d)((function(){return O.a.network})),s=function(){a.getSwapBalance(),a.getVirtualPrice(),a.getVolData()};return j.a.useEffect((function(){return function(){clearInterval(t)}}),[]),{mountedActions:function(){return(e=e||Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.getUserLp(),e.next=3,a.getBalanceInfo();case 3:t||(t=setInterval(Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(),a.getUserLp(),e.next=4,a.getBalanceInfo();case 4:case"end":return e.stop()}}),e)}))),n.defaultIntervalSec));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},instantActions:s}}(),g=v.mountedActions,m=v.instantActions,h=Object(b.useCallback)((function(e){var t=e.value;x(t),q(t)}),[]),w=function(){var e=window.localStorage.getItem("lang")||d.a.options.currentLocale,t=window.location.origin+window.location.pathname;window.location.href=t+"?lang=".concat(e,"#/sunCurve")},k=Object(b.useMemo)((function(){return{shouldScroll:!0,navRightMoreShow:!0,navRightMoreClick:w}}),[]),_=Object(b.useMemo)((function(){return F.b.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{handler:h})}))}),[h]),S=Object(l.d)((function(){return O.a.network}));return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(f.a,{mountedActions:g,instantActions:m,subNavProps:k}),Object(L.jsxs)("div",{className:"main-page-content",children:[Object(L.jsx)(B.a,{title:"".concat(t," ").concat(J[p[0]].title),subTitle:J[p[0]].content}),Object(L.jsx)("div",{className:"pool-tabs",children:Object(L.jsxs)(u.a,{activeKey:p[0],centered:!0,onChange:h,renderTabBar:function(){return null},children:[Object(L.jsx)(u.a.TabPane,{tab:H("1"),children:Object(L.jsx)(P.a,{onSubmit:function(){return R("1")},pageList:_,tabPaneKey:p})},"1"),Object(L.jsx)(u.a.TabPane,{tab:H("2"),children:Object(L.jsx)(I.a,{onSubmit:function(){return R("2")},pageList:_,tabPaneKey:p})},"2"),Object(L.jsx)(u.a.TabPane,{tab:H("3"),children:Object(L.jsx)(K,{onSubmit:function(e){return R("3",{event_label:e,txid:e})},pageList:_,tabPaneKey:p,isConnected:S.isConnected})},"3")]})})]})]})}},1129:function(e,t,a){"use strict";a.p},1196:function(e,t,a){"use strict";var n=a(11),c=a(78),r=a(3),s=a(15),i=a.n(s),o=(a(1078),a(1129),a(6)),u=a(110),l=a(1),b=(a(1118),a(7)),j=a(1092),p=a(1089),d=o.a.usdcInfo,O=(o.a.usdtPools,o.a.currencyKeys),f=d.Fee,x=d.A,v=d.ADMIN_FEE;t.a=function(e){var t=Object(c.d)((function(){return u.a.network})),a=Object(c.d)((function(){return u.a.usdcPool})),s=Object(c.d)((function(){return u.a.thrSunPool})),d=Object(r.useState)(a),g=Object(n.a)(d,2),m=g[0],h=g[1];Object(r.useEffect)((function(){h("sun3"===e.type?s:a)}));var w=function(e,t){var a=Object(l.a)(e).times(t).div(1e18);return a.isNaN()?"--":Object(l.u)(a,2)},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var a=Object(l.a)(0);for(var n in e){var c=e[n],r=c.userSwapBalance,s=c.priceKey,i=t?t[s]:"--";a=a.plus(Object(l.a)(r).times(i))}return Object(l.u)(a)}catch(o){return console.log(o),"--"}},_=window.localStorage.getItem("lang"),S=O.map((function(e){return m.currencyData[e]})).filter((function(e){return e})),y="".concat("en-US"===_?"USDC Old":"Old USDC"," ").concat(i.a.get("pool.pool_contract")),N="USDC3SUN ".concat(i.a.get("pool.token_contract2")),C=m.volData?m.volData.usdcpvol24Hours:"";return Object(b.jsx)(c.a,{children:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(j.a,{curveLPSymbol:"sun3",poolTokens:S,totalSwapBalance:m.totalSwapBalance,adminFee:v,fee:f,virtualPrice:m.virtualPrice,dailyVol:C,poolContract:o.a.usdcContracts.usdcSwap,poolName:y,lpTokenAddress:o.a.tokens.thrsunlp.token,lpTokenName:N,aValue:x}),t.isConnected&&Object(l.a)(m.sharePer).gt(0)&&Object(b.jsx)(p.a,{sharePer:m.sharePer,usdBalance:k(m.poolData,m.volData),avgUsdBalance:w(m.swapBalanceInfo.userUsdcLpBalance,m.virtualPrice),userTotalBalance:m.swapBalanceInfo.userTotalBalance,myPoolTokens:S})]})}})}},1404:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(5),r=a(0),s=a(2),i=a(11),o=a(3),u=a(15),l=a.n(u),b=a(78),j=a(1931),p=a(1933),d=a(1502),O=a(1042),f=a(181),x=a(283),v=(a(1106),a(1078),a(25)),g=a(1),m=a(6),h=a(110),w=a(1057),k=a(1067),_=(a(1075),a(1196)),S=a(340),y=a(1066),N=a(1059),C=a(12),L=a(1061),D=a(1058),A=a(1062),P=a(1070),I=a(338),T=a(7),U=m.a.usdcPools,B=m.a.usdcPoolKeys,F=m.a.usdcInfo,V=m.a.defaultSlippage,E=m.a.usdcContracts,K=m.a.pools,H=m.a.thrSunPoolKeys,M=m.a.thrSunPools,q=m.a.tokens.thrsunlp.symbol,R=F.ALL_FEE,J=E.USDCDepositer,Q=E.usdcSwap,Z=function(e){var t={};return e.map((function(e){t[e]=""})),t};t.default=function(e){var t,a,u,F,E,G,W,z,X,Y,$=e.tabPaneKey,ee=e.pageList,te=Object(b.d)((function(){return h.a.network})),ae=Object(b.d)((function(){return h.a.system})),ne=Object(b.d)((function(){return h.a.usdcPool})),ce=Object(b.d)((function(){return h.a.thrSunPool})),re=Object(o.useState)(!1),se=Object(i.a)(re,2),ie=se[0],oe=se[1],ue=Object(o.useState)(!0),le=Object(i.a)(ue,2),be=le[0],je=le[1],pe=Object(o.useState)(!1),de=Object(i.a)(pe,2),Oe=de[0],fe=de[1],xe=Object(o.useState)(!1),ve=Object(i.a)(xe,2),ge=ve[0],me=ve[1],he=Object(o.useState)("--"),we=Object(i.a)(he,2),ke=we[0],_e=we[1],Se=Object(o.useState)("--"),ye=Object(i.a)(Se,2),Ne=ye[0],Ce=ye[1],Le=Object(o.useState)(!1),De=Object(i.a)(Le,2),Ae=De[0],Pe=De[1],Ie=Object(o.useState)(!1),Te=Object(i.a)(Ie,2),Ue=Te[0],Be=Te[1],Fe=Object(o.useState)(!1),Ve=Object(i.a)(Fe,2),Ee=Ve[0],Ke=Ve[1],He=Object(o.useState)(ne),Me=Object(i.a)(He,2),qe=Me[0],Re=Me[1],Je=Object(o.useState)(B),Qe=Object(i.a)(Je,2),Ze=Qe[0],Ge=Qe[1],We=Object(o.useState)(U),ze=Object(i.a)(We,2),Xe=ze[0],Ye=ze[1],$e=Object(o.useState)((function(){return Z(B)})),et=Object(i.a)($e,2),tt=et[0],at=et[1],nt=Object(o.useState)((function(){return Z(H)})),ct=Object(i.a)(nt,2),rt=ct[0],st=ct[1],it=Object(o.useState)(tt),ot=Object(i.a)(it,2),ut=ot[0],lt=ot[1],bt=null,jt=null,pt=window.localStorage.getItem("lang");Object(o.useEffect)((function(){Oe?(Re(ce),Ge(H),lt(rt),Ye(M)):(Re(ne),Ge(B),lt(tt),Ye(U))}),[Oe]),Object(o.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([ht(ut),ft()]);case 2:Ae&&gt(ut);case 3:case"end":return e.stop()}}),e)}))),[ut]);var dt=function(){return(t=t||Object(s.a)(Object(r.a)().mark((function e(){var t,a,n,c,s,i;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Oe){e.next=2;break}return e.abrupt("return",{success:!0,value:ut.sun3?Object(g.fb)(ut.sun3).times(Xe.sun3.precision):Object(g.a)(0)});case 2:for(a in e.prev=2,t=[],K)n=K[a],c=n.index,s=n.precision,t[c]=Object(g.fb)(ut[a]).isNaN()?0:Object(g.fb)(ut[a]).times(s)._toIntegerDown()._toHex();return e.next=7,Object(C.d)(t);case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",{success:!1});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)},Ot=function(t){return(u=u||Object(s.a)(Object(r.a)().mark((function t(a){var n,s,i,o,u,l,b,j,p,d,O,f,x,v,m,h,w,k,_,S,y,N;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,e.onSubmit&&e.onSubmit(),n=[],Ze.map((function(e){n.push(Object(c.a)(Object(c.a)({},qe.poolData[e]),{},{inputValue:a[e]?Object(g.fb)(a[e]).times(Xe[e].precision):Object(g.a)(0)}))})),s="usdcPool/getBalanceInfo",i=J,Oe&&(s="thrSunPool/getBalanceInfo",i=Q),o=0;case 8:if(!(o<n.length)){t.next=22;break}if(u=n[o],l=u.allowance,b=void 0===l?Object(g.a)(0):l,j=u.inputValue,p=u.token,d=u.symbol,O=u.approveStatus,f=u.id,!Object(g.a)(b).lt(j)||O){t.next=19;break}return t.next=13,ae.approveToken(p,i,{title:"deposit.approve_token",obj:{value:d},continuous:!0},[[s]]);case 13:if(!t.sent){t.next=18;break}qe.poolData[f].approveStatus=2,t.next=19;break;case 18:return t.abrupt("return");case 19:o++,t.next=8;break;case 22:if(x=n.sort((function(e,t){return e.index-t.index})),v=x.length,m=x.map((function(e){return e.inputValue._toIntegerDown()._toHex()}))||[],h=null,!qe.lpTotalSupply.lte(0)){t.next=29;break}return t.next=29,qe.getSwapBalance();case 29:if(!qe.lpTotalSupply.lte(0)){t.next=38;break}return t.next=32,dt();case 32:if((w=t.sent).success){t.next=35;break}return t.abrupt("return");case 35:h=w.value.div(1e18).plus(Object(g.fb)(a.usdc)),t.next=51;break;case 38:if(k={},!Oe){t.next=45;break}return t.next=42,Object(C.n)(m);case 42:k=t.sent,t.next=48;break;case 45:return t.next=47,Object(C.k)(m);case 47:k=t.sent;case 48:if(k.success){t.next=50;break}return t.abrupt("return");case 50:h=k.value;case 51:if(h=h.times(Object(g.a)(1).minus(Object(g.a)(R).times(v).div(Object(g.a)(4).times(v-1)).div(1e10))),_=h.times(1-V)._toIntegerDown()._toHex(),!Oe){t.next=60;break}return y={title:"actions.addLiq",obj:{detail:Object(g.A)(a,"sun3")}},t.next=57,ae.addLiquidityUsdcBySun3(m,_,y,[["thrSunPool/updateCurrencyData"]]);case 57:S=t.sent,t.next=64;break;case 60:return N={title:"actions.addLiq",obj:{detail:Object(g.A)(a,"usdc")}},t.next=63,ae.addLiquidityUsdc(m,_,N,[["usdcPool/updateCurrencyData"]]);case 63:S=t.sent;case 64:S&&yt(),t.next=70;break;case 67:t.prev=67,t.t0=t.catch(0),console.log("deposit err: ",t.t0);case 70:case"end":return t.stop()}}),t,null,[[0,67]])})))).apply(this,arguments)},ft=function(){return(F=F||Object(s.a)(Object(r.a)().mark((function e(){var t,a,n,c,s,i,o,u,l;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in e.prev=0,t=[],a=!1,ut)c=Xe[n],s=c.index,i=c.precision,t[s]=Object(g.fb)(ut[n]).isNaN()?0:Object(g.fb)(ut[n]).times(i)._toIntegerDown()._toHex(),Object(g.a)(t[s]).gt(0)&&(a=!0);if(a){e.next=7;break}return Ce(Object(g.a)(0)),e.abrupt("return");case 7:if(o=null,!qe.lpTotalSupply.lte(0)){e.next=11;break}return e.next=11,qe.getSwapBalance();case 11:if(!qe.lpTotalSupply.lte(0)){e.next=20;break}return e.next=14,dt();case 14:if((u=e.sent).success){e.next=17;break}return e.abrupt("return");case 17:o=u.value.div(1e18).plus(Object(g.fb)(ut.usdc)),e.next=33;break;case 20:if(l={},!Oe){e.next=27;break}return e.next=24,Object(C.n)(t);case 24:l=e.sent,e.next=30;break;case 27:return e.next=29,Object(C.k)(t);case 29:l=e.sent;case 30:if(l.success){e.next=32;break}return e.abrupt("return");case 32:o=l.value.div(1e18);case 33:Ce(o),e.next=39;break;case 36:e.prev=36,e.t0=e.catch(0),console.log(e.t0);case 39:case"end":return e.stop()}}),e,null,[[0,36]])})))).apply(this,arguments)},xt=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(ce.getSwapBalance(),ce.getVirtualPriceUSDC(),ce.getVolData()):(ne.getSwapBalance(),ne.getVirtualPriceUSDC(),ne.getVolData())},vt=function(){return(E=E||Object(s.a)(Object(r.a)().mark((function e(){var t,a=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},!(a.length>0&&void 0!==a[0]&&a[0])){e.next=12;break}return e.next=5,ce.getSwapBalance();case 5:return ce.getUserLp(),e.next=8,ce.getBalanceInfo();case 8:H.map((function(e){var a=ce.poolData[e],n=a.precision,c=a.balance,r=a.decimal;t[e]=Object(g.c)(Object(g.a)(c).div(n)._toFixed(r,1))})),st(t),e.next=19;break;case 12:return e.next=14,ne.getSwapBalance();case 14:return ne.getUserLp(),e.next=17,ne.getBalanceInfo();case 17:B.map((function(e){var a=ne.poolData[e],n=a.precision,c=a.balance,r=a.decimal;t[e]=Object(g.c)(Object(g.a)(c).div(n)._toFixed(r,1))})),at(t);case 19:lt(t),!Ae&&Pe(!0),bt||(bt=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xt(),ne.getUserLp();case 2:case"end":return e.stop()}}),e)}))),te.defaultIntervalSec));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)};Object(o.useEffect)((function(){!jt&&Oe&&(jt=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xt(!0),e.next=3,ce.getUserLp();case 3:case"end":return e.stop()}}),e)}))),te.defaultIntervalSec))}),[Oe]),Object(o.useEffect)((function(){return vt(),xt(),function(){clearInterval(bt),clearInterval(jt)}}),[]);var gt=function(e){var t=Object.keys(e),a=t.length;if(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),a=t.filter((function(t){return Object(g.fb)(e[t]).eq(0)||!e[t]}));return t.length===a.length}(e))return me(l.a.get("error.e1")),!0;for(var n=0;n<a;n++){var c=t[n],r=e[c];if(!r&&(ie||be))return me(l.a.get("error.e1")),!0;if(qe.poolData[c]){var s=qe.poolData[c],i=s.balance,o=s.precision,u=s.symbol;if(Object(g.a)(i).div(o).lt(Object(g.fb)(r)))return me(l.a.get("error.e2",{token:u})),!0}}return me(!1),!1},mt=function(e){Ke(e.target.checked)},ht=function(e){return(G=G||Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe.calcInclPrice(t);case 2:a=e.sent,_e(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},wt=function(e,t){return(W=W||Object(s.a)(Object(r.a)().mark((function e(t,a){var s,i,o,u,l,b,j,p,d,O,f,x,v,h,w,k,_,S,y,N,L,D,A,P,I,T,U;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=a,(i={})[t]=Object(g.c)(s),o=qe.poolData[t],o.precision,u=o.swapBalance,o.balance,l=qe.swapBalanceInfo,b=l.sun3LpBalance,j=l.sun3TotalSupply,p=l.balancesUsdc,d=Object(g.fb)(s).div(u).isNaN()?Object(g.a)(0):Object(g.fb)(s).div(u),"usdc"!==t){e.next=17;break}if(!Oe){e.next=12;break}return O=qe.poolData.sun3,f=O.swapBalance,x=O.decimal,i.sun3=Object(g.c)(f.times(d)._toFixed(x,1)),e.abrupt("return",lt(i));case 12:return v=Ze.filter((function(e){return e!==t})),h=d.times(b),w=h.div(j),v.map((function(e){var t=qe.poolData[e],a=t.balance,n=void 0===a?Object(g.a)(0):a,c=t.swapBalance,r=t.precision,s=t.decimal;i[e]=Object(g.c)(w.times(c)._toFixed(s,1)),n.div(r).lt(Object(g.fb)(i[e]))&&(i[e]=Object(g.c)(n.div(r)._toFixed(s,1)))})),e.abrupt("return",lt(i));case 17:if(k=Ze.filter((function(e){return e!==t&&"usdc"!==e})),_=Object(n.a)({},t,Object(g.c)(s)),k.map((function(e){var t=qe.poolData[e],a=t.balance,n=void 0===a?Object(g.a)(0):a,c=t.swapBalance,r=t.precision,s=t.decimal;_[e]=Object(g.c)(d.times(c)._toFixed(s,1)),n.div(r).lt(_[e])&&(_[e]=Object(g.c)(n.div(r)._toFixed(s,1)))})),S=Object(g.a)(0),!Oe){e.next=25;break}a&&(S=Object(g.fb)(a).times(Xe.sun3.precision)),e.next=33;break;case 25:for(N in y=[],_)L=K[N],D=L.index,A=L.precision,y[D]=Object(g.fb)(_[N]).isNaN()?0:Object(g.fb)(_[N]).times(A)._toIntegerDown()._toHex();return e.next=29,Object(C.d)(y);case 29:if((P=e.sent).success){e.next=32;break}return e.abrupt("return");case 32:S=P.value;case 33:I=Object(g.a)(S).div(Object(g.a)(b).times(m.a.defaultVotePrecision)),T=qe.poolData.usdc,U=I.isNaN()?0:I.times(p)._toFixed(T.decimal,1),i.usdc=T.balance.div(T.precision).lt(U)?Object(g.c)(T.balance.div(T.precision)._toFixed(T.decimal,1)):Object(g.c)(U),lt(Object(c.a)(Object(c.a)({},i),_)),e.next=43;break;case 40:e.prev=40,e.t0=e.catch(0),console.log(e.t0);case 43:case"end":return e.stop()}}),e,null,[[0,40]])})))).apply(this,arguments)},kt=function(e){return(z=z||Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,oe(a),be&&je(!a),a&&wt(Ze[0],Object(g.fb)(ut[Ze[0]]))}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},_t=function(e){return(X=X||Object(s.a)(Object(r.a)().mark((function e(t){var a,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,je(a),ie&&oe(!a),n={},Ze.map((function(e){var t=qe.poolData[e],a=t.balance,c=void 0===a?Object(g.a)(0):a,r=t.precision,s=t.decimal;n[e]=Object(g.a)(c).isNaN()?0:Object(g.c)(c.div(r)._toFixed(s,1))})),lt(n)}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},St=function(e){return(Y=Y||Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,fe(a),oe(!1),je(!0),t.target.checked?clearInterval(bt):clearInterval(jt),xt(t.target.checked),vt(t.target.checked)}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},yt=function(){Ke(!1),Be(!1)},Nt=Object(I.b)();return Object(T.jsx)(b.a,{children:function(){return Object(T.jsxs)(j.a,Object(c.a)(Object(c.a)({},L.a.row),{},{children:[Object(T.jsxs)(p.a,Object(c.a)(Object(c.a)({},L.a.colLeft),{},{children:[Object(T.jsx)(D.a,{list:ee,activeKey:$[0]}),Object(T.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(w.a,{routeName:"usdc/deposit",mountedActions:vt,instantActions:xt}),Object(T.jsx)(k.a,{title:l.a.get("buysell.usdc_pool")+" "+l.a.get("banner.title_deposit"),desc:l.a.get("banner.desc_deposit")}),Object(T.jsx)(y.a,{})]}):null,te.isConnected?Object(T.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(T.jsxs)("div",{className:"add-liq",children:[Object(T.jsxs)("fieldset",{className:"currencies",children:[Object(T.jsx)("legend",{children:l.a.get("deposit.currencies")}),Object(T.jsx)("ul",{children:Ze.map((function(e){var t=qe.poolData[e],a=t.symbol,r=void 0===a?"":a,s=t.balance,i=void 0===s?"--":s,o=t.precision,u=t.decimal;return i=Object(g.a)(i).div(o),Object(T.jsxs)("li",{children:[Object(T.jsxs)("div",{className:"cur-label",children:[Object(T.jsxs)("span",{className:"icon",children:[Object(T.jsx)("img",{src:v.a[e]?v.a[e]:x.default,alt:"",className:"token-logo"})," ",r]}),Object(T.jsx)("span",{className:"token-max",children:l.a.getHTML("deposit.token_max",{balance:Object(g.u)(i)})})]}),Object(T.jsx)(P.a,{value:ut[e],onChange:function(t){return function(e,t){be&&je(!1);var a=Xe[t].decimal,r=Object(g.V)((""+e.target.value).replace(/,/g,""),a),s=r.valid,i=r.str;s&&(lt(Object(c.a)(Object(c.a)({},ut),{},Object(n.a)({},t,Object(g.c)(i)))),ie&&wt(t,i))}(t,e)},onMaxClick:function(){!function(e,t,a){if(!Object(g.a)(t).isNaN()){var r=Object(g.a)(t)._toFixed(a,1);lt(Object(c.a)(Object(c.a)({},ut),{},Object(n.a)({},e,Object(g.c)(r)))),ie&&wt(e,r)}}(e,i,u)}})]},e)}))})]}),!Object(g.a)(ke).isNaN()&&Object(g.ab)(ke,!0),Object(T.jsxs)("div",{className:"deposit-check",children:[Object(T.jsx)(d.a,{checked:ie,onChange:kt,children:l.a.get("deposit.ch1")}),Object(T.jsx)("br",{}),Object(T.jsx)(d.a,{checked:be,onChange:_t,children:l.a.get("deposit.ch2")}),Object(T.jsx)("br",{}),Object(T.jsx)(d.a,{checked:Oe,onChange:St,children:l.a.get("deposit.ch3")})]}),ge?Object(T.jsx)(N.a,{styleName:"mt-40",type:"single",disabled:!0,info:l.a.get("deposit.action")}):Object(T.jsx)(N.a,{styleName:"mt-40",type:"single",info:Nt?l.a.get("not_available"):l.a.get("deposit.action"),onClick:function(){return function(e){return(a=a||Object(s.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,ge){e.next=5;break}if(!gt(t)){e.next=5;break}return e.abrupt("return");case 5:if(!ge){e.next=7;break}return e.abrupt("return");case 7:if(!Object(g.a)(ke).abs().gt(10)){e.next=9;break}return e.abrupt("return",Be(!0));case 9:return e.next=11,Ot(t);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}(ut)},disabled:Nt}),ge&&Object(T.jsx)("div",{className:"error-content mt-12",children:Object(T.jsx)("div",{className:"error-tip",children:ge})}),Object(g.a)(Ne).gt(0)&&Object(T.jsxs)("div",{className:"error-content mt-12",children:[Object(T.jsxs)("div",{className:"error-tip",children:[l.a.getHTML("deposit.swap_detail",{value:Object(g.u)(Ne,2),symbol:"en_US"===pt?q:"Old USDC LP"})," "]}),Object(T.jsx)("div",{className:"error-tip",children:l.a.get("deposit.exchange_rate",{value:Object(g.u)(qe.virtualPrice,6),symbol:"en_US"===pt?q:"Old USDC LP"})})]})]})}):Object(T.jsx)(A.a,{}),Object(T.jsx)(S.a,{}),Object(T.jsx)(O.a,{title:l.a.get("deposit.high_slippage_title"),open:Ue,closable:!0,icon:null,onCancel:yt,footer:null,width:400,className:"common-modal common-bg slippage-modal",children:Object(T.jsxs)("div",{className:"center",children:[Object(T.jsxs)("div",{className:"common-err-bg",children:[Object(T.jsx)("div",{children:l.a.get("deposit.high_tip1")}),Object(T.jsx)("div",{children:l.a.get("deposit.high_tip2",{value:Object(g.u)(Object(g.a)(ke).abs(),3)})})]}),Object(T.jsx)(d.a,{checked:Ee,onChange:mt,children:l.a.get("deposit.confirm_slippage",{value:Object(g.u)(Object(g.a)(ke).abs(),3)})}),Object(T.jsx)("br",{}),Object(T.jsxs)("div",{className:"btns flex",children:[Object(T.jsx)(f.a,{onClick:function(){return Be(!1)},type:"primary",children:l.a.get("cancel")}),Object(T.jsx)(f.a,{onClick:function(){return Ot(ut)},disabled:!Ee,children:l.a.get("deposit.anyway")})]})]})})]})]})),Object(T.jsx)(p.a,Object(c.a)(Object(c.a)({},L.a.colRight),{},{children:Object(T.jsx)(_.a,{type:Oe?"sun3":"usdc",className:te.isConnected?null:"window-for-tabs-pane"})}))]}))}})}},1405:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(5),r=a(0),s=a(2),i=a(11),o=a(3),u=a(15),l=a.n(u),b=a(1931),j=a(1933),p=a(344),d=a(1040),O=a(283),f=a(78),x=a(110),v=a(25),g=a(6),m=a(12),h=a(1),w=a(1196),k=a(1057),_=a(1067),S=(a(1075),a(1066)),y=a(1063),N=a(1059),C=a(1064),L=a(1061),D=a(1058),A=a(1062),P=a(1070),I=a(7),T=g.a.usdcPools,U=g.a.thrSunPools,B=g.a.usdcPoolKeys,F=g.a.thrSunPoolKeys,V=g.a.usdcContracts,E=g.a.usdcInfo,K=g.a.tokens,H=E.ALL_FEE,M=K.thrsunlp.token,q="3SUN LP",R=K.thrsunlp.symbol,J=V.USDCDepositer,Q=V.usdcSwap,Z="---",G="CUSTOM",W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={};return B.map((function(a){t[a]=e})),t};t.default=function(e){var t,a,u,g,V,E,K,z,X,Y,$,ee,te,ae,ne=e.tabPaneKey,ce=e.pageList,re=Object(o.useState)(),se=Object(i.a)(re,2),ie=se[0],oe=void 0===ie?W("--"):ie,ue=se[1],le=Object(o.useState)("100.00"),be=Object(i.a)(le,2),je=be[0],pe=be[1],de=Object(o.useState)(.2),Oe=Object(i.a)(de,2),fe=Oe[0],xe=Oe[1],ve=Object(o.useState)(""),ge=Object(i.a)(ve,2),me=ge[0],he=ge[1],we=Object(o.useState)(!0),ke=Object(i.a)(we,2),_e=ke[0],Se=ke[1],ye=Object(o.useState)(!1),Ne=Object(i.a)(ye,2),Ce=Ne[0],Le=Ne[1],De=Object(o.useState)("--"),Ae=Object(i.a)(De,2),Pe=Ae[0],Ie=Ae[1],Te=Object(o.useState)(!1),Ue=Object(i.a)(Te,2),Be=Ue[0],Fe=Ue[1],Ve=Object(o.useState)(),Ee=Object(i.a)(Ve,2),Ke=Ee[0],He=void 0===Ke?W(!1):Ke,Me=Ee[1],qe=Object(o.useState)(!1),Re=Object(i.a)(qe,2),Je=Re[0],Qe=Re[1],Ze=Object(o.useState)(!1),Ge=Object(i.a)(Ze,2),We=Ge[0],ze=Ge[1],Xe=Object(o.useState)(B),Ye=Object(i.a)(Xe,2),$e=Ye[0],et=Ye[1],tt=Object(o.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={};return F.map((function(a){t[a]=e})),t}("--")),at=Object(i.a)(tt,2),nt=at[0],ct=at[1],rt=Object(f.d)((function(){return x.a.system})),st=Object(f.d)((function(){return x.a.usdcPool})),it=Object(f.d)((function(){return x.a.network})),ot=Object(f.d)((function(){return x.a.thrSunPool})),ut=null,lt=null;Object(o.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:We&&bt();case 1:case"end":return e.stop()}}),e)}))),[oe,je,fe,me,He]),Object(o.useEffect)((function(){Dt(oe,Ce)}),[oe]),Object(o.useEffect)((function(){At(nt,Ce)}),[nt]);var bt=function(){return je!==Z&&Object(h.fb)(je).gt(100)?(Qe(l.a.get("error.e3")),!0):function(){var e=Be?nt:oe;for(var t in e)if(Object(h.fb)(e[t]).gt(0)||"--"===e[t])return!1;return!0}()?(Qe(l.a.get("error.e4")),!0):fe===G&&(Ot()||je===Z)&&(Object(h.a)(me).lt(.1)||Object(h.a)(me).gt(50)||Object(h.a)(me).isNaN())?(Qe(l.a.get("error.e5")),!0):(Qe(!1),!1)},jt=function(e,a){return(t=t||Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,i,o,u,l,b,j,p,d,O,f,x;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.length,c=t.map((function(e){return e.inputValue.isNaN()?0:e.inputValue._toIntegerDown()._toHex()}))||[],!Be){e.next=29;break}return e.next=6,Object(m.n)(c,!1);case 6:if((s=e.sent).success){e.next=9;break}return e.abrupt("return");case 9:if(i=s.value,o=i.times(Object(h.a)(1).plus(Object(h.a)(H).times(n).div(4*(n-1)).div(1e10))),u=Object(h.a)(100).plus(a).div(100),o=o.times(u)._toIntegerDown(),Object(h.a)(o).gt(st.swapBalanceInfo.userUsdcLpBalance)&&(o=st.swapBalanceInfo.userUsdcLpBalance),!_e||!Object(h.a)(st.userLpAllowance).lt(o)){e.next=23;break}return e.next=17,rt.approveToken(M,Q,{title:"deposit.approve_token",obj:{value:q},continuous:!0},[["thrSunPool/getUserLp"]]);case 17:if(!e.sent){e.next=22;break}Se(!1),e.next=23;break;case 22:return e.abrupt("return");case 23:return l=o._toHex(),b={title:"actions.remove",obj:{detail:Object(h.A)(nt,"sun3")}},e.next=27,rt.removeLiqImBalanceSUN3(c,l,b,[["thrSunPool/updateCurrencyData"]]);case 27:return e.sent,e.abrupt("return");case 29:return e.next=31,Object(m.k)(c,!1);case 31:if((j=e.sent).success){e.next=34;break}return e.abrupt("return");case 34:if(p=j.value,d=p.times(Object(h.a)(1).plus(Object(h.a)(H).times(n).div(4*(n-1)).div(1e10))),O=Object(h.a)(100).plus(a).div(100),d=d.times(O)._toIntegerDown(),Object(h.a)(d).gt(st.swapBalanceInfo.userUsdcLpBalance)&&(d=st.swapBalanceInfo.userUsdcLpBalance),!_e||!Object(h.a)(st.userLpAllowance).lt(d)){e.next=48;break}return e.next=42,rt.approveToken(M,J,{title:"deposit.approve_token",obj:{value:R},continuous:!0},[["usdcPool/getUserLp"]]);case 42:if(!e.sent){e.next=47;break}Se(!1),e.next=48;break;case 47:return e.abrupt("return");case 48:return f=d._toHex(),x={title:"actions.remove",obj:{detail:Object(h.A)(oe,"usdc")}},e.next=52,rt.removeLiqImBalanceUSDC(c,f,x,[["usdcPool/updateCurrencyData"]]);case 52:e.sent,e.next=58;break;case 55:e.prev=55,e.t0=e.catch(0),console.log(e.t0);case 58:case"end":return e.stop()}}),e,null,[[0,55]])})))).apply(this,arguments)},pt=function(e,t){return(a=a||Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,i,o,u,l,b,j,p,d,O,f,x;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Be){e.next=25;break}return e.next=4,gt(a,t,je);case 4:if(n=e.sent){e.next=7;break}return e.abrupt("return");case 7:if(c=n.userLpBalance,s=n.userLpAllowanceUsdcSwap,i=n.minAmounts,o=Object(h.fb)(je).div(100).times(c)._toIntegerDown(),!_e||!Object(h.a)(s).lt(o._toIntegerDown())){e.next=18;break}return e.next=12,rt.approveToken(M,Q,{title:"deposit.approve_token",obj:{value:q},continuous:!0},[["thrSunPool/getUserLp"]]);case 12:if(!e.sent){e.next=17;break}Se(!1),e.next=18;break;case 17:return e.abrupt("return");case 18:return u={title:"actions.remove",obj:{detail:Object(h.A)(nt,"sun3")}},l=o._toHex(),e.next=22,rt.removeLiquiditySUN3(l,i,u,[["thrSunPool/updateCurrencyData"]]);case 22:e.sent,e.next=46;break;case 25:return e.next=27,vt(a,t,je);case 27:if(b=e.sent){e.next=30;break}return e.abrupt("return");case 30:if(j=b.userLpBalance,p=b.userLpAllowance,d=b.minAmounts,O=Object(h.fb)(je).div(100).times(j)._toIntegerDown(),!_e||!Object(h.a)(p).lt(O._toIntegerDown())){e.next=41;break}return e.next=35,rt.approveToken(M,J,{title:"deposit.approve_token",obj:{value:R},continuous:!0},[["usdcPool/getUserLp"]]);case 35:if(!e.sent){e.next=40;break}Se(!1),e.next=41;break;case 40:return e.abrupt("return");case 41:return f={title:"actions.remove",obj:{detail:Object(h.A)(oe,"usdc")}},x=O._toHex(),e.next=45,rt.removeLiquidityUSDC(x,d,f,[["usdcPool/updateCurrencyData"]]);case 45:e.sent;case 46:e.next=51;break;case 48:e.prev=48,e.t0=e.catch(0),console.log(e.t0);case 51:case"end":return e.stop()}}),e,null,[[0,48]])})))).apply(this,arguments)},dt=function(e,t,a){return(u=u||Object(s.a)(Object(r.a)().mark((function e(t,a,n){var c,s,i,o,u,l,b,j,p,d,O,f,x,v,g,w,k,_,S,y,N,C,L,D,A,P,I,B,F,V,E,K,Z,G,W,z,X,Y;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Be){e.next=37;break}return e.next=4,Object(m.ub)(a,t);case 4:if((c=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:if(s=c.balances3pool,i=c.balancesUsdc,o=c.sun3LpBalance,u=c.sun3TotalSupply,l=c.usdcLpTotalSupply,b=c.userLpAllowance,j=c.userUsdcLpBalance,xt({balances3pool:s,balancesUsdc:i,sun3LpBalance:o,sun3TotalSupply:u,usdcLpTotalSupply:l,userLpAllowance:b,userUsdcLpBalance:j,coins:t}),p=Object(h.fb)(je).div(100).times(j)._toIntegerDown(),!_e||!Object(h.a)(b).lt(p._toIntegerDown())){e.next=19;break}return e.next=13,rt.approveToken(M,Q,{title:"deposit.approve_token",obj:{value:q},continuous:!0},[["thrSunPool/getUserLp"]]);case 13:if(!e.sent){e.next=18;break}Se(!1),e.next=19;break;case 18:return e.abrupt("return");case 19:for(f in d=p._toHex(),O=!1,He)!0===He[f]&&(O=U[f].index);return e.next=24,Object(m.s)(d,O);case 24:if((x=e.sent).success){e.next=27;break}return e.abrupt("return");case 27:return v=x.value,g=t.length,w=v.times(Object(h.a)(1).minus(Object(h.a)(H).times(g).div(4*(g-1)).div(1e10))),k=Object(h.a)(100).div(Object(h.a)(100).plus(n)),_=w.times(k)._toIntegerDown()._toHex(),S={title:"actions.remove",obj:{detail:Object(h.A)(nt,"sun3")}},e.next=35,rt.removeLiqOneCoinSUN3(d,O,_,S,[["thrSunPool/updateCurrencyData"]]);case 35:return e.sent,e.abrupt("return");case 37:return e.next=39,Object(m.ub)(a,t);case 39:if((y=e.sent).success){e.next=42;break}return e.abrupt("return");case 42:if(N=y.balances3pool,C=y.balancesUsdc,L=y.sun3LpBalance,D=y.sun3TotalSupply,A=y.usdcLpTotalSupply,P=y.userLpAllowance,I=y.userUsdcLpBalance,ft({balances3pool:N,balancesUsdc:C,sun3LpBalance:L,sun3TotalSupply:D,usdcLpTotalSupply:A,userLpAllowance:P,userUsdcLpBalance:I,coins:t}),B=Object(h.fb)(je).div(100).times(I)._toIntegerDown(),!_e||!Object(h.a)(P).lt(B._toIntegerDown())){e.next=54;break}return e.next=48,rt.approveToken(M,J,{title:"deposit.approve_token",obj:{value:R},continuous:!0},[["usdcPool/getUserLp"]]);case 48:if(!e.sent){e.next=53;break}Se(!1),e.next=54;break;case 53:return e.abrupt("return");case 54:for(E in F=B._toHex(),V=!1,He)!0===He[E]&&(V=T[E].index);return e.next=59,Object(m.u)(F,V);case 59:if((K=e.sent).success){e.next=62;break}return e.abrupt("return");case 62:return Z=K.value,G=t.length,W=Z.times(Object(h.a)(1).minus(Object(h.a)(H).times(G).div(4*(G-1)).div(1e10))),z=Object(h.a)(100).div(Object(h.a)(100).plus(n)),X=W.times(z)._toIntegerDown()._toHex(),Y={title:"actions.remove",obj:{detail:Object(h.A)(oe,"usdc")}},e.next=70,rt.removeLiqOneCoinUSDC(F,V,X,Y,[["usdcPool/updateCurrencyData"]]);case 70:e.sent,e.next=76;break;case 73:e.prev=73,e.t0=e.catch(0),console.log(e.t0);case 76:case"end":return e.stop()}}),e,null,[[0,73]])})))).apply(this,arguments)},Ot=function(){for(var e in He)if(He[e])return e;return!1},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.balances3pool,a=e.balancesUsdc,n=e.sun3LpBalance,c=e.sun3TotalSupply,r=e.usdcLpTotalSupply,s=(e.userLpAllowance,e.userUsdcLpBalance),i=e.coins;try{var o=[],u=Object(h.a)(s).div(r),l=Object(h.a)(u).times(a),b=Object(h.a)(u).times(n).div(c);return i.map((function(e){var a=e.index,n=e.precision,c=(e.symbol,e.id),r=Object(h.a)(0);r="usdc"===c?l.div(n):b.times(t[c]).div(n),o[a]=r||Object(h.a)(0)})),o}catch(j){return console.log(j),[]}},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.balances3pool,e.balancesUsdc),a=e.sun3LpBalance,n=(e.sun3TotalSupply,e.usdcLpTotalSupply),c=(e.userLpAllowance,e.userUsdcLpBalance),r=e.coins;try{var s=[],i=Object(h.a)(c).div(n),o=Object(h.a)(i).times(t),u=Object(h.a)(i).times(a);return r.map((function(e){var t=e.index,a=e.precision,n=(e.symbol,e.id),c=Object(h.a)(0);c="usdc"===n?o.div(a):u.div(a),s[t]=c||Object(h.a)(0)})),s}catch(l){return console.log(l),[]}},vt=function(e,t,a){return(V=V||Object(s.a)(Object(r.a)().mark((function e(t,a,n){var c,s,i,o,u,l,b,j,p,d,O,f,x=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=x.length>3&&void 0!==x[3]&&x[3],e.prev=1,e.next=4,Object(m.ub)(t,a);case 4:if((s=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:return i=s.balances3pool,o=s.balancesUsdc,u=s.sun3LpBalance,l=s.sun3TotalSupply,b=s.usdcLpTotalSupply,j=s.userLpAllowance,p=s.userUsdcLpBalance,d=ft({balances3pool:i,balancesUsdc:o,sun3LpBalance:u,sun3TotalSupply:l,usdcLpTotalSupply:b,userLpAllowance:j,userUsdcLpBalance:p,coins:a}),O=[],f={},a.map((function(e){var t=e.index,a=e.id,r=e.decimal,s=(e.precision,Object(h.fb)(n).div(100).times(d[t]));c||(s=Object(h.a)(.98).times(s)),O[t]=s._toIntegerDown()._toHex(),f[a]=Object(h.c)(s._toFixed(r,1))})),e.abrupt("return",{balances:d,userLpAllowance:j,minAmounts:O,amountsStr:f,userLpBalance:p});case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)},gt=function(e,t,a){return(E=E||Object(s.a)(Object(r.a)().mark((function e(t,a,n){var c,s,i,o,u,l,b,j,p,d,O,f,x,v=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=v.length>3&&void 0!==v[3]&&v[3],e.prev=1,e.next=4,Object(m.ub)(t,a);case 4:if((s=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:return i=s.balances3pool,o=s.balancesUsdc,u=s.sun3LpBalance,l=s.sun3TotalSupply,b=s.usdcLpTotalSupply,j=s.userLpAllowance,p=s.userUsdcLpBalance,d=s.userLpAllowanceUsdcSwap,O=xt({balances3pool:i,balancesUsdc:o,sun3LpBalance:u,sun3TotalSupply:l,usdcLpTotalSupply:b,userLpAllowance:j,userUsdcLpBalance:p,coins:a}),f=[],x={},a.map((function(e){var t=e.index,a=e.id,r=e.decimal,s=(e.precision,Object(h.fb)(n).div(100).times(O[t]));c||(s=Object(h.a)(.98).times(s)),f[t]=s._toIntegerDown()._toHex(),x[a]=s._toFixed(r,1)})),e.abrupt("return",{balances:O,userLpAllowance:j,minAmounts:f,amountsStr:x,userLpBalance:p,userLpAllowanceUsdcSwap:d});case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)},mt=function(e,t){return(K=K||Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,i,o,u,l,b,j,p;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,st.getUserLp();case 3:return n=st.swapBalanceInfo.userUsdcLpBalance,c=T[t],s=c.precision,i=c.decimal,o=Object(h.fb)(a).div(100).times(n)._toIntegerDown(),u=T[t].index,l=o._toHex(),e.next=10,Object(m.u)(l,u);case 10:if((b=e.sent).success){e.next=13;break}return e.abrupt("return",!1);case 13:return j=b.value,p=Object(h.a)(j).div(s)._toFixed(i,1),e.abrupt("return",p);case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)},ht=function(e,t){return(z=z||Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,i,o,u,l,b,j,p;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ot.getUserLp();case 3:return n=ot.swapBalanceInfo.userUsdcLpBalance,c=U[t],s=c.precision,i=c.decimal,o=Object(h.fb)(a).div(100).times(n)._toIntegerDown(),u=U[t].index,l=o._toHex(),e.next=10,Object(m.s)(l,u);case 10:if((b=e.sent).success){e.next=13;break}return e.abrupt("return",!1);case 13:return j=b.value,p=Object(h.a)(j).div(s)._toFixed(i,1),e.abrupt("return",p);case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)},wt=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(ot.getSwapBalance(),ot.getVirtualPriceUSDC(),ot.getVolData()):(st.getSwapBalance(),st.getVirtualPriceUSDC(),st.getVolData())},kt=function(){return(X=X||Object(s.a)(Object(r.a)().mark((function e(){var t,a,n=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length>0&&void 0!==n[0]&&n[0]){e.next=9;break}return e.next=4,Promise.all([st.getUserLp(),st.getBalanceInfo()]);case 4:t={},B.map((function(e){var a=st.poolData[e],n=a.userSwapBalance,c=a.decimal;t[e]=Object(h.c)(Object(h.a)(n)._toFixed(c,1))})),ue(t),e.next=14;break;case 9:return e.next=11,Promise.all([ot.getSwapBalance(),ot.getUserLp(),ot.getBalanceInfo()]);case 11:a={},F.map((function(e){var t=ot.poolData[e],n=t.userSwapBalance,c=t.decimal;a[e]=Object(h.c)(Object(h.a)(n)._toFixed(c,1))})),ct(a);case 14:!We&&ze(!0),ut||(ut=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wt(!1),e.next=3,st.getUserLp();case 3:case"end":return e.stop()}}),e)}))),it.defaultIntervalSec));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)};Object(o.useEffect)((function(){!lt&&Be&&(lt=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wt(!0),e.next=3,ot.getUserLp();case 3:case"end":return e.stop()}}),e)}))),it.defaultIntervalSec))}),[Be]),Object(o.useEffect)((function(){return kt(),wt(),function(){clearInterval(ut),clearInterval(lt)}}),[]);var _t=function(e,t){return(Y=Y||Object(s.a)(Object(r.a)().mark((function e(t,a){var s,i,o,u,l,b,j,p;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!We&&ze(!0),s=je,i={},o={},u={},!Be){e.next=22;break}if(!t){e.next=18;break}for(l in Le(!0),nt)l!==a&&(i[l]=!1,u[l]=0);return Me(Object(c.a)(Object(c.a)(Object(c.a)({},nt),i),{},Object(n.a)({},a,t))),(je===Z||Object(h.fb)(je).lte(0))&&pe(s="100.00"),Object(h.fb)(s).gt(100)&&(s=100),e.next=14,ht(a,s);case 14:(b=e.sent)&&ct(Object(c.a)(Object(c.a)(Object(c.a)({},nt),u),{},Object(n.a)({},a,Object(h.c)(b)))),e.next=21;break;case 18:pe(Z),Le(!1),Me(Object(c.a)(Object(c.a)({},He),{},Object(n.a)({},a,t)));case 21:return e.abrupt("return");case 22:if(!t){e.next=34;break}for(j in Le(!0),He)j!==a&&(i[j]=!1,o[j]=0);return Me(Object(c.a)(Object(c.a)(Object(c.a)({},He),i),{},Object(n.a)({},a,t))),(je===Z||Object(h.fb)(je).lte(0))&&pe(s="100.00"),Object(h.fb)(s).gt(100)&&(s=100),e.next=30,mt(a,s);case 30:(p=e.sent)&&ue(Object(c.a)(Object(c.a)(Object(c.a)({},oe),o),{},Object(n.a)({},a,Object(h.c)(p)))),e.next=37;break;case 34:pe(Z),Le(!1),Me(Object(c.a)(Object(c.a)({},He),{},Object(n.a)({},a,t)));case 37:case"end":return e.stop()}}),e)})))).apply(this,arguments)},St=function(e){pe("100"),e?(et(F),clearInterval(ut)):(et(B),clearInterval(lt)),Fe(e),Le(!1),Me(W(!1)),wt(e),kt(e)},yt=function(){var e={},t={};B.map((function(a){e[a]=0,t[0]=!1})),ue(e),Me(He),pe(0)},Nt=function(){var e={},t={};F.map((function(a){e[a]=0,t[0]=!1})),ct(e),Me(He),pe(0)},Ct=function(){var e={};B.map((function(t){e[t]=0})),ue(e)},Lt=function(){var e={};F.map((function(t){e[t]=0})),ct(e)},Dt=function(e,t){return(ee=ee||Object(s.a)(Object(r.a)().mark((function e(t,a){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st.calcInclPrice(t,!1,a);case 2:n=e.sent,Ie(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},At=function(e,t){return(te=te||Object(s.a)(Object(r.a)().mark((function e(t,a){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.calcInclPrice(t,!1,a);case 2:n=e.sent,Ie(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Pt=function(e){return(ae=ae||Object(s.a)(Object(r.a)().mark((function e(t){var a,s,i,o,u,l,b,j,p,d,O,f,x,v,g,m,w,k,_,S,y;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!We&&ze(!0),s=t.target.value,i=s.split("."),(null===(a=i[1])||void 0===a?void 0:a.length)>2&&(s="".concat(i[0]+"."+i[1].substr(0,2))),!Object(h.a)(s).gt(100)){e.next=6;break}return e.abrupt("return");case 6:if(o=Object(h.V)(s,10),u=o.valid,l=o.str,je!==Z){e.next=9;break}return e.abrupt("return",Be?Nt():yt());case 9:if(""!==s){e.next=12;break}return pe(""),e.abrupt("return",Be?Lt():Ct());case 12:if(!u){e.next=50;break}if(pe(l),!(b=Object(h.a)(l).gt(100)?Object(h.a)(100):Object(h.a)(l)).isNaN()){e.next=17;break}return e.abrupt("return");case 17:if(it.defaultAccount){e.next=19;break}return e.abrupt("return");case 19:if(j=it.defaultAccount,p=Ot(),!Be){e.next=37;break}if(!p){e.next=27;break}return e.next=25,ht(p,b);case 25:return d=e.sent,e.abrupt("return",d&&ct(Object(c.a)(Object(c.a)({},nt),{},Object(n.a)({},p,Object(h.c)(d)))));case 27:if(l===Z){e.next=36;break}return O=[],F.map((function(e){O.push(Object(c.a)({},U[e]))})),f=O.sort((function(e,t){return e.index-t.index})),e.next=33,gt(j,f,l,!0);case 33:x=e.sent,v=x.amountsStr,g=void 0===v?{}:v,x&&ct(g);case 36:return e.abrupt("return");case 37:if(!p){e.next=42;break}return e.next=40,mt(p,b);case 40:return m=e.sent,e.abrupt("return",m&&ue(Object(c.a)(Object(c.a)({},oe),{},Object(n.a)({},p,Object(h.c)(m)))));case 42:if(l===Z){e.next=50;break}return w=[],B.map((function(e){w.push(Object(c.a)({},T[e]))})),k=w.sort((function(e,t){return e.index-t.index})),e.next=48,vt(j,k,l,!0);case 48:_=e.sent,s===t.target.value&&(S=_.amountsStr,y=void 0===S?{}:S,_&&ue(y));case 50:case"end":return e.stop()}}),e)})))).apply(this,arguments)},It=function(e){!We&&ze(!0),xe(e),e!==Z&&he("")},Tt=function(e){var t=Object(h.V)(e,10),a=t.valid,n=t.str;if(a)if(""===n)he("");else if(Object(h.a)(n).lte(100)){var c,r=n,s=n.split(".");(null===(c=s[1])||void 0===c?void 0:c.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),he(r)}},Ut=function(e){return Ot()||je===Z?Object(I.jsx)("div",{className:"flex start mt-20",children:Object(I.jsx)(C.a,{slippage:e,customSlippage:me,CUSTOM_SLIPPAGE:G,onChangeSlippage:It,onChangeCustomSlippage:Tt})}):Object(I.jsx)(I.Fragment,{})};return Object(I.jsx)(f.a,{children:function(){return Object(I.jsxs)(b.a,Object(c.a)(Object(c.a)({},L.a.row),{},{children:[Object(I.jsxs)(j.a,Object(c.a)(Object(c.a)({},L.a.colLeft),{},{children:[Object(I.jsx)(D.a,{list:ce,activeKey:ne[0]}),Object(I.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(k.a,{routeName:"usdc/withdraw",mountedActions:kt,instantActions:wt}),Object(I.jsx)(_.a,{title:l.a.get("buysell.usdc_pool")+" "+l.a.get("banner.title_withdraw"),desc:l.a.get("banner.desc_withdraw")}),Object(I.jsx)(S.a,{})]}):null,it.isConnected?Object(I.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(I.jsxs)("div",{className:"add-liq withdraw-liq",children:[Object(I.jsxs)("div",{className:"flex",children:[l.a.get("withdraw.share_of_liq"),Object(I.jsx)(P.a,{showMax:!1,placeholder:"100.00",value:je,onChange:Pt,className:"flex-1 ml-20"})]}),Object(I.jsxs)("fieldset",{className:"currencies mt-35",children:[Object(I.jsx)("legend",{children:l.a.get("deposit.currencies")}),Object(I.jsx)("ul",{children:$e.map((function(e){var t=(Be?U[e]:T[e]).symbol,a=void 0===t?"":t;return Object(I.jsxs)("li",{children:[Object(I.jsx)("div",{className:"cur-label",children:Object(I.jsxs)("span",{className:"icon",children:[Object(I.jsx)("img",{src:v.a[e]?v.a[e]:O.default,alt:"",className:"token-logo"}),a]})}),Object(I.jsx)(P.a,{showMax:!1,value:Be?nt[e]:oe[e],onChange:function(t){!function(e,t){($=$||Object(s.a)(Object(r.a)().mark((function e(t,a){var s,i,o,u,l,b,j,p,d,O,f,x;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!We&&ze(!0),!Be){e.next=11;break}for(b in s=U[a].decimal,i=Object(h.V)((""+t.target.value).replace(/,/g,""),s),o=i.valid,u=i.str,o&&ct(Object(c.a)(Object(c.a)({},nt),{},Object(n.a)({},a,Object(h.c)(u)))),pe(Z),Le(!1),l={},He)l[b]=!1;return Me(l),e.abrupt("return");case 11:for(x in j=T[a].decimal,p=Object(h.V)((""+t.target.value).replace(/,/g,""),j),d=p.valid,O=p.str,d&&ue(Object(c.a)(Object(c.a)({},oe),{},Object(n.a)({},a,Object(h.c)(O)))),pe(Z),Le(!1),f={},He)f[x]=!1;Me(f);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(t,e)}})]},e)}))})]}),Object(h.ab)(Pe),Object(I.jsxs)("fieldset",{children:[Object(I.jsxs)("legend",{className:"flex aic jcs pt20",children:[Object(I.jsx)("span",{className:"mr-10",children:l.a.get("withdraw.withdraw_text")}),Object(I.jsx)(p.a,{title:l.a.get("withdraw.tip"),children:Object(I.jsx)(d.a,{})})]}),Object(I.jsxs)("div",{className:"withdraw-one mt-10",children:[$e.map((function(e){var t=(Be?U[e]:T[e]).symbol,a=void 0===t?"":t;return Object(I.jsx)(y.a,{id:e,checked:He[e],tokenLogo:v.a[e]?v.a[e]:O.default,symbol:a,onChange:_t})})),Object(I.jsx)(y.a,{checked:Be,symbol:l.a.get("withdraw.as_3sun"),onChange:St})]})]}),Ut(fe),Je?Object(I.jsx)(N.a,{styleName:"mt-40",type:"single",disabled:!0,info:l.a.get("withdraw.action")}):Object(I.jsx)(N.a,{styleName:"mt-40",type:"single",info:l.a.get("withdraw.action"),onClick:function(){return function(t){return(g=g||Object(s.a)(Object(r.a)().mark((function t(a){var n,s,i,o;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,it.defaultAccount){t.next=3;break}return t.abrupt("return");case 3:if(!We&&ze(!0),Je){t.next=8;break}if(!bt(a)){t.next=8;break}return t.abrupt("return");case 8:if(!Je){t.next=10;break}return t.abrupt("return");case 10:if(n=it.defaultAccount,s=[],Be?F.map((function(e){s.push(Object(c.a)(Object(c.a)({},U[e]),{},{inputValue:Object(h.fb)(a[e]).times(U[e].precision)}))})):B.map((function(e){s.push(Object(c.a)(Object(c.a)({},T[e]),{},{inputValue:Object(h.fb)(a[e]).times(T[e].precision)}))})),i=s.sort((function(e,t){return e.index-t.index})),o=fe===G?me:fe,e.onSubmit&&e.onSubmit(),!Ce){t.next=20;break}return t.next=19,dt(i,n,o);case 19:return t.abrupt("return",t.sent);case 20:if(je===Z){t.next=24;break}return t.next=23,pt(i,n);case 23:return t.abrupt("return",t.sent);case 24:return t.next=26,jt(i,o);case 26:return t.abrupt("return",t.sent);case 29:t.prev=29,t.t0=t.catch(0),console.log(t.t0);case 32:case"end":return t.stop()}}),t,null,[[0,29]])})))).apply(this,arguments)}(Be?nt:oe)}}),Je&&Object(I.jsx)("div",{className:"error-content mt-12",children:Object(I.jsx)("div",{className:"error-tip",children:Je})})]})}):Object(I.jsx)(A.a,{})]})]})),Object(I.jsx)(j.a,Object(c.a)(Object(c.a)({},L.a.colRight),{},{children:Object(I.jsx)(w.a,{type:Be?"sun3":"usdc",className:it.isConnected?null:"window-for-tabs-pane"})}))]}))}})}},1973:function(e,t,a){"use strict";a.r(t);var n=a(11),c=a(0),r=a(2),s=a(5),i=a(1931),o=a(1933),u=a(1954),l=a(78),b=a(3),j=a.n(b),p=a(15),d=a.n(p),O=(a(1076),a(1079),a(6)),f=a(110),x=a(1123),v=a(1057),g=a(1096),m=(a(1500),a(1914)),h=a(1502),w=a(101),k=(a(1099),a(283)),_=a(1080),S=a(12),y=a(25),N=a(1),C=a(1063),L=a(1064),D=a(1059),A=a(285),P=a(7);function I(e){var t,a,i=Object(b.useState)(3),o=Object(n.a)(i,2),u=o[0],j=o[1],p=Object(b.useState)(1),x=Object(n.a)(p,2),v=x[0],I=x[1],T=Object(b.useState)(1),U=Object(n.a)(T,2),B=U[0],F=U[1],V=Object(b.useState)(1),E=Object(n.a)(V,2),K=E[0],H=E[1],M=Object(b.useState)(-1),q=Object(n.a)(M,2),R=q[0],J=q[1],Q=Object(b.useState)(1),Z=Object(n.a)(Q,2),G=Z[0],W=Z[1],z=Object(b.useState)(.005),X=Object(n.a)(z,2),Y=X[0],$=X[1],ee=Object(b.useState)(""),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],ce=Object(b.useState)(!0),re=Object(n.a)(ce,2),se=(re[0],re[1],Object(b.useState)("")),ie=Object(n.a)(se,2),oe=ie[0],ue=ie[1],le=Object(b.useState)(!1),be=Object(n.a)(le,2),je=be[0],pe=be[1],de=(Object(w.a)(window.navigator).any,O.a.usdcPools),Oe=O.a.usdcPoolIndex,fe=O.a.thrSunPoolIndex,xe=O.a.usdcPoolKeys,ve=O.a.usdcContracts,ge=O.a.thrSunPoolKeys,me=O.a.thrSunPools,he=(O.a.stablePool,O.a.tokens),we=ve.usdcSwap,ke=Object(l.d)((function(){return f.a.network})),_e=Object(l.d)((function(){return f.a.system})),Se=Object(l.d)((function(){return f.a.usdcPool})),ye=Object(b.useState)(!1),Ne=Object(n.a)(ye,2),Ce=Ne[0],Le=Ne[1],De=Object(b.useState)(!1),Ae=Object(n.a)(De,2),Pe=Ae[0],Ie=Ae[1],Te=Object(b.useState)(Se.poolData1),Ue=Object(n.a)(Te,2),Be=Ue[0],Fe=Ue[1],Ve=Object(b.useState)(Oe),Ee=Object(n.a)(Ve,2),Ke=Ee[0],He=Ee[1];Object(b.useEffect)((function(){Re({i:u,j:B,dx:v,checked:Pe})}),[]),Object(b.useEffect)((function(){Pe?(Fe(Se.poolData2),He(fe)):(Fe(Se.poolData1),He(Oe))}),[Pe,Se.poolData1,Se.poolData2]);var Me=function(){try{var e=u,t=B;if(je){var a=[t,e];e=a[0],t=a[1]}return Object(P.jsx)(P.Fragment,{children:he[Ke[e]].symbol+"/"+he[Ke[t]].symbol})}catch(n){return Object(P.jsx)(P.Fragment,{})}},qe=function(e){var t=Object.assign({},(Object(g.a)(e),e));pe(!je),Je(Object(s.a)(Object(s.a)({},t),{},{exchangeFlags:!je,checked:Pe}))},Re=function(e){return(t=t||Object(r.a)(Object(c.a)().mark((function e(t){var a,n,r,s,i,o,l,b,j;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},(Object(g.a)(t),t)),e.prev=1,n=void 0===a.i?u:a.i,r=void 0===a.j?B:a.j,s=void 0===a.dx?v:a.dx,i=a.checked?fe:Oe,o=a.checked?me:de,Object(N.fb)(s).gt(0)){e.next=10;break}return H(0),e.abrupt("return");case 10:if(l=Object(N.fb)(s).times(o[i[n]].precision)._toIntegerDown()._toHex(),b=null,!a.checked){e.next=18;break}return e.next=15,Object(S.Q)(n,r,l,we);case 15:b=e.sent,e.next=21;break;case 18:return e.next=20,Object(S.mb)(n,r,l);case 20:b=e.sent;case 21:b.success?(j=Object(N.a)(b.value).div(o[i[r]].precision),H(Object(N.c)(Object(N.a)(j)._toFixed(o[i[r]].decimal,1))),W(Object(N.a)(b.value))):(H(0),W(1)),a.notChangeRate||Je({i:n,j:r,dx:s,checked:a.checked}),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(1),console.log("getDyData: ",e.t0);case 28:case"end":return e.stop()}}),e,null,[[1,25]])})))).apply(this,arguments)},Je=function(e){return(a=a||Object(r.a)(Object(c.a)().mark((function e(t){var a,n,r,s,i,o,l,b,j,p;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},(Object(g.a)(t),t)),e.prev=1,n=void 0===a.i?u:a.i,r=void 0===a.j?B:a.j,s=void 0===a.dx?v:a.dx,i=void 0===a.exchangeFlags?je:a.exchangeFlags,o=a.checked?fe:Oe,l=a.checked?me:de,b=Object(N.fb)(s).times(l[o[n]].precision)._toIntegerDown()._toHex(),j=null,Object(N.fb)(s).gt(0)){e.next=12;break}return e.abrupt("return");case 12:if(!a.checked){e.next=18;break}return e.next=15,Object(S.Q)(n,r,b,we);case 15:j=e.sent,e.next=21;break;case 18:return e.next=20,Object(S.mb)(n,r,b);case 20:j=e.sent;case 21:j.success&&(p=Object(N.a)(j.value).div(l[o[r]].precision).div(Object(N.fb)(s)),J(i?Object(N.a)(1).div(Object(N.a)(p)._toFixed(4,1))._toFixed(4,1):p._toFixed(4,1))),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(1),console.log("getRateData: ",e.t0);case 27:case"end":return e.stop()}}),e,null,[[1,24]])})))).apply(this,arguments)},Qe=function(e){var t=Pe?me:de,a=u;Number(e)!==Number(B)&&(a=B),F(a),j(e);var n=Object(N.fb)(v)._toFixed(t[Ke[e]].decimal,1);I(Object(N.c)(n)),Re({i:e,j:a,dx:n,checked:Pe})},Ze=function(e){var t=Pe?me:de,a=B;Number(e)!==Number(u)&&(a=u),j(a),F(e);var n=Object(N.fb)(v)._toFixed(t[Ke[a]].decimal,1);I(Object(N.c)(n)),Re({j:e,i:a,dx:n,checked:Pe})},Ge=function(e){!Ce&&Le(!0);var t=Pe?me:de,a=Object(N.V)((""+e).replace(/,/g,""),t[Ke[u]].decimal),n=a.valid,c=a.str,r=Be&&Be[Ke[u]]&&Object(N.a)(Be[Ke[u]].balance).div(t[Ke[u]].precision)._toFixed(2,1);if(n){if(Object(N.a)(c).lte(0))return I(Object(N.c)(c)),H(0),void ue(d.a.get("buysell.error_msg_1"));Object(N.a)(c).gt(r)&&ue(d.a.get("buysell.error_msg_2")),I(Object(N.c)(c)),Re({dx:c,checked:Pe})}},We=function(e){try{var t="--";return t=e[Ke[u]].balance,t=Object(N.a)(t).isNaN()?"--":e[Ke[u]].balance.div(e[Ke[u]].precision),Object(P.jsx)("span",{children:e&&Object(N.u)(t)})}catch(a){}},ze=function(){try{var e=Be[Ke[u]],t=e.precision,a=e.balance,n=e.symbol;return a=Object(N.a)(a).div(t),Object(N.fb)(v).eq(0)||Object(N.fb)(v).isNaN()?(ue(d.a.get("error.e1")),!0):Object(N.fb)(v).gt(a)?(ue(d.a.get("error.e2",{token:n})),!0):2===Y&&(!ae||Number(ae)<.1||Number(ae)>50)?(ue(d.a.get("error.e5")),!0):(ue(""),!1)}catch(c){return!1}};Object(b.useEffect)((function(){Ce&&ze()}),[u,B,v,Y,ae]);var Xe=function(){var e=Pe?me:de,t=Be&&Object(N.a)(Be[Ke[u]].balance).div(e[Ke[u]].precision);Ge(t)},Ye=function(){var e;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{children:Object(P.jsx)(h.a,{checked:Pe,onChange:function(t){return(e=e||Object(r.a)(Object(c.a)().mark((function e(t){var a,n,r,s,i;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.checked,n=a?fe:Oe,Ie(a),r=0,s=1,i=Object(N.fb)(v),a||(r=3,s=1),!a){e.next=15;break}if("--"!==Se.poolData2[n[r]].balance){e.next=13;break}return e.next=11,Se.getBalanceInfo(we,ge,"3sun");case 11:Fe(Se.poolData2),He(fe);case 13:e.next=20;break;case 15:if("--"!==Se.poolData1[n[r]].balance){e.next=20;break}return e.next=18,Se.getBalanceInfo(we);case 18:Fe(Se.poolData1),He(Oe);case 20:j(r),F(s),I(Object(N.c)(i)),Re({i:r,j:s,dx:i,checked:a,notChangeRate:!0}),Je({no:1,i:r,j:s,dx:i,checked:a});case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)},children:d.a.get("buysell.sun3_swap")})}),Object(P.jsxs)("div",{className:"exchang-rate-text mt-20",children:[Object(P.jsxs)("span",{className:"en-US"===window.localStorage.getItem("lang")?"er-en":"",children:[d.a.get("buysell.exchange_rate",{symbol:"3Pool LP"})+" ",Object(P.jsx)(Me,{})]}),Object(P.jsx)("img",{style:{cursor:"pointer",margin:"0 6px"},className:"exchange-img",alt:"",src:_.a,onClick:qe}),"(",Object(P.jsxs)("span",{children:[d.a.get("buysell.including_fees"),"): ",-1===R?d.a.get("buysell.not_available"):R]})]})]})},$e=function(){var t;return Object(P.jsx)(P.Fragment,{children:oe?Object(P.jsx)(D.a,{styleName:"mt-40",type:"single",disabled:!0,info:d.a.get("sell_btn")}):Object(P.jsx)(D.a,{styleName:"mt-40",type:"single",info:d.a.get("sell_btn"),onClick:function(){return(t=t||Object(r.a)(Object(c.a)().mark((function t(){var a,n,s,i,o,l,b;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=function(){return(a=a||Object(r.a)(Object(c.a)().mark((function t(){var a,n,r,s,i,o,l,b;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!oe){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,a=2!==Y?Y:ae?Object(N.a)(ae).div(100):0,n=Object(N.a)(G).times(Object(N.a)(1).minus(Object(N.a)(a)))._toIntegerDown()._toHex(),r=u,s=B,i=Pe?me:de,o=Object(N.fb)(v).times(i[Ke[r]].precision)._toIntegerDown()._toHex(),l={title:"notification.tip1",title2:"notification.tip1",title3:"notification.tip1",title4:"notification.tip1",obj:{fromValue:Object(N.u)(Object(N.fb)(v)),fromToken:he[Ke[r]].symbol,toValue:Object(N.u)(Object(N.fb)(K)),toToken:he[Ke[s]].symbol}},b="",!Pe){t.next=17;break}return t.next=14,_e.toExchangeUsdcNew(r,s,o,n,l,[["pool/updateCurrencyData"]],we);case 14:b=t.sent,t.next=20;break;case 17:return t.next=19,_e.toUsdcExchange(r,s,o,n,l,[["pool/updateCurrencyData"]]);case 19:b=t.sent;case 20:b&&(setTimeout((function(){Pe?Se.getBalanceInfo(we,ge,"3sun"):Se.getBalanceInfo(we)}),5e3),e.onSubmit&&e.onSubmit(b)),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(2),console.log("sellSubmit: ",t.t0);case 26:case"end":return t.stop()}}),t,null,[[2,23]])})))).apply(this,arguments)},ke.isConnected){t.next=4;break}return ue(d.a.get("buysell.error_msg_3")),t.abrupt("return");case 4:if(!Ce&&Le(!0),oe){t.next=9;break}if(!ze()){t.next=9;break}return t.abrupt("return");case 9:if(!oe){t.next=11;break}return t.abrupt("return");case 11:return s=Pe?me:de,t.prev=12,t.next=15,Object(S.Sb)(window.defaultAccount,[s[Ke[u]].token],[we]);case 15:if(i=t.sent,o=i[we].allowance,l=Be[Ke[u]].approveStatus,o.gt(0)||l){t.next=32;break}return b={action:"approve",title:"deposit.approve_token",obj:{value:he[(Pe?ge:xe)[u]].symbol},continuous:!0},t.next=23,_e.approveToken(s[Ke[u]].token,we,b,[["pool/getBalanceInfo"]]);case 23:if(!t.sent){t.next=29;break}Be[Ke[u]].approveStatus=2,n(),t.next=30;break;case 29:return t.abrupt("return");case 30:t.next=33;break;case 32:n();case 33:t.next=38;break;case 35:t.prev=35,t.t0=t.catch(12),console.log("exchangeBefore: ",t.t0);case 38:case"end":return t.stop()}}),t,null,[[12,35]])})))).apply(this,arguments)}})})},et=function(e){!Ce&&Le(!0),$(e),2!==e&&ne("")},tt=function(e){!Ce&&Le(!0);var t=Object(N.V)(e,10),a=t.valid,n=t.str;if(a)if(""===n)ne("");else if(Object(N.a)(n).lte(100)){var c,r=n,s=n.split(".");(null===(c=s[1])||void 0===c?void 0:c.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),ne(r)}},at=function(e){var t=e.direction,a=void 0===t?"left":t,n=Pe?ge:xe,c=Pe?me:de;return Object(P.jsx)("div",{className:"flex start mb-16 pc-input-box",children:n.map((function(e){var t=y.a[e]||k.default,n="left"===a?u:B;return Object(P.jsx)(C.a,{id:e,checked:n===c[e].index,tokenLogo:t,symbol:c[e].symbol,onChange:function(t,n){"left"===a?Qe(c[e].index):Ze(c[e].index)}})}))})},nt=function(){return Object(P.jsx)("span",{className:"exchange-alt",onClick:function(){return function(){!Ce&&Le(!0);var e=u,t=B,a=K;e!==t&&(j(t),F(e),I(a),Re({i:t,j:e,dx:a,notChangeRate:!0,checked:Pe}),Je({no:1,i:t,j:e,dx:a,checked:Pe}))}()}})},ct=Object(A.a)(A.b);return Object(P.jsx)(l.a,{children:function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{className:"exchange-box",children:[Object(P.jsx)(at,{direction:"left"},"left"),Object(P.jsxs)("div",{className:"input-block",children:[Object(P.jsxs)("div",{className:"flex",children:[Object(P.jsx)("div",{className:"input-number",children:Object(P.jsx)(m.a,{className:"input",value:v,onChange:function(e){return Ge(e.target.value)}})}),Object(P.jsx)("span",{className:"max-btn",onClick:Xe,children:d.a.get("sunSwapV3.swap.input_from_max")})]}),Object(P.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(P.jsx)("span",{children:d.a.get("sunSwapV3.swap.input_from_balance")})," ",We(Be)]})]}),Object(P.jsxs)("div",{className:"flex",children:[Object(P.jsx)(nt,{}),!ct&&Object(P.jsx)("div",{className:"flex start",children:Object(P.jsx)(L.a,{type:"exchange",slippage:Y,customSlippage:ae,CUSTOM_SLIPPAGE:2,onChangeSlippage:function(e){et(Number(e))},onChangeCustomSlippage:function(e){$(2),tt(e)}})})]}),Object(P.jsx)(at,{direction:"right"},"right"),Object(P.jsxs)("div",{className:"input-block",children:[Object(P.jsx)("div",{className:"input-number",children:Object(P.jsx)(m.a,{disabled:!0,className:"input",value:K})}),Object(P.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(P.jsx)("span",{children:d.a.get("sunSwapV3.swap.input_from_balance")})," ",We(Be)]})]}),Object(P.jsx)(Ye,{}),ct&&Object(P.jsx)("div",{className:"flex start",children:Object(P.jsx)(L.a,{type:"exchange",slippage:Y,customSlippage:ae,CUSTOM_SLIPPAGE:2,onChangeSlippage:function(e){et(Number(e))},onChangeCustomSlippage:function(e){$(2),tt(e)}})})]}),Object(P.jsx)($e,{}),oe&&Object(P.jsx)("div",{className:"error-content mt-12",children:Object(P.jsx)("div",{className:"error-tip",children:oe})})]})}})}var T=a(1196),U=a(1404),B=a(1405),F=a(1081),V=a(64),E=a(1068),K=a(1061),H=a(1058),M=a(1062),q=Object(F.a)({childPage:V.h.liquidity_oldusdc}),R=q.tabChangeLog,J=q.tabSubmitLog,Q=function(e){var t=e.onSubmit,a=e.pageList,n=e.tabPaneKey,c=e.isConnected;return Object(P.jsxs)(i.a,Object(s.a)(Object(s.a)({},K.a.row),{},{children:[Object(P.jsxs)(o.a,Object(s.a)(Object(s.a)({},K.a.colLeft),{},{children:[Object(P.jsx)(H.a,{list:a,activeKey:n[0]}),c?Object(P.jsx)("div",{className:"window-for-tabs-pane",children:Object(P.jsx)(I,{onSubmit:t})}):Object(P.jsx)(M.a,{})]})),Object(P.jsx)(o.a,Object(s.a)(Object(s.a)({},K.a.colRight),{},{children:Object(P.jsx)(T.a,{})}))]}))},Z={1:{title:d.a.get("banner.title_deposit"),content:d.a.get("banner.desc_deposit"),tabTitle:d.a.get("header.deposit")},2:{title:d.a.get("banner.title_withdraw"),content:d.a.get("banner.desc_withdraw"),tabTitle:d.a.get("header.withdraw")},3:{title:d.a.get("banner.title_1"),content:d.a.get("banner.desc_1"),tabTitle:d.a.get("header.swap")}};t.default=function(){var e=Object(x.usePoolTab)(),t=e.title,a=e.tabKey,i=j.a.useState(a),o=Object(n.a)(i,2),p=o[0],g=o[1],m=function(){var e,t,a=null,n=Object(l.d)((function(){return f.a.usdcPool})),s=Object(l.d)((function(){return f.a.network})),i=(O.a.thrSunPoolKeys,O.a.usdcContracts),o=function(){return(e=e||Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.getSwapBalance(),n.getVirtualPriceUSDC(),n.getVolData();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)};return j.a.useEffect((function(){return function(){clearInterval(a)}}),[]),{mountedActions:function(){return(t=t||Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.getUserLp(),e.next=3,n.getBalanceInfo(i.usdcSwap);case 3:return e.next=5,n.getBalanceInfo(i.USDCDepositer);case 5:a||(a=setInterval(Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(),n.getUserLp(),e.next=4,n.getBalanceInfo(i.usdcSwap);case 4:return e.next=6,n.getBalanceInfo(i.USDCDepositer);case 6:case"end":return e.stop()}}),e)}))),s.defaultIntervalSec));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},instantActions:o}}(),h=m.mountedActions,w=m.instantActions,k=window.localStorage.getItem("lang"),_=Object(b.useCallback)((function(e){var t=e.value;g(t),R(t)}),[]),S=function(){var e=window.localStorage.getItem("lang")||d.a.options.currentLocale,t=window.location.origin+window.location.pathname;window.location.href=t+"?lang=".concat(e,"#/sunCurve")},y=Object(b.useMemo)((function(){return{shouldScroll:!0,navRightMoreShow:!0,navRightMoreClick:S}}),[]),N=Object(b.useMemo)((function(){return K.b.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{handler:_})}))}),[_]),C=Object(l.d)((function(){return f.a.network}));return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(v.a,{mountedActions:h,instantActions:w,subNavProps:y}),Object(P.jsxs)("div",{className:"main-page-content",children:[Object(P.jsx)(E.a,{title:"".concat(t).concat("en-US"===k?" ":"").concat(d.a.get("buysell.Pool")).concat("en-US"===k?" ":"").concat(Z[p[0]].title),subTitle:Z[p[0]].content}),Object(P.jsx)("div",{className:"pool-tabs",children:Object(P.jsxs)(u.a,{activeKey:p[0],centered:!0,renderTabBar:function(){return null},children:[Object(P.jsx)(u.a.TabPane,{tab:Object(x.renderTab)("1"),children:Object(P.jsx)(U.default,{onSubmit:function(){return J("1")},pageList:N,tabPaneKey:p})},"1"),Object(P.jsx)(u.a.TabPane,{tab:Object(x.renderTab)("2"),children:Object(P.jsx)(B.default,{onSubmit:function(){return J("2")},pageList:N,tabPaneKey:p})},"2"),Object(P.jsx)(u.a.TabPane,{tab:Object(x.renderTab)("3"),children:Object(P.jsx)(Q,{onSubmit:function(e){return J("3",{event_label:e,txid:e})},pageList:N,tabPaneKey:p,isConnected:C.isConnected})},"3")]})})]})]})}}}]);