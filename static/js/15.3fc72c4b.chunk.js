(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[15],{1058:function(e,t,a){"use strict";a(1071);var n=a(24),s=a.n(n),o=a(7);t.a=function(e){return Object(o.jsx)("div",{className:"tempalte-pageTab-nav",children:e.list.map((function(t){return Object(o.jsx)("div",{className:s()("tempalte-pageTab-nav-item",{"tempalte-pageTab-nav-active":e.activeKey===t.value}),onClick:function(){return t.handler(t)},children:t.label},t.value)}))})}},1059:function(e,t,a){"use strict";var n=a(8),s=a(9),o=a(16),r=a(17),i=a(3),c=a.n(i),l=(a(1151),a(7)),d=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(e){var s;Object(n.a)(this,a),(s=t.call(this,e)).onClick=function(){s.props.disabled||s.props.state||s.props.onClick&&s.props.onClick()},s.onLeftClick=function(){s.props.lDisabled||s.props.lState||s.props.onLeftClick&&s.props.onLeftClick()},s.onMiddleClick=function(){s.props.mDisabled||s.props.mState||s.props.onMiddleClick&&s.props.onMiddleClick()},s.onRightClick=function(){s.props.rDisabled||s.props.rState||s.props.onRightClick&&s.props.onRightClick()};e.styleName;return s.state={},s}return Object(s.a)(a,[{key:"render",value:function(){var e=null;switch(this.props.type){case"trisection":e=Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"trisection "+(this.props.lDisabled?"gray":this.props.lState?this.props.lState:"blue"),onClick:this.onLeftClick,children:this.props.lInfo}),Object(l.jsx)("button",{className:"trisection "+(this.props.mDisabled?"gray":this.props.mState?this.props.mState:"blue"),onClick:this.onMiddleClick,children:this.props.mInfo}),Object(l.jsx)("button",{className:"trisection "+(this.props.rDisabled?"gray":this.props.rState?this.props.rState:"blue"),onClick:this.onRightClick,children:this.props.rInfo})]});break;case"half":e=Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"half "+(this.props.lDisabled?"gray":this.props.lState?this.props.lState:"blue"),onClick:this.onLeftClick,children:this.props.lInfo}),Object(l.jsx)("button",{className:"half "+(this.props.rDisabled?"gray":this.props.rState?this.props.rState:"blue"),onClick:this.onRightClick,children:this.props.rInfo})]});break;default:e=Object(l.jsx)("button",{className:"single "+(this.props.disabled?"single-disabled":this.props.state?this.props.state:this.props.btnColor?this.props.btnColor:"blue"),onClick:this.onClick,children:this.props.info})}return Object(l.jsx)("div",{className:"sun-action-btns "+this.props.styleName||!1,children:e})}}]),a}(c.a.Component);t.a=d},1062:function(e,t,a){"use strict";var n=a(3),s=a(1107),o=a(15),r=a.n(o),i=a(75),c=a(135),l=a(1118),d=a(1179),p=a(7),u=function(){var e=Object(i.d)((function(){return c.a.network}));return Object(p.jsx)(s.a,{img:l.a,emptyText:r.a.get("buysell.error_msg_3"),btnText:r.a.get("header.connect_wallet"),onClick:function(){return e.setData({loginModalVisible:!0,loginModalStep:1})},className:d.wallet_not_connect})};t.a=Object(n.memo)(u)},1068:function(e,t,a){"use strict";var n=a(4),s=a(3),o=a(24),r=a.n(o),i=a(1072),c=a(7),l=function(e){var t,a=e.title,s=e.subTitle,o=e.isRevert,l="string"===typeof a;return Object(c.jsxs)("div",{className:i.page_title_wrap,children:[o&&s&&Object(c.jsx)("div",{className:i.page_title_sub,children:s}),a&&Object(c.jsx)("div",{className:r()((t={},Object(n.a)(t,i.page_title,!0),Object(n.a)(t,i.page_title_revert,o),Object(n.a)(t,i.page_title_ele,!l),t)),children:l?a.split("").map((function(e,t){return Object(c.jsx)("span",{className:i.page_title_ele,children:e},t)})):a}),s&&!o&&Object(c.jsx)("div",{className:i.page_title_sub,children:s})]})};t.a=Object(s.memo)(l)},1071:function(e,t,a){},1072:function(e,t,a){e.exports={page_title:"style_page_title__dfZPh",page_title_wrap:"style_page_title_wrap__7dtV_",page_title_ele:"style_page_title_ele__Tktf1",page_title_sub:"style_page_title_sub__1IUsF",page_title_revert:"style_page_title_revert__18HMS"}},1074:function(e,t,a){e.exports={setting_wrap:"style_setting_wrap__L7ld9",setting_label:"style_setting_label__3qQrG",setting_btns:"style_setting_btns__zH_61",setting_btn_wrap:"style_setting_btn_wrap__uxT1B",setting_input:"style_setting_input__kvJzs",active:"style_active__10VTC",module_important:"style_module_important__PuwNO",info_text:"style_info_text__3K73H",setting_minutes:"style_setting_minutes__1mIXw"}},1097:function(e,t,a){"use strict";var n=a(5),s=a(45),o=a(47),r=a(1947),i=a(3),c=a(101),l=a(1115),d=a(1116),p=(a(1120),a(7)),u=["className","pagination","tableTheme"],b=Object(c.a)(window.navigator).any,m=Object(i.memo)((function(e){var t=e.className,a=void 0===t?"":t,i=e.pagination,c=e.tableTheme,m=void 0===c?{}:c,j=Object(s.a)(e,u);return Object(p.jsx)(o.a,{theme:{components:{Spin:{colorPrimary:"#9482f8",colorBgContainer:"#251F32",controlHeightLG:60},Table:Object(n.a)({colorPrimary:"#9482f8",colorFillAlter:"rgba(37,31,50,.3)",colorFillSecondary:"rgba(37,31,50,.3)",colorFillContent:"rgba(37,31,50,.3)",colorBgContainer:"#362D4A",colorBorderSecondary:"rgba(255, 255, 255, .1)",colorText:"#fff",colorTextHeading:"#fff",colorIcon:"#bfbfbf",colorIconHover:"#bfbfbf",padding:b?10:20,borderRadiusLG:20,borderRadius:20},m),Pagination:{borderRadiusLG:5,borderRadius:5,itemSize:24}}},children:Object(p.jsx)(r.a,Object(n.a)({className:a?a+" pure-comp dark-table-container":"pure-comp dark-table-container",pagination:!!i&&Object(n.a)({position:["bottomCenter"],className:"pure-comp",showSizeChanger:!1,itemRender:function(e,t,a){return"prev"===t?Object(p.jsx)("img",{alt:"pre",src:l.a}):"next"===t?Object(p.jsx)("img",{alt:"next",src:d.a}):a}},i)},j))})}));t.a=m},1118:function(e,t,a){"use strict";t.a=a.p+"static/media/big_connect_wallet.8e467f71.svg"},1120:function(e,t,a){},1128:function(e,t,a){"use strict";var n=a(1504),s=a(1920),o=a(1139),r=(a(1177),a(7)),i={V3:"V3",V2:"V2",V1:"",home:"",Migrate:"Migrate"};t.a=function(e){var t=e.onChange,a=e.network,c=void 0===a?{}:a,l=e.version,d=void 0===l?"v1":l,p=e.placement,u=void 0===p?"bottomRight":p,b=c["settingSlippage".concat(i[d])],m=c["settingDeadline".concat(i[d])];return Object(r.jsx)(n.a,{trigger:"click",overlayClassName:"setting_popover",placement:u,content:Object(r.jsx)(o.a,{showType:"popover",slippage:b,deadline:m,onChange:function(e){t(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")}}),title:"",children:Object(r.jsx)(s.a,{className:"new_setting_icon"})})}},1132:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r}));var n=a(1133),s=function(e){var t=e.tokenAddress,a=e.t0,n=e.t1,s=e.version,o={t0:a,t1:n,type:e.type,from:e.from,tokenAddress:t},r=[];return Object.keys(o).forEach((function(e){o[e]&&r.push("".concat(e,"=").concat(o[e]))})),"#/sun_swap/".concat(s||"v1","?").concat(r.join("&"))},o=function(e){var t=e.version,a=(e.t0,e.t1,e.tokenAddress,"");switch(t){case"stable":a=function(e){var t=e.t0,a=e.t1,n=e.type,s=e.from;if("swap"===n){var o={t0:t,t1:a,type:n,from:s},r=[];return Object.keys(o).forEach((function(e){o[e]&&r.push("".concat(e,"=").concat(o[e]))})),"#/home?".concat(r.join("&"))}return"#/usdd_2pool"}(e);break;case"v1":case"v2":a=s(e);break;default:a=function(e){var t=e.t0,a=e.t1,s=e.type,o=e.feeAmount,r=e.from;if("swap"===s){var i={t0:t,t1:a,type:s,from:r},c=[];return Object.keys(i).forEach((function(e){i[e]&&c.push("".concat(e,"=").concat(i[e]))})),"?".concat(c.join("&"),"#/v3/swap")}if("add"===s){var l="#/v3/pools/add/";return t?(l+=t,a?(l+="/".concat(a),"".concat(l,"/").concat(o||n.b)):l):l}if("pool"===s)return"#/v3/pools/add/TRX"}(e)}a&&(window.location.href=window.location.origin+window.location.pathname+a)},r=function(e){e&&(e.t0||e.t1||e.tokenAddress)&&o(e)}},1133:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return r}));var n=a(235),s=a(151),o=a.n(s).a.BigInt(0),r=n.FeeAmount.MEDIUM},1134:function(e,t,a){"use strict";var n=a(19),s=a(1977),o=a(14),r=a(1260),i=a(172),c=a(7);t.a=function(e){var t=e.token,a=e.showTokenName,l=void 0!==a&&a,d=e.styleName,p=void 0===d?"":d,u=e.showTrx,b=void 0!==u&&u;return Object(c.jsxs)("span",{className:p,children:[l?Object(c.jsxs)("span",{className:r.token_logo_icon,children:[Object(c.jsx)("img",{alt:"",src:t.tokenLogoUrl||i.a,onError:function(e){e.target.src!==i.a&&(e.target.src=i.a)}}),t.tokenSymbol]}):"",t.tokenAddress&&(t.tokenAddress!==n.a.trxFakeAddress||b)?Object(c.jsx)(c.Fragment,{children:Object(o.G)(Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(s.a,{className:r.token_view_icon})}),t.tokenAddress)}):null]})}},1139:function(e,t,a){"use strict";var n=a(11),s=a(3),o=a(15),r=a.n(o),i=a(1914),c=a(24),l=a.n(c),d=a(236),p=a(1),u=a(1074),b=a(7);t.a=function(e){var t=e.showType,a=void 0===t?"":t,o=e.slippage,c=e.deadline,m=Object(s.useState)("0.5"),j=Object(n.a)(m,2),k=j[0],x=j[1],f=Object(s.useState)("1"),h=Object(n.a)(f,2),v=h[0],w=h[1],O=Object(s.useState)("0.5"),g=Object(n.a)(O,2),S=g[0],_=g[1],A=Object(s.useState)("1"),y=Object(n.a)(A,2),T=y[0],N=y[1],V=Object(s.useState)(""),D=Object(n.a)(V,2),B=D[0],C=D[1];Object(s.useEffect)((function(){P(o,c)}),[]),Object(s.useEffect)((function(){(S||T)&&L()}),[L,S,T]);var P=function(e,t){x(e),w(t),_(e),N(t),I()},L=function(){x(k),w(v),I(),e.onChange&&e.onChange(S,T)},F=function(e){var t=e.target.value,a=Object(p.V)(t,2),n=a.valid,s=a.str;n&&_(s)},I=function(){S&&(Number(S)<.5?C(r.a.get("settings.slippage_info_1")):Number(S)>5&&Number(S)<50?C(r.a.get("settings.slippage_info_2")):Number(S)>=50?C(r.a.get("settings.slippage_info_3")):C(""))};return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:l()({"flex start wrap":""===a}),children:[Object(b.jsx)(d.a,{toolClass:u.setting_wrap,tip:e.slippate_tip||r.a.get("settings.slippage_tip"),children:Object(b.jsx)("span",{className:u.setting_label,children:r.a.get("settings.slippage")})}),Object(b.jsxs)("div",{className:l()(u.setting_btns),children:[Object(b.jsxs)("div",{className:u.setting_btn_wrap,children:[Object(b.jsx)("button",{className:l()("0.1"===S?u.active:""),onClick:function(){return F({target:{value:"0.1"}})},children:"0.1%"}),Object(b.jsx)("button",{className:l()("0.5"===S?u.active:""),onClick:function(){return F({target:{value:"0.5"}})},children:"0.5%"}),Object(b.jsx)("button",{className:l()("1"===S?u.active:""),onClick:function(){return F({target:{value:"1"}})},children:"1%"})]}),Object(b.jsx)(i.a,{className:l()(u.setting_input,u.module_important,["ml-20"]),suffix:"%",value:S,onChange:F,onBlur:function(){Number(S)>=50?_(S.slice(0,1)):0!==Number(S)||_("0.01")}})]})]}),B?Object(b.jsx)("div",{className:u.info_text,children:B}):null,Object(b.jsxs)("div",{className:l()({"flex start":""===a}),children:[Object(b.jsx)("div",{style:{marginBottom:"popover"===a?"12px":0},children:Object(b.jsx)(d.a,{toolClass:u.setting_wrap,tip:r.a.get("settings.deadline_tip"),children:Object(b.jsx)("span",{className:u.setting_label,children:r.a.get("settings.deadline")})})}),Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)(i.a,{className:l()(u.setting_input,u.module_important),value:T,onChange:function(e){var t=e.target.value,a=Object(p.V)(t,0),n=a.valid,s=a.str;if(t){if(n){var o=s;Number(s)>1e4&&(o=1e4),N(o)}}else N(t)},onBlur:function(){var e=Number(T);0===+T&&(e=1),N(e)}}),Object(b.jsx)("div",{className:l()(u.setting_minutes,["ml-10"]),children:r.a.get("settings.deadline_minutes")})]})]})]})}},1140:function(e,t,a){"use strict";var n=a(5),s=a(45),o=a(3),r=a.n(o),i=a(201),c=a(7),l=["url"],d=function(e){var t=e.url,a=Object(s.a)(e,l);return Object(c.jsx)("img",Object(n.a)({src:t||i.a,onError:function(e){e.target.src!==i.a&&(e.target.src=i.a)},alt:"mint-icon"},a))};t.a=r.a.memo(d)},1145:function(e,t,a){"use strict";var n=a(4),s=a(3),o=a(24),r=a.n(o),i=a(1191),c=a.n(i),l=a(7),d=function(e){var t,a=e.items,s=e.bordered,o=void 0===s||s,d=e.responsive,p=e.responsiveLayout,u=void 0===p?"v":p,b=e.style,m=void 0===b?{}:b;return Object(l.jsx)("div",{className:r()(i.info_box,(t={},Object(n.a)(t,i.info_box_no_border,!o),Object(n.a)(t,i.info_box_responsive,d),Object(n.a)(t,c.a.info_box_responsive_h,"h"===u),Object(n.a)(t,c.a.info_box_responsive_v,"h"!==u),t)),style:m,children:a.map((function(e,t){return Object(l.jsxs)("div",{className:i.info_box_item,children:[Object(l.jsx)("div",{className:i.info_box_label,children:e.label}),Object(l.jsx)("div",{className:i.info_box_value,children:e.value})]},t)}))})};t.a=Object(s.memo)(d)},1146:function(e,t,a){"use strict";t.a=a.p+"static/media/TransactionSuccess.9be097c2.svg"},1151:function(e,t,a){},1152:function(e,t,a){},1153:function(e,t,a){"use strict";var n=a(5),s=a(45),o=a(3),r=a(24),i=a.n(r),c=a(1178),l=a(287),d=a(7),p=["className","fullFilled"],u=function(e){var t=e.className,a=e.fullFilled,o=Object(s.a)(e,p);return a?Object(d.jsx)("img",Object(n.a)({className:i()(c.question_img,t),alt:"",src:l.a},o)):Object(d.jsx)("span",Object(n.a)(Object(n.a)({className:i()(c.question_icon,t)},o),{},{children:"?"}))};t.a=Object(o.memo)(u)},1163:function(e,t,a){},1170:function(e,t,a){"use strict";var n=a(8),s=a(9),o=a(16),r=a(17),i=a(3),c=a.n(i),l=a(101),d=a(15),p=a.n(d),u=a(1042),b=a(14),m=(a(1368),a(7)),j=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).confirm=function(){s.props.confirm&&s.props.confirm()},s.cancel=function(){s.props.cancel&&s.props.cancel()},s.state={},s}return Object(s.a)(a,[{key:"render",value:function(){var e=Object(l.a)(window.navigator).any?0:64;return Object(m.jsxs)(u.a,{footer:null,title:null,closable:!0,maskClosable:!1,open:this.props.visible,className:"unfinished-pop sun-swap-modal",onCancel:this.cancel,style:{marginLeft:Object(b.o)()+e},width:430,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:[Object(m.jsxs)("div",{className:"title",children:[p.a.get("sunSwap.action.popTitle"),Object(m.jsx)("p",{children:p.a.get("sunSwap.action.popDesc")})]}),Object(m.jsxs)("div",{className:"btns",children:[Object(m.jsx)("button",{onClick:this.confirm,children:p.a.get("sunSwap.action.popQuitBtn")}),Object(m.jsx)("button",{onClick:this.cancel,children:p.a.get("sunSwap.action.popCancelBtn")})]})]})}}]),a}(c.a.Component);t.a=j},1175:function(e,t,a){},1176:function(e,t,a){"use strict";var n=a(3),s=a(7);t.a=function(e){var t=e.visible,a=e.onChange;return Object(n.useEffect)((function(){t&&a&&a()}),[t,a]),Object(s.jsx)(s.Fragment,{})}},1177:function(e,t,a){},1178:function(e,t,a){e.exports={question_icon:"style_question_icon__3ZWoP",question_img:"style_question_img__1bgzg"}},1179:function(e,t,a){e.exports={wallet_not_connect:"style_wallet_not_connect__2Qekr"}},1180:function(e,t,a){"use strict";var n=a(285),s=a(24),o=a.n(s),r=(a(1181),a(15)),i=a.n(r),c=a(236),l=a(7);t.a=function(e){var t=e.pageList,a=e.activePage,s=e.onPageChange;return Object(l.jsx)("div",{className:"page-panel-wrap",id:"swap-tab",children:Object(l.jsx)("div",{className:"panel-header",children:t.map((function(e,t){return Object(l.jsxs)("div",{className:o()({"panel-header-item":!0,"panel-header-item-active":e.key===a,flex:!0}),children:[e.path?Object(l.jsx)(n.b,{to:e.path,children:e.textKey?i.a.get("sunSwapV3.panelHeader.".concat(e.textKey)):e.text}):Object(l.jsx)("span",{onClick:function(){return s&&s(t,e)},className:"page-item-text",children:e.textKey?i.a.get("sunSwapV3.panelHeader.".concat(e.textKey)):e.text}),e.tips&&Object(l.jsx)(c.a,{tip:e.tips})]},e.key)}))})})}},1181:function(e,t,a){},1191:function(e,t,a){e.exports={"page-head":"style_page-head__Q5_41",link:"style_link__gpGN-","gradient-title":"style_gradient-title__3TOPy",animateTitle:"style_animateTitle__JszRT","dim-content":"style_dim-content__3_Ul3",uppercase:"style_uppercase__PmEs8","window-for-tabs-pane":"style_window-for-tabs-pane__1V2Lv","dark-btn":"style_dark-btn__DQL_s","purple-btn":"style_purple-btn__2SawB","cur-input":"style_cur-input__37INw","max-btn":"style_max-btn__npQR2",info_box:"style_info_box__1963G",info_box_no_border:"style_info_box_no_border__W8LQy",info_box_item:"style_info_box_item__3JfS2",info_box_label:"style_info_box_label__f3QFH",info_box_value:"style_info_box_value__1v2mN",info_box_responsive:"style_info_box_responsive__3jNYY",info_box_responsive_h:"style_info_box_responsive_h__3eg33"}},1192:function(e,t,a){"use strict";var n=a(1945),s=a(1128),o=a(236),r=(a(1271),a(7));t.a=function(e){var t=e.title,a=e.tip,i=e.onBack,c=e.showSetting,l=void 0!==c&&c,d=e.onSettingChange,p=e.network,u=e.version;return Object(r.jsxs)("div",{className:"v3-sub-nav",children:[Object(r.jsx)(n.a,{className:"v3-sub-nav-left-arrow",onClick:i}),Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsx)("span",{className:"v3-sub-nav-title",children:t}),a&&Object(r.jsx)(o.a,{tip:a})]}),Object(r.jsx)("div",{className:"v3-sub-nav-right",children:l&&Object(r.jsx)(s.a,{onChange:d,network:p,version:u})})]})}},1215:function(e,t,a){"use strict";var n=a(8),s=a(9),o=a(16),r=a(17),i=a(3),c=a.n(i),l=a(15),d=a.n(l),p=a(1918),u=a(1037),b=(a(1367),a(7)),m=Object(b.jsx)(u.a,{style:{fontSize:24},spin:!0}),j=function(e){Object(o.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={},s}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.children,t=c.a.Children.toArray(e).map((function(e,t){var a=e.props,n=a.children,s=a.status,o=a.err,r=a.failed,i=n;return"error"===s&&(i=o||n),"pending"===s&&(i=d.a.get("sunSwap.action.doingAct")),"failed"===s&&(i=r||n),Object(b.jsxs)("div",{className:"al_item ".concat(s?"".concat(s):""),children:[Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("span",{className:"al_number",children:t+1}),Object(b.jsx)("span",{className:"al_title".concat(s?" ".concat(s):""),children:i})]}),"pending"===s&&Object(b.jsx)(p.a,{indicator:m,className:"spiny"})]},e.key)}));return Object(b.jsx)("div",{className:"action-line",children:t})}}]),a}(c.a.Component);t.a=j},1255:function(e,t,a){"use strict";var n=a(5),s=a(45),o=a(24),r=a.n(o),i=(a(1256),a(7)),c=["children","className","disabledCanClick","disabled","onClick"];t.a=function(e){var t=e.children,a=e.className,o=e.disabledCanClick,l=e.disabled,d=e.onClick,p=Object(s.a)(e,c);return Object(i.jsx)("div",Object(n.a)(Object(n.a)({onClick:function(e){(o&&l||!l)&&d&&d(e)},className:r()("sun-button-primary",{"sun-button-weak":o&&l},a)},p),{},{children:t}))}},1256:function(e,t,a){},1257:function(e,t,a){"use strict";var n=a(5),s=a(45),o=a(1514),r=a(3),i=(a(1258),a(7)),c=["prefix","showPrefix","suffix","showSuffix","enterButton","value","onSearch"],l=function(e){var t=e.prefix,a=e.showPrefix,l=e.suffix,d=e.showSuffix,p=e.enterButton,u=e.value,b=e.onSearch,m=Object(s.a)(e,c),j=Object(r.useRef)(null);return Object(i.jsxs)("div",{className:"sun-search-input-wrap",children:[a&&Object(i.jsx)("div",{className:"sun-search-input-prefix",children:t||Object(i.jsx)(o.a,{style:{color:"rgba(255, 255, 255, .5)"}})}),Object(i.jsx)("input",Object(n.a)({ref:j,type:"text",className:"sun-search-input",value:u},m)),d&&Object(i.jsx)("div",{className:"sun-search-input-suffix",children:l||(p?Object(i.jsx)("div",{className:"sun-search-input-btn",onClick:function(){var e;return b&&b(null===(e=j.current)||void 0===e?void 0:e.value)},children:p}):null)})]})};l.defaultProps={showPrefix:!0,showSuffix:!0},t.a=Object(r.memo)(l)},1258:function(e,t,a){},1259:function(e,t,a){},1260:function(e,t,a){e.exports={token_view_icon:"style_token_view_icon__2mRa-",token_logo_icon:"style_token_logo_icon__2_bsW"}},1261:function(e,t,a){e.exports={remove_liq_title:"style_remove_liq_title__Nrq_E",remove_liq_fee:"style_remove_liq_fee___gp6i",remove_liq_num:"style_remove_liq_num__XhztX",remove_liq_btn:"style_remove_liq_btn__1wZsk",remove_liq_active_btn:"style_remove_liq_active_btn__Lo8Al",remove_liq_token:"style_remove_liq_token__3J2um",remove_liq_value:"style_remove_liq_value__18eCU",remove_liq_price:"style_remove_liq_price__1uAT9"}},1262:function(e,t,a){},1263:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAA/JJREFUWEfVWctqFUEQPeX7/X5tXIkIouBa/AkxgkYXgrhwIQiufaCuxYXoQsSNGkHFnxDXgiKIuHJlTIwmMYmJ8ci5Voe+k3tneuaOIVMwhCTT3aerTlWdnjb0YCQNwHIAKwEsA7AEwFL/qZn/AJj1n78B/AIwY2asuqwWLG0kBXCVPwJZxrSJKT1mpg2UslKASa4AsMG9GhaSBwVgJuNR/T/2uCKhTSoCwTRm1MymU1EnASapcK/3BUOoJ9xLWjTZSAbgayLqaMNjZiba5FohYA//ZgB6V9z7qcfMFNrKRlLeX+tPmHukiCa5gElqQlFAJi8ofKJAbUZSFNEaootMa8gpHa0rYJIbAShssnE9vWR33g692qwDoEc2YWY/Oo3pCDjj2e9mNlmbS3MmIrkawKY8T88D7Jzd4oMWDGzYRwb0tyyn2wB7NdjmCSYKjC2EZ7NrkFRFEj2U5ENx9cgCVjUQ+ZVg8m6pjkTyMIA9AAZSSlQ3ZzinRY0WFjMbCe/OAfamsNV39bVMNSCp5LwN4JxPfMPMrvQSHa8e2z3aw6G5xIBFBRX1UlQgeRDAUwD7I4A9A9ZcETWkP4b0txbgKNHUDOTdpKZA8jyAW1EN1XQDAM7WUVm8ucjLajKtBAyAxReVlCTvkhTXHwA4GnlVxf6CmT3shQo5CdiqzeYE3+G7UEbmagOSRwA8AbA7mvwNgBNm9qFOsB590VR0VdQHBVgKTMk2a2aDBR3pMoCrGcWljnTPtW4VvB/lgLyKRFIOVQsfFuBQ8yRoRnNKzTEAz6sgShhz2swe56wtrSFdMy7AofbmdjWSfQCeJSxe5ZUiwKFlTwmw6CBazGuDHRJAoA9UQZQzJoUSOuFILkwLcOCHylmhgK4ZbNJ0LhlU3mYFeJfX4y+p9TdplRpf8nq8Uy2jkYAbR4mkpPMG0w9gb43R1lTvzCy3XEbSoZV0qWXtFIBHNYMN0x3PAx2J+lZZS20c/xNwn5m9SG0cSa25Bkqolkrd6XAbTCfwa2Z2s0AStLVmKbZk8VOFEiT3uWY+FI3/DKDfzF4VgG0XP66IwpE+SV6WAU3yDIA7rgXC0JeumeeOPjl0CJT9Jy8dcGh9pQR8gWfU/6WZT0bv6ax4yczupmy6q4B30JWOSDmeuQ5AcjTYe9fMb1PAOqbg3fYjkv8zJJ9OyqUOoZ0AkIwB3wdw0cz0ATHJCg+hDrqnY36MxAWL6PDJzF4nofSXko75DlifVZvzISWTgPp1cX+qCmFr1MfACHRzPrd28fTi/qAdgVZTacaVQQS6OZcymdrajGuvbNH3E4C0guhS5WJRF4qTRTdGnZpN4bVXgcBZ8Kvbv7gRNO3rhp7CAAAAAElFTkSuQmCC"},1264:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAABjJJREFUaEPdW0moXEUUPcd5ivM8gKJBxYUriRsHHHCI4EJQFEGMw8aNbpw2JhuHla6NmoWiKG4ERxwwujELFy5ERUXBIZp5TjSJR07+rU7997v7Vb1+0dAXmub9rqp3T91Td3rvEz2LJAI4GMAhAA6KzwEA/PFvFgH4Jz67APjzN4CdJP1bb5JuONGCAepQAIcD8HfXdQ3uLwDb/d0H2K6KzJhhxlpHAjiqAWp3KJqs42tbLFnH82zRAzMre2N8ncRjtwDYOgnQTgADmK01LxS1Ugbjnd9O0oCqRZIBel1/TG+LN2ZzrFtN32qAkg4LYEmBnVaApKnVm0iyRb2BPs9pA32fHTU3KQYYVvMNTUmLreQb2mr7TCQlpiT6bo37FlmzCKAkn5djw4EYjCkz0dmo2ZHsrHuDLWbLBpKm71hpBSjJVDwuzoR3bX3fdGxTMv0etLUu1ttn3rr4e6SMBRjgTghHUrRgqbJdxzU23BZcOw7kSIBBS4OzBR2EvVutlOiqeM280M2WdDLhjTfIoboNBRic9wL2ZGMXqFGsz7ENA/hM2gBzHM8ogEeHt/SENW0871PxmrWCrifGmbTT29ScPwdgxDlbz7Lu/3IopUDD8Rwf423FWXFyFsCgpnfE584xzqnSfi+SnCo6hPg4mXEDqjYBHgHgmAjiq2tyQEnOOK4AcFHEzNYQ1Ng5K7UBwNcAlpN0hlQkYZiTIpfdSHJbmjhQIgadHCHBQbQ4Q5F0HYClAM4q0qh90C8A7iP5QfvQmRGR8TgZsTddlYyTA0xmdk22pmLhpwE8Ujq+ctwzJB8tnSPJx8tMGhyvPQDDeqeENyp2LJJuAPBupsDvAD4E8HOpUo1xZwO4FsDp2d9vJPleyXqZwzHd/7QVE0BXCPacu0iuLlzMQfanTJk3ASwi6Ty1s0iys1gG4JZYxJt2DkknG60iyWfRTnKPR00ADc4giz1nnLv3446/AriwL68bXvEbAGfG+teXnsfMo+4guZ4NevpwFhWrkh4E8GwosIzkotbtrRgg6SUAd8eUh0g+VzI9imY7yxmaSjLVnHPuJrmqZJE4t4sBPBHjl5D0dW8iKV9/McklpYtLMkDXj2sNMHnPbSQ3liwiydR5GcAlWQHcnLoSwKcAHiZpCldJA2DVBkpyLHdM32yAjh2umjeRdLU8VgLcVwBSetQ2ZR2Ai2tBTgjQXQfn09sNMMWOovAg6VUAt7ehavz+Gsk7auZMCNBVkA2w0wATX52aja2O4+zZbZ8Wyi4kmcfBAQZJCwG8HX9YSTKPba1YJwToMOFwsdsAT40A78DYWtBK2pvIkm0dgaKxkq4GcBuAywGcEehdFZhdltoz6B6SExcZYLLGHyXJdZ8AJc2PHNZJ+jj50seC5Petpt+bmdlw6AIwp+hNJN8ZdtM2ikq6DMBbkUGV6L0ewM0kP28bHLF9ALCWohM7mbDcigycqfwCgBejXDIGl133ALg3eyxgkAvaLBntjAFFa52MY+BEYUKS42OipePlnSQ/GcGEqwC8kjk214pXjrNitDIGTqYqTIQn7Rzow6F8FAractckcJLOBZDyW+efP8b9DNJzklPznI9Hgcyqij1hoirQp0UlOU1L6Vmxl5P0vIvZWGcpyfuzNR8D8GRcP07yqey3kfOaQCXNCvTVqVrsaqdkW9K3AM4PpS4luSIsdysAdwYSdZcDcEX/hi0paQGAL2LedyQvGGPBWala12TbylSXS5JcL3pTLfNcYkmy+z9vhMI/kJwfOXOqNbeQTM8p5kxrJtvmdarma8qlTgXvvgY4p1wKulUXvDGvS8vigSxD6Z2icwreULS6ZZEd/kmaTr07mVEti5ymRVVFTvwJ2oa9homRTaewYqe2YWbJmsbvXQDcQbP0FuhHtg0DoK3YqfE7yl2PceNOsntN1VobvwGyc+u+A8jeku2i1n1mxf/s4UtFueSg71b+0HKp+OFLw6P6strh1Foy7jms4P0NwGcAXi/MO73U+MdnmcOY3gegGVWn9xF2gHRfYzpfQsio6u7UdL5G0gA5nS8CZSCn91WuDKQznel8Ga+RWE/n65QNkLbmdL4QOwTo9L3S3EzHpval9GF55/72bwX/ApHa3TI9wHVxAAAAAElFTkSuQmCC"},1265:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAABn9JREFUaEPdm1usXGMUx3+rp3VtlbpTQWhU+uCF8EJdKi6VtDUTUpGIUi9eeMGbeuOJZ7c+EEJmtE1co2h50YQHD40Kgiil9H6l51jy32ftyT5zzsz+9syUZr5kMpmzv2/t9f/+6/rtfYwBD3c3YAZwHDA9PtMAfXRNw4F/4jMK6PM3cMTMdG1gI79hXwID1PHAiYC+e5UrcH8Bh/Q9CLC9KjJOwzhbJwMz20CNhaI5O/otxnJ2tE6MjhRY1sbodz40dz9woB+gPQEMYGJrVigqpQRGO3/IzASo8nB3AZRcfWTeGtqYfSG3svlWBujuJwSwXIEjUsDMZFoDG+4uRrWB8ud8A3Wfw1VukgwwWNMNZZIaYkk3FGtHbbh7bim5+R6I+yaxmQTQ3eUvp0YAERiZTF++UWVHCr6uDdaQtew2M5lv11EK0N1liqeFT2jXdg3aHMuUzK+H2UoX6S2fly767ji6Agxwp0cgSRKYqmyv89o2XAzu6AayI8AwS4ETg0rC2q1Sk+hV8SrrQjcxqWJCGy+QU+o2JcCweQlQJOsqoIpig5zbRoB8UgRMCjydAJ4S0VIL/iyz80EqXkVWmOsZ4ZMKenvb108CGHlO7Gns/L8CSirQCDxzYr5YnJAnJwAM09SOyO+U41QqHfPD3VUqKoXInWRxLVNtB3gSMDuS+B9VakD/ghn8xEKcBViWM0tTUNvOOc5ujM1cyEa7ElVISSOIOTNq2T1mdjBf2FIiJp0VKUFJNLlC8Qa3YLyAc0GSRmWTjJ9xVlqdD8qm5tej4tHGKppuz8kpAsxpVk/2Z7LgJk/jPJ46v9I84xmr8UTqGneXe6l2bblXBjDYOzvMKjmw+BpuY4x3WwoYv+J8iPFjqlIT5jkXYdyMc17r7yPcbst4L0VeIeDIB38XizlAdQiKnKNm9keSsM0cxxZ+aCljNJjOCluS1ak9D1/HLEZZjVPLhGjT5nOxLciKjdLh7vJFBcksouYABU4gkyNn5nfwfiixlTlcbjdkDWrfwz9hJjv5GmduCLs11R8LEfWwme2yNvOUcyY1q97kEZxnA+Bqq7Gib2QFAd7kZZz7Q/6jVuO5FPnRNCtYjpupu6ueU805ZmbbU4RkfttkFc6TocBTVmNV6tqUeW3yV1mNp1LWZbq5C6D6xx0CmEfPg2a2J0WIN5mL8wpwVaEBnrjU2IazAeMxq7E1RW5xTj8b6O7K5crp+wRQuUNd814zU7fcdQS4r4C8PCpbshPjiqog+wSoUwfV04cEMM8dSenBG7wGLC9D1Xb9datzT5U1fQJUFyQCjghgbq8qzbp2x+F7ynXnhrKLrV7IgxODxGKct8NHt1mtkNsSkPYJUGlC6WJMAM+JBK/EWNrQeqN1tonVu9ebqXN9DTcxxt3AdcD5sSmHcWRdyoWVglj0iipcXABzNn5LKa5Tlc7YLtkMbzAvatiFXUk1vsRZbnW+TSA/r8xEHNUBNrNybHxTjDusxjtT3dSbdDVRX8u1jLEOzyqo8mHsYoQltpTPyiZHbm8BrGqifQeZYG5TC5yhVulFpvMSs9mcAdjDAkZ5AONBPFxBIJ2ry5hsN9GqQUY5sK804U024IybpfKlca/dycdTWsJb3IjzasFqNlqN67uxGEcZrSBTKU1EJO050UdAWR/gxM2iTuByED4Ocn2LyREW2TI+6gSy0FVkaaJSom/dtMmTeJRnFaKcN3geWBlyXrA6D5X5VASs5HXuPiHRVy7VgsWeim1vsAW4LAM1nWtsKZt8DZfwD3cVHg3kmP9iGm/aMr73tVzNKJ/HhW+szvwuDE4o1Xortntsl7yR9YvaVJX4s9RieSML/5d2UPg7qzMva6F2tHrN/VbPDpmmHO3FtnrCvJtPb5d6bHiPNsBJ7VJmbu6VG95sXW9HFg+3KpSjYKKTGt4AWPnIohBs+jl0GniQ6XRkUTTTpK6iaPw9HxsqwQ8wTXQ8dAoWezo2bDFZ7eD3PnSCNuBE3/HYMACKxZ4OflPyWBvjKrIHWqqVHvwGyJ6P7iuDHGCxnXR0X2DxP3v4UqFd2hhH+VO2S8kPX9oiqn5WDjhVmYx0M7nhhV+ATxnhjcS6U6K6Pz5rBQz34X0AWjDV4X2EHSD1bsxwvoRQMFWdTg3nayRtIIfzRaACyOF9lasAUpXOcL6MN6HMGtbXKdtAis3hfCF2CqDD90pzezk2tC+lT1V3Hmv/VvAvO9naMpPiOwsAAAAASUVORK5CYII="},1266:function(e,t,a){"use strict"},1267:function(e,t,a){"use strict";var n=a(3),s=a(47),o=a(180),r=a(1268),i=a(15),c=a.n(i),l=a(7),d=function(e){var t=e.showMigrate,a=e.showAdd,n=e.showRemove,i=e.className,d=e.onMigrate,p=e.onAdd,u=e.onRemove,b=e.removeDisabled;return Object(l.jsxs)("div",{className:i,style:{textAlign:"right"},children:[t&&Object(l.jsx)(s.a,{theme:{token:{colorText:"#5A14E1",colorBgContainer:"#DECDFF",colorPrimary:"#5A14E1",colorPrimaryHover:"#5A14E1",controlHeight:30}},children:Object(l.jsx)(o.a,{style:{border:"none"},className:r.liquidity_btn_migrate+" pure-comp",onClick:function(){return d&&d()},children:c.a.get("sunSwap.migrate.title")})}),a&&Object(l.jsx)(s.a,{theme:{token:{colorText:"#fff",colorBgContainer:"#8C51FF",colorPrimary:"#fff",colorPrimaryHover:"#fff",controlHeight:30}},children:Object(l.jsx)(o.a,{style:{border:"none"},className:"pure-comp",onClick:function(){return p&&p()},children:c.a.get("sunSwap.pool.base_increase_link")})}),n&&Object(l.jsx)(s.a,{theme:{token:{colorText:"#C1A0FF",colorPrimaryHover:"#C1A0FF",controlHeight:30,colorTextDisabled:"rgba(255, 255, 255, 0.5)"}},children:Object(l.jsx)(o.a,{disabled:b,onClick:function(){return u&&u()},className:r.liquidity_btn_remove+" pure-comp",type:"text",children:c.a.get("sunSwap.pool.base_remove_link")})})]})};t.a=Object(n.memo)(d)},1268:function(e,t,a){e.exports={liquidity_btn_remove:"style_liquidity_btn_remove__2AFYU",liquidity_btn_migrate:"style_liquidity_btn_migrate__UEXPP"}},1269:function(e,t,a){e.exports={wallet_not_connect:"style_wallet_not_connect__2Wm9c"}},1270:function(e,t,a){e.exports={"page-head":"style_page-head__1BLAB",link:"style_link__3S1dj","gradient-title":"style_gradient-title__3MHT8",animateTitle:"style_animateTitle__2WZFP","dim-content":"style_dim-content__12T8T",uppercase:"style_uppercase__3-6jb","window-for-tabs-pane":"style_window-for-tabs-pane__4neP4","dark-btn":"style_dark-btn__2oICp","purple-btn":"style_purple-btn__30BiF","cur-input":"style_cur-input__1R2iF","max-btn":"style_max-btn__2xtc9",sun_swap_content:"style_sun_swap_content__1pfSB",sun_swap_content_detail:"style_sun_swap_content_detail__3O12x",page_tab_wrap:"style_page_tab_wrap__3N5Xm",page_tab_nav_wrap:"style_page_tab_nav_wrap__lRKwD",v3_new_icon:"style_v3_new_icon__3xLDJ"}},1271:function(e,t,a){},1272:function(e,t,a){},1274:function(e,t,a){"use strict";var n=a(4),s=a(5),o=a(11),r=a(45),i=a(3),c=a(15),l=a.n(c),d=a(1109),p=a.n(d),u=a(24),b=a.n(u),m=a(1057),j=a(1068),k=a(14),x=a(112),f=a(1058),h=a(1180),v=a(1128),w=a(1270),O=a(1192),g=a.p+"static/media/v3_new.ebab458d.png",S=a(7),_=["routeName","version","onVersionChange","onSettingChange","isDetailPage","children","detailPage","network"],A=function(e){e.routeName;var t,a=e.version,c=e.onVersionChange,d=e.onSettingChange,u=e.isDetailPage,A=e.children,y=e.detailPage,T=void 0===y?{}:y,N=e.network,V=Object(r.a)(e,_),D=Object(i.useState)(0),B=Object(o.a)(D,2),C=B[0],P=B[1];Object(i.useEffect)((function(){Object(x.b)().then((function(e){var t=(e.data||{}).allSwaps;P(t)}))}),[]);var L=Object(i.useMemo)((function(){return Object(S.jsx)(p.a,{start:0,redraw:!0,end:Number(Object(k.a)(C).toFixed(0,1)),duration:1,prefix:"$ ",separator:","})}),[C]);return Object(S.jsxs)("div",{children:[Object(S.jsx)(m.a,{routeName:1321,mountedActions:function(){},instantActions:function(){}}),Object(S.jsxs)("div",{className:"main-page-content",children:[Object(S.jsx)(j.a,{title:L,subTitle:l.a.get("sunSwap.total_stake"),isRevert:!0}),!u&&Object(S.jsxs)("div",{className:w.page_tab_nav_wrap,children:[Object(S.jsx)("img",{src:g,alt:"new",className:w.v3_new_icon}),Object(S.jsx)(f.a,{list:[{label:"V3",value:"V3",route:"v3/swap",handler:c},{label:"V2",value:"V2",route:"sun_swap/v2",handler:c},{label:"V1",value:"V1",route:"sun_swap/v1",handler:c}],activeKey:a?a.toUpperCase():"V3"})]}),!u&&Object(S.jsxs)("div",{className:w.page_tab_wrap,children:[Object(S.jsx)(h.a,Object(s.a)({},V)),Object(S.jsx)(v.a,{onChange:d,network:N,version:a})]}),Object(S.jsxs)("section",{className:b()((t={},Object(n.a)(t,w.sun_swap_content,!0),Object(n.a)(t,w.sun_swap_content_detail,u),t)),children:[u&&Object(S.jsx)(O.a,Object(s.a)({},T)),A]})]})]})};t.a=Object(i.memo)(A)},1276:function(e,t,a){"use strict";var n=a(3),s=a.p+"static/media/loading_chry.cbf82baf.svg",o=a(24),r=a.n(o),i=a(7),c=function(e){var t=e.className,a=e.style,n=e.size,o=void 0===n?20:n;return Object(i.jsx)("div",{className:r()("infinite-loading",t),style:a,children:Object(i.jsx)("img",{className:"infinite-loading-circle",style:{width:o,height:o},src:s,alt:"loading"})})};t.a=Object(n.memo)(c)},1277:function(e,t,a){"use strict";var n=a(3),s=a(1107),o=a(15),r=a.n(o),i=a.p+"static/media/table_no_data.fbf13c8c.png",c=a(1269),l=a(7),d=function(){return Object(l.jsx)(s.a,{img:i,emptyText:r.a.get("sunSwap.pool.base_noLiquidity_tip"),className:c.wallet_not_connect})};t.a=Object(n.memo)(d)},1278:function(e,t,a){"use strict";var n=a(5),s=a(11),o=a(45),r=a(201),i=a.p+"static/media/token_loading.df40235f.svg",c=a(3),l=a(24),d=a.n(l),p=(a(1259),a(7)),u=["src","defaultSrc","className"],b=function(e){var t=e.src,a=e.defaultSrc,l=e.className,b=Object(o.a)(e,u),m=Object(c.useState)(i),j=Object(s.a)(m,2),k=j[0],x=j[1],f=t||a||r.a;return Object(c.useEffect)((function(){var e=new Image;e.src=f,e.onload=function(){x(f),e=null},e.onerror=function(){x(r.a),e=null}}),[f]),Object(p.jsx)("img",Object(n.a)(Object(n.a)({src:k},b),{},{alt:"logo",className:d()("sun-icon-img",l)}))};t.a=Object(c.memo)(b)},1305:function(e,t,a){"use strict";var n,s=a(8),o=a(9),r=a(16),i=a(17),c=a(3),l=a.n(c),d=a(199),p=a(15),u=a.n(p),b=a(1042),m=a(1502),j=a(14),k=a(19),x=a(7),f=Object(d.b)("sunSwapNetwork")(n=Object(d.c)(n=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).changeCheckStatus=function(e){n.setState({checkStatus:e})},n.comfirmContinue=function(){n.state.checkStatus&&n.props.cb()},n.componentDidMount=function(){},n.state={checkStatus:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.dealWarningSymbol,s=this.state.checkStatus,o=n?k.a.deflationToken[n]:{symbol:"",slippage:""},r=o.symbol,i=o.slippage;return Object(x.jsx)(b.a,{title:u.a.getHTML("list.deal_warning_title",{value:r}),closable:!1,open:a,footer:null,style:{marginLeft:Object(j.v)(500)},width:525,className:"list-addtoken-modal deal-warning-modal sun-swap-modal",centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:Object(x.jsxs)("div",{className:"solor-modal-body",children:[Object(x.jsxs)("div",{className:"tips",children:[Object(x.jsx)("div",{className:"tips1",children:u.a.getHTML("list.deal_warning_content_1",{value:r})}),Object(x.jsx)("div",{className:"tips1 yellow",children:u.a.getHTML("list.deal_warning_content_2",{value:i})}),Object(x.jsx)("div",{className:"tips1",children:u.a.getHTML("list.deal_warning_content_3",{value:r})})]}),Object(x.jsx)("div",{className:"check-box"+(s?" checked":""),children:Object(x.jsx)(m.a,{onChange:function(t){return e.changeCheckStatus(t.target.checked)},children:u.a.get("sunSwap.list.i_understand")})}),Object(x.jsx)("div",{className:"btns",children:Object(x.jsx)("button",{onClick:this.comfirmContinue,className:s?"button-active":"",children:u.a.get("sunSwap.list.continue")})})]})})}}]),a}(l.a.Component))||n)||n;t.a=f},1306:function(e,t,a){"use strict";var n=a(3),s=a(1369),o=a(7),r=function(e){var t=e.title,a=e.content;return Object(o.jsxs)("div",{className:s.warning_tip,children:[t&&Object(o.jsx)("h4",{className:s.warning_tip_title,children:t}),a&&Object(o.jsx)("div",{className:s.warning_tip_content,children:a})]})};r.defaultProps={},t.a=Object(n.memo)(r)},1367:function(e,t,a){},1368:function(e,t,a){},1369:function(e,t,a){e.exports={warning_tip:"style_warning_tip__3dgbE",warning_tip_title:"style_warning_tip_title__3J0wk",warning_tip_content:"style_warning_tip_content__fTsNT"}},1370:function(e,t,a){e.exports={"swap-block":"style_swap-block__3xRpJ","sunswap-chose-token":"style_sunswap-chose-token__1LIsY","select-token-top":"style_select-token-top__1xNRr",dragDown:"style_dragDown__17tRO","token-detail":"style_token-detail__Bez9o","input-block":"style_input-block__1Jmxi","input-number":"style_input-number__1lhaz","swap-balance":"style_swap-balance__m1Zwe","max-btn":"style_max-btn__1yKnZ","media-trade-router-pc":"style_media-trade-router-pc__3z-07","media-trade-router-mobile":"style_media-trade-router-mobile__1kjoQ",root:"style_root__3pGMk",flex:"style_flex__2Qw9R",pool_info_title:"style_pool_info_title__1py-K",pool_logo:"style_pool_logo__28EZc"}},1371:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAANCAMAAAB4p3UoAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEJQTFRFAAAASFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlDTbkywAAABZ0Uk5TAIDuQFf/9AFYP9cvsf78ImriLWQuePVMmBkAAABCSURBVHicY2DADRiZmNFEWFhZMYXYcAmxIwAHKysnAwMXKyrgZuABkrwQABLg40cxSIBVUIhEAWFWVhFU14hyQQQA99wCt/58bxkAAAAASUVORK5CYII="},1372:function(e,t,a){"use strict";var n=a(3),s=a(1931),o=a(1933),r=a(345),i=a(1373),c=a(1153),l=a(7),d=function(e){var t=e.title,a=e.tip,n=e.value;return Object(l.jsxs)(s.a,{className:i.list_header,align:"middle",justify:"space-between",children:[Object(l.jsxs)(o.a,{span:12,children:[Object(l.jsx)("span",{children:t}),a&&Object(l.jsx)(r.a,{title:a,overlayClassName:"tooltip",color:"rgba(27,31,38,0.90)",children:Object(l.jsx)(c.a,{className:i.list_header_icon})})]}),Object(l.jsx)(o.a,{span:12,style:{textAlign:"right"},children:n&&Object(l.jsx)("div",{children:n})})]})};d.defaultProps={},t.a=Object(n.memo)(d)},1373:function(e,t,a){e.exports={list_header:"style_list_header__3pl6p",list_header_icon:"style_list_header_icon__2amZ7"}},1374:function(e,t,a){e.exports={"page-head":"pool_page-head__3PMYt",link:"pool_link__17GqF","gradient-title":"pool_gradient-title__2-sgq",animateTitle:"pool_animateTitle__aNJp5","dim-content":"pool_dim-content__3yQA5",uppercase:"pool_uppercase__1uPY9","window-for-tabs-pane":"pool_window-for-tabs-pane__2bVrW","dark-btn":"pool_dark-btn__3U_Eu","purple-btn":"pool_purple-btn__1C5ek","cur-input":"pool_cur-input__1dDZC","max-btn":"pool_max-btn__3LEa6",pool_list:"pool_pool_list__2ardF",pool_list_logo:"pool_pool_list_logo__fy9pI",pool_list_logo_right:"pool_pool_list_logo_right__3OXOL",pool_list_btns_add:"pool_pool_list_btns_add__1h9sM",pool_list_btns_remove:"pool_pool_list_btns_remove__1TllO"}},1375:function(e,t,a){"use strict";var n=a(4),s=a(3),o=a(24),r=a.n(o),i=a(1140),c=a(1376),l=a(1108),d=a(7),p=function(e){var t,a=e.token0,s=e.token1,o=e.pool_share,p=e.pool_tokens,u=e.onAdd,b=e.onRemove,m=e.onMigrate,j=e.showMigrate,k=e.disableRemove,x=e.originItem,f=e.toScan;return Object(d.jsxs)("div",{className:c.liquidity_item_wrap,children:[Object(d.jsxs)("div",{className:c.liquidity_item_header,children:[Object(d.jsx)(i.a,{url:null===a||void 0===a?void 0:a.tokenLogo,className:c.liquidity_item_token_icon}),Object(d.jsx)(i.a,{url:null===s||void 0===s?void 0:s.tokenLogo,className:c.liquidity_item_token_icon,style:{marginLeft:-6}}),Object(d.jsx)(l.a,{className:c.liquidity_item_name,href:f,children:"".concat(null===a||void 0===a?void 0:a.tokenSymbol,"/").concat(null===s||void 0===s?void 0:s.tokenSymbol)}),j&&Object(d.jsx)("div",{className:c.liquidity_item_migrate_btn,onClick:function(){return m&&m(x)},children:"Migrate to V2"})]}),Object(d.jsxs)("div",{className:c.liquidity_item_content,children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:c.liquidity_item_info,children:[Object(d.jsx)("div",{className:c.liquidity_item_info_info_label,children:"Pool Share:"}),Object(d.jsx)("div",{className:c.liquidity_item_info_info_value,children:o})]}),Object(d.jsxs)("div",{className:c.liquidity_item_info,children:[Object(d.jsx)("div",{className:c.liquidity_item_info_info_label,children:"Pool Tokens:"}),Object(d.jsx)("div",{className:c.liquidity_item_info_info_value,children:p})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:c.liquidity_item_info,children:[Object(d.jsx)(i.a,{url:null===a||void 0===a?void 0:a.tokenLogo,className:c.liquidity_item_token_icon,style:{marginRight:8}}),Object(d.jsx)("div",{className:c.liquidity_item_info_info_label,children:Object(d.jsx)("span",{children:null===a||void 0===a?void 0:a.tokenSymbol})}),Object(d.jsx)("div",{className:c.liquidity_item_info_info_value,children:null===a||void 0===a?void 0:a.amount})]}),Object(d.jsxs)("div",{className:c.liquidity_item_info,children:[Object(d.jsx)(i.a,{url:null===s||void 0===s?void 0:s.tokenLogo,className:c.liquidity_item_token_icon,style:{marginRight:8}}),Object(d.jsx)("div",{className:c.liquidity_item_info_info_label,children:Object(d.jsx)("span",{children:null===s||void 0===s?void 0:s.tokenSymbol})}),Object(d.jsx)("div",{className:c.liquidity_item_info_info_value,children:null===s||void 0===s?void 0:s.amount})]})]})]}),Object(d.jsxs)("div",{className:c.liquidity_item_footer,children:[Object(d.jsx)("div",{className:c.liquidity_item_footer_btn,onClick:function(){return u&&u(x)},children:"Add"}),Object(d.jsx)("div",{className:r()((t={},Object(n.a)(t,c.liquidity_item_footer_btn,!0),Object(n.a)(t,c.liquidity_item_footer_btn_disable,k),t)),onClick:function(){return b&&!k&&b(x)},children:"Remove"})]})]})};p.defaultProps={},t.a=Object(s.memo)(p)},1376:function(e,t,a){e.exports={liquidity_item_wrap:"style_liquidity_item_wrap__XXhD-",liquidity_item_header:"style_liquidity_item_header__1R8kN",liquidity_item_name:"style_liquidity_item_name__1puyp",liquidity_item_content:"style_liquidity_item_content__2d0V5",liquidity_item_info:"style_liquidity_item_info__2ncHM",liquidity_item_info_info_label:"style_liquidity_item_info_info_label__1ljmD",liquidity_item_info_info_value:"style_liquidity_item_info_info_value__2zdic",liquidity_item_footer:"style_liquidity_item_footer__2XP79",liquidity_item_footer_btn:"style_liquidity_item_footer_btn__1ADm2",liquidity_item_footer_btn_disable:"style_liquidity_item_footer_btn_disable__Ei6Nu",liquidity_item_migrate_btn:"style_liquidity_item_migrate_btn__2FlCN",liquidity_item_token_icon:"style_liquidity_item_token_icon__DqzHd"}},1377:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return r}));var n,s=a(4),o="v1.0",r="v2.0";n={},Object(s.a)(n,o,"V 1"),Object(s.a)(n,"v1.5","V 1.5"),Object(s.a)(n,r,"V 2")},1864:function(e,t,a){},1962:function(e,t,a){"use strict";a.r(t);var n,s,o,r,i,c,l,d=a(0),p=a(2),u=a(8),b=a(9),m=a(16),j=a(17),k=a(3),x=a.n(k),f=a(15),h=a.n(f),v=a(199),w=a(21),O=a.n(w),g=a(4),S=a(5),_=a(101),A=a(1931),y=a(1933),T=a(1042),N=a(24),V=a.n(N),D=a(19),B=a(1233),C=a(41),P=a.n(C),L=a(1497),F=a(1914),I=a(1498),R=a(345),q=a(1502),E=a(88),M=a(1921),U=a(14),X=a(343),H=a(350),W=a(130),Z=a(1305),J=a(1255),z=a(1257),Y=a(1278),Q=a(1040),K=a(1919),G=a(172),$=a(1176),ee=(a(1163),a(1175),a(7)),te="REMOVE",ae=Object(v.b)("sunSwapPool","sunswapHotTokens")(n=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(e){var n,s,o,r,i,c,l,b,m;return Object(u.a)(this,a),(m=t.call(this,e)).componentDidMount=function(){var e=window.localStorage.getItem("solor");if(e){var t=JSON.parse(e);window.localStorage.setItem("solor",JSON.stringify(t)),m.props.sunSwapPool.setData({solor:t})}m.props.sunswapHotTokens.getHotCoinList()},m.setInitToken=function(){m.setState({tokenSort:!1},(function(){var e=m.state.tokenStr;m.onTokenStrChange({target:{value:e}})}))},m.setTokenList=Object(p.a)(Object(d.a)().mark((function e(){var t,a,n,s,o,r,i,c,l,p,u,b,j,k,x,f,h,v,w,O,g,S,_=arguments;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=_.length>0&&void 0!==_[0]?_[0]:null,e.prev=1,a=m.props.sunSwapPool,n=a.byUrl,s=void 0===n?{}:n,o=a.selectedListUrl,r=void 0===o?"":o,i=a.solor,c=void 0===i?[]:i,l=window.localStorage.getItem("swapVersion"),p=s[r].tokens||[],P.a.uniqBy(p,"address").length!=p.length&&(p=[]),void 0!==(u=s[r].isToken)){e.next=15;break}return e.next=11,W.a.isToken(p.map((function(e){return e.address})));case 11:return u=e.sent,s[r].isToken=Number(u),e.next=15,m.props.sunSwapPool.updateByUrl(s[r]);case 15:2===Number(u)&&(p=[]),b={tokenAddress:D.a.trxFakeAddress,address:"",addressV1:"",addressV2:"",tokenSymbol:"TRX",tokenLogoUrl:H.a,tokenName:"TRX",tokenDecimal:D.a.trxDecimal,balance:"-"},j=m.props.sunSwapPool,k=j.exchanges,x=void 0===k?{}:k,f=j.allExchanges,h=void 0===f?{}:f,v=[],m.props.swap?p.map((function(e){e.address&&x[e.address]&&x[e.address].e&&v.push({tokenAddress:e.address,address:x[e.address]?x[e.address].e:null,addressV1:h&&h[0]&&h[0][e.address]?h[0][e.address].e:null,addressV2:h&&h[1]&&h[1][e.address]?h[1][e.address].e:null,tokenSymbol:e.symbol||"",tokenLogoUrl:e.logoURI||X.a,tokenName:e.name||"",tokenDecimal:Number(x[e.address].d),balance:"-"})})):p.map((function(e){e.address&&v.push({tokenAddress:e.address,address:"",addressV1:"",addressV2:"",tokenSymbol:e.symbol||"",tokenLogoUrl:e.logoURI||X.a,tokenName:e.name||"",tokenDecimal:x[e.address]&&x[e.address].d?Number(x[e.address].d):e.decimals,balance:"-"})})),c.map((function(e){e.addressV1=h&&h[0]&&h[0][e.tokenAddress]?h[0][e.tokenAddress].e:null,e.addressV2=h&&h[1]&&h[1][e.tokenAddress]?h[1][e.tokenAddress].e:null,e.address="v1.0"===l?h&&h[0]&&h[0][e.tokenAddress]?h[0][e.tokenAddress].e:null:h&&h[1]&&h[1][e.tokenAddress]?h[1][e.tokenAddress].e:null})),w=c.slice(),c.map((function(e){P.a.findIndex(v,(function(t){return t.tokenAddress===e.tokenAddress}))>=0&&P.a.remove(w,(function(t){return t.tokenAddress===e.tokenAddress}))})),v=[b].concat(w,v),O=[],g=[],S={},v.map((function(e){O.push(e),g.push(e),S[e.tokenAddress]=e})),m.state.tokenMap=S,m.setState({allTokenList:O,tokenList:g},(function(){m.getTokenBalance(),t&&t()})),e.next=35;break;case 32:e.prev=32,e.t0=e.catch(1),console.log(e.t0);case 35:case"end":return e.stop()}}),e,null,[[1,32]])}))),m.getTokenBalance=Object(p.a)(Object(d.a)().mark((function e(){var t,a,n,s,o;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.defaultAccount,a=m.state,n=a.tokenList,s=a.tokenMap,o=[],n.map((function(e){o.push(e.tokenAddress)})),!t){e.next=8;break}return e.next=7,Object(E.k)(t,o,s);case 7:m.setState({});case 8:case"end":return e.stop()}}),e)}))),m.showModal=Object(p.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.props.disabled){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,m.props.sunSwapPool.getTokensDataFromLocal(),e.next=6,m.setTokenList((function(){var e=m.state.tokenStr;m.onTokenStrChange({target:{value:e}},(function(){m.setState({modalVisible:!0,defaultStatus:1})}))}));case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("tokenModal err",e.t0),m.setState({modalVisible:!0}),m.getTokenBalance();case 13:case"end":return e.stop()}}),e,null,[[2,8]])}))),m.calcItem=function(e){return(n=n||Object(p.a)(Object(d.a)().mark((function e(t){var a,n,s,o,r,i,c,l,p;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=window.localStorage.getItem("swapVersion"),n=m.props.sunSwapPool.allExchanges,s=void 0===n?{}:n,o=D.a.contract.factory,r=D.a.sunContract.factory,i=null,c=null;try{i=s[0][t.tokenAddress]&&s[0][t.tokenAddress].e||null}catch(d){i=null}try{c=s[1][t.tokenAddress]&&s[1][t.tokenAddress].e||null}catch(d){c=null}if(i){e.next=24;break}return e.next=11,Object(E.l)(t.tokenAddress,o);case 11:if(!(l=e.sent)){e.next=23;break}if(t.addressV1=l,t.notCreatedV1=!1,"v1.0"!==a){e.next=21;break}return t.address=l,e.next=19,m.removeSolor(t);case 19:return e.next=21,m.addSolor(t);case 21:e.next=24;break;case 23:t.tokenAddress!==D.a.trxFakeAddress&&(t.notCreatedV1=!0);case 24:if(!t.addressV1||2!==t.cst){e.next=29;break}return e.next=27,Object(E.v)(t.addressV1);case 27:e.sent.gt(0)||t.tokenAddress===D.a.trxFakeAddress?t.notCreatedV1=!1:t.notCreatedV1=!0;case 29:if(c){e.next=45;break}return e.next=32,Object(E.l)(t.tokenAddress,r);case 32:if(!(p=e.sent)){e.next=44;break}if(t.addressV2=p,t.notCreatedV2=!1,"v1.5"!==a){e.next=42;break}return t.address=p,e.next=40,m.removeSolor(t);case 40:return e.next=42,m.addSolor(t);case 42:e.next=45;break;case 44:t.tokenAddress!==D.a.trxFakeAddress&&(t.notCreatedV2=!0);case 45:if(!t.addressV2||2!==t.cst){e.next=50;break}return e.next=48,Object(E.v)(t.addressV2);case 48:e.sent.gt(0)||t.tokenAddress===D.a.trxFakeAddress?t.notCreatedV2=!1:t.notCreatedV2=!0;case 50:return e.abrupt("return",t);case 51:case"end":return e.stop()}}),e)})))).apply(this,arguments)},m.setTokenAddressCallback=function(){var e=m.state.selectSearchItem;m.setState({dealWarningVisible:!1}),m.props.onChange&&m.props.onChange(m.state.tokenMap[e.tokenAddress])},m.setTokenAddress=function(e,t,a){return(s=s||Object(p.a)(Object(d.a)().mark((function e(t,a,n){var s,o,r,i,c,l,p,u,b,j,k,x,f,h;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=m.props.sunSwapPool,o=s.exchanges,r=void 0===o?{}:o,i=s.allExchanges,c=void 0===i?{}:i,!t||!m.state.tokenMap[t]){e.next=8;break}if("swap"!==n||!Object.keys(D.a.deflationToken).includes(t)){e.next=5;break}return m.setState({dealWarningVisible:!0,callbacks:m.setTokenAddressCallback,selectSearchItem:{tokenAddress:t}}),e.abrupt("return");case 5:m.props.onChange&&m.props.onChange(m.state.tokenMap[t]),e.next=35;break;case 8:if(!Object(U.t)(t)||!a){e.next=22;break}return e.next=11,W.a.tokenBrief(t);case 11:if(!(l=e.sent).success){e.next=20;break}if(!(p=l.data).tokenAddr){e.next=20;break}return u={tokenAddress:t,address:r[p.tokenAddr]&&r[p.tokenAddr].e||null,addressV1:c[0][p.tokenAddr]&&c[0][p.tokenAddr].e||null,addressV2:c[1][p.tokenAddr]&&c[1][p.tokenAddr].e||null,tokenSymbol:p.tokenSymbol,tokenLogoUrl:p.tokenLogo,tokenName:p.tokenName,tokenDecimal:p.tokenDecimal,cst:1,balance:"-"},e.next=18,m.calcItem(u);case 18:b=e.sent,m.setState({tokenBrief:b,solorModalVisible:!0});case 20:e.next=35;break;case 22:if(!Object(U.t)(t)){e.next=35;break}return e.next=25,W.a.tokenBrief(t);case 25:if(!(j=e.sent).success){e.next=35;break}if(!(k=j.data).tokenAddr){e.next=35;break}return x=window.localStorage.getItem("swapVersion"),f={tokenAddress:t,address:k.exchangeAddr,addressV1:"v1.0"===x?k.exchangeAddr:null,addressV2:"v1.5"===x?k.exchangeAddr:null,tokenSymbol:k.tokenSymbol,tokenLogoUrl:k.tokenLogo,tokenName:k.tokenName,tokenDecimal:k.tokenDecimal,cst:1,balance:"-"},e.next=33,m.calcItem(f);case 33:h=e.sent,m.setState({tokenBrief:h,solorModalVisible:!0});case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)},m.onChange=function(e,t){return(o=o||Object(p.a)(Object(d.a)().mark((function e(t,a){var n,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.stopPropagation(),t.tokenAddress!==m.props.value){e.next=3;break}return e.abrupt("return");case 3:if(!m.props.fromPool||t.tokenAddress!==D.a.trxFakeAddress){e.next=5;break}return e.abrupt("return");case 5:if(1!==(n=m.props.type)&&2!==n||!Object.keys(D.a.deflationToken).includes(t.tokenAddress)){e.next=9;break}return m.setState({modalVisible:!1,dealWarningVisible:!0,callbacks:m.selectSearchCallback,selectSearchItem:t}),e.abrupt("return");case 9:return e.next=11,m.calcItem(t);case 11:s=e.sent,m.setState({modalVisible:!1}),m.props.onChange&&m.props.onChange(s);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)},m.selectSearchCallback=Object(p.a)(Object(d.a)().mark((function e(){var t,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.state.selectSearchItem,e.next=3,m.calcItem(t);case 3:a=e.sent,m.setState({dealWarningVisible:!1}),m.props.onChange&&m.props.onChange(a);case 6:case"end":return e.stop()}}),e)}))),m.hideModal=function(){m.setState({modalVisible:!1,customTokenUriLeg:!0,tokenSort:!1})},m.onTokenStrChange=function(e){return(r=r||Object(p.a)(Object(d.a)().mark((function e(t){var a,n,s,o,r,i,c,l,p,u,b,j,k,x,f,h=arguments;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h.length>1&&void 0!==h[1]?h[1]:null,n=m.props.sunSwapPool,s=n.exchanges,o=void 0===s?{}:s,r=n.allExchanges,i=void 0===r?{}:r,e.prev=2,c=t.target.value,l=m.state.allTokenList,p=[],u=m.state.tokenSort,!(c.length>1)){e.next=31;break}if(!Object(U.t)(c)){e.next=27;break}if(p=l.filter((function(e){return e.tokenAddress===c.trim()})),0!==p.length){e.next=25;break}return e.next=13,W.a.tokenBrief(c);case 13:if(!(b=e.sent).success){e.next=25;break}if(j=window.defaultAccount,k=b.data,x="-",!j){e.next=22;break}return e.next=21,Object(E.A)(j,[c],m.state.tokenMap);case 21:x=e.sent;case 22:f={tokenAddress:c,address:o[k.tokenAddr]&&o[k.tokenAddr].e||null,addressV1:i[0][k.tokenAddr]&&i[0][k.tokenAddr].e||null,addressV2:i[1][k.tokenAddr]&&i[1][k.tokenAddr].e||null,tokenSymbol:k.tokenSymbol,tokenLogoUrl:k.tokenLogo,tokenName:k.tokenName,tokenDecimal:k.tokenDecimal,cst:1,balance:"-"==x?"-":Object(U.k)(x,2)},p.push(f),l.push(f);case 25:e.next=29;break;case 27:p=l.filter((function(e){return e.tokenSymbol.toLowerCase().indexOf(c.toLowerCase())>-1&&1!==Number(e.cst)})),u&&(p=p.sort((function(e,t){var a=e.tokenSymbol.toLowerCase(),n=t.tokenSymbol.toLowerCase();return a<n?-1:a>n?1:0})));case 29:e.next=33;break;case 31:p=l.slice().filter((function(e){return 1!==Number(e.cst)})),u&&(p=p.sort((function(e,t){var a=e.tokenSymbol.toLowerCase(),n=t.tokenSymbol.toLowerCase();return a<n?-1:a>n?1:0})));case 33:m.setState({tokenStr:c,tokenList:p},(function(){a&&a(),m.getTokenBalance()})),e.next=39;break;case 36:e.prev=36,e.t0=e.catch(2),console.log("onTokenStrChange: ",e.t0);case 39:case"end":return e.stop()}}),e,null,[[2,36]])})))).apply(this,arguments)},m.clearStorage=function(){var e=D.a.localStorage;for(var t in e)window.localStorage.removeItem(e[t]);window.location.reload()},m.showListModal=function(){m.setState({defaultStatus:2})},m.hideListModal=function(){m.setState({defaultStatus:1})},m.selectTokenList=function(e){return(i=i||Object(p.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m.props.sunSwapPool.selectedListUrl,m.props.sunSwapPool.setData({selectedListUrl:t}),m.props.sunSwapPool.setTokensDataIntoLocal(),e.next=6,m.setTokenList((function(){m.setState({defaultStatus:1});var e=m.state.tokenStr;m.onTokenStrChange({target:{value:e}})}));case 6:m.props.sunSwapPool.handleNotifiction(),m.props.sunSwapPool.setTokensDataIntoLocal(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)},m.backTokensCategory=function(){m.setState({changeStatus:1})},m.onTokenUriChange=function(e){try{var t=e.target.value;m.setState({customTokenUri:t.trim(),errInfo:""})}catch(a){console.log(a)}},m.checkUrl=function(e){return e||(h.a.get("sunSwap.list.err1"),Object(B.a)("errInfo")),""},m.isListsOver=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).length>=D.a.maxLists},m.addCustomTokens=Object(p.a)(Object(d.a)().mark((function e(){var t,a,n,s,o,r,i,c,l,p,u;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=m.state.customTokenUri,a="",Object(U.u)(t)){e.next=7;break}return a=h.a.get("sunSwap.list.add_failed_tip"),m.setState({errInfo:a}),e.abrupt("return");case 7:if(n=m.props.sunSwapPool.byUrl,!(s=void 0===n?{}:n)[t]||s[t].rs){e.next=12;break}return a=h.a.get("sunSwap.list.exists"),m.setState({errInfo:a}),e.abrupt("return");case 12:if(!m.isListsOver(s)){e.next=16;break}return a=h.a.getHTML("list.lists_over",{value:D.a.maxLists}),m.setState({errInfo:a}),e.abrupt("return");case 16:return e.next=18,W.a.getTokenListJson(t);case 18:if(o=e.sent,r=o.tokens,!((void 0===r?[]:r).length>D.a.maxTokens)){e.next=24;break}return a=h.a.getHTML("list.tokens_over",{value:D.a.maxTokens}),m.setState({errInfo:a}),e.abrupt("return");case 24:if(i=Object(U.I)(o),c=i.key,l=void 0===c?"":c,p=i.valid,void 0!==p&&p){e.next=29;break}return a=h.a.get("sunSwap.list.add_err_tip",{value:l}),m.setState({errInfo:a}),e.abrupt("return");case 29:return m.props.sunSwapPool.updateTokensData(t,Object(S.a)(Object(S.a)({},o),{},{uri:t,rs:0})),e.next=32,m.setTokenList((function(){m.setState({defaultStatus:1,customTokenUri:""});var e=m.state.tokenStr;m.onTokenStrChange({target:{value:e}})}));case 32:e.next=39;break;case 34:e.prev=34,e.t0=e.catch(0),u=h.a.get("sunSwap.list.add_failed_retry"),m.setState({errInfo:u}),console.log(e.t0);case 39:case"end":return e.stop()}}),e,null,[[0,34]])}))),m.updateList=function(e){return(c=c||Object(p.a)(Object(d.a)().mark((function e(t){var a,n,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.uri,n=m.props.sunSwapPool.byUrlNew,s=(void 0===n?{}:n)[a],Object(U.g)(s,Object(p.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.props.sunSwapPool.updateByUrl(s);case 2:m.setState({});case 3:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},m.hideRemoveModal=function(){m.setState({removeId:"",removeModalVisible:!1,removeText:""})},m.showRemoveModal=function(e){try{m.setState({removeId:e.uri,removeModalVisible:!0})}catch(t){console.log(t)}},m.removeTokens=function(){try{var e=m.state,t=e.removeId,a=e.removeText;if(!t)return;if(a.trim()!=te)return;var n=m.props.sunSwapPool.byUrl,s=(void 0===n?{}:n)[t],o=s.cst,r=void 0!==o&&o,i=s.uri,c=void 0===i?"":i;r?m.props.sunSwapPool.deleteByUrlById(c):(s.rs=1,m.props.sunSwapPool.updateByUrl(s)),m.hideRemoveModal()}catch(l){console.log(l)}},m.inputRemoveText=function(e){var t=e.target.value;m.setState({removeText:t})},m.addSolor=function(e){return(l=l||Object(p.a)(Object(d.a)().mark((function e(t){var a,n;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=m.props.sunSwapPool.solor,n=void 0===a?[]:a,!(P.a.findIndex(n,(function(e){return e.tokenAddress===t.tokenAddress}))>=0)){e.next=5;break}return e.abrupt("return");case 5:return n.unshift(Object(S.a)(Object(S.a)({},t),{},{cst:2})),m.props.sunSwapPool.setData({solor:n}),e.next=9,m.setTokenList((function(){var e=m.state.tokenStr;m.onTokenStrChange({target:{value:e}},(function(){m.getTokenBalance()}))}));case 9:window.localStorage.setItem("solor",JSON.stringify(n)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)},m.removeSolor=function(e){return(b=b||Object(p.a)(Object(d.a)().mark((function e(t){var a,n,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.tokenAddress!==m.props.value&&t.tokenAddress!==m.props.switchValue){e.next=3;break}return e.abrupt("return");case 3:return a=m.props.sunSwapPool.solor,n=void 0===a?[]:a,s=t.tokenAddress,P.a.remove(n,(function(e){return e.tokenAddress===s})),m.props.sunSwapPool.setData({solor:n}),e.next=9,m.setTokenList((function(){var e=m.state.tokenStr;m.onTokenStrChange({target:{value:e}},(function(){m.getTokenBalance()}))}));case 9:window.localStorage.setItem("solor",JSON.stringify(n)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)},m.getKeys=function(e){try{return Object.keys(e).sort((function(t,a){return e[t].name>e[a].name?1:-1}))}catch(t){return[]}},m.tokenSortByAsCII=function(e){try{var t=m.state.tokenList;if(e=!e){var a=t.sort((function(e,t){var a=e.tokenSymbol.toLowerCase(),n=t.tokenSymbol.toLowerCase();return a<n?-1:a>n?1:0}));m.setState({tokenList:a})}else m.setTokenList((function(){var e=m.state.tokenStr;m.onTokenStrChange({target:{value:e}},(function(){m.getTokenBalance()}))}));m.setState({tokenSort:e})}catch(n){console.log(n)}},m.comfirmContinue=Object(p.a)(Object(d.a)().mark((function e(){var t,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=m.state,a=t.tokenBrief,t.checkStatus){e.next=4;break}return e.abrupt("return");case 4:if(!Object.keys(D.a.deflationToken).includes(a.tokenAddress)){e.next=7;break}return m.setState({solorModalVisible:!1,dealWarningVisible:!0,callbacks:m.dealWarningCallback}),e.abrupt("return");case 7:return e.next=9,m.addSolor(a);case 9:m.setState({solorModalVisible:!1}),m.props.onChange&&m.props.onChange(a),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),m.setState({dealWarningVisible:!1,solorModalVisible:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),m.dealWarningCallback=Object(p.a)(Object(d.a)().mark((function e(){var t;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m.setState({dealWarningVisible:!1}),t=m.state.tokenBrief,e.next=5,m.addSolor(t);case 5:m.setState({solorModalVisible:!1}),m.props.onChange&&m.props.onChange(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),m.setState({dealWarningVisible:!1,solorModalVisible:!1});case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),m.changeCheckStatus=function(e){m.setState({checkStatus:e.target.checked})},m.renderHotCoin=function(){var e=m.props.sunswapHotTokens,t=e.hotTokenList,a=void 0===t?[]:t,n=e.hotTokenMaps;return e.isLoading?Object(ee.jsxs)("div",{className:"n-hot-coin",children:[Object(ee.jsx)("div",{className:"n-hot-title",children:h.a.get("account_center.popular")}),Object(ee.jsx)("div",{className:"loading-hot-list",children:new Array(4).fill(1).map((function(){return Object(ee.jsx)("div",{className:"loading-hot-item"})}))})]}):a.length?Object(ee.jsxs)("div",{className:"n-hot-coin",children:[Object(ee.jsx)("div",{className:"n-hot-title",children:h.a.get("account_center.popular")}),Object(ee.jsx)("div",{className:"n-hot-list",children:a.map((function(e){var t=n[e];return Object(ee.jsxs)("div",{className:V()({"n-hot-item":!0,"n-hot-item-selected":t.tokenAddress===m.props.value||t.tokenAddress===m.props.switchValue}),onClick:function(e){return m.onChange(t,e)},children:[Object(ee.jsx)("img",{className:"n-hot-icon",src:t.tokenLogoUrl,onError:function(e){e.target.onerror=null,e.target.src=G.a}}),t.tokenSymbol]})}))})]}):null},m.renderSelectedList=function(e,t,a,n,s){var o=m.state,r=o.tokenSort,i=o.tokenMap,c=m.props.isMobileStatus;return e&&t&&e[t]?Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(z.a,{placeholder:h.a.get("sunSwap.tokens.select_placeholder_text"),onSearch:m.onTokenStrChange,onChange:m.onTokenStrChange,value:a,enterButton:h.a.get("tokens.search"),showSuffix:!c}),m.renderHotCoin(),Object(ee.jsxs)("div",{className:"n-list-title",children:[Object(ee.jsx)("span",{className:"n-list-title-text",children:h.a.get("sunSwap.tokens.select_tokenName_title")}),Object(ee.jsx)("span",{className:V()({"icon-sort":!0,"icon-sort-active":r}),onClick:function(){return m.tokenSortByAsCII(r)}})]}),Object(ee.jsx)("div",{className:"n-list sun-scroll-bar",children:0===s.length?Object(ee.jsx)("div",{className:"n-list-empty",children:h.a.get("sunSwap.tokens.loading_tokens")}):n.length?n.map((function(e,t){return Object(ee.jsxs)("div",{className:V()({"n-list-item":!0,"n-list-item-selected":e.tokenAddress===m.props.value||e.tokenAddress===m.props.switchValue}),onClick:function(t){return m.onChange(e,t)},children:[Object(ee.jsx)(Y.a,{className:"n-token-icon",src:e.tokenLogoUrl}),Object(ee.jsxs)("div",{className:"n-item-content",children:[Object(ee.jsxs)("div",{className:"n-item-content",children:[Object(ee.jsxs)("span",{className:"item-content",children:[e.tokenSymbol,m.props.fromPool?"":m.props.asInput?e.tokenAddress===m.props.value&&" (".concat(h.a.get("sunSwap.tokens.selected_as_input"),")")||e.tokenAddress===m.props.switchValue&&" (".concat(h.a.get("sunSwap.tokens.selected_as_output"),")"):e.tokenAddress===m.props.value&&" (".concat(h.a.get("sunSwap.tokens.selected_as_output"),")")||e.tokenAddress===m.props.switchValue&&" (".concat(h.a.get("sunSwap.tokens.selected_as_input"),")")]}),1===e.cst&&Object(ee.jsxs)("div",{className:"item-content solor-detail",children:[Object(ee.jsx)("span",{children:h.a.get("sunSwap.list.search_by_addr")}),Object(ee.jsxs)("span",{className:"ib",onClick:function(t){t.stopPropagation(),m.addSolor(e)},children:["(",h.a.get("sunSwap.list.add"),")"]})]}),2===e.cst&&Object(ee.jsxs)("div",{className:"item-content solor-detail",children:[Object(ee.jsx)("span",{children:h.a.get("sunSwap.list.add_by_user")}),Object(ee.jsxs)("span",{className:"solor-remove ib",onClick:function(t){t.stopPropagation(),m.removeSolor(e)},children:["(",h.a.get("sunSwap.list.remove_token"),")"]})]})]}),Object(ee.jsx)("div",{className:"n-item-address",children:e.tokenAddress===D.a.trxFakeAddress?null:Object(_.a)(window.navigator).any?Object(U.j)(e.tokenAddress,4,4):Object(U.j)(e.tokenAddress,8,10)})]}),Object(ee.jsx)("div",{className:"n-item-balance",children:e.tokenAddress===D.a.trxFakeAddress?Object(ee.jsx)("div",{children:Object(ee.jsx)("p",{children:Object(U.l)(i[e.tokenAddress]?i[e.tokenAddress].balance:e.balance)})}):Object(ee.jsx)("div",{className:"inline-flex balanceAndAddr",children:Object(ee.jsx)("p",{children:i[e.tokenAddress]&&!isNaN(i[e.tokenAddress].balance)?Object(U.l)(i[e.tokenAddress].balance):"--"})})})]},e.tokenAddress+t)})):Object(ee.jsx)("div",{className:"no-token-fund",children:h.a.getHTML("list.no_token_found")})}),Object(ee.jsx)("div",{className:"n-list-switch-wrap",children:Object(ee.jsxs)("div",{className:"n-list-switch",children:[Object(ee.jsxs)("div",{className:"n-list-switch-name",children:[Object(ee.jsx)("img",{className:"n-list-switch-icon",src:e[t].logoURI,alt:"",onError:function(e){e.target.onerror=null,e.target.src=G.a}}),Object(ee.jsx)("span",{children:e[t].name||""})]}),Object(ee.jsx)("button",{className:"n-list-switch-btn",onClick:function(){return m.showListModal()},children:h.a.get("sunSwap.list.switch")})]})})]}):Object(ee.jsx)(ee.Fragment,{})},m.renderUpdateListItem=function(e){var t=m.props.sunSwapPool.byUrlNew,a=void 0===t?{}:t,n=e.version,s=void 0===n?{}:n,o=a[e.uri]||{},r=o.version||{},i=Object(U.f)(s,r),c=Object(U.e)(e,o).success,l=void 0!==c&&c;return!P.a.isEqual(o,{})&&i&&l&&Object(ee.jsx)(L.a.Item,{onClick:function(){m.updateList(e)},children:h.a.get("sunSwap.list.update")})},m.adjustAndroid=function(e){var t=Object(U.d)(e);m.setState({adjust:t})},m.renderTokensCategory=function(){var e=m.state,t=e.customTokenUri,a=e.lang,n=e.errInfo,s=m.props.sunSwapPool,o=s.byUrl,r=s.selectedListUrl,i=m.getKeys(o);return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{className:"home-select-url-input-wrap",children:[Object(ee.jsx)(F.a,{type:"text",className:"home-select-url-input",placeholder:"https://",value:t,onChange:m.onTokenUriChange,onFocus:function(){return m.adjustAndroid(!0)},onBlur:function(){return m.adjustAndroid(!1)}}),Object(ee.jsx)("button",{className:"home-select-url-btn",onClick:m.addCustomTokens,disabled:!t.trim(),children:h.a.get("sunSwap.list.add_list")})]}),!!n&&Object(ee.jsxs)("div",{className:"list-add-errTip",children:[Object(ee.jsx)("span",{className:"icon",children:"!"}),Object(ee.jsx)("span",{className:"text",children:n})]}),Object(ee.jsx)("ul",{className:"n-origin-list",children:o&&i.length&&i.map((function(e){var t=o[e];return!t.rs&&Object(ee.jsxs)("li",{className:"n-origin-list-item",children:[Object(ee.jsxs)("div",{className:"n-origin-list-item-left",children:[Object(ee.jsxs)("div",{className:"n-origin-list-item-img-text",children:[Object(ee.jsx)("img",{src:t.logoURI,alt:"",className:"n-origin-list-item-logo"}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("div",{className:"n-origin-list-item-name",children:t.name}),Object(ee.jsx)("div",{className:"n-origin-list-item-source",children:Object(U.n)(t.uri)})]})]}),Object(ee.jsx)(I.a,{trigger:"click",placement:"bottomRight",overlayClassName:"home-select-url-drop",overlay:Object(ee.jsx)(L.a,{children:Object(ee.jsxs)(L.a.ItemGroup,{title:Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{className:"key",children:h.a.get("sunSwap.list.version")}),Object(ee.jsx)("span",{className:"value",children:Object(U.s)(t.version)})]}),children:[Object(ee.jsxs)(L.a.Item,{children:[" ",Object(ee.jsx)("a",{href:"".concat(D.a.justList,"?lang=").concat(a,"#/detail?uri=").concat(t.uri),target:t.uri||"_blank",children:h.a.get("sunSwap.list.view")})]}),m.renderUpdateListItem(t),t.uri!==r&&Object(ee.jsx)(L.a.Item,{onClick:function(){m.showRemoveModal(t)},children:h.a.get("sunSwap.list.remove")})]})}),children:Object(ee.jsx)("a",{className:"n-origin-list-item-drop",onClick:function(e){return e.preventDefault()}})})]}),Object(ee.jsx)("div",{className:"n-origin-list-item-right",children:Object(ee.jsx)(J.a,{onClick:function(){return m.selectTokenList(e)},disabledCanClick:!0,disabled:String(r)===String(t.uri),children:String(r)===String(t.uri)?h.a.get("sunSwap.list.selected"):h.a.get("sunSwap.list.select")})})]},t.name+"_"+e)}))}),Object(ee.jsxs)("div",{className:"home-select-url-links",children:[Object(ee.jsx)("a",{className:"home-select-url-more",href:"en-US"===a?D.a.moreList.en:D.a.moreList.zh,target:"_blank",children:h.a.get("sunSwap.more.more")}),Object(ee.jsx)("a",{className:"home-select-url-home",href:"".concat(D.a.justList,"?lang=").concat(a,"#/home"),target:"justList",children:h.a.get("sunSwap.list.view_list_home")})]})]})},m.hideSolorModal=function(){m.setState({solorModalVisible:!1})},m.state={lang:window.localStorage.getItem("lang")||h.a.options.currentLocale,modalVisible:!1,tokenStr:"",allTokenList:[],tokenList:[],tokenMap:Object(g.a)({},D.a.trxFakeAddress,{tokenAddress:D.a.trxFakeAddress,address:"",addressV1:"",addressV2:"",tokenSymbol:"TRX",tokenLogoUrl:H.a,tokenName:"TRX",tokenDecimal:D.a.trxDecimal,removeText:""}),defaultStatus:1,removeModalVisible:!1,removeText:"",removeId:"",solor:JSON.parse(window.localStorage.getItem("solor")||"[]"),customTokenUri:"",customTokenUriLeg:!0,errInfo:"",tokenSort:!1,solorModalVisible:!1,tokenBrief:{},checkStatus:!1,dealWarningVisible:!1,selectSearchItem:""},m}return Object(b.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.tokenList,n=(t.tokenMap,t.tokenStr),s=t.allTokenList,o=t.defaultStatus,r=t.removeText,i=t.removeModalVisible,c=(t.adjust,t.solorModalVisible),l=t.tokenBrief,d=t.checkStatus,p=t.dealWarningVisible,u=t.callbacks,b=t.selectSearchItem,m=this.props,j=m.value,k=m.tokenInfo,f=this.props.sunSwapPool,v=f.byUrl,w=f.selectedListUrl;return Object(ee.jsxs)(x.a.Fragment,{children:[Object(ee.jsx)($.a,{visible:this.state.modalVisible,onChange:this.setInitToken}),Object(ee.jsx)("p",{className:"dragDown "+(this.props.disabled?"no-bg":""),onClick:this.showModal,children:j&&k?Object(ee.jsxs)(x.a.Fragment,{children:[Object(ee.jsx)("img",{src:k.tokenLogoUrl||X.a,alt:"",onError:function(e){e.target.onerror=null,e.target.src=X.a}}),Object(ee.jsx)("span",{children:k.tokenSymbol})]}):h.a.get("sunSwap.tokens.add_choose_select")}),this.props.disabled?null:Object(ee.jsx)(T.a,{title:1===o?Object(ee.jsxs)("div",{className:"n-token-modal-title",children:[Object(ee.jsx)("span",{children:h.a.get("sunSwap.tokens.add_choose_select")}),Object(ee.jsx)(R.a,{zIndex:1e4,placement:"bottomLeft",title:h.a.get("tokens.add_choose_select_tip"),children:Object(ee.jsx)(Q.a,{className:"n-token-modal-title-icon",color:"rgba(255, 255, 255, .5)"})})]}):Object(ee.jsx)("div",{className:"n-token-modal-title",children:Object(ee.jsxs)("div",{className:"list-modal-header",children:[Object(ee.jsx)(K.a,{onClick:function(){return e.hideListModal()},style:{marginRight:10}}),Object(ee.jsx)("span",{className:"add-title",children:h.a.get("sunSwap.list.select_list")})]})}),closable:!0,open:this.state.modalVisible,onCancel:this.hideModal,className:V()({"dark-modal":!0,"token-select-modal":!0,"token-select-list-modal":1!==o}),footer:null,width:405,centered:!0,children:1===o?this.renderSelectedList(v,w,n,a,s):this.renderTokensCategory()}),Object(ee.jsxs)(T.a,{title:"",closable:!1,open:i,footer:null,style:{marginLeft:Object(U.v)()},width:420,className:"list-remove-modal sun-swap-modal",transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:[Object(ee.jsx)("div",{className:"title",children:h.a.get("sunSwap.list.remove_confirm")}),Object(ee.jsx)("div",{className:"tips",children:h.a.get("sunSwap.list.remove_confirm_tip")}),Object(ee.jsx)("input",{type:"text",className:"list-input w-80",value:r,onChange:this.inputRemoveText}),Object(ee.jsxs)("div",{className:"btns",children:[Object(ee.jsx)("button",{onClick:this.removeTokens,disabled:r.trim()!==te,children:h.a.get("sunSwap.list.confirm")}),Object(ee.jsx)("button",{onClick:this.hideRemoveModal,children:h.a.get("sunSwap.list.cancel")})]})]}),Object(ee.jsx)(T.a,{title:h.a.get("sunSwap.list.add_token"),closable:!1,open:c,footer:null,style:{marginLeft:Object(U.v)(500)},width:525,className:"list-addtoken-modal sun-swap-modal",centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:Object(ee.jsxs)("div",{className:"solor-modal-body",children:[Object(ee.jsxs)("div",{className:"tips",children:[Object(ee.jsx)("div",{className:"tips1",children:h.a.get("sunSwap.list.add_token_tip1")}),Object(ee.jsx)("div",{className:"tips1",children:h.a.get("sunSwap.list.add_token_tip2")}),Object(ee.jsx)("div",{className:"tips1",children:h.a.get("sunSwap.list.add_token_tip3")})]}),Object(ee.jsxs)("div",{className:"token-info flex",children:[Object(ee.jsx)("div",{className:"logo",children:Object(ee.jsx)("img",{src:l.tokenLogoUrl?l.tokenLogoUrl:X.a})}),Object(ee.jsxs)("div",{className:"info",children:[Object(ee.jsxs)("div",{className:"symbol",children:[l.tokenName,"(",l.tokenSymbol,")"]}),Object(ee.jsxs)("div",{className:"addr",children:[Object(ee.jsx)("span",{children:l.tokenAddress}),Object(ee.jsx)("span",{className:"pointer",title:l.tokenAddress,id:"copySpan",onClick:function(e){Object(U.i)(e,"5px","copySpan")},children:Object(ee.jsx)(M.a,{})})]})]})]}),Object(ee.jsx)("div",{className:"check-box"+(d?" checked":""),children:Object(ee.jsx)(q.a,{onChange:this.changeCheckStatus,children:h.a.get("sunSwap.list.add_token_tip4")})}),Object(ee.jsx)("div",{className:"btns",children:Object(ee.jsx)("button",{onClick:this.comfirmContinue,className:d?"button-active":"",children:h.a.get("sunSwap.list.continue")})})]})}),p&&Object(ee.jsx)(Z.a,{visible:p,cb:u,dealWarningSymbol:l.tokenAddress||b.tokenAddress})]})}}]),a}(x.a.Component))||n,ne=ae,se=a(1059),oe=a(1215),re=a(1170),ie=a(1134),ce=a(1306),le=a(1145),de=a(1146),pe=a(1370),ue=a(339),be=Object(v.b)("sunSwapNetwork")(s=Object(v.b)("sunSwapPool")(s=Object(v.b)("network")(s=Object(v.c)(s=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(e){var n,s,o,r;return Object(u.a)(this,a),(r=t.call(this,e)).componentDidMount=Object(p.a)(Object(d.a)().mark((function e(){var t,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.props.sunSwapPool.setData({addRef:r.toTokenRef}),t=setInterval((function(){r.props.network.isConnected&&(r.timer=setInterval((function(){r.selectedToken(r.props.sunSwapPool.tokenInfo,!0)}),6e3),r.selectedToken(r.props.sunSwapPool.tokenInfo,!1),clearInterval(t))}),1e3),r.getTokenBalance(),a=Object(_.a)(window.navigator).apple.device,r.setState({appleDevice:a}),e.next=8,r.toTokenRef.current.setTokenList();case 8:r.toTokenRef.current.setTokenAddress(r.props.sunSwapPool.tokenInfo.tokenAddress),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])}))),r.componentWillUnmount=function(){clearInterval(r.timer)},r.initInputData=function(){r.setState({tokenOneValueStr:"",tokenTwoValueStr:"",tokenOneValue:new U.a(0),tokenTwoValue:new U.a(0),versionChanged:!0},(function(){r.selectedToken(r.props.sunSwapPool.tokenInfo)}))},r.getTokenBalance=Object(p.a)(Object(d.a)().mark((function e(){var t,a,n,s,o,i,c;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.props.network.isConnected){e.next=15;break}return t=r.props.sunSwapPool.tokenInfo,a=r.props.network.defaultAccount,n=r.state.fromToken,e.next=6,Object(E.i)(a,[n.tokenAddress]);case 6:if(s=e.sent,(o=s[0].div(new U.a(10).pow(n.tokenDecimal))).eq(r.state.fromBalance)||r.setState({fromBalance:o,fromBalanceStr:o._toFixed(6,1)},(function(){r.calcEh()})),!t.tokenAddress){e.next=15;break}return e.next=12,Object(E.i)(a,[t.tokenAddress]);case 12:i=e.sent,c=i[0].div(new U.a(10).pow(t.tokenDecimal)),isNaN(c.toNumber())||c.eq(r.state.toBalance)||r.setState({toBalance:c,toBalanceStr:c._toFixed(6,1)},(function(){r.calcEh()}));case 15:case"end":return e.stop()}}),e)}))),r.setInsufficient=function(e,t,a){e<=t?r.setState({insufficientBalance:""}):r.setState({insufficientBalance:a})},r.calcEh=function(){var e=r.props.sunSwapPool,t=e.tokenInfo,a=e.tokenDetail,n=e.selectTokenOne,s=e.tokenTwoFixed,o=r.state,i=o.fromBalance,c=o.toBalance,l=o.noPoolBalance,d=Object(U.D)(document.querySelector(".token-sec-input-1").value),p=Object(U.D)(document.querySelector(".token-sec-input-2").value);if(d.gt(i)||d.lt(D.a.firstTRXLimit)&&0!==l&&!s?r.setState({insufficientBalance:n.tokenSymbol}):p.gt(c)||isNaN(c.toNumber())?r.setState({insufficientBalance:t.tokenSymbol}):r.setState({insufficientBalance:""}),d.gt(0)&&a.exTrx.gt(0)){var u=a.exTrx;r.setState({calcStatus:!0,shareOfPool:d.div(d.plus(u)).times(100)},(function(){}))}else"--"===a.price1&&d.toNumber()>0&&p.toNumber()>0?r.setState({calcStatus:!0,shareOfPool:new U.a(100)}):r.setState({calcStatus:!1,shareOfPool:new U.a(0)})},r.setInputValue=function(e,t,a){var n;n=t?{num:new U.a(t.num),str:t.str,baseTwo:!1}:{num:new U.a(-1),str:"",baseTwo:!0};var s=r.props.sunSwapPool,o=s.tokenInfo,i=s.tokenDetail,c=r.state,l=c.tokenTwoValue,d=c.tokenOneValue;c.needCreate;if(o.tokenAddress&&""!==o.tokenAddress&&"--"!==i.price1){if(2===e){var p=l;n.num.eq(-1)||(p=n.num);var u=p.times(i.price1)._toFixed(D.a.trxDecimal,1),b=r.state.fromBalance;Object(U.D)(u).gt(b)&&a?r.setMaxFrom("TRX"):r.setState({tokenTwoValue:p,tokenTwoValueStr:Object(U.b)(n.str||l.toString()),tokenOneValue:Object(U.D)(u),tokenOneValueStr:Object(U.b)(u)},(function(){r.calcEh()}))}else if(1===e){var m=d;n.num.eq(-1)||(m=n.num);var j=m.div(i.price1),k="";j.gt(0)&&(k=j._toFixed(Number(o.tokenDecimal),1));var x=n.str||d.toString(),f=r.state.toBalance;Object(U.D)(k).gt(f)&&a?r.setMaxFrom("token"):r.setState({tokenOneValue:m,tokenOneValueStr:Object(U.b)(x),tokenTwoValue:Object(U.D)(k),tokenTwoValueStr:Object(U.b)(k)},(function(){r.calcEh()}))}}else 1===e&&r.setState({tokenOneValue:n.num,tokenOneValueStr:Object(U.b)(n.str)},(function(){r.calcEh()})),2===e&&r.setState({tokenTwoValue:n.num,tokenTwoValueStr:Object(U.b)(n.str)},(function(){r.calcEh()}))},r.initTokenDetail=function(e){r.props.sunSwapPool.setData({tokenDetail:{trx:new U.a(0),value:new U.a(0),tokens:new U.a(0),price1:"--",price2:"--",exTrx:new U.a(0),totalSupply:new U.a(0)}}),"createdNoBalance"!==e&&r.setState({createTxt:h.a.get("sunSwap.pool.create_pair_btn"),createState:"",approveTxt:h.a.get("sunSwap.pool.add_approve_btn"),approveState:"",supplyTxt:h.a.get("sunSwap.pool.add_supply_btn"),supplyState:""})},r.selectedToken=function(e){return(n=n||Object(p.a)(Object(d.a)().mark((function e(t){var a,n,s,o,i,c,l,p,u,b,m,j,k,x,f,h,v,w,O,g,_,A,y,T,N=arguments;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=N.length>1&&void 0!==N[1]&&N[1],t.tokenAddress){e.next=3;break}return e.abrupt("return");case 3:if(n=Object(S.a)({},t),s=r.state,o=s.fromOrTo,i=s.tokenOneValue,c=s.tokenOneValueStr,l=s.tokenTwoValue,p=s.tokenTwoValueStr,a||(o=0,i=new U.a(0),l=new U.a(0),c="",p="",r.setState({tokenOneValueStr:c,tokenTwoValueStr:p,tokenOneValue:i,tokenTwoValue:l,fromOrTo:0,calcStatus:!1}),r.props.sunSwapPool.setData({tokenInfo:Object(S.a)(Object(S.a)({},n),{},{address:""})})),1!==o||r.state.versionChanged){e.next=11;break}if(i.gt(0)){e.next=9;break}return e.abrupt("return");case 9:e.next=14;break;case 11:if(2!==o||r.state.versionChanged){e.next=14;break}if(l.gt(0)){e.next=14;break}return e.abrupt("return");case 14:if(r.props.network.isConnected){e.next=16;break}return e.abrupt("return");case 16:return u=r.props.network.defaultAccount,e.next=19,Object(E.m)(u,n.tokenAddress);case 19:b=e.sent,m=b.exchangeAddr,j=b.allowance,k=b.exTokenBalance,x=b.exTrxBalance,f=b.totalLiquidity,h=b.userLiquidity,v=b.userTrxBalance,w=b.userTokenBalance,O=b.success,a||r.props.sunSwapPool.setData({tokenInfo:Object(S.a)(Object(S.a)({},n),{},{address:m})}),O?m?(r.setState({networkError:!1}),a?(g=!0,r.state.approvedAmount.gte(r.state.tokenTwoValue)&&(g=!1),r.setState({poolIsExist:0,needApprove:g})):(r.setState({poolIsExist:0,noPoolBalance:0,needCreate:!1}),r.setState({poolIsExist:0,approvedAmount:j.div(new U.a(10).pow(n.tokenDecimal))})),_="--",A="--",f.gt(0)?(y=x.div(new U.a(10).pow(D.a.trxDecimal)),T=k.div(new U.a(10).pow(n.tokenDecimal)),_=y.div(T),A=T.div(y),a&&r.setInputValue(r.state.fromOrTo),(r.props.sunSwapPool.tokenInfo.address===m||r.state.versionChanged)&&(r.setState({noPoolBalance:0}),r.props.sunSwapPool.setData({tokenDetail:{trx:new U.a(v).div(new U.a(10).pow(D.a.trxDecimal)),value:new U.a(w).div(new U.a(10).pow(n.tokenDecimal)),tokens:new U.a(h).div(new U.a(10).pow(D.a.trxDecimal)),totalSupply:new U.a(f).div(new U.a(10).pow(D.a.trxDecimal)),price1:_,price2:A,exTrx:y,exToken:T}}))):(r.setState({noPoolBalance:1}),a||r.initTokenDetail("createdNoBalance"))):(r.setState({networkError:!1}),r.setState({poolIsExist:1,noPoolBalance:-1,needCreate:!0}),a||r.initTokenDetail()):r.setState({networkError:!0}),r.getTokenBalance();case 32:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r.judgeIssues=function(e,t,a){return(s=s||Object(p.a)(Object(d.a)().mark((function e(t,a,n){var s,o,i,c,l,p,u,b,m,j;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.state.fromOrTo=a,s=r.state.fromBalanceStr,o=r.props.sunSwapPool,i=o.selectTokenOne,c=o.tokenInfo,l={},!t){e.next=15;break}if(p=6,p=1===a?6:c.tokenDecimal,u=Object(U.w)((""+t).replace(/,/g,""),p),b=u.valid,m=u.str,!b){e.next=14;break}t=m,l.num=m,l.str=t,e.next=15;break;case 14:return e.abrupt("return");case 15:j=s,""!==t?""===c.tokenSymbol?(1===a&&(r.setState({tokenTwoValue:new U.a(0),tokenOneValue:new U.a(l.num),tokenOneValueStr:Object(U.b)(t),tokenTwoValueStr:""}),r.setInsufficient(l.num,j,i.tokenSymbol)),2===a&&r.setState({tokenOneValue:new U.a(0),tokenTwoValue:new U.a(l.num),tokenTwoValueStr:Object(U.b)(t),tokenOneValueStr:""})):(1===a&&r.setState({tokenOneValue:new U.a(l.num),tokenOneValueStr:Object(U.b)(t)}),2===a&&r.setState({tokenTwoValue:new U.a(l.num),tokenTwoValueStr:Object(U.b)(t)}),r.setInputValue(a,l,n)):(r.setState({calcStatus:!1,shareOfPool:new U.a(0)}),r.setState({tokenTwoValue:new U.a(0),tokenOneValue:new U.a(0),tokenOneValueStr:"",tokenTwoValueStr:""}));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r.setMaxFrom=function(e){var t=r.state,a=t.fromBalance,n=t.toBalance,s=t.poolIsExist,o=t.noPoolBalance,i=(t.needCreate,r.props.sunSwapPool.tokenInfo),c=a;c.gt(0)&&n.gt(0)||(c=Object(U.a)(0),n=Object(U.a)(0)),"TRX"===e?((1!==s&&1!==o||""===i.tokenAddress)&&r.setState({tokenTwoValue:n,tokenTwoValueStr:Object(U.b)(n.toString())}),r.setState({tokenOneValue:c,tokenOneValueStr:Object(U.b)(c.toString())},(function(){r.calcEh()})),n.gt(0)&&r.judgeIssues(c,1,!0)):"token"===e&&((1!==s&&1!==o||""===i.tokenAddress)&&r.setState({tokenOneValue:c,tokenOneValueStr:Object(U.b)(c.toString())}),r.setState({tokenTwoValue:n,tokenTwoValueStr:Object(U.b)(n.toString())},(function(){r.calcEh()})),n.gt(0)&&r.judgeIssues(n,2,!0))},r.exchangeInfo=function(e){var t=r.state,a=t.poolIsExist,n=t.shareOfPool,s=t.noPoolBalance,o=t.tokenOneValue,i=t.tokenTwoValue,c=r.props.sunSwapPool,l=c.tokenInfo,d=c.tokenDetail,p="--",u="--";"--"!==d.price1&&(p=d.price1._toFixed(4,1)),"--"!==d.price2&&(u=d.price2._toFixed(4,1)),i.gt(0)&&o.gt(0)&&(1===a||1===s)&&(p=o.div(i),u=i.div(o));var b="--",m="--";b="--"===p?p:Object(U.a)(p).lt(1e-4)?"< 0.0001":Object(U.a)(p)._toFixed(4,1),"--"===u||(m=Object(U.a)(u).lt(1e-4)?"< 0.0001":Object(U.a)(u)._toFixed(4,1));var j=n._toFixed(2,1);return isNaN(j)?j="--":n.gt(0)&&n.lt(.01)&&(j="<0.01"),Object(ee.jsxs)(A.a,{className:"exchange-info",gutter:{xs:8,sm:16,md:24},children:[Object(ee.jsxs)(y.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-30",children:[Object(ee.jsx)("div",{className:pe.pool_info_title,children:1===a||1===s?h.a.get("sunSwap.pool.create_initial_title"):h.a.get("sunSwap.pool.add_price_title")}),Object(ee.jsx)(le.a,{items:[{label:h.a.get("sunSwap.pool.add_unit_text",{toToken:l.tokenSymbol?l.tokenSymbol:"--",fromToken:"TRX"}),value:b},{label:h.a.get("sunSwap.pool.add_unit_text",{toToken:"TRX",fromToken:l.tokenSymbol?l.tokenSymbol:"--"}),value:m},{label:h.a.get("sunSwap.pool.add_share_text"),value:j+"%"}]})]}),e&&Object(ee.jsx)(y.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-30",style:{marginTop:64},children:Object(ee.jsx)(ce.a,{title:h.a.get("sunSwap.pool.create_firstProv_bold"),content:h.a.get("sunSwap.pool.create_first_tip1")})}),1===a||1===s?null:Object(ee.jsxs)(y.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-30",children:[Object(ee.jsxs)("div",{className:"flex",children:[Object(ee.jsx)("span",{className:V()("flex-1",pe.pool_info_title),children:h.a.get("sunSwap.pool.base_posi_title")}),Object(ee.jsxs)("p",{className:pe.pool_logo,children:[Object(ee.jsx)("img",{src:H.a,alt:""}),Object(ee.jsx)("img",{src:l.tokenLogoUrl||X.a,onError:function(e){e.target.onerror=null,e.target.src=X.a},alt:""}),Object(ee.jsx)("span",{children:"TRX"}),Object(ee.jsx)("span",{className:"symbol",children:"/"}),Object(ee.jsx)("span",{children:l.tokenSymbol?l.tokenSymbol:"--"})]})]}),Object(ee.jsx)(le.a,{items:[{label:"TRX",value:d.trx.lt(1e-4)&&d.trx.gt(0)?"<0.0001":d.trx._toFixed(4,1)},{label:l.tokenSymbol?l.tokenSymbol:"--",value:d.value.lt(1e-4)&&d.value.gt(0)?"<0.0001":d.value._toFixed(4,1)},{label:h.a.get("sunSwap.pool.add_tokens_text"),value:d.tokens.lt(1e-4)&&d.tokens.gt(0)?"<0.0001":d.tokens._toFixed(4,1)}]})]})]})},r.showSettingModal=function(){r.props.sunSwapNetwork.setData({settingVisible:!0})},r.setLiq=function(e){r.props.sunSwapPool.setData({actionLiqV2:e})},r.retryGetExchange=function(e){return(o=o||Object(p.a)(Object(d.a)().mark((function e(t){var a,n,s=arguments;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=s.length>1&&void 0!==s[1]?s[1]:0)>10)){e.next=3;break}return e.abrupt("return","");case 3:return e.next=5,Object(E.l)(t);case 5:if(!(n=e.sent)){e.next=10;break}return e.abrupt("return",n);case 10:return e.next=12,new Promise((function(e){setTimeout((function(){e()}),1e3)}));case 12:return e.abrupt("return",r.retryGetExchange(t,a+1));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r.createPair=Object(p.a)(Object(d.a)().mark((function e(){var t,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.sunSwapPool.tokenInfo,a={title:"sunSwap.pair_actions.create",obj:{trx:"TRX",tokenSymbol:t.tokenSymbol}},e.next=4,Object(E.h)(t.tokenAddress,a);case 4:e.sent?r.setState({createActionState:"pending",actionInfo:h.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0},(function(){setTimeout(Object(p.a)(Object(d.a)().mark((function e(){var a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.retryGetExchange(t.tokenAddress);case 2:(a=e.sent)?(r.props.sunSwapPool.setData({tokenInfo:Object(S.a)(Object(S.a)({},t),{},{address:a})}),r.setState({createActionState:"success",approveActionState:"start"},(function(){r.setApprove()}))):r.setState({createActionState:"failed",actionRetry:"createPair",actionInfo:h.a.get("sunSwap.action.retryBtn"),actionDisabled:!1});case 4:case"end":return e.stop()}}),e)}))),5e3)})):r.setState({createActionState:"error",actionRetry:"createPair",actionInfo:h.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0});case 6:case"end":return e.stop()}}),e)}))),r.setApprove=Object(p.a)(Object(d.a)().mark((function e(){var t,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.sunSwapPool.tokenInfo,a={title:"pool.add_approve_token",obj:{token:t.tokenSymbol}},e.next=4,Object(E.e)(t.tokenAddress,t.address,a);case 4:e.sent?r.setState({approveActionState:"pending",actionInfo:h.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0},(function(){setTimeout((function(){r.setState({approveActionState:"success",actionState:"info"})}),5e3)})):r.setState({approveActionState:"error",actionRetry:"setApprove",actionInfo:h.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0});case 6:case"end":return e.stop()}}),e)}))),r.beforeSupplyLiquidity=Object(p.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({actionStarted:!0,supplyPopBtn:h.a.get("sunSwap.action.startBtn"),supplyPopBtnDisabled:!0},(function(){r.supplyLiquidity()}));case 1:case"end":return e.stop()}}),e)}))),r.supplyLiquidity=Object(p.a)(Object(d.a)().mark((function e(){var t,a,n,s,o,i,c,l,u,b,m,j,k,x,f,v,w;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state,a=t.tokenOneValue,n=t.tokenTwoValue,s=t.needApprove,o=r.props.sunSwapPool,i=o.tokenInfo,c=o.tokenDetail,l=r.props.sunSwapNetwork.settingSlippage,l=Number(l),m=a.times(1e6),j=n.times(new U.a(10).pow(i.tokenDecimal)),c.exTrx.eq(0)?(u=m,b=j):(u="0x".concat(a.times(c.totalSupply).div(c.exTrx).times(1-l/100).times(new U.a(10).pow(D.a.trxDecimal)).integerValue(U.a.ROUND_DOWN).toString(16)),b="0x".concat(a.times(c.exToken).div(c.exTrx).times(1+l/100).times(new U.a(10).pow(i.tokenDecimal)).integerValue(U.a.ROUND_DOWN).toString(16))),k={title:"sunSwap.pair_actions.add",obj:{trxAmount:Object(U.k)(a.toString(),6),trx:"TRX",tokenAmount:Object(U.k)(n.toString(),c.tokenDecimal),tokenSymbol:i.tokenSymbol}},x=r.state.tokenOneValueStr,f=r.state.tokenTwoValueStr,e.t0=E.b,e.t1=i.address,e.t2=u.toString(),e.t3=b.toString(),e.next=16,Object(E.g)(r.props.sunSwapNetwork.settingDeadline);case 16:return e.t4=e.sent,e.t5=m.toString(),e.t6=k,e.next=21,(0,e.t0)(e.t1,e.t2,e.t3,e.t4,e.t5,e.t6);case 21:e.sent?(v={supplyErrorInfo:"",supplyPopBtn:h.a.get("sunSwap.action.doingBtn"),supplyPopBtnDisabled:!0,actionStarted:!0},s&&(v={actionInfo:h.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,supplyActionState:"pending",actionState:"line",actionStarted:!0}),r.setState(v,(function(){setTimeout(Object(p.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({tokenOneValue:new U.a(0),tokenOneValueStr:"",tokenTwoValue:new U.a(0),tokenTwoValueStr:"",successOneValueStr:x,successTwoValueStr:f,actionRetry:"",actionState:"success",actionStarted:!1});case 1:case"end":return e.stop()}}),e)}))),5e3)}))):(w={supplyErrorInfo:h.a.get("sunSwap.action.supplyActErr"),supplyPopBtn:h.a.get("sunSwap.action.retryBtn"),supplyPopBtnDisabled:!1,actionStarted:!0},s&&(w={actionState:"line",supplyActionState:"error",actionRetry:"supplyLiquidity",actionInfo:h.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0}),r.setState(w));case 23:case"end":return e.stop()}}),e)}))),r.initAddModal=function(){var e=r.props.sunSwapPool.tokenInfo,t=!0;return r.state.approvedAmount.gte(r.state.tokenTwoValue)&&(t=!1),{needApprove:t,supplyPopBtn:h.a.get("sunSwap.pool.popup_supply_btn"),supplyPopBtnDisabled:!1,supplyErrorInfo:"",createActionTitle:h.a.get("sunSwap.action.createAct",{token:e.tokenSymbol}),createActionError:h.a.get("sunSwap.action.createActErr"),createActionFailed:h.a.get("sunSwap.action.createActFailed"),createActionState:"",approveActionTitle:h.a.get("sunSwap.action.approveAct",{token:e.tokenSymbol}),approveActionError:h.a.get("sunSwap.action.approveActErr"),approveActionState:"",supplyActionTitle:h.a.get("sunSwap.action.supplyAct"),supplyActionError:h.a.get("sunSwap.action.supplyActErr"),supplyActionState:"",actionInfo:h.a.get("sunSwap.action.startBtn"),actionDisabled:!0,actionRetry:"",actionState:t?"line":"info",actionStarted:!1,successOneValueStr:"",successTwoValueStr:"",miniPopVisible:!1}},r.showAddModal=function(){r.setState(Object(S.a)(Object(S.a)({},r.initAddModal()),{},{addVisible:!0}),(function(){r.onRetryAction()}))},r.beforeHideAddModal=function(){r.state.actionStarted?r.setState({miniPopVisible:!0}):r.hideAddModal()},r.hideAddModal=function(){r.setState({addVisible:!1},(function(){setTimeout((function(){r.setState(Object(S.a)({},r.initAddModal()))}),1e3)}))},r.miniPopOk=function(){var e=r.state.needApprove;r.setState({miniPopVisible:!1},Object(p.a)(Object(d.a)().mark((function t(){var a,n,s,o,i,c;return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.hideAddModal(),!e){t.next=12;break}return a=r.props.sunSwapPool.tokenInfo,n=r.props.network.defaultAccount,t.next=6,Object(E.m)(n,a.tokenAddress);case 6:s=t.sent,o=s.exchangeAddr,i=s.allowance,c=!0,o&&(c=!1),r.setState({needCreate:c,approvedAmount:i.div(new U.a(10).pow(a.tokenDecimal))});case 12:case"end":return t.stop()}}),t)}))))},r.miniPopCancel=function(){r.setState({miniPopVisible:!1})},r.gotoPool=function(){var e={tokenSymbol:"TRX",tokenAddress:D.a.trxFakeAddress,tokenLogoUrl:D.a.trxLogoUrl},t={trx:new U.a(0),value:new U.a(0),tokens:new U.a(0),price1:"--",price2:"--",exTrx:new U.a(0),exToken:new U.a(0),totalSupply:new U.a(0)};r.props.sunSwapPool.setData({selectTokenOne:e,tokenInfo:{tokenAddress:"",tokenSymbol:""},tokenDetail:t}),r.setState({addVisible:!1}),r.props.onSuccess()},r.onRetryAction=function(){var e=r.state.needCreate,t=r.state.needApprove,a=r.state.actionRetry;switch(!a&&e&&(a="createPair"),!a&&t&&(a="setApprove"),a){case"createPair":r.setState({createActionState:"start",actionInfo:h.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){r.createPair()}));break;case"setApprove":r.setState({approveActionState:"start",actionInfo:h.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){r.setApprove()}));break;case"supplyLiquidity":r.setState({swapActionState:"start",actionInfo:h.a.get("sunSwap.action.startBtn"),actionDisabled:!1},(function(){r.supplyLiquidity()}))}},r.useSafeMax=function(){var e=r.props.sunSwapPool.tokenInfo,t=r.state,a=t.poolIsExist,n=t.fromBalanceStr,s=t.noPoolBalance,o=(1===a||1===s)&&""!==e.tokenAddress?D.a.createFeeAmount:D.a.addFeeAmount,i=Object(U.b)(Object(U.D)(n).minus(o));r.judgeIssues(i,1)},r.addLiquidityDisableChange=function(e){r.setState({disableAdd:e})},r.toTokenRef=x.a.createRef(),r.state={fromToken:{tokenSymbol:"TRX",tokenAddress:D.a.trxFakeAddress,tokenDecimal:D.a.trxDecimal,trxBalance:new U.a(0),tokenBalance:new U.a(0)},calcStatus:!1,insufficientBalance:"",fromBalance:new U.a(-1),fromBalanceStr:"--",toBalance:new U.a(-1),toBalanceStr:"--",poolIsExist:-1,noPoolBalance:-1,shareOfPool:new U.a(0),approvedAmount:new U.a(0),tokenOneValueStr:"",tokenTwoValueStr:"",tokenOneValue:new U.a(0),tokenTwoValue:new U.a(0),tokenMap:Object(g.a)({},D.a.trxFakeAddress,{tokenAddress:D.a.trxFakeAddress,address:"",tokenSymbol:"TRX",tokenLogoUrl:D.a.trxLogoUrl,tokenName:"TRX",tokenDecimal:D.a.trxDecimal}),addVisible:!1,createTxt:h.a.get("sunSwap.pool.create_pair_btn"),createState:"",approveTxt:h.a.get("sunSwap.pool.add_approve_btn"),approveState:"",supplyTxt:h.a.get("sunSwap.pool.add_supply_btn"),supplyState:"",createAddr:"",fromOrTo:0,appleDevice:!1,needCreate:!0,needApprove:!0,supplyPopBtn:"",supplyPopBtnDisabled:!1,supplyErrorInfo:"",createActionTitle:"",createActionError:"",createActionFailed:"",createActionState:"",approveActionTitle:"",approveActionError:"",approveActionState:"",supplyActionTitle:"",supplyActionError:"",supplyActionState:"",actionInfo:"",actionDisabled:!1,actionRetry:"",actionState:"",actionStarted:!1,successOneValueStr:"",successTwoValueStr:"",miniPopVisible:!1,versionChanged:!1,status:!1,disableAdd:!1},r}return Object(b.a)(a,[{key:"componentDidUpdate",value:function(e){e.sunSwapPool.actionLiqV2!=this.props.sunSwapPool.actionLiqV2&&1===Number(this.props.sunSwapPool.actionLiqV2)&&this.props.sunSwapPool.setData({addRef:this.toTokenRef})}},{key:"render",value:function(){var e=this,t=this.state,a=t.calcStatus,n=t.insufficientBalance,s=t.shareOfPool,o=t.poolIsExist,r=t.fromBalanceStr,i=t.toBalanceStr,c=t.tokenOneValue,l=t.tokenTwoValue,d=t.addVisible,p=t.noPoolBalance,u=t.tokenOneValueStr,b=t.tokenTwoValueStr,m=t.successOneValueStr,j=t.successTwoValueStr,k=t.status,x=t.networkError,f=this.props.sunSwapPool,v=f.tokenTwoFixed,w=f.tokenInfo,O=f.selectTokenOne,g=f.tokenDetail,S=this.props.sunSwapNetwork.settingSlippage,_=c._toFixed(4,1),N=l.div(c),V=c.div(l);g.exTrx.gt(0)&&(_=c.times(g.totalSupply).div(g.exTrx)._toFixed(D.a.trxDecimal,1),N=g.price2,V=g.price1);var B=s._toFixed(2,1);isNaN(B)?B="--":s.gt(0)&&s.lt(.01)&&(B="<0.01");var C="";n&&(C=h.a.get("sunSwap.pool.add_insufficient_btn",{value:n}));var P=(1===o||1===p)&&""!==w.tokenAddress,L=P?D.a.createFeeAmount:D.a.addFeeAmount;P?c.lt(D.a.createFeeAmount)&&(C=h.a.get("sunSwap.pool.less_than_btn",{value:D.a.createFeeAmount})):c.lt(D.a.firstTRXLimit)&&0!==p&&(C=h.a.get("sunSwap.pool.less_than_btn",{value:D.a.firstTRXLimit}));var F="";C&&(F=C),a||(F=h.a.get("sunSwap.pool.add_enter_btn"));var I=null;return I=setTimeout((function(){e.setState({status:!0}),clearTimeout(I)}),3e3),Object(ee.jsxs)("section",{className:"swap-and-pool",children:[Object(ee.jsx)(ue.a,{callback:this.addLiquidityDisableChange}),Object(ee.jsxs)(A.a,{gutter:[{xs:8,sm:16,md:24},10],children:[Object(ee.jsxs)(y.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"swap-block",children:[Object(ee.jsxs)("div",{className:"flex select-token-top",children:[Object(ee.jsxs)("div",{className:O.tokenAddress?"flex":"flex sunswap-chose-token",children:[Object(ee.jsx)(ne,{disabled:!0,value:O.tokenAddress,tokenInfo:O,fromPool:!0}),Object(ee.jsx)(ie.a,{token:O})]}),Object(ee.jsxs)("div",{className:"swap-balance",children:[Object(ee.jsxs)("span",{children:[h.a.get("sunSwap.pool.add_balance_text"),": "]}),Object(ee.jsx)("span",{children:Object(U.a)(r).gte(0)?Object(U.l)(r,{dp:6,cutZero:!0}):"--"})]})]}),Object(ee.jsxs)("div",{className:"flex input-block mt-16",children:[Object(ee.jsx)("div",{className:"flex input-number",children:Object(ee.jsx)("input",{type:"type",className:"token-sec-input token-sec-input-1",placeholder:h.a.get("sunSwap.pool.add_placeholder_text"),onChange:function(t){return e.judgeIssues(t.target.value,1)},value:u})}),this.props.network.isConnected?Object(ee.jsx)("span",{className:"max-btn",onClick:function(t){return e.setMaxFrom("TRX",{firstAdd:!0})},children:h.a.get("sunSwap.swap.input_from_max")}):null]})]}),Object(ee.jsxs)(y.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"swap-block",children:[Object(ee.jsxs)("div",{className:"flex select-token-top",children:[Object(ee.jsxs)("div",{className:w.tokenAddress?"flex":"flex sunswap-chose-token",children:[Object(ee.jsx)(ne,{onChange:this.selectedToken,fromPool:!0,appleDevice:this.state.appleDevice,disabled:v,address:this.props.network.defaultAccount,value:w.tokenAddress,tokenInfo:w,ref:this.toTokenRef}),Object(ee.jsx)(ie.a,{token:w})]}),Object(ee.jsxs)("div",{className:"swap-balance",children:[Object(ee.jsxs)("span",{children:[h.a.get("sunSwap.pool.add_balance_text"),": "]}),Object(ee.jsx)("span",{children:Object(U.a)(i).gte(0)&&w.tokenAddress?Object(U.l)(i,{dp:6,cutZero:!0}):"--"})]})]}),Object(ee.jsxs)("div",{className:"flex input-block mt-16",children:[Object(ee.jsx)("div",{className:"flex input-number",children:Object(ee.jsx)("input",{type:"type",className:"token-sec-input token-sec-input-2",placeholder:h.a.get("sunSwap.pool.add_placeholder_text"),onChange:function(t){return e.judgeIssues(t.target.value,2)},value:b})}),this.props.network.isConnected?Object(ee.jsx)("span",{className:"max-btn",onClick:function(t){return e.setMaxFrom("token")},children:h.a.get("sunSwap.swap.input_from_max")}):null]})]})]}),""!==w.tokenAddress&&w.tokenAddress.length>0?this.exchangeInfo(P):null,Object(ee.jsxs)(A.a,{gutter:{xs:8,sm:16,md:24},children:[Object(ee.jsxs)(y.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-20",children:[k&&"TRX"===O.tokenSymbol&&u?Object(U.D)(r).lt(L)?Object(ee.jsx)("div",{className:"warning-amount-tip",children:h.a.getHTML("list.trx_tip_3",{value:L})}):Object(U.D)(r).minus(L).lt(Object(U.D)(u))?Object(ee.jsxs)("div",{className:"safe-amount-tip",children:[h.a.getHTML("list.trx_tip_1",{value:L})," ",Object(ee.jsx)("span",{className:"safe-amount-set-btn",onClick:this.useSafeMax,children:h.a.get("sunSwap.list.trx_tip_2")})]}):null:null,x&&Object(ee.jsx)("p",{className:"warning-amount-tip",children:h.a.get("sunSwap.pool.network_error")})]}),Object(ee.jsx)(y.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-20"})]}),this.props.network.isConnected?F?Object(ee.jsx)(se.a,{styleName:"mt-40",type:"single",disabled:!0,info:F}):Object(ee.jsx)(se.a,{styleName:"mt-40",type:"single",info:this.state.disableAdd?h.a.get("not_available"):h.a.get("sunSwap.pool.add_supply_btn"),disabled:this.state.disableAdd,onClick:this.showAddModal}):Object(ee.jsx)(se.a,{styleName:"mt-40",type:"single",info:h.a.get("sunSwap.pool.add_connect_btn"),onClick:function(t){e.props.network.setData({loginModalVisible:!0,loginModalStep:1})}}),Object(ee.jsxs)(T.a,{title:null,closable:"success"!==this.state.actionState,open:d,onCancel:this.beforeHideAddModal,className:"pool-modal add-gai sun-swap-modal",footer:null,width:630,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:["line"===this.state.actionState&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("div",{className:"title normal",children:h.a.get("sunSwap.swap.action_supply")}),Object(ee.jsxs)("div",{className:"ib-parent center",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{className:"add-value",children:u}),Object(ee.jsx)("span",{className:"add-token",children:O.tokenSymbol})]}),Object(ee.jsx)("span",{className:"plus",children:"+"}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{className:"add-value",children:b}),Object(ee.jsx)("span",{className:"add-token",children:w.tokenSymbol})]})]}),Object(ee.jsx)("div",{className:"supplyLineTitle",children:h.a.get("sunSwap.action.supplyLineTitle")}),this.state.needCreate?Object(ee.jsxs)(oe.a,{children:[Object(ee.jsx)("span",{status:this.state.createActionState,err:this.state.createActionError,failed:this.state.createActionFailed,children:this.state.createActionTitle}),Object(ee.jsx)("span",{status:this.state.approveActionState,err:this.state.approveActionError,children:this.state.approveActionTitle}),Object(ee.jsx)("span",{status:this.state.supplyActionState,err:this.state.supplyActionError,children:this.state.supplyActionTitle})]}):Object(ee.jsxs)(oe.a,{children:[Object(ee.jsx)("span",{status:this.state.approveActionState,err:this.state.approveActionError,children:this.state.approveActionTitle}),Object(ee.jsx)("span",{status:this.state.supplyActionState,err:this.state.supplyActionError,children:this.state.supplyActionTitle})]}),Object(ee.jsx)(se.a,{type:"single",disabled:this.state.actionDisabled,info:this.state.actionInfo,onClick:this.onRetryAction})]}),"info"===this.state.actionState&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("div",{children:h.a.get("sunSwap.pool.popup_receive_title")}),Object(ee.jsxs)("div",{className:"amount",children:[Object(ee.jsxs)("div",{className:"center",children:[Object(ee.jsx)("p",{className:"amount-num",children:Object(U.l)(_,{dp:D.a.trxDecimal,cutZero:!0})}),Object(ee.jsx)("p",{className:"amount-name",children:Object(ee.jsx)("span",{children:O.tokenSymbol+"/"+w.tokenSymbol+" "+h.a.get("sunSwap.pool.popup_tokens_text")})})]}),Object(ee.jsx)("p",{className:"amount-tip left",children:h.a.get("sunSwap.pool.popup_receive_tip",{value:S})})]}),Object(ee.jsxs)("div",{className:"price",children:[Object(ee.jsxs)("p",{className:"flex param",children:[Object(ee.jsx)("span",{className:"price-key",children:O.tokenSymbol+" "+h.a.get("sunSwap.pool.popup_deposited_text")}),Object(ee.jsxs)("span",{className:"price-value",children:[Object(ee.jsx)("img",{src:O.tokenLogoUrl,alt:""}),Object(ee.jsx)("span",{children:c.toString()})]})]}),Object(ee.jsxs)("p",{className:"flex param",children:[Object(ee.jsx)("span",{className:"price-key",children:w.tokenSymbol+" "+h.a.get("sunSwap.pool.popup_deposited_text")}),Object(ee.jsxs)("span",{className:"price-value",children:[Object(ee.jsx)("img",{src:w.tokenLogoUrl||X.a,alt:"",onError:function(e){e.target.onerror=null,e.target.src=X.a}}),Object(ee.jsx)("span",{children:l.toString()})]})]}),Object(ee.jsxs)("div",{className:"flex param",children:[Object(ee.jsx)("span",{className:"price-key",children:h.a.get("sunSwap.pool.popup_rates_text")}),Object(ee.jsxs)("div",{className:"price-value ib",children:[Object(ee.jsxs)("p",{children:["1 ",O.tokenSymbol," ="," ",Object(U.a)(1).div(Object(U.a)(10).pow(Number(w.tokenDecimal))).gt(N)?"< "+Object(U.a)(1).div(Object(U.a)(10).pow(Number(w.tokenDecimal))).toString():N._toFixed(Number(w.tokenDecimal))," ",w.tokenSymbol]}),Object(ee.jsxs)("p",{children:["1 ",w.tokenSymbol," ="," ",Object(U.a)(1).div(Object(U.a)(10).pow(Number(D.a.trxDecimal))).gt(V)?"< "+Object(U.a)(1).div(Object(U.a)(10).pow(Number(D.a.trxDecimal))).toString():V._toFixed(Number(D.a.trxDecimal))," ",O.tokenSymbol]})]})]}),Object(ee.jsxs)("div",{className:"flex between mb30",children:[Object(ee.jsx)("div",{className:"share-title",children:h.a.get("sunSwap.pool.popup_share_text")}),Object(ee.jsxs)("div",{className:"v-right",children:[B,"%"]})]})]}),this.state.supplyErrorInfo&&Object(ee.jsx)("div",{className:"errorMsg",children:this.state.supplyErrorInfo}),Object(ee.jsx)(se.a,{type:"single",disabled:this.state.supplyPopBtnDisabled,info:this.state.supplyPopBtn,onClick:this.beforeSupplyLiquidity})]}),"success"===this.state.actionState&&Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("div",{className:"modal-success",children:[Object(ee.jsx)("img",{src:de.a,alt:""}),Object(ee.jsx)("div",{className:"title green",children:h.a.get("sunSwap.action.supplySuccessTitle")}),Object(ee.jsxs)("div",{className:"ib-parent center mb40",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{className:"add-value",children:m}),Object(ee.jsx)("span",{className:"add-token",children:O.tokenSymbol})]}),Object(ee.jsx)("span",{className:"plus",children:"+"}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{className:"add-value",children:j}),Object(ee.jsx)("span",{className:"add-token",children:w.tokenSymbol})]})]}),Object(ee.jsx)(se.a,{type:"single",info:h.a.get("sunSwap.action.closeBtn"),onClick:this.gotoPool}),Object(ee.jsx)("div",{className:"supplyDescTitle",children:h.a.get("sunSwap.action.supplyDescTitle")})]})})]}),Object(ee.jsx)(re.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}}]),a}(x.a.Component))||s)||s)||s)||s,me=be,je=a(1956),ke=a(1139),xe=a(1261),fe=a(349),he=Object(_.a)(window.navigator).any,ve=Object(v.b)("sunSwapPool")(o=Object(v.b)("sunSwapNetwork")(o=Object(v.b)("network")(o=Object(v.c)(o=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(p.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.getUserPool();case 1:case"end":return e.stop()}}),e)}))),n.getUserPool=Object(p.a)(Object(d.a)().mark((function e(){var t,a,s,o,r,i,c,l,p,u,b,m;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.sunSwapPool.tokenInfo,a=n.props.network.defaultAccount,e.next=4,Object(E.m)(a,t.tokenAddress);case 4:s=e.sent,o=s.exchangeAddr,r=s.exTokenBalance,i=s.exTrxBalance,c=s.totalLiquidity,l=s.userLiquidity,p=s.userTrxBalance,u=s.userTokenBalance,o&&(b=i.div(new U.a(10).pow(D.a.trxDecimal)),m=r.div(new U.a(10).pow(t.tokenDecimal)),b.gt(0)&&n.setState({tokenDetail:{trx:new U.a(p).div(new U.a(10).pow(D.a.trxDecimal)),value:new U.a(u).div(new U.a(10).pow(t.tokenDecimal)),tokens:new U.a(l).div(new U.a(10).pow(D.a.trxDecimal)),totalSupply:new U.a(c).div(new U.a(10).pow(D.a.trxDecimal)),price1:b.div(m),price2:m.div(b),exTrx:b,exToken:m}}));case 13:case"end":return e.stop()}}),e)}))),n.showSettingModal=function(){n.props.sunSwapNetwork.setData({settingVisible:!0})},n.setPercent=function(e){n.setState({percentNum:e})},n.renderLiqBtn=function(e){var t,a=n.state.percentNum;return Object(ee.jsx)("button",{className:V()((t={},Object(g.a)(t,xe.remove_liq_active_btn,String(a)===e),Object(g.a)(t,xe.remove_liq_btn,a!==e),Object(g.a)(t,"ml-10","25"!==e),t)),onClick:function(t){return n.setPercent(Number(e))},children:"100"===e?h.a.get("sunSwap.pool.remove_max_text"):e+"%"})},n.renderTokenInfo=function(e,t,a){return Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("p",{className:V()(xe.remove_liq_token,["flex start"]),children:[Object(ee.jsx)("img",{src:e.tokenLogoUrl,alt:""}),Object(ee.jsx)("span",{children:e.tokenSymbol})]}),Object(ee.jsx)("p",{className:V()(xe.remove_liq_value,["mt-12"],["mb-12"]),children:0===a?0:t.times(a).div(100)._toFixed(4,1)<1e-4?"<0.0001":t.times(a).div(100)._toFixed(4,1)})]})},n.userTokenInfo=function(){var e=n.state,t=e.percentNum,a=e.tokenDetail,s=n.props.sunSwapPool,o=s.selectTokenOne,r=s.tokenInfo,i=t,c=function(e,t){return e.isNaN()||e.eq(1/0)?"--":e._toFixed(Number(t),1)},l=c(a.value.div(a.trx),r.tokenDecimal),d=c(a.trx.div(a.value),D.a.trxDecimal),p=[{label:Object(ee.jsx)(ie.a,{token:o,showTokenName:!0,showTrx:!0}),value:a.trx._toFixed(4,1)},{label:Object(ee.jsx)(ie.a,{styleName:"ml-30",token:r,showTokenName:!0,showTrx:!0}),value:a.value._toFixed(4,1)},{label:Object(ee.jsx)("span",{style:{color:"#ffffff",fontSize:"14px"},children:h.a.get("sunSwap.pool.add_tokens_text")}),value:a.tokens._toFixed(4,1)}],u=[{label:Object(ee.jsx)(ie.a,{token:o,showTokenName:!0,showTrx:!0}),value:a.trx._toFixed(4,1)},{label:Object(ee.jsx)(ie.a,{styleName:"ml-30",token:r,showTokenName:!0,showTrx:!0}),value:a.value._toFixed(4,1)}];return Object(ee.jsxs)(A.a,{gutter:[{xs:8,sm:16,md:24},10],children:[Object(ee.jsxs)(y.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-30",children:[Object(ee.jsxs)("div",{className:"flex mb-16",children:[Object(ee.jsx)("div",{className:xe.remove_liq_title,children:h.a.get("sunSwap.pool.base_posi_title")}),he?Object(ee.jsxs)("div",{className:xe.remove_liq_fee,children:[Object(ee.jsxs)("span",{children:[h.a.get("sunSwap.pool.add_tokens_text")," "]}),Object(ee.jsx)("span",{children:a.tokens._toFixed(4,1)})]}):null]}),Object(ee.jsx)(le.a,{items:he?u:p,textColor:"#ffffff"}),Object(ee.jsx)("div",{className:"hide-for-pc",style:{marginTop:"28px"},children:Object(ee.jsx)(ke.a,{slippage:n.props.sunSwapNetwork.settingSlippage,deadline:n.props.sunSwapNetwork.settingDeadline,onChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n.props.sunSwapNetwork.saveSettings(e,t),n.swapRef&&n.swapRef.current&&n.swapRef.current.calcPrice()}})})]}),Object(ee.jsxs)(y.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-30",children:[Object(ee.jsx)("div",{className:xe.remove_liq_title,children:h.a.get("withdraw.share_of_liq")}),Object(ee.jsxs)("div",{className:"flex",children:[Object(ee.jsxs)("div",{className:xe.remove_liq_num,children:[Object(ee.jsx)("span",{className:"percent",children:i}),"%"]}),Object(ee.jsxs)("div",{className:"flex hide-for-pc",children:[n.renderLiqBtn("25"),n.renderLiqBtn("50"),n.renderLiqBtn("75"),n.renderLiqBtn("100")]})]}),Object(ee.jsx)(je.a,{defaultValue:t,onChange:function(e){return n.setPercent(e)},className:"super-slider",value:t,tooltip:{formatter:null}}),Object(ee.jsxs)("div",{className:"flex mb-24 mt-20 hide-for-mobile",children:[n.renderLiqBtn("25"),n.renderLiqBtn("50"),n.renderLiqBtn("75"),n.renderLiqBtn("100")]}),he?Object(ee.jsxs)("div",{className:"flex mb-24",children:[Object(ee.jsxs)("div",{children:[n.renderTokenInfo(o,a.trx,t),n.renderTokenInfo(r,a.value,t)]}),Object(ee.jsxs)("div",{className:xe.remove_liq_price,children:[Object(ee.jsxs)("p",{children:["1 ",o.tokenSymbol," ="," ",Object(U.a)(1).div(Object(U.a)(10).pow(r.tokenDecimal)).gt(l)?"< "+Object(U.a)(1).div(Object(U.a)(10).pow(r.tokenDecimal)).toString():l," ",r.tokenSymbol,Object(ee.jsx)("span",{})]}),Object(ee.jsxs)("p",{children:[Object(ee.jsx)("span",{}),"1 ",r.tokenSymbol," ="," ",Object(U.a)(1).div(Object(U.a)(10).pow(o.tokenDecimal)).gt(d)?"< "+Object(U.a)(1).div(Object(U.a)(10).pow(o.tokenDecimal)).toString():d," ",o.tokenSymbol]})]})]}):Object(ee.jsxs)("div",{className:"flex mt036",children:[n.renderTokenInfo(o,a.trx,t),Object(ee.jsxs)("div",{className:xe.remove_liq_price,children:[Object(ee.jsxs)("p",{children:["1 ",o.tokenSymbol," ="," ",Object(U.a)(1).div(Object(U.a)(10).pow(r.tokenDecimal)).gt(l)?"< "+Object(U.a)(1).div(Object(U.a)(10).pow(r.tokenDecimal)).toString():l," ",r.tokenSymbol,Object(ee.jsx)("span",{})]}),Object(ee.jsxs)("p",{children:[Object(ee.jsx)("span",{}),"1 ",r.tokenSymbol," ="," ",Object(U.a)(1).div(Object(U.a)(10).pow(o.tokenDecimal)).gt(d)?"< "+Object(U.a)(1).div(Object(U.a)(10).pow(o.tokenDecimal)).toString():d," ",o.tokenSymbol]})]}),n.renderTokenInfo(r,a.value,t)]}),Object(ee.jsx)("div",{className:"hide-for-mobile",style:{marginTop:"28px"},children:Object(ee.jsx)(ke.a,{slippage:n.props.sunSwapNetwork.settingSlippage,deadline:n.props.sunSwapNetwork.settingDeadline,onChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";n.props.sunSwapNetwork.saveSettings(e,t),n.swapRef&&n.swapRef.current&&n.swapRef.current.calcPrice()}})})]})]})},n.setLiq=function(e){n.props.sunSwapPool.setData({actionLiqV2:e})},n.beforeRemoveLiquidity=Object(p.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({actionStarted:!0,removePopBtn:h.a.get("sunSwap.action.startBtn"),removePopBtnDisabled:!0},(function(){n.removeLiquidity()}));case 1:case"end":return e.stop()}}),e)}))),n.removeLiquidity=Object(p.a)(Object(d.a)().mark((function e(){var t,a,s,o,r,i,c,l,p,u;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.percentNum,s=t.tokenDetail,o=n.props.sunSwapPool.tokenInfo,r=s.tokens.times(n.state.percentNum).div(100).times(new U.a(10).pow(D.a.trxDecimal)).integerValue(U.a.ROUND_DOWN),e.next=5,Object(E.o)(o.tokenAddress,o.address);case 5:return i=e.sent,c=i.div(new U.a(10).pow(o.tokenDecimal)),l=r.times(s.exTrx).div(s.totalSupply).integerValue(U.a.ROUND_DOWN),p=r.times(c).div(s.totalSupply).integerValue(U.a.ROUND_DOWN),u={title:"sunSwap.pair_actions.remove",obj:{trxAmount:Object(U.k)(Object(U.a)(s.trx).times(a).div(100),6),trx:"TRX",tokenSymbol:o.tokenSymbol,tokenAmount:Object(U.k)(Object(U.a)(s.value).times(a).div(100),o.tokenDecimal)}},e.t0=E.x,e.t1=o.address,e.t2="0x".concat(r.toString(16)),e.t3="0x".concat(l.toString(16)),e.t4="0x".concat(p.toString(16)),e.next=17,Object(E.g)(n.props.sunSwapNetwork.settingDeadline);case 17:return e.t5=e.sent,e.t6=u,e.next=21,(0,e.t0)(e.t1,e.t2,e.t3,e.t4,e.t5,e.t6);case 21:e.sent?n.setState({removeErrorInfo:"",removePopBtn:h.a.get("sunSwap.action.doingBtn"),removePopBtnDisabled:!0,actionStarted:!0},(function(){setTimeout((function(){n.setState({actionState:"success",actionStarted:!1})}),5e3)})):n.setState({removeErrorInfo:h.a.get("sunSwap.action.removeActErr"),removePopBtn:h.a.get("sunSwap.action.retryBtn"),removePopBtnDisabled:!1,actionStarted:!0});case 23:case"end":return e.stop()}}),e)}))),n.initRemoveModal=function(){return{removeErrorInfo:"",removePopBtn:h.a.get("sunSwap.pool.popup_remove_btn"),removePopBtnDisabled:!1,actionState:"info",actionStarted:!1,miniPopVisible:!1}},n.showRemoveModal=function(){var e=n.state,t=e.percentNum,a=e.tokenDetail;t>0&&a.tokens.gt(0)&&n.setState(Object(S.a)(Object(S.a)({},n.initRemoveModal()),{},{removePopStatus:!0}))},n.beforeHideRemoveModal=function(){n.state.actionStarted?n.setState({miniPopVisible:!0}):n.hideRemoveModal()},n.hideRemoveModal=function(){n.setState({removePopStatus:!1},(function(){setTimeout((function(){n.setState(Object(S.a)({},n.initRemoveModal()))}),1e3)}))},n.miniPopOk=function(){n.setState({miniPopVisible:!1},(function(){n.hideRemoveModal()}))},n.miniPopCancel=function(){n.setState({miniPopVisible:!1})},n.gotoPool=function(){n.props.onSuccess()},n.state={percentNum:0,removePopStatus:!1,tokenDetail:{trx:new U.a(0),value:new U.a(0),tokens:new U.a(0),totalSupply:new U.a(0),price1:"--",price2:"--",exTrx:new U.a(0),exToken:new U.a(0),removeErrorInfo:"",removePopBtn:h.a.get("sunSwap.pool.popup_remove_btn"),removePopBtnDisabled:!1,actionState:"info",actionStarted:!1,miniPopVisible:!1}},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this.state,t=e.percentNum,a=e.removePopStatus,n=e.tokenDetail,s=this.props.sunSwapPool,o=s.selectTokenOne,r=s.tokenInfo,i=function(e,t){return e.isNaN()||e.eq(1/0)?"--":e._toFixed(Number(t),1)},c=i(n.value.div(n.trx),r.tokenDecimal),l=i(n.trx.div(n.value),D.a.trxDecimal);return Object(ee.jsxs)("section",{className:"action-content",children:[this.userTokenInfo(),Object(ee.jsx)(se.a,{styleName:"mt-40",type:"single",disabled:t<=0||n.tokens.lte(0),info:h.a.get("sunSwap.pool.remove_confirm_btn"),onClick:this.showRemoveModal}),Object(ee.jsxs)(T.a,{title:null,closable:"success"!==this.state.actionState,open:a,onCancel:this.beforeHideRemoveModal,className:"pool-modal remove-modal sun-swap-modal",footer:null,width:630,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:["info"===this.state.actionState&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("div",{className:"title big",children:h.a.get("sunSwap.pool.popup_remove_title")}),Object(ee.jsxs)("div",{className:"amount ib-parent center pb25",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("p",{className:"add-value",children:n.trx.times(t).div(100).lt(1e-4)?"<0.0001":n.trx.times(t).div(100)._toFixed(4,1)}),Object(ee.jsxs)("p",{className:"add-token",children:[Object(ee.jsx)("img",{src:o.tokenLogoUrl,alt:""}),Object(ee.jsx)("span",{children:o.tokenSymbol})]})]}),Object(ee.jsx)("span",{className:"plus",children:"+"}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("p",{className:"add-value",children:n.value.times(t).div(100).lt(1e-4)?"<0.0001":n.value.times(t).div(100)._toFixed(4,1)}),Object(ee.jsxs)("p",{className:"add-token",children:[Object(ee.jsx)("img",{src:r.tokenLogoUrl,alt:""}),Object(ee.jsx)("span",{children:r.tokenSymbol})]})]})]}),Object(ee.jsxs)("div",{className:"price",children:[Object(ee.jsxs)("p",{className:"flex param",children:[Object(ee.jsx)("span",{className:"price-key",children:h.a.get("sunSwap.pool.popup_burned_text")}),Object(ee.jsxs)("span",{className:"price-value",children:[Object(ee.jsx)("img",{src:o.tokenLogoUrl,alt:""}),Object(ee.jsx)("img",{src:r.tokenLogoUrl||X.a,alt:""}),Object(ee.jsx)("span",{children:n.tokens.times(t).div(100).lt(1e-4)?"<0.0001":n.tokens.times(t).div(100)._toFixed(4,1)})]})]}),Object(ee.jsxs)("div",{className:"flex param",children:[Object(ee.jsx)("span",{className:"price-key",children:h.a.get("sunSwap.pool.popup_price_text")}),Object(ee.jsxs)("div",{className:"price-value ib right",children:[Object(ee.jsxs)("p",{children:["1 ",o.tokenSymbol," = ",c," ",r.tokenSymbol]}),Object(ee.jsxs)("p",{className:"mb20",children:["1 ",r.tokenSymbol," = ",l," ",o.tokenSymbol]})]})]})]}),this.state.removeErrorInfo&&Object(ee.jsx)("div",{className:"errorMsg",children:this.state.removeErrorInfo}),Object(ee.jsx)(se.a,{type:"single",disabled:this.state.removePopBtnDisabled,info:this.state.removePopBtn,onClick:this.beforeRemoveLiquidity})]}),"success"===this.state.actionState&&Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("div",{className:"modal-success",children:[Object(ee.jsx)("img",{src:de.a,alt:""}),Object(ee.jsx)("div",{className:"title green",children:h.a.get("sunSwap.action.removeSuccessTitle")}),Object(ee.jsxs)("div",{className:"ib-parent center mb25",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{className:"remove-value",children:n.trx.times(t).div(100).lt(1e-4)?"<0.0001":n.trx.times(t).div(100)._toFixed(4,1)}),Object(ee.jsx)("span",{className:"remove-token",children:o.tokenSymbol})]}),Object(ee.jsx)("span",{className:"plus",children:"+"}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{className:"remove-value",children:n.value.times(t).div(100).lt(1e-4)?"<0.0001":n.value.times(t).div(100)._toFixed(4,1)}),Object(ee.jsx)("span",{className:"remove-token",children:r.tokenSymbol})]})]}),Object(ee.jsx)(se.a,{type:"single",info:h.a.get("sunSwap.action.closeBtn"),onClick:this.gotoPool}),Object(ee.jsx)("div",{className:"endTip",children:h.a.get("sunSwap.action.removeDescTitle")})]})})]}),Object(ee.jsx)(re.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}}]),a}(x.a.Component))||o)||o)||o)||o,we=ve,Oe=a(1944),ge=a(236),Se=(a(1262),a(1263)),_e=a(1264),Ae=a(1265),ye=(a(1266),a(1371)),Te=Object(_.a)(window.navigator).any,Ne=Object(v.b)("sunSwapNetwork")(r=Object(v.b)("sunSwapPool")(r=Object(v.b)("network")(r=Object(v.c)(r=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(e){var n,s,o,r,i,c,l,b,m;return Object(u.a)(this,a),(m=t.call(this,e)).getExchangesFunc=function(e,t,a,s){return(n=n||Object(p.a)(Object(d.a)().mark((function e(t,a,n,s){var o,r,i,c,l,u,b,j;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=window.localStorage.getItem("swapVersion"),e.next=3,m.props.sunSwapPool.getExchangesListV3(t||o);case 3:return e.next=5,m.fromTokenRef.current.setTokenList();case 5:return e.next=7,m.toTokenRef.current.setTokenList();case 7:if(r=m.state,i=r.fromToken,c=r.toToken,l=a||Object(U.q)("type"),u=c.tokenAddress||Object(U.q)("t1"),(b=i.tokenAddress||Object(U.q)("t0"))&&!u&&(u=""),!b&&u&&(b="",i={tokenAddress:"",tokenSymbol:"",approvedAmount:new U.a(0)}),j=n||Object(U.q)("tokenAddress"),"swap"!==l){e.next=30;break}if(!j){e.next=19;break}m.setState({fromToken:{tokenSymbol:"TRX",tokenAddress:D.a.trxFakeAddress,tokenDecimal:D.a.trxDecimal,trxBalance:new U.a(0),tokenBalance:new U.a(0),trxBalanceV1:new U.a(0),tokenBalanceV1:new U.a(0),approvedAmount:new U.a(E.a),tokenLogoUrl:D.a.trxLogoUrl}},Object(p.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!s,!e.t0){e.next=4;break}return e.next=4,m.toTokenRef.current.setTokenAddress(j,!0,"swap");case 4:case"end":return e.stop()}}),e)})))),e.next=28;break;case 19:if(!b&&!u){e.next=28;break}if(!b){e.next=25;break}return e.next=23,m.fromTokenRef.current.setTokenAddress(b,!0);case 23:e.next=26;break;case 25:m.setState({fromToken:i});case 26:return e.next=28,m.toTokenRef.current.setTokenAddress(u,!0);case 28:e.next=48;break;case 30:if(b||u||i.tokenAddress){e.next=34;break}m.setState({fromToken:{tokenSymbol:"TRX",tokenAddress:D.a.trxFakeAddress,tokenDecimal:D.a.trxDecimal,trxBalance:new U.a(0),tokenBalance:new U.a(0),trxBalanceV1:new U.a(0),tokenBalanceV1:new U.a(0),approvedAmount:new U.a(E.a),tokenLogoUrl:D.a.trxLogoUrl}},Object(p.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=m.state.fromToken&&m.state.fromToken.tokenAddress,!e.t0){e.next=5;break}return e.next=5,m.fromTokenRef.current.setTokenAddress(m.state.fromToken.tokenAddress);case 5:if(e.t1=m.state.toToken&&m.state.toToken.tokenAddress,!e.t1){e.next=9;break}return e.next=9,m.toTokenRef.current.setTokenAddress(m.state.toToken.tokenAddress);case 9:e.next=14;break;case 11:e.prev=11,e.t2=e.catch(0),console.log("version change:",e.t2);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))),e.next=48;break;case 34:if(e.prev=34,e.t0=m.state.fromToken&&m.state.fromToken.tokenAddress,!e.t0){e.next=39;break}return e.next=39,m.fromTokenRef.current.setTokenAddress(m.state.fromToken.tokenAddress);case 39:if(e.t1=m.state.toToken&&m.state.toToken.tokenAddress,!e.t1){e.next=43;break}return e.next=43,m.toTokenRef.current.setTokenAddress(m.state.toToken.tokenAddress);case 43:e.next=48;break;case 45:e.prev=45,e.t2=e.catch(34),console.log("version change:",e.t2);case 48:case"end":return e.stop()}}),e,null,[[34,45]])})))).apply(this,arguments)},m.getHasLiquidity=Object(p.a)(Object(d.a)().mark((function e(){var t,a,n,s,o,r,i,c,l,p,u,b;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=m.state.fromToken)||!t.tokenAddress||t.tokenAddress===D.a.trxFakeAddress){e.next=12;break}return a=m.props.network.defaultAccount,e.next=5,Object(E.m)(a,t.tokenAddress);case 5:if(n=e.sent,s=n.exchangeAddr,o=n.totalLiquidity,r=s&&Object(U.a)(o).gt(0),m.setState({hasLiquidity:r}),r){e.next=12;break}return e.abrupt("return");case 12:if(!(i=m.state.toToken)||!i.tokenAddress||i.tokenAddress===D.a.trxFakeAddress){e.next=22;break}return c=m.props.network.defaultAccount,e.next=17,Object(E.m)(c,i.tokenAddress);case 17:l=e.sent,p=l.exchangeAddr,u=l.totalLiquidity,b=p&&Object(U.a)(u).gt(0),m.setState({hasLiquidity:b});case 22:case"end":return e.stop()}}),e)}))),m.componentDidMount=Object(p.a)(Object(d.a)().mark((function e(){var t;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=setInterval((function(){if(m.props.network.isConnected){m.getHasLiquidity(),m.timer=setInterval((function(){m.getTokenBalance(),m.getExchangeBalance(m.state.fromToken),m.getExchangeBalance(m.state.toToken);var e=D.a.contract.poly;m.getExchangeBalance(m.state.fromToken,e),m.getExchangeBalance(m.state.toToken,e),m.calcPrice()}),6e3),m.timer2=setInterval((function(){var e=window.localStorage.getItem("swapVersion");m.props.sunSwapPool.getExchangesListV3(e)}),15e3),m.getTokenBalance(),m.getExchangeBalance(m.state.fromToken),m.getExchangeBalance(m.state.toToken);var e=D.a.contract.poly;m.getExchangeBalance(m.state.fromToken,e),m.getExchangeBalance(m.state.toToken,e),clearInterval(t)}}),1e3),e.next=4,m.getExchangesFunc();case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),m.componentWillUnmount=function(){clearInterval(m.timer),clearInterval(m.timer2)},m.reload=function(e){return(s=s||Object(p.a)(Object(d.a)().mark((function e(t){var a,n,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.setState({fromValue:"",toValue:"",miniError:!1}),a=m.state,n=a.v1Balance,s=a.v2Balance,"v1.0"===t?(m.setState({betterPrice:!1}),n.fromBalance&&n.fromBalanceStr?m.setState({fromBalanceStr:n.fromBalanceStr,fromBalance:n.fromBalance,toBalance:n.toBalance,toBalanceStr:n.toBalanceStr,swapVersion:t},(function(){m.checkInput(),m.initSwapData(t)})):m.initSwapData(t)):"v1.5"===t&&s.fromBalance&&s.fromBalanceStr?m.setState({fromBalanceStr:s.fromBalanceStr,fromBalance:s.fromBalance,toBalance:s.toBalance,toBalanceStr:s.toBalanceStr,swapVersion:t},(function(){m.checkInput(),m.initSwapData(t)})):m.initSwapData(t),m.setState({priceChartVisible:!1},(function(){m.showPriceChart()}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},m.initSwapData=function(e){return(o=o||Object(p.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.getExchangesFunc(t);case 2:m.getTokenBalance(),m.getExchangeBalance(m.state.fromToken),m.getExchangeBalance(m.state.toToken),m.calcPrice();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)},m.checkInput=function(){var e,t=m.state.fromValue,a=m.state.toValue,n=m.state.fromToken,s=m.state.toToken,o=n.tokenAddress,r=s.tokenAddress,i=m.state.dependentValue,c=m.state.receivedFlag;e=!!(n&&s&&(n.tokenAddress===D.a.trxFakeAddress&&s.tokenAddress===D.a.wtrxAddress||s.tokenAddress===D.a.trxFakeAddress&&n.tokenAddress===D.a.wtrxAddress));var l=function(t){m.setState({actionError:t,swapTRXState:e})},d=m.state.recipientAddr;if(m.state.miniError)return l(h.a.get("sunSwap.swap.action_zero"));if(d){if(!Object(U.t)(d))return m.setState({recipientValid:!1}),l(h.a.get("sunSwap.swap.action_invalid_recipient"));m.setState({recipientValid:!0})}else if(m.setState({recipientValid:!1}),m.state.addRecipient)return l(h.a.get("sunSwap.swap.action_enter_recipient"));if(!o||!r)return l(h.a.get("sunSwap.swap.action_select_token"));if(!t)return!c&&a?Object(U.D)(a).lte(0)?l(h.a.get("sunSwap.swap.action_enter_amount")):l(h.a.get("sunSwap.swap.action_insufficient_liquidity")):l(h.a.get("sunSwap.swap.action_enter_amount"));if(Object(U.D)(t).lte(0))return l(h.a.get("sunSwap.swap.action_enter_amount"));if(c){if(!a)return l(h.a.get("sunSwap.swap.action_insufficient_liquidity"));if(m.state.fromBalance.lt(Object(U.D)(t)))return l(h.a.get("sunSwap.swap.action_insufficient",{token:n.tokenSymbol}));if(Object(U.D)(t).gt(n.approvedAmount))return m.setState({actionError:"",needApprove:!0})}else{if(m.state.fromBalance.lt(Object(U.D)(m.state.swapTRXState?t:i)))return l(h.a.get("sunSwap.swap.action_insufficient",{token:n.tokenSymbol}));if(Object(U.D)(i).gt(n.approvedAmount))return m.setState({actionError:"",needApprove:!0})}m.setState({actionError:"",needApprove:!1})},m.getTokenBalance=Object(p.a)(Object(d.a)().mark((function e(){var t,a,n,s,o,r,i,c,l,p,u,b;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.props.network.isConnected){e.next=24;break}if(t=m.props.network.defaultAccount,a=m.state.fromToken,n=m.state.toToken,s=[D.a.trxFakeAddress],o=a.tokenAddress,r=n.tokenAddress,o&&(s[0]=o),r&&s.push(r),s.length){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,Object(E.i)(t,s);case 13:i=e.sent,c=!1,l=!1,p=new U.a(-1),u=new U.a(-1),b={},o?(p=i[0].div(new U.a(10).pow(a.tokenDecimal))).eq(m.state.fromBalance)||(c=!0):p.eq(m.state.fromBalance)||(b.fromBalance=p,b.fromBalanceStr="--"),r?(u=i[1].div(new U.a(10).pow(n.tokenDecimal))).eq(m.state.toBalance)||(l=!0):u.eq(m.state.toBalance)||(b.toBalance=u,b.toBalanceStr="--"),c&&(b.fromBalance=p,b.fromBalanceStr=p._toFixed(6,1)),l&&(b.toBalance=u,b.toBalanceStr=u._toFixed(6,1)),m.setState(b,(function(){m.checkInput();var e=window.localStorage.getItem("swapVersion"),t={fromBalance:m.state.fromBalance,fromBalanceStr:m.state.fromBalanceStr,toBalance:m.state.toBalance,toBalanceStr:m.state.toBalanceStr};"v1.0"===e&&m.setState({v1Balance:t}),"v1.5"===e&&m.setState({v2Balance:t})}));case 24:case"end":return e.stop()}}),e)}))),m.getExchangeBalance=function(e,t){return(r=r||Object(p.a)(Object(d.a)().mark((function e(t,a){var n,s,o,r,i;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.props.network.isConnected||!t.tokenAddress){e.next=21;break}if(n=t.address,t.address||(n=m.props.network.defaultAccount),s=t.addressV1,t.addressV1||(s=m.props.network.defaultAccount),o=[D.a.trxFakeAddress,t.tokenAddress],!a||!s){e.next=14;break}return e.next=9,Object(E.i)(s,o,a);case 9:r=e.sent,t.trxBalanceV1=r[0].div(new U.a(10).pow(D.a.trxDecimal)),t.tokenBalanceV1=r[1].div(new U.a(10).pow(t.tokenDecimal)),e.next=19;break;case 14:return e.next=16,Object(E.i)(n,o);case 16:i=e.sent,t.trxBalance=i[0].div(new U.a(10).pow(D.a.trxDecimal)),t.tokenBalance=i[1].div(new U.a(10).pow(t.tokenDecimal));case 19:e.next=23;break;case 21:t.trxBalance=new U.a(0),t.tokenBalance=new U.a(0);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)},m.getApprovedAmount=function(e){return(i=i||Object(p.a)(Object(d.a)().mark((function e(t){var a,n,s,o;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.props.network.isConnected){e.next=11;break}if((a=t.tokenAddress)!==D.a.trxFakeAddress){e.next=5;break}return t.approvedAmount=new U.a(E.a),e.abrupt("return");case 5:return n=m.props.network.defaultAccount,s=t.address,e.next=9,Object(E.u)(a,n,s);case 9:o=e.sent,t.approvedAmount=o.div(new U.a(10).pow(t.tokenDecimal));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)},m.onFromValueChange=function(e){var t=e.target.value,a=m.state.toValue;if(t){var n=Object(U.w)(t.replace(/,/g,""),m.state.fromToken.tokenDecimal),s=n.valid,o=n.str;if(!s)return;t=o,m.state.fromToken.tokenAddress&&m.state.toToken.tokenAddress||(a="")}else a="";m.setState({fromValue:Object(U.b)(t),toValue:Object(U.b)(a),receivedFlag:!0},(function(){m.calcPrice()}))},m.onToValueChange=function(e){var t=m.state.fromValue,a=e.target.value;if(a){var n=Object(U.w)(a.replace(/,/g,""),m.state.toToken.tokenDecimal),s=n.valid,o=n.str;if(!s)return;a=o,m.state.fromToken.tokenAddress&&m.state.toToken.tokenAddress||(t="")}else t="";m.setState({fromValue:Object(U.b)(t),toValue:Object(U.b)(a),receivedFlag:!1},(function(){m.calcPrice()}))},m.addSplit=function(e){return e?Object(U.k)(e):0},m.removeSplit=function(e){return e?(""+e).replace(/\s/g,""):0},m.onFromValueBlur=function(){var e=m.state.fromValue;e&&m.setState({fromValue:Object(U.b)(e)})},m.onToValueBlur=function(){var e=m.state.toValue;e&&m.setState({toValue:Object(U.b)(e)})},m.calcPrice=Object(p.a)(Object(d.a)().mark((function e(){var t,a,n,s,o,r,i,c,l,p,u,b,j,k,x,f,v,w,O,g,S,_,A,y,T,N,V;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=m.state.hasLiquidity,a=m.state.receivedFlag,n=m.state.fromToken,s=m.state.toToken,o=m.state.fromValue,r=m.state.toValue,i=m.state.swapTRXState,c=Object(U.D)(o),l=Object(U.D)(r),p="-",u="-",b=window.localStorage.getItem("swapVersion"),m.getExchangeBalance(n),m.getExchangeBalance(s),j=m.props.sunSwapPool.allExchanges,k=void 0===j?{}:j,n.tokenAddress!==D.a.trxFakeAddress&&(n.addressV1=k&&k[0]&&k[0][n.tokenAddress]?k[0][n.tokenAddress].e:null,n.addressV2=k&&k[1]&&k[1][n.tokenAddress]?k[1][n.tokenAddress].e:null,n.address="v1.0"===b?k&&k[0]&&k[0][n.tokenAddress]?k[0][n.tokenAddress].e:null:k&&k[1]&&k[1][n.tokenAddress]?k[1][n.tokenAddress].e:null),s.tokenAddress!==D.a.trxFakeAddress&&(s.addressV1=k&&k[0]&&k[0][s.tokenAddress]?k[0][s.tokenAddress].e:null,s.addressV2=k&&k[1]&&k[1][s.tokenAddress]?k[1][s.tokenAddress].e:null,s.address="v1.0"===b?k&&k[0]&&k[0][s.tokenAddress]?k[0][s.tokenAddress].e:null:k&&k[1]&&k[1][s.tokenAddress]?k[1][s.tokenAddress].e:null),o||r){e.next=21;break}return m.setState({priceStr:p,priceInverseStr:u,betterPrice:!1},(function(){m.checkInput()})),e.abrupt("return");case 21:if(n.tokenAddress&&s.tokenAddress){e.next=24;break}return m.setState({priceStr:p,priceInverseStr:u,betterPrice:!1},(function(){m.checkInput()})),e.abrupt("return");case 24:if(x=new U.a(1),f=new U.a(1),n.tokenAddress!==D.a.trxFakeAddress&&(x=n.tokenBalance.div(n.trxBalance),f=n.tokenBalanceV1.div(n.trxBalanceV1)),v=new U.a(1),w=new U.a(1),s.tokenAddress!==D.a.trxFakeAddress&&(v=s.tokenBalance.div(s.trxBalance),w=s.tokenBalanceV1&&s.trxBalanceV1&&s.tokenBalanceV1.div(s.trxBalanceV1)),O=new U.a(1).div(new U.a(10).pow(n.tokenDecimal)),g=new U.a(1).div(new U.a(10).pow(s.tokenDecimal)),S=new U.a(1).div(new U.a(10).pow(D.a.trxDecimal)),_=function(e){var t=new U.a(10).pow(D.a.trxDecimal);return e.times(t).integerValue(U.a.ROUND_DOWN).div(t)},A=x.div(v),y=null,(n.tokenAddress===D.a.trxFakeAddress&&s.addressV1&&s.addressV1.length>0||s.tokenAddress===D.a.trxFakeAddress&&n.addressV1&&n.addressV1.length>0)&&(y=f.div(w)),"v1.0"===b&&(A=f.div(w)),T=!1,a?(n.tokenAddress===D.a.trxFakeAddress?s.tokenAddress===D.a.wtrxAddress?(m.swapFuncType="deposit",l=c,m.setState({swapTRXState:!0}),i=!0):(m.swapFuncType="trxToTokenFromInput",l=m.calcTrxTokenOutputFromInput(c,s.trxBalance,s.tokenBalance)):s.tokenAddress===D.a.trxFakeAddress?n.tokenAddress===D.a.wtrxAddress?(m.swapFuncType="withdraw",l=c,m.setState({swapTRXState:!0}),i=!0):(m.swapFuncType="tokenToTrxFromInput",l=m.calcTrxTokenOutputFromInput(c,n.tokenBalance,n.trxBalance)):(m.swapFuncType="tokenToTokenFromInput",T=!0,(l=m.calcTrxTokenOutputFromInput(c,n.tokenBalance,n.trxBalance)).gte(S)?(l=_(l),l=m.calcTrxTokenOutputFromInput(l,s.trxBalance,s.tokenBalance)):l=new U.a(0)),r=l._toFixed(Number(s.tokenDecimal),1)):(n.tokenAddress===D.a.trxFakeAddress?s.tokenAddress===D.a.wtrxAddress?(m.swapFuncType="deposit",c=l,m.setState({swapTRXState:!0}),i=!0):(m.swapFuncType="trxToTokenFromOutput",c=m.calcTrxTokenInputFromOutput(l,s.trxBalance,s.tokenBalance,O)):s.tokenAddress===D.a.trxFakeAddress?n.tokenAddress===D.a.wtrxAddress?(m.swapFuncType="withdraw",c=l,m.setState({swapTRXState:!0}),i=!0):(m.swapFuncType="tokenToTrxFromOutput",c=m.calcTrxTokenInputFromOutput(l,n.tokenBalance,n.trxBalance,O)):(m.swapFuncType="tokenToTokenFromOutput",T=!0,(c=m.calcTrxTokenInputFromOutput(l,s.trxBalance,s.tokenBalance,S)).gte(S)?(c=_(c),c=m.calcTrxTokenInputFromOutput(c,n.tokenBalance,n.trxBalance,O)):c=new U.a(0)),o=c._toFixed(Number(n.tokenDecimal),1)),!a){e.next=56;break}if(!(t&&c.gt(0)&&l.lt(g))){e.next=47;break}return m.setState({toValue:i?o:0,dependentValue:0,priceImpactColor:i?"mini-red":"",priceImpact:i?"--":[s.tokenSymbol,n.tokenSymbol].includes("TRX")?"-99.70%":"-99.40%",miniError:!i,actionError:i?"":h.a.get("sunSwap.swap.action_zero")}),m.calcLiquidityProviderFee(c),e.abrupt("return");case 47:m.setState({miniError:!1});case 48:if(!(l.lt(g)||l.eq(1/0)||l.isNaN()||"v1.0"===b&&!s.addressV1&&s.tokenAddress!==D.a.trxFakeAddress||"v1.5"===b&&!s.addressV2&&s.tokenAddress!==D.a.trxFakeAddress||"v1.0"===b&&!n.addressV1&&n.tokenAddress!==D.a.trxFakeAddress||"v1.5"===b&&!n.addressV2&&n.tokenAddress!==D.a.trxFakeAddress)){e.next=53;break}return"v1.5"===b&&s.addressV1&&n.addressV1&&y&&y.gt(0)?m.setState({toValue:i?o:"",priceStr:p,priceInverseStr:u,betterPrice:!0,notCreatedOfNew:!0},(function(){m.checkInput()})):m.setState({toValue:i?o:"",priceStr:p,priceInverseStr:u,betterPrice:!1,notCreatedOfNew:!1},(function(){m.checkInput()})),e.abrupt("return");case 53:m.setState({miniError:!1});case 54:e.next=69;break;case 56:if(!(t&&l.gt(0)&&c.lt(O))){e.next=62;break}return i?m.setState({fromValue:i?r:0,dependentValue:r,priceImpactColor:"",priceImpact:"",miniError:!1,actionError:""}):m.setState({fromValue:i?r:0,dependentValue:0,priceImpactColor:"mini-red",priceImpact:[s.tokenSymbol,n.tokenSymbol].includes("TRX")?"-99.70%":"-99.40%",miniError:!0,actionError:h.a.get("sunSwap.swap.action_zero")}),m.calcLiquidityProviderFee(l),e.abrupt("return");case 62:m.setState({miniError:!1});case 63:if(!(c.lte(O)||c.eq(1/0)||c.isNaN()||"v1.0"===b&&!s.addressV1&&s.tokenAddress!==D.a.trxFakeAddress||"v1.5"===b&&!s.addressV2&&s.tokenAddress!==D.a.trxFakeAddress||"v1.0"===b&&!n.addressV1&&n.tokenAddress!==D.a.trxFakeAddress||"v1.5"===b&&!n.addressV2&&n.tokenAddress!==D.a.trxFakeAddress)){e.next=68;break}return"v1.5"===b&&s.addressV1&&n.addressV2&&y.gt(0)?m.setState({fromValue:i?r:"",priceStr:p,priceInverseStr:u,betterPrice:!0,notCreatedOfNew:!0},(function(){m.checkInput()})):m.setState({fromValue:i?r:"",priceStr:p,priceInverseStr:u,betterPrice:!1,notCreatedOfNew:!1},(function(){m.checkInput()})),e.abrupt("return");case 68:m.setState({miniError:!1});case 69:y&&y.lt(A)&&"v1.5"===b?m.setState({betterPrice:!0,notCreatedOfNew:!1}):m.setState({betterPrice:!1,notCreatedOfNew:!1}),N=c.div(l),V=l.div(c),p=N._toFixed(Number(n.tokenDecimal),1),u=V._toFixed(Number(s.tokenDecimal),1),m.calcDependentValue(c,l),m.calcPriceImpact(A,N,T),m.calcLiquidityProviderFee(c),m.setState({priceStr:p,priceInverseStr:u,fromValue:Object(U.b)(o),toValue:Object(U.b)(r)},(function(){m.checkInput()})),e.next=83;break;case 80:e.prev=80,e.t0=e.catch(0),console.log("Error: "+e.t0);case 83:case"end":return e.stop()}}),e,null,[[0,80]])}))),m.calcDependentValue=function(e,t){var a=new U.a(m.props.sunSwapNetwork.settingSlippage).div(100),n=new U.a(0),s=D.a.trxDecimal;m.state.receivedFlag?(n=t.times(new U.a(1).minus(a)),s=m.state.toToken.tokenDecimal):(n=e.times(new U.a(1).plus(a)),s=m.state.fromToken.tokenDecimal);var o=n._toFixed(Number(s),1);m.setState({dependentValue:o,dependentValueSunBig:new U.a(o).times(new U.a(10).pow(s))})},m.calcPriceImpact=function(e,t,a){var n=.997;a&&(n=.994);var s=e.minus(t.times(n)).abs().div(t).times(100).abs().times(-1),o="",r="--";r=Object(U.a)(s).lte(0)&&Object(U.a)(s).gt(-.01)?"0.00%":"".concat(s._toFixed(2),"%"),o=s.lte(-15)?"red":s.gt(-15)&&s.lte(-5)?"orange":"blue",m.setState({priceImpact:r,priceImpactColor:o})},m.calcLiquidityProviderFee=function(e){m.swapFuncType.indexOf("tokenToToken")>-1?m.setState({liquidityProviderFee:e.times(6).div(1e3)._toFixed(Number(m.state.fromToken.tokenDecimal),1)}):m.setState({liquidityProviderFee:e.times(3).div(1e3)._toFixed(Number(m.state.fromToken.tokenDecimal),1)})},m.calcTrxTokenOutputFromInput=function(e,t,a){var n=e.times(997),s=n.times(a),o=t.times(1e3).plus(n);return s.div(o)},m.calcTrxTokenInputFromOutput=function(e,t,a,n){var s=t.times(e).times(1e3),o=a.minus(e).times(997);return s.div(o).plus(n)},m.setMaxFrom=function(){if(!m.state.fromBalance.eq(-1)){var e=m.state.fromBalance,t=e.gt(0)?e._toFixed(Number(m.state.fromToken.tokenDecimal),1):"0";m.setState({fromValue:Object(U.b)(t),receivedFlag:!0},(function(){m.calcPrice()}))}},m.addSolor=function(e){return(c=c||Object(p.a)(Object(d.a)().mark((function e(t){var a,n,s;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=m.props.sunSwapPool.solor,n=void 0===a?[]:a,(s=P.a.findIndex(n,(function(e){return e.tokenAddress===t.tokenAddress})))>=0?n.splice(s,1,Object(S.a)(Object(S.a)({},t),{},{cst:2})):n.unshift(Object(S.a)(Object(S.a)({},t),{},{cst:2})),m.props.sunSwapPool.setData({solor:n}),window.localStorage.setItem("solor",JSON.stringify(n))}catch(o){console.log(o)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},m.onFromTokenChange=function(e){return(l=l||Object(p.a)(Object(d.a)().mark((function e(t){var a,n,s,o,r,i,c,l,p,u,b,j,k,x,f,h,v,w;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(a=m.props.sunSwapPool.allExchanges,n=void 0===a?{}:a,s=window.localStorage.getItem("swapVersion"),!t.cst){e.next=12;break}return o=n&&n[0]&&n[0][t.tokenAddress]?n[0][t.tokenAddress].e:null,r=n&&n[1]&&n[1][t.tokenAddress]?n[1][t.tokenAddress].e:null,t.address="v1.0"===s?o||null:r||null,t.addressV1=o,t.addressV2=r,e.next=12,m.addSolor(t);case 12:if(t.tokenAddress!==m.state.toToken.tokenAddress){e.next=14;break}return e.abrupt("return",m.switchToken());case 14:return(i=m.state.fromValue)&&t.tokenDecimal!=m.state.fromToken.tokenDecimal&&(i=Object(U.D)(i)._toFixed(Number(t.tokenDecimal),1)),c=m.getExchangeBalance(t),l=m.getExchangeBalance(m.state.toToken),p=D.a.contract.poly,u=m.getExchangeBalance(t,p),b=m.getExchangeBalance(m.state.toToken,p),j=m.getApprovedAmount(t),e.next=24,c;case 24:return e.next=26,l;case 26:return e.next=28,u;case 28:return e.next=30,b;case 30:return e.next=32,j;case 32:if(t.tokenAddress===D.a.trxFakeAddress){e.next=40;break}return k=m.props.network.defaultAccount,e.next=36,Object(E.m)(k,t.tokenAddress);case 36:x=e.sent,f=x.exchangeAddr,h=x.totalLiquidity,m.setState({hasLiquidity:f&&Object(U.a)(h).gt(0)});case 40:v=m.state.toToken,w=t&&v&&(t.tokenAddress===D.a.trxFakeAddress&&v.tokenAddress===D.a.wtrxAddress||t.tokenAddress===D.a.wtrxAddress&&v.tokenAddress===D.a.trxFakeAddress),m.setState({fromValue:Object(U.b)(i),fromToken:t,needApprove:!1,swapTRXState:w},(function(){m.calcPrice(),m.getTokenBalance(),m.showPriceChart()}));case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)},m.onToTokenChange=function(e){return(b=b||Object(p.a)(Object(d.a)().mark((function e(t){var a,n,s,o,r,i,c,l,p,u,b,j,k,x,f,h,v,w;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.props.sunSwapPool.allExchanges,n=void 0===a?{}:a,s=window.localStorage.getItem("swapVersion"),!t.cst){e.next=10;break}return o=n&&n[0]&&n[0][t.tokenAddress]?n[0][t.tokenAddress].e:null,r=n&&n[1]&&n[1][t.tokenAddress]?n[1][t.tokenAddress].e:null,t.address="v1.0"===s?o||null:r||null,t.addressV1=o,t.addressV2=r,e.next=10,m.addSolor(t);case 10:if(e.prev=10,t.tokenAddress!==m.state.fromToken.tokenAddress){e.next=13;break}return e.abrupt("return",m.switchToken());case 13:return(i=m.state.toValue)&&t.tokenDecimal!=m.state.toToken.tokenDecimal&&(i=Object(U.D)(i)._toFixed(Number(t.tokenDecimal),1)),c=m.getExchangeBalance(m.state.fromToken),l=m.getExchangeBalance(t),p=D.a.contract.poly,u=m.getExchangeBalance(m.state.fromToken,p),b=m.getExchangeBalance(t,p),j=m.getApprovedAmount(t),e.next=23,c;case 23:return e.next=25,l;case 25:return e.next=27,u;case 27:return e.next=29,b;case 29:return e.next=31,j;case 31:if(t.tokenAddress===D.a.trxFakeAddress){e.next=39;break}return k=m.props.network.defaultAccount,e.next=35,Object(E.m)(k,t.tokenAddress);case 35:x=e.sent,f=x.exchangeAddr,h=x.totalLiquidity,m.setState({hasLiquidity:f&&Object(U.a)(h).gt(0)});case 39:v=m.state.fromToken,w=v&&t&&(t.tokenAddress===D.a.trxFakeAddress&&v.tokenAddress===D.a.wtrxAddress||t.tokenAddress===D.a.wtrxAddress&&v.tokenAddress===D.a.trxFakeAddress),m.setState({toValue:Object(U.b)(i),toToken:t,swapTRXState:w},(function(){m.calcPrice(),m.getTokenBalance(),m.showPriceChart()})),e.next=47;break;case 44:e.prev=44,e.t0=e.catch(10),console.error(e.t0);case 47:case"end":return e.stop()}}),e,null,[[10,44]])})))).apply(this,arguments)},m.showPriceChart=function(){var e=m.state,t=e.fromToken,a=e.toToken,n=!1;t.tokenAddress&&a.tokenAddress&&(t.tokenAddress===D.a.trxFakeAddress||a.tokenAddress===D.a.trxFakeAddress)&&(n=!0),m.setState({priceChartVisible:n})},m.onSlippageChange=function(){m.calcPrice()},m.showAddRecipient=function(){m.setState({addRecipient:!0},(function(){m.checkInput()}))},m.switchPriceInverseFlag=function(){m.setState({priceInverseFlag:!m.state.priceInverseFlag})},m.switchToken=function(){m.setState({showTrxLimitText:!1});var e=m.state.toToken,t=m.state.fromToken,a=m.state.receivedFlag,n=m.state.fromValue,s=m.state.toValue;a?(s=m.state.fromValue,n=m.state.toValue):(n=m.state.toValue,s=m.state.fromValue),m.setState({priceInverseFlag:!1,receivedFlag:!a,fromToken:e,toToken:t,fromValue:Object(U.b)(n),toValue:Object(U.b)(s),needApprove:!1},Object(p.a)(Object(d.a)().mark((function t(){return Object(d.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.getApprovedAmount(e);case 2:return t.next=4,m.getTokenBalance();case 4:m.calcPrice(),m.fromTokenRef.current.setTokenList(),m.toTokenRef.current.setTokenList(),m.fromTokenRef.current.setState({}),m.toTokenRef.current.setState({}),m.setState({showTrxLimitText:!0});case 10:case"end":return t.stop()}}),t)}))))},m.hideAddRecipient=function(){m.setState({addRecipient:!1,recipientAddr:""},(function(){m.checkInput()}))},m.onRecipientChange=function(e){var t=e.target.value;m.setState({recipientAddr:t},(function(){m.checkInput()}))},m.showSettingModal=function(){m.props.sunSwapNetwork.setData({settingVisible:!0})},m.initSwapModal=function(){var e=m.state.swapTRXState,t=m.state.fromToken,a=m.state.toToken,n=!e&&m.state.needApprove,s=m.state.recipientAddr,o=s?h.a.get("sunSwap.swap.action_swapSend"):h.a.get("sunSwap.swap.action_swap"),r=["orange","red"].includes(m.state.priceImpactColor)&&!e?h.a.get("sunSwap.swap.action_swapStill"):s?h.a.get("sunSwap.swap.confirm_swapSend"):h.a.get("sunSwap.swap.confirm_swap"),i=s?h.a.get("sunSwap.action.swapSendAct",{from:t.tokenSymbol,to:a.tokenSymbol}):h.a.get("sunSwap.action.swapAct",{from:t.tokenSymbol,to:a.tokenSymbol}),c=s?h.a.get("sunSwap.action.swapSendActErr"):h.a.get("sunSwap.action.swapActErr");return{swapPopTitle:o,swapPopBtn:r,swapPopBtnDisabled:!1,swapErrorInfo:"",approveActionTitle:h.a.get("sunSwap.action.approveAct",{token:t.tokenSymbol}),approveActionError:h.a.get("sunSwap.action.approveActErr"),approveActionState:"",swapActionTitle:i,swapActionError:c,swapActionState:"",actionInfo:h.a.get("sunSwap.action.startBtn"),actionDisabled:!0,actionRetry:"",actionState:n?"line":"info",actionStarted:!1,successFromValue:"",successToValue:"",miniPopVisible:!1}},m.showSwapModal=function(){m.setState(Object(S.a)(Object(S.a)({},m.initSwapModal()),{},{swapVisible:!0}),(function(){m.onRetryAction()}))},m.beforeHideSwapModal=function(){m.state.actionStarted?m.setState({miniPopVisible:!0}):m.hideSwapModal()},m.hideSwapModal=function(){m.setState({swapVisible:!1},(function(){setTimeout((function(){m.setState(Object(S.a)({},m.initSwapModal()))}),1e3)}))},m.approveToken=Object(p.a)(Object(d.a)().mark((function e(){var t,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.state.fromToken.tokenAddress,a=m.state.fromToken.address,!m.state.swapTRXState){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Object(E.e)(t,a,{title:"swap.pop_title_approve",obj:{token:m.state.fromToken.tokenSymbol}});case 6:e.sent?m.setState({approveActionState:"pending",actionInfo:h.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0,needApprove:!1},(function(){setTimeout((function(){m.setState({approveActionState:"success",actionState:"info"})}),5e3)})):m.setState({approveActionState:"error",actionRetry:"approveToken",actionInfo:h.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0});case 8:case"end":return e.stop()}}),e)}))),m.beforeSwapToken=Object(p.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.setState({actionStarted:!0,swapPopBtn:h.a.get("sunSwap.action.startBtn"),swapPopBtnDisabled:!0},(function(){m.swapToken()}));case 1:case"end":return e.stop()}}),e)}))),m.swapToken=Object(p.a)(Object(d.a)().mark((function e(){var t,a,n,s,o,r,i,c,l,u,b,j,k;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.state.fromToken,a=m.state.toToken,n=m.state.fromValue,s=m.state.toValue,o=m.state.recipientAddr,r=m.state.swapTRXState,i=!r&&m.state.needApprove,c=n,l=s,u="",!r){e.next=17;break}return b={title:o&&!r?"swap.pop_title_swap_send":"swap.pop_title_swap",obj:{from:"".concat(Object(U.k)(Object(U.D)(n),t.tokenDecimal)," ").concat(t.tokenSymbol),to:"".concat(Object(U.k)(Object(U.D)(s),a.tokenDecimal)," ").concat(a.tokenSymbol),addr:r?window.defaultAccount:o}},e.next=14,E.B[m.swapFuncType]({amountIn:Object(U.D)(n).times(Object(U.a)(10).pow(t.tokenDecimal))._toIntegerDown()._toHex(),amountOut:Object(U.D)(s).times(Object(U.a)(10).pow(a.tokenDecimal))._toIntegerDown()._toHex(),intlObj:b});case 14:u=e.sent,e.next=33;break;case 17:return e.t0=E.B,e.t1=m.swapFuncType,e.t2=t,e.t3=a,e.t4="0x".concat(Object(U.D)(n).times(new U.a(10).pow(t.tokenDecimal)).toString(16)),e.t5="0x".concat(Object(U.D)(s).times(new U.a(10).pow(a.tokenDecimal)).toString(16)),e.t6="0x".concat(m.state.dependentValueSunBig.toString(16)),e.next=26,Object(E.g)(m.props.sunSwapNetwork.settingDeadline);case 26:return e.t7=e.sent,e.t8=o,e.t9={title:o?"swap.pop_title_swap_send":"swap.pop_title_swap",obj:{from:"".concat(Object(U.k)(Object(U.D)(n),t.tokenDecimal)," ").concat(t.tokenSymbol),to:"".concat(Object(U.k)(Object(U.D)(s),a.tokenDecimal)," ").concat(a.tokenSymbol),addr:o}},e.t10={fromToken:e.t2,toToken:e.t3,input:e.t4,output:e.t5,dependentValue:e.t6,deadline:e.t7,recipientAddr:e.t8,intlObj:e.t9},e.next=32,e.t0[e.t1].call(e.t0,e.t10);case 32:u=e.sent;case 33:u?(j={swapErrorInfo:"",swapPopBtn:h.a.get("sunSwap.action.doingBtn"),swapPopBtnDisabled:!0,actionStarted:!0},i&&!r&&(j={actionInfo:h.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,swapActionState:"pending",actionState:"line",actionStarted:!0}),m.setState(j,(function(){setTimeout(Object(p.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.setState({fromValue:"",toValue:"",successFromValue:Object(U.b)(c),successToValue:Object(U.b)(l),actionRetry:"",actionState:"success",actionStarted:!1}),e.next=3,m.getApprovedAmount(m.state.fromToken);case 3:m.calcPrice();case 4:case"end":return e.stop()}}),e)}))),5e3)}))):(k={swapErrorInfo:o?h.a.get("sunSwap.action.swapSendActErr"):h.a.get("sunSwap.action.swapActErr"),swapPopBtn:h.a.get("sunSwap.action.retryBtn"),swapPopBtnDisabled:!1,actionStarted:!0},i&&(k={actionState:"line",swapActionState:"error",actionRetry:"swapToken",actionInfo:h.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0}),m.setState(k));case 34:case"end":return e.stop()}}),e)}))),m.onRetryAction=function(){var e=m.state.actionRetry,t=m.state.needApprove;switch(!e&&t&&(e="approveToken"),e){case"approveToken":m.setState({approveActionState:"start",actionInfo:h.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){m.approveToken()}));break;case"swapToken":m.setState({swapActionState:"start",actionInfo:h.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){m.swapToken()}))}},m.miniPopOk=function(){var e=m.state.needApprove;m.setState({miniPopVisible:!1},(function(){m.hideSwapModal(),e&&m.getApprovedAmount(m.state.fromToken)}))},m.miniPopCancel=function(){m.setState({miniPopVisible:!1})},m.useSafeMax=function(e){var t=m.state,a=t.fromBalanceStr,n=t.toBalanceStr;if("from"===e){var s=Object(U.b)(Object(U.D)(a).minus(D.a.swapFeeAmount));m.setState({fromValue:s,receivedFlag:!0},Object(p.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.calcPrice();case 2:case"end":return e.stop()}}),e)}))))}else if("to"===e){var o=Object(U.b)(Object(U.D)(n).minus(D.a.swapFeeAmount));m.setState({toValue:o},Object(p.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.calcPrice();case 2:case"end":return e.stop()}}),e)}))))}},m.timer=0,m.timer2=0,m.fromTokenRef=x.a.createRef(),m.toTokenRef=x.a.createRef(),m.swapFuncType="",m.state={swapTRXState:!1,fromValue:"",toValue:"",fromToken:{tokenSymbol:""},toToken:{tokenSymbol:""},fromBalance:new U.a(-1),fromBalanceStr:"--",toBalance:new U.a(-1),toBalanceStr:"--",priceStr:"-",priceInverseStr:"-",priceInverseFlag:!1,dependentValueSunBig:"",dependentValue:"",priceImpact:"",priceImpactColor:"",liquidityProviderFee:"",receivedFlag:!0,addRecipient:!1,recipientAddr:"",recipientValid:!1,needApprove:!0,actionError:h.a.get("sunSwap.swap.action_enter_amount"),swapInfo:h.a.get("sunSwap.swap.action_swap"),swapVisible:!1,priceChartVisible:!1,swapPopTitle:"",swapPopBtn:"",swapPopBtnDisabled:!1,swapErrorInfo:"",approveActionTitle:"",approveActionError:"",approveActionState:"",swapActionTitle:"",swapActionError:"",swapActionState:"",actionInfo:"",actionDisabled:!1,actionRetry:"",actionState:"",actionStarted:!1,successFromValue:"",successToValue:"",miniPopVisible:!1,swapVersion:window.localStorage.getItem("swapVersion"),v1Balance:{fromBalance:null,fromBalanceStr:null,toBalance:null,toBalanceStr:null},v2Balance:{fromBalance:null,fromBalanceStr:null,toBalance:null,toBalanceStr:null},betterPrice:!1,notCreatedOfNew:!1,miniError:!1,hasLiquidity:!1,showTrxLimitText:!0},m}return Object(b.a)(a,[{key:"componentDidUpdate",value:function(e,t){if(this.props.sunSwapNetwork.changedSetting&&this.state.fromValue&&this.state.toValue){var a=Object(U.D)(this.state.fromValue),n=Object(U.D)(this.state.toValue);this.calcDependentValue(a,n),this.props.sunSwapNetwork.setData({changedSetting:!1})}}},{key:"render",value:function(){var e=this,t=this.state,a=(t.priceChartVisible,t.fromToken),n=t.toToken,s=(t.betterPrice,t.notCreatedOfNew,t.fromBalanceStr),o=t.toBalanceStr,r=t.swapTRXState,i=t.fromValue,c=t.toValue,l=t.actionError;return l===h.a.get("sunSwap.swap.action_insufficient_liquidity")&&r&&(l=""),Object(ee.jsxs)(Oe.a,{className:"swap-content swap-and-pool",children:[Object(ee.jsxs)(A.a,{gutter:[{xs:8,sm:16,md:24},10],align:"bottom",children:[Object(ee.jsxs)(y.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},className:"swap-block",children:[Object(ee.jsxs)("div",{className:"flex select-token-top",children:[Object(ee.jsxs)("div",{className:a.tokenAddress?"flex":"flex sunswap-chose-token",children:[Object(ee.jsx)(ne,{ref:this.fromTokenRef,onChange:this.onFromTokenChange,address:this.props.network.defaultAccount,value:a.tokenAddress,tokenInfo:a,switchValue:n.tokenAddress,swap:!0,asInput:!0,type:1}),Object(ee.jsx)(ie.a,{token:a})]}),Object(ee.jsxs)("div",{className:"swap-balance",children:[Object(ee.jsx)("span",{children:h.a.get("sunSwap.swap.input_from_balance")}),Object(ee.jsx)("span",{children:Object(U.l)(s,{dp:6,cutZero:!0})})]})]}),Object(ee.jsx)("div",{className:"flex mt-16",children:Object(ee.jsxs)("div",{className:"flex input-block",children:[Object(ee.jsx)("div",{className:"flex input-number",children:Object(ee.jsx)("input",{value:this.state.fromValue,onChange:this.onFromValueChange,onBlur:this.onFromValueBlur,placeholder:h.a.get("sunSwap.swap.input_placeholder")})}),this.props.network.isConnected?Object(ee.jsx)("span",{className:"max-btn",onClick:this.setMaxFrom,children:h.a.get("sunSwap.swap.input_from_max")}):null]})})]}),Object(ee.jsx)(y.a,{xs:{span:2},sm:{span:2},md:{span:2},lg:{span:2},style:{textAlign:"center"},children:Object(ee.jsx)("div",{className:Te?"flex":"flex center",children:Object(ee.jsx)("span",{className:"swap-arrow",onClick:this.switchToken})})}),Object(ee.jsxs)(y.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},className:"swap-block",children:[Object(ee.jsxs)("div",{className:"flex",children:[Object(ee.jsxs)("div",{className:n.tokenAddress?"flex":"flex sunswap-chose-token",children:[Object(ee.jsx)(ne,{ref:this.toTokenRef,onChange:this.onToTokenChange,address:this.props.network.defaultAccount,value:n.tokenAddress,tokenInfo:n,switchValue:a.tokenAddress,swap:!0,type:2}),Object(ee.jsx)(ie.a,{token:n})]}),Object(ee.jsxs)("div",{className:"swap-balance",children:[Object(ee.jsx)("span",{children:h.a.get("sunSwap.swap.input_to_balance")}),Object(ee.jsx)("span",{children:Object(U.l)(o,{dp:6,cutZero:!0})})]})]}),Object(ee.jsx)("div",{className:"flex mt-16",children:Object(ee.jsx)("div",{className:"flex input-block",children:Object(ee.jsx)("div",{className:"flex input-number",children:Object(ee.jsx)("input",{value:this.state.toValue,onChange:this.onToValueChange,onBlur:this.onToValueBlur,placeholder:h.a.get("sunSwap.swap.input_placeholder")})})})})]})]}),Object(ee.jsxs)(A.a,{gutter:[{xs:8,sm:16,md:24},10],className:"mt-20",children:[Object(ee.jsxs)(y.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},className:"flex-swap-block",children:[this.state.addRecipient?Object(ee.jsxs)(x.a.Fragment,{children:[Object(ee.jsxs)("div",{className:"add-recipient add-recipient-remove",onClick:this.hideAddRecipient,children:[h.a.get("sunSwap.swap.input_remove_recipient"),Object(ee.jsx)("img",{className:"ml-12 recipient-icon",src:Ae.a,alt:""})]}),Object(ee.jsxs)("div",{className:"recipient-list",children:[Object(ee.jsx)("div",{className:"flex",children:this.state.recipientAddr&&this.state.recipientValid?Object(ee.jsx)("a",{className:"link",href:"".concat(D.a.tronscanUrl,"/address/").concat(this.state.recipientAddr),target:"_blank",rel:"noreferrer",children:h.a.get("sunSwap.swap.input_recipient_tronscan")}):null}),Object(ee.jsx)("input",{className:"mt-15",value:this.state.recipientAddr,onChange:this.onRecipientChange,placeholder:h.a.get("sunSwap.swap.input_recipient_placeholder")})]})]}):Object(ee.jsxs)("div",{className:"add-recipient",onClick:this.showAddRecipient,children:[h.a.get("sunSwap.swap.input_add_recipient"),Object(ee.jsx)("img",{className:"ml-12 recipient-icon",src:_e.a,alt:""})]}),a.tokenAddress&&n.tokenAddress?Object(ee.jsxs)("div",{className:"flex start rates mt-20",children:[h.a.get("sunSwap.swap.input_from_price"),Object(ee.jsx)("span",{className:"swap-token",children:this.state.priceInverseFlag?Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("span",{className:"token-rates",children:[Object(U.l)(this.state.priceInverseStr,{dp:D.a.trxDecimal,cutZero:!0,miniTextNoZero:!0,miniText:D.a.minPrice})," ",n.tokenSymbol]})," ",h.a.get("sunSwapV3.per"),Object(ee.jsx)("span",{className:"token-rates",children:a.tokenSymbol})]}):Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("span",{className:"token-rates",children:[Object(U.l)(this.state.priceStr,{dp:D.a.trxDecimal,cutZero:!0,miniTextNoZero:!0,miniText:D.a.minPrice})," ",a.tokenSymbol]})," ",h.a.get("sunSwapV3.per"),Object(ee.jsx)("span",{className:"token-rates",children:n.tokenSymbol})]})}),Object(ee.jsx)("img",{className:"ml-12",src:Se.a,alt:"",onClick:this.switchPriceInverseFlag})]}):null]}),Object(ee.jsx)(y.a,{xs:{span:24},sm:{span:24},md:{span:2},lg:{span:2},style:{textAlign:"center"},children:Object(ee.jsx)("span",{})}),Object(ee.jsxs)(y.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},className:"flex-swap-block",children:["0.5"!=this.props.sunSwapNetwork.settingSlippage?Object(ee.jsxs)("div",{className:"flex start mt-8 detail-item",children:[Object(ee.jsxs)("div",{children:[h.a.get("sunSwap.swap.detail_slippage")," "]}),Object(ee.jsx)("span",{className:"ml-8",children:(Object(U.a)(this.props.sunSwapNetwork.settingSlippage).lt(.01)?"<0.01":this.props.sunSwapNetwork.settingSlippage)+"%"})]}):null,!r&&Object(U.D)(this.state.fromValue).gt(0)&&Object(U.D)(this.state.toValue).gte(0)&&this.state.fromToken.tokenAddress&&this.state.toToken.tokenAddress?Object(ee.jsxs)("div",{children:[Object(ee.jsx)("div",{className:"flex start mt-8 detail-item",children:this.state.receivedFlag?Object(ee.jsxs)(x.a.Fragment,{children:[Object(ee.jsx)(ge.a,{tip:h.a.get("sunSwap.swap.detail_min_received_tip"),children:h.a.get("sunSwap.swap.detail_min_received")}),Object(ee.jsx)("span",{className:"ml-8",children:this.state.dependentValue+" "+this.state.toToken.tokenSymbol})]}):Object(ee.jsxs)(x.a.Fragment,{children:[Object(ee.jsx)(ge.a,{tip:h.a.get("sunSwap.swap.detail_max_sold_tip"),children:h.a.get("sunSwap.swap.detail_max_sold")}),Object(ee.jsx)("span",{className:"ml-8",children:this.state.dependentValue+" "+this.state.fromToken.tokenSymbol})]})}),Object(ee.jsxs)("div",{className:"flex start mt-8 detail-item",children:[Object(ee.jsx)(ge.a,{tip:h.a.get("sunSwap.swap.detail_price_impact_tip"),children:h.a.get("sunSwap.swap.detail_price_impact")}),Object(ee.jsx)("span",{className:["orange","red","mini-red"].includes(this.state.priceImpactColor)?this.state.priceImpactColor+" ml-8":"ml-8",children:this.state.priceImpact.indexOf("NaN")>-1?"--":this.state.priceImpact})]}),Object(ee.jsxs)("div",{className:"flex start mt-8 detail-item",children:[Object(ee.jsx)(ge.a,{tip:h.a.get("sunSwap.swap.detail_liquidity_fee_tip"),children:h.a.get("sunSwap.swap.detail_liquidity_fee")}),Object(ee.jsx)("span",{className:"ml-8",children:this.state.liquidityProviderFee+" "+this.state.fromToken.tokenSymbol})]})]}):null,"TRX"===a.tokenSymbol&&this.state.fromValue&&s&&this.state.showTrxLimitText?Object(U.D)(s).gte(D.a.swapFeeAmount)?Object(U.D)(s).minus(D.a.swapFeeAmount).gte(Object(U.D)(this.state.fromValue))?null:Object(ee.jsxs)("div",{className:"safe-amount-tip safe-amount",children:[h.a.getHTML("list.trx_tip_1",{value:D.a.swapFeeAmount})," ",Object(ee.jsx)("span",{className:"safe-amount-set-btn",onClick:function(){return e.useSafeMax("from")},children:h.a.get("sunSwap.list.trx_tip_2")})]}):Object(ee.jsx)("div",{className:"safe-amount-tip safe-amount",children:h.a.getHTML("list.trx_tip_3",{value:D.a.swapFeeAmount})}):null,"TRX"===n.tokenSymbol&&this.state.toValue&&o&&this.state.showTrxLimitText?Object(U.D)(o).gte(D.a.swapFeeAmount)?null:Object(ee.jsx)("div",{className:"safe-amount-tip safe-amount",children:h.a.getHTML("list.trx_tip_3",{value:D.a.swapFeeAmount})}):null]})]}),Object(ee.jsx)("div",{className:"action-btns",children:this.props.network.isConnected?l?Object(ee.jsx)(se.a,{type:"single",disabled:!0,info:l}):Object(ee.jsx)(se.a,{type:"single",btnColor:r?"":this.state.priceImpactColor,info:"red"!==this.state.priceImpactColor||r?this.state.swapInfo:h.a.get("sunSwap.swap.action_high"),onClick:this.showSwapModal}):Object(ee.jsx)(se.a,{type:"single",info:h.a.get("sunSwap.swap.action_connect"),onClick:function(){e.props.network.setData({loginModalVisible:!0,loginModalStep:1})}})}),Object(ee.jsxs)(T.a,{title:null,closable:"success"!==this.state.actionState,open:this.state.swapVisible,onCancel:this.beforeHideSwapModal,footer:null,className:"confirm-swap-modal sun-swap-modal",width:630,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:["line"===this.state.actionState&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("div",{className:"title big",children:this.state.swapPopTitle}),Object(ee.jsxs)("div",{className:"ib-parent center trans-modal amount",children:[Object(ee.jsxs)("div",{className:"from",children:[Object(ee.jsx)("div",{className:"from-value",children:this.state.fromValue}),Object(ee.jsx)("div",{className:"from-token",children:this.state.fromToken.tokenSymbol})]}),Object(ee.jsx)("img",{src:ye.a,alt:"",className:"plus w10"}),Object(ee.jsxs)("div",{className:"to",children:[Object(ee.jsx)("div",{className:"to-value",children:this.state.toValue}),Object(ee.jsx)("div",{className:"to-token",children:this.state.toToken.tokenSymbol})]}),this.state.recipientAddr&&Object(ee.jsxs)("div",{className:"recipient",children:[h.a.get("sunSwap.swap.recipient"),this.state.recipientAddr]})]}),Object(ee.jsx)("div",{className:"middleTip",children:this.state.recipientAddr?h.a.get("sunSwap.action.swapSendLineTitle"):h.a.get("sunSwap.action.swapLineTitle")}),Object(ee.jsxs)(oe.a,{children:[Object(ee.jsx)("span",{status:this.state.approveActionState,err:this.state.approveActionError,children:this.state.approveActionTitle}),Object(ee.jsx)("span",{status:this.state.swapActionState,err:this.state.swapActionError,children:this.state.swapActionTitle})]}),Object(ee.jsx)(se.a,{type:"single",disabled:this.state.actionDisabled,info:this.state.actionInfo,onClick:this.onRetryAction})]}),"info"===this.state.actionState&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("div",{className:"title big",children:this.state.swapPopTitle}),Object(ee.jsxs)("div",{className:"ib-parent center tokens amount",children:[Object(ee.jsxs)("div",{className:"from",children:[Object(ee.jsx)("div",{className:"from-value",children:this.state.fromValue}),Object(ee.jsxs)("div",{className:"from-token",children:[Object(ee.jsx)("img",{src:this.state.fromToken.tokenLogoUrl,alt:""}),Object(ee.jsx)("span",{children:this.state.fromToken.tokenSymbol})]})]}),Object(ee.jsx)("img",{src:ye.a,alt:"",className:"plus w10"}),Object(ee.jsxs)("div",{className:"to",children:[Object(ee.jsx)("div",{className:"to-value",children:this.state.toValue}),Object(ee.jsxs)("div",{className:"to-token",children:[Object(ee.jsx)("img",{src:this.state.toToken.tokenLogoUrl,alt:""}),Object(ee.jsx)("span",{children:this.state.toToken.tokenSymbol})]})]}),this.state.recipientAddr&&Object(ee.jsxs)("div",{className:"recipient",children:[h.a.get("sunSwap.swap.recipient"),this.state.recipientAddr]})]}),!r&&Object(ee.jsxs)("div",{className:"flex justify-content price",children:[Object(ee.jsx)("div",{className:"",children:h.a.get("sunSwap.swap.input_from_price")}),Object(ee.jsxs)("div",{className:"right",children:[Object(ee.jsx)("div",{children:"1 ".concat(this.state.toToken.tokenSymbol," =\n                    ").concat(Object(U.l)(this.state.priceStr,{dp:this.state.fromToken.tokenDecimal,cutZero:!0,miniTextNoZero:!0,miniText:D.a.minPrice}),"\n                    ").concat(this.state.fromToken.tokenSymbol," ")}),Object(ee.jsx)("div",{className:"mt3",children:"1 ".concat(this.state.fromToken.tokenSymbol," =\n                    ").concat(Object(U.l)(this.state.priceInverseStr,{dp:this.state.toToken.tokenDecimal,cutZero:!0,miniTextNoZero:!0,miniText:D.a.minPrice}),"\n                    ").concat(this.state.toToken.tokenSymbol," ")})]})]}),!r&&"0.5"!=this.props.sunSwapNetwork.settingSlippage&&Object(ee.jsxs)("div",{className:"flex justify-content detail-slippage",children:[Object(ee.jsxs)("div",{children:[h.a.get("sunSwap.swap.detail_slippage")," "]}),Object(ee.jsx)("div",{children:(Object(U.a)(this.props.sunSwapNetwork.settingSlippage).lt(.01)?"<0.01":this.props.sunSwapNetwork.settingSlippage)+"%"})]}),!r&&Object(ee.jsxs)("div",{className:"detail-list",children:[Object(ee.jsx)("div",{className:"flex justify-content detail-item",children:this.state.receivedFlag?Object(ee.jsxs)(x.a.Fragment,{children:[Object(ee.jsx)(ge.a,{tip:h.a.get("sunSwap.swap.detail_min_received_tip"),left:!0,dark:!0,children:h.a.get("sunSwap.swap.detail_min_received")}),Object(ee.jsx)("span",{className:"right",children:this.state.dependentValue+" "+this.state.toToken.tokenSymbol})]}):Object(ee.jsxs)(x.a.Fragment,{children:[Object(ee.jsx)(ge.a,{tip:h.a.get("sunSwap.swap.detail_max_sold_tip"),left:!0,dark:!0,children:h.a.get("sunSwap.swap.detail_max_sold")}),Object(ee.jsx)("span",{className:"right",children:this.state.dependentValue+" "+this.state.fromToken.tokenSymbol})]})}),Object(ee.jsxs)("div",{className:"flex justify-content detail-item",children:[Object(ee.jsx)(ge.a,{tip:h.a.get("sunSwap.swap.detail_price_impact_tip"),left:!0,dark:!0,children:h.a.get("sunSwap.swap.detail_price_impact")}),Object(ee.jsx)("span",{className:"right "+(["orange","red"].includes(this.state.priceImpactColor)?this.state.priceImpactColor:"normal sun-swap-normal-1"),children:this.state.priceImpact.indexOf("NaN")>-1?"--":this.state.priceImpact})]}),Object(ee.jsxs)("div",{className:"flex justify-content detail-item",children:[Object(ee.jsx)(ge.a,{tip:h.a.get("sunSwap.swap.detail_liquidity_fee_tip"),left:!0,dark:!0,children:h.a.get("sunSwap.swap.detail_liquidity_fee")}),Object(ee.jsx)("span",{className:"right",children:this.state.liquidityProviderFee+" "+this.state.fromToken.tokenSymbol})]})]}),Object(ee.jsx)("div",{className:"warning",children:this.state.receivedFlag?Object(ee.jsx)("div",{children:h.a.get("sunSwap.swap.confirm_warning_output",{amount:r?c:this.state.dependentValue,token:this.state.toToken.tokenSymbol})}):Object(ee.jsx)("div",{children:h.a.get("sunSwap.swap.confirm_warning_input",{amount:r?i:this.state.dependentValue,token:this.state.fromToken.tokenSymbol})})}),this.state.swapErrorInfo&&Object(ee.jsx)("div",{className:"errorMsg",children:this.state.swapErrorInfo}),Object(ee.jsx)(se.a,{type:"single",btnColor:r?"":this.state.priceImpactColor,disabled:this.state.swapPopBtnDisabled,info:this.state.swapPopBtn,onClick:this.beforeSwapToken})]}),"success"===this.state.actionState&&Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("div",{className:"modal-success",children:[Object(ee.jsx)("img",{src:de.a,alt:""}),this.state.recipientAddr?Object(ee.jsx)("div",{className:"title green",children:h.a.get("sunSwap.action.swapSendSuccessTitle")}):Object(ee.jsx)("div",{className:"title green",children:h.a.get("sunSwap.action.swapSuccessTitle")}),Object(ee.jsxs)("div",{className:"ib-parent center trans-modal mb25",children:[Object(ee.jsxs)("div",{className:"from",children:[Object(ee.jsx)("div",{className:"from-value",children:this.state.successFromValue}),Object(ee.jsx)("div",{className:"from-token",children:this.state.fromToken.tokenSymbol})]}),Object(ee.jsx)("img",{src:ye.a,alt:"",className:"plus w10"}),Object(ee.jsxs)("div",{className:"to",children:[Object(ee.jsx)("div",{className:"to-value",children:this.state.successToValue}),Object(ee.jsx)("div",{className:"to-token",children:this.state.toToken.tokenSymbol})]}),this.state.recipientAddr&&Object(ee.jsxs)("div",{className:"recipient",children:[h.a.get("sunSwap.swap.recipient"),Object(U.j)(this.state.recipientAddr)]})]}),Object(ee.jsx)(se.a,{styleName:"mt-40",type:"single",info:h.a.get("sunSwap.action.closeBtn"),onClick:this.hideSwapModal}),this.state.recipientAddr?Object(ee.jsx)("div",{className:"endTip",children:h.a.get("sunSwap.action.swapSendDescTitle")}):Object(ee.jsx)("div",{className:"endTip",children:h.a.get("sunSwap.action.swapDescTitle")})]})})]}),Object(ee.jsx)(re.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}}]),a}(x.a.Component))||r)||r)||r)||r,Ve=Ne,De=a(61),Be=(a(1864),a(1128)),Ce=Object(v.b)("sunSwapNetwork")(i=Object(v.b)("sunSwapPool")(i=Object(v.b)("network")(i=Object(v.c)(i=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(e){var n,s;return Object(u.a)(this,a),(s=t.call(this,e)).showModal=function(){s.setState({visible:!0})},s.cancel=function(){s.state.actionStarted?s.setState({miniPopVisible:!0}):(s.setState({visible:!1}),s.props.hideMigrateModal())},s.migrate=Object(p.a)(Object(d.a)().mark((function e(){var t,a,n,o,r,i,c,l,p,u,b,m,j,k;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.props,a=t.migrateData,t.migrateDataV2,n=s.computeV2(),o=n.tokenV2,r=n.trxV2,n.lpV2,i="v1.5"===s.props.version?D.a.migrateContract.v15:D.a.migrateContract.v1,c=s.props.sunSwapNetwork.settingSlippageMigrate,l=s.props.network.defaultAccount,c=Number(c),b=new U.a(r),m=new U.a(o),p="0x".concat(m.times(1-c/100).times(new U.a(10).pow(a.tokenDecimal)).integerValue(U.a.ROUND_DOWN).toString(16)),u="0x".concat(b.times(1-c/100).times(new U.a(10).pow(6)).integerValue(U.a.ROUND_DOWN).toString(16)),j={title:"sunSwap.pair_actions.add",obj:{trxAmount:Object(U.k)(a.trx.toString(),6),trx:"TRX",tokenAmount:Object(U.k)(a.value.toString(),a.tokenDecimal),tokenSymbol:a.tokenSymbol}},e.t0=i,e.t1=a.tokenAddress,e.t2=Object(U.a)(p)._toIntegerDown()._toHex(),e.t3=Object(U.a)(u)._toIntegerDown()._toHex(),e.t4=l,e.next=18,Object(E.g)(s.props.sunSwapNetwork.settingDeadlineMigrate);case 18:return e.t5=e.sent,k={contractAddress:e.t0,token:e.t1,amountTokenMin:e.t2,amountETHMin:e.t3,to:e.t4,deadline:e.t5},e.next=22,Object(E.w)(k,j);case 22:e.sent?s.setState({step:3}):s.setApproveBarText("two",!1);case 24:case"end":return e.stop()}}),e)}))),s.computeV2=function(){var e,t,a,n,o,r=s.props,i=r.migrateData,c=r.migrateDataV2,l=Object(U.a)(i.value).div(Object(U.a)(i.trx)),d=Object(U.a)(c.exTokenABalance.div(new U.a(10).pow(i.tokenDecimal))).div(Object(U.a)(c.exTokenBBalance.div(new U.a(10).pow(6))));return Object(U.a)(l).gt(Object(U.a)(d))?(e=Object(U.a)(i.trx),t=Object(U.a)(c.exTokenABalance.div(new U.a(10).pow(i.tokenDecimal))).div(Object(U.a)(c.exTokenBBalance.div(new U.a(10).pow(6)))).times(Object(U.a)(i.trx)),a=Object(U.a)(c.totalLiquidity.div(new U.a(10).pow(18))).div(Object(U.a)(c.exTokenBBalance.div(new U.a(10).pow(6)))).times(Object(U.a)(i.trx)),n=i.tokenSymbol,o=Object(U.l)(Object(U.a)(Object(U.a)(i.value).minus(t)),{miniText:1e-4,cutZero:!0,dp:4})):(t=Object(U.a)(i.value),e=Object(U.a)(c.exTokenBBalance.div(new U.a(10).pow(6))).div(Object(U.a)(c.exTokenABalance.div(new U.a(10).pow(i.tokenDecimal)))).times(Object(U.a)(i.value)),a=Object(U.a)(c.totalLiquidity.div(new U.a(10).pow(18))).div(Object(U.a)(c.exTokenABalance.div(new U.a(10).pow(i.tokenDecimal)))).times(Object(U.a)(i.value)),n="TRX",o=Object(U.l)(Object(U.a)(Object(U.a)(i.trx).minus(e)),{miniText:1e-4,cutZero:!0,dp:4})),{tokenV2:t,trxV2:e,lpV2:a,refundedToken:n,refundedValue:o}},s.checkApproveStatus=Object(p.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.isApproved();case 2:e.sent?s.setState({needApproveOne:"false",actionRetry:"setApproveTwo",step:2,actionStarted:!0},(function(){s.onRetryAction()})):s.onRetryAction();case 4:case"end":return e.stop()}}),e)}))),s.onRetryAction=function(){var e=s.state,t=e.needApproveOne,a=e.needApproveTwo,n=e.actionRetry;switch(n||(t?n="setApproveOne":a&&(n="setApproveTwo")),n){case"setApproveOne":s.setState({approveActionOneState:"start",actionInfo:h.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){s.setApprove("one")}));break;case"setApproveTwo":s.setState({approveActionOneState:"success",approveActionTwoState:"start",actionInfo:h.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){s.migrate()}))}},s.setApproveBarText=function(e,t){console.log(e),t?("one"===e&&s.setState({approveActionOneState:"pending",actionInfo:h.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0},(function(){console.log(273),setTimeout((function(){s.setState({approveActionOneState:"success",approveActionTwoState:"start"})}),5e3)})),"two"===e&&s.setState({approveActionTwoState:"pending",actionInfo:h.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0},(function(){setTimeout((function(){s.setState({approveActionTwoState:"success",baseActionState:"info"})}),5e3)}))):("one"===e&&s.setState({approveActionOneState:"error"}),"two"===e&&s.setState({approveActionTwoState:"error"}),s.setState({actionRetry:"one"===e?"setApproveOne":"setApproveTwo",actionInfo:h.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0}))},s.setApprove=function(e){return(n=n||Object(p.a)(Object(d.a)().mark((function e(t){var a,n,o,r;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.props,n=a.migrateData,a.migrateDataV2,o="v1.5"===s.props.version?D.a.migrateContract.v15:D.a.migrateContract.v1,s.setState({step:2}),r={title:"migrate.action1"},e.next=6,Object(E.e)(n.address,o,r);case 6:e.sent?(s.setApproveBarText(t,!0),"one"===t?s.setState({needApproveOne:!1,actionRetry:"setApproveTwo"},(function(){s.onRetryAction()})):s.setState({needApproveTwo:!1})):s.setApproveBarText(t,!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s.miniPopOk=function(){s.setState({miniPopVisible:!1,visible:!1,step:1,actionStarted:!1}),s.props.hideMigrateModal()},s.miniPopCancel=function(){s.setState({miniPopVisible:!1})},s.gotoPool=function(){s.props.onChange(1),s.props.hideMigrateModal()},s.changeRate=function(){var e=s.props,t=e.migrateData,a=e.migrateDataV2;1===s.state.newRateType?s.setState({oldRateType:2,oldRateLabel:"TRX-"+t.tokenSymbol,oldRate:Object(U.l)(Object(U.a)(t.value).div(Object(U.a)(t.trx)),{miniText:1e-4,cutZero:!0,dp:4}),newRateType:2,newRateLabel:"TRX-"+t.tokenSymbol,newRate:Object(U.l)(Object(U.a)(a.exTokenABalance.div(new U.a(10).pow(t.tokenDecimal))).div(Object(U.a)(a.exTokenBBalance.div(new U.a(10).pow(6)))),{miniText:1e-4,cutZero:!0,dp:4})}):s.setState({oldRateType:1,oldRateLabel:t.tokenSymbol+"-TRX",oldRate:Object(U.l)(Object(U.a)(t.trx).div(Object(U.a)(t.value)),{miniText:1e-4,cutZero:!0,dp:4}),newRateType:1,newRateLabel:t.tokenSymbol+"-TRX",newRate:Object(U.l)(Object(U.a)(a.exTokenBBalance.div(new U.a(10).pow(6))).div(Object(U.a)(a.exTokenABalance.div(new U.a(10).pow(t.tokenDecimal)))),{miniText:1e-4,cutZero:!0,dp:4})})},s.isApproved=Object(p.a)(Object(d.a)().mark((function e(){var t,a,n;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="v1.5"===s.props.version?D.a.migrateContract.v15:D.a.migrateContract.v1,a=s.props.network.defaultAccount,e.next=4,Object(E.u)(s.props.migrateData.address,a,t);case 4:return n=e.sent,e.abrupt("return",Object(U.a)(n).gt(0));case 6:case"end":return e.stop()}}),e)}))),s.settingsRef=x.a.createRef(),s.state={visible:!1,step:1,actionInfo:h.a.get("sunSwap.action.startBtn"),actionDisabled:!0,approveActionOneState:"",approveActionOneError:h.a.get("sunSwap.action.approveActErr"),approveActionOneTitle:h.a.get("sunSwap.migrate.action1"),needApproveOne:!0,needApproveTwo:!0,approveActionTwoState:"",supplyActionEapproveActionTwoErrorrror:h.a.get("sunSwap.action.supplyActErr"),approveActionTwoTitle:h.a.get("sunSwap.migrate.action2"),miniPopVisible:!1,actionStarted:!1,oldRateType:1,oldRateLabel:e.migrateData.tokenSymbol+"-TRX",oldRate:Object(U.l)(Object(U.a)(e.migrateData.trx).div(Object(U.a)(e.migrateData.value)),{miniText:1e-4,cutZero:!0,dp:4}),newRateType:1,newRateLabel:e.migrateData.tokenSymbol+"-TRX",newRate:Object(U.l)(Object(U.a)(e.migrateDataV2.exTokenBBalance.div(new U.a(10).pow(6))).div(Object(U.a)(e.migrateDataV2.exTokenABalance.div(new U.a(10).pow(e.migrateData.tokenDecimal)))),{miniText:1e-4,cutZero:!0,dp:4}),refundedValue:"",refundedToken:"",actionRetry:""},s}return Object(b.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.migrateData,n=(t.migrateDataV2,this.computeV2()),s=n.tokenV2,o=n.trxV2,r=n.lpV2,i=n.refundedToken,c=n.refundedValue,l=this.state,d=l.step,p=l.actionDisabled,u=l.actionInfo,b=l.approveActionTwoState,m=l.approveActionTwoError,j=l.approveActionTwoTitle,k=l.approveActionOneState,x=l.approveActionOneError,f=l.approveActionOneTitle,v=l.oldRateLabel,w=l.oldRate,O=l.newRateLabel,g=l.newRate;return Object(ee.jsxs)("div",{children:[Object(ee.jsxs)(T.a,{title:null,closable:3!==this.state.step,open:this.props.visible||this.state.visible,onCancel:this.cancel,className:"pool-modal sun-swap-modal add-gai ".concat(1===d?"migrateModal":""),footer:null,width:630,destroyOnClose:!0,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:[1===d&&Object(ee.jsxs)("div",{className:"step1",children:[Object(ee.jsx)("div",{className:"title",children:h.a.get("sunSwap.migrate.title")}),Object(ee.jsx)("p",{className:"desc",children:h.a.get("sunSwap.migrate.desc")}),Object(ee.jsxs)("section",{className:"info",children:[Object(ee.jsxs)("div",{className:"lptokens",children:[Object(ee.jsxs)("span",{className:"images",children:[Object(ee.jsx)("img",{className:"logo",src:D.a.trxLogoUrl,alt:""}),Object(ee.jsx)("img",{className:"logo",src:a.tokenLogoUrl||X.a,alt:""})]}),Object(ee.jsxs)("span",{className:"name",children:["TRX-",a.tokenSymbol]}),Object(ee.jsx)("span",{className:"version",children:"v1.5"===this.props.version?"V1.5":"V1"})]}),Object(ee.jsxs)("div",{className:"box",children:[Object(ee.jsx)("div",{className:"line-box",children:Object(ee.jsx)("span",{})}),Object(ee.jsxs)("div",{className:"lp",children:[Object(ee.jsxs)("span",{className:"images",children:[Object(ee.jsx)("img",{className:"logo",src:D.a.trxLogoUrl,alt:""}),Object(ee.jsx)("img",{className:"logo",src:a.tokenLogoUrl||X.a,alt:""})]}),Object(ee.jsxs)("span",{className:"name",children:[a.tokenSymbol,"-TRX LP"]}),Object(ee.jsx)("span",{className:"amount",children:Object(U.l)(a.tokens,{miniText:1e-4,cutZero:!0,dp:4})})]}),Object(ee.jsxs)("div",{className:"token",children:[Object(ee.jsx)("span",{className:"images",children:Object(ee.jsx)("img",{className:"logo",src:a.tokenLogoUrl||X.a,alt:""})}),Object(ee.jsx)("span",{className:"name",children:a.tokenSymbol}),Object(ee.jsx)("span",{className:"amount",children:Object(U.l)(a.value,{miniText:1e-4,cutZero:!0,dp:4})})]}),Object(ee.jsxs)("div",{className:"token",children:[Object(ee.jsx)("span",{className:"images",children:Object(ee.jsx)("img",{className:"logo",src:D.a.trxLogoUrl,alt:""})}),Object(ee.jsx)("span",{className:"name",children:"TRX"}),Object(ee.jsx)("span",{className:"amount",children:Object(U.l)(a.trx,{miniText:1e-4,cutZero:!0,dp:4})})]})]}),Object(ee.jsxs)("div",{className:"rate",children:[Object(ee.jsx)("span",{className:"rate-title",children:h.a.get("sunSwap.migrate.rate")}),v,Object(ee.jsx)("em",{onClick:function(){return e.changeRate()}}),Object(ee.jsx)("span",{className:"value mr-0",children:w})]})]}),Object(ee.jsx)("div",{className:"advanced",children:Object(ee.jsx)(Be.a,{version:"Migrate",network:this.props.sunSwapNetwork,onChange:function(t,a){e.props.sunSwapNetwork.setData({settingVisibleMigrate:!1}),e.props.sunSwapNetwork.saveSettingsForMigrate(t,a)}})}),Object(ee.jsxs)("section",{className:"info v2",children:[Object(ee.jsxs)("div",{className:"lptokens",children:[Object(ee.jsxs)("span",{className:"images",children:[Object(ee.jsx)("img",{className:"logo",src:D.a.trxLogoUrl,alt:""}),Object(ee.jsx)("img",{className:"logo",src:a.tokenLogoUrl||X.a,alt:""})]}),Object(ee.jsxs)("span",{className:"name",children:["TRX-",a.tokenSymbol]}),Object(ee.jsx)("span",{className:"version",children:"V2"})]}),Object(ee.jsxs)("div",{className:"box",children:[Object(ee.jsx)("div",{className:"line-box",children:Object(ee.jsx)("span",{})}),Object(ee.jsxs)("div",{className:"lp",children:[Object(ee.jsxs)("span",{className:"images",children:[Object(ee.jsx)("img",{className:"logo",src:D.a.trxLogoUrl,alt:""}),Object(ee.jsx)("img",{className:"logo",src:a.tokenLogoUrl||X.a,alt:""})]}),Object(ee.jsxs)("span",{className:"name",children:[a.tokenSymbol,"-TRX LP"]}),Object(ee.jsx)("span",{className:"amount",children:Object(U.l)(r,{miniText:1e-4,cutZero:!0,dp:4})})]}),Object(ee.jsxs)("div",{className:"token",children:[Object(ee.jsx)("span",{className:"images",children:Object(ee.jsx)("img",{className:"logo",src:a.tokenLogoUrl||X.a,alt:""})}),Object(ee.jsx)("span",{className:"name",children:a.tokenSymbol}),Object(ee.jsx)("span",{className:"amount",children:Object(U.l)(s,{miniText:1e-4,cutZero:!0,dp:4})})]}),Object(ee.jsxs)("div",{className:"token",children:[Object(ee.jsx)("span",{className:"images",children:Object(ee.jsx)("img",{className:"logo",src:D.a.trxLogoUrl,alt:""})}),Object(ee.jsx)("span",{className:"name",children:"TRX"}),Object(ee.jsx)("span",{className:"amount",children:Object(U.l)(o,{miniText:1e-4,cutZero:!0,dp:4})})]})]}),Object(ee.jsxs)("div",{className:"rate",children:[Object(ee.jsx)("span",{className:"rate-title",children:h.a.get("sunSwap.migrate.rate")}),O,Object(ee.jsx)("em",{onClick:function(){return e.changeRate()}}),Object(ee.jsx)("span",{className:"value",children:g})]}),Object(ee.jsx)("div",{className:"refunded",children:Object(ee.jsx)(ge.a,{tip:Object(ee.jsx)("div",{className:"pool-tooltip-text",children:h.a.get("sunSwap.migrate.refunded_tips")}),children:h.a.get("sunSwap.migrate.refunded",{value1:c,value2:i}),toolClass:"flex common-tool",titleClass:"common-tool-title",tail:!0,placement:_.a?"left":"bottom",dark:!0})})]}),Object(ee.jsx)("div",{className:"btn",onClick:this.checkApproveStatus,children:h.a.get("sunSwap.migrate.btn")})]}),2===d&&Object(ee.jsxs)("div",{className:"step2",children:[Object(ee.jsx)("div",{className:"title normal",children:h.a.get("sunSwap.migrate.migrate")}),Object(ee.jsxs)("div",{className:"line",children:[Object(ee.jsx)("span",{className:"version",children:"v1.5"===this.props.version?"V1.5":"V1"}),Object(ee.jsx)("span",{className:"version",children:"V2"})]}),Object(ee.jsxs)("div",{className:"ib-parent center",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{className:"add-value",children:Object(U.l)(a.value,{miniText:1e-4,cutZero:!0,dp:4})}),Object(ee.jsx)("span",{className:"add-token",children:a.tokenSymbol})]}),Object(ee.jsx)("span",{className:"plus",children:"+"}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{className:"add-value",children:Object(U.l)(a.trx,{miniText:1e-4,cutZero:!0,dp:4})}),Object(ee.jsx)("span",{className:"add-token",children:"TRX"})]}),Object(ee.jsx)("div",{className:"add-ver",children:"v1.5"===this.props.version?"V1.5":"V1"})]}),Object(ee.jsx)("div",{className:"supplyLineTitle",children:h.a.get("sunSwap.action.supplyLineTitle")}),Object(ee.jsxs)(oe.a,{children:["success"!==k&&Object(ee.jsx)("span",{status:k,err:x,children:f}),"success"!==b&&Object(ee.jsx)("span",{status:b,err:m,children:j})]}),Object(ee.jsx)(se.a,{type:"single",disabled:p,info:u,onClick:this.onRetryAction})]}),3===d&&Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("div",{className:"modal-success",children:[Object(ee.jsx)("img",{src:de.a,alt:""}),Object(ee.jsx)("div",{className:"title green",children:h.a.get("sunSwap.migrate.successTitle")}),Object(ee.jsxs)("div",{className:"ib-parent center mb40",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{className:"add-value",children:Object(U.l)(a.value,{miniText:1e-4,cutZero:!0,dp:4})}),Object(ee.jsx)("span",{className:"add-token",children:a.tokenSymbol})]}),Object(ee.jsx)("span",{className:"plus",children:"+"}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{className:"add-value",children:Object(U.l)(a.trx,{miniText:1e-4,cutZero:!0,dp:4})}),Object(ee.jsx)("span",{className:"add-token",children:"TRX"})]}),Object(ee.jsx)("div",{className:"add-ver",children:"v1.5"===this.props.version?"V1.5":"V1"})]}),Object(ee.jsx)(se.a,{type:"single",info:h.a.get("sunSwap.action.closeBtn"),onClick:this.gotoPool}),Object(ee.jsx)("div",{className:"supplyDescTitle",children:h.a.get("sunSwap.action.supplyDescTitle")})]})})]}),this.state.miniPopVisible&&Object(ee.jsx)(re.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}}]),a}(x.a.Component))||i)||i)||i)||i,Pe=Ce,Le=a(62),Fe=a.n(Le),Ie=a(1097),Re=a(1062),qe=a(1140),Ee=a(1372),Me=a(1267),Ue=a(1108),Xe=a(526),He=a(1374),We=a(1202),Ze=a(1276),Je=a(1375),ze=a(1277),Ye=null,Qe=Object(_.a)(window.navigator).any,Ke=Object(v.b)("sunSwapNetwork")(c=Object(v.b)("sunSwapPool")(c=Object(v.b)("network")(c=Object(v.c)(c=function(e,t){Object(m.a)(n,e);var a=Object(j.a)(n);function n(e){var t,s,o,r;return Object(u.a)(this,n),(r=a.call(this,e)).componentDidMount=Object(p.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.unmount=!1,setTimeout((function(){r.getLiquidityUserData()}),500);case 2:case"end":return e.stop()}}),e)}))),r.componentWillUnmount=function(){r.unmount=!0,clearInterval(r.timer)},r.addLiq=function(e){r.props.sunSwapPool.setData({tokenTwoFixed:!0,tokenInfo:e,addLiqFromPools:!0,actionLiqV2:fe.a.ADD_TYPE})},r.removeLiq=function(e){if(!(e.tokens.times(D.a.defaultTokenPrecision).integerValue(U.a.ROUND_DOWN).gt(0)&&e.trx.times(D.a.trxPrecision).integerValue(U.a.ROUND_DOWN).gt(0)&&e.value.times(D.a.defaultTokenPrecision).integerValue(U.a.ROUND_DOWN).gt(0)))return!1;e.tokens.lte(0)||r.props.sunSwapPool.setData({actionLiqV2:2,tokenInfo:e})},r.migrateLiq=function(e){return(t=t||Object(p.a)(Object(d.a)().mark((function e(t){var a,n,s,o,i,c,l,p,u;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=D.a.wtrxAddress,n=t.tokenAddress,s=r.props.network.defaultAccount,e.next=5,Object(E.n)(s,n,a);case 5:o=e.sent,i=o.exchangeAddr,c=o.exTokenABalance,l=o.exTokenBBalance,p=o.totalLiquidity,u={exchangeAddr:i,exTokenABalance:c,exTokenBBalance:l,totalLiquidity:p},r.setState({migrateModalVisbile:!0,migrateData:t,migrateDataV2:u});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r.hasContractV2=function(e){return(s=s||Object(p.a)(Object(d.a)().mark((function e(t){var a,n,s,o,r,i;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=D.a.wtrxAddress,n=t.tokenAddress,s=Object(U.h)(a,n),o=D.a.chain,r=new Fe.a({fullHost:o.fullHost}),e.next=7,r.trx.getContract(s);case 7:if(i=e.sent,"{}"!==JSON.stringify(i)){e.next=12;break}return e.abrupt("return",!1);case 12:return!0,e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r.hideMigrateModal=function(e){r.setState({migrateModalVisbile:!1})},r.changeAndFree=function(){r.props.sunSwapPool.setData({actionLiqV2:1,tokenTwoFixed:!1,tokenInfo:{tokenAddress:"",tokenSymbol:""},tokenDetail:{trx:new U.a(0),value:new U.a(0),tokens:new U.a(0),price1:"--",price2:"--",exTrx:new U.a(0)}})},r.getContractData=Object(p.a)(Object(d.a)().mark((function e(){var t,a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=r.state.currentPage,!((a=r.props.sunSwapPool.originLiquidityList.slice(Qe?0:(t-1)*r.pageSize,(t-1)*r.pageSize+r.pageSize)).length>0)){e.next=8;break}if(r.props.sunSwapPool.originLiquidityList.map((function(e){var t=a.filter((function(t){t.tokenAddress,e.tokenAddress}));t.length>0&&Object.assign(e,t[0])})),!r.unmount){e.next=7;break}return e.abrupt("return");case 7:t===r.state.currentPage&&r.setState({liquidityList:a});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),r.onChange=function(e){return(o=o||Object(p.a)(Object(d.a)().mark((function e(t){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({currentPage:t},(function(){r.getContractData()}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r.onRefreshList=Object(p.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({currentPage:1,liquidityList:[]},(function(){r.getLiquidityUserData()}));case 1:case"end":return e.stop()}}),e)}))),r.showLoginModal=function(e){r.props.network.setData({loginModalVisible:!0,loginModalStep:1})},r.getColumn=function(){return[{title:h.a.get("sunSwap.liquidity_table.name"),dataIndex:"name",key:"name",fixed:!!Qe&&"left",width:Qe?"100px":void 0,render:function(e,t){var a=t.tokenLogoUrl,n=t.tokenSymbol,s=t.tokenAddress,o=t.address;return Object(ee.jsxs)("div",{children:[Object(ee.jsx)(qe.a,{url:H.a,className:He.pool_list_logo}),Object(ee.jsx)(qe.a,{url:a||X.a,className:He.pool_list_logo_right}),Object(ee.jsxs)(Ue.a,{target:"_blank",href:Object(Xe.b)({pathname:"#/scan/pairDetail",search:{version:"v1",pairAddress:o,token0Address:D.a.trxFakeAddress,token1Address:s}}),children:["TRX/",n]})]})}},{title:h.a.get("sunSwap.liquidity_table.token"),dataIndex:"trx",key:"trx",render:function(e,t){return(t.trx?t.trx._toFixed(4,1):"-")+" TRX"}},{title:h.a.get("sunSwap.liquidity_table.token"),dataIndex:"value",key:"value",render:function(e,t){return(t.value?t.value._toFixed(4,1):"-")+" "+t.tokenSymbol}},{title:h.a.get("sunSwap.liquidity_table.lp"),dataIndex:"tokens",key:"tokens",render:function(e,t){return t.value?Object(U.l)(t.tokens,{miniText:1e-4,cutZero:!0,dp:4}):"-"}},{title:h.a.get("sunSwap.liquidity_table.share"),dataIndex:"share",key:"share",render:function(e,t){return t.value?Object(ee.jsxs)("span",{children:[t.share.gt(0)&&t.share.lt(.01)?"<0.01":isNaN(t.share._toFixed(2,1))?"--":t.share._toFixed(2,1),"%"]}):"-"}},{title:Object(ee.jsx)("span",{}),dataIndex:"btn",key:"btn",width:370,render:function(e,t){var a=!(t.tokens.times(D.a.trxPrecision).integerValue(U.a.ROUND_DOWN).gt(0)&&t.trx.times(D.a.trxPrecision).integerValue(U.a.ROUND_DOWN).gt(0)&&t.value.times(D.a.defaultTokenPrecision).integerValue(U.a.ROUND_DOWN).gt(0));return Object(ee.jsx)(Me.a,{showRemove:!0,showAdd:!0,showMigrate:!Object.keys(D.a.deflationToken).includes(t.tokenAddress)&&t.hasContractV2&&t.tokens.gt(0)&&t.trx.gt(0)&&t.value.gt(0),onAdd:function(){return r.addLiq(t)},onRemove:function(){return r.removeLiq(t)},onMigrate:function(){return r.migrateLiq(t)},removeDisabled:a})}}]},r.formatLiquidityList=function(){return r.state.liquidityList.map((function(e){var t=e.tokenLogoUrl,a=e.tokenSymbol,n=e.value,s=e.trx,o=e.tokens,r=e.tokenAddress,i=e.address,c=!(o.times(D.a.trxPrecision).integerValue(U.a.ROUND_DOWN).gt(0)&&s.times(D.a.trxPrecision).integerValue(U.a.ROUND_DOWN).gt(0)&&n.times(D.a.defaultTokenPrecision).integerValue(U.a.ROUND_DOWN).gt(0));return{token0:{tokenLogo:H.a,tokenSymbol:"TRX",amount:s?s._toFixed(4,1):"-"},token1:{tokenLogo:t,tokenSymbol:a,amount:n?n._toFixed(4,1):"-"},pool_share:(e.share.gt(0)&&e.share.lt(.01)?"<0.01":isNaN(e.share._toFixed(2,1))?"--":e.share._toFixed(2,1))+"%",pool_tokens:n?Object(U.l)(o,{miniText:1e-4,cutZero:!0,dp:4}):"-",originItem:e,disableRemove:c,toScan:Object(Xe.b)({pathname:"#/scan/pairDetail",search:{version:"v1",pairAddress:i,token0Address:D.a.trxFakeAddress,token1Address:r}})}}))},r.timer=0,r.unmount=!1,r.pageSize=Qe?3:10,r.isConnected=e.network.isConnected,r.state={currentPage:1,liquidityList:[],version:window.localStorage.getItem("swapVersion")||"v1.0",migrateModalVisbile:!1,migrateData:"",status:!1,loading:!1},r}return Object(b.a)(n,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.sunSwapPool.version!==t.version&&this.setState({currentPage:1,liquidityList:[],version:e.sunSwapPool.version,status:!1},(function(){a.getLiquidityUserData(),Ye=setTimeout((function(){a.setState({status:!0}),clearTimeout(Ye)}),3500)}))}},{key:"getLiquidityUserData",value:function(){return(t=t||Object(p.a)(Object(d.a)().mark((function e(){var t,a,n,s,o,r,i,c,l,p,u,b,m,j;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.network.defaultAccount){e.next=3;break}return e.abrupt("return");case 3:return this.setState({loading:!0}),a=this.props.sunSwapPool,n=a.originLiquidityList,void 0===n?[]:n,s=a.version,o="v1.5"===s?2:1,e.next=8,W.a.getLiquidityUserList(t);case 8:r=e.sent,i=r.filter((function(e){return new U.a(e.jswapBalance).gt(0)&&e.ver===o})),c=[],l=Object(De.a)(i);try{for(l.s();!(p=l.n()).done;)u=p.value,new U.a(u.jswapBalance).gt(0)&&c.push(u.address)}catch(d){l.e(d)}finally{l.f()}return e.next=15,Object(E.p)(this.props.network.defaultAccount,c);case 15:b=e.sent,m=0;case 17:if(!(m<(null===(j=b._trx)||void 0===j?void 0:j.length))){e.next=28;break}return i[m].trx=new U.a(b._trx[m]._hex).div(new U.a(10).pow(6)),i[m].value=new U.a(b._token[m]._hex).div(new U.a(10).pow(i[m].tokenDecimal)),i[m].tokens=new U.a(b._uniToken[m]._hex).div(new U.a(10).pow(6)),i[m].share=new U.a(b._uniToken[m]._hex).times(100).div(new U.a(b._totalsupply[m]._hex)),e.next=24,this.hasContractV2(i[m]);case 24:i[m].hasContractV2=e.sent;case 25:m++,e.next=17;break;case 28:i=i.filter((function(e){return Object(U.a)(e.tokens).gt(0)})),this.props.sunSwapPool.setData({originLiquidityList:i}),1===this.state.currentPage&&this.getContractData(),this.setState({loading:!1});case 33:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"render",value:function(){var e=this,t=this.state,a=t.liquidityList,n=(t.status,t.loading),s=t.currentPage,o=this.props.network.isConnected,r=this.props.sunSwapPool,i=r.originLiquidityList,c=void 0===i?[]:i,l=(r.version,c.length>s*this.pageSize),d=this.formatLiquidityList();return Ye&&clearTimeout(Ye),o!==this.isConnected&&o&&(this.isConnected=o,this.getLiquidityUserData()),Object(ee.jsxs)("section",{className:He.pool_list,children:[Object(ee.jsx)(Ee.a,{tip:h.a.get("sunSwap.pool.base_list_title_tip"),title:"".concat(h.a.get("sunSwap.pool.base_list_title")).concat(n||!a.length?"":" ("+c.length+") ")}),o?n||0!==a.length?Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("div",{className:"hide-for-mobile",id:"scrollableDiv2",style:{maxHeight:430,overflow:"auto"},children:Object(ee.jsx)(We.a,{scrollableTarget:"scrollableDiv2",next:function(){if(!n)return e.onChange(e.state.currentPage+1)},hasMore:!!n||l,loader:Object(ee.jsx)(Ze.a,{}),endMessage:n?null:Object(ee.jsx)("div",{style:{color:"#bbb",textAlign:"center"},children:h.a.get("sunSwapV3.pool.base_allLiquidity_tip")}),dataLength:d.length,children:d.map((function(t){return Object(ee.jsx)(Je.a,Object(S.a)(Object(S.a)({},t),{},{onAdd:e.addLiq,onRemove:e.removeLiq,onMigrate:e.migrateLiq,showMigrate:!Object.keys(D.a.deflationToken).includes(t.originItem.tokenAddress)&&t.originItem.hasContractV2&&t.originItem.tokens.gt(0)&&t.originItem.trx.gt(0)&&t.originItem.value.gt(0)}))}))})}),Object(ee.jsx)("div",{className:"hide-for-pc",children:Object(ee.jsx)(Ie.a,{dataSource:a,columns:this.getColumn(),loading:{spinning:n},pagination:{current:this.state.currentPage,pageSize:this.pageSize,onChange:this.onChange,total:c.length},locale:{emptyText:n?Object(ee.jsx)("span",{}):Object(ee.jsx)("span",{style:{color:"#fff"},children:h.a.get("sunSwap.pool.base_noLiquidity_tip")})},scroll:{x:700}})})]}):Object(ee.jsx)(ze.a,{}):Object(ee.jsx)(Re.a,{}),this.state.migrateModalVisbile&&Object(ee.jsx)(Pe,{visible:this.state.migrateModalVisbile,hideMigrateModal:this.hideMigrateModal,migrateData:this.state.migrateData,migrateDataV2:this.state.migrateDataV2,onChange:this.onRefreshList,version:this.props.sunSwapPool.version})]})}}]),n}(x.a.Component))||c)||c)||c)||c,Ge=Ke,$e=a(1377),et=a(1132),tt=a(1274),at=(a(1272),a(1152),[{textKey:"swap",key:fe.a.SWAP_TYPE},{textKey:"pools",key:fe.a.ADD_TYPE,tips:h.a.get("sunSwap.pool.add_addLiq_title_tip")}]),nt=Object(v.b)("sunSwapNetwork")(l=Object(v.b)("sunSwapPool")(l=Object(v.c)(l=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(e){var n,s;return Object(u.a)(this,a),(s=t.call(this,e)).componentDidMount=Object(p.a)(Object(d.a)().mark((function e(){var t,a,n,o,r,i,c,l;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),s.getTvlData(),s.setVersion(),Object(U.A)(),s.props.sunSwapNetwork.setData({defaultSelectedKeys:"1"}),s.props.sunSwapNetwork.getSettingsData(),e.prev=6,s.props.sunSwapPool.setData({swapRef:s.swapRef,addRef:s.addRef}),t=Object(U.q)("type"),a=Object(U.q)("addLiqFromPools"),n=Object(U.q)("tokenAddress")||"",o=Object(U.q)("t1")||"",r=Object(U.q)("t0")||"",i=Object(U.q)("s"),c=window.location.hash.replace(/&s=\d/,""),l=window.location.origin+c,i&&window.history.pushState({},0,l),"add"===t?(s.props.sunSwapPool.setData({actionLiqV2:1,tokenInfo:{tokenAddress:n||o||r,tokenSymbol:""},addLiqFromPools:a}),s.setState({activeKey:fe.a.ADD_TYPE})):"pool"===t?(s.props.sunSwapPool.setData({actionLiqV2:0,tokenInfo:{tokenAddress:n,tokenSymbol:""}}),s.setState({activeKey:fe.a.SWAP_TYPE})):"swap"===t&&(s.props.sunSwapPool.setData({actionLiqV2:9}),s.setState({activeKey:fe.a.SWAP_TYPE})),s.props.sunSwapPool.getTokensDataFromLocal(),e.next=21,s.props.sunSwapPool.getTokensCategory();case 21:s.setState({isShow:!0}),e.next=26;break;case 24:e.prev=24,e.t0=e.catch(6);case 26:s.setState({visible:!window.localStorage.getItem("noRemind"),version:window.localStorage.getItem("swapVersion")});case 27:case"end":return e.stop()}}),e,null,[[6,24]])}))),s.setVersion=function(){window.localStorage.setItem("swapVersion",$e.a),s.props.sunSwapPool.setData({version:$e.a})},s.changeTab=function(e){return(n=n||Object(p.a)(Object(d.a)().mark((function e(t){var a;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s.setState({activeKey:t}),t!==fe.a.ADD_TYPE){e.next=6;break}s.props.sunSwapPool.setData({actionLiqV2:fe.a.ADD_TYPE}),e.next=13;break;case 6:return s.props.sunSwapPool.setData({actionLiqV2:fe.a.SWAP_TYPE}),a=window.localStorage.getItem("swapVersion"),s.swapRef.current.getExchangesFunc(a,"swap",D.a.trxFakeAddress,!0),e.next=11,s.swapRef.current.fromTokenRef.current.setTokenList(Object(p.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=s.swapRef.current.state.fromToken&&s.swapRef.current.state.fromToken.tokenAddress,!e.t0){e.next=4;break}return e.next=4,s.swapRef.current.fromTokenRef.current.setTokenAddress(s.swapRef.current.state.fromToken.tokenAddress);case 4:case"end":return e.stop()}}),e)}))));case 11:return e.next=13,s.swapRef.current.toTokenRef.current.setTokenList(Object(p.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=s.swapRef.current.state.toToken&&s.swapRef.current.state.toToken.tokenAddress,!e.t0){e.next=4;break}return e.next=4,s.swapRef.current.toTokenRef.current.setTokenAddress(s.swapRef.current.state.toToken.tokenAddress);case 4:case"end":return e.stop()}}),e)}))));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)},s.closeModal=function(){s.setState({visible:!1})},s.getTvlData=Object(p.a)(Object(d.a)().mark((function e(){return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{O.a.get("".concat(D.a.tvl)).then((function(e){var t,a;200===e.status&&null!==(t=e.data)&&void 0!==t&&null!==(a=t.data)&&void 0!==a&&a.allSwaps&&s.setState({totalStakeValue:Number(e.data.data.allSwaps)})}))}catch(t){}case 1:case"end":return e.stop()}}),e)}))),s.onComplete=function(){s.setState({isAnimationNotDone:!1})},s.start=function(){},s.jumpToV3=function(){var e=s.props.sunSwapPool,t=e.actionLiqV2,a=e.tokenInfo;if(9===t){var n=s.swapRef.current.state.fromToken.tokenAddress,o=s.swapRef.current.state.toToken.tokenAddress;Object(et.b)({version:"v3",t0:n,t1:o,type:"swap"})}else 1===t?Object(et.b)({version:"v3",t0:D.a.trxFakeAddress,t1:a.tokenAddress===D.a.wtrxAddress?void 0:a.tokenAddress,type:"add"}):Object(et.b)({version:"v3",type:"pool"})},s.onVersionChange=function(e){var t=e.route;if("v3"===e.key)return s.jumpToV3();var a=s.props.sunSwapPool.actionLiqV2;if(!t||"sun_swap/v1"!==t){var n={};if(9===a){var o=s.swapRef.current.state.fromToken.tokenAddress,r=s.swapRef.current.state.toToken.tokenAddress;o?(n.t0=o,r&&(n.t1=r)):r&&(n.t1=r),n.type="swap"}else 0===a&&(n.type="pool");1===a&&(n.type="add",n.t0=D.a.trxFakeAddress,n.t1=s.props.sunSwapPool.tokenInfo.tokenAddress===D.a.wtrxAddress?"":s.props.sunSwapPool.tokenInfo.tokenAddress),s.props.history.push(Object(Xe.b)({pathname:t,search:n}))}},s.onSettingChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";s.props.sunSwapNetwork.setData({settingVisible:!1}),s.props.sunSwapNetwork.saveSettings(e,t),s.swapRef.current&&s.swapRef.current.onSlippageChange()},s.onBack=function(){s.props.sunSwapPool.setData({actionLiqV2:fe.a.ADD_TYPE,addLiqFromPools:!1,tokenTwoFixed:!1})},s.handleSuccess=function(e){var t=s.props.sunSwapPool;switch(e){case fe.a.ADD_TYPE:t.addLiqFromPools?(t.setData({addLiqFromPools:!1,tokenTwoFixed:!1}),s.updatePoolList()):s.updatePoolList();break;case fe.a.REMOVE_TYPE:t.setData({addLiqFromPools:!1,actionLiqV2:fe.a.ADD_TYPE});break;default:t.setData({actionLiqV2:fe.a.ADD_TYPE,addLiqFromPools:!1})}},s.updatePoolList=function(){s.poolRef&&s.poolRef.current&&s.poolRef.current.onRefreshList()},s.settingsRef=x.a.createRef(),s.swapRef=x.a.createRef(),s.addRef=x.a.createRef(),s.poolRef=x.a.createRef(),s.state={lang:window.localStorage.getItem("lang")||h.a.options.currentLocale,activeKey:fe.a.ADD_TYPE,visible:!1,isAnimationNotDone:!0,isShow:!1,toastStatus:!0,version:$e.a},s}return Object(b.a)(a,[{key:"render",value:function(){var e=this,t=this.props.sunSwapPool,a=t.actionLiqV2,n=t.addLiqFromPools,s=a===fe.a.ADD_TYPE&&n,o=a===fe.a.REMOVE_TYPE,r=s||o;return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("div",{children:[Object(ee.jsxs)(tt.a,{version:"V1",onVersionChange:this.onVersionChange,routeName:"sun_swap/v1",pageList:at,activePage:a,onPageChange:function(t,a){var n=a.key;return e.changeTab(n)},isDetailPage:r,detailPage:{title:h.a.get(s?"sunSwapV3.pool.add_addLiq_title":"sunSwapV3.pool.remove_liq_title"),tip:h.a.get(s?"sunSwapV3.pool.add_addLiq_title_tip":"sunSwapV3.pool.remove_liq_title_tip"),onBack:this.onBack,showSetting:s,onSettingChange:this.onSettingChange,network:this.props.sunSwapNetwork,version:"V1"},network:this.props.sunSwapNetwork,onSettingChange:this.onSettingChange,children:[a===fe.a.ADD_TYPE&&!s&&Object(ee.jsx)(me,{ref:this.addRef,onSuccess:function(){return e.handleSuccess(fe.a.ADD_TYPE)}}),s&&Object(ee.jsx)(me,{ref:this.addRef,onSuccess:function(){return e.handleSuccess(fe.a.ADD_TYPE)}}),a===fe.a.SWAP_TYPE&&!r&&Object(ee.jsx)(Ve,{ref:this.swapRef}),o&&Object(ee.jsx)(we,{onSuccess:function(){return e.handleSuccess(fe.a.REMOVE_TYPE)}})]}),!r&&Object(ee.jsx)(Ge,{ref:this.poolRef})]})})}}]),a}(x.a.Component))||l)||l)||l;t.default=nt}}]);