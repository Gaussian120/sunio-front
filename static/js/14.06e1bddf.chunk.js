(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[14],{1005:function(e,t,n){},1012:function(e,t,n){"use strict";var a=n(8),s=n(9),o=n(18),r=n(19),i=n(3),c=n.n(i),l=n(106),p=n(20),u=n.n(p),d=n(884),b=n(17),m=(n(1210),n(10)),j=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).confirm=function(){s.props.confirm&&s.props.confirm()},s.cancel=function(){s.props.cancel&&s.props.cancel()},s.state={},s}return Object(s.a)(n,[{key:"render",value:function(){var e=Object(l.a)(window.navigator).any?0:64;return Object(m.jsxs)(d.a,{footer:null,title:null,closable:!0,maskClosable:!1,open:this.props.visible,className:"unfinished-pop sun-swap-modal",onCancel:this.cancel,style:{marginLeft:Object(b.o)()+e},width:430,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:[Object(m.jsxs)("div",{className:"title",children:[u.a.get("sunSwap.action.popTitle"),Object(m.jsx)("p",{children:u.a.get("sunSwap.action.popDesc")})]}),Object(m.jsxs)("div",{className:"btns",children:[Object(m.jsx)("button",{onClick:this.confirm,children:u.a.get("sunSwap.action.popQuitBtn")}),Object(m.jsx)("button",{onClick:this.cancel,children:u.a.get("sunSwap.action.popCancelBtn")})]})]})}}]),n}(c.a.Component);t.a=j},1017:function(e,t,n){},1018:function(e,t,n){"use strict";var a=n(3),s=n(10);t.a=function(e){var t=e.visible,n=e.onChange;return Object(a.useEffect)((function(){t&&n&&n()}),[t,n]),Object(s.jsx)(s.Fragment,{})}},1019:function(e,t,n){},1020:function(e,t,n){e.exports={question_icon:"style_question_icon__3ZWoP",question_img:"style_question_img__1bgzg"}},1021:function(e,t,n){e.exports={wallet_not_connect:"style_wallet_not_connect__2Qekr"}},1022:function(e,t,n){"use strict";var a=n(271),s=n(26),o=n.n(s),r=(n(1023),n(20)),i=n.n(r),c=n(221),l=n(10);t.a=function(e){var t=e.pageList,n=e.activePage,s=e.onPageChange;return Object(l.jsx)("div",{className:"page-panel-wrap",id:"swap-tab",children:Object(l.jsx)("div",{className:"panel-header",children:t.map((function(e,t){return Object(l.jsxs)("div",{className:o()({"panel-header-item":!0,"panel-header-item-active":e.key===n,flex:!0}),children:[e.path?Object(l.jsx)(a.b,{to:e.path,children:e.textKey?i.a.get("sunSwapV3.panelHeader.".concat(e.textKey)):e.text}):Object(l.jsx)("span",{onClick:function(){return s&&s(t,e)},className:"page-item-text",children:e.textKey?i.a.get("sunSwapV3.panelHeader.".concat(e.textKey)):e.text}),e.tips&&Object(l.jsx)(c.a,{tip:e.tips})]},e.key)}))})})}},1023:function(e,t,n){},1033:function(e,t,n){e.exports={"page-head":"style_page-head__Q5_41",link:"style_link__gpGN-","gradient-title":"style_gradient-title__3TOPy",animateTitle:"style_animateTitle__JszRT","dim-content":"style_dim-content__3_Ul3",uppercase:"style_uppercase__PmEs8","window-for-tabs-pane":"style_window-for-tabs-pane__1V2Lv","dark-btn":"style_dark-btn__DQL_s","purple-btn":"style_purple-btn__2SawB","cur-input":"style_cur-input__37INw","max-btn":"style_max-btn__npQR2",info_box:"style_info_box__1963G",info_box_no_border:"style_info_box_no_border__W8LQy",info_box_item:"style_info_box_item__3JfS2",info_box_label:"style_info_box_label__f3QFH",info_box_value:"style_info_box_value__1v2mN",info_box_responsive:"style_info_box_responsive__3jNYY",info_box_responsive_h:"style_info_box_responsive_h__3eg33"}},1034:function(e,t,n){"use strict";var a=n(1789),s=n(970),o=n(221),r=(n(1113),n(10));t.a=function(e){var t=e.title,n=e.tip,i=e.onBack,c=e.showSetting,l=void 0!==c&&c,p=e.onSettingChange,u=e.network,d=e.version;return Object(r.jsxs)("div",{className:"v3-sub-nav",children:[Object(r.jsx)(a.a,{className:"v3-sub-nav-left-arrow",onClick:i}),Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsx)("span",{className:"v3-sub-nav-title",children:t}),n&&Object(r.jsx)(o.a,{tip:n})]}),Object(r.jsx)("div",{className:"v3-sub-nav-right",children:l&&Object(r.jsx)(s.a,{onChange:p,network:u,version:d})})]})}},1057:function(e,t,n){"use strict";var a=n(8),s=n(9),o=n(18),r=n(19),i=n(3),c=n.n(i),l=n(20),p=n.n(l),u=n(1762),d=n(881),b=(n(1209),n(10)),m=Object(b.jsx)(d.a,{style:{fontSize:24},spin:!0}),j=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).state={},s}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.children,t=c.a.Children.toArray(e).map((function(e,t){var n=e.props,a=n.children,s=n.status,o=n.err,r=n.failed,i=a;return"error"===s&&(i=o||a),"pending"===s&&(i=p.a.get("sunSwap.action.doingAct")),"failed"===s&&(i=r||a),Object(b.jsxs)("div",{className:"al_item ".concat(s?"".concat(s):""),children:[Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("span",{className:"al_number",children:t+1}),Object(b.jsx)("span",{className:"al_title".concat(s?" ".concat(s):""),children:i})]}),"pending"===s&&Object(b.jsx)(u.a,{indicator:m,className:"spiny"})]},e.key)}));return Object(b.jsx)("div",{className:"action-line",children:t})}}]),n}(c.a.Component);t.a=j},1097:function(e,t,n){"use strict";var a=n(4),s=n(45),o=n(26),r=n.n(o),i=(n(1098),n(10)),c=["children","className","disabledCanClick","disabled","onClick"];t.a=function(e){var t=e.children,n=e.className,o=e.disabledCanClick,l=e.disabled,p=e.onClick,u=Object(s.a)(e,c);return Object(i.jsx)("div",Object(a.a)(Object(a.a)({onClick:function(e){(o&&l||!l)&&p&&p(e)},className:r()("sun-button-primary",{"sun-button-weak":o&&l},n)},u),{},{children:t}))}},1098:function(e,t,n){},1099:function(e,t,n){"use strict";var a=n(4),s=n(45),o=n(1358),r=n(3),i=(n(1100),n(10)),c=["prefix","showPrefix","suffix","showSuffix","enterButton","value","onSearch"],l=function(e){var t=e.prefix,n=e.showPrefix,l=e.suffix,p=e.showSuffix,u=e.enterButton,d=e.value,b=e.onSearch,m=Object(s.a)(e,c),j=Object(r.useRef)(null);return Object(i.jsxs)("div",{className:"sun-search-input-wrap",children:[n&&Object(i.jsx)("div",{className:"sun-search-input-prefix",children:t||Object(i.jsx)(o.a,{style:{color:"rgba(255, 255, 255, .5)"}})}),Object(i.jsx)("input",Object(a.a)({ref:j,type:"text",className:"sun-search-input",value:d},m)),p&&Object(i.jsx)("div",{className:"sun-search-input-suffix",children:l||(u?Object(i.jsx)("div",{className:"sun-search-input-btn",onClick:function(){var e;return b&&b(null===(e=j.current)||void 0===e?void 0:e.value)},children:u}):null)})]})};l.defaultProps={showPrefix:!0,showSuffix:!0},t.a=Object(r.memo)(l)},1100:function(e,t,n){},1101:function(e,t,n){},1102:function(e,t,n){e.exports={token_view_icon:"style_token_view_icon__2mRa-",token_logo_icon:"style_token_logo_icon__2_bsW"}},1103:function(e,t,n){e.exports={remove_liq_title:"style_remove_liq_title__Nrq_E",remove_liq_fee:"style_remove_liq_fee___gp6i",remove_liq_num:"style_remove_liq_num__XhztX",remove_liq_btn:"style_remove_liq_btn__1wZsk",remove_liq_active_btn:"style_remove_liq_active_btn__Lo8Al",remove_liq_token:"style_remove_liq_token__3J2um",remove_liq_value:"style_remove_liq_value__18eCU",remove_liq_price:"style_remove_liq_price__1uAT9"}},1104:function(e,t,n){},1105:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAA/JJREFUWEfVWctqFUEQPeX7/X5tXIkIouBa/AkxgkYXgrhwIQiufaCuxYXoQsSNGkHFnxDXgiKIuHJlTIwmMYmJ8ci5Voe+k3tneuaOIVMwhCTT3aerTlWdnjb0YCQNwHIAKwEsA7AEwFL/qZn/AJj1n78B/AIwY2asuqwWLG0kBXCVPwJZxrSJKT1mpg2UslKASa4AsMG9GhaSBwVgJuNR/T/2uCKhTSoCwTRm1MymU1EnASapcK/3BUOoJ9xLWjTZSAbgayLqaMNjZiba5FohYA//ZgB6V9z7qcfMFNrKRlLeX+tPmHukiCa5gElqQlFAJi8ofKJAbUZSFNEaootMa8gpHa0rYJIbAShssnE9vWR33g692qwDoEc2YWY/Oo3pCDjj2e9mNlmbS3MmIrkawKY8T88D7Jzd4oMWDGzYRwb0tyyn2wB7NdjmCSYKjC2EZ7NrkFRFEj2U5ENx9cgCVjUQ+ZVg8m6pjkTyMIA9AAZSSlQ3ZzinRY0WFjMbCe/OAfamsNV39bVMNSCp5LwN4JxPfMPMrvQSHa8e2z3aw6G5xIBFBRX1UlQgeRDAUwD7I4A9A9ZcETWkP4b0txbgKNHUDOTdpKZA8jyAW1EN1XQDAM7WUVm8ucjLajKtBAyAxReVlCTvkhTXHwA4GnlVxf6CmT3shQo5CdiqzeYE3+G7UEbmagOSRwA8AbA7mvwNgBNm9qFOsB590VR0VdQHBVgKTMk2a2aDBR3pMoCrGcWljnTPtW4VvB/lgLyKRFIOVQsfFuBQ8yRoRnNKzTEAz6sgShhz2swe56wtrSFdMy7AofbmdjWSfQCeJSxe5ZUiwKFlTwmw6CBazGuDHRJAoA9UQZQzJoUSOuFILkwLcOCHylmhgK4ZbNJ0LhlU3mYFeJfX4y+p9TdplRpf8nq8Uy2jkYAbR4mkpPMG0w9gb43R1lTvzCy3XEbSoZV0qWXtFIBHNYMN0x3PAx2J+lZZS20c/xNwn5m9SG0cSa25Bkqolkrd6XAbTCfwa2Z2s0AStLVmKbZk8VOFEiT3uWY+FI3/DKDfzF4VgG0XP66IwpE+SV6WAU3yDIA7rgXC0JeumeeOPjl0CJT9Jy8dcGh9pQR8gWfU/6WZT0bv6ax4yczupmy6q4B30JWOSDmeuQ5AcjTYe9fMb1PAOqbg3fYjkv8zJJ9OyqUOoZ0AkIwB3wdw0cz0ATHJCg+hDrqnY36MxAWL6PDJzF4nofSXko75DlifVZvzISWTgPp1cX+qCmFr1MfACHRzPrd28fTi/qAdgVZTacaVQQS6OZcymdrajGuvbNH3E4C0guhS5WJRF4qTRTdGnZpN4bVXgcBZ8Kvbv7gRNO3rhp7CAAAAAElFTkSuQmCC"},1106:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAABjJJREFUaEPdW0moXEUUPcd5ivM8gKJBxYUriRsHHHCI4EJQFEGMw8aNbpw2JhuHla6NmoWiKG4ERxwwujELFy5ERUXBIZp5TjSJR07+rU7997v7Vb1+0dAXmub9rqp3T91Td3rvEz2LJAI4GMAhAA6KzwEA/PFvFgH4Jz67APjzN4CdJP1bb5JuONGCAepQAIcD8HfXdQ3uLwDb/d0H2K6KzJhhxlpHAjiqAWp3KJqs42tbLFnH82zRAzMre2N8ncRjtwDYOgnQTgADmK01LxS1Ugbjnd9O0oCqRZIBel1/TG+LN2ZzrFtN32qAkg4LYEmBnVaApKnVm0iyRb2BPs9pA32fHTU3KQYYVvMNTUmLreQb2mr7TCQlpiT6bo37FlmzCKAkn5djw4EYjCkz0dmo2ZHsrHuDLWbLBpKm71hpBSjJVDwuzoR3bX3fdGxTMv0etLUu1ttn3rr4e6SMBRjgTghHUrRgqbJdxzU23BZcOw7kSIBBS4OzBR2EvVutlOiqeM280M2WdDLhjTfIoboNBRic9wL2ZGMXqFGsz7ENA/hM2gBzHM8ogEeHt/SENW0871PxmrWCrifGmbTT29ScPwdgxDlbz7Lu/3IopUDD8Rwf423FWXFyFsCgpnfE584xzqnSfi+SnCo6hPg4mXEDqjYBHgHgmAjiq2tyQEnOOK4AcFHEzNYQ1Ng5K7UBwNcAlpN0hlQkYZiTIpfdSHJbmjhQIgadHCHBQbQ4Q5F0HYClAM4q0qh90C8A7iP5QfvQmRGR8TgZsTddlYyTA0xmdk22pmLhpwE8Ujq+ctwzJB8tnSPJx8tMGhyvPQDDeqeENyp2LJJuAPBupsDvAD4E8HOpUo1xZwO4FsDp2d9vJPleyXqZwzHd/7QVE0BXCPacu0iuLlzMQfanTJk3ASwi6Ty1s0iys1gG4JZYxJt2DkknG60iyWfRTnKPR00ADc4giz1nnLv3446/AriwL68bXvEbAGfG+teXnsfMo+4guZ4NevpwFhWrkh4E8GwosIzkotbtrRgg6SUAd8eUh0g+VzI9imY7yxmaSjLVnHPuJrmqZJE4t4sBPBHjl5D0dW8iKV9/McklpYtLMkDXj2sNMHnPbSQ3liwiydR5GcAlWQHcnLoSwKcAHiZpCldJA2DVBkpyLHdM32yAjh2umjeRdLU8VgLcVwBSetQ2ZR2Ai2tBTgjQXQfn09sNMMWOovAg6VUAt7ehavz+Gsk7auZMCNBVkA2w0wATX52aja2O4+zZbZ8Wyi4kmcfBAQZJCwG8HX9YSTKPba1YJwToMOFwsdsAT40A78DYWtBK2pvIkm0dgaKxkq4GcBuAywGcEehdFZhdltoz6B6SExcZYLLGHyXJdZ8AJc2PHNZJ+jj50seC5Petpt+bmdlw6AIwp+hNJN8ZdtM2ikq6DMBbkUGV6L0ewM0kP28bHLF9ALCWohM7mbDcigycqfwCgBejXDIGl133ALg3eyxgkAvaLBntjAFFa52MY+BEYUKS42OipePlnSQ/GcGEqwC8kjk214pXjrNitDIGTqYqTIQn7Rzow6F8FAractckcJLOBZDyW+efP8b9DNJzklPznI9Hgcyqij1hoirQp0UlOU1L6Vmxl5P0vIvZWGcpyfuzNR8D8GRcP07yqey3kfOaQCXNCvTVqVrsaqdkW9K3AM4PpS4luSIsdysAdwYSdZcDcEX/hi0paQGAL2LedyQvGGPBWala12TbylSXS5JcL3pTLfNcYkmy+z9vhMI/kJwfOXOqNbeQTM8p5kxrJtvmdarma8qlTgXvvgY4p1wKulUXvDGvS8vigSxD6Z2icwreULS6ZZEd/kmaTr07mVEti5ymRVVFTvwJ2oa9homRTaewYqe2YWbJmsbvXQDcQbP0FuhHtg0DoK3YqfE7yl2PceNOsntN1VobvwGyc+u+A8jeku2i1n1mxf/s4UtFueSg71b+0HKp+OFLw6P6strh1Foy7jms4P0NwGcAXi/MO73U+MdnmcOY3gegGVWn9xF2gHRfYzpfQsio6u7UdL5G0gA5nS8CZSCn91WuDKQznel8Ga+RWE/n65QNkLbmdL4QOwTo9L3S3EzHpval9GF55/72bwX/ApHa3TI9wHVxAAAAAElFTkSuQmCC"},1107:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAABn9JREFUaEPdm1usXGMUx3+rp3VtlbpTQWhU+uCF8EJdKi6VtDUTUpGIUi9eeMGbeuOJZ7c+EEJmtE1co2h50YQHD40Kgiil9H6l51jy32ftyT5zzsz+9syUZr5kMpmzv2/t9f/+6/rtfYwBD3c3YAZwHDA9PtMAfXRNw4F/4jMK6PM3cMTMdG1gI79hXwID1PHAiYC+e5UrcH8Bh/Q9CLC9KjJOwzhbJwMz20CNhaI5O/otxnJ2tE6MjhRY1sbodz40dz9woB+gPQEMYGJrVigqpQRGO3/IzASo8nB3AZRcfWTeGtqYfSG3svlWBujuJwSwXIEjUsDMZFoDG+4uRrWB8ud8A3Wfw1VukgwwWNMNZZIaYkk3FGtHbbh7bim5+R6I+yaxmQTQ3eUvp0YAERiZTF++UWVHCr6uDdaQtew2M5lv11EK0N1liqeFT2jXdg3aHMuUzK+H2UoX6S2fly767ji6Agxwp0cgSRKYqmyv89o2XAzu6AayI8AwS4ETg0rC2q1Sk+hV8SrrQjcxqWJCGy+QU+o2JcCweQlQJOsqoIpig5zbRoB8UgRMCjydAJ4S0VIL/iyz80EqXkVWmOsZ4ZMKenvb108CGHlO7Gns/L8CSirQCDxzYr5YnJAnJwAM09SOyO+U41QqHfPD3VUqKoXInWRxLVNtB3gSMDuS+B9VakD/ghn8xEKcBViWM0tTUNvOOc5ujM1cyEa7ElVISSOIOTNq2T1mdjBf2FIiJp0VKUFJNLlC8Qa3YLyAc0GSRmWTjJ9xVlqdD8qm5tej4tHGKppuz8kpAsxpVk/2Z7LgJk/jPJ46v9I84xmr8UTqGneXe6l2bblXBjDYOzvMKjmw+BpuY4x3WwoYv+J8iPFjqlIT5jkXYdyMc17r7yPcbst4L0VeIeDIB38XizlAdQiKnKNm9keSsM0cxxZ+aCljNJjOCluS1ak9D1/HLEZZjVPLhGjT5nOxLciKjdLh7vJFBcksouYABU4gkyNn5nfwfiixlTlcbjdkDWrfwz9hJjv5GmduCLs11R8LEfWwme2yNvOUcyY1q97kEZxnA+Bqq7Gib2QFAd7kZZz7Q/6jVuO5FPnRNCtYjpupu6ueU805ZmbbU4RkfttkFc6TocBTVmNV6tqUeW3yV1mNp1LWZbq5C6D6xx0CmEfPg2a2J0WIN5mL8wpwVaEBnrjU2IazAeMxq7E1RW5xTj8b6O7K5crp+wRQuUNd814zU7fcdQS4r4C8PCpbshPjiqog+wSoUwfV04cEMM8dSenBG7wGLC9D1Xb9datzT5U1fQJUFyQCjghgbq8qzbp2x+F7ynXnhrKLrV7IgxODxGKct8NHt1mtkNsSkPYJUGlC6WJMAM+JBK/EWNrQeqN1tonVu9ebqXN9DTcxxt3AdcD5sSmHcWRdyoWVglj0iipcXABzNn5LKa5Tlc7YLtkMbzAvatiFXUk1vsRZbnW+TSA/r8xEHNUBNrNybHxTjDusxjtT3dSbdDVRX8u1jLEOzyqo8mHsYoQltpTPyiZHbm8BrGqifQeZYG5TC5yhVulFpvMSs9mcAdjDAkZ5AONBPFxBIJ2ry5hsN9GqQUY5sK804U024IybpfKlca/dycdTWsJb3IjzasFqNlqN67uxGEcZrSBTKU1EJO050UdAWR/gxM2iTuByED4Ocn2LyREW2TI+6gSy0FVkaaJSom/dtMmTeJRnFaKcN3geWBlyXrA6D5X5VASs5HXuPiHRVy7VgsWeim1vsAW4LAM1nWtsKZt8DZfwD3cVHg3kmP9iGm/aMr73tVzNKJ/HhW+szvwuDE4o1Xortntsl7yR9YvaVJX4s9RieSML/5d2UPg7qzMva6F2tHrN/VbPDpmmHO3FtnrCvJtPb5d6bHiPNsBJ7VJmbu6VG95sXW9HFg+3KpSjYKKTGt4AWPnIohBs+jl0GniQ6XRkUTTTpK6iaPw9HxsqwQ8wTXQ8dAoWezo2bDFZ7eD3PnSCNuBE3/HYMACKxZ4OflPyWBvjKrIHWqqVHvwGyJ6P7iuDHGCxnXR0X2DxP3v4UqFd2hhH+VO2S8kPX9oiqn5WDjhVmYx0M7nhhV+ATxnhjcS6U6K6Pz5rBQz34X0AWjDV4X2EHSD1bsxwvoRQMFWdTg3nayRtIIfzRaACyOF9lasAUpXOcL6MN6HMGtbXKdtAis3hfCF2CqDD90pzezk2tC+lT1V3Hmv/VvAvO9naMpPiOwsAAAAASUVORK5CYII="},1108:function(e,t,n){"use strict"},1109:function(e,t,n){"use strict";var a=n(3),s=n(53),o=n(195),r=n(1110),i=n(20),c=n.n(i),l=n(10),p=function(e){var t=e.showMigrate,n=e.showAdd,a=e.showRemove,i=e.className,p=e.onMigrate,u=e.onAdd,d=e.onRemove,b=e.removeDisabled;return Object(l.jsxs)("div",{className:i,style:{textAlign:"right"},children:[t&&Object(l.jsx)(s.a,{theme:{token:{colorText:"#5A14E1",colorBgContainer:"#DECDFF",colorPrimary:"#5A14E1",colorPrimaryHover:"#5A14E1",controlHeight:30}},children:Object(l.jsx)(o.a,{style:{border:"none"},className:r.liquidity_btn_migrate+" pure-comp",onClick:function(){return p&&p()},children:c.a.get("sunSwap.migrate.title")})}),n&&Object(l.jsx)(s.a,{theme:{token:{colorText:"#fff",colorBgContainer:"#8C51FF",colorPrimary:"#fff",colorPrimaryHover:"#fff",controlHeight:30}},children:Object(l.jsx)(o.a,{style:{border:"none"},className:"pure-comp",onClick:function(){return u&&u()},children:c.a.get("sunSwap.pool.base_increase_link")})}),a&&Object(l.jsx)(s.a,{theme:{token:{colorText:"#C1A0FF",colorPrimaryHover:"#C1A0FF",controlHeight:30,colorTextDisabled:"rgba(255, 255, 255, 0.5)"}},children:Object(l.jsx)(o.a,{disabled:b,onClick:function(){return d&&d()},className:r.liquidity_btn_remove+" pure-comp",type:"text",children:c.a.get("sunSwap.pool.base_remove_link")})})]})};t.a=Object(a.memo)(p)},1110:function(e,t,n){e.exports={liquidity_btn_remove:"style_liquidity_btn_remove__2AFYU",liquidity_btn_migrate:"style_liquidity_btn_migrate__UEXPP"}},1111:function(e,t,n){e.exports={wallet_not_connect:"style_wallet_not_connect__2Wm9c"}},1112:function(e,t,n){e.exports={"page-head":"style_page-head__1BLAB",link:"style_link__3S1dj","gradient-title":"style_gradient-title__3MHT8",animateTitle:"style_animateTitle__2WZFP","dim-content":"style_dim-content__12T8T",uppercase:"style_uppercase__3-6jb","window-for-tabs-pane":"style_window-for-tabs-pane__4neP4","dark-btn":"style_dark-btn__2oICp","purple-btn":"style_purple-btn__30BiF","cur-input":"style_cur-input__1R2iF","max-btn":"style_max-btn__2xtc9",sun_swap_content:"style_sun_swap_content__1pfSB",sun_swap_content_detail:"style_sun_swap_content_detail__3O12x",page_tab_wrap:"style_page_tab_wrap__3N5Xm",page_tab_nav_wrap:"style_page_tab_nav_wrap__lRKwD",v3_new_icon:"style_v3_new_icon__3xLDJ"}},1113:function(e,t,n){},1114:function(e,t,n){},1116:function(e,t,n){"use strict";var a=n(5),s=n(4),o=n(14),r=n(45),i=n(3),c=n(20),l=n.n(c),p=n(951),u=n.n(p),d=n(26),b=n.n(d),m=n(899),j=n(910),k=n(17),f=n(118),h=n(900),w=n(1022),O=n(970),v=n(1112),x=n(1034),g=n.p+"static/media/v3_new.ebab458d.png",S=n(10),_=["routeName","version","onVersionChange","onSettingChange","isDetailPage","children","detailPage","network"],A=function(e){e.routeName;var t,n=e.version,c=e.onVersionChange,p=e.onSettingChange,d=e.isDetailPage,A=e.children,T=e.detailPage,y=void 0===T?{}:T,N=e.network,P=Object(r.a)(e,_),D=Object(i.useState)(0),V=Object(o.a)(D,2),C=V[0],q=V[1];Object(i.useEffect)((function(){Object(f.b)().then((function(e){var t=(e.data||{}).allSwaps;q(t)}))}),[]);var L=Object(i.useMemo)((function(){return Object(S.jsx)(u.a,{start:0,redraw:!0,end:Number(Object(k.a)(C).toFixed(0,1)),duration:1,prefix:"$ ",separator:","})}),[C]);return Object(S.jsxs)("div",{children:[Object(S.jsx)(m.a,{routeName:1321,mountedActions:function(){},instantActions:function(){}}),Object(S.jsxs)("div",{className:"main-page-content",children:[Object(S.jsx)(j.a,{title:L,subTitle:l.a.get("sunSwap.total_stake"),isRevert:!0}),!d&&Object(S.jsxs)("div",{className:v.page_tab_nav_wrap,children:[Object(S.jsx)("img",{src:g,alt:"new",className:v.v3_new_icon}),Object(S.jsx)(h.a,{list:[{label:"V3",value:"V3",route:"v3/swap",handler:c},{label:"V2",value:"V2",route:"sun_swap/v2",handler:c},{label:"V1",value:"V1",route:"sun_swap/v1",handler:c}],activeKey:n?n.toUpperCase():"V3"})]}),!d&&Object(S.jsxs)("div",{className:v.page_tab_wrap,children:[Object(S.jsx)(w.a,Object(s.a)({},P)),Object(S.jsx)(O.a,{onChange:p,network:N,version:n})]}),Object(S.jsxs)("section",{className:b()((t={},Object(a.a)(t,v.sun_swap_content,!0),Object(a.a)(t,v.sun_swap_content_detail,d),t)),children:[d&&Object(S.jsx)(x.a,Object(s.a)({},y)),A]})]})]})};t.a=Object(i.memo)(A)},1118:function(e,t,n){"use strict";var a=n(3),s=n.p+"static/media/loading_chry.cbf82baf.svg",o=n(26),r=n.n(o),i=n(10),c=function(e){var t=e.className,n=e.style,a=e.size,o=void 0===a?20:a;return Object(i.jsx)("div",{className:r()("infinite-loading",t),style:n,children:Object(i.jsx)("img",{className:"infinite-loading-circle",style:{width:o,height:o},src:s,alt:"loading"})})};t.a=Object(a.memo)(c)},1119:function(e,t,n){"use strict";var a=n(3),s=n(949),o=n(20),r=n.n(o),i=n.p+"static/media/table_no_data.fbf13c8c.png",c=n(1111),l=n(10),p=function(){return Object(l.jsx)(s.a,{img:i,emptyText:r.a.get("sunSwap.pool.base_noLiquidity_tip"),className:c.wallet_not_connect})};t.a=Object(a.memo)(p)},1120:function(e,t,n){"use strict";var a=n(4),s=n(14),o=n(45),r=n(192),i=n.p+"static/media/token_loading.df40235f.svg",c=n(3),l=n(26),p=n.n(l),u=(n(1101),n(10)),d=["src","defaultSrc","className"],b=function(e){var t=e.src,n=e.defaultSrc,l=e.className,b=Object(o.a)(e,d),m=Object(c.useState)(i),j=Object(s.a)(m,2),k=j[0],f=j[1],h=t||n||r.a;return Object(c.useEffect)((function(){var e=new Image;e.src=h,e.onload=function(){f(h),e=null},e.onerror=function(){f(r.a),e=null}}),[h]),Object(u.jsx)("img",Object(a.a)(Object(a.a)({src:k},b),{},{alt:"logo",className:p()("sun-icon-img",l)}))};t.a=Object(c.memo)(b)},1147:function(e,t,n){"use strict";var a,s=n(8),o=n(9),r=n(18),i=n(19),c=n(3),l=n.n(c),p=n(171),u=n(20),d=n.n(u),b=n(884),m=n(1348),j=n(17),k=n(22),f=n(10),h=Object(p.b)("sunSwapNetwork")(a=Object(p.c)(a=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).changeCheckStatus=function(e){a.setState({checkStatus:e})},a.comfirmContinue=function(){a.state.checkStatus&&a.props.cb()},a.componentDidMount=function(){},a.state={checkStatus:!1},a}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.visible,a=t.dealWarningSymbol,s=this.state.checkStatus,o=a?k.a.deflationToken[a]:{symbol:"",slippage:""},r=o.symbol,i=o.slippage;return Object(f.jsx)(b.a,{title:d.a.getHTML("list.deal_warning_title",{value:r}),closable:!1,open:n,footer:null,style:{marginLeft:Object(j.v)(500)},width:525,className:"list-addtoken-modal deal-warning-modal sun-swap-modal",centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:Object(f.jsxs)("div",{className:"solor-modal-body",children:[Object(f.jsxs)("div",{className:"tips",children:[Object(f.jsx)("div",{className:"tips1",children:d.a.getHTML("list.deal_warning_content_1",{value:r})}),Object(f.jsx)("div",{className:"tips1 yellow",children:d.a.getHTML("list.deal_warning_content_2",{value:i})}),Object(f.jsx)("div",{className:"tips1",children:d.a.getHTML("list.deal_warning_content_3",{value:r})})]}),Object(f.jsx)("div",{className:"check-box"+(s?" checked":""),children:Object(f.jsx)(m.a,{onChange:function(t){return e.changeCheckStatus(t.target.checked)},children:d.a.get("sunSwap.list.i_understand")})}),Object(f.jsx)("div",{className:"btns",children:Object(f.jsx)("button",{onClick:this.comfirmContinue,className:s?"button-active":"",children:d.a.get("sunSwap.list.continue")})})]})})}}]),n}(l.a.Component))||a)||a;t.a=h},1148:function(e,t,n){"use strict";var a=n(3),s=n(1211),o=n(10),r=function(e){var t=e.title,n=e.content;return Object(o.jsxs)("div",{className:s.warning_tip,children:[t&&Object(o.jsx)("h4",{className:s.warning_tip_title,children:t}),n&&Object(o.jsx)("div",{className:s.warning_tip_content,children:n})]})};r.defaultProps={},t.a=Object(a.memo)(r)},1149:function(e,t,n){"use strict";var a=n(8),s=n(9),o=n(18),r=n(19),i=n(3),c=n.n(i),l=n(20),p=n.n(l),u=n(26),d=n.n(u),b=n(321),m=n(10),j=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.token,a=void 0===n?{}:n,s=t.disabled;return Object(m.jsx)("p",{className:d()({dragDown:!0,"chose-token":!a.tokenAddress,"no-bg":s}),onClick:function(){return e.props.showModal()},children:a.tokenAddress?Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)("img",{src:a.tokenLogoUrl,alt:"",onError:function(e){e.target.onerror=null,e.target.src=b.a}}),Object(m.jsx)("span",{children:a.tokenSymbol})]}):Object(m.jsxs)(m.Fragment,{children:[p.a.get("sunSwap.tokens.add_choose_select")," "]})})}}]),n}(c.a.Component);t.a=j},1209:function(e,t,n){},1210:function(e,t,n){},1211:function(e,t,n){e.exports={warning_tip:"style_warning_tip__3dgbE",warning_tip_title:"style_warning_tip_title__3J0wk",warning_tip_content:"style_warning_tip_content__fTsNT"}},1212:function(e,t,n){e.exports={"swap-block":"style_swap-block__3xRpJ","sunswap-chose-token":"style_sunswap-chose-token__1LIsY","select-token-top":"style_select-token-top__1xNRr",dragDown:"style_dragDown__17tRO","token-detail":"style_token-detail__Bez9o","input-block":"style_input-block__1Jmxi","input-number":"style_input-number__1lhaz","swap-balance":"style_swap-balance__m1Zwe","max-btn":"style_max-btn__1yKnZ","media-trade-router-pc":"style_media-trade-router-pc__3z-07","media-trade-router-mobile":"style_media-trade-router-mobile__1kjoQ",root:"style_root__3pGMk",flex:"style_flex__2Qw9R",pool_info_title:"style_pool_info_title__1py-K",pool_logo:"style_pool_logo__28EZc"}},1213:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAANCAMAAAB4p3UoAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEJQTFRFAAAASFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlDTbkywAAABZ0Uk5TAIDuQFf/9AFYP9cvsf78ImriLWQuePVMmBkAAABCSURBVHicY2DADRiZmNFEWFhZMYXYcAmxIwAHKysnAwMXKyrgZuABkrwQABLg40cxSIBVUIhEAWFWVhFU14hyQQQA99wCt/58bxkAAAAASUVORK5CYII="},1214:function(e,t,n){"use strict";var a=n(3),s=n(1775),o=n(1777),r=n(323),i=n(1215),c=n(995),l=n(10),p=function(e){var t=e.title,n=e.tip,a=e.value;return Object(l.jsxs)(s.a,{className:i.list_header,align:"middle",justify:"space-between",children:[Object(l.jsxs)(o.a,{span:12,children:[Object(l.jsx)("span",{children:t}),n&&Object(l.jsx)(r.a,{title:n,overlayClassName:"tooltip",color:"rgba(27,31,38,0.90)",children:Object(l.jsx)(c.a,{className:i.list_header_icon})})]}),Object(l.jsx)(o.a,{span:12,style:{textAlign:"right"},children:a&&Object(l.jsx)("div",{children:a})})]})};p.defaultProps={},t.a=Object(a.memo)(p)},1215:function(e,t,n){e.exports={list_header:"style_list_header__3pl6p",list_header_icon:"style_list_header_icon__2amZ7"}},1216:function(e,t,n){e.exports={"page-head":"pool_page-head__3PMYt",link:"pool_link__17GqF","gradient-title":"pool_gradient-title__2-sgq",animateTitle:"pool_animateTitle__aNJp5","dim-content":"pool_dim-content__3yQA5",uppercase:"pool_uppercase__1uPY9","window-for-tabs-pane":"pool_window-for-tabs-pane__2bVrW","dark-btn":"pool_dark-btn__3U_Eu","purple-btn":"pool_purple-btn__1C5ek","cur-input":"pool_cur-input__1dDZC","max-btn":"pool_max-btn__3LEa6",pool_list:"pool_pool_list__2ardF",pool_list_logo:"pool_pool_list_logo__fy9pI",pool_list_logo_right:"pool_pool_list_logo_right__3OXOL",pool_list_btns_add:"pool_pool_list_btns_add__1h9sM",pool_list_btns_remove:"pool_pool_list_btns_remove__1TllO"}},1217:function(e,t,n){"use strict";var a=n(5),s=n(3),o=n(26),r=n.n(o),i=n(982),c=n(1218),l=n(950),p=n(10),u=function(e){var t,n=e.token0,s=e.token1,o=e.pool_share,u=e.pool_tokens,d=e.onAdd,b=e.onRemove,m=e.onMigrate,j=e.showMigrate,k=e.disableRemove,f=e.originItem,h=e.toScan;return Object(p.jsxs)("div",{className:c.liquidity_item_wrap,children:[Object(p.jsxs)("div",{className:c.liquidity_item_header,children:[Object(p.jsx)(i.a,{url:null===n||void 0===n?void 0:n.tokenLogo,className:c.liquidity_item_token_icon}),Object(p.jsx)(i.a,{url:null===s||void 0===s?void 0:s.tokenLogo,className:c.liquidity_item_token_icon,style:{marginLeft:-6}}),Object(p.jsx)(l.a,{className:c.liquidity_item_name,href:h,children:"".concat(null===n||void 0===n?void 0:n.tokenSymbol,"/").concat(null===s||void 0===s?void 0:s.tokenSymbol)}),j&&Object(p.jsx)("div",{className:c.liquidity_item_migrate_btn,onClick:function(){return m&&m(f)},children:"Migrate to V2"})]}),Object(p.jsxs)("div",{className:c.liquidity_item_content,children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:c.liquidity_item_info,children:[Object(p.jsx)("div",{className:c.liquidity_item_info_info_label,children:"Pool Share:"}),Object(p.jsx)("div",{className:c.liquidity_item_info_info_value,children:o})]}),Object(p.jsxs)("div",{className:c.liquidity_item_info,children:[Object(p.jsx)("div",{className:c.liquidity_item_info_info_label,children:"Pool Tokens:"}),Object(p.jsx)("div",{className:c.liquidity_item_info_info_value,children:u})]})]}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:c.liquidity_item_info,children:[Object(p.jsx)(i.a,{url:null===n||void 0===n?void 0:n.tokenLogo,className:c.liquidity_item_token_icon,style:{marginRight:8}}),Object(p.jsx)("div",{className:c.liquidity_item_info_info_label,children:Object(p.jsx)("span",{children:null===n||void 0===n?void 0:n.tokenSymbol})}),Object(p.jsx)("div",{className:c.liquidity_item_info_info_value,children:null===n||void 0===n?void 0:n.amount})]}),Object(p.jsxs)("div",{className:c.liquidity_item_info,children:[Object(p.jsx)(i.a,{url:null===s||void 0===s?void 0:s.tokenLogo,className:c.liquidity_item_token_icon,style:{marginRight:8}}),Object(p.jsx)("div",{className:c.liquidity_item_info_info_label,children:Object(p.jsx)("span",{children:null===s||void 0===s?void 0:s.tokenSymbol})}),Object(p.jsx)("div",{className:c.liquidity_item_info_info_value,children:null===s||void 0===s?void 0:s.amount})]})]})]}),Object(p.jsxs)("div",{className:c.liquidity_item_footer,children:[Object(p.jsx)("div",{className:c.liquidity_item_footer_btn,onClick:function(){return d&&d(f)},children:"Add"}),Object(p.jsx)("div",{className:r()((t={},Object(a.a)(t,c.liquidity_item_footer_btn,!0),Object(a.a)(t,c.liquidity_item_footer_btn_disable,k),t)),onClick:function(){return b&&!k&&b(f)},children:"Remove"})]})]})};u.defaultProps={},t.a=Object(s.memo)(u)},1218:function(e,t,n){e.exports={liquidity_item_wrap:"style_liquidity_item_wrap__XXhD-",liquidity_item_header:"style_liquidity_item_header__1R8kN",liquidity_item_name:"style_liquidity_item_name__1puyp",liquidity_item_content:"style_liquidity_item_content__2d0V5",liquidity_item_info:"style_liquidity_item_info__2ncHM",liquidity_item_info_info_label:"style_liquidity_item_info_info_label__1ljmD",liquidity_item_info_info_value:"style_liquidity_item_info_info_value__2zdic",liquidity_item_footer:"style_liquidity_item_footer__2XP79",liquidity_item_footer_btn:"style_liquidity_item_footer_btn__1ADm2",liquidity_item_footer_btn_disable:"style_liquidity_item_footer_btn_disable__Ei6Nu",liquidity_item_migrate_btn:"style_liquidity_item_migrate_btn__2FlCN",liquidity_item_token_icon:"style_liquidity_item_token_icon__DqzHd"}},1219:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var a,s=n(5),o="v1.0",r="v2.0";a={},Object(s.a)(a,o,"V 1"),Object(s.a)(a,"v1.5","V 1.5"),Object(s.a)(a,r,"V 2")},1220:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(1221);var a=n(10),s=function(){return Object(a.jsx)("div",{className:"v3-loading-box",children:Object(a.jsx)("span",{})})}},1221:function(e,t,n){},1709:function(e,t,n){},1801:function(e,t,n){"use strict";n.r(t);var a,s,o,r,i,c,l,p,u,d=n(4),b=n(0),m=n(2),j=n(8),k=n(9),f=n(18),h=n(19),w=n(3),O=n.n(w),v=n(20),x=n.n(v),g=n(171),S=n(884),_=n(1348),A=n(1765),T=n(62),y=n(22),N=n(1075),P=n(5),D=n(43),V=n.n(D),C=n(106),q=n(1341),L=n(1758),I=n(1342),F=n(323),B=n(26),E=n.n(B),M=n(882),R=n(1763),U=n(17),H=n(133),W=n(1147),z=n(1097),J=n(1099),X=n(1120),Y=n(172),Z=n(1018),Q=(n(1005),n(1017),n(10)),K="REMOVE",G=Object(g.b)("sunSwapPool","sunswapHotTokens")(a=Object(g.c)(a=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){var e=window.localStorage.getItem("solor");if(e){var t=JSON.parse(e);window.localStorage.setItem("solor",JSON.stringify(t)),a.props.sunSwapPool.setData({solor:t})}a.props.sunswapHotTokens.getHotCoinList()},a.setInitToken=function(){a.setState({tokenSort:!1})},a.onTokenStrChange=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,s,o,r,i,c,l,p,u=arguments;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.length>1&&void 0!==u[1]?u[1]:null,n=a.props.sunSwapPool,s=n.exchanges,void 0===s?{}:s,o=n.allExchanges,void 0===o?{}:o;try{r=a.props.type,i=t.target.value.trim(),c=a.state.tokenSort,a.setState({tokenStr:i}),1===r||2===r?a.props.sunSwapPool.setData({swapToken:Object(d.a)(Object(d.a)({},a.props.sunSwapPool.swapToken),{},(l={},Object(P.a)(l,"tokenStr".concat(r),i),Object(P.a)(l,"tokenSort".concat(r),c),l))}):a.props.sunSwapPool.setData({liqToken:Object(d.a)(Object(d.a)({},a.props.sunSwapPool.liqToken),{},(p={},Object(P.a)(p,"tokenStr".concat(r),i),Object(P.a)(p,"tokenSort".concat(r),c),p))}),a.props.sunSwapPool.searchTokenList(r)}catch(b){console.log("onTokenStrChange: ",b)}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChange=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t,n){var s,o,r,i,c;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.stopPropagation(),1!==(s=a.props.type)&&2!==s){e.next=11;break}if(o=a.props.sunSwapPool.swapToken,r=t.tokenAddress,i=o.fromToken,c=o.toToken,!(1===s&&r===i.tokenAddress||2===s&&r===c.tokenAddress)){e.next=8;break}return e.abrupt("return");case 8:if(1!==s&&2!==s||!Object.keys(y.a.deflationToken).includes(t.tokenAddress)){e.next=11;break}return a.setState({modalVisible:!1,dealWarningVisible:!0,callbacks:a.selectSearchCallback,selectSearchItem:t}),e.abrupt("return");case 11:a.props.onChangeToken(t);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.selectSearchCallback=function(){var e=a.state.selectSearchItem;a.setState({dealWarningVisible:!1}),a.props.onChangeToken(e)},a.hideModal=function(){1===a.state.defaultStatus?a.setState({modalVisible:!1,customTokenUriLeg:!0,tokenSort:!1}):a.hideListModal()},a.clearStorage=function(){var e=y.a.localStorage;for(var t in e)window.localStorage.removeItem(e[t]);window.location.reload()},a.showListModal=function(){a.setState({defaultStatus:2})},a.hideListModal=function(){a.setState({defaultStatus:1})},a.selectTokenList=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.props.sunSwapPool.selectedListUrl,a.props.sunSwapPool.setData({selectedListUrl:t}),a.props.sunSwapPool.setTokensDataIntoLocal(),e.next=6,a.props.sunSwapPool.setTokenList(a.props.type);case 6:a.setState({defaultStatus:1}),a.props.sunSwapPool.handleNotifiction(),a.props.sunSwapPool.setTokensDataIntoLocal(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),a.backTokensCategory=function(){a.setState({changeStatus:1})},a.onTokenUriChange=function(e){try{var t=e.target.value;a.setState({customTokenUri:t.trim(),errInfo:""})}catch(n){console.log(n)}},a.checkUrl=function(e){return e||(x.a.get("sunSwap.list.err1"),Object(N.a)("errInfo")),""},a.isListsOver=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).length>=y.a.maxLists},a.addCustomTokens=Object(m.a)(Object(b.a)().mark((function e(){var t,n,s,o,r,i,c,l,p,u,m;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=a.state.customTokenUri,n="",Object(U.u)(t)){e.next=7;break}return n=x.a.get("sunSwap.list.add_failed_tip"),a.setState({errInfo:n}),e.abrupt("return");case 7:if(s=a.props.sunSwapPool.byUrl,!(o=void 0===s?{}:s)[t]||o[t].rs){e.next=12;break}return n=x.a.get("sunSwap.list.exists"),a.setState({errInfo:n}),e.abrupt("return");case 12:if(!a.isListsOver(o)){e.next=16;break}return n=x.a.getHTML("list.lists_over",{value:y.a.maxLists}),a.setState({errInfo:n}),e.abrupt("return");case 16:return e.next=18,H.a.getTokenListJson(t);case 18:if(r=e.sent,i=r.tokens,!((void 0===i?[]:i).length>y.a.maxTokens)){e.next=24;break}return n=x.a.getHTML("list.tokens_over",{value:y.a.maxTokens}),a.setState({errInfo:n}),e.abrupt("return");case 24:if(c=Object(U.I)(r),l=c.key,p=void 0===l?"":l,u=c.valid,void 0!==u&&u){e.next=29;break}return n=x.a.get("sunSwap.list.add_err_tip",{value:p}),a.setState({errInfo:n}),e.abrupt("return");case 29:return a.props.sunSwapPool.updateTokensData(t,Object(d.a)(Object(d.a)({},r),{},{uri:t,rs:0})),e.next=32,a.props.sunSwapPool.setTokenList(a.props.type);case 32:a.setState({defaultStatus:1}),e.next=40;break;case 35:e.prev=35,e.t0=e.catch(0),m=x.a.get("sunSwap.list.add_failed_retry"),a.setState({errInfo:m}),console.log(e.t0);case 40:case"end":return e.stop()}}),e,null,[[0,35]])}))),a.updateList=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,s,o;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.uri,s=a.props.sunSwapPool.byUrlNew,o=(void 0===s?{}:s)[n],Object(U.g)(o,Object(m.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.sunSwapPool.updateByUrl(o);case 2:a.setState({});case 3:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.hideRemoveModal=function(){a.setState({removeId:"",removeModalVisible:!1,removeText:""})},a.showRemoveModal=function(e){try{a.setState({removeId:e.uri,removeModalVisible:!0})}catch(t){console.log(t)}},a.removeTokens=function(){try{var e=a.state,t=e.removeId,n=e.removeText;if(!t)return;if(n.trim()!=K)return;var s=a.props.sunSwapPool.byUrl,o=(void 0===s?{}:s)[t],r=o.cst,i=void 0!==r&&r,c=o.uri,l=void 0===c?"":c;i?a.props.sunSwapPool.deleteByUrlById(l):(o.rs=1,a.props.sunSwapPool.updateByUrl(o)),a.hideRemoveModal()}catch(p){console.log(p)}},a.inputRemoveText=function(e){var t=e.target.value;a.setState({removeText:t})},a.addSolor=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,s;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=a.props.sunSwapPool.solor,s=void 0===n?[]:n,!(V.a.findIndex(s,(function(e){return e.tokenAddress===t.tokenAddress}))>=0)){e.next=5;break}return e.abrupt("return");case 5:return s.unshift(Object(d.a)(Object(d.a)({},t),{},{cst:2})),a.props.sunSwapPool.setData({solor:s}),e.next=9,a.props.sunSwapPool.setTokenList(a.props.type);case 9:window.localStorage.setItem("solor",JSON.stringify(s)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),a.removeSolor=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,s,o;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a.props.sunSwapPool.solor,s=void 0===n?[]:n,o=t.tokenAddress,V.a.remove(s,(function(e){return e.tokenAddress===o})),a.props.sunSwapPool.setData({solor:s}),e.next=7,a.props.sunSwapPool.setTokenList(a.props.type);case 7:window.localStorage.setItem("solor",JSON.stringify(s)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),a.getKeys=function(e){try{return Object.keys(e).sort((function(t,n){return e[t].name>e[n].name?1:-1}))}catch(t){return[]}},a.tokenSortByAsCII=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,s,o,r,i,c,l,p,u;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=!t,n=a.props.type,s=[],o={},r=a.props.sunSwapPool,i=r.swapToken,c=r.liqToken,1!==n&&2!==n||(s=i.tokenList,o=i.tokenMap),3!==n&&4!==n||(s=c.tokenList,o=c.tokenMap),i["tokenSort".concat(a.props.type)]=t,c["tokenSort".concat(a.props.type)]=t,a.props.sunSwapPool.setData({swapToken:i,liqToken:c}),!t){e.next=19;break}l=s.sort((function(e,t){var n=o[e].tokenSymbol.toLowerCase(),a=o[t].tokenSymbol.toLowerCase();return n<a?-1:n>a?1:0})),(p=V.a.findIndex(l,(function(e){return e.tokenAddress===y.a.trxFakeAddress})))>=0&&(u=l.splice(p,1),l.unshift(u[0])),1!==n&&2!==n||(i.tokenList=l),3!==n&&4!==n||(c.tokenList=l),e.next=21;break;case 19:return e.next=21,a.props.sunSwapPool.setTokenList(a.props.type);case 21:a.setState({tokenSort:t}),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t){return e.apply(this,arguments)}}(),a.confirmContinue=Object(m.a)(Object(b.a)().mark((function e(){var t,n,s,o,r;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=a.state.checkStatus,n=a.props.sunSwapPool,s=n.tokenBrief,o=n.tokenBriefAnother,r=Object(U.q)("type"),t){e.next=6;break}return e.abrupt("return");case 6:if(!(Object.keys(s).length>0)){e.next=9;break}return e.next=9,a.addSolor(s);case 9:if(!(Object.keys(o).length>0)){e.next=12;break}return e.next=12,a.addSolor(o);case 12:a.props.sunSwapPool.setData({solorModalVisible:!1}),Object.keys(s).length>0&&a.props.onChangeToken&&a.props.onChangeToken(s,"swap"===r?1:3),Object.keys(o).length>0&&a.props.onChangeToken&&a.props.onChangeToken(o,"swap"===r?2:4),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0),a.props.sunSwapPool.setData({solorModalVisible:!1});case 21:case"end":return e.stop()}}),e,null,[[0,17]])}))),a.changeCheckStatus=function(e){a.setState({checkStatus:e.target.checked})},a.getClassName=function(e,t){try{var n=a.props.type,s=e.tokenAddress,o=1===n||2===n?a.props.sunSwapPool.swapToken:a.props.sunSwapPool.liqToken,r=o.fromToken,i=o.toToken;if(s===r.tokenAddress||s===i.tokenAddress||t)return"opac"}catch(c){return""}},a.outInputCheck=function(e){try{var t=a.props.type,n=e.tokenAddress,s=1===t||2===t?a.props.sunSwapPool.swapToken:a.props.sunSwapPool.liqToken,o=s.fromToken,r=s.toToken;if(n===o.tokenAddress)return" (".concat(x.a.get("sunSwap.tokens.selected_as_input"),")");if(n===r.tokenAddress)return" (".concat(x.a.get("sunSwap.tokens.selected_as_output"),")")}catch(i){return""}},a.renderHotCoin=function(){var e=a.props.sunswapHotTokens,t=e.hotTokenList,n=void 0===t?[]:t,s=e.hotTokenMaps;return e.isLoading?Object(Q.jsxs)("div",{className:"n-hot-coin",children:[Object(Q.jsx)("div",{className:"n-hot-title",children:x.a.get("account_center.popular")}),Object(Q.jsx)("div",{className:"loading-hot-list",children:new Array(4).fill(1).map((function(){return Object(Q.jsx)("div",{className:"loading-hot-item"})}))})]}):n.length?Object(Q.jsxs)("div",{className:"n-hot-coin",children:[Object(Q.jsx)("div",{className:"n-hot-title",children:x.a.get("account_center.popular")}),Object(Q.jsx)("div",{className:"n-hot-list",children:n.map((function(e){var t=s[e];return Object(Q.jsxs)("div",{className:E()({"n-hot-item":!0,"n-hot-item-selected":a.getClassName(t)}),onClick:function(e){return a.onChange(t,e)},children:[Object(Q.jsx)("img",{className:"n-hot-icon",src:t.tokenLogoUrl,onError:function(e){e.target.onerror=null,e.target.src=Y.a}}),t.tokenSymbol]})}))})]}):null},a.renderSelectedList=function(e,t){var n=a.state.tokenSort,s=a.props.isMobileStatus,o=a.props.sunSwapPool,r=o.swapToken,i=o.liqToken,c=(o.loadingTokenList,i.fromToken,i.toToken,[]),l={},p=[],u=a.props.type,d="";return 1!==u&&2!==u||(p=r.tokenList,c=r.allTokenList,l=r.tokenMap,d=r["tokenStr".concat(u)]),3!==a.props.type&&4!==a.props.type||(p=i.tokenList,c=i.allTokenList,l=i.tokenMap,d=i["tokenStr".concat(u)]),e&&t&&e[t]?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(J.a,{placeholder:x.a.get("sunSwap.tokens.select_placeholder_text"),onSearch:a.onTokenStrChange,onChange:a.onTokenStrChange,value:d,enterButton:x.a.get("tokens.search"),showSuffix:!s}),a.renderHotCoin(),Object(Q.jsxs)("div",{className:"n-list-title",children:[Object(Q.jsx)("span",{className:"n-list-title-text",children:x.a.get("sunSwap.tokens.select_tokenName_title")}),Object(Q.jsx)("span",{className:E()({"icon-sort":!0,"icon-sort-active":n}),onClick:function(){return a.tokenSortByAsCII(n)}})]}),Object(Q.jsx)("div",{className:"n-list sun-scroll-bar",children:0===c.length?Object(Q.jsx)("div",{className:"n-list-empty",children:x.a.get("sunSwap.tokens.loading_tokens")}):p.length?p.map((function(e,t){var n=l[e],s=e===y.a.wtrxAddress&&(3===a.props.type||4===a.props.type);return n&&!s?Object(Q.jsxs)("div",{className:E()({"n-list-item":!0,"n-list-item-selected":a.getClassName(n)}),onClick:function(e){return a.onChange(n,e)},children:[Object(Q.jsx)(X.a,{className:"n-token-icon",src:n.tokenLogoUrl}),Object(Q.jsxs)("div",{className:"n-item-content",children:[Object(Q.jsxs)("div",{className:"n-item-title",children:[Object(Q.jsxs)("span",{className:"item-content",children:[n.tokenSymbol,a.outInputCheck(n)]}),1===n.cst&&Object(Q.jsxs)("div",{className:"item-content solor-detail",children:[Object(Q.jsx)("span",{children:x.a.get("sunSwap.list.search_by_addr")}),Object(Q.jsxs)("span",{className:"ib",onClick:function(e){e.stopPropagation(),a.addSolor(n)},children:["(",x.a.get("sunSwap.list.add"),")"]})]}),2===n.cst&&Object(Q.jsxs)("div",{className:"item-content solor-detail",children:[Object(Q.jsx)("span",{children:x.a.get("sunSwap.list.add_by_user")}),Object(Q.jsxs)("span",{className:"solor-remove ib",onClick:function(e){e.stopPropagation(),a.removeSolor(n)},children:["(",x.a.get("sunSwap.list.remove_token"),")"]})]})]}),Object(Q.jsx)("div",{className:"n-item-address",children:n.tokenAddress===y.a.trxFakeAddress?null:Object(C.a)(window.navigator).any?Object(U.j)(n.tokenAddress,4,4):Object(U.j)(n.tokenAddress,8,10)})]}),Object(Q.jsx)("div",{className:"n-item-balance",children:n.tokenAddress===y.a.trxFakeAddress?Object(Q.jsx)("div",{children:Object(Q.jsx)("p",{children:Object(U.l)(l[n.tokenAddress]?l[n.tokenAddress].balance:n.balance)})}):Object(Q.jsx)("div",{children:Object(Q.jsx)("p",{children:l[n.tokenAddress]&&!isNaN(l[n.tokenAddress].balance)?Object(U.l)(l[n.tokenAddress].balance):"--"})})})]},n.tokenAddress+t):Object(Q.jsx)(Q.Fragment,{})})):Object(Q.jsx)("div",{className:"no-token-fund",children:x.a.getHTML("list.no_token_found")})}),Object(Q.jsx)("div",{className:"n-list-switch-wrap",children:Object(Q.jsxs)("div",{className:"n-list-switch",children:[Object(Q.jsxs)("div",{className:"n-list-switch-name",children:[Object(Q.jsx)("img",{className:"n-list-switch-icon",src:e[t].logoURI,alt:"",onError:function(e){e.target.onerror=null,e.target.src=Y.a}}),Object(Q.jsx)("span",{children:e[t].name||""})]}),Object(Q.jsx)("button",{className:"n-list-switch-btn",onClick:function(){return a.showListModal()},children:x.a.get("sunSwap.list.switch")})]})})]}):Object(Q.jsx)(Q.Fragment,{})},a.renderUpdateListItem=function(e){var t=a.props.sunSwapPool.byUrlNew,n=void 0===t?{}:t,s=e.version,o=void 0===s?{}:s,r=n[e.uri]||{},i=r.version||{},c=Object(U.f)(o,i),l=Object(U.e)(e,r).success,p=void 0!==l&&l;return!V.a.isEqual(r,{})&&c&&p&&Object(Q.jsx)(q.a.Item,{onClick:function(){a.updateList(e)},children:x.a.get("sunSwap.list.update")})},a.adjustAndroid=function(e){var t=Object(U.d)(e);a.setState({adjust:t})},a.renderTokensCategory=function(){var e=a.state,t=e.customTokenUri,n=e.lang,s=e.errInfo,o=a.props.sunSwapPool,r=o.byUrl,i=o.selectedListUrl,c=a.getKeys(r);return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)("div",{className:"home-select-url-input-wrap",children:[Object(Q.jsx)(L.a,{type:"text",className:"home-select-url-input",placeholder:"https://",value:t,onChange:a.onTokenUriChange,onFocus:function(){return a.adjustAndroid(!0)},onBlur:function(){return a.adjustAndroid(!1)}}),Object(Q.jsx)("button",{className:"home-select-url-btn",onClick:a.addCustomTokens,disabled:!t.trim(),children:x.a.get("sunSwap.list.add_list")})]}),!!s&&Object(Q.jsxs)("div",{className:"list-add-errTip",children:[Object(Q.jsx)("span",{className:"icon",children:"!"}),Object(Q.jsx)("span",{className:"text",children:s})]}),Object(Q.jsx)("ul",{className:"n-origin-list",children:r&&c.length&&c.map((function(e){var t=r[e];return!t.rs&&Object(Q.jsxs)("li",{className:"n-origin-list-item",children:[Object(Q.jsxs)("div",{className:"n-origin-list-item-left",children:[Object(Q.jsxs)("div",{className:"n-origin-list-item-img-text",children:[Object(Q.jsx)("img",{src:t.logoURI,alt:"",className:"n-origin-list-item-logo"}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)("div",{className:"n-origin-list-item-name",children:t.name}),Object(Q.jsx)("div",{className:"n-origin-list-item-source",children:Object(U.n)(t.uri)})]})]}),Object(Q.jsx)(I.a,{trigger:"click",placement:"bottomRight",overlayClassName:"home-select-url-drop",overlay:Object(Q.jsx)(q.a,{children:Object(Q.jsxs)(q.a.ItemGroup,{title:Object(Q.jsxs)("div",{children:[Object(Q.jsx)("span",{className:"key",children:x.a.get("sunSwap.list.version")}),Object(Q.jsx)("span",{className:"value",children:Object(U.s)(t.version)})]}),children:[Object(Q.jsxs)(q.a.Item,{children:[" ",Object(Q.jsx)("a",{href:"".concat(y.a.justList,"?lang=").concat(n,"#/detail?uri=").concat(t.uri),target:t.uri||"_blank",children:x.a.get("sunSwap.list.view")})]}),a.renderUpdateListItem(t),t.uri!==i&&Object(Q.jsx)(q.a.Item,{onClick:function(){a.showRemoveModal(t)},children:x.a.get("sunSwap.list.remove")})]})}),children:Object(Q.jsx)("a",{className:"n-origin-list-item-drop",onClick:function(e){return e.preventDefault()}})})]}),Object(Q.jsx)("div",{className:"n-origin-list-item-right",children:Object(Q.jsx)(z.a,{onClick:function(){return a.selectTokenList(e)},disabledCanClick:!0,disabled:String(i)===String(t.uri),children:String(i)===String(t.uri)?x.a.get("sunSwap.list.selected"):x.a.get("sunSwap.list.select")})})]},t.name+"_"+e)}))}),Object(Q.jsxs)("div",{className:"home-select-url-links",children:[Object(Q.jsx)("a",{className:"home-select-url-more",href:"en-US"===n?y.a.moreList.en:y.a.moreList.zh,target:"_blank",children:x.a.get("sunSwap.more.more")}),Object(Q.jsx)("a",{href:"".concat(y.a.justList,"?lang=").concat(n,"#/home"),className:"home-select-url-home",target:"justList",children:x.a.get("sunSwap.list.view_list_home")})]})]})},a.hideSolorModal=function(){a.props.sunSwapPool.setData({solorModalVisible:!1})},a.state={lang:window.localStorage.getItem("lang")||x.a.options.currentLocale,tokenStr:"",defaultStatus:1,removeModalVisible:!1,removeText:"",removeId:"",solor:JSON.parse(window.localStorage.getItem("solor")||"[]"),customTokenUri:"",customTokenUriLeg:!0,errInfo:"",tokenSort:!1,checkStatus:!1,dealWarningVisible:!1,selectSearchItem:"",tokenList:[],tokenMap:{},originalTokenList:[]},a}return Object(k.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.defaultStatus,a=t.removeText,s=t.removeModalVisible,o=(t.adjust,t.dealWarningVisible),r=t.callbacks,i=t.selectSearchItem,c=this.props.sunSwapPool,l=c.byUrl,p=c.selectedListUrl;return Object(Q.jsxs)(O.a.Fragment,{children:[Object(Q.jsx)(Z.a,{visible:this.props.modalVisible,onChange:this.setInitToken}),Object(Q.jsx)(S.a,{title:1===n?Object(Q.jsxs)("div",{className:"n-token-modal-title",children:[Object(Q.jsx)("span",{children:x.a.get("sunSwap.tokens.add_choose_select")}),Object(Q.jsx)(F.a,{zIndex:1e4,placement:"bottomLeft",title:x.a.get("tokens.add_choose_select_tip"),children:Object(Q.jsx)(M.a,{className:"n-token-modal-title-icon",color:"rgba(255, 255, 255, .5)"})})]}):Object(Q.jsx)("div",{className:"n-token-modal-title",children:Object(Q.jsxs)("div",{className:"list-modal-header",children:[Object(Q.jsx)(R.a,{onClick:function(){return e.hideListModal()},style:{marginRight:10}}),Object(Q.jsx)("span",{className:"add-title",children:x.a.get("sunSwap.list.select_list")})]})}),closable:!0,open:this.props.modalVisible,onCancel:function(){e.props.onCancel()},className:E()({"dark-modal":!0,"token-select-modal":!0,"token-select-list-modal":1!==n}),footer:null,width:405,centered:!0,children:Object(Q.jsx)(Q.Fragment,{children:1===n?this.renderSelectedList(l,p):this.renderTokensCategory()})}),Object(Q.jsxs)(S.a,{title:"",closable:!1,open:s,footer:null,width:420,className:"list-remove-modal sun-swap-modal",transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:[Object(Q.jsx)("div",{className:"title",children:x.a.get("sunSwap.list.remove_confirm")}),Object(Q.jsx)("div",{className:"tips",children:x.a.get("sunSwap.list.remove_confirm_tip")}),Object(Q.jsx)("input",{type:"text",className:"list-input w-80",value:a,onChange:this.inputRemoveText}),Object(Q.jsxs)("div",{className:"btns",children:[Object(Q.jsx)("button",{onClick:this.removeTokens,disabled:a.trim()!==K,children:x.a.get("sunSwap.list.confirm")}),Object(Q.jsx)("button",{onClick:this.hideRemoveModal,children:x.a.get("sunSwap.list.cancel")})]})]}),o&&Object(Q.jsx)(W.a,{visible:o,cb:r,dealWarningSymbol:i.tokenAddress})]})}}]),n}(O.a.Component))||a)||a,$=G,ee=n(901),te=n(1057),ne=n(1012),ae=n(93),se=n(988),oe=n(321),re=(n(1709),Object(g.b)("sunSwapNetwork")(s=Object(g.b)("sunSwapPool")(s=Object(g.b)("network")(s=Object(g.c)(s=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).cancel=function(){a.state.actionStarted?a.setState({miniPopVisible:!0}):(a.setState({addVisible:!1}),a.props.hideAddModal())},a.initAddModal=function(){var e=a.props.sunSwapPool.liqToken,t=e.fromToken,n=e.toToken,s=e.tokenOneValue,o=e.tokenTwoValue,r=new U.a(s),i=new U.a(o),c=!0,l=!0;(Object(U.a)(t.approvedAmount).gte(r)||t.tokenAddress===y.a.trxFakeAddress||t.tokenAddress===y.a.wtrxAddress)&&(c=!1),(Object(U.a)(n.approvedAmount).gte(i)||n.tokenAddress===y.a.trxFakeAddress||n.tokenAddress===y.a.wtrxAddress)&&(l=!1),a.setState({needApproveOne:c,needApproveTwo:l,supplyPopBtn:x.a.get("sunSwap.pool.popup_supply_btn"),supplyPopBtnDisabled:!1,supplyErrorInfo:"",createActionTitle:x.a.get("sunSwap.action.createActV2",{token1:t.tokenSymbol,token2:n.tokenSymbol}),createActionError:x.a.get("sunSwap.action.createActErr"),createActionFailed:x.a.get("sunSwap.action.createActFailed"),createActionState:"success",approveActionTwoTitle:x.a.get("sunSwap.action.approveAct",{token:n.tokenSymbol}),approveActionOneTitle:x.a.get("sunSwap.action.approveAct",{token:t.tokenSymbol}),approveActionOneError:x.a.get("sunSwap.action.approveActErr"),approveActionTwoError:x.a.get("sunSwap.action.approveActErr"),approveActionOneState:"",approveActionTwoState:"",supplyActionTitle:x.a.get("sunSwap.action.supplyAct"),supplyActionError:x.a.get("sunSwap.action.supplyActErr"),supplyActionState:"",actionInfo:x.a.get("sunSwap.action.startBtn"),actionDisabled:!0,actionRetry:"",baseActionState:c||l?"line":"info",actionStarted:!1,successOneValueStr:"",successTwoValueStr:"",miniPopVisible:!1},(function(){return a.setState({addVisible:!0},(function(){a.onRetryAction()}))}))},a.onRetryAction=function(){var e=a.state,t=e.needApproveOne,n=e.needApproveTwo,s=e.actionRetry;switch(s||(t?s="setApproveOne":n&&(s="setApproveTwo")),s){case"setApproveOne":a.setState({approveActionOneState:"start",actionInfo:x.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){a.setApprove("one")}));break;case"setApproveTwo":a.setState({approveActionOneState:"success",approveActionTwoState:"start",actionInfo:x.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){a.setApprove("two")}));break;case"supplyLiquidity":a.setState({swapActionState:"start",actionInfo:x.a.get("sunSwap.action.startBtn"),actionDisabled:!1},(function(){a.supplyLiquidity()}))}},a.setApproveBarText=function(e,t){t?("one"===e&&a.setState({approveActionOneState:"pending",actionInfo:x.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0},(function(){setTimeout((function(){a.setState({approveActionOneState:"success",approveActionTwoState:"start"})}),5e3)})),"two"===e&&a.setState({approveActionTwoState:"pending",actionInfo:x.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0},(function(){setTimeout((function(){a.setState({approveActionTwoState:"success",baseActionState:"info"})}),5e3)}))):("one"===e&&a.setState({approveActionOneState:"error"}),"two"===e&&a.setState({approveActionTwoState:"error"}),a.setState({actionRetry:"one"===e?"setApproveOne":"setApproveTwo",actionInfo:x.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0}))},a.setApprove=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,s,o,r,i,c,l;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.needApproveTwo,s=a.props.sunSwapPool.liqToken,o=s.fromToken,r=s.toToken,i=y.a.v2Contract.router,c=r,"one"===t&&(c=o),l={title:"pool.add_approve_token",obj:{token:c.tokenSymbol}},e.next=9,Object(ae.f)(c.tokenAddress,i,l);case 9:e.sent?(a.setApproveBarText(t,!0),"one"===t?a.setState({needApproveOne:!1},(function(){n?a.setState({actionRetry:"setApproveTwo"},(function(){a.onRetryAction()})):a.setState({baseActionState:"info"},(function(){}))})):a.setState({needApproveTwo:!1})):a.setApproveBarText(t,!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.beforeSupplyLiquidity=Object(m.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({actionStarted:!0,supplyPopBtn:x.a.get("sunSwap.action.startBtn"),supplyPopBtnDisabled:!0},(function(){a.supplyLiquidity()}));case 1:case"end":return e.stop()}}),e)}))),a.supplyLiquidity=Object(m.a)(Object(b.a)().mark((function e(){var t,n,s,o,r,i,c,l,p,u,d,j,k,f,h,w,O,v,g,S,_,A,T,N,P,D,V,C,q,L,I,F,B;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.needApproveOne,s=t.needApproveTwo,o=a.props.sunSwapPool,r=o.liqToken,i=o.exchangeInfo,c=a.props.needCreate,l=r.tokenOneValue,p=r.tokenTwoValue,u=r.fromToken,d=r.toToken,j=a.props.sunSwapNetwork.settingSlippageV2,k=a.props.network.defaultAccount,j=Number(j),w=new U.a(l),O=new U.a(p),v=w.times(new U.a(10).pow(u.tokenDecimal)),g=O.times(new U.a(10).pow(d.tokenDecimal)),i.poolExTokenOne.gt(0)?(f="0x".concat(w.times(1-j/100).times(new U.a(10).pow(u.tokenDecimal)).integerValue(U.a.ROUND_DOWN).toString(16)),h="0x".concat(O.times(1-j/100).times(new U.a(10).pow(d.tokenDecimal)).integerValue(U.a.ROUND_DOWN).toString(16))):(f=v,h=g),S={title:"sunSwap.pair_actions.add",obj:{trxAmount:Object(U.k)(w.toString(),u.tokenDecimal),trx:u.tokenSymbol,tokenAmount:Object(U.k)(O.toString(),d.tokenDecimal),tokenSymbol:d.tokenSymbol}},_=l.toString(),A=p.toString(),T="",u.tokenAddress!==y.a.trxFakeAddress&&d.tokenAddress!==y.a.trxFakeAddress){e.next=36;break}return N=u.tokenAddress===y.a.trxFakeAddress?d:u,P=u.tokenAddress===y.a.trxFakeAddress?O:w,D=new U.a(10).pow(N.tokenDecimal),e.t0=N.tokenAddress,e.t1=P.times(D)._toIntegerDown()._toHex(),e.t2=u.tokenAddress===y.a.trxFakeAddress?Object(U.a)(h)._toIntegerDown()._toHex():Object(U.a)(f)._toIntegerDown()._toHex(),e.t3=u.tokenAddress===y.a.trxFakeAddress?Object(U.a)(f)._toIntegerDown()._toHex():Object(U.a)(h)._toIntegerDown()._toHex(),e.t4=k,e.next=27,Object(ae.g)(a.props.sunSwapNetwork.settingDeadlineV2);case 27:return e.t5=e.sent,e.t6=c,V={token:e.t0,amountTokenDesired:e.t1,amountTokenMin:e.t2,amountETHMin:e.t3,to:e.t4,deadline:e.t5,needCreate:e.t6},C=u.tokenAddress===y.a.trxFakeAddress?v:g,e.next=33,Object(ae.c)(V,S,Object(U.a)(C)._toIntegerDown()._toHex());case 33:T=e.sent,e.next=53;break;case 36:return q=new U.a(10).pow(u.tokenDecimal),L=new U.a(10).pow(d.tokenDecimal),e.t7=u.tokenAddress,e.t8=d.tokenAddress,e.t9=w.times(q)._toIntegerDown()._toHex(),e.t10=O.times(L)._toIntegerDown()._toHex(),e.t11=Object(U.a)(f)._toIntegerDown()._toHex(),e.t12=Object(U.a)(h)._toIntegerDown()._toHex(),e.t13=k,e.next=47,Object(ae.g)(a.props.sunSwapNetwork.settingDeadlineV2);case 47:return e.t14=e.sent,e.t15=c,I={tokenA:e.t7,tokenB:e.t8,amountADesired:e.t9,amountBDesired:e.t10,amountAMin:e.t11,amountBMin:e.t12,to:e.t13,deadline:e.t14,needCreate:e.t15},e.next=52,Object(ae.d)(I,S);case 52:T=e.sent;case 53:T?(F={supplyErrorInfo:"",supplyPopBtn:x.a.get("sunSwap.action.doingBtn"),supplyPopBtnDisabled:!0,actionStarted:!0},(n||s)&&(F={actionInfo:x.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,supplyActionState:"pending",baseActionState:"line",actionStarted:!0}),a.setState(F,(function(){setTimeout(Object(m.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({actionRetry:"",baseActionState:"success",actionStarted:!1,successOneValueStr:_,successTwoValueStr:A}),r.tokenOneValue=-1,r.tokenTwoValue=-1,a.props.sunSwapPool.setData({liqToken:r});case 4:case"end":return e.stop()}}),e)}))),5e3)}))):(B={supplyErrorInfo:x.a.get("sunSwap.action.supplyActErr"),supplyPopBtn:x.a.get("sunSwap.action.retryBtn"),supplyPopBtnDisabled:!1,actionStarted:!0},(n||s)&&(B={baseActionState:"line",supplyActionState:"error",actionRetry:"supplyLiquidity",actionInfo:x.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0}),a.setState(B));case 54:case"end":return e.stop()}}),e)}))),a.gotoPool=function(){var e,t={fromToken:{tokenSymbol:"TRX",tokenAddress:y.a.trxFakeAddress,tokenDecimal:y.a.trxDecimal,trxBalance:new U.a(0),tokenBalance:new U.a(0),approvedAmount:new U.a(ae.a),tokenLogoUrl:y.a.trxLogoUrl},fromBalance:null===(e=a.props.network.trxBalance)||void 0===e?void 0:e.balance,toToken:{tokenAddress:"",tokenSymbol:"",approvedAmount:new U.a(0)},toBalance:new U.a(-1),tokenList:[],allTokenList:[],tokenMap:{},tokenStr3:"",tokenStr4:"",pairAddress:"",tokenOneValue:-1,tokenTwoValue:-1};a.props.sunSwapPool.setData({liqToken:t}),a.props.sunSwapPool.setData({exchangeInfo:{price1:"--",price2:"--",myExTokenOne:new U.a(0),myExTokenTwo:new U.a(0),pairTokens:new U.a(0),poolExTokenOne:new U.a(0),poolExTokenTwo:new U.a(0),totalSupply:new U.a(0)}}),a.setState({}),a.setState({addVisible:!1}),a.props.onSuccess()},a.miniPopOk=function(){var e=a.props.sunSwapPool.liqToken,t=e.fromToken,n=e.toToken,s=e.tokenOneValue,o=e.tokenTwoValue,r=new U.a(s),i=new U.a(o);a.setState({miniPopVisible:!1,addVisible:!1},Object(m.a)(Object(b.a)().mark((function e(){var s,o,c,l,p,u,d,m;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.props.hideAddModal(),!Object(U.a)(n.approvedAmount).lt(i)&&!Object(U.a)(t.approvedAmount).lt(r)){e.next=15;break}return s=a.props.sunSwapPool.liqToken,o=s.fromToken,c=s.toToken,l=a.props.network.defaultAccount,e.next=7,Object(ae.n)(l,o.tokenAddress,c.tokenAddress);case 7:p=e.sent,u=p.exchangeAddr,d=p.allowanceA,m=p.allowanceB,u&&a.setState({exchangeStatus:0}),o.approvedAmount=d.div(new U.a(10).pow(o.tokenDecimal)),c.approvedAmount=m.div(new U.a(10).pow(c.tokenDecimal)),a.setState({liqToken:s});case 15:case"end":return e.stop()}}),e)}))))},a.miniPopCancel=function(){a.setState({miniPopVisible:!1})},a.state={actionStarted:!1},a}return Object(k.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.sunSwapPool,n=t.liqToken,a=t.exchangeInfo,s=a.poolExTokenOne,o=a.poolExTokenTwo,r=a.totalSupply,i=n.fromToken,c=n.toToken,l=n.tokenOneValue,p=n.tokenTwoValue,u=new U.a(l),d=new U.a(p),b=this.props.sunSwapNetwork.settingSlippageV2,m=this.props.shareOfPool,j=this.state,k=j.successOneValueStr,f=j.successTwoValueStr,h=u.times(Object(U.a)(10).pow(i.tokenDecimal)).times(d.times(Object(U.a)(10).pow(c.tokenDecimal))).sqrt().div(y.a.defaultTokenPrecision),w=d.div(u),O=u.div(d);if(Object(U.a)(a.poolExTokenOne).gt(0)){var v=u.times(r).div(s),g=d.times(r).div(o);h=v.lt(g)?v:g,w=a.price2,O=a.price1}var _=Object(U.l)(h,{dp:y.a.defaultTokenDecimal,cutZero:!0}),A=Object(U.l)(m,{dp:2,cutZero:!0});isNaN(A)?A="--":Object(U.a)(m).gt(0)&&Object(U.a)(m).lt(.01)&&(A="<0.01");var T=this.state,N=T.baseActionState,P=T.supplyPopBtn,D=T.supplyPopBtnDisabled,V=T.supplyErrorInfo,C=T.actionDisabled,q=T.actionInfo,L=T.approveActionOneState,I=T.approveActionTwoState,F=T.approveActionOneError,B=T.approveActionTwoError,E=T.approveActionOneTitle,M=T.approveActionTwoTitle,R=T.supplyActionState,H=T.supplyActionError,W=T.supplyActionTitle,z=T.createActionState,J=T.createActionError,X=T.createActionFailed,Y=T.createActionTitle,Z=T.addVisible;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(S.a,{title:null,closable:"success"!==N,open:this.props.visible||Z,onCancel:this.cancel,className:"pool-modal add-gai sun-swap-modal",footer:null,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:["line"===N&&Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("div",{className:"title normal",children:x.a.get("sunSwap.swap.action_supply")}),Object(Q.jsxs)("div",{className:"ib-parent center",children:[Object(Q.jsxs)("div",{children:[Object(Q.jsx)("span",{className:"add-value",children:l}),Object(Q.jsx)("span",{className:"add-token",children:i.tokenSymbol})]}),Object(Q.jsx)("span",{className:"plus",children:"+"}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)("span",{className:"add-value",children:p}),Object(Q.jsx)("span",{className:"add-token",children:c.tokenSymbol})]})]}),Object(Q.jsx)("div",{className:"supplyLineTitle",children:x.a.get("sunSwap.action.supplyLineTitle")}),this.props.needCreate?Object(Q.jsxs)(te.a,{children:[Object(Q.jsx)("span",{status:z,err:J,failed:X,children:Y}),"success"!==L&&Object(Q.jsx)("span",{status:L,err:F,children:E}),"success"!==I&&Object(Q.jsx)("span",{status:I,err:B,children:M}),Object(Q.jsx)("span",{status:R,err:H,children:W})]}):Object(Q.jsxs)(te.a,{children:["success"!==L&&Object(Q.jsx)("span",{status:L,err:F,children:E}),"success"!==I&&Object(Q.jsx)("span",{status:I,err:B,children:M}),Object(Q.jsx)("span",{status:R,err:H,children:W})]}),Object(Q.jsx)(ee.a,{type:"single",disabled:C,info:q,onClick:this.onRetryAction})]}),"info"===N&&Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("div",{children:x.a.get("sunSwap.pool.popup_receive_title")}),Object(Q.jsxs)("div",{className:"amount",children:[Object(Q.jsxs)("div",{className:"center",children:[Object(Q.jsx)("p",{className:"amount-num",children:_}),Object(Q.jsx)("p",{className:"amount-name",children:Object(Q.jsx)("span",{children:i.tokenSymbol+"/"+c.tokenSymbol+" "+x.a.get("sunSwap.pool.popup_tokens_text")})})]}),Object(Q.jsx)("p",{className:"amount-tip left",children:x.a.get("sunSwap.pool.popup_receive_tip",{value:b})})]}),Object(Q.jsxs)("div",{className:"price",children:[Object(Q.jsxs)("p",{className:"flex param",children:[Object(Q.jsx)("span",{className:"price-key",children:i.tokenSymbol+" "+x.a.get("sunSwap.pool.popup_deposited_text")}),Object(Q.jsxs)("span",{className:"price-value",children:[Object(Q.jsx)("img",{src:i.tokenLogoUrl||oe.a,alt:"",onError:function(e){e.target.onerror=null,e.target.src=oe.a}}),Object(Q.jsx)("span",{children:l})]})]}),Object(Q.jsxs)("p",{className:"flex param",children:[Object(Q.jsx)("span",{className:"price-key",children:c.tokenSymbol+" "+x.a.get("sunSwap.pool.popup_deposited_text")}),Object(Q.jsxs)("span",{className:"price-value",children:[Object(Q.jsx)("img",{src:c.tokenLogoUrl||oe.a,alt:"",onError:function(e){e.target.onerror=null,e.target.src=oe.a}}),Object(Q.jsx)("span",{children:p})]})]}),Object(Q.jsxs)("div",{className:"flex param",children:[Object(Q.jsx)("span",{className:"price-key",children:x.a.get("sunSwap.pool.popup_rates_text")}),Object(Q.jsxs)("div",{className:"price-value ib",children:[Object(Q.jsxs)("p",{children:["1 ",i.tokenSymbol," ="," ",Object(U.a)(1).div(Object(U.a)(10).pow(Number(c.tokenDecimal))).gt(w)?"< "+Object(U.a)(1).div(Object(U.a)(10).pow(Number(c.tokenDecimal))).toString():Object(U.l)(w,{dp:c.tokenDecimal,cutZero:!0})," ",c.tokenSymbol]}),Object(Q.jsxs)("p",{children:["1 ",c.tokenSymbol," ="," ",Object(U.a)(1).div(Object(U.a)(10).pow(Number(i.tokenDecimal))).gt(O)?"< "+Object(U.a)(1).div(Object(U.a)(10).pow(Number(i.tokenDecimal))).toString():Object(U.l)(O,{dp:i.tokenDecimal,cutZero:!0})," ",i.tokenSymbol]})]})]}),Object(Q.jsxs)("div",{className:"flex between mb30",children:[Object(Q.jsx)("div",{className:"share-title",children:x.a.get("sunSwap.pool.popup_share_text")}),Object(Q.jsxs)("div",{className:"v-right",children:[A,"%"]})]})]}),V&&Object(Q.jsx)("div",{className:"errorMsg",children:V}),Object(Q.jsx)(ee.a,{type:"single",disabled:D,info:P,onClick:function(){return e.beforeSupplyLiquidity()}})]}),"success"===N&&Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)("div",{className:"modal-success",children:[Object(Q.jsx)("img",{src:se.a,alt:""}),Object(Q.jsx)("div",{className:"title green",children:x.a.get("sunSwap.action.supplySuccessTitle")}),Object(Q.jsxs)("div",{className:"ib-parent center mb40",children:[Object(Q.jsxs)("div",{children:[Object(Q.jsx)("span",{className:"add-value",children:k}),Object(Q.jsx)("span",{className:"add-token",children:i.tokenSymbol})]}),Object(Q.jsx)("span",{className:"plus",children:"+"}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)("span",{className:"add-value",children:f}),Object(Q.jsx)("span",{className:"add-token",children:c.tokenSymbol})]})]}),Object(Q.jsx)(ee.a,{type:"single",info:x.a.get("sunSwap.action.closeBtn"),onClick:this.gotoPool}),Object(Q.jsx)("div",{className:"supplyDescTitle",children:x.a.get("sunSwap.action.supplyDescTitle")})]})})]}),Object(Q.jsx)(ne.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}}]),n}(O.a.Component))||s)||s)||s)||s),ie=re,ce=n(1212),le=n(987),pe=n(1775),ue=n(1777),de=n(1148),be=Object(g.b)("sunSwapNetwork")(o=Object(g.b)("sunSwapPool")(o=Object(g.c)(o=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).cancel=function(){a.props.cancel&&a.props.cancel()},a.state={},a}return Object(k.a)(n,[{key:"render",value:function(){var e=this.props,t=e.exchangeStatus,n=e.shareOfPool,a=e.loading,s=e.firstCreateInfoVisible,o=this.props.sunSwapPool,r=o.liqToken,i=o.exchangeInfo,c=r.fromToken,l=r.toToken,p=r.tokenOneValue,u=r.tokenTwoValue,d=new U.a(p),b=new U.a(u),m="--",j="--";"--"!==i.price1&&(m=i.price1._toFixed(4,1)),"--"!==i.price2&&(j=i.price2._toFixed(4,1)),b.gt(0)&&d.gt(0)&&(0===t||1===t)&&(m=d.div(b),j=b.div(d));var k="--",f="--";k="--"===m?m:Object(U.a)(m).lt(1e-4)?"< 0.0001":Object(U.a)(m)._toFixed(4,1),f="--"===j?j:Object(U.a)(j).lt(1e-4)?"< 0.0001":Object(U.a)(j)._toFixed(4,1);var h=n._toFixed(2,1);return isNaN(h)?h="--":n.gt(0)&&n.lt(.01)&&(h="<0.01"),Object(Q.jsxs)(pe.a,{className:"exchange-info",gutter:{xs:8,sm:16,md:24},children:[Object(Q.jsxs)(ue.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-30",children:[Object(Q.jsx)("div",{className:ce.pool_info_title,children:0===t||1===t?x.a.get("sunSwap.pool.create_initial_title"):x.a.get("sunSwap.pool.add_price_title")}),Object(Q.jsx)(le.a,{items:[{label:x.a.get("sunSwap.pool.add_unit_text",{toToken:l.tokenSymbol||"--",fromToken:c.tokenSymbol||"--"}),value:k},{label:x.a.get("sunSwap.pool.add_unit_text",{toToken:c.tokenSymbol||"--",fromToken:l.tokenSymbol||"--"}),value:f},{label:x.a.get("sunSwap.pool.add_share_text"),value:h+"%"}]})]}),!a&&s&&Object(Q.jsx)(ue.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-30",style:{marginTop:64},children:Object(Q.jsx)(de.a,{title:x.a.get("sunSwap.pool.create_firstProv_bold"),content:x.a.get("sunSwap.pool.create_first_tip1")})}),0===t||1===t?null:Object(Q.jsxs)(ue.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-30",children:[Object(Q.jsxs)("div",{className:"flex",children:[Object(Q.jsx)("span",{className:E()("flex-1",ce.pool_info_title),children:x.a.get("sunSwap.pool.base_posi_title")}),Object(Q.jsxs)("p",{className:ce.pool_logo,children:[Object(Q.jsx)("img",{src:c.tokenLogoUrl||oe.a,onError:function(e){e.target.onerror=null,e.target.src=oe.a},alt:""}),Object(Q.jsx)("img",{className:"ml--6",src:l.tokenLogoUrl||oe.a,onError:function(e){e.target.onerror=null,e.target.src=oe.a},alt:""}),Object(Q.jsx)("span",{children:c.tokenSymbol||"--"}),Object(Q.jsx)("span",{className:"symbol",children:"/"}),Object(Q.jsx)("span",{children:l.tokenSymbol||"--"})]})]}),Object(Q.jsx)(le.a,{items:[{label:c.tokenSymbol||"--",value:i.myExTokenOne.lt(1e-4)&&i.myExTokenOne.gt(0)?"<0.0001":i.myExTokenOne._toFixed(4,1)},{label:l.tokenSymbol||"--",value:i.myExTokenTwo.lt(1e-4)&&i.myExTokenTwo.gt(0)?"<0.0001":i.myExTokenTwo._toFixed(4,1)},{label:x.a.get("sunSwap.pool.add_tokens_text"),value:i.pairTokens.lt(1e-4)&&i.pairTokens.gt(0)?"<0.0001":i.pairTokens._toFixed(4,1)}]})]})]})}}]),n}(O.a.Component))||o)||o)||o,me=n(1149),je=n(976),ke=n(317),fe=Object(g.b)("sunSwapNetwork")(r=Object(g.b)("sunSwapPool")(r=Object(g.b)("network")(r=Object(g.c)(r=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(m.a)(Object(b.a)().mark((function e(){var t,n,s,o;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a.props.sunSwapPool.liqToken,n=t.fromToken,s=t.toToken,n.tokenAddress!==y.a.wtrxAddress&&s.tokenAddress!==y.a.wtrxAddress||(t.fromToken={tokenAddress:"",tokenSymbol:"",approvedAmount:new U.a(0)},t.toToken={tokenAddress:"",tokenSymbol:"",approvedAmount:new U.a(0)},a.props.sunSwapPool.setData({liqToken:t})),o=setInterval((function(){a.props.network.isConnected&&(a.timer=setInterval((function(){a.afterSelectedToken(s,!1),a.afterSelectedToken(n,!1)}),6e3),a.afterSelectedToken(s,!0),a.afterSelectedToken(n,!0),clearInterval(o))}),1e3),a.initTokenBalance(),e.next=8,a.props.sunSwapPool.setTokenList(3);case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])}))),a.componentWillUnmount=function(){clearInterval(a.timer)},a.setActivePage=function(e){var t=a.props.sunSwapPool.liqToken;t.fromBalance=new U.a(-1),t.toBalance=new U.a(-1),t.tokenOneValue=-1,t.tokenTwoValue=-1,a.setState({fromOrTo:0,bothInputHasNum:!1}),a.props.sunSwapPool.setData({liqToken:t}),a.setState({}),a.props.sunSwapPool.setData({actionLiqV2:e})},a.initInputInfo=function(){var e=a.props.sunSwapPool.liqToken;e.tokenOneValue=-1,e.tokenTwoValue=-1,e.toBalance=new U.a(-1),a.setState({fromOrTo:0,bothInputHasNum:!1}),a.props.sunSwapPool.setData({liqToken:e})},a.initTokenBalance=Object(m.a)(Object(b.a)().mark((function e(){var t,n,s;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.props.network.isConnected&&(t=a.props.sunSwapPool.liqToken,n=t.fromToken,s=t.toToken,n.tokenAddress&&a.getTokenBalance(n,"from"),s.tokenAddress&&a.getTokenBalance(s,"to"));case 1:case"end":return e.stop()}}),e)}))),a.getTokenBalance=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t,n){var s,o,r,i,c,l,p,u;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.props.network.defaultAccount,o=a.props.sunSwapPool,r=o.fromBalance,i=o.toBalance,e.next=4,Object(ae.i)(s,[t.tokenAddress]);case 4:c=e.sent,l=c[0].div(new U.a(10).pow(t.tokenDecimal)),"from"!==n||l.eq(r)||((p=a.props.sunSwapPool.liqToken).fromBalance=l,a.props.sunSwapPool.setData({liqToken:p}),a.setShareOfPool()),"to"!==n||l.eq(i)||((u=a.props.sunSwapPool.liqToken).toBalance=l,a.props.sunSwapPool.setData({liqToken:u}),a.setShareOfPool());case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.setInsufficient=function(e,t,n,s){var o=n.tokenSymbol;Object(U.a)(e).gt(Object(U.a)(t))||isNaN(t.toNumber())?("from"===s&&a.setState({insufficientBalanceFrom:o}),"to"===s&&a.setState({insufficientBalanceTo:o})):("from"===s&&a.setState({insufficientBalanceFrom:""}),"to"===s&&a.setState({insufficientBalanceTo:""}))},a.setShareOfPool=function(){var e=a.props.sunSwapPool,t=e.exchangeInfo,n=e.liqToken,s=n.fromBalance,o=n.toBalance,r=n.fromToken,i=n.toToken,c=n.tokenOneValue,l=n.tokenTwoValue,p=new U.a(c),u=new U.a(l),d=t.poolExTokenOne,b=t.poolExTokenTwo;a.setInsufficient(p,s,r,"from"),a.setInsufficient(u,o,i,"to"),p.gt(0)&&u.gt(0)&&(d.gt(0)||b.gt(0))?a.setState({bothInputHasNum:!0,shareOfPool:p.div(p.plus(d)).times(100)||u.div(u.plus(b)).times(100)}):"--"===t.price1&&p.gt(0)&&u.gt(0)?a.setState({bothInputHasNum:!0,shareOfPool:new U.a(100)}):a.setState({bothInputHasNum:!1,shareOfPool:new U.a(0)})},a.setInputValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new U.a(-1),n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=a.props.sunSwapPool,o=s.exchangeInfo,r=s.liqToken,i=r.tokenTwoValue,c=r.tokenOneValue,l=r.fromToken,p=r.toToken,u=r.fromBalance,d=r.toBalance,b=new U.a(c),m=new U.a(i);if(l.tokenAddress&&p.tokenAddress&&"--"!==o.price1){if(4===e){var j=m;t.eq(-1)||(j=t);var k=j.times(o.price1),f="";k.gt(0)&&(f=k._toFixed(Number(l.tokenDecimal),1)),Object(U.D)(f).gt(u)&&n?a.setMaxValue(3):(r.tokenOneValue=f,a.props.sunSwapPool.setData({liqToken:r}),a.setShareOfPool())}else if(3===e){var h=b;t.eq(-1)||(h=t);var w=h.div(o.price1),O="";w.gt(0)&&(O=w._toFixed(Number(p.tokenDecimal),1)),new U.a(O).gt(d)&&n?a.setMaxValue(4):(r.tokenTwoValue=O,a.props.sunSwapPool.setData({liqToken:r}),a.setShareOfPool())}}else 3===e&&(r.tokenOneBNValue=t),4===e&&(r.tokenTwoBNValue=t),a.props.sunSwapPool.setData({liqToken:r}),a.setShareOfPool()},a.initExchangeInfo=function(){a.props.sunSwapPool.setData({exchangeInfo:{price1:"--",price2:"--",myExTokenOne:new U.a(0),myExTokenTwo:new U.a(0),pairTokens:new U.a(0),poolExTokenOne:new U.a(0),poolExTokenTwo:new U.a(0),totalSupply:new U.a(0)}})},a.afterSelectedToken=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,s,o,r,i,c,l,p,u,d,m,j,k,f,h,w,O,v,x,g,S,_,A,T,N,P=arguments;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(P.length>1&&void 0!==P[1])||P[1],t.tokenAddress){e.next=3;break}return e.abrupt("return");case 3:if(s=a.state.fromOrTo,o=a.props.sunSwapPool.liqToken,r=o.tokenOneValue,i=o.tokenTwoValue,c=o.fromToken,l=o.toToken,p=new U.a(r),u=new U.a(i),n&&a.initInputInfo(),(4!==s||u.gt(0))&&(3!==s||p.gt(0))&&a.props.network.isConnected){e.next=11;break}return e.abrupt("return");case 11:return d=a.props.network.defaultAccount,e.next=14,Object(ae.n)(d,c.tokenAddress,l.tokenAddress);case 14:m=e.sent,j=m.exchangeAddr,k=m.allowanceA,f=m.allowanceB,h=m.exTokenABalance,w=m.exTokenBBalance,O=m.totalLiquidity,v=m.userUniAmount,x=m.userTokenAAmount,g=m.userTokenBAmount,n&&(c.approvedAmount=k.div(new U.a(10).pow(c.tokenDecimal)),l.approvedAmount=f.div(new U.a(10).pow(l.tokenDecimal)),a.props.sunSwapPool.setData({liqToken:o})),j&&j!==y.a.trxFakeAddress?(S="--",_="--",O.gt(0)?(a.setState({exchangeStatus:2}),A=h.div(new U.a(10).pow(c.tokenDecimal)),T=w.div(new U.a(10).pow(l.tokenDecimal)),S=A.div(T),_=T.div(A),n||a.setInputValue(s),N=a.props.sunSwapPool.liqToken,N.pairAddress===j&&a.props.sunSwapPool.setData({exchangeInfo:{myExTokenOne:new U.a(x).div(new U.a(10).pow(c.tokenDecimal)),myExTokenTwo:new U.a(g).div(new U.a(10).pow(l.tokenDecimal)),pairTokens:new U.a(v).div(y.a.defaultTokenPrecision),totalSupply:new U.a(O).div(y.a.defaultTokenPrecision),price1:S,price2:_,poolExTokenOne:A,poolExTokenTwo:T}})):(a.setState({exchangeStatus:1}),n&&a.initExchangeInfo())):(a.setState({exchangeStatus:0,showMigrateBtn:!1}),n&&a.initExchangeInfo()),a.initTokenBalance();case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.afterEnterNum=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t,n){var s,o,r,i,c,l,p,u,d,m,j,k=arguments;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=k.length>2&&void 0!==k[2]&&k[2],a.state.fromOrTo=n,o=a.props.sunSwapPool.liqToken,r=o.fromBalance,i=o.toBalance,c=o.toToken,l=o.fromToken,!t){e.next=17;break}if(p=t,u=6,u=3===n?l.tokenDecimal:c.tokenDecimal,d=Object(U.w)(t.replace(/,/g,""),u),m=d.valid,j=d.str,!m){e.next=13;break}p=j,e.next=14;break;case 13:return e.abrupt("return");case 14:""===c.tokenSymbol||""===l.tokenSymbol?(3===n&&(o.tokenTwoValue=-1,o.tokenOneValue=p,a.props.sunSwapPool.setData({liqToken:o}),a.setInsufficient(p,r,l,"from")),4===n&&(o.tokenOneValue=-1,o.tokenTwoValue=p,a.props.sunSwapPool.setData({liqToken:o}),a.setInsufficient(p,i,c,"to"))):(3===n&&(o.tokenOneValue=p,a.props.sunSwapPool.setData({liqToken:o})),4===n&&(o.tokenTwoValue=p,a.props.sunSwapPool.setData({liqToken:o})),a.setInputValue(n,Object(U.a)(p),s)),e.next=18;break;case 17:a.initInputInfo();case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.setMaxValue=function(e){try{var t=a.state.exchangeStatus,n=a.props.sunSwapPool.liqToken,s=n.fromBalance,o=n.toBalance,r=n.fromToken,i=n.toToken,c=s,l=o;c.gt(0)&&l.gt(0)||(c=Object(U.a)(0),l=Object(U.a)(0)),3===e?((0===t||1===t)&&r.tokenAddress&&i.tokenAddress||(n.tokenTwoValue=l.toString(),a.props.sunSwapPool.setData({liqToken:n})),n.tokenOneValue=c.toString(),a.props.sunSwapPool.setData({liqToken:n}),a.setShareOfPool(),o.gt(0)&&a.afterEnterNum(c._toFixed(Number(r.tokenDecimal),1),3,!0)):((0===t||1===t)&&r.tokenAddress&&i.tokenAddress||(n.tokenOneValue=c.toString(),a.props.sunSwapPool.setData({liqToken:n})),n.tokenTwoValue=l.toString(),a.props.sunSwapPool.setData({liqToken:n}),a.setShareOfPool(),s.gt(0)&&a.afterEnterNum(o._toFixed(Number(i.tokenDecimal),1),4,!0))}catch(p){console.log("setMAX error:",p)}},a.showAddModal=function(){a.addModalRef.current.initAddModal()},a.hideAddModal=function(){a.setState({addModalVisible:!1})},a.onChangeToken=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=a.props.sunSwapPool.liqToken,o=s.fromToken,r=s.toToken,i=e.tokenAddress;3===t&&i===o.tokenAddress&&!n||4===t&&i===r.tokenAddress&&!n||(3===t?(i===s.toToken.tokenAddress&&(s.toToken=s.fromToken),s.fromToken=Object(d.a)({},e),s.toBalance=new U.a(-1)):4===t&&(i===s.fromToken.tokenAddress&&(s.fromToken=s.toToken),s.toToken=Object(d.a)({},e),s.fromBalance=new U.a(-1)),Object(U.p)(s),a.props.sunSwapPool.setData({liqToken:s}),a.afterSelectedToken(e,!0),a.props.sunSwapPool.showModal(t,!1))},a.hideMigrateModal=function(e){a.setState({migrateModalVisbile:!1})},a.onChange=function(){a.props.sunSwapPool.setData({actionLiqV2:0})},a.useSafeMax=function(e){var t=a.state.exchangeStatus,n=a.props.sunSwapPool.liqToken,s=n.fromToken,o=n.toToken,r=n.fromBalance,i=n.toBalance,c=(0===t||1===t)&&o.tokenAddress&&s.tokenAddress?y.a.createFeeAmountV2:y.a.addFeeAmountV2;if("from"===e){var l=Object(U.b)(Object(U.D)(r).minus(c));a.afterEnterNum(l,3)}else if("to"===e){var p=Object(U.b)(Object(U.D)(i).minus(c));a.afterEnterNum(p,4)}},a.addLiquidityDisableChange=function(e){a.setState({disableAdd:e})},a.addModalRef=O.a.createRef(),a.tokenRef=O.a.createRef(),a.state={bothInputHasNum:!1,insufficientBalanceFrom:"",insufficientBalanceTo:"",exchangeStatus:-1,shareOfPool:new U.a(0),addModalVisible:!1,fromOrTo:0,showMigrateBtn:!1,migrateModalVisbile:!1,migrateDataV2:{},migrateData:{},migrateTip:"",status:!1,disableAdd:!1},a}return Object(k.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.bothInputHasNum,a=t.exchangeStatus,s=t.addModalVisible,o=t.insufficientBalanceFrom,r=t.insufficientBalanceTo,i=t.status,c=this.props.sunSwapPool,l=c.addLiqFromPools,p=c.liqToken,u=c.modalVisibleInfo,d=p.tokenOneValue,b=p.tokenTwoValue,m=p.fromToken,j=p.toToken,k=p.fromBalance,f=p.toBalance,h=new U.a(d),w=new U.a(b),O="";(o||r)&&(O=x.a.get("sunSwap.pool.add_insufficient_btn",{value:o||r}));var v=h.lt(1e-8)&&h.gt(0)||w.lt(1e-8)&&w.gt(0),g="";O&&(g=O),n&&!v||(g=x.a.get("sunSwap.pool.add_enter_btn"));var S;S=(0===a||1===a)&&j.tokenAddress&&m.tokenAddress;var _=Object(U.b)(h.gte(0)||d.toString().includes(".")?d:""),A=Object(U.b)(w.gte(0)||b.toString().includes(".")?b:""),T=null;T=setTimeout((function(){e.setState({status:!0}),clearTimeout(T)}),3e3);var N=S?y.a.createFeeAmountV2:y.a.addFeeAmountV2;return Object(Q.jsxs)("section",{className:"swap-and-pool",children:[Object(Q.jsx)(ke.a,{callback:this.addLiquidityDisableChange}),v&&Object(Q.jsx)("p",{className:"fz14 first-pool-tip red",children:x.a.get("sunSwap.pool.mininum")}),Object(Q.jsxs)(pe.a,{gutter:[{xs:8,sm:16,md:24},10],children:[Object(Q.jsxs)(ue.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"swap-block",children:[Object(Q.jsxs)("div",{className:"flex select-token-top",children:[Object(Q.jsxs)("div",{className:m.tokenAddress?"flex":"flex sunswap-chose-token",children:[Object(Q.jsx)(me.a,{showModal:function(){e.props.sunSwapPool.showModal(3)},token:m,disabled:l}),Object(Q.jsx)($,{modalVisible:u.visible3&&!l,onCancel:function(){return e.props.sunSwapPool.showModal(3,!1)},type:3,onChangeToken:function(t,n){e.onChangeToken(t,n||3)},ref:this.tokenRef}),Object(Q.jsx)(je.a,{token:m,showTrx:!0})]}),Object(Q.jsxs)("div",{className:"swap-balance",children:[Object(Q.jsx)("span",{children:x.a.get("sunSwap.swap.input_from_balance")}),Object(Q.jsx)("span",{children:k.gte(0)?Object(U.l)(k,{dp:6,cutZero:!0}):"--"})]})]}),Object(Q.jsxs)("div",{className:"flex input-block mt-16",children:[Object(Q.jsx)("div",{className:"flex input-number",children:Object(Q.jsx)("input",{type:"type",className:"token-sec-input token-sec-input-1",placeholder:x.a.get("sunSwap.pool.add_placeholder_text"),onChange:function(t){return e.afterEnterNum(t.target.value,3)},value:_})}),this.props.network.isConnected?Object(Q.jsx)("span",{className:"max-btn",onClick:function(t){return e.setMaxValue(3)},children:x.a.get("sunSwap.swap.input_from_max")}):null]})]}),Object(Q.jsxs)(ue.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"swap-block",children:[Object(Q.jsxs)("div",{className:"flex select-token-top",children:[Object(Q.jsxs)("div",{className:j.tokenAddress?"flex":"flex sunswap-chose-token",children:[Object(Q.jsx)(me.a,{showModal:function(){return e.props.sunSwapPool.showModal(4)},token:j,disabled:l}),Object(Q.jsx)($,{modalVisible:u.visible4&&!l,onCancel:function(){return e.props.sunSwapPool.showModal(4,!1)},type:4,onChangeToken:function(t,n){e.onChangeToken(t,n||4)}}),Object(Q.jsx)(je.a,{token:j,showTrx:!0})]}),Object(Q.jsxs)("div",{className:"swap-balance",children:[Object(Q.jsx)("span",{children:x.a.get("sunSwap.swap.input_to_balance")}),Object(Q.jsx)("span",{children:f.gte(0)?Object(U.l)(f,{dp:6,cutZero:!0}):"--"})]})]}),Object(Q.jsxs)("div",{className:"flex input-block mt-16",children:[Object(Q.jsx)("div",{className:"flex input-number",children:Object(Q.jsx)("input",{type:"type",className:"token-sec-input token-sec-input-2",placeholder:x.a.get("sunSwap.pool.add_placeholder_text"),onChange:function(t){return e.afterEnterNum(t.target.value,4)},value:A})}),this.props.network.isConnected?Object(Q.jsx)("span",{className:"max-btn",onClick:function(t){return e.setMaxValue(4)},children:x.a.get("sunSwap.swap.input_from_max")}):null]})]}),Object(Q.jsx)(ue.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"swap-block"})]}),j.tokenAddress&&m.tokenAddress&&Object(Q.jsx)(be,{exchangeStatus:this.state.exchangeStatus,shareOfPool:this.state.shareOfPool,loading:!i,firstCreateInfoVisible:S}),Object(Q.jsxs)(pe.a,{gutter:{xs:8,sm:16,md:24},children:[Object(Q.jsx)(ue.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-20",children:i&&"TRX"===m.tokenSymbol&&_?Object(U.D)(k).lt(N)?Object(Q.jsx)("div",{className:"warning-amount-tip",children:x.a.getHTML("list.trx_tip_3",{value:N})}):Object(U.D)(k).minus(N).lt(Object(U.D)(_))?Object(Q.jsxs)("div",{className:"safe-amount-tip",children:[x.a.getHTML("list.trx_tip_1",{value:N})," ",Object(Q.jsx)("span",{className:"safe-amount-set-btn",onClick:function(){return e.useSafeMax("from")},children:x.a.get("sunSwap.list.trx_tip_2")})]}):null:null}),Object(Q.jsx)(ue.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-20",children:i&&"TRX"===j.tokenSymbol&&A?Object(U.D)(f).lt(N)?Object(Q.jsx)("div",{className:"warning-amount-tip",children:x.a.getHTML("list.trx_tip_3",{value:N})}):Object(U.D)(f).minus(N).lt(Object(U.D)(A))?Object(Q.jsxs)("div",{className:"safe-amount-tip",children:[x.a.getHTML("list.trx_tip_1",{value:N})," ",Object(Q.jsx)("span",{className:"safe-amount-set-btn",onClick:function(){return e.useSafeMax("to")},children:x.a.get("sunSwap.list.trx_tip_2")})]}):null:null})]}),this.props.network.isConnected?g?Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)(ee.a,{styleName:"mt-40",type:"single",disabled:!0,info:g})}):Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)(ee.a,{styleName:"mt-40",type:"single",info:this.state.disableAdd?x.a.get("not_available"):x.a.get("sunSwap.pool.add_supply_btn"),disabled:this.state.disableAdd,onClick:function(){return e.showAddModal()}})}):Object(Q.jsx)(ee.a,{styleName:"mt-40",type:"single",info:x.a.get("sunSwap.pool.add_connect_btn"),onClick:function(t){e.props.network.setData({loginModalVisible:!0,loginModalStep:1})}}),Object(Q.jsx)(ie,{visible:s,hideAddModal:this.hideAddModal,needCreate:0===this.state.exchangeStatus,beforeSupplyLiquidity:this.beforeSupplyLiquidity,ref:this.addModalRef,shareOfPool:this.state.shareOfPool,onSuccess:this.props.onSuccess})]})}}]),n}(O.a.Component))||r)||r)||r)||r,he=fe,we=n(1800),Oe=n(981),ve=n(1103),xe=Object(C.a)(window.navigator).any,ge=Object(g.b)("sunSwapNetwork")(i=Object(g.b)("sunSwapPool")(i=Object(g.c)(i=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).setPercent=function(e){a.props.sunSwapPool.setData({percentNum:e})},a.showSettingModal=function(){a.props.sunSwapNetwork.setData({settingVisibleV2:!0})},a.renderLiqBtn=function(e){var t,n=a.props.sunSwapPool.percentNum;return Object(Q.jsx)("button",{className:E()((t={},Object(P.a)(t,ve.remove_liq_active_btn,n==e),Object(P.a)(t,ve.remove_liq_btn,n!==e),Object(P.a)(t,"ml-10","25"!==e),t)),onClick:function(t){return a.setPercent(Number(e))},children:"100"===e?x.a.get("sunSwap.pool.remove_max_text"):e+"%"})},a.renderTokenInfo=function(e,t,n){return Object(Q.jsxs)("div",{children:[Object(Q.jsxs)("p",{className:E()(ve.remove_liq_token,["flex start"]),children:[Object(Q.jsx)("img",{src:e.tokenLogoUrl||oe.a,alt:""}),Object(Q.jsx)("span",{children:e.tokenSymbol})]}),Object(Q.jsx)("p",{className:E()(ve.remove_liq_value,["mt-12"],["mb-12"]),children:0===n?0:t.times(n).div(100)._toFixed(4,1)<1e-4?"<0.0001":t.times(n).div(100)._toFixed(4,1)})]})},a.settingsRef=O.a.createRef(),a.state={},a}return Object(k.a)(n,[{key:"render",value:function(){var e=this,t=this.props.sunSwapPool,n=t.liqToken,a=t.exchangeInfo,s=t.percentNum,o=n.fromToken,r=n.toToken,i=s,c=function(e,t){return e.isNaN()||e.eq(1/0)?"--":e._toFixed(Number(t),1)},l=c(a.myExTokenTwo.div(a.myExTokenOne),r.tokenDecimal),p=c(a.myExTokenOne.div(a.myExTokenTwo),o.tokenDecimal),u=[{label:Object(Q.jsx)(je.a,{token:o,showTokenName:!0,showTrx:!0}),value:a.myExTokenOne._toFixed(4,1)},{label:Object(Q.jsx)(je.a,{styleName:"ml-30",token:r,showTokenName:!0,showTrx:!0}),value:a.myExTokenTwo._toFixed(4,1)},{label:Object(Q.jsx)("span",{style:{color:"#ffffff",fontSize:"14px"},children:x.a.get("sunSwap.pool.add_tokens_text")}),value:a.pairTokens._toFixed(4,1)}],d=[{label:Object(Q.jsx)(je.a,{token:o,showTokenName:!0,showTrx:!0}),value:a.myExTokenOne._toFixed(4,1)},{label:Object(Q.jsx)(je.a,{styleName:"ml-30",token:r,showTokenName:!0,showTrx:!0}),value:a.myExTokenTwo._toFixed(4,1)}];return Object(Q.jsxs)(pe.a,{gutter:[{xs:8,sm:16,md:24},10],children:[Object(Q.jsxs)(ue.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-30",children:[Object(Q.jsxs)("div",{className:"flex mb-16",children:[Object(Q.jsx)("div",{className:ve.remove_liq_title,children:x.a.get("sunSwap.pool.base_posi_title")}),xe?Object(Q.jsxs)("div",{className:ve.remove_liq_fee,children:[Object(Q.jsxs)("span",{children:[x.a.get("sunSwap.pool.add_tokens_text")," "]}),Object(Q.jsx)("span",{children:a.pairTokens._toFixed(4,1)})]}):null]}),Object(Q.jsx)(le.a,{items:xe?d:u,textColor:"#ffffff"}),Object(Q.jsx)("div",{className:"hide-for-pc",style:{marginTop:"20px"},children:Object(Q.jsx)(Oe.a,{slippage:this.props.sunSwapNetwork.settingSlippageV2,deadline:this.props.sunSwapNetwork.settingDeadlineV2,onChange:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.props.sunSwapNetwork.saveSettingsForV2(t,n),e.swapRef&&e.swapRef.current&&e.swapRef.current.calcPrice()}})})]}),Object(Q.jsxs)(ue.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-30",children:[Object(Q.jsx)("div",{className:ve.remove_liq_title,children:x.a.get("withdraw.share_of_liq")}),Object(Q.jsxs)("div",{className:"flex",children:[Object(Q.jsxs)("div",{className:ve.remove_liq_num,children:[Object(Q.jsx)("span",{className:"percent",children:i}),"%"]}),!xe&&Object(Q.jsxs)("div",{className:"flex",children:[this.renderLiqBtn("25"),this.renderLiqBtn("50"),this.renderLiqBtn("75"),this.renderLiqBtn("100")]})]}),Object(Q.jsx)(we.a,{defaultValue:s,onChange:function(t){return e.setPercent(t)},className:"super-slider",value:s,tooltip:{formatter:null}}),xe&&Object(Q.jsxs)("div",{className:"flex mb-24 mt-20",children:[this.renderLiqBtn("25"),this.renderLiqBtn("50"),this.renderLiqBtn("75"),this.renderLiqBtn("100")]}),xe?Object(Q.jsxs)("div",{className:"flex mb-24",children:[Object(Q.jsxs)("div",{children:[this.renderTokenInfo(o,a.myExTokenOne,s),this.renderTokenInfo(r,a.myExTokenTwo,s)]}),Object(Q.jsxs)("div",{className:ve.remove_liq_price,children:[Object(Q.jsxs)("p",{children:["1 ",o.tokenSymbol," ="," ",Object(U.a)(1).div(Object(U.a)(10).pow(r.tokenDecimal)).gt(l)?"< "+Object(U.a)(1).div(Object(U.a)(10).pow(r.tokenDecimal)).toString():l," ",r.tokenSymbol,Object(Q.jsx)("span",{})]}),Object(Q.jsxs)("p",{children:[Object(Q.jsx)("span",{}),"1 ",r.tokenSymbol," ="," ",Object(U.a)(1).div(Object(U.a)(10).pow(o.tokenDecimal)).gt(p)?"< "+Object(U.a)(1).div(Object(U.a)(10).pow(o.tokenDecimal)).toString():p," ",o.tokenSymbol]})]})]}):Object(Q.jsxs)("div",{className:"flex mt-36",children:[this.renderTokenInfo(o,a.myExTokenOne,s),Object(Q.jsxs)("div",{className:ve.remove_liq_price,children:[Object(Q.jsxs)("p",{children:["1 ",o.tokenSymbol," ="," ",Object(U.a)(1).div(Object(U.a)(10).pow(r.tokenDecimal)).gt(l)?"< "+Object(U.a)(1).div(Object(U.a)(10).pow(r.tokenDecimal)).toString():l," ",r.tokenSymbol,Object(Q.jsx)("span",{})]}),Object(Q.jsxs)("p",{children:[Object(Q.jsx)("span",{}),"1 ",r.tokenSymbol," ="," ",Object(U.a)(1).div(Object(U.a)(10).pow(o.tokenDecimal)).gt(p)?"< "+Object(U.a)(1).div(Object(U.a)(10).pow(o.tokenDecimal)).toString():p," ",o.tokenSymbol]})]}),this.renderTokenInfo(r,a.myExTokenTwo,s)]}),Object(Q.jsx)("div",{className:"hide-for-mobile",style:{marginTop:"28px"},children:Object(Q.jsx)(Oe.a,{slippage:this.props.sunSwapNetwork.settingSlippageV2,deadline:this.props.sunSwapNetwork.settingDeadlineV2,onChange:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.props.sunSwapNetwork.saveSettingsForV2(t,n),e.swapRef&&e.swapRef.current&&e.swapRef.current.calcPrice()}})})]})]})}}]),n}(O.a.Component))||i)||i)||i,Se=ge,_e=(n.p,Object(g.b)("sunSwapPool")(c=Object(g.b)("sunSwapNetwork")(c=Object(g.b)("network")(c=Object(g.c)(c=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(m.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.getUserPool();case 1:case"end":return e.stop()}}),e)}))),a.getUserPool=Object(m.a)(Object(b.a)().mark((function e(){var t,n,s,o,r,i,c,l,p,u,d,m,j,k,f,h,w,O;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.sunSwapPool.liqToken,n=t.fromToken,s=t.toToken,o=a.props.network.defaultAccount,a.props.sunSwapPool.setData({percentNum:0}),e.next=6,Object(ae.n)(o,n.tokenAddress,s.tokenAddress);case 6:r=e.sent,i=r.exchangeAddr,c=r.exTokenABalance,l=r.exTokenBBalance,p=r.totalLiquidity,u=r.userUniAmount,d=r.userTokenAAmount,m=r.userTokenBAmount,j=r.allowancePair,k=j.div(y.a.defaultTokenPrecision),a.setState({pairApprovedAmout:k}),i&&(a.setState({exchangeAddr:i}),f=c.div(new U.a(10).pow(n.tokenDecimal)),h=l.div(new U.a(10).pow(s.tokenDecimal)),w=f.div(h),O=h.div(f),f.gt(0)&&a.props.sunSwapPool.setData({exchangeInfo:{myExTokenOne:new U.a(d).div(new U.a(10).pow(n.tokenDecimal)),myExTokenTwo:new U.a(m).div(new U.a(10).pow(s.tokenDecimal)),pairTokens:new U.a(u).div(y.a.defaultTokenPrecision),totalSupply:new U.a(p).div(y.a.defaultTokenPrecision),price1:w,price2:O,poolExTokenOne:f,poolExTokenTwo:h}}));case 18:case"end":return e.stop()}}),e)}))),a.setLiq=function(e){a.props.sunSwapPool.setData({actionLiqV2:e})},a.beforeRemoveLiq=Object(m.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({actionStarted:!0,removePopBtn:x.a.get("sunSwap.action.startBtn"),removePopBtnDisabled:!0},Object(m.a)(Object(b.a)().mark((function e(){var t,n,s,o,r,i;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.sunSwapPool.liqToken,n=t.fromToken,s=t.toToken,o=a.state,r=o.exchangeAddr,o.pairApprovedAmout.gt(0)){e.next=11;break}return i={title:"pool.add_approve_token",obj:{token:"".concat(n.tokenSymbol,"-").concat(s.tokenSymbol," LP")}},e.next=7,Object(ae.f)(r,y.a.v2Contract.router,i);case 7:e.sent?a.toRemoveLiq():a.setState({removeErrorInfo:x.a.get("sunSwap.action.removeActErr"),removePopBtn:x.a.get("sunSwap.action.retryBtn"),removePopBtnDisabled:!1,actionStarted:!0}),e.next=12;break;case 11:a.toRemoveLiq();case 12:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)}))),a.toRemoveLiq=Object(m.a)(Object(b.a)().mark((function e(){var t,n,s,o,r,i,c,l,p,u,d,m,j,k,f,h,w;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.sunSwapPool,n=t.liqToken,s=t.exchangeInfo,o=t.percentNum,r=n.fromToken,i=n.toToken,c=s.myExTokenOne.times(o).div(100),l=s.myExTokenTwo.times(o).div(100),p=s.pairTokens.times(o).div(100).times(y.a.defaultTokenPrecision).integerValue(U.a.ROUND_DOWN),u={title:"sunSwap.pair_actions.remove",obj:{trxAmount:Object(U.k)(Object(U.a)(s.myExTokenOne).times(o).div(100),r.tokenDecimal),trx:r.tokenSymbol,tokenSymbol:i.tokenSymbol,tokenAmount:Object(U.k)(Object(U.a)(s.myExTokenTwo).times(o).div(100),i.tokenDecimal)}},d=a.props.sunSwapNetwork.settingSlippageV2,m=a.props.network.defaultAccount,j="0x".concat(c.gte(0)?c.times(1-d/100).times(new U.a(10).pow(r.tokenDecimal)).integerValue(U.a.ROUND_DOWN).toString(16):0),k="0x".concat(l.gte(0)?l.times(1-d/100).times(new U.a(10).pow(i.tokenDecimal)).integerValue(U.a.ROUND_DOWN).toString(16):0),r.tokenAddress!==y.a.wtrxAddress&&i.tokenAddress!==y.a.wtrxAddress){e.next=25;break}return e.t0=r.tokenAddress===y.a.wtrxAddress?i.tokenAddress:r.tokenAddress,e.t1="0x".concat(p.toString(16)),e.t2=r.tokenAddress===y.a.wtrxAddress?k:j,e.t3=r.tokenAddress===y.a.wtrxAddress?j:k,e.t4=m,e.next=18,Object(ae.g)(a.props.sunSwapNetwork.settingDeadlineV2);case 18:return e.t5=e.sent,h={token:e.t0,liquidity:e.t1,amountTokenMin:e.t2,amountETHMin:e.t3,to:e.t4,deadline:e.t5},e.next=22,Object(ae.y)(h,u);case 22:f=e.sent,e.next=38;break;case 25:return e.t6=r.tokenAddress,e.t7=i.tokenAddress,e.t8="0x".concat(p.toString(16)),e.t9=j,e.t10=k,e.t11=m,e.next=33,Object(ae.g)(a.props.sunSwapNetwork.settingDeadlineV2);case 33:return e.t12=e.sent,w={tokenA:e.t6,tokenB:e.t7,liquidity:e.t8,amountAMin:e.t9,amountBMin:e.t10,to:e.t11,deadline:e.t12},e.next=37,Object(ae.z)(w,u);case 37:f=e.sent;case 38:f?a.setState({removeErrorInfo:"",removePopBtn:x.a.get("sunSwap.action.doingBtn"),removePopBtnDisabled:!0,actionStarted:!0},(function(){setTimeout((function(){a.setState({actionState:"success",actionStarted:!1})}),5e3)})):a.setState({removeErrorInfo:x.a.get("sunSwap.action.removeActErr"),removePopBtn:x.a.get("sunSwap.action.retryBtn"),removePopBtnDisabled:!1,actionStarted:!0});case 39:case"end":return e.stop()}}),e)}))),a.initRemoveModal=function(){return{removeErrorInfo:"",removePopBtn:x.a.get("sunSwap.pool.popup_remove_btn"),removePopBtnDisabled:!1,actionState:"info",actionStarted:!1,miniPopVisible:!1}},a.showRemoveModal=function(){var e=a.props.sunSwapPool,t=e.exchangeInfo;e.percentNum>0&&t.pairTokens.gt(0)&&a.setState(Object(d.a)(Object(d.a)({},a.initRemoveModal()),{},{removePopStatus:!0}))},a.beforeHideRemoveModal=function(){a.state.actionStarted?a.setState({miniPopVisible:!0}):a.hideRemoveModal()},a.hideRemoveModal=function(){a.setState({removePopStatus:!1},(function(){setTimeout((function(){a.setState(Object(d.a)({},a.initRemoveModal()))}),1e3)}))},a.miniPopOk=function(){a.setState({miniPopVisible:!1},(function(){a.hideRemoveModal()}))},a.miniPopCancel=function(){a.setState({miniPopVisible:!1})},a.gotoPool=function(){a.props.onSuccess()},a.state={removePopStatus:!1,removeErrorInfo:"",removePopBtn:x.a.get("sunSwap.pool.popup_remove_btn"),removePopBtnDisabled:!1,actionState:"info",actionStarted:!1,miniPopVisible:!1,pairApprovedAmout:new U.a(0)},a}return Object(k.a)(n,[{key:"render",value:function(){var e=this,t=this.state.removePopStatus,n=this.props.sunSwapPool,a=n.liqToken,s=n.exchangeInfo,o=n.percentNum,r=a.fromToken,i=a.toToken,c=function(e,t){return e.isNaN()||e.eq(1/0)?"--":e._toFixed(Number(t),1)},l=c(s.myExTokenTwo.div(s.myExTokenOne),i.tokenDecimal),p=c(s.myExTokenOne.div(s.myExTokenTwo),r.tokenDecimal);return Object(Q.jsxs)("section",{children:[Object(Q.jsx)(Se,{}),Object(Q.jsx)(ee.a,{styleName:"mt-40",type:"single",disabled:o<=0||s.pairTokens.lte(0),info:x.a.get("sunSwap.pool.remove_confirm_btn"),onClick:this.showRemoveModal}),Object(Q.jsxs)(S.a,{title:null,closable:"success"!==this.state.actionState,open:t,onCancel:this.beforeHideRemoveModal,className:"pool-modal remove-modal sun-swap-modal",footer:null,width:630,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:["info"===this.state.actionState&&Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("div",{className:"title big",children:x.a.get("sunSwap.pool.popup_remove_title")}),Object(Q.jsxs)("div",{className:"amount ib-parent center pb25",children:[Object(Q.jsxs)("div",{children:[Object(Q.jsx)("p",{className:"add-value",children:s.myExTokenOne.times(o).div(100).lt(1e-4)?"<0.0001":s.myExTokenOne.times(o).div(100)._toFixed(4,1)}),Object(Q.jsxs)("p",{className:"add-token",children:[Object(Q.jsx)("img",{src:r.tokenLogoUrl||oe.a,alt:""}),Object(Q.jsx)("span",{children:r.tokenSymbol})]})]}),Object(Q.jsx)("span",{className:"plus",children:"+"}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)("p",{className:"add-value",children:s.myExTokenTwo.times(o).div(100).lt(1e-4)?"<0.0001":s.myExTokenTwo.times(o).div(100)._toFixed(4,1)}),Object(Q.jsxs)("p",{className:"add-token",children:[Object(Q.jsx)("img",{src:i.tokenLogoUrl||oe.a,alt:""}),Object(Q.jsx)("span",{children:i.tokenSymbol})]})]})]}),Object(Q.jsxs)("div",{className:"price",children:[Object(Q.jsxs)("p",{className:"flex param",children:[Object(Q.jsx)("span",{className:"price-key",children:x.a.get("sunSwap.pool.popup_burned_text")}),Object(Q.jsxs)("span",{className:"price-value",children:[Object(Q.jsx)("img",{src:r.tokenLogoUrl||oe.a,alt:""}),Object(Q.jsx)("img",{src:i.tokenLogoUrl||oe.a,alt:""}),Object(Q.jsx)("span",{children:s.pairTokens.times(o).div(100).lt(1e-4)?"<0.0001":s.pairTokens.times(o).div(100)._toFixed(4,1)})]})]}),Object(Q.jsxs)("div",{className:"flex param",children:[Object(Q.jsx)("span",{className:"price-key",children:x.a.get("sunSwap.pool.popup_price_text")}),Object(Q.jsxs)("div",{className:"price-value ib right",children:[Object(Q.jsxs)("p",{children:["1 ",r.tokenSymbol," = ",l," ",i.tokenSymbol]}),Object(Q.jsxs)("p",{className:"mb20",children:["1 ",i.tokenSymbol," = ",p," ",r.tokenSymbol]})]})]})]}),this.state.removeErrorInfo&&Object(Q.jsx)("div",{className:"errorMsg",children:this.state.removeErrorInfo}),Object(Q.jsx)(ee.a,{type:"single",disabled:this.state.removePopBtnDisabled,info:this.state.removePopBtn,onClick:function(){return e.beforeRemoveLiq()}})]}),"success"===this.state.actionState&&Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)("div",{className:"modal-success",children:[Object(Q.jsx)("img",{src:se.a,alt:""}),Object(Q.jsx)("div",{className:"title green",children:x.a.get("sunSwap.action.removeSuccessTitle")}),Object(Q.jsxs)("div",{className:"ib-parent center mb25",children:[Object(Q.jsxs)("div",{children:[Object(Q.jsx)("span",{className:"remove-value",children:s.myExTokenOne.times(o).div(100).lt(1e-4)?"<0.0001":s.myExTokenOne.times(o).div(100)._toFixed(4,1)}),Object(Q.jsx)("span",{className:"remove-token",children:r.tokenSymbol})]}),Object(Q.jsx)("span",{className:"plus",children:"+"}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)("span",{className:"remove-value",children:s.myExTokenTwo.times(o).div(100).lt(1e-4)?"<0.0001":s.myExTokenTwo.times(o).div(100)._toFixed(4,1)}),Object(Q.jsx)("span",{className:"remove-token",children:i.tokenSymbol})]})]}),Object(Q.jsx)(ee.a,{type:"single",info:x.a.get("sunSwap.action.closeBtn"),onClick:this.gotoPool}),Object(Q.jsx)("div",{className:"endTip",children:x.a.get("sunSwap.action.removeDescTitle")})]})})]}),Object(Q.jsx)(ne.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}}]),n}(O.a.Component))||c)||c)||c)||c),Ae=n(16),Te=n(1788),ye=n(221),Ne=n(329),Pe=n.n(Ne),De=function(){function e(t,n,a){Object(j.a)(this,e),Pe()(t.length>0,"PAIRS"),Pe()(t[0].t0.tokenAddress===n.tokenAddress||t[0].t1.tokenAddress===n.tokenAddress,"INPUT"),Pe()("undefined"===typeof a||t[t.length-1].t0.tokenAddress===a.tokenAddress||t[t.length-1].t1.tokenAddress===a.tokenAddress,"OUTPUT");var s=[n];t.map((function(e,t){var n=s[t];Pe()(n.tokenAddress===e.t0.tokenAddress||n===e.t1.tokenAddress,"PATH");var a=n.tokenAddress===e.t0.tokenAddress?e.t1:e.t0;s.push(a)})),this.pairs=t,this.path=s,this.input=n,this.output=a,this.midPrice=this.getMidPrice()}return Object(k.a)(e,[{key:"getMidPrice",value:function(){var e=[];return this.pairs.map((function(t){e.push(Ve(t))})),e.reduce((function(e,t){return Object(U.a)(e).times(t.reservePrice)}),1)}}]),e}(),Ve=function(e){return{pair:e,reservePrice:Object(U.a)(e.r0).div(e.r1)}},Ce=n(429),qe=1,Le=2,Ie=Object(U.a)(.005),Fe=function(e,t){var n=e.r0,a=e.r1;if(!Object(U.a)(n).gt(0)||!Object(U.a)(a).gt(0))return{value:Object(U.a)(0)};var s=Object(U.a)(t).times(997),o=s.times(a),r=n.times(1e3).plus(s);return{numerator:o,denominator:r,value:o.div(r)}},Be=function(e,t){var n=e.r0,a=e.r1;if(!Object(U.a)(n).gt(0)||!Object(U.a)(a).gt(0))return{value:Object(U.a)(0)};var s=Object(U.a)(n).times(t).times(1e3),o=Object(U.a)(a).minus(t).times(997);return o.eq(0)?{value:Object(U.a)(0)}:{numerator:s,denominator:o,value:s.div(o).plus(1)}},Ee=function(e,t,n,a){if(Pe()(n>0,"MAX_SIZE_ZERO"),Pe()(e.length<=n,"ITEMS_SIZE"),0===e.length)return e.push(t),null;var s=e.length===n;if(s&&a(e[e.length-1],t)<=0)return t;for(var o=0,r=e.length;o<r;){var i=o+r>>>1;a(e[i],t)<=0?o=i+1:r=i}return e.splice(o,0,t),s?e.pop():null},Me=function(e,t){var n=function(e,t){return e.outputAmount.outputAmount.eq(t.outputAmount.outputAmount)?e.inputAmount.inputAmount.eq(t.inputAmount.inputAmount)?0:e.inputAmount.inputAmount.lt(t.inputAmount.inputAmount)?-1:1:e.outputAmount.outputAmount.lt(t.outputAmount.outputAmount)?1:-1}(e,t);return 0!==n?n:e.priceImpact.lt(t.priceImpact)?-1:e.priceImpact.gt(t.priceImpact)?1:e.route.path.length-t.route.path.length},Re=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t,n,a){var s,o,r,i,c,l,p,u,m,j,k,f,h,w,O,v,x,g,S=arguments;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=(s=S.length>3&&void 0!==S[3]?S[3]:{}).maxNumResults,r=void 0===o?3:o,i=s.maxHops,c=void 0===i?3:i,l=S.length>4&&void 0!==S[4]?S[4]:[],p=S.length>5&&void 0!==S[5]?S[5]:Object(d.a)({},n),u=S.length>6&&void 0!==S[6]?S[6]:[],Pe()(t.length>0,"PAIRS"),Pe()(c>0,"MAX_HOPS"),Pe()(n.tokenAddress===p.tokenAddress||l.length>0,"INVALID_RECURSION"),m=Object(d.a)({},p),j=Object(d.a)({},a),k=0;case 10:if(!(k<t.length)){e.next=50;break}if((f=t[k]).t0.tokenAddress===m.tokenAddress||f.t1.tokenAddress===m.tokenAddress){e.next=14;break}return e.abrupt("continue",47);case 14:if(f.t1.tokenAddress===m.tokenAddress?(null,null,h=V.a.cloneDeep(f.t0),f.t0=V.a.cloneDeep(f.t1),f.t1=Object(d.a)({},h),w=f.r0,f.r0=f.r1,f.r1=w):f.t0.tokenAddress===m.tokenAddress&&(f.t0=Object(d.a)(Object(d.a)({},f.t0),m)),f.r0&&f.r1){e.next=21;break}return e.next=18,Object(ae.q)(f.t0.tokenAddress,f.t1.tokenAddress,f.pairAddress||Object(U.h)(f.t0.tokenAddress,f.t1.tokenAddress));case 18:O=e.sent,f.r0=O.reserveA,f.r1=O.reserveB;case 21:if(f.r0.gt(0)&&f.r1.gt(0)){e.next=23;break}return e.abrupt("continue",47);case 23:if(v=void 0,x=null,e.prev=25,f.t0.value=m.value,x=Fe(f,m.value),!Object(U.a)(x.value._toFixedNew(Number(f.t1.tokenDecimal),1)).lte(0)){e.next=30;break}return e.abrupt("continue",47);case 30:v=Object(d.a)(Object(d.a)({},f.t1),{},{value:x.value}),f.t1.value=x.value,f.numerator=x.numerator,f.denominator=x.denominator,e.next=39;break;case 36:throw e.prev=36,e.t0=e.catch(25),e.t0;case 39:if(v.tokenAddress!==j.tokenAddress){e.next=43;break}Ee(u,new ze(new De([].concat(Object(Ae.a)(l),[Object(d.a)({},f)]),n,a),n,qe),r,Me),e.next=47;break;case 43:if(!(c>1&&t.length>1)){e.next=47;break}return g=t.slice(0,k).concat(t.slice(k+1,t.length)),e.next=47,Re(g,n,a,{maxNumResults:r,maxHops:c-1},[].concat(Object(Ae.a)(l),[Object(d.a)({},f)]),v,u);case 47:k++,e.next=10;break;case 50:return e.abrupt("return",u);case 51:case"end":return e.stop()}}),e,null,[[25,36]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t,n,a,s){var o,r,i,c,l,p,u,m,j,k,f,h,w,O,v,x,g,S=arguments;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=s.maxNumResults,r=void 0===o?3:o,i=s.maxHops,c=void 0===i?3:i,l=S.length>4&&void 0!==S[4]?S[4]:[],p=S.length>5&&void 0!==S[5]?S[5]:a,u=S.length>6&&void 0!==S[6]?S[6]:[],Pe()(t.length>0,"PAIRS"),Pe()(c>0,"MAX_HOPS"),Pe()(a.tokenAddress===p.tokenAddress||l.length>0,"INVALID_RECURSION"),m=Object(d.a)({},p),j=Object(d.a)({},n),k=0;case 10:if(!(k<t.length)){e.next=51;break}if((f=t[k]).t0.tokenAddress===m.tokenAddress||f.t1.tokenAddress===m.tokenAddress){e.next=14;break}return e.abrupt("continue",48);case 14:if(f.t0.tokenAddress===m.tokenAddress?(null,null,h=V.a.cloneDeep(f.t0),f.t0=V.a.cloneDeep(f.t1),f.t1=Object(d.a)({},h),w=f.r0,f.r0=f.r1,f.r1=w):f.t1.tokenAddress===m.tokenAddress&&(f.t1=Object(d.a)(Object(d.a)({},f.t1),m)),f.r0&&f.r1){e.next=21;break}return e.next=18,Object(ae.q)(f.t0.tokenAddress,f.t1.tokenAddress,f.pairAddress||Object(U.h)(f.t0.tokenAddress,f.t1.tokenAddress));case 18:O=e.sent,f.r0=O.reserveA,f.r1=O.reserveB;case 21:if(f.r0.gt(0)&&f.r1.gt(0)){e.next=23;break}return e.abrupt("continue",48);case 23:if(v=void 0,x=null,e.prev=25,f.t1.value=m.value,x=Be(f,m.value),!Object(U.a)(x.value._toFixedNew(Number(f.t0.tokenDecimal),1)).lte(0)){e.next=31;break}return console.log("input too low"),e.abrupt("continue",48);case 31:v=Object(d.a)(Object(d.a)({},f.t0),{},{value:x.value}),f.t0.value=x.value,f.numerator=x.numerator,f.denominator=x.denominator,e.next=40;break;case 37:throw e.prev=37,e.t0=e.catch(25),e.t0;case 40:if(v.tokenAddress!==j.tokenAddress){e.next=44;break}Ee(u,new ze(new De([Object(d.a)({},f)].concat(Object(Ae.a)(l)),n,a),a,Le),r,Me),e.next=48;break;case 44:if(!(c>1&&t.length>1)){e.next=48;break}return g=t.slice(0,k).concat(t.slice(k+1,t.length)),e.next=48,Ue(g,n,a,{maxNumResults:r,maxHops:c-1},[f].concat(Object(Ae.a)(l)),v,u);case 48:k++,e.next=10;break;case 51:return e.abrupt("return",u);case 52:case"end":return e.stop()}}),e,null,[[25,37]])})));return function(t,n,a,s){return e.apply(this,arguments)}}(),He=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t,n,a,s,o){var r,i,c,l,p,u,m,j,k,f,h,w,O,v,x,g=arguments;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(g.length>5&&void 0!==g[5]?g[5]:{}).maxHops,i=void 0===r?y.a.MAX_HOPS:r,!(Object(U.a)(t).gt(0)&&n.tokenAddress&&a.tokenAddress&&s.length>0)){e.next=72;break}if(1!==i){e.next=33;break}if(c={maxHops:1,maxNumResults:1},o!==qe){e.next=20;break}return p=Object(d.a)({value:Object(U.a)(t)},n),e.next=8,Re(s,p,a,c);case 8:if(e.t1=l=e.sent[0],e.t0=null!==e.t1,!e.t0){e.next=12;break}e.t0=void 0!==l;case 12:if(!e.t0){e.next=16;break}e.t2=l,e.next=17;break;case 16:e.t2=null;case 17:return e.abrupt("return",e.t2);case 20:return m=Object(d.a)({value:Object(U.a)(t)},a),e.next=23,Ue(s,n,m,c);case 23:if(e.t4=u=e.sent[0],e.t3=null!==e.t4,!e.t3){e.next=27;break}e.t3=void 0!==u;case 27:if(!e.t3){e.next=31;break}e.t5=u,e.next=32;break;case 31:e.t5=null;case 32:return e.abrupt("return",e.t5);case 33:j=null,k=1;case 35:if(!(k<=i)){e.next=71;break}if(f={maxHops:k,maxNumResults:1},h=null,o!==qe){e.next=54;break}return O=Object(d.a)({value:Object(U.a)(t)},n),e.next=42,Re(s,O,a,f);case 42:if(e.t7=w=e.sent[0],e.t6=null!==e.t7,!e.t6){e.next=46;break}e.t6=void 0!==w;case 46:if(!e.t6){e.next=50;break}e.t8=w,e.next=51;break;case 50:e.t8=null;case 51:h=e.t8,e.next=67;break;case 54:return x=Object(d.a)({value:Object(U.a)(t)},a),e.next=57,Ue(s,n,x,f);case 57:if(e.t10=v=e.sent[0],e.t9=null!==e.t10,!e.t9){e.next=61;break}e.t9=void 0!==v;case 61:if(!e.t9){e.next=65;break}e.t11=v,e.next=66;break;case 65:e.t11=null;case 66:h=e.t11;case 67:We(j,h,Ie)&&(j=h);case 68:k++,e.next=35;break;case 71:return e.abrupt("return",{bestTrade:j,fromTokenAddress:n.tokenAddress,toTokenAddress:a.tokenAddress,amountSpecified:t});case 72:return e.abrupt("return",{bestTrade:null,fromTokenAddress:n.tokenAddress,toTokenAddress:a.tokenAddress,amountSpecified:t});case 73:case"end":return e.stop()}}),e)})));return function(t,n,a,s,o){return e.apply(this,arguments)}}(),We=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ce.b;if(e&&!t)return!1;if(t&&!e)return!0;if(e&&t){if(e.tradeType!==t.tradeType||!e.inputAmount.tokenAddress===t.inputAmount.tokenAddress||!e.outputAmount.tokenAddress===t.outputAmount.tokenAddress)throw new Error("Comparing incomparable trades");return n.eq(Ce.b)?e.executionPrice.lt(t.executionPrice):e.executionPrice.times(n.plus(Ce.a)).lt(t.executionPrice)}},ze=Object(k.a)((function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qe;Object(j.a)(this,e),this.route=t,this.tradeType=a;var s=new Array(t.path.length);if(a===qe){Pe()(n.tokenAddress===t.input.tokenAddress,"INPUT"),s[0]=n;for(var o=0;o<t.path.length-1;o++){var r=t.pairs[o],i=Fe(r,r.t0.value);s[o+1]=Object(d.a)(Object(d.a)({},r.t1),{},{value:i.value})}this.inputAmount=Object(d.a)(Object(d.a)({},t.input),{},{inputAmount:t.input.value}),this.outputAmount=Object(d.a)(Object(d.a)({},t.output),{},{numerator:s[s.length-1].numerator,denominator:s[s.length-1].denominator,outputAmount:s[s.length-1].value})}else{Pe()(n.tokenAddress===t.output.tokenAddress,"OUTPUT"),s[s.length-1]=n;for(var c=t.path.length-1;c>0;c--){var l=t.pairs[c-1],p=Be(l,l.t1.value);s[c-1]=Object(d.a)(Object(d.a)({},l.t1),p)}this.inputAmount=Object(d.a)(Object(d.a)({},t.input),{},{numerator:s[0].numerator,denominator:s[0].denominator,inputAmount:s[0].value}),this.outputAmount=Object(d.a)(Object(d.a)({},t.output),{},{numerator:n.numerator,denominator:n.denominator,outputAmount:t.output.value})}this.executionPrice=Object(U.a)(this.outputAmount.outputAmount).div(this.inputAmount.inputAmount),this.priceImpact=Je(t.midPrice,this.inputAmount,this.outputAmount,t.path||[])})),Je=function(e,t,n,a){var s=a.length;if(s>0){var o=Object(U.a)(1).minus(Object(U.a)(s-1).times(.003)),r=Object(U.a)(e).times(n.outputAmount).div(t.inputAmount);return o.minus(r).times(100).abs().times(-1)}return null},Xe=(n(1104),n(1105)),Ye=n(1106),Ze=n(1107),Qe=(n.p,n(1108),n(1213)),Ke=(n.p,n.p,Object(C.a)(window.navigator).any),Ge=Object(g.b)("sunSwapNetwork")(l=Object(g.b)("sunSwapPool")(l=Object(g.b)("network")(l=Object(g.c)(l=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).componentWillUnmount=function(){clearInterval(a.timer),clearInterval(a.timer1)},a.isSwapTRX=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).tokenAddress,n=e.tokenAddress,a=y.a.trxFakeAddress,s=y.a.wtrxAddress;return t===a&&n===s||t===s&&n===a},a.checkInput=function(){var e=a.props.sunSwapPool.swapToken.fromToken,t=a.props.sunSwapPool.swapToken.toToken,n=e.tokenAddress,s=t.tokenAddress,o=a.state.dependentValue,r=Object(U.a)(e.balance),i=(t.balance,function(e){a.setState({actionError:e})}),c=a.state,l=c.fromValue,p=c.toValue,u=c.receivedFlag,d=(c.bestTrade,c.recipientAddr),b=c.swapTRXState;if(a.state.miniError)return i(x.a.get("sunSwap.swap.action_zero"));if(!b)if(d){if(!Object(U.t)(d))return a.setState({recipientValid:!1}),i(x.a.get("sunSwap.swap.action_invalid_recipient"));a.setState({recipientValid:!0})}else if(a.setState({recipientValid:!1}),a.state.addRecipient)return i(x.a.get("sunSwap.swap.action_enter_recipient"));if(!n&&!Object(U.q)("t0")||!s&&!Object(U.q)("t1"))return i(x.a.get("sunSwap.swap.action_select_token"));if(!l)return!u&&p?Object(U.a)(p).lte(0)?i(x.a.get("sunSwap.swap.action_enter_amount")):i(x.a.get("sunSwap.swap.action_insufficient_liquidity")):i(x.a.get("sunSwap.swap.action_enter_amount"));if(Object(U.D)(l).lte(0))return i(x.a.get("sunSwap.swap.action_enter_amount"));if(b&&r&&r.lt(Object(U.D)(l)))return i(x.a.get("sunSwap.swap.action_insufficient",{token:e.tokenSymbol}));if(u){if(!p)return i(x.a.get("sunSwap.swap.action_insufficient_liquidity"));if(r&&r.lt(Object(U.D)(l)))return i(x.a.get("sunSwap.swap.action_insufficient",{token:e.tokenSymbol}));if(Object(U.D)(l).gt(e.approvedAmount))return a.setState({actionError:"",needApprove:!0})}else{if(!b&&r.lt(Object(U.D)(o)))return i(x.a.get("sunSwap.swap.action_insufficient",{token:e.tokenSymbol}));if(!b&&Object(U.a)(o).gt(e.approvedAmount))return a.setState({actionError:"",needApprove:!0})}a.setState({actionError:"",needApprove:!1})},a.onFromValueChange=function(e){var t=e.target.value,n=a.state.toValue;if(t){var s=Object(U.w)(t.replace(/,/g,""),a.props.sunSwapPool.swapToken.fromToken.tokenDecimal),o=s.valid,r=s.str;if(!o)return;t=r,a.props.sunSwapPool.swapToken.fromToken.tokenAddress&&a.props.sunSwapPool.swapToken.toToken.tokenAddress||(n="")}else n="";a.setState({fromValue:Object(U.b)(t),toValue:Object(U.b)(n),receivedFlag:!0},Object(m.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.calcPrice();case 2:a.checkInput();case 3:case"end":return e.stop()}}),e)}))))},a.onToValueChange=function(e){var t=a.state.fromValue,n=e.target.value;if(n){var s=Object(U.w)(n.replace(/,/g,""),a.props.sunSwapPool.swapToken.toToken.tokenDecimal),o=s.valid,r=s.str;if(!o)return;n=r,a.props.sunSwapPool.swapToken.fromToken.tokenAddress&&a.props.sunSwapPool.swapToken.toToken.tokenAddress||(t="")}else t="";a.setState({fromValue:Object(U.b)(t),toValue:Object(U.b)(n),receivedFlag:!1},Object(m.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.calcPrice();case 2:case"end":return e.stop()}}),e)}))))},a.onFromValueBlur=function(){var e=a.state.fromValue;e&&a.setState({fromValue:Object(U.b)(e)})},a.onToValueBlur=function(){var e=a.state.toValue;e&&a.setState({toValue:Object(U.b)(e)})},a.calcPriceTRXSwap=function(e,t){var n=a.state,s=n.receivedFlag,o=n.fromValue,r=n.toValue,i=Object(U.a)(10).pow(e.tokenDecimal),c=Object(U.a)(10).pow(t.tokenDecimal);s?r=Object(U.D)(o).gt(0)?Object(U.D)(o).times(i).div(c)._toFixed(Number(t.tokenDecimal),1):"":o=Object(U.D)(r).gt(0)?Object(U.D)(r).times(c).div(i)._toFixed(Number(e.tokenDecimal),1):"",a.setState({fromValue:Object(U.b)(o),toValue:Object(U.b)(r)},(function(){a.checkInput(),a.calcDependentValue(o,r)}))},a.calcPrice=Object(m.a)(Object(b.a)().mark((function e(){var t,n,s,o,r,i,c,l,p,u,m,j,k,f,h,w,O,v,x,g,S,_,A,T,y,N,P,D,V,C,q;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=a.props.sunSwapPool.swapToken,n=t.fromToken,s=t.toToken,t.pairAddress,o=t.validPairs,r=void 0===o?[]:o,i=a.state,c=i.receivedFlag,l=i.fromValue,p=i.toValue,!(u=a.isSwapTRX(n,s))){e.next=6;break}return e.abrupt("return",a.setState({swapTRXState:u,priceStr:1,priceInverseStr:1},(function(){a.calcPriceTRXSwap(n,s)})));case 6:return a.setState({swapTRXState:!1}),a.state.swapTRXState=!1,m="-",j="-",k=Object(U.a)(10).pow(n.tokenDecimal),f=Object(U.a)(10).pow(s.tokenDecimal),n.value=Object(U.D)(l).times(k),s.value=Object(U.D)(p).times(f),e.next=16,He(c?Object(U.D)(l).times(k):Object(U.D)(p).times(f),Object(d.a)({},n),Object(d.a)({},s),Object(Ae.a)(r),c?1:2);case 16:if(h=e.sent,w=h.bestTrade,O=h.fromTokenAddress,v=h.toTokenAddress,x=h.amountSpecified,O!==n.tokenAddress||v!==s.tokenAddress){e.next=40;break}if(!(c&&Object(U.D)(a.state.fromValue).times(k).eq(x)||!c&&Object(U.D)(a.state.toValue).times(f).eq(x))){e.next=39;break}if(a.state.bestTrade=w,a.setState({bestTrade:w}),w){e.next=25;break}return a.initStateData(),e.abrupt("return");case 25:w.tradeType,g=w.inputAmount,S=w.outputAmount,_=w.route,A=w.executionPrice,T=w.priceImpact,y=S.outputAmount,N=g.inputAmount,c?(P=y.div(f)._toFixed(Number(s.tokenDecimal),1),p=Object(U.a)(P).gt(0)?P:""):(D=N.div(k)._toFixed(Number(n.tokenDecimal),1),l=Object(U.a)(D).gt(0)?D:""),m=N.div(y).div(k).times(f),j=A.div(f).times(k),a.calcDependentValue(l,p),V="-",C=Object(U.D)(l),_&&_.path&&_.path.length&&(q=_.path.length,C=C.times(.003).times(q-1),V=C._toFixed(Number(n.tokenDecimal),1)),a.setState({priceStr:m,priceInverseStr:j,fromValue:Object(U.b)(l),toValue:Object(U.b)(p),liquidityProviderFee:V},(function(){a.checkInput()})),a.calcPriceImpact(T),e.next=40;break;case 39:a.checkInput();case 40:e.next=45;break;case 42:e.prev=42,e.t0=e.catch(0),console.error(e.t0);case 45:case"end":return e.stop()}}),e,null,[[0,42]])}))),a.calcDependentValue=function(e,t){var n=a.state.swapTRXState,s=new U.a(a.props.sunSwapNetwork.settingSlippageV2).div(100),o=new U.a(0),r=y.a.trxDecimal;a.state.receivedFlag?(o=n?Object(U.D)(t):Object(U.D)(t).times(Object(U.a)(1).minus(s)),r=a.props.sunSwapPool.swapToken.toToken.tokenDecimal):(o=n?Object(U.D)(e):Object(U.D)(e).times(Object(U.a)(1).plus(s)),r=a.props.sunSwapPool.swapToken.fromToken.tokenDecimal),a.setState({dependentValue:o,dependentValueSunBig:Object(U.a)(o).times(new U.a(10).pow(r))})},a.calcPriceImpact=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"--",t="",n="--";n=Object(U.a)(e).lte(0)&&Object(U.a)(e).gt(-.01)?"0.00%":"".concat(Object(U.a)(e)._toFixed(2),"%"),t=Object(U.a)(e).lte(-15)?"red":Object(U.a)(e).gt(-15)&&Object(U.a)(e).lte(-5)?"orange":"blue",a.setState({priceImpact:n,priceImpactColor:t})},a.setMaxFrom=function(){var e=a.props.sunSwapPool.swapToken.fromToken,t=Object(U.a)(e.balance);if(Object(U.a)(t).gte(0)){var n=t,s=n.gt(0)?n._toFixed(Number(e.tokenDecimal),1):"0";a.setState({fromValue:Object(U.b)(s),receivedFlag:!0},Object(m.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.calcPrice();case 2:case"end":return e.stop()}}),e)}))))}},a.addSolor=function(e){try{e.tokenDecimal=Number(e.tokenDecimal);var t=a.props.sunSwapPool.solor,n=void 0===t?[]:t,s=V.a.findIndex(n,(function(t){return t.tokenAddress===e.tokenAddress}));s>=0?n.splice(s,1,Object(d.a)(Object(d.a)({},e),{},{cst:2})):n.unshift(Object(d.a)(Object(d.a)({},e),{},{cst:2})),a.props.sunSwapPool.setData({solor:n}),window.localStorage.setItem("solor",JSON.stringify(n))}catch(o){console.log(o)}},a.onFromTokenChange=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,s;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=a.props.sunSwapPool.swapToken,t.tokenDecimal=Number(t.tokenDecimal),t.tokenAddress!==n.fromToken.tokenAddress){e.next=5;break}return e.abrupt("return");case 5:if(a.props.sunSwapPool.showModal(1,!1),t.cst&&a.addSolor(t),t.tokenAddress!==n.toToken.tokenAddress){e.next=9;break}return e.abrupt("return",a.switchToken());case 9:(s=a.state.fromValue)&&t.tokenDecimal!=n.fromToken.tokenDecimal&&(s=Object(U.D)(s)._toFixed(Number(t.tokenDecimal),1)),n.fromToken=Object(d.a)({},t),a.props.sunSwapPool.setData({swapToken:n}),a.setState({fromValue:Object(U.b)(s),needApprove:!1},Object(m.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.sunSwapPool.useAllCurrencyCombinations();case 2:return e.next=4,a.props.sunSwapPool.getBalanceAndApprove();case 4:return e.next=6,a.calcPrice();case 6:case"end":return e.stop()}}),e)})))),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),a.props.sunSwapPool.showModal(1,!1),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),a.onToTokenChange=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,s;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props.sunSwapPool.swapToken,t.tokenAddress!==n.toToken.tokenAddress){e.next=3;break}return e.abrupt("return");case 3:if(a.props.sunSwapPool.showModal(2,!1),t.cst&&a.addSolor(t),e.prev=5,t.tokenAddress!==n.fromToken.tokenAddress){e.next=8;break}return e.abrupt("return",a.switchToken());case 8:t.tokenDecimal=Number(t.tokenDecimal),(s=a.state.toValue)&&t.tokenDecimal!=n.toToken.tokenDecimal&&(s=new U.a(s)._toFixed(Number(t.tokenDecimal),1)),n.toToken=Object(d.a)({},t),a.props.sunSwapPool.setData({swapToken:n}),a.setState({toValue:s},Object(m.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.sunSwapPool.useAllCurrencyCombinations();case 2:return e.next=4,a.props.sunSwapPool.getBalanceAndApprove();case 4:return e.next=6,a.calcPrice();case 6:case"end":return e.stop()}}),e)})))),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),a.props.sunSwapPool.showModal(2,!1),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}(),a.showAddRecipient=function(){a.setState({addRecipient:!0},(function(){a.checkInput()}))},a.switchPriceInverseFlag=function(){a.setState({priceInverseFlag:!a.state.priceInverseFlag})},a.initStateData=function(){var e=a.state,t=e.receivedFlag,n=e.fromValue,s=e.toValue;t?s="":n="";a.setState({fromValue:Object(U.b)(n),toValue:s,priceStr:"-",priceInverseStr:"-",dependentValue:"",priceImpact:"",priceImpactColor:"",liquidityProviderFee:"",actionError:x.a.get("sunSwap.swap.action_insufficient_liquidity")})},a.switchToken=function(){var e=Object(d.a)({},a.props.sunSwapPool.swapToken.fromToken),t=Object(d.a)({},a.props.sunSwapPool.swapToken.toToken);a.props.sunSwapPool.swapToken.fromToken=t,a.props.sunSwapPool.swapToken.toToken=e;var n=a.props.sunSwapPool.swapToken,s=(n.fromToken,n.toToken,a.state),o=s.receivedFlag,r=s.fromValue,i=s.toValue,c=s.priceInverseFlag;o?(i=a.state.fromValue,r=a.state.toValue):(r=a.state.toValue,i=a.state.fromValue),a.setState({priceInverseFlag:!c,receivedFlag:!o,fromValue:r,toValue:i,needApprove:!1},Object(m.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.calcPrice();case 2:return e.next=4,a.props.sunSwapPool.getBalanceAndApprove();case 4:case"end":return e.stop()}}),e)}))))},a.hideAddRecipient=function(){a.setState({addRecipient:!1,recipientAddr:""},(function(){a.checkInput()}))},a.onRecipientChange=function(e){var t=e.target.value;a.setState({recipientAddr:t},(function(){a.checkInput()}))},a.showSettingModal=function(){a.props.sunSwapNetwork.setData({settingVisibleV2:!0})},a.initSwapModal=function(){var e=a.state.swapTRXState,t=a.props.sunSwapPool.swapToken.fromToken,n=a.props.sunSwapPool.swapToken.toToken,s=!e&&a.state.needApprove,o=a.state.recipientAddr,r=o?x.a.get("sunSwap.swap.action_swapSend"):x.a.get("sunSwap.swap.action_swap"),i=["orange","red"].includes(a.state.priceImpactColor)?x.a.get("sunSwap.swap.action_swapStill"):o?x.a.get("sunSwap.swap.confirm_swapSend"):x.a.get("sunSwap.swap.confirm_swap"),c=o?x.a.get("sunSwap.action.swapSendAct",{from:t.tokenSymbol,to:n.tokenSymbol}):x.a.get("sunSwap.action.swapAct",{from:t.tokenSymbol,to:n.tokenSymbol}),l=o?x.a.get("sunSwap.action.swapSendActErr"):x.a.get("sunSwap.action.swapActErr");return{swapPopTitle:r,swapPopBtn:i,swapPopBtnDisabled:!1,swapErrorInfo:"",approveActionTitle:x.a.get("sunSwap.action.approveAct",{token:t.tokenSymbol}),approveActionError:x.a.get("sunSwap.action.approveActErr"),approveActionState:"",swapActionTitle:c,swapActionError:l,swapActionState:"",actionInfo:x.a.get("sunSwap.action.startBtn"),actionDisabled:!0,actionRetry:"",actionState:s?"line":"info",actionStarted:!1,successFromValue:"",successToValue:"",miniPopVisible:!1}},a.showSwapModal=function(){a.setState(Object(d.a)(Object(d.a)({},a.initSwapModal()),{},{swapVisible:!0}),(function(){a.onRetryAction()}))},a.beforeHideSwapModal=function(){a.state.actionStarted?a.setState({miniPopVisible:!0}):a.hideSwapModal()},a.hideSwapModal=function(){a.setState({swapVisible:!1},(function(){setTimeout((function(){a.setState(Object(d.a)({},a.initSwapModal()))}),1e3)}))},a.approveToken=Object(m.a)(Object(b.a)().mark((function e(){var t,n,s,o,r;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.sunSwapPool.swapToken,n=t.fromToken,s=t.toToken,!(n&&s&&(n.tokenAddress===y.a.trxFakeAddress&&s.tokenAddress===y.a.wtrxAddress||s.tokenAddress===y.a.trxFakeAddress&&n.tokenAddress===y.a.wtrxAddress))){e.next=3;break}return e.abrupt("return");case 3:return o=a.props.sunSwapPool.swapToken.fromToken.tokenAddress,r=y.a.v2Contract.router,e.next=7,Object(ae.e)(o,r,{title:"swap.pop_title_approve",obj:{token:a.props.sunSwapPool.swapToken.fromToken.tokenSymbol}});case 7:e.sent?a.setState({approveActionState:"pending",actionInfo:x.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0,needApprove:!1},(function(){setTimeout((function(){a.setState({approveActionState:"success",actionState:"info"})}),5e3)})):a.setState({approveActionState:"error",actionRetry:"approveToken",actionInfo:x.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0});case 9:case"end":return e.stop()}}),e)}))),a.beforeSwapToken=Object(m.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({actionStarted:!0,swapPopBtn:x.a.get("sunSwap.action.startBtn"),swapPopBtnDisabled:!0},(function(){a.swapToken()}));case 1:case"end":return e.stop()}}),e)}))),a.getSwapFuncType=function(e,t){var n=a.state,s=n.receivedFlag;return n.swapTRXState?e.tokenAddress===y.a.trxFakeAddress?"deposit":"withdraw":s?e.tokenAddress===y.a.trxFakeAddress?"swapExactETHForTokens":t.tokenAddress===y.a.trxFakeAddress?"swapExactTokensForETH":"swapExactTokensForTokens":e.tokenAddress===y.a.trxFakeAddress?"swapETHForExactTokens":t.tokenAddress===y.a.trxFakeAddress?"swapTokensForExactETH":"swapTokensForExactTokens"},a.swapToken=Object(m.a)(Object(b.a)().mark((function e(){var t,n,s,o,r,i,c,l,p,u,d,j,k,f,h,w,O,v,g,S;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.sunSwapPool.swapToken.fromToken,n=a.props.sunSwapPool.swapToken.toToken,s=a.state.fromValue,o=a.state.toValue,r=a.state.recipientAddr,i=a.state,c=i.swapTRXState,l=i.dependentValueSunBig,p=!c&&a.state.needApprove,u=s,d=o,j="",k={title:r&&!c?"swap.pop_title_swap_send":"swap.pop_title_swap",obj:{from:"".concat(Object(U.k)(Object(U.D)(s),t.tokenDecimal)," ").concat(t.tokenSymbol),to:"".concat(Object(U.k)(Object(U.D)(o),n.tokenDecimal)," ").concat(n.tokenSymbol),addr:c?window.defaultAccount:r}},f=a.state.bestTrade,h=a.getSwapFuncType(t,n,f),!c){e.next=19;break}return e.next=16,ae.C[h]({amountIn:Object(U.D)(s).times(Object(U.a)(10).pow(t.tokenDecimal))._toIntegerDown()._toHex(),amountOut:Object(U.D)(o).times(Object(U.a)(10).pow(n.tokenDecimal))._toIntegerDown()._toHex(),intlObj:k});case 16:j=e.sent,e.next=37;break;case 19:return w=a.state.bestTrade.route,O=w.path||[],v=O.map((function(e){return e.tokenAddress===y.a.trxFakeAddress?y.a.wtrxAddress:e.tokenAddress})),e.t0=ae.C,e.t1=h,e.t2=Object(U.D)(s).times(Object(U.a)(10).pow(t.tokenDecimal))._toIntegerDown()._toHex(),e.t3=Object(U.D)(o).times(Object(U.a)(10).pow(n.tokenDecimal))._toIntegerDown()._toHex(),e.t4=Object(U.a)(l)._toIntegerDown()._toHex(),e.next=29,Object(ae.g)(a.props.sunSwapNetwork.settingDeadlineV2);case 29:return e.t5=e.sent,e.t6=r||window.defaultAccount,e.t7=v,e.t8=k,e.t9={amountIn:e.t2,amountOut:e.t3,dependentValueSunBig:e.t4,deadline:e.t5,to:e.t6,path:e.t7,intlObj:e.t8},e.next=36,e.t0[e.t1].call(e.t0,e.t9);case 36:j=e.sent;case 37:j?(g={swapErrorInfo:"",swapPopBtn:x.a.get("sunSwap.action.doingBtn"),swapPopBtnDisabled:!0,actionStarted:!0},p&&!c&&(g={actionInfo:x.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,swapActionState:"pending",actionState:"line",actionStarted:!0}),a.setState(g,(function(){setTimeout(Object(m.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({fromValue:"",toValue:"",successFromValue:u,successToValue:d,actionRetry:"",actionState:"success",actionStarted:!1}),e.next=3,a.props.sunSwapPool.getBalanceAndApprove();case 3:return e.next=5,a.calcPrice();case 5:case"end":return e.stop()}}),e)}))),5e3)}))):(S={swapErrorInfo:r?x.a.get("sunSwap.action.swapSendActErr"):x.a.get("sunSwap.action.swapActErr"),swapPopBtn:x.a.get("sunSwap.action.retryBtn"),swapPopBtnDisabled:!1,actionStarted:!0},p&&(S={actionState:"line",swapActionState:"error",actionRetry:"swapToken",actionInfo:x.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0}),a.setState(S));case 38:case"end":return e.stop()}}),e)}))),a.onRetryAction=function(){var e=a.state,t=e.actionRetry,n=e.needApprove;switch(e.swapTRXState&&(n=!1),!t&&n&&(t="approveToken"),t){case"approveToken":a.setState({approveActionState:"start",actionInfo:x.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){a.approveToken()}));break;case"swapToken":a.setState({swapActionState:"start",actionInfo:x.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){a.swapToken()}))}},a.miniPopOk=function(){var e=a.state.needApprove;a.setState({miniPopVisible:!1},Object(m.a)(Object(b.a)().mark((function t(){return Object(b.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.hideSwapModal(),!e){t.next=4;break}return t.next=4,a.props.sunSwapPool.getBalanceAndApprove();case 4:case"end":return t.stop()}}),t)}))))},a.miniPopCancel=function(){a.setState({miniPopVisible:!1})},a.transRouteRender=function(){var e=a.state.bestTrade,t=(void 0===e?{}:e).route.path||[];t.length;return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)("ul",{className:"flex wrap",style:{justifyContent:"flex-start"},children:t.map((function(e,n){return Object(Q.jsxs)("li",{style:{display:"flex",alignItems:"center"},children:[Object(Q.jsx)("img",{className:"mr-4",src:e.tokenLogoUrl||oe.a,alt:""}),Object(Q.jsx)("span",{children:null===e||void 0===e?void 0:e.tokenSymbol}),n!=t.length-1&&Object(Q.jsx)("span",{children:"-0.3%"}),n!=t.length-1&&Object(Q.jsx)("div",{className:"tr-arrow ml-8"})]},e.tokenAddress)}))})})},a.useSafeMax=function(e){var t=a.props.sunSwapPool.swapToken,n=t.fromToken,s=t.toToken;if("from"===e){var o=Object(U.b)(Object(U.D)(n.balance).minus(y.a.swapFeeAmountV2));a.setState({fromValue:o,receivedFlag:!0},Object(m.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.calcPrice();case 2:case"end":return e.stop()}}),e)}))))}else if("to"===e){var r=Object(U.b)(Object(U.D)(s.balance).minus(y.a.swapFeeAmountV2));a.setState({toValue:r},Object(m.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.calcPrice();case 2:case"end":return e.stop()}}),e)}))))}},a.renderTokenRouter=function(){var e=a.state,t=e.swapTRXState,n=e.bestTrade;return Object(Q.jsx)(Q.Fragment,{children:!t&&n&&n.route&&n.route.path.length>0&&Object(Q.jsxs)("div",{className:Ke?"flex a-start end trade-route":"flex a-start trade-route",children:[Ke?"":Object(Q.jsx)("span",{style:{paddingRight:10,whiteSpace:"nowrap"},children:x.a.get("sunSwap.migrate.trans_route")}),a.transRouteRender()]})})},a.timer=0,a.timer1=0,a.swapFuncType="",a.state={swapTRXState:!1,bestTrade:null,fromValue:"",toValue:"",priceStr:"-",priceInverseStr:"-",priceInverseFlag:!1,dependentValueSunBig:"",dependentValue:"",priceImpact:"",priceImpactColor:"",liquidityProviderFee:"",receivedFlag:!0,addRecipient:!1,recipientAddr:"",recipientValid:!1,needApprove:!0,actionError:x.a.get("sunSwap.swap.action_enter_amount"),swapInfo:x.a.get("sunSwap.swap.action_swap"),swapVisible:!1,priceChartVisible:!1,swapPopTitle:"",swapPopBtn:"",swapPopBtnDisabled:!1,swapErrorInfo:"",approveActionTitle:"",approveActionError:"",approveActionState:"",swapActionTitle:"",swapActionError:"",swapActionState:"",actionInfo:"",actionDisabled:!1,actionRetry:"",actionState:"",actionStarted:!1,successFromValue:"",successToValue:"",miniPopVisible:!1,betterPrice:!1,notCreatedOfNew:!1,transRouteArr:[{symbol:"trx"},{symbol:"btt"},{symbol:"wbtt"},{symbol:"sunold"},{symbol:"nft"},{symbol:"usdj"}]},a}return Object(k.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.sunSwapPool.getBalanceAndApprove(),this.timer=setInterval((function(){e.props.sunSwapPool.getBalanceAndApprove()}),6e3),this.timer1=setInterval((function(){e.props.sunSwapPool.getReservesAll()}),3e3),this.checkInput()}},{key:"componentDidUpdate",value:function(e,t){if(this.props.sunSwapNetwork.changedSetting&&this.state.fromValue&&this.state.toValue){var n=Object(U.D)(this.state.fromValue),a=Object(U.D)(this.state.toValue);this.calcDependentValue(n,a),this.props.sunSwapNetwork.setData({changedSetting:!1})}}},{key:"render",value:function(){var e=this,t=this.props.sunSwapPool,n=t.swapToken,a=t.modalVisibleInfo,s=n.fromToken,o=n.toToken,r=this.state,i=r.priceStr,c=r.priceInverseStr,l=r.dependentValue,p=r.swapTRXState;r.bestTrade;return Object(Q.jsxs)(Te.a,{className:"swap-content swap-and-pool",children:[Object(Q.jsxs)(pe.a,{gutter:[{xs:8,sm:16,md:24},10],align:"bottom",children:[Object(Q.jsxs)(ue.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},className:"swap-block",children:[Object(Q.jsxs)("div",{className:"flex select-token-top",children:[Object(Q.jsx)("div",{className:"flex",children:Object(Q.jsxs)("div",{className:s.tokenAddress?"flex":"flex sunswap-chose-token",children:[Object(Q.jsx)(me.a,{showModal:function(){e.props.sunSwapPool.showModal(1)},token:s}),Object(Q.jsx)($,{modalVisible:a.visible1,onCancel:function(){return e.props.sunSwapPool.showModal(1,!1)},type:1,onChangeToken:function(t){e.onFromTokenChange(t)}}),Object(Q.jsx)(je.a,{token:s})]})}),Object(Q.jsxs)("div",{className:"swap-balance",children:[Object(Q.jsx)("span",{children:x.a.get("sunSwap.swap.input_from_balance")}),Object(Q.jsx)("span",{children:Object(U.l)(s.balance,{dp:6,cutZero:!0})})]})]}),Object(Q.jsx)("div",{className:"flex mt-16",children:Object(Q.jsxs)("div",{className:"flex input-block",children:[Object(Q.jsx)("div",{className:"flex input-number",children:Object(Q.jsx)("input",{value:this.state.fromValue,onChange:this.onFromValueChange,onBlur:this.onFromValueBlur,placeholder:x.a.get("sunSwap.swap.input_placeholder")})}),this.props.network.isConnected?Object(Q.jsx)("span",{className:"max-btn",onClick:this.setMaxFrom,children:x.a.get("sunSwapV3.swap.input_from_max")}):null]})})]}),Object(Q.jsx)(ue.a,{xs:{span:24},sm:{span:24},md:{span:2},lg:{span:2},style:{textAlign:"center"},children:Object(Q.jsxs)("div",{className:"flex center",children:[Object(Q.jsx)("span",{className:"swap-arrow",onClick:this.switchToken}),Object(Q.jsx)("div",{style:{paddingLeft:32,textAlign:"left",flex:1},className:"sunswap-trade-router media-trade-router-mobile",children:this.renderTokenRouter()})]})}),Object(Q.jsxs)(ue.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},className:"swap-block",children:[Object(Q.jsxs)("div",{className:"flex",children:[Object(Q.jsxs)("div",{className:o.tokenAddress?"flex":"flex sunswap-chose-token",children:[Object(Q.jsx)(me.a,{showModal:function(){e.props.sunSwapPool.showModal(2)},token:o}),Object(Q.jsx)($,{modalVisible:a.visible2,onCancel:function(){return e.props.sunSwapPool.showModal(2,!1)},type:2,onChangeToken:function(t){e.onToTokenChange(t)}}),Object(Q.jsx)(je.a,{token:o})]}),Object(Q.jsxs)("div",{className:"swap-balance",children:[Object(Q.jsx)("span",{children:x.a.get("sunSwap.swap.input_to_balance")}),Object(Q.jsx)("span",{children:Object(U.l)(o.balance,{dp:6,cutZero:!0})})]})]}),Object(Q.jsx)("div",{className:"flex mt-16",children:Object(Q.jsx)("div",{className:"flex input-block",children:Object(Q.jsx)("div",{className:"flex input-number",children:Object(Q.jsx)("input",{value:this.state.toValue,onChange:this.onToValueChange,onBlur:this.onToValueBlur,placeholder:x.a.get("sunSwap.swap.input_placeholder")})})})})]})]}),Object(Q.jsxs)(pe.a,{gutter:[{xs:8,sm:16,md:24},10],className:"mt-20",children:[Object(Q.jsxs)(ue.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},className:"flex-swap-block",children:[!p&&Object(Q.jsx)(Q.Fragment,{children:this.state.addRecipient?Object(Q.jsxs)(O.a.Fragment,{children:[Object(Q.jsxs)("div",{className:"add-recipient add-recipient-remove",onClick:this.hideAddRecipient,children:[x.a.get("sunSwap.swap.input_remove_recipient"),Object(Q.jsx)("img",{className:"ml-12 recipient-icon",src:Ze.a,alt:""})]}),Object(Q.jsxs)("div",{className:"recipient-list",children:[Object(Q.jsx)("div",{className:"flex",children:this.state.recipientAddr&&this.state.recipientValid?Object(Q.jsx)("a",{className:"link",href:"".concat(y.a.tronscanUrl,"/address/").concat(this.state.recipientAddr),target:"_blank",rel:"noreferrer",children:x.a.get("sunSwap.swap.input_recipient_tronscan")}):null}),Object(Q.jsx)("input",{className:"mt-15",value:this.state.recipientAddr,onChange:this.onRecipientChange,placeholder:x.a.get("sunSwap.swap.input_recipient_placeholder")})]})]}):Object(Q.jsxs)("div",{className:"add-recipient",onClick:this.showAddRecipient,children:[x.a.get("sunSwap.swap.input_add_recipient"),Object(Q.jsx)("img",{className:"ml-12 recipient-icon",src:Ye.a,alt:""})]})}),s.tokenAddress&&o.tokenAddress?Object(Q.jsxs)("div",{className:"flex start rates mt-20",children:[x.a.get("sunSwap.swap.input_from_price"),Object(Q.jsx)("span",{className:"swap-token",children:this.state.priceInverseFlag?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)("span",{className:"token-rates",children:[Object(U.l)(c,{miniText:y.a.minPrice,miniTextNoZero:!0,separator:!1,dp:o.tokenDecimal,cutZero:!0})," ",o.tokenSymbol]})," ",x.a.get("sunSwapV3.per"),Object(Q.jsx)("span",{className:"token-rates",children:s.tokenSymbol})]}):Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)("span",{className:"token-rates",children:[Object(U.l)(i,{miniText:y.a.minPrice,miniTextNoZero:!0,separator:!1,dp:s.tokenDecimal,cutZero:!0})," ",s.tokenSymbol]})," ",x.a.get("sunSwapV3.per"),Object(Q.jsx)("span",{className:"token-rates",children:o.tokenSymbol})]})}),Object(Q.jsx)("img",{className:"ml-12",src:Xe.a,alt:"",onClick:this.switchPriceInverseFlag})]}):null,Object(Q.jsx)("div",{className:"flex",children:Object(Q.jsx)("div",{className:"sunswap-trade-router media-trade-router-pc mt-20",children:this.renderTokenRouter()})})]}),Object(Q.jsx)(ue.a,{xs:{span:24},sm:{span:24},md:{span:2},lg:{span:2},style:{textAlign:"center"},children:Object(Q.jsx)("span",{})}),Object(Q.jsxs)(ue.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},className:"flex-swap-block",children:[!p&&Object(Q.jsx)(Q.Fragment,{children:"0.5"!=this.props.sunSwapNetwork.settingSlippageV2?Object(Q.jsxs)("div",{className:"flex start detail-item",children:[Object(Q.jsxs)("div",{children:[x.a.get("sunSwap.swap.detail_slippage")," "]}),Object(Q.jsx)("span",{className:"ml-8",children:(Object(U.a)(this.props.sunSwapNetwork.settingSlippageV2).lt(.01)?"<0.01":this.props.sunSwapNetwork.settingSlippageV2)+"%"})]}):null}),!p&&this.state.fromValue&&this.state.toValue&&this.props.sunSwapPool.swapToken.fromToken.tokenAddress&&this.props.sunSwapPool.swapToken.toToken.tokenAddress?Object(Q.jsxs)("div",{children:[Object(Q.jsx)("div",{className:"flex start mt-8 detail-item",children:this.state.receivedFlag?Object(Q.jsxs)(O.a.Fragment,{children:[Object(Q.jsx)(ye.a,{tip:x.a.get("sunSwap.swap.detail_min_received_tip"),children:x.a.get("sunSwap.swap.detail_min_received")}),Object(Q.jsx)("span",{className:"ml-8",children:Object(U.l)(l,{dp:o.tokenDecimal})+" "+o.tokenSymbol})]}):Object(Q.jsxs)(O.a.Fragment,{children:[Object(Q.jsx)(ye.a,{tip:x.a.get("sunSwap.swap.detail_max_sold_tip"),children:x.a.get("sunSwap.swap.detail_max_sold")}),Object(Q.jsx)("span",{className:"ml-8",children:Object(U.l)(l,{dp:s.tokenDecimal})+" "+this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]})}),Object(Q.jsxs)("div",{className:"flex start mt-8 detail-item",children:[Object(Q.jsx)(ye.a,{tip:x.a.get("sunSwap.swap.detail_price_impact_tip"),children:x.a.get("sunSwap.swap.detail_price_impact")}),Object(Q.jsx)("span",{className:["orange","red"].includes(this.state.priceImpactColor)?this.state.priceImpactColor+" ml-8":"ml-8",children:this.state.priceImpact.indexOf("NaN")>-1?"--":this.state.priceImpact})]}),Object(Q.jsxs)("div",{className:"flex start mt-8 detail-item",children:[Object(Q.jsx)(ye.a,{tip:x.a.getHTML("swap.detail_liquidity_fee_tip_v2"),children:x.a.get("sunSwap.swap.detail_liquidity_fee")}),Object(Q.jsx)("span",{className:"ml-8",children:this.state.liquidityProviderFee+" "+this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]})]}):null,"TRX"===s.tokenSymbol&&this.state.fromValue?Object(U.D)(s.balance).lt(y.a.swapFeeAmountV2)?Object(Q.jsx)("div",{className:"safe-amount-tip mt-20",children:x.a.getHTML("list.trx_tip_3",{value:y.a.swapFeeAmountV2})}):Object(U.D)(s.balance).minus(y.a.swapFeeAmountV2).lt(Object(U.D)(this.state.fromValue))?Object(Q.jsxs)("div",{className:"safe-amount-tip mt-20",children:[x.a.getHTML("list.trx_tip_1",{value:y.a.swapFeeAmountV2})," ",Object(Q.jsx)("span",{className:"safe-amount-set-btn",onClick:function(){return e.useSafeMax("from")},children:x.a.get("sunSwap.list.trx_tip_2")})]}):null:null,"TRX"===o.tokenSymbol&&this.state.toValue&&Object(U.D)(o.balance).lt(y.a.swapFeeAmountV2)?Object(Q.jsx)("div",{className:"safe-amount-tip mt-20",children:x.a.getHTML("list.trx_tip_3",{value:y.a.swapFeeAmountV2})}):null]})]}),Object(Q.jsx)("div",{className:"action-btns",children:this.props.network.isConnected?Object(Q.jsx)(Q.Fragment,{children:this.state.actionError?Object(Q.jsx)(ee.a,{type:"single",disabled:!0,info:this.state.actionError}):Object(Q.jsx)(ee.a,{type:"single",btnColor:this.state.priceImpactColor,info:"red"===this.state.priceImpactColor?x.a.get("sunSwap.swap.action_high"):this.state.swapInfo,onClick:this.showSwapModal})}):Object(Q.jsx)(ee.a,{type:"single",info:x.a.get("sunSwap.swap.action_connect"),onClick:function(){e.props.network.setData({loginModalVisible:!0,loginModalStep:1})}})}),Object(Q.jsxs)(S.a,{title:null,closable:"success"!==this.state.actionState,open:this.state.swapVisible,onCancel:this.beforeHideSwapModal,footer:null,className:"confirm-swap-modal sun-swap-modal",width:630,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:["line"===this.state.actionState&&Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("div",{className:"title big",children:this.state.swapPopTitle}),Object(Q.jsxs)("div",{className:"ib-parent center trans-modal amount",children:[Object(Q.jsxs)("div",{className:"from",children:[Object(Q.jsx)("div",{className:"from-value",children:this.state.fromValue}),Object(Q.jsx)("div",{className:"from-token",children:this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]}),Object(Q.jsx)("img",{src:Qe.a,alt:"",className:"plus w10"}),Object(Q.jsxs)("div",{className:"to",children:[Object(Q.jsx)("div",{className:"to-value",children:this.state.toValue}),Object(Q.jsx)("div",{className:"to-token",children:this.props.sunSwapPool.swapToken.toToken.tokenSymbol})]}),this.state.recipientAddr&&Object(Q.jsxs)("div",{className:"recipient",children:[x.a.get("sunSwap.swap.recipient"),this.state.recipientAddr]})]}),Object(Q.jsx)("div",{className:"middleTip",children:this.state.recipientAddr?x.a.get("sunSwap.action.swapSendLineTitle"):x.a.get("sunSwap.action.swapLineTitle")}),Object(Q.jsxs)(te.a,{children:[Object(Q.jsx)("span",{status:this.state.approveActionState,err:this.state.approveActionError,children:this.state.approveActionTitle}),Object(Q.jsx)("span",{status:this.state.swapActionState,err:this.state.swapActionError,children:this.state.swapActionTitle})]}),Object(Q.jsx)(ee.a,{type:"single",disabled:this.state.actionDisabled,info:this.state.actionInfo,onClick:this.onRetryAction})]}),"info"===this.state.actionState&&Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("div",{className:"title big",children:this.state.swapPopTitle}),Object(Q.jsxs)("div",{className:"ib-parent center tokens amount",children:[Object(Q.jsxs)("div",{className:"from",children:[Object(Q.jsx)("div",{className:"from-value",children:this.state.fromValue}),Object(Q.jsxs)("div",{className:"from-token",children:[Object(Q.jsx)("img",{src:this.props.sunSwapPool.swapToken.fromToken.tokenLogoUrl,alt:""}),Object(Q.jsx)("span",{children:this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]})]}),Object(Q.jsx)("img",{src:Qe.a,alt:"",className:"plus w10"}),Object(Q.jsxs)("div",{className:"to",children:[Object(Q.jsx)("div",{className:"to-value",children:this.state.toValue}),Object(Q.jsxs)("div",{className:"to-token",children:[Object(Q.jsx)("img",{src:this.props.sunSwapPool.swapToken.toToken.tokenLogoUrl,alt:""}),Object(Q.jsx)("span",{children:this.props.sunSwapPool.swapToken.toToken.tokenSymbol})]})]}),this.state.recipientAddr&&!p&&Object(Q.jsxs)("div",{className:"recipient",children:[x.a.get("sunSwap.swap.recipient"),this.state.recipientAddr]})]}),Object(Q.jsxs)("div",{className:"flex justify-content price",children:[Object(Q.jsx)("div",{className:"",children:x.a.get("sunSwap.swap.input_from_price")}),Object(Q.jsxs)("div",{className:"right",children:[Object(Q.jsx)("div",{children:"1 ".concat(this.props.sunSwapPool.swapToken.toToken.tokenSymbol," =\n                    ").concat(Object(U.l)(this.state.priceStr,{dp:this.props.sunSwapPool.swapToken.fromToken.tokenDecimal,cutZero:!0,miniTextNoZero:!0,miniText:y.a.minPrice}),"\n                    ").concat(this.props.sunSwapPool.swapToken.fromToken.tokenSymbol," ")}),Object(Q.jsx)("div",{className:"mt3",children:"1 ".concat(this.props.sunSwapPool.swapToken.fromToken.tokenSymbol," =\n                    ").concat(Object(U.l)(this.state.priceInverseStr,{dp:this.props.sunSwapPool.swapToken.toToken.tokenDecimal,cutZero:!0,miniTextNoZero:!0,miniText:y.a.minPrice}),"\n                    ").concat(this.props.sunSwapPool.swapToken.toToken.tokenSymbol," ")})]})]}),"0.5"!=this.props.sunSwapNetwork.settingSlippageV2?Object(Q.jsxs)("div",{className:"flex justify-content detail-slippage",children:[Object(Q.jsxs)("div",{children:[x.a.get("sunSwap.swap.detail_slippage")," "]}),Object(Q.jsx)("div",{children:(Object(U.a)(this.props.sunSwapNetwork.settingSlippageV2).lt(.01)?"<0.01":this.props.sunSwapNetwork.settingSlippageV2)+"%"})]}):null,!p&&Object(Q.jsxs)("div",{className:"detail-list",children:[Object(Q.jsx)("div",{className:"flex justify-content detail-item",children:this.state.receivedFlag?Object(Q.jsxs)(O.a.Fragment,{children:[Object(Q.jsx)(ye.a,{tip:x.a.get("sunSwap.swap.detail_min_received_tip"),left:!0,dark:!0,children:x.a.get("sunSwap.swap.detail_min_received")}),Object(Q.jsx)("span",{className:"right",children:Object(U.l)(l,{dp:o.tokenDecimal})+" "+this.props.sunSwapPool.swapToken.toToken.tokenSymbol})]}):Object(Q.jsxs)(O.a.Fragment,{children:[Object(Q.jsx)(ye.a,{tip:x.a.get("sunSwap.swap.detail_max_sold_tip"),left:!0,dark:!0,children:x.a.get("sunSwap.swap.detail_max_sold")}),Object(Q.jsx)("span",{className:"right",children:Object(U.l)(l,{dp:s.tokenDecimal})+" "+this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]})}),Object(Q.jsxs)("div",{className:"flex justify-content detail-item",children:[Object(Q.jsx)(ye.a,{tip:x.a.get("sunSwap.swap.detail_price_impact_tip"),left:!0,dark:!0,children:x.a.get("sunSwap.swap.detail_price_impact")}),Object(Q.jsx)("span",{className:"right "+(["orange","red"].includes(this.state.priceImpactColor)?this.state.priceImpactColor:"normal sun-swap-normal-1"),children:this.state.priceImpact.indexOf("NaN")>-1?"--":this.state.priceImpact})]}),Object(Q.jsxs)("div",{className:"flex justify-content detail-item",children:[Object(Q.jsx)(ye.a,{tip:x.a.getHTML("swap.detail_liquidity_fee_tip_v2"),left:!0,dark:!0,children:x.a.get("sunSwap.swap.detail_liquidity_fee")}),Object(Q.jsx)("span",{className:"right",children:this.state.liquidityProviderFee+" "+this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]})]}),Object(Q.jsx)("div",{className:"warning",children:this.state.receivedFlag?Object(Q.jsx)("div",{children:x.a.get("sunSwap.swap.confirm_warning_output",{amount:Object(U.l)(l,{dp:o.tokenDecimal}),token:this.props.sunSwapPool.swapToken.toToken.tokenSymbol})}):Object(Q.jsx)("div",{children:x.a.get("sunSwap.swap.confirm_warning_input",{amount:Object(U.l)(l,{dp:s.tokenDecimal}),token:this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})})}),this.state.swapErrorInfo&&Object(Q.jsx)("div",{className:"errorMsg",children:this.state.swapErrorInfo}),Object(Q.jsx)(ee.a,{styleName:"mt-40",type:"single",btnColor:this.state.priceImpactColor,disabled:this.state.swapPopBtnDisabled,info:this.state.swapPopBtn,onClick:this.beforeSwapToken})]}),"success"===this.state.actionState&&Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)("div",{className:"modal-success",children:[Object(Q.jsx)("img",{src:se.a,alt:""}),this.state.recipientAddr?Object(Q.jsx)("div",{className:"title green",children:x.a.get("sunSwap.action.swapSendSuccessTitle")}):Object(Q.jsx)("div",{className:"title green",children:x.a.get("sunSwap.action.swapSuccessTitle")}),Object(Q.jsxs)("div",{className:"ib-parent center trans-modal mb25",children:[Object(Q.jsxs)("div",{className:"from",children:[Object(Q.jsx)("div",{className:"from-value",children:this.state.successFromValue}),Object(Q.jsx)("div",{className:"from-token",children:this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]}),Object(Q.jsx)("img",{src:Qe.a,alt:"",className:"plus w10"}),Object(Q.jsxs)("div",{className:"to",children:[Object(Q.jsx)("div",{className:"to-value",children:this.state.successToValue}),Object(Q.jsx)("div",{className:"to-token",children:this.props.sunSwapPool.swapToken.toToken.tokenSymbol})]}),this.state.recipientAddr&&Object(Q.jsxs)("div",{className:"recipient",children:[x.a.get("sunSwap.swap.recipient"),Object(U.j)(this.state.recipientAddr)]})]}),Object(Q.jsx)(ee.a,{type:"single",info:x.a.get("sunSwap.action.closeBtn"),onClick:this.hideSwapModal}),this.state.recipientAddr?Object(Q.jsx)("div",{className:"endTip",children:x.a.get("sunSwap.action.swapSendDescTitle")}):Object(Q.jsx)("div",{className:"endTip",children:x.a.get("sunSwap.action.swapDescTitle")})]})})]}),Object(Q.jsx)(ne.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}}]),n}(O.a.Component))||l)||l)||l)||l,$e=Ge,et=n(55),tt=n(23),nt=n.n(tt),at=n(54),st=n.n(at),ot=y.a.swapServiceV2,rt=y.a.swapApiPathV2,it=rt.statusinfo,ct=rt.allLiquidityVolume,lt=rt.topTokenList,pt=rt.tokenInfo,ut=rt.topPairList,dt=rt.pairInfo,bt=rt.pairListByToken,mt=rt.transactions,jt=rt.searchTokenList,kt=rt.searchPairList,ft=rt.liquidityuser,ht=function(){function e(){Object(j.a)(this,e)}return Object(k.a)(e,[{key:"getStatusInfo",value:function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t,n,a=arguments;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.get("".concat(ot).concat(it),{params:t});case 2:return n=e.sent,a=n.data,e.abrupt("return",a.data||{});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",Object(U.z)(n));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllLiquidityVolume",value:function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t,n,a=arguments;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n,a,s;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.get("".concat(ot).concat(ct),{params:t});case 2:return n=e.sent,a=n.data,(s=a.data||[]).map((function(e){e.time=1e3*e.time,e.newTime=st()(e.time).format("YYYY/M/D"),e.volume=Object(U.E)(e.volume),e.liquidity=Object(U.E)(e.liquidity)})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",Object(U.z)(n));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getTopTokenList",value:function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t,n,a=arguments;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n,a,s;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.get("".concat(ot).concat(lt),{params:t});case 2:return n=e.sent,a=n.data,(s=a.data||[]).map((function(e){e.symbol=Object(U.r)(e.symbol,e.tokenAddress)})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",Object(U.z)(n));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getTokenInfo",value:function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t,n,a=arguments;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n,a,s;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.get("".concat(ot).concat(pt),{params:t});case 2:return n=e.sent,a=n.data,(s=a.data||{}).symbol=Object(U.r)(s.symbol,s.tokenAddress),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",Object(U.z)(n));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getTopPairList",value:function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t,n,a=arguments;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n,a,s;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.get("".concat(ot).concat(ut),{params:t});case 2:return n=e.sent,a=n.data,(s=a.data||[]).map((function(e){e.token0Symbol=Object(U.r)(e.token0Symbol,e.token0Address),e.token1Symbol=Object(U.r)(e.token1Symbol,e.token1Address)})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",Object(U.z)(n));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getPairInfo",value:function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t,n,a=arguments;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n,a,s;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.get("".concat(ot).concat(dt),{params:t});case 2:return n=e.sent,a=n.data,(s=a.data||{}).token0Symbol=Object(U.r)(s.token0Symbol,s.token0Address),s.token1Symbol=Object(U.r)(s.token1Symbol,s.token1Address),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",Object(U.z)(n));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getPairListByToken",value:function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t,n,a=arguments;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n,a,s;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.get("".concat(ot).concat(bt),{params:t});case 2:return n=e.sent,a=n.data,(s=a.data||[]).map((function(e){e.token0Symbol=Object(U.r)(e.token0Symbol,e.token0Address),e.token1Symbol=Object(U.r)(e.token1Symbol,e.token1Address)})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",Object(U.z)(n));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getTransactions",value:function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t,n,a=arguments;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n,a,s;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.get("".concat(ot).concat(mt),{params:t});case 2:return n=e.sent,a=n.data,(s=a.data||[]).map((function(e){e.fromSymbol=Object(U.r)(e.fromSymbol,e.fromTokenAddr),e.toSymbol=Object(U.r)(e.toSymbol,e.toTokenAddr)})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",Object(U.z)(n));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"searchTokenList",value:function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t,n,a=arguments;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n,a,s;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.get("".concat(ot).concat(jt),{params:t});case 2:return a=e.sent,s=a.data,((null===(n=s.data)||void 0===n?void 0:n.list)||[]).map((function(e){e.symbol=Object(U.r)(e.symbol,e.tokenAddress)})),e.abrupt("return",s.data||{hasMore:!1,list:[]});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",Object(U.z)(n));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"searchPairList",value:function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t,n,a=arguments;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},n=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n,a,s;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.get("".concat(ot).concat(kt),{params:t});case 2:return a=e.sent,s=a.data,((null===(n=s.data)||void 0===n?void 0:n.list)||[]).map((function(e){e.token0Symbol=Object(U.r)(e.token0Symbol,e.token0Address),e.token1Symbol=Object(U.r)(e.token1Symbol,e.token1Address)})),e.abrupt("return",s.data||{hasMore:!1,list:[]});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",Object(U.z)(n));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getLiquidityUserListV2",value:function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t,n,a=arguments;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n=function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var n,a;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt.a.get("".concat(ot).concat(ft),{params:{address:t}});case 2:if(0!==(n=e.sent).data.code){e.next=9;break}return(a=n.data.data.liquidityList||[]).map((function(e){e.token0Symbol=Object(U.r)(e.token0Symbol,e.token0Address),e.token1Symbol=Object(U.r)(e.token1Symbol,e.token1Address)})),e.abrupt("return",a);case 9:return e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",Object(U.z)(n));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),wt=new ht,Ot=n(327),vt=n(904),xt=n(1119),gt=n(982),St=n(950),_t=n(460),At=n(939),Tt=n(1216),yt=n(1214),Nt=n(1109),Pt=n(326),Dt=n(1217),Vt=(n(1220),n(1044)),Ct=n(1118),qt=Object(C.a)(window.navigator).any,Lt=Object(g.b)("sunSwapNetwork")(p=Object(g.b)("sunSwapPool")(p=Object(g.b)("network")(p=Object(g.c)(p=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(m.a)(Object(b.a)().mark((function e(){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.unmount=!1,setTimeout((function(){a.getLiquidityUserData()}),500);case 2:case"end":return e.stop()}}),e)}))),a.componentWillUnmount=function(){a.unmount=!0},a.addLiq=function(e){var t=a.props.sunSwapPool.liqToken;t.fromToken={tokenSymbol:e.token0Address===y.a.wtrxAddress?"TRX":e.token0Symbol,tokenAddress:e.token0Address===y.a.wtrxAddress?y.a.trxFakeAddress:e.token0Address,tokenDecimal:e.token0Address===y.a.wtrxAddress?y.a.trxDecimal:e.token0Decimal,tokenLogoUrl:e.token0Address===y.a.wtrxAddress?Ot.a:e.token0Logo},t.toToken={tokenSymbol:e.token1Address===y.a.wtrxAddress?"TRX":e.token1Symbol,tokenAddress:e.token1Address===y.a.wtrxAddress?y.a.trxFakeAddress:e.token1Address,tokenDecimal:e.token1Address===y.a.wtrxAddress?y.a.trxDecimal:e.token1Decimal,tokenLogoUrl:e.token1Address===y.a.wtrxAddress?Ot.a:e.token1Logo},Object(U.p)(t),a.props.sunSwapPool.setData({actionLiqV2:Pt.a.ADD_TYPE,addLiqFromPools:!0,liqToken:t})},a.removeLiq=function(e){if(!(e.tokens.times(y.a.defaultTokenPrecision).integerValue(U.a.ROUND_DOWN).gt(0)&&e.trx.times(e.token1Precision).integerValue(U.a.ROUND_DOWN).gt(0)&&e.value.times(e.token0Precision).integerValue(U.a.ROUND_DOWN).gt(0)))return!1;var t={tokenSymbol:e.token0Symbol,tokenAddress:e.token0Address,tokenDecimal:e.token0Decimal,tokenLogoUrl:e.token0Logo},n={tokenSymbol:e.token1Symbol,tokenAddress:e.token1Address,tokenDecimal:e.token1Decimal,tokenLogoUrl:e.token1Logo},s=a.props.sunSwapPool.liqToken;s.fromToken=t,s.toToken=n,a.props.sunSwapPool.setData({actionLiqV2:2,liqToken:s})},a.liqAddBtnClicked=function(){var e=a.props.sunSwapPool.liqToken;e.toToken={tokenAddress:"",tokenSymbol:""},e.fromToken={tokenSymbol:"TRX",tokenAddress:y.a.trxFakeAddress,tokenDecimal:y.a.trxDecimal,trxBalance:new U.a(0),tokenBalance:new U.a(0),approvedAmount:new U.a(ae.a),tokenLogoUrl:y.a.trxLogoUrl},e.toBalance=new U.a(-1),a.props.sunSwapPool.setData({actionLiqV2:1,addLiqFromPools:!1,liqToken:e,tokenDetailV2:{trx:new U.a(0),value:new U.a(0),tokens:new U.a(0),price1:"--",price2:"--",exTrx:new U.a(0)}})},a.getContractData=Object(m.a)(Object(b.a)().mark((function e(){var t,n;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=a.state.currentPage,!((n=a.props.sunSwapPool.originLiquidityListNew.slice(qt?0:(t-1)*a.pageSize,(t-1)*a.pageSize+a.pageSize)).length>0)){e.next=8;break}if(a.props.sunSwapPool.originLiquidityListNew.map((function(e){var t=n.filter((function(t){t.tokenAddress,e.tokenAddress}));t.length>0&&Object.assign(e,t[0])})),!a.unmount){e.next=7;break}return e.abrupt("return");case 7:t===a.state.currentPage&&a.setState({liquidityList:n});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),a.onChange=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({currentPage:t},(function(){a.getContractData()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.showLoginModal=function(e){a.props.network.setData({loginModalVisible:!0,loginModalStep:1})},a.getColumn=function(){return[{title:x.a.get("sunSwap.liquidity_table.name"),dataIndex:"name",key:"name",fixed:!!qt&&"left",width:qt?"100px":void 0,render:function(e,t){var n=t.token0Logo,a=t.token1Logo,s=t.token0Symbol,o=t.token1Symbol,r=t.token0Address,i=t.token1Address,c=t.address,l=i===y.a.wtrxAddress||i===y.a.trxFakeAddress;return Object(Q.jsxs)("div",{children:[Object(Q.jsx)(gt.a,{url:n,className:Tt.pool_list_logo}),Object(Q.jsx)(gt.a,{url:l?Ot.a:a,className:Tt.pool_list_logo_right}),Object(Q.jsxs)(St.a,{target:"_blank",href:Object(_t.b)({pathname:"#/scan/pairDetail",search:{version:"v2",pairAddress:c,token0Address:r,token1Address:i}}),children:[s,"/",o]})]})}},{title:x.a.get("sunSwap.liquidity_table.token"),dataIndex:"token0Amount",key:"token0Amount",render:function(e,t){return(t.value?t.value._toFixed(4,1):"-")+" "+t.token0Symbol}},{title:x.a.get("sunSwap.liquidity_table.token"),dataIndex:"token1Amount",key:"token1Amount",render:function(e,t){return(t.trx?t.trx._toFixed(4,1):"-")+" "+t.token1Symbol}},{title:x.a.get("sunSwap.liquidity_table.lp"),dataIndex:"lp",key:"lp",render:function(e,t){return t.value?Object(U.l)(t.tokens,{miniText:1e-4,cutZero:!0,dp:4}):"-"}},{title:x.a.get("sunSwap.liquidity_table.share"),dataIndex:"share",key:"share",render:function(e,t){return t.value?Object(Q.jsxs)("span",{children:[t.share.gt(0)&&t.share.lt(.01)?"<0.01":isNaN(t.share._toFixed(2,1))?"--":t.share._toFixed(2,1),"%"]}):"-"}},{title:Object(Q.jsx)("span",{}),dataIndex:"btn",key:"btn",width:200,render:function(e,t){var n=!(t.tokens.times(y.a.defaultTokenPrecision).integerValue(U.a.ROUND_DOWN).gt(0)&&t.trx.times(t.token1Precision).integerValue(U.a.ROUND_DOWN).gt(0)&&t.value.times(t.token0Precision).integerValue(U.a.ROUND_DOWN).gt(0));return Object(Q.jsx)(Nt.a,{showRemove:!0,showAdd:!0,onAdd:function(){return a.addLiq(t)},onRemove:function(){return a.removeLiq(t)},removeDisabled:n})}}]},a.formatLiquidityList=function(){return a.state.liquidityList.map((function(e){var t=e.token0Logo,n=e.token1Logo,a=e.token0Symbol,s=e.token1Symbol,o=e.token0Address,r=e.token1Address,i=e.address,c=e.value,l=e.trx,p=e.tokens,u=e.token1Precision,d=e.token0Precision,b=r===y.a.wtrxAddress||r===y.a.trxFakeAddress,m=!(p.times(y.a.defaultTokenPrecision).integerValue(U.a.ROUND_DOWN).gt(0)&&l.times(u).integerValue(U.a.ROUND_DOWN).gt(0)&&c.times(d).integerValue(U.a.ROUND_DOWN).gt(0));return{token0:{tokenLogo:t,tokenSymbol:a,amount:c?c._toFixed(4,1):"-"},token1:{tokenLogo:b?Ot.a:n,tokenSymbol:s,amount:l?l._toFixed(4,1):"-"},pool_share:(e.share.gt(0)&&e.share.lt(.01)?"<0.01":isNaN(e.share._toFixed(2,1))?"--":e.share._toFixed(2,1))+"%",pool_tokens:c?Object(U.l)(p,{miniText:1e-4,cutZero:!0,dp:4}):"-",originItem:e,disableRemove:m,toScan:Object(_t.b)({pathname:"#/scan/pairDetail",search:{version:"v2",pairAddress:i,token0Address:o,token1Address:r}})}}))},a.timer=0,a.unmount=!1,a.pageSize=qt?3:10,a.isConnected=e.network.isConnected,a.state={currentPage:1,liquidityList:[],version:"v2.0",loading:!1},a}return Object(k.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this;e.sunSwapPool.version!==t.version&&this.setState({currentPage:1,liquidityList:[],version:e.sunSwapPool.version},(function(){n.getLiquidityUserData()}))}},{key:"getLiqData",value:function(){var e=this;this.setState({currentPage:1,liquidityList:[]},(function(){e.getLiquidityUserData()}))}},{key:"getLiquidityUserData",value:function(){var e=Object(m.a)(Object(b.a)().mark((function e(){var t,n,a,s,o,r,i,c,l,p,u,d,m,j,k;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.network.defaultAccount){e.next=3;break}return e.abrupt("return");case 3:return this.setState({loading:!0}),n=this.props.sunSwapPool.originLiquidityListNew,a=void 0===n?[]:n,e.next=7,wt.getLiquidityUserListV2(t);case 7:s=e.sent,o=s.filter((function(e){return new U.a(e.jswapBalance).gt(0)})),o.map((function(e){var t=a.filter((function(t){return t.tokenAddress===e.tokenAddress}));if(t.length>0){var n=t[0],s=n.value,o=n.tokens,r=n.trx,i=n.share;Object.assign(e,{value:s,tokens:o,trx:r,share:i,version:"v2.0"})}else Object.assign(e,{value:new U.a(0),tokens:new U.a(0),trx:new U.a(0),share:new U.a(0),version:"v2.0"})})),r=[],i=Object(et.a)(o);try{for(i.s();!(c=i.n()).done;)l=c.value,r.push(l.address)}catch(b){i.e(b)}finally{i.f()}return p=this.props.network.defaultAccount,e.next=16,Object(ae.p)(p,r);case 16:for(u=e.sent,d=0;d<(null===(m=u._trx)||void 0===m?void 0:m.length);d++)j=new U.a(10).pow(o[d].token0Decimal),k=new U.a(10).pow(o[d].token1Decimal),o[d].trx=new U.a(u._trx[d]._hex).div(k),o[d].value=new U.a(u._token[d]._hex).div(j),o[d].tokens=new U.a(u._uniToken[d]._hex).div(y.a.defaultTokenPrecision),o[d].share=new U.a(u._uniToken[d]._hex).times(100).div(new U.a(u._totalsupply[d]._hex)),o[d].token0Precision=j,o[d].token1Precision=k;if(this.props.sunSwapPool.setData({originLiquidityListNew:o}),1!==this.state.currentPage){e.next=23;break}return e.next=23,this.getContractData();case 23:this.setState({loading:!1});case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.liquidityList,a=t.loading,s=t.currentPage,o=this.props.network.isConnected,r=this.props.sunSwapPool.originLiquidityListNew,i=void 0===r?[]:r,c=this.formatLiquidityList(),l=i.length||0,p=l>s*this.pageSize;return o!==this.isConnected&&o&&(this.isConnected=o,this.getLiquidityUserData()),Object(Q.jsxs)("section",{className:Tt.pool_list,children:[Object(Q.jsx)(yt.a,{tip:x.a.get("sunSwap.pool.base_list_title_tip"),title:"".concat(x.a.get("sunSwap.pool.base_list_title")).concat(a||!n.length?"":" ("+l+") ")}),o?a||0!==n.length?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)("div",{className:"hide-for-mobile",id:"scrollableDiv",style:{maxHeight:430,overflow:"auto"},children:Object(Q.jsx)(Vt.a,{scrollableTarget:"scrollableDiv",next:function(){if(!a)return e.onChange(e.state.currentPage+1)},hasMore:!!a||p,loader:Object(Q.jsx)(Ct.a,{}),endMessage:a?null:Object(Q.jsx)("div",{className:"sun-swap-empty-text",children:x.a.get("sunSwapV3.pool.base_allLiquidity_tip")}),dataLength:c.length,children:c.map((function(t){return Object(Q.jsx)(Dt.a,Object(d.a)(Object(d.a)({},t),{},{onAdd:e.addLiq,onRemove:e.removeLiq}))}))})}),Object(Q.jsx)("div",{className:"hide-for-pc",children:Object(Q.jsx)(At.a,{dataSource:n,columns:this.getColumn(),loading:{spinning:a},pagination:{current:this.state.currentPage,pageSize:this.pageSize,onChange:this.onChange,total:i.length},locale:{emptyText:a?Object(Q.jsx)("span",{}):Object(Q.jsx)("span",{style:{color:"#fff"},children:x.a.get("sunSwap.pool.base_noLiquidity_tip")})},scroll:{x:700}})})]}):Object(Q.jsx)(xt.a,{}):Object(Q.jsx)(vt.a,{})]})}}]),n}(O.a.Component))||p)||p)||p)||p,It=Lt,Ft=n(1),Bt=n(1219),Et=n(1116),Mt=(n(1114),n(994),H.a.tokenBrief),Rt=[{textKey:"swap",key:Pt.a.SWAP_TYPE},{textKey:"pools",key:Pt.a.ADD_TYPE,tips:x.a.get("sunSwap.pool.add_addLiq_title_tip")}],Ut=Object(g.b)("sunSwapNetwork")(u=Object(g.b)("sunSwapPool")(u=Object(g.c)(u=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(j.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(m.a)(Object(b.a)().mark((function e(){var t,n,s,o,r,i,c,l,p,u;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.scrollTo(0,0),Object(Ft.Z)(),a.setVersion(),a.props.sunSwapNetwork.setData({defaultSelectedKeys:"1"}),a.props.sunSwapNetwork.getSettingsDataForV2(),e.prev=5,a.props.sunSwapPool.getTokensDataFromLocal(),t=Object(Ft.G)("type"),n=Object(Ft.G)("addLiqFromPools"),a.state.type=t,a.props.sunSwapPool.setTokenList("add"===t?3:1),s=Object(Ft.G)("t0"),o=Object(Ft.G)("t1"),r=Object(Ft.G)("from"),i=a.props.sunSwapPool,c=i.liqToken,l=i.swapToken,"add"!==t){e.next=24;break}(p=c.tokenMap)[s]?(c.fromToken=p[s],o||(c.toToken={tokenAddress:"",tokenSymbol:"",approvedAmount:new Ft.a(0)})):a.showSolorModal(s,0),o&&(p[o]?c.toToken=p[o]:a.showSolorModal(o,1)),Object(U.p)(c),a.props.sunSwapPool.setData({actionLiqV2:Pt.a.ADD_TYPE,liqToken:c,addLiqFromPools:n}),a.setState({activeKey:Pt.a.ADD_TYPE}),e.next=41;break;case 24:if("swap"!==t){e.next=40;break}if(u=l.tokenMap,s?u[s]?l.fromToken=u[s]:a.showSolorModal(s,0):l.fromToken={tokenAddress:"",tokenSymbol:"",approvedAmount:new Ft.a(0)},o?u[o]?l.toToken=u[o]:a.showSolorModal(o,1):l.toToken={tokenAddress:"",tokenSymbol:"",approvedAmount:new Ft.a(0)},"scan"!==r||!u[s]&&!u[o]){e.next=32;break}if(!Object.keys(y.a.deflationToken).includes(l.fromToken.tokenAddress)&&!Object.keys(y.a.deflationToken).includes(l.toToken.tokenAddress)){e.next=32;break}return a.setState({dealWarningVisible:!0,callbacks:a.setTokenAddressCallback,dealWarningSymbol:Object.keys(y.a.deflationToken).includes(l.fromToken.tokenAddress)?l.fromToken.tokenAddress:l.toToken.tokenAddress}),e.abrupt("return");case 32:if(!l.fromToken.tokenAddress||!l.toToken.tokenAddress){e.next=35;break}return e.next=35,a.props.sunSwapPool.useAllCurrencyCombinations();case 35:Object(U.p)(l),a.props.sunSwapPool.setData({actionLiqV2:9,swapToken:l}),a.setState({activeKey:Pt.a.SWAP_TYPE}),e.next=41;break;case 40:"pool"===t?(a.props.sunSwapPool.setData({actionLiqV2:0}),a.setState({activeKey:Pt.a.SWAP_TYPE})):a.props.sunSwapPool.setData({actionLiqV2:9});case 41:return e.next=43,a.props.sunSwapPool.getTokensCategory();case 43:e.next=48;break;case 45:e.prev=45,e.t0=e.catch(5),console.log(e.t0);case 48:a.setState({visible:!window.localStorage.getItem("noRemind"),version:window.localStorage.getItem("swapVersion")});case 49:case"end":return e.stop()}}),e,null,[[5,45]])}))),a.setVersion=function(){window.localStorage.setItem("swapVersion",Bt.b),a.props.sunSwapPool.setData({version:Bt.b})},a.setTokenAddressCallback=Object(m.a)(Object(b.a)().mark((function e(){var t;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=a.props.sunSwapPool.swapToken).fromToken.tokenAddress||!t.toToken.tokenAddress){e.next=4;break}return e.next=4,a.props.sunSwapPool.useAllCurrencyCombinations();case 4:Object(U.p)(t),a.props.sunSwapPool.setData({actionLiqV2:Pt.a.SWAP_TYPE,swapToken:t}),a.setState({activeKey:Pt.a.SWAP_TYPE,dealWarningVisible:!1});case 7:case"end":return e.stop()}}),e)}))),a.showSolorModal=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t,n){var s,o,r,i,c;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt(t);case 2:if(!(s=e.sent).success){e.next=14;break}if(!(o=s.data).tokenAddr){e.next=14;break}return r=window.localStorage.getItem("swapVersion"),i={tokenAddress:t,address:o.exchangeAddr,addressV1:"v1.0"===r?o.exchangeAddr:null,addressV2:"v1.5"===r?o.exchangeAddr:null,tokenSymbol:o.tokenSymbol,tokenLogoUrl:o.tokenLogo,tokenName:o.tokenName,tokenDecimal:o.tokenDecimal,cst:1,balance:"-"},e.next=10,a.calcItem(i);case 10:c=e.sent,0===n&&a.props.sunSwapPool.setData({tokenBrief:c}),1===n&&a.props.sunSwapPool.setData({tokenBriefAnother:c}),a.props.sunSwapPool.setData({solorModalVisible:!0});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.calcItem=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){var n,s,o,r;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props.sunSwapPool.allExchanges,s=void 0===n?{}:n,o=y.a.contract.factory,s[0]&&s[0][t.tokenAddress]&&s[0][t.tokenAddress].e||null){e.next=8;break}return e.next=6,Object(ae.l)(t.tokenAddress,o);case 6:(r=e.sent)&&(t.addressV1=r);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.changeTab=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t){return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a.setState({activeKey:t}),t===Pt.a.SWAP_TYPE?a.props.sunSwapPool.setData({actionLiqV2:Pt.a.SWAP_TYPE}):a.props.sunSwapPool.setData({actionLiqV2:Pt.a.ADD_TYPE})}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.closeModal=function(){a.setState({visible:!1})},a.mountedActions=function(){a.props.sunSwapPool.getBalanceAndApprove()},a.addSolorTokens=function(){var e=Object(m.a)(Object(b.a)().mark((function e(t,n,s){var o,r,i,c,l;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=a.props.sunSwapPool,r=o.solor,i=void 0===r?[]:r,c=o.swapToken,l=o.liqToken,n?"from"===s?c.fromToken=Object(d.a)({},t):c.toToken=Object(d.a)({},t):"from"===s?l.fromToken=Object(d.a)({},t):l.toToken=Object(d.a)({},t),!(V.a.findIndex(i,(function(e){return e.tokenAddress===t.tokenAddress}))>=0)){e.next=6;break}return e.abrupt("return");case 6:return i.unshift(Object(d.a)(Object(d.a)({},t),{},{cst:2})),a.props.sunSwapPool.setData({solor:i,swapToken:c,liqToken:l}),e.next=10,a.props.sunSwapPool.setTokenList(a.props.type);case 10:window.localStorage.setItem("solor",JSON.stringify(i)),n&&a.props.sunSwapPool.getBalanceAndApprove(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n,a){return e.apply(this,arguments)}}(),a.confirmContinue=Object(m.a)(Object(b.a)().mark((function e(){var t,n,s,o,r,i;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=a.state,n=t.checkStatus,s=t.type,o=a.props.sunSwapPool,r=o.tokenBrief,i=o.tokenBriefAnother,n){e.next=5;break}return e.abrupt("return");case 5:if(!Object.keys(y.a.deflationToken).includes(r.tokenAddress)&&!Object.keys(y.a.deflationToken).includes(i.tokenAddress)){e.next=9;break}return a.props.sunSwapPool.setData({solorModalVisible:!1}),a.setState({dealWarningVisible:!0,callbacks:a.dealWarningCallback,dealWarningSymbol:r.tokenAddress||i.tokenAddress}),e.abrupt("return");case 9:if(!(Object.keys(r).length>0)){e.next=12;break}return e.next=12,a.addSolorTokens(r,"swap"===s,"from");case 12:if(!(Object.keys(i).length>0)){e.next=15;break}return e.next=15,a.addSolorTokens(i,"swap"===s,"to");case 15:a.props.sunSwapPool.setData({solorModalVisible:!1}),"swap"===s&&a.props.sunSwapPool.useAllCurrencyCombinations(),Object.keys(r).length>0&&"swap"!==s&&a.addRef.current.onChangeToken&&a.addRef.current.onChangeToken(r,3,!0),Object.keys(i).length>0&&"swap"!==s&&a.addRef.current.onChangeToken&&a.addRef.current.onChangeToken(i,4,!0),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0),a.props.sunSwapPool.setData({solorModalVisible:!1});case 25:case"end":return e.stop()}}),e,null,[[0,21]])}))),a.dealWarningCallback=Object(m.a)(Object(b.a)().mark((function e(){var t,n,s,o,r;return Object(b.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a.setState({dealWarningVisible:!1}),t=a.state,t.checkStatus,n=t.type,s=a.props.sunSwapPool,o=s.tokenBrief,r=s.tokenBriefAnother,!(Object.keys(o).length>0)){e.next=7;break}return e.next=7,a.addSolorTokens(o,"swap"===n,"from");case 7:if(!(Object.keys(r).length>0)){e.next=10;break}return e.next=10,a.addSolorTokens(r,"swap"===n,"to");case 10:a.props.sunSwapPool.setData({solorModalVisible:!1}),"swap"===n&&a.props.sunSwapPool.useAllCurrencyCombinations(),Object.keys(o).length>0&&"swap"!==n&&a.addRef.current.onChangeToken&&a.addRef.current.onChangeToken(o,3,!0),Object.keys(r).length>0&&"swap"!==n&&a.addRef.current.onChangeToken&&a.addRef.current.onChangeToken(r,4,!0),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),a.props.sunSwapPool.setData({solorModalVisible:!1});case 20:case"end":return e.stop()}}),e,null,[[0,16]])}))),a.changeCheckStatus=function(e){a.setState({checkStatus:e.target.checked})},a.renderBrief=function(e){return Object(Q.jsxs)("div",{className:"token-info flex",children:[Object(Q.jsx)("div",{className:"logo",children:Object(Q.jsx)("img",{src:e.tokenLogoUrl?e.tokenLogoUrl:oe.a})}),Object(Q.jsxs)("div",{className:"info",children:[Object(Q.jsxs)("div",{className:"symbol",children:[e.tokenName,"(",e.tokenSymbol,")"]}),Object(Q.jsxs)("div",{className:"addr",children:[Object(Q.jsx)("span",{children:e.tokenAddress}),Object(Q.jsx)("span",{className:"pointer",title:e.tokenAddress,id:"copySpan",onClick:function(e){Object(U.i)(e,"5px","copySpan")},children:Object(Q.jsx)(A.a,{})})]})]})]})},a.onVersionChange=function(e){var t=e.route,n=a.props.sunSwapPool,s=n.actionLiqV2,o=n.swapToken,r=void 0===o?{}:o,i=n.liqToken,c=void 0===i?{}:i;if(!t||!t.includes("sun_swap/v2")){var l=V.a.get(r,"fromToken.tokenAddress"),p=V.a.get(r,"toToken.tokenAddress"),u=V.a.get(c,"fromToken.tokenAddress"),d=V.a.get(c,"toToken.tokenAddress"),b=9===s?l:u,m=9===s?p:d,j={};!m||1===s&&m===y.a.trxFakeAddress||(j.t1=m),!b||1===s&&b===y.a.trxFakeAddress||(j.t0=b),9===s?j.type="swap":0===s&&(j.type="pool"),1===s&&(j.type="add"),a.props.history.push(Object(_t.b)({pathname:t,search:j}))}},a.onSettingChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";a.props.sunSwapNetwork.setData({settingVisibleV2:!1}),a.props.sunSwapNetwork.saveSettingsForV2(e,t),a.swapRef.current&&a.swapRef.current.calcPrice()},a.onBack=function(){a.props.sunSwapPool.setData({actionLiqV2:Pt.a.ADD_TYPE,addLiqFromPools:!1})},a.handleSuccess=function(e){var t=a.props.sunSwapPool;switch(e){case Pt.a.ADD_TYPE:t.addLiqFromPools?(t.setData({addLiqFromPools:!1,tokenTwoFixed:!1}),a.updatePoolList()):a.updatePoolList();break;case Pt.a.REMOVE_TYPE:t.setData({addLiqFromPools:!1,actionLiqV2:Pt.a.ADD_TYPE});break;default:t.setData({actionLiqV2:Pt.a.ADD_TYPE,addLiqFromPools:!1})}},a.updatePoolList=function(){a.poolRef&&a.poolRef.current&&a.poolRef.current.getLiqData()},a.settingsRef=O.a.createRef(),a.swapRef=O.a.createRef(),a.addRef=O.a.createRef(),a.poolRef=O.a.createRef(),a.state={lang:window.localStorage.getItem("lang")||x.a.options.currentLocale,activeKey:Pt.a.ADD_TYPE,visible:!1,checkStatus:!1,type:"add",version:Bt.b,dealWarningVisible:!1,selectSearchItem:""},a}return Object(k.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.checkStatus,a=t.dealWarningVisible,s=t.callbacks,o=t.dealWarningSymbol,r=this.props.sunSwapPool,i=r.tokenBrief,c=r.tokenBriefAnother,l=r.solorModalVisible,p=r.actionLiqV2,u=r.addLiqFromPools,d=p===Pt.a.ADD_TYPE&&u,b=p===Pt.a.REMOVE_TYPE,m=d||b;return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)("div",{children:[Object(Q.jsxs)(Et.a,{version:"V2",onVersionChange:this.onVersionChange,routeName:"sun_swap/v2",pageList:Rt,activePage:p,onPageChange:function(t,n){var a=n.key;return e.changeTab(a)},isDetailPage:m,detailPage:{title:x.a.get(d?"sunSwapV3.pool.add_addLiq_title":"sunSwapV3.pool.remove_liq_title"),tip:x.a.get(d?"sunSwapV3.pool.add_addLiq_title_tip":"sunSwapV3.pool.remove_liq_title_tip"),onBack:this.onBack,showSetting:d,onSettingChange:this.onSettingChange,network:this.props.sunSwapNetwork,version:"V2"},network:this.props.sunSwapNetwork,onSettingChange:this.onSettingChange,children:[p===Pt.a.ADD_TYPE&&!d&&Object(Q.jsx)(he,{ref:this.addRef,onSuccess:function(){return e.handleSuccess(Pt.a.ADD_TYPE)}}),d&&Object(Q.jsx)(he,{ref:this.addRef,onSuccess:function(){return e.handleSuccess(Pt.a.ADD_TYPE)}}),p===Pt.a.SWAP_TYPE&&!m&&Object(Q.jsx)($e,{ref:this.swapRef}),b&&Object(Q.jsx)(_e,{onSuccess:function(){return e.handleSuccess(Pt.a.REMOVE_TYPE)}})]}),!m&&Object(Q.jsx)(It,{ref:this.poolRef}),Object(Q.jsx)(S.a,{title:x.a.get("sunSwap.list.add_token"),closable:!1,open:l,footer:null,width:500,className:"list-addtoken-modal sun-swap-modal",centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:Object(Q.jsxs)("div",{className:"solor-modal-body",children:[Object(Q.jsxs)("div",{className:"tips",children:[Object(Q.jsx)("div",{className:"tips1",children:x.a.get("sunSwap.list.add_token_tip1")}),Object(Q.jsx)("div",{className:"tips1",children:x.a.get("sunSwap.list.add_token_tip2")}),Object(Q.jsx)("div",{className:"tips1",children:x.a.get("sunSwap.list.add_token_tip3")})]}),Object.keys(i).length>0&&this.renderBrief(i),Object.keys(c).length>0&&this.renderBrief(c),Object(Q.jsx)("div",{className:"check-box"+(n?" checked":""),children:Object(Q.jsx)(_.a,{onChange:this.changeCheckStatus,children:x.a.get("sunSwap.list.add_token_tip4")})}),Object(Q.jsx)("div",{className:"btns",children:Object(Q.jsx)("button",{onClick:this.confirmContinue,className:n?"button-active":"",children:x.a.get("sunSwap.list.continue")})})]})}),Object(Q.jsx)(W.a,{visible:a,cb:s,dealWarningSymbol:o})]})})}}]),n}(O.a.Component))||u)||u)||u;t.default=Object(T.j)(Ut)},900:function(e,t,n){"use strict";n(913);var a=n(26),s=n.n(a),o=n(10);t.a=function(e){return Object(o.jsx)("div",{className:"tempalte-pageTab-nav",children:e.list.map((function(t){return Object(o.jsx)("div",{className:s()("tempalte-pageTab-nav-item",{"tempalte-pageTab-nav-active":e.activeKey===t.value}),onClick:function(){return t.handler(t)},children:t.label},t.value)}))})}},901:function(e,t,n){"use strict";var a=n(8),s=n(9),o=n(18),r=n(19),i=n(3),c=n.n(i),l=(n(993),n(10)),p=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(e){var s;Object(a.a)(this,n),(s=t.call(this,e)).onClick=function(){s.props.disabled||s.props.state||s.props.onClick&&s.props.onClick()},s.onLeftClick=function(){s.props.lDisabled||s.props.lState||s.props.onLeftClick&&s.props.onLeftClick()},s.onMiddleClick=function(){s.props.mDisabled||s.props.mState||s.props.onMiddleClick&&s.props.onMiddleClick()},s.onRightClick=function(){s.props.rDisabled||s.props.rState||s.props.onRightClick&&s.props.onRightClick()};e.styleName;return s.state={},s}return Object(s.a)(n,[{key:"render",value:function(){var e=null;switch(this.props.type){case"trisection":e=Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"trisection "+(this.props.lDisabled?"gray":this.props.lState?this.props.lState:"blue"),onClick:this.onLeftClick,children:this.props.lInfo}),Object(l.jsx)("button",{className:"trisection "+(this.props.mDisabled?"gray":this.props.mState?this.props.mState:"blue"),onClick:this.onMiddleClick,children:this.props.mInfo}),Object(l.jsx)("button",{className:"trisection "+(this.props.rDisabled?"gray":this.props.rState?this.props.rState:"blue"),onClick:this.onRightClick,children:this.props.rInfo})]});break;case"half":e=Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"half "+(this.props.lDisabled?"gray":this.props.lState?this.props.lState:"blue"),onClick:this.onLeftClick,children:this.props.lInfo}),Object(l.jsx)("button",{className:"half "+(this.props.rDisabled?"gray":this.props.rState?this.props.rState:"blue"),onClick:this.onRightClick,children:this.props.rInfo})]});break;default:e=Object(l.jsx)("button",{className:"single "+(this.props.disabled?"single-disabled":this.props.state?this.props.state:this.props.btnColor?this.props.btnColor:"blue"),onClick:this.onClick,children:this.props.info})}return Object(l.jsx)("div",{className:"sun-action-btns "+this.props.styleName||!1,children:e})}}]),n}(c.a.Component);t.a=p},904:function(e,t,n){"use strict";var a=n(3),s=n(949),o=n(20),r=n.n(o),i=n(84),c=n(115),l=n(960),p=n(1021),u=n(10),d=function(){var e=Object(i.d)((function(){return c.a.network}));return Object(u.jsx)(s.a,{img:l.a,emptyText:r.a.get("buysell.error_msg_3"),btnText:r.a.get("header.connect_wallet"),onClick:function(){return e.setData({loginModalVisible:!0,loginModalStep:1})},className:p.wallet_not_connect})};t.a=Object(a.memo)(d)},910:function(e,t,n){"use strict";var a=n(5),s=n(3),o=n(26),r=n.n(o),i=n(914),c=n(10),l=function(e){var t,n=e.title,s=e.subTitle,o=e.isRevert,l="string"===typeof n;return Object(c.jsxs)("div",{className:i.page_title_wrap,children:[o&&s&&Object(c.jsx)("div",{className:i.page_title_sub,children:s}),n&&Object(c.jsx)("div",{className:r()((t={},Object(a.a)(t,i.page_title,!0),Object(a.a)(t,i.page_title_revert,o),Object(a.a)(t,i.page_title_ele,!l),t)),children:l?n.split("").map((function(e,t){return Object(c.jsx)("span",{className:i.page_title_ele,children:e},t)})):n}),s&&!o&&Object(c.jsx)("div",{className:i.page_title_sub,children:s})]})};t.a=Object(s.memo)(l)},913:function(e,t,n){},914:function(e,t,n){e.exports={page_title:"style_page_title__dfZPh",page_title_wrap:"style_page_title_wrap__7dtV_",page_title_ele:"style_page_title_ele__Tktf1",page_title_sub:"style_page_title_sub__1IUsF",page_title_revert:"style_page_title_revert__18HMS"}},916:function(e,t,n){e.exports={setting_wrap:"style_setting_wrap__L7ld9",setting_label:"style_setting_label__3qQrG",setting_btns:"style_setting_btns__zH_61",setting_btn_wrap:"style_setting_btn_wrap__uxT1B",setting_input:"style_setting_input__kvJzs",active:"style_active__10VTC",module_important:"style_module_important__PuwNO",info_text:"style_info_text__3K73H",setting_minutes:"style_setting_minutes__1mIXw"}},939:function(e,t,n){"use strict";var a=n(4),s=n(45),o=n(53),r=n(1791),i=n(3),c=n(106),l=n(957),p=n(958),u=(n(962),n(10)),d=["className","pagination","tableTheme"],b=Object(c.a)(window.navigator).any,m=Object(i.memo)((function(e){var t=e.className,n=void 0===t?"":t,i=e.pagination,c=e.tableTheme,m=void 0===c?{}:c,j=Object(s.a)(e,d);return Object(u.jsx)(o.a,{theme:{components:{Spin:{colorPrimary:"#9482f8",colorBgContainer:"#251F32",controlHeightLG:60},Table:Object(a.a)({colorPrimary:"#9482f8",colorFillAlter:"rgba(37,31,50,.3)",colorFillSecondary:"rgba(37,31,50,.3)",colorFillContent:"rgba(37,31,50,.3)",colorBgContainer:"#362D4A",colorBorderSecondary:"rgba(255, 255, 255, .1)",colorText:"#fff",colorTextHeading:"#fff",colorIcon:"#bfbfbf",colorIconHover:"#bfbfbf",padding:b?10:20,borderRadiusLG:20,borderRadius:20},m),Pagination:{borderRadiusLG:5,borderRadius:5,itemSize:24}}},children:Object(u.jsx)(r.a,Object(a.a)({className:n?n+" pure-comp dark-table-container":"pure-comp dark-table-container",pagination:!!i&&Object(a.a)({position:["bottomCenter"],className:"pure-comp",showSizeChanger:!1,itemRender:function(e,t,n){return"prev"===t?Object(u.jsx)("img",{alt:"pre",src:l.a}):"next"===t?Object(u.jsx)("img",{alt:"next",src:p.a}):n}},i)},j))})}));t.a=m},960:function(e,t,n){"use strict";t.a=n.p+"static/media/big_connect_wallet.8e467f71.svg"},962:function(e,t,n){},970:function(e,t,n){"use strict";var a=n(1347),s=n(1764),o=n(981),r=(n(1019),n(10)),i={V3:"V3",V2:"V2",V1:"",home:"",Migrate:"Migrate"};t.a=function(e){var t=e.onChange,n=e.network,c=void 0===n?{}:n,l=e.version,p=void 0===l?"v1":l,u=e.placement,d=void 0===u?"bottomRight":u,b=c["settingSlippage".concat(i[p])],m=c["settingDeadline".concat(i[p])];return Object(r.jsx)(a.a,{trigger:"click",overlayClassName:"setting_popover",placement:d,content:Object(r.jsx)(o.a,{showType:"popover",slippage:b,deadline:m,onChange:function(e){t(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")}}),title:"",children:Object(r.jsx)(s.a,{className:"new_setting_icon"})})}},976:function(e,t,n){"use strict";var a=n(22),s=n(1821),o=n(17),r=n(1102),i=n(172),c=n(10);t.a=function(e){var t=e.token,n=e.showTokenName,l=void 0!==n&&n,p=e.styleName,u=void 0===p?"":p,d=e.showTrx,b=void 0!==d&&d;return Object(c.jsxs)("span",{className:u,children:[l?Object(c.jsxs)("span",{className:r.token_logo_icon,children:[Object(c.jsx)("img",{alt:"",src:t.tokenLogoUrl||i.a,onError:function(e){e.target.src!==i.a&&(e.target.src=i.a)}}),t.tokenSymbol]}):"",t.tokenAddress&&(t.tokenAddress!==a.a.trxFakeAddress||b)?Object(c.jsx)(c.Fragment,{children:Object(o.G)(Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(s.a,{className:r.token_view_icon})}),t.tokenAddress)}):null]})}},981:function(e,t,n){"use strict";var a=n(14),s=n(3),o=n(20),r=n.n(o),i=n(1758),c=n(26),l=n.n(c),p=n(221),u=n(1),d=n(916),b=n(10);t.a=function(e){var t=e.showType,n=void 0===t?"":t,o=e.slippage,c=e.deadline,m=Object(s.useState)("0.5"),j=Object(a.a)(m,2),k=j[0],f=j[1],h=Object(s.useState)("1"),w=Object(a.a)(h,2),O=w[0],v=w[1],x=Object(s.useState)("0.5"),g=Object(a.a)(x,2),S=g[0],_=g[1],A=Object(s.useState)("1"),T=Object(a.a)(A,2),y=T[0],N=T[1],P=Object(s.useState)(""),D=Object(a.a)(P,2),V=D[0],C=D[1];Object(s.useEffect)((function(){q(o,c)}),[]),Object(s.useEffect)((function(){(S||y)&&L()}),[L,S,y]);var q=function(e,t){f(e),v(t),_(e),N(t),F()},L=function(){f(k),v(O),F(),e.onChange&&e.onChange(S,y)},I=function(e){var t=e.target.value,n=Object(u.V)(t,2),a=n.valid,s=n.str;a&&_(s)},F=function(){S&&(Number(S)<.5?C(r.a.get("settings.slippage_info_1")):Number(S)>5&&Number(S)<50?C(r.a.get("settings.slippage_info_2")):Number(S)>=50?C(r.a.get("settings.slippage_info_3")):C(""))};return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:l()({"flex start wrap":""===n}),children:[Object(b.jsx)(p.a,{toolClass:d.setting_wrap,tip:e.slippate_tip||r.a.get("settings.slippage_tip"),children:Object(b.jsx)("span",{className:d.setting_label,children:r.a.get("settings.slippage")})}),Object(b.jsxs)("div",{className:l()(d.setting_btns),children:[Object(b.jsxs)("div",{className:d.setting_btn_wrap,children:[Object(b.jsx)("button",{className:l()("0.1"===S?d.active:""),onClick:function(){return I({target:{value:"0.1"}})},children:"0.1%"}),Object(b.jsx)("button",{className:l()("0.5"===S?d.active:""),onClick:function(){return I({target:{value:"0.5"}})},children:"0.5%"}),Object(b.jsx)("button",{className:l()("1"===S?d.active:""),onClick:function(){return I({target:{value:"1"}})},children:"1%"})]}),Object(b.jsx)(i.a,{className:l()(d.setting_input,d.module_important,["ml-20"]),suffix:"%",value:S,onChange:I,onBlur:function(){Number(S)>=50?_(S.slice(0,1)):0!==Number(S)||_("0.01")}})]})]}),V?Object(b.jsx)("div",{className:d.info_text,children:V}):null,Object(b.jsxs)("div",{className:l()({"flex start":""===n}),children:[Object(b.jsx)("div",{style:{marginBottom:"popover"===n?"12px":0},children:Object(b.jsx)(p.a,{toolClass:d.setting_wrap,tip:r.a.get("settings.deadline_tip"),children:Object(b.jsx)("span",{className:d.setting_label,children:r.a.get("settings.deadline")})})}),Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)(i.a,{className:l()(d.setting_input,d.module_important),value:y,onChange:function(e){var t=e.target.value,n=Object(u.V)(t,0),a=n.valid,s=n.str;if(t){if(a){var o=s;Number(s)>1e4&&(o=1e4),N(o)}}else N(t)},onBlur:function(){var e=Number(y);0===+y&&(e=1),N(e)}}),Object(b.jsx)("div",{className:l()(d.setting_minutes,["ml-10"]),children:r.a.get("settings.deadline_minutes")})]})]})]})}},982:function(e,t,n){"use strict";var a=n(4),s=n(45),o=n(3),r=n.n(o),i=n(192),c=n(10),l=["url"],p=function(e){var t=e.url,n=Object(s.a)(e,l);return Object(c.jsx)("img",Object(a.a)({src:t||i.a,onError:function(e){e.target.src!==i.a&&(e.target.src=i.a)},alt:"mint-icon"},n))};t.a=r.a.memo(p)},987:function(e,t,n){"use strict";var a=n(5),s=n(3),o=n(26),r=n.n(o),i=n(1033),c=n.n(i),l=n(10),p=function(e){var t,n=e.items,s=e.bordered,o=void 0===s||s,p=e.responsive,u=e.responsiveLayout,d=void 0===u?"v":u,b=e.style,m=void 0===b?{}:b;return Object(l.jsx)("div",{className:r()(i.info_box,(t={},Object(a.a)(t,i.info_box_no_border,!o),Object(a.a)(t,i.info_box_responsive,p),Object(a.a)(t,c.a.info_box_responsive_h,"h"===d),Object(a.a)(t,c.a.info_box_responsive_v,"h"!==d),t)),style:m,children:n.map((function(e,t){return Object(l.jsxs)("div",{className:i.info_box_item,children:[Object(l.jsx)("div",{className:i.info_box_label,children:e.label}),Object(l.jsx)("div",{className:i.info_box_value,children:e.value})]},t)}))})};t.a=Object(s.memo)(p)},988:function(e,t,n){"use strict";t.a=n.p+"static/media/TransactionSuccess.9be097c2.svg"},993:function(e,t,n){},994:function(e,t,n){},995:function(e,t,n){"use strict";var a=n(4),s=n(45),o=n(3),r=n(26),i=n.n(r),c=n(1020),l=n(274),p=n(10),u=["className","fullFilled"],d=function(e){var t=e.className,n=e.fullFilled,o=Object(s.a)(e,u);return n?Object(p.jsx)("img",Object(a.a)({className:i()(c.question_img,t),alt:"",src:l.a},o)):Object(p.jsx)("span",Object(a.a)(Object(a.a)({className:i()(c.question_icon,t)},o),{},{children:"?"}))};t.a=Object(o.memo)(d)}}]);