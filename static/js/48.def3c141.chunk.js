(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[48],{1317:function(e,t,n){"use strict";var a=n(12),r=n(5),c=n(0),s=n(3),u=n(21),i=n(2),o=n(16),l=n.n(o),b=n(716),p=n(1320),j=n(189),d=n(112),O=n(620),f=n(168),v=n(57),x=n(127),h=n(26),m=n(6),g=n(15),k=n(1),w=n(838),y=n(649),N=n(663),_=(n(735),n(654)),C=n(765),S=n.n(C),L=(n(38),n(9)),D=m.a.pools,I=m.a.poolKeys,P=m.a.stableLp,A=m.a.ALL_FEE,F=m.a.stablePool,B=m.a.tokens,K="---",U="CUSTOM",E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={};return I.map((function(n){t[n]=e})),t};t.a=function(e){var t=Object(i.useState)(),n=Object(u.a)(t,2),o=n[0],m=void 0===o?E("--"):o,C=n[1],Y=Object(i.useState)("100.00"),q=Object(u.a)(Y,2),H=q[0],T=q[1],V=Object(i.useState)(.2),z=Object(u.a)(V,2),J=z[0],G=z[1],M=Object(i.useState)(""),Q=Object(u.a)(M,2),R=Q[0],W=Q[1],X=Object(i.useState)(!0),Z=Object(u.a)(X,2),$=Z[0],ee=Z[1],te=Object(i.useState)(!1),ne=Object(u.a)(te,2),ae=ne[0],re=ne[1],ce=Object(i.useState)("--"),se=Object(u.a)(ce,2),ue=se[0],ie=se[1],oe=Object(i.useState)(),le=Object(u.a)(oe,2),be=le[0],pe=void 0===be?E(!1):be,je=le[1],de=Object(i.useState)(!1),Oe=Object(u.a)(de,2),fe=Oe[0],ve=Oe[1],xe=Object(i.useState)(!1),he=Object(u.a)(xe,2),me=he[0],ge=he[1],ke=Object(v.d)((function(){return x.a.system})),we=Object(v.d)((function(){return x.a.pool})),ye=Object(v.d)((function(){return x.a.network})),Ne=null;Object(i.useEffect)(Object(s.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:me&&_e();case 1:case"end":return e.stop()}}),e)}))),[m,H,J,R,pe]),Object(i.useEffect)((function(){qe(m,ae)}),[m]);var _e=function(){return H!==K&&Object(k.Y)(H).gt(100)?(ve(l.a.get("error.e3")),!0):function(){for(var e in m)if(Object(k.Y)(m[e]).gt(0)||"--"===m[e])return!1;return!0}()?(ve(l.a.get("error.e4")),!0):J===U&&(De()||H===K)&&(Object(k.a)(R).lt(.1)||Object(k.a)(R).gt(50)||Object(k.a)(R).isNaN())?(ve(l.a.get("error.e5")),!0):(ve(!1),!1)},Ce=function(){var e=Object(s.a)(Object(c.a)().mark((function e(t,n){var a,r,s,u,i,o,l,b;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.length,r=t.map((function(e){return e.inputValue.isNaN()?0:e.inputValue._toIntegerDown()._toHex()}))||[],e.next=5,Object(g.d)(r,!1);case 5:if((s=e.sent).success){e.next=8;break}return e.abrupt("return");case 8:if(u=s.value,i=u.times(Object(k.a)(1).plus(Object(k.a)(A).times(a).div(4*(a-1)))),o=Object(k.a)(100).plus(n).div(100),i=i.times(o)._toIntegerDown(),!$||!Object(k.a)(we.userLpAllowance).lt(i)){e.next=21;break}return e.next=15,ke.approveToken(P,F,{title:"deposit.approve_token",obj:{value:B.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]);case 15:if(!e.sent){e.next=20;break}ee(!1),e.next=21;break;case 20:return e.abrupt("return");case 21:return l=i._toHex(),b={title:"actions.remove",obj:{detail:Object(k.z)(m)}},e.next=25,ke.removeLiqImBalance(r,l,b,[["pool/updateCurrencyData"]]);case 25:e.sent,e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.log(e.t0);case 31:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(t,n){return e.apply(this,arguments)}}(),Se=function(){var e=Object(s.a)(Object(c.a)().mark((function e(t,n){var a,r,s,u,i,o,l;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pe(n,t,Object(k.Y)(H));case 3:if(a=e.sent){e.next=6;break}return e.abrupt("return");case 6:if(r=a.userLpBalance,a.lpTotalSupply,a.balances,s=a.userLpAllowance,u=a.minAmounts,i=Object(k.Y)(H).div(100).times(r)._toIntegerDown(),!$||!Object(k.a)(s).lt(i._toIntegerDown())){e.next=17;break}return e.next=11,ke.approveToken(P,F,{title:"deposit.approve_token",obj:{value:B.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]);case 11:if(!e.sent){e.next=16;break}ee(!1),e.next=17;break;case 16:return e.abrupt("return");case 17:return o={title:"actions.remove",obj:{detail:Object(k.z)(m)}},l=i._toHex(),e.next=21,ke.removeLiquidity(l,u,o,[["pool/updateCurrencyData"]]);case 21:e.sent,e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t,n){return e.apply(this,arguments)}}(),Le=function(){var e=Object(s.a)(Object(c.a)().mark((function e(t,n,a){var r,s,u,i,o,l,b,p,j,d,O,f,v,x;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g.lb)(n,t);case 3:if((r=e.sent).success){e.next=6;break}return e.abrupt("return");case 6:if(s=r.userLpBalance,u=r.userLpAllowance,i=Object(k.Y)(H).div(100).times(s)._toIntegerDown(),!$||!Object(k.a)(u).lt(i._toIntegerDown())){e.next=17;break}return e.next=11,ke.approveToken(P,F,{title:"deposit.approve_token",obj:{value:B.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]);case 11:if(!e.sent){e.next=16;break}ee(!1),e.next=17;break;case 16:return e.abrupt("return");case 17:for(b in o=i._toHex(),l=!1,pe)!0===pe[b]&&(l=D[b].index);return e.next=22,Object(g.n)(o,l);case 22:if((p=e.sent).success){e.next=25;break}return e.abrupt("return");case 25:return j=p.value,d=t.length,O=j.times(Object(k.a)(1).minus(Object(k.a)(A).times(d).div(4*(d-1)).div(1e10))),f=Object(k.a)(100).div(Object(k.a)(100).plus(a)),v=O.times(f)._toIntegerDown()._toHex(),x={title:"actions.remove",obj:{detail:Object(k.z)(m)}},e.next=33,ke.removeLiqOneCoin(o,l,v,x,[["pool/updateCurrencyData"]]);case 33:e.sent,e.next=39;break;case 36:e.prev=36,e.t0=e.catch(0),console.log(e.t0);case 39:case"end":return e.stop()}}),e,null,[[0,36]])})));return function(t,n,a){return e.apply(this,arguments)}}(),De=function(){for(var e in pe)if(pe[e])return e;return!1},Ie=function(){var t=Object(s.a)(Object(c.a)().mark((function t(n){var a,s,u,i;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,ye.defaultAccount){t.next=3;break}return t.abrupt("return");case 3:if(!me&&ge(!0),fe){t.next=8;break}if(!_e(n)){t.next=8;break}return t.abrupt("return");case 8:if(!fe){t.next=10;break}return t.abrupt("return");case 10:if(a=ye.defaultAccount,s=[],I.map((function(e){s.push(Object(r.a)(Object(r.a)({},D[e]),{},{inputValue:Object(k.Y)(n[e]).times(D[e].precision)}))})),u=s.sort((function(e,t){return e.index-t.index})),i=J===U?R:J,e.onSubmit&&e.onSubmit(),!ae){t.next=20;break}return t.next=19,Le(u,a,i);case 19:return t.abrupt("return",t.sent);case 20:if(H===K){t.next=24;break}return t.next=23,Se(u,a);case 23:return t.abrupt("return",t.sent);case 24:return t.next=26,Ce(u,i);case 26:return t.abrupt("return",t.sent);case 29:t.prev=29,t.t0=t.catch(0),console.log(t.t0);case 32:case"end":return t.stop()}}),t,null,[[0,29]])})));return function(e){return t.apply(this,arguments)}}(),Pe=function(){var e=Object(s.a)(Object(c.a)().mark((function e(t,n,a){var r,s,u,i,o,l,b,p,j=arguments;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=j.length>3&&void 0!==j[3]&&j[3],e.prev=1,e.next=4,Object(g.lb)(t,n);case 4:if((s=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:return u=s.userLpBalance,i=s.lpTotalSupply,o=s.balances,l=s.userLpAllowance,b=[],p={},n.map((function(e){var t=e.index,n=e.id,c=e.decimal,s=e.precision,l=Object(k.Y)(a).div(100).times(o[t]);r||(l=Object(k.a)(.98).times(l)),b[t]=l.times(u).div(i)._toIntegerDown()._toHex(),p[n]=Object(k.c)(l.times(u).div(i).div(s)._toFixed(c,1))})),e.abrupt("return",{userLpBalance:u,lpTotalSupply:i,balances:o,userLpAllowance:l,minAmounts:b,amountsStr:p});case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(s.a)(Object(c.a)().mark((function e(t,n){var a,r,s,u,i,o,l,b,p,j;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.getUserLp();case 3:return a=we.userLpBalance,r=D[t],s=r.precision,u=r.decimal,i=Object(k.Y)(n).div(100).times(a)._toIntegerDown(),o=D[t].index,l=i._toHex(),e.next=10,Object(g.n)(l,o);case 10:if((b=e.sent).success){e.next=13;break}return e.abrupt("return",!1);case 13:return p=b.value,j=Object(k.a)(p).div(s)._toFixed(u,1),e.abrupt("return",j);case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n){return e.apply(this,arguments)}}(),Fe=function(){we.getSwapBalance(),we.getVirtualPrice(),we.getVolData()},Be=function(){var e=Object(s.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([we.getUserLp(),we.getBalanceInfo()]);case 2:t={},I.map((function(e){var n=we.poolData[e],a=n.userSwapBalance,r=n.decimal;t[e]=Object(k.c)(Object(k.a)(a)._toFixed(r,1))})),C(t),Ne||(Ne=setInterval(Object(s.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fe(),e.next=3,we.getUserLp();case 3:case"end":return e.stop()}}),e)}))),ye.defaultIntervalSec));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){return Be(),Fe(),function(){clearInterval(Ne)}}),[]);var Ke=function(){var e=Object(s.a)(Object(c.a)().mark((function e(t,n){var s,u,i,o,l,b;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!me&&ge(!0),s=Object(k.Y)(H),u=t.target.checked,i={},o={},!u){e.next=17;break}for(l in re(!0),pe)l!==n&&(i[l]=!1,o[l]=0);return je(Object(r.a)(Object(r.a)(Object(r.a)({},pe),i),{},Object(a.a)({},n,u))),(H===K||Object(k.Y)(H).lte(0))&&T(s="100.00"),Object(k.a)(s).gt(100)&&(s=100),e.next=13,Ae(n,s);case 13:(b=e.sent)&&C(Object(r.a)(Object(r.a)(Object(r.a)({},m),o),{},Object(a.a)({},n,Object(k.c)(b)))),e.next=20;break;case 17:T(K),re(!1),je(Object(r.a)(Object(r.a)({},pe),{},Object(a.a)({},n,u)));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(s.a)(Object(c.a)().mark((function e(t,n){var s,u,i,o,l,b;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(b in!me&&ge(!0),s=D[n].decimal,u=Object(k.P)((""+t.target.value).replace(/,/g,""),s),i=u.valid,o=u.str,i&&C(Object(r.a)(Object(r.a)({},m),{},Object(a.a)({},n,Object(k.c)(o)))),T(K),re(!1),l={},pe)l[b]=!1;je(l);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ee=function(){var e={},t={};I.map((function(n){e[n]=0,t[0]=!1})),C(e),je(pe),T(0)},Ye=function(){var e={};I.map((function(t){e[t]=0})),C(e)},qe=function(){var e=Object(s.a)(Object(c.a)().mark((function e(t,n){var a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we.calcInclPrice(t,!1,n);case 2:a=e.sent,ie(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),He=function(){var e=Object(s.a)(Object(c.a)().mark((function e(t){var n,s,u,i,o,l,b,p,j,d,O,f,v,x,h;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!me&&ge(!0),s=t.target.value,u=s.split("."),(null===(n=u[1])||void 0===n?void 0:n.length)>2&&(s="".concat(u[0]+"."+u[1].substr(0,2))),!Object(k.a)(s).gt(100)){e.next=6;break}return e.abrupt("return");case 6:if(i=Object(k.P)(s,10),o=i.valid,l=i.str,H!==K){e.next=9;break}return e.abrupt("return",Ee());case 9:if(""!==s){e.next=12;break}return T(""),e.abrupt("return",Ye());case 12:if(!o){e.next=34;break}if(T(Object(k.c)(l)),!(b=Object(k.a)(l).gt(100)?Object(k.a)(100):Object(k.a)(l)).isNaN()){e.next=17;break}return e.abrupt("return");case 17:if(ye.defaultAccount){e.next=19;break}return e.abrupt("return");case 19:if(p=ye.defaultAccount,!(j=De())){e.next=26;break}return e.next=24,Ae(j,b);case 24:return d=e.sent,e.abrupt("return",d&&C(Object(r.a)(Object(r.a)({},m),{},Object(a.a)({},j,Object(k.c)(d)))));case 26:if(l===K){e.next=34;break}return O=[],I.map((function(e){O.push(Object(r.a)({},D[e]))})),f=O.sort((function(e,t){return e.index-t.index})),e.next=32,Pe(p,f,l,!0);case 32:v=e.sent,s===t.target.value&&(x=v.amountsStr,h=void 0===x?{}:x,v&&C(h));case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(e){return De()||H===K?Object(L.jsxs)("div",{className:"flex start mobile-block mt-13",children:[Object(L.jsx)("div",{className:"pc-adjust",children:l.a.get("withdraw.slippage")}),Object(L.jsx)("div",{className:"flex max-slippage",children:Object(L.jsxs)(b.a.Group,{className:"ad-radios",onChange:function(e){return function(e){!me&&ge(!0);var t=e.target.value;G(t),t!==K&&W("")}(e)},value:e,children:[Object(L.jsx)(b.a,{className:"ad-radio",value:.2,children:"0.2%"}),Object(L.jsx)(b.a,{className:"ad-radio",value:3,children:"3%"}),Object(L.jsx)(b.a,{className:"ad-radio",value:U,children:Object(L.jsx)(p.a,{className:"input",value:R,onChange:function(e){return function(e){var t=Object(k.P)(e,10),n=t.valid,a=t.str;if(n)if(""===a)W("");else if(Object(k.a)(a).lte(100)){var r,c=a,s=a.split(".");(null===(r=s[1])||void 0===r?void 0:r.length)>2&&(c="".concat(s[0]+"."+s[1].substr(0,2))),W(c)}}(e.target.value)},disabled:e!==U,suffix:"%"})})]})})]}):Object(L.jsx)(L.Fragment,{})};return Object(L.jsx)(v.a,{children:function(){return Object(L.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(y.a,{routeName:"3pool/withdraw",mountedActions:Be,instantActions:Fe}),Object(L.jsx)(N.a,{title:"3pool "+l.a.get("banner.title_withdraw"),desc:l.a.get("banner.desc_withdraw")}),Object(L.jsx)(_.a,{})]}):null,ye.isConnected?Object(L.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(L.jsxs)("div",{className:"add-liq withdraw-liq",children:[Object(L.jsxs)("fieldset",{className:"percentage cur-input",children:[Object(L.jsx)("legend",{children:l.a.get("withdraw.share_of_liq")}),Object(L.jsx)(p.a,{className:"mt-15",placeholder:"100.00",value:H,onChange:He})]}),Object(L.jsxs)("fieldset",{className:"currencies mt-35",children:[Object(L.jsx)("legend",{children:l.a.get("deposit.currencies")}),Object(L.jsx)("ul",{children:I.map((function(e){var t=D[e].symbol,n=void 0===t?"":t;return Object(L.jsxs)("li",{children:[Object(L.jsx)("div",{className:"cur-label",children:Object(L.jsxs)("span",{className:"icon",children:[Object(L.jsx)("img",{src:h.a[e]?h.a[e]:f.default,alt:"",className:"token-logo"}),n]})}),Object(L.jsx)("div",{className:"cur-input",children:Object(L.jsx)(p.a,{placeholder:"0",value:m[e],onChange:function(t){Ue(t,e)}})})]},e)}))})]}),Object(L.jsxs)("fieldset",{children:[Object(L.jsxs)("legend",{className:"flex aic jcs pt20",children:[l.a.get("withdraw.withdraw_text"),Object(L.jsx)(j.a,{title:l.a.get("withdraw.tip"),children:Object(L.jsx)(O.a,{})})]}),Object(L.jsx)("div",{className:"withdraw-one",children:I.map((function(e){var t=D[e].symbol,n=void 0===t?"":t;return Object(L.jsx)("div",{children:Object(L.jsxs)(S.a,{checked:pe[e],onChange:function(t){return Ke(t,e)},children:[Object(L.jsx)("span",{className:"icon",children:Object(L.jsx)("img",{src:h.a[e]?h.a[e]:f.default,alt:"",className:"token-logo"})}),n]})},"checkbox_"+e)}))})]}),Te(J),fe&&Object(L.jsx)("div",{className:"error-content",children:Object(L.jsx)("div",{className:"red-error error-tip",children:fe})}),Object(L.jsx)("div",{className:"sell-submit-wrapper with-bottom-margin",children:Object(L.jsx)(d.a,{className:"tab-btn",onClick:function(){return Ie(m)},disabled:fe,children:l.a.get("withdraw.action")})}),Object(k.U)(ue)]})}):null,Object(L.jsx)(w.a,{className:ye.isConnected?null:"window-for-tabs-pane"})]})}})}},1645:function(e,t,n){"use strict";n.r(t);n(2),n(649),n(763),n(741);var a=n(1317),r=n(9);t.default=function(){return Object(r.jsx)("div",{className:"container",children:Object(r.jsx)(a.a,{isSinglePage:!0})})}},711:function(e,t,n){"use strict";n.r(t);var a=n(14),r=n(12),c=n(45),s=n(5),u=n(10),i=n(11),o=n(18),l=n(19),b=n(2),p=n.n(b),j=n(27),d=n.n(j),O=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(e){var a;Object(u.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=a.props,n=t.disabled,r=t.onChange;n||("checked"in a.props||a.setState({checked:e.target.checked}),r&&r({target:Object(s.a)(Object(s.a)({},a.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},a.saveInput=function(e){a.input=e};var r="checked"in e?e.checked:e.defaultChecked;return a.state={checked:r},a}return Object(i.a)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,s=t.className,u=t.style,i=t.name,o=t.id,l=t.type,b=t.disabled,j=t.readOnly,O=t.tabIndex,f=t.onClick,v=t.onFocus,x=t.onBlur,h=t.onKeyDown,m=t.onKeyPress,g=t.onKeyUp,k=t.autoFocus,w=t.value,y=t.required,N=Object(c.a)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),_=Object.keys(N).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=N[t]),e}),{}),C=this.state.checked,S=d()(n,s,(e={},Object(r.a)(e,"".concat(n,"-checked"),C),Object(r.a)(e,"".concat(n,"-disabled"),b),e));return p.a.createElement("span",{className:S,style:u},p.a.createElement("input",Object(a.a)({name:i,id:o,type:l,required:y,readOnly:j,disabled:b,tabIndex:O,className:"".concat(n,"-input"),checked:!!C,onClick:f,onFocus:v,onBlur:x,onKeyUp:g,onKeyDown:h,onKeyPress:m,onChange:this.handleChange,autoFocus:k,ref:this.saveInput,value:w},_)),p.a.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?Object(s.a)(Object(s.a)({},t),{},{checked:e.checked}):null}}]),n}(b.Component);O.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},t.default=O},763:function(e,t,n){}}]);