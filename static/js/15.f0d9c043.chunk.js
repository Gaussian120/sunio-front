/*! For license information please see 15.f0d9c043.chunk.js.LICENSE.txt */
(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[15,1],{1039:function(e,t,n){"use strict";var a,r=n(6),o=n(7),s=n(12),i=n(13),c=n(2),l=n.n(c),u=n(174),d=n(17),p=n.n(d),h=n(766),f=n(1380),m=n(11),b=n(19),j=n(8),v=Object(u.b)("sunSwapNetwork")(a=Object(u.c)(a=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).changeCheckStatus=function(e){a.setState({checkStatus:e})},a.comfirmContinue=function(){a.state.checkStatus&&a.props.cb()},a.componentDidMount=function(){},a.state={checkStatus:!1},a}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.visible,a=t.dealWarningSymbol,r=this.state.checkStatus,o=a?b.a.deflationToken[a]:{symbol:"",slippage:""},s=o.symbol,i=o.slippage;return Object(j.jsx)(h.a,{title:p.a.getHTML("list.deal_warning_title",{value:s}),closable:!1,visible:n,footer:null,style:{marginLeft:Object(m.v)(500)},width:525,className:"list-addtoken-modal deal-warning-modal sun-swap-modal",centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:Object(j.jsxs)("div",{className:"solor-modal-body",children:[Object(j.jsxs)("div",{className:"tips",children:[Object(j.jsx)("div",{className:"tips1",children:p.a.getHTML("list.deal_warning_content_1",{value:s})}),Object(j.jsx)("div",{className:"tips1 yellow",children:p.a.getHTML("list.deal_warning_content_2",{value:i})}),Object(j.jsx)("div",{className:"tips1",children:p.a.getHTML("list.deal_warning_content_3",{value:s})})]}),Object(j.jsx)("div",{className:"check-box"+(r?" checked":""),children:Object(j.jsx)(f.a,{onChange:function(t){return e.changeCheckStatus(t.target.checked)},children:p.a.get("sunSwap.list.i_understand")})}),Object(j.jsx)("div",{className:"btns",children:Object(j.jsx)("button",{onClick:this.comfirmContinue,className:r?"button-active":"",children:p.a.get("sunSwap.list.continue")})})]})})}}]),n}(l.a.Component))||a)||a;t.a=v},1040:function(e,t,n){"use strict";var a,r=n(6),o=n(7),s=n(12),i=n(13),c=n(2),l=n.n(c),u=n(17),d=n.n(u),p=(n(106),n(174)),h=n(766),f=n(1917),m=(n(1147),n(248)),b=n(842),j=n(11),v=n(8),g=Object(p.b)("sunSwapNetwork")(a=Object(p.c)(a=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).initState=function(e,t){a.setState({_slippage:e,_deadline:t,slippage:e,deadline:t},(function(){a.showInfoMsg()}))},a.onCancel=function(){a.setState({slippage:a.state._slippage,deadline:a.state._deadline},(function(){a.showInfoMsg()})),a.props.onCancel&&a.props.onCancel()},a.onChange=function(){a.setState({_slippage:a.state.slippage,_deadline:a.state.deadline},(function(){a.showInfoMsg()})),a.props.onChange&&a.props.onChange(a.state.slippage,a.state.deadline)},a.onSlippageChange=function(e){var t=e.target.value,n=Object(j.w)(t,2),r=n.valid,o=n.str;r&&a.setState({slippage:o},(function(){a.showInfoMsg()}))},a.onDeadlineChange=function(e){var t=e.target.value,n=Object(j.w)(t,0),r=n.valid,o=n.str;if(t){if(r){var s=o;Number(o)>1e4&&(s=1e4),a.setState({deadline:s})}}else a.setState({deadline:t})},a.onSlippageBlur=function(){var e=a.state.slippage;Number(e)>=50?a.setState({slippage:e.slice(0,1)},(function(){a.showInfoMsg()})):0!=Number(e)||a.setState({slippage:"0.01"},(function(){a.showInfoMsg()}))},a.onDeadlineBlur=function(){var e=Number(a.state.deadline);0===e&&(e=1),a.setState({deadline:e})},a.showInfoMsg=function(){var e=a.state.slippage;e&&(Number(e)<.5?a.setState({info:d.a.get("sunSwap.settings.slippage_info_1")}):Number(e)>5&&Number(e)<50?a.setState({info:d.a.get("sunSwap.settings.slippage_info_2")}):Number(e)>=50?a.setState({info:d.a.get("sunSwap.settings.slippage_info_3")}):a.setState({info:""}))},a.state={_slippage:"0.5",_deadline:"1",slippage:"0.5",deadline:"1",info:""},a}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(v.jsx)(l.a.Fragment,{children:Object(v.jsxs)(h.a,{title:Object(v.jsx)("span",{className:"setting-title",children:d.a.get("sunSwap.settings.title")}),closable:!0,visible:this.props.visible,onCancel:this.onCancel,footer:null,className:"setting-modal sun-swap-modal",transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",width:630,centered:!0,children:[Object(v.jsxs)("div",{className:"modal-content",children:[Object(v.jsx)(m.a,{tip:this.props.slippate_tip||d.a.get("sunSwap.settings.slippage_tip"),children:Object(v.jsx)("span",{className:"setting-slippage",children:d.a.get("sunSwap.settings.slippage")})}),Object(v.jsxs)("div",{className:"flex justify-content btns",children:[Object(v.jsx)("button",{className:"0.1"===this.state.slippage?"active":"default",onClick:function(){return e.onSlippageChange({target:{value:"0.1"}})},children:"0.1%"}),Object(v.jsx)("button",{className:"0.5"===this.state.slippage?"active":"",onClick:function(){return e.onSlippageChange({target:{value:"0.5"}})},children:"0.5%"}),Object(v.jsx)("button",{className:"1"===this.state.slippage?"active":"",onClick:function(){return e.onSlippageChange({target:{value:"1"}})},children:"1%"}),Object(v.jsx)("div",{className:"slippage-input",children:Object(v.jsx)(f.a,{suffix:"%",value:this.state.slippage,onChange:this.onSlippageChange,onBlur:this.onSlippageBlur})})]}),this.state.info?Object(v.jsx)("div",{className:"info",children:this.state.info}):null,Object(v.jsxs)("div",{className:"dead-line",children:[Object(v.jsx)(m.a,{tip:d.a.get("sunSwap.settings.deadline_tip"),children:d.a.get("sunSwap.settings.deadline")}),Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsx)(f.a,{value:this.state.deadline,onChange:this.onDeadlineChange,onBlur:this.onDeadlineBlur}),Object(v.jsx)("div",{className:"minutes",children:d.a.get("sunSwap.settings.deadline_minutes")})]})]})]}),Object(v.jsx)(b.a,{type:"single",info:d.a.get("sunSwap.settings.confirm_btn"),onClick:this.onChange})]})})}}]),n}(l.a.Component))||a)||a;t.a=g},1137:function(e,t,n){},1138:function(e,t,n){"use strict";t.a=n.p+"static/media/Back.9ec56707.svg"},1139:function(e,t,n){},1140:function(e,t,n){},1141:function(e,t,n){},1142:function(e,t,n){"use strict";t.a=n.p+"static/media/Add.17fec9f1.svg"},1143:function(e,t,n){},1144:function(e,t,n){"use strict";t.a=n.p+"static/media/per.e4b1b756.svg"},1145:function(e,t,n){"use strict";t.a=n.p+"static/media/arrDown_purple.a01dd458.svg"},1146:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAANCAMAAAB4p3UoAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEJQTFRFAAAASFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlDTbkywAAABZ0Uk5TAIDuQFf/9AFYP9cvsf78ImriLWQuePVMmBkAAABCSURBVHicY2DADRiZmNFEWFhZMYXYcAmxIwAHKysnAwMXKyrgZuABkrwQABLg40cxSIBVUIhEAWFWVhFU14hyQQQA99wCt/58bxkAAAAASUVORK5CYII="},1147:function(e,t,n){},1148:function(e,t,n){"use strict";t.a=n.p+"static/media/wallet.d2b086d3.svg"},1149:function(e,t,n){"use strict";t.a=n.p+"static/media/arrow-right-long.03b7f6c0.svg"},1150:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a,r=n(14),o="v1.0",s="v2.0";a={},Object(r.a)(a,o,"V 1"),Object(r.a)(a,"v1.5","V 1.5"),Object(r.a)(a,s,"V 2")},1151:function(e,t,n){},1152:function(e,t,n){"use strict";n(1153);var a=n(34),r=n.n(a),o=n(8);t.a=function(e){return Object(o.jsx)("div",{className:"tempalte-pageTab-nav",children:e.list.map((function(t){return Object(o.jsx)("div",{className:r()("tempalte-pageTab-nav-item",{"tempalte-pageTab-nav-active":e.activeKey===t.value}),onClick:function(){return t.handler(t)},children:t.label},t.value)}))})}},1153:function(e,t,n){},1875:function(e,t,n){},1922:function(e,t,n){"use strict";n.r(t);var a,r=n(1),o=n(6),s=n(7),i=n(12),c=n(13),l=n(2),u=n.n(l),d=n(17),p=n.n(d),h=n(106),f=n(174),m=n(1911),b=n(23),j=n.n(b),v=n(783),g=n.n(v),x=n(14),w=n(4),k=n(766),O=n(19),S=n(133),y=n(43),N=n.n(y),A=n(1365),_=n(1381),T=n(1917),L=n(1380),C=n(75),V=n(1944),D=n(11),P=(n(1137),n(248)),I=n(246),E=n(253),B=n(1138),F=n(98),R=n(1039),M=n(8);function q(){q=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(_){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,s=Object.create(o.prototype),i=new y(r||[]);return a(s,"_invoke",{value:w(e,n,i)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=l;var d={};function p(){}function h(){}function f(){}var m={};c(m,o,(function(){return this}));var b=Object.getPrototypeOf,j=b&&b(b(N([])));j&&j!==t&&n.call(j,o)&&(m=j);var v=f.prototype=p.prototype=Object.create(m);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,o,s,i){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,i)}),(function(e){r("throw",e,s,i)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,i)}))}i(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function w(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return A()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var i=k(s,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var c=u(e,t,n);if("normal"===c.type){if(a=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a="completed",n.method="throw",n.arg=c.arg)}}}function k(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function y(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=f,a(v,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(x.prototype),c(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var s=new x(l(t,n,a,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=N,y.prototype={constructor:y,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return s.type="throw",s.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var U,G="REMOVE",W=Object(f.b)("sunSwapPool")(a=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){var e=window.localStorage.getItem("solor");if(e){var t=JSON.parse(e);window.localStorage.setItem("solor",JSON.stringify(t)),a.props.sunSwapPool.setData({solor:t})}},a.setTokenList=Object(r.a)(q().mark((function e(){var t,n,r,o,s,i,c,l,u,d,p,h,f,m,b,j,v,g,x,w,k,S,y=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y.length>0&&void 0!==y[0]?y[0]:null,e.prev=1,n=a.props.sunSwapPool,r=n.byUrl,o=void 0===r?{}:r,s=n.selectedListUrl,i=void 0===s?"":s,c=n.solor,l=void 0===c?[]:c,u=window.localStorage.getItem("swapVersion"),d=o[i].tokens||[],N.a.uniqBy(d,"address").length!=d.length&&(d=[]),void 0!==(p=o[i].isToken)){e.next=15;break}return e.next=11,F.a.isToken(d.map((function(e){return e.address})));case 11:return p=e.sent,o[i].isToken=Number(p),e.next=15,a.props.sunSwapPool.updateByUrl(o[i]);case 15:2===Number(p)&&(d=[]),h={tokenAddress:O.a.trxFakeAddress,address:"",addressV1:"",addressV2:"",tokenSymbol:"TRX",tokenLogoUrl:E.a,tokenName:"TRX",tokenDecimal:O.a.trxDecimal,balance:"-"},f=a.props.sunSwapPool,m=f.exchanges,b=void 0===m?{}:m,j=f.allExchanges,v=void 0===j?{}:j,g=[],a.props.swap?d.map((function(e){e.address&&b[e.address]&&b[e.address].e&&g.push({tokenAddress:e.address,address:b[e.address]?b[e.address].e:null,addressV1:v&&v[0]&&v[0][e.address]?v[0][e.address].e:null,addressV2:v&&v[1]&&v[1][e.address]?v[1][e.address].e:null,tokenSymbol:e.symbol||"",tokenLogoUrl:e.logoURI||I.a,tokenName:e.name||"",tokenDecimal:Number(b[e.address].d),balance:"-"})})):d.map((function(e){e.address&&g.push({tokenAddress:e.address,address:"",addressV1:"",addressV2:"",tokenSymbol:e.symbol||"",tokenLogoUrl:e.logoURI||I.a,tokenName:e.name||"",tokenDecimal:b[e.address]&&b[e.address].d?Number(b[e.address].d):e.decimals,balance:"-"})})),l.map((function(e){e.addressV1=v&&v[0]&&v[0][e.tokenAddress]?v[0][e.tokenAddress].e:null,e.addressV2=v&&v[1]&&v[1][e.tokenAddress]?v[1][e.tokenAddress].e:null,e.address="v1.0"===u?v&&v[0]&&v[0][e.tokenAddress]?v[0][e.tokenAddress].e:null:v&&v[1]&&v[1][e.tokenAddress]?v[1][e.tokenAddress].e:null})),x=l.slice(),l.map((function(e){N.a.findIndex(g,(function(t){return t.tokenAddress===e.tokenAddress}))>=0&&N.a.remove(x,(function(t){return t.tokenAddress===e.tokenAddress}))})),g=[h].concat(x,g),w=[],k=[],S={},g.map((function(e){w.push(e),k.push(e),S[e.tokenAddress]=e})),a.state.tokenMap=S,a.setState({allTokenList:w,tokenList:k},(function(){a.getTokenBalance(),t&&t()})),e.next=35;break;case 32:e.prev=32,e.t0=e.catch(1),console.log(e.t0);case 35:case"end":return e.stop()}}),e,null,[[1,32]])}))),a.getTokenBalance=Object(r.a)(q().mark((function e(){var t,n,r,o,s;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.defaultAccount,n=a.state,r=n.tokenList,o=n.tokenMap,s=[],r.map((function(e){s.push(e.tokenAddress)})),!t){e.next=8;break}return e.next=7,Object(C.k)(t,s,o);case 7:a.setState({});case 8:case"end":return e.stop()}}),e)}))),a.showModal=Object(r.a)(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.props.disabled){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,a.props.sunSwapPool.getTokensDataFromLocal(),e.next=6,a.setTokenList((function(){var e=a.state.tokenStr;a.onTokenStrChange({target:{value:e}},(function(){a.setState({modalVisible:!0,defaultStatus:1})}))}));case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("tokenModal err",e.t0),a.setState({modalVisible:!0}),a.getTokenBalance();case 13:case"end":return e.stop()}}),e,null,[[2,8]])}))),a.calcItem=function(){var e=Object(r.a)(q().mark((function e(t){var n,r,o,s,i,c,l,u,d;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.localStorage.getItem("swapVersion"),r=a.props.sunSwapPool.allExchanges,o=void 0===r?{}:r,s=O.a.contract.factory,i=O.a.sunContract.factory,c=o[0][t.tokenAddress]&&o[0][t.tokenAddress].e||null,l=o[1][t.tokenAddress]&&o[1][t.tokenAddress].e||null,c){e.next=22;break}return e.next=9,Object(C.l)(t.tokenAddress,s);case 9:if(!(u=e.sent)){e.next=21;break}if(t.addressV1=u,t.notCreatedV1=!1,"v1.0"!==n){e.next=19;break}return t.address=u,e.next=17,a.removeSolor(t);case 17:return e.next=19,a.addSolor(t);case 19:e.next=22;break;case 21:t.tokenAddress!==O.a.trxFakeAddress&&(t.notCreatedV1=!0);case 22:if(!t.addressV1||2!==t.cst){e.next=27;break}return e.next=25,Object(C.v)(t.addressV1);case 25:e.sent.gt(0)||t.tokenAddress===O.a.trxFakeAddress?t.notCreatedV1=!1:t.notCreatedV1=!0;case 27:if(l){e.next=43;break}return e.next=30,Object(C.l)(t.tokenAddress,i);case 30:if(!(d=e.sent)){e.next=42;break}if(t.addressV2=d,t.notCreatedV2=!1,"v1.5"!==n){e.next=40;break}return t.address=d,e.next=38,a.removeSolor(t);case 38:return e.next=40,a.addSolor(t);case 40:e.next=43;break;case 42:t.tokenAddress!==O.a.trxFakeAddress&&(t.notCreatedV2=!0);case 43:if(!t.addressV2||2!==t.cst){e.next=48;break}return e.next=46,Object(C.v)(t.addressV2);case 46:e.sent.gt(0)||t.tokenAddress===O.a.trxFakeAddress?t.notCreatedV2=!1:t.notCreatedV2=!0;case 48:return e.abrupt("return",t);case 49:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.setTokenAddressCallback=function(){var e=a.state.selectSearchItem;a.setState({dealWarningVisible:!1}),a.props.onChange&&a.props.onChange(a.state.tokenMap[e.tokenAddress])},a.setTokenAddress=function(){var e=Object(r.a)(q().mark((function e(t,n,r){var o,s,i,c,l,u,d,p,h,f,m,b,j,v;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.props.sunSwapPool,s=o.exchanges,i=void 0===s?{}:s,c=o.allExchanges,l=void 0===c?{}:c,!t||!a.state.tokenMap[t]){e.next=8;break}if("swap"!==r||!Object.keys(O.a.deflationToken).includes(t)){e.next=5;break}return a.setState({dealWarningVisible:!0,callbacks:a.setTokenAddressCallback,selectSearchItem:{tokenAddress:t}}),e.abrupt("return");case 5:a.props.onChange&&a.props.onChange(a.state.tokenMap[t]),e.next=35;break;case 8:if(!Object(D.t)(t)||!n){e.next=22;break}return e.next=11,F.a.tokenBrief(t);case 11:if(!(u=e.sent).success){e.next=20;break}if(!(d=u.data).tokenAddr){e.next=20;break}return p={tokenAddress:t,address:i[d.tokenAddr]&&i[d.tokenAddr].e||null,addressV1:l[0][d.tokenAddr]&&l[0][d.tokenAddr].e||null,addressV2:l[1][d.tokenAddr]&&l[1][d.tokenAddr].e||null,tokenSymbol:d.tokenSymbol,tokenLogoUrl:d.tokenLogo,tokenName:d.tokenName,tokenDecimal:d.tokenDecimal,cst:1,balance:"-"},e.next=18,a.calcItem(p);case 18:h=e.sent,a.setState({tokenBrief:h,solorModalVisible:!0});case 20:e.next=35;break;case 22:if(!Object(D.t)(t)){e.next=35;break}return e.next=25,F.a.tokenBrief(t);case 25:if(!(f=e.sent).success){e.next=35;break}if(!(m=f.data).tokenAddr){e.next=35;break}return b=window.localStorage.getItem("swapVersion"),j={tokenAddress:t,address:m.exchangeAddr,addressV1:"v1.0"===b?m.exchangeAddr:null,addressV2:"v1.5"===b?m.exchangeAddr:null,tokenSymbol:m.tokenSymbol,tokenLogoUrl:m.tokenLogo,tokenName:m.tokenName,tokenDecimal:m.tokenDecimal,cst:1,balance:"-"},e.next=33,a.calcItem(j);case 33:v=e.sent,a.setState({tokenBrief:v,solorModalVisible:!0});case 35:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),a.onChange=function(){var e=Object(r.a)(q().mark((function e(t,n){var r,o;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.stopPropagation(),t.tokenAddress!==a.props.value){e.next=3;break}return e.abrupt("return");case 3:if(!a.props.fromPool||t.tokenAddress!==O.a.trxFakeAddress){e.next=5;break}return e.abrupt("return");case 5:if(1!==(r=a.props.type)&&2!==r||!Object.keys(O.a.deflationToken).includes(t.tokenAddress)){e.next=9;break}return a.setState({modalVisible:!1,dealWarningVisible:!0,callbacks:a.selectSearchCallback,selectSearchItem:t}),e.abrupt("return");case 9:return e.next=11,a.calcItem(t);case 11:o=e.sent,a.setState({modalVisible:!1}),a.props.onChange&&a.props.onChange(o);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.selectSearchCallback=Object(r.a)(q().mark((function e(){var t,n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.selectSearchItem,e.next=3,a.calcItem(t);case 3:n=e.sent,a.setState({dealWarningVisible:!1}),a.props.onChange&&a.props.onChange(n);case 6:case"end":return e.stop()}}),e)}))),a.hideModal=function(){1===a.state.defaultStatus?a.setState({modalVisible:!1,customTokenUriLeg:!0}):a.hideListModal()},a.onTokenStrChange=function(){var e=Object(r.a)(q().mark((function e(t){var n,r,o,s,i,c,l,u,d,p,h,f,m,b,j,v=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=v.length>1&&void 0!==v[1]?v[1]:null,r=a.props.sunSwapPool,o=r.exchanges,s=void 0===o?{}:o,i=r.allExchanges,c=void 0===i?{}:i,e.prev=2,l=t.target.value,u=a.state.allTokenList,d=[],p=a.state.tokenSort,!(l.length>1)){e.next=31;break}if(!Object(D.t)(l)){e.next=27;break}if(0!==(d=u.filter((function(e){return e.tokenAddress===l.trim()}))).length){e.next=25;break}return e.next=13,F.a.tokenBrief(l);case 13:if(!(h=e.sent).success){e.next=25;break}if(f=window.defaultAccount,m=h.data,b="-",!f){e.next=22;break}return e.next=21,Object(C.A)(f,[l],a.state.tokenMap);case 21:b=e.sent;case 22:j={tokenAddress:l,address:s[m.tokenAddr]&&s[m.tokenAddr].e||null,addressV1:c[0][m.tokenAddr]&&c[0][m.tokenAddr].e||null,addressV2:c[1][m.tokenAddr]&&c[1][m.tokenAddr].e||null,tokenSymbol:m.tokenSymbol,tokenLogoUrl:m.tokenLogo,tokenName:m.tokenName,tokenDecimal:m.tokenDecimal,cst:1,balance:"-"==b?"-":Object(D.k)(b,2)},d.push(j),u.push(j);case 25:e.next=29;break;case 27:d=u.filter((function(e){return e.tokenSymbol.toLowerCase().indexOf(l.toLowerCase())>-1&&1!==Number(e.cst)})),p&&(d=d.sort((function(e,t){var n=e.tokenSymbol.toLowerCase(),a=t.tokenSymbol.toLowerCase();return n<a?-1:n>a?1:0})));case 29:e.next=33;break;case 31:d=u.slice().filter((function(e){return 1!==Number(e.cst)})),p&&(d=d.sort((function(e,t){var n=e.tokenSymbol.toLowerCase(),a=t.tokenSymbol.toLowerCase();return n<a?-1:n>a?1:0})));case 33:a.setState({tokenStr:l,tokenList:d},(function(){n&&n(),a.getTokenBalance()})),e.next=39;break;case 36:e.prev=36,e.t0=e.catch(2),console.log("onTokenStrChange: ",e.t0);case 39:case"end":return e.stop()}}),e,null,[[2,36]])})));return function(t){return e.apply(this,arguments)}}(),a.clearStorage=function(){var e=O.a.localStorage;for(var t in e)window.localStorage.removeItem(e[t]);window.location.reload()},a.showListModal=function(){a.setState({defaultStatus:2})},a.hideListModal=function(){a.setState({defaultStatus:1})},a.selectTokenList=function(){var e=Object(r.a)(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.props.sunSwapPool.selectedListUrl,a.props.sunSwapPool.setData({selectedListUrl:t}),a.props.sunSwapPool.setTokensDataIntoLocal(),e.next=6,a.setTokenList((function(){a.setState({defaultStatus:1});var e=a.state.tokenStr;a.onTokenStrChange({target:{value:e}})}));case 6:a.props.sunSwapPool.handleNotifiction(),a.props.sunSwapPool.setTokensDataIntoLocal(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),a.backTokensCategory=function(){a.setState({changeStatus:1})},a.onTokenUriChange=function(e){try{var t=e.target.value;a.setState({customTokenUri:t.trim(),errInfo:""})}catch(n){console.log(n)}},a.checkUrl=function(e){return e||(p.a.get("sunSwap.list.err1"),Object(S.a)("errInfo")),""},a.isListsOver=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).length>=O.a.maxLists},a.addCustomTokens=Object(r.a)(q().mark((function e(){var t,n,r,o,s,i,c,l,u,d,h;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=a.state.customTokenUri,n="",Object(D.u)(t)){e.next=7;break}return n=p.a.get("sunSwap.list.add_failed_tip"),a.setState({errInfo:n}),e.abrupt("return");case 7:if(r=a.props.sunSwapPool.byUrl,!(o=void 0===r?{}:r)[t]||o[t].rs){e.next=12;break}return n=p.a.get("sunSwap.list.exists"),a.setState({errInfo:n}),e.abrupt("return");case 12:if(!a.isListsOver(o)){e.next=16;break}return n=p.a.getHTML("list.lists_over",{value:O.a.maxLists}),a.setState({errInfo:n}),e.abrupt("return");case 16:return e.next=18,F.a.getTokenListJson(t);case 18:if(s=e.sent,i=s.tokens,!((void 0===i?[]:i).length>O.a.maxTokens)){e.next=24;break}return n=p.a.getHTML("list.tokens_over",{value:O.a.maxTokens}),a.setState({errInfo:n}),e.abrupt("return");case 24:if(c=Object(D.I)(s),l=c.key,u=void 0===l?"":l,d=c.valid,void 0!==d&&d){e.next=29;break}return n=p.a.get("sunSwap.list.add_err_tip",{value:u}),a.setState({errInfo:n}),e.abrupt("return");case 29:return a.props.sunSwapPool.updateTokensData(t,Object(w.a)(Object(w.a)({},s),{},{uri:t,rs:0})),e.next=32,a.setTokenList((function(){a.setState({defaultStatus:1,customTokenUri:""});var e=a.state.tokenStr;a.onTokenStrChange({target:{value:e}})}));case 32:e.next=39;break;case 34:e.prev=34,e.t0=e.catch(0),h=p.a.get("sunSwap.list.add_failed_retry"),a.setState({errInfo:h}),console.log(e.t0);case 39:case"end":return e.stop()}}),e,null,[[0,34]])}))),a.updateList=function(){var e=Object(r.a)(q().mark((function e(t){var n,o,s;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.uri,o=a.props.sunSwapPool.byUrlNew,s=(void 0===o?{}:o)[n],Object(D.g)(s,Object(r.a)(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.sunSwapPool.updateByUrl(s);case 2:a.setState({});case 3:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.hideRemoveModal=function(){a.setState({removeId:"",removeModalVisible:!1,removeText:""})},a.showRemoveModal=function(e){try{a.setState({removeId:e.uri,removeModalVisible:!0})}catch(t){console.log(t)}},a.removeTokens=function(){try{var e=a.state,t=e.removeId,n=e.removeText;if(!t)return;if(n.trim()!=G)return;var r=a.props.sunSwapPool.byUrl,o=(void 0===r?{}:r)[t],s=o.cst,i=void 0!==s&&s,c=o.uri,l=void 0===c?"":c;i?a.props.sunSwapPool.deleteByUrlById(l):(o.rs=1,a.props.sunSwapPool.updateByUrl(o)),a.hideRemoveModal()}catch(u){console.log(u)}},a.inputRemoveText=function(e){var t=e.target.value;a.setState({removeText:t})},a.addSolor=function(){var e=Object(r.a)(q().mark((function e(t){var n,r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=a.props.sunSwapPool.solor,r=void 0===n?[]:n,!(N.a.findIndex(r,(function(e){return e.tokenAddress===t.tokenAddress}))>=0)){e.next=5;break}return e.abrupt("return");case 5:return r.unshift(Object(w.a)(Object(w.a)({},t),{},{cst:2})),a.props.sunSwapPool.setData({solor:r}),e.next=9,a.setTokenList((function(){var e=a.state.tokenStr;a.onTokenStrChange({target:{value:e}},(function(){a.getTokenBalance()}))}));case 9:window.localStorage.setItem("solor",JSON.stringify(r)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),a.removeSolor=function(){var e=Object(r.a)(q().mark((function e(t){var n,r,o;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.tokenAddress!==a.props.value&&t.tokenAddress!==a.props.switchValue){e.next=3;break}return e.abrupt("return");case 3:return n=a.props.sunSwapPool.solor,r=void 0===n?[]:n,o=t.tokenAddress,N.a.remove(r,(function(e){return e.tokenAddress===o})),a.props.sunSwapPool.setData({solor:r}),e.next=9,a.setTokenList((function(){var e=a.state.tokenStr;a.onTokenStrChange({target:{value:e}},(function(){a.getTokenBalance()}))}));case 9:window.localStorage.setItem("solor",JSON.stringify(r)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),a.getKeys=function(e){try{return Object.keys(e).sort((function(t,n){return e[t].name>e[n].name?1:-1}))}catch(t){return[]}},a.tokenSortByAsCII=function(e){try{var t=a.state.tokenList;if(e=!e){var n=t.sort((function(e,t){var n=e.tokenSymbol.toLowerCase(),a=t.tokenSymbol.toLowerCase();return n<a?-1:n>a?1:0})),r=N.a.findIndex(n,(function(e){return e.tokenAddress===O.a.trxFakeAddress}));if(r>=0){var o=n.splice(r,1);n.unshift(o[0])}a.setState({tokenList:n})}else a.setTokenList((function(){var e=a.state.tokenStr;a.onTokenStrChange({target:{value:e}},(function(){a.getTokenBalance()}))}));a.setState({tokenSort:e})}catch(s){console.log(s)}},a.comfirmContinue=Object(r.a)(q().mark((function e(){var t,n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=a.state,n=t.tokenBrief,t.checkStatus){e.next=4;break}return e.abrupt("return");case 4:if(!Object.keys(O.a.deflationToken).includes(n.tokenAddress)){e.next=7;break}return a.setState({solorModalVisible:!1,dealWarningVisible:!0,callbacks:a.dealWarningCallback}),e.abrupt("return");case 7:return e.next=9,a.addSolor(n);case 9:a.setState({solorModalVisible:!1}),a.props.onChange&&a.props.onChange(n),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),a.setState({dealWarningVisible:!1,solorModalVisible:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),a.dealWarningCallback=Object(r.a)(q().mark((function e(){var t;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({dealWarningVisible:!1}),t=a.state.tokenBrief,e.next=5,a.addSolor(t);case 5:a.setState({solorModalVisible:!1}),a.props.onChange&&a.props.onChange(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),a.setState({dealWarningVisible:!1,solorModalVisible:!1});case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),a.changeCheckStatus=function(e){a.setState({checkStatus:e.target.checked})},a.renderSelectedList=function(e,t,n,r,o){var s=a.state,i=s.tokenSort,c=s.tokenMap;return e&&t&&e[t]?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("input",{className:"select-search",type:"text",placeholder:p.a.get("sunSwap.tokens.select_placeholder_text"),value:n,onChange:a.onTokenStrChange}),Object(M.jsxs)("div",{className:"title flexB",children:[Object(M.jsx)("span",{className:"text",children:p.a.get("sunSwap.tokens.select_tokenName_title")}),Object(M.jsx)("span",{className:"sort "+(i?"active":""),onClick:function(){return a.tokenSortByAsCII(i)}})]}),Object(M.jsx)("div",{className:"itemList",children:0===o.length?Object(M.jsx)("div",{className:"no-token-fund",children:p.a.get("sunSwap.tokens.loading_tokens")}):r.length?r.map((function(e,t){return Object(M.jsxs)("div",{className:"flex item "+(e.tokenAddress===a.props.value||e.tokenAddress===a.props.switchValue?"opac":""),onClick:function(t){return a.onChange(e,t)},children:[Object(M.jsxs)("div",{className:"a-center",children:[Object(M.jsx)("img",{src:e.tokenLogoUrl,alt:"",onError:function(e){e.target.onerror=null,e.target.src=I.a}}),Object(M.jsxs)("div",{className:"searchRes left",children:[Object(M.jsxs)("span",{className:"item-content",children:[e.tokenSymbol,a.props.fromPool?"":a.props.asInput?e.tokenAddress===a.props.value&&" (".concat(p.a.get("sunSwap.tokens.selected_as_input"),")")||e.tokenAddress===a.props.switchValue&&" (".concat(p.a.get("sunSwap.tokens.selected_as_output"),")"):e.tokenAddress===a.props.value&&" (".concat(p.a.get("sunSwap.tokens.selected_as_output"),")")||e.tokenAddress===a.props.switchValue&&" (".concat(p.a.get("sunSwap.tokens.selected_as_input"),")")]}),1===e.cst&&Object(M.jsxs)("div",{className:"item-content solor-detail",children:[Object(M.jsx)("span",{children:p.a.get("sunSwap.list.search_by_addr")}),Object(M.jsxs)("span",{className:"ib",onClick:function(t){t.stopPropagation(),a.addSolor(e)},children:["(",p.a.get("sunSwap.list.add"),")"]})]}),2===e.cst&&Object(M.jsxs)("div",{className:"item-content solor-detail",children:[Object(M.jsx)("span",{children:p.a.get("sunSwap.list.add_by_user")}),Object(M.jsxs)("span",{className:"solor-remove ib",onClick:function(t){t.stopPropagation(),a.removeSolor(e)},children:["(",p.a.get("sunSwap.list.remove_token"),")"]})]})]})]}),e.tokenAddress===O.a.trxFakeAddress?Object(M.jsx)("div",{children:Object(M.jsx)("p",{children:Object(D.l)(c[e.tokenAddress]?c[e.tokenAddress].balance:e.balance)})}):Object(M.jsxs)("div",{className:"inline-flex balanceAndAddr",children:[Object(M.jsx)("p",{children:c[e.tokenAddress]&&!isNaN(c[e.tokenAddress].balance)?Object(D.l)(c[e.tokenAddress].balance):"--"}),Object(M.jsx)("p",{children:Object(h.a)(window.navigator).any?Object(D.j)(e.tokenAddress,4,4):Object(D.j)(e.tokenAddress,8,10)})]})]},e.tokenAddress+t)})):Object(M.jsx)("div",{className:"no-token-fund",children:p.a.getHTML("list.no_token_found")})}),Object(M.jsxs)("div",{className:"list-switch flexB",children:[Object(M.jsxs)("div",{className:"list-switch-name",children:[Object(M.jsx)("img",{src:e[t].logoURI,alt:""}),Object(M.jsx)("span",{children:e[t].name||""})]}),Object(M.jsx)("button",{className:"list-switch-btn",onClick:function(){return a.showListModal()},children:p.a.get("sunSwap.list.switch")})]})]}):Object(M.jsx)(M.Fragment,{})},a.renderUpdateListItem=function(e){var t=a.props.sunSwapPool.byUrlNew,n=void 0===t?{}:t,r=e.version,o=void 0===r?{}:r,s=n[e.uri]||{},i=s.version||{},c=Object(D.f)(o,i),l=Object(D.e)(e,s).success,u=void 0!==l&&l;return!N.a.isEqual(s,{})&&c&&u&&Object(M.jsx)(A.a.Item,{onClick:function(){a.updateList(e)},children:p.a.get("sunSwap.list.update")})},a.adjustAndroid=function(e){var t=Object(D.d)(e);a.setState({adjust:t})},a.renderTokensCategory=function(){var e=a.state,t=e.customTokenUri,n=e.lang,r=e.errInfo,o=a.props.sunSwapPool,s=o.byUrl,i=o.selectedListUrl,c=a.getKeys(s);return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("ul",{className:"list-list",children:[s&&c.length&&c.map((function(e){var t=s[e];return!t.rs&&Object(M.jsxs)("li",{className:"flex",children:[Object(M.jsxs)("div",{className:"drop-parent flexB w-80",children:[Object(M.jsxs)("div",{className:"left flex",children:[Object(M.jsx)("img",{src:t.logoURI,alt:"",className:"logo"}),Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{className:"name",children:t.name}),Object(M.jsx)("div",{className:"source",children:Object(D.n)(t.uri)})]})]}),Object(M.jsx)(_.a,{trigger:"click",placement:"bottomRight",overlay:Object(M.jsx)(A.a,{children:Object(M.jsxs)(A.a.ItemGroup,{title:Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{className:"key",children:p.a.get("sunSwap.list.version")}),Object(M.jsx)("span",{className:"value",children:Object(D.s)(t.version)})]}),children:[Object(M.jsxs)(A.a.Item,{children:[" ",Object(M.jsx)("a",{href:"".concat(O.a.justList,"?lang=").concat(n,"#/detail?uri=").concat(t.uri),target:t.uri||"_blank",children:p.a.get("sunSwap.list.view")})]}),a.renderUpdateListItem(t),t.uri!==i&&Object(M.jsx)(A.a.Item,{onClick:function(){a.showRemoveModal(t)},children:p.a.get("sunSwap.list.remove")})]})}),children:Object(M.jsx)("a",{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()}})})]}),Object(M.jsx)("div",{className:"right",children:Object(M.jsx)("button",{className:String(i)===String(t.uri)?"selected":"",onClick:function(){return a.selectTokenList(e)},children:String(i)===String(t.uri)?p.a.get("sunSwap.list.selected"):p.a.get("sunSwap.list.select")})})]},t.name+"_"+e)})),Object(M.jsx)("div",{className:"list-more",children:Object(M.jsx)("a",{href:"en-US"===n?O.a.moreList.en:O.a.moreList.zh,target:"_blank",children:p.a.get("sunSwap.more.more")})})]}),Object(M.jsx)("div",{className:"list-add",children:Object(M.jsxs)("div",{className:"list-input-line flex",children:[Object(M.jsx)(T.a,{type:"text",className:"list-input w-80",placeholder:"https://",value:t,onChange:a.onTokenUriChange,onFocus:function(){return a.adjustAndroid(!0)},onBlur:function(){return a.adjustAndroid(!1)}}),Object(M.jsx)("div",{className:"right",children:Object(M.jsx)("button",{onClick:a.addCustomTokens,disabled:!t.trim(),children:p.a.get("sunSwap.list.add_list")})})]})}),!!r&&Object(M.jsxs)("div",{className:"list-add-errTip",children:[Object(M.jsx)("span",{className:"icon",children:"!"}),Object(M.jsx)("span",{className:"text",children:r})]}),Object(M.jsx)("div",{className:"list-footer",children:Object(M.jsx)("a",{href:"".concat(O.a.justList,"?lang=").concat(n,"#/home"),className:"link",target:"justList",children:p.a.get("sunSwap.list.view_list_home")})})]})},a.hideSolorModal=function(){a.setState({solorModalVisible:!1})},a.state={lang:window.localStorage.getItem("lang")||p.a.options.currentLocale,modalVisible:!1,tokenStr:"",allTokenList:[],tokenList:[],tokenMap:Object(x.a)({},O.a.trxFakeAddress,{tokenAddress:O.a.trxFakeAddress,address:"",addressV1:"",addressV2:"",tokenSymbol:"TRX",tokenLogoUrl:E.a,tokenName:"TRX",tokenDecimal:O.a.trxDecimal,removeText:""}),defaultStatus:1,removeModalVisible:!1,removeText:"",removeId:"",solor:JSON.parse(window.localStorage.getItem("solor")||"[]"),customTokenUri:"",customTokenUriLeg:!0,errInfo:"",tokenSort:!1,solorModalVisible:!1,tokenBrief:{},checkStatus:!1,dealWarningVisible:!1,selectSearchItem:""},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.tokenList,a=(t.tokenMap,t.tokenStr),r=t.allTokenList,o=t.defaultStatus,s=t.removeText,i=t.removeModalVisible,c=t.adjust,l=t.solorModalVisible,d=t.tokenBrief,h=t.checkStatus,f=t.dealWarningVisible,m=t.callbacks,b=t.selectSearchItem,j=this.props,v=j.value,g=j.tokenInfo,x=this.props.sunSwapPool,w=x.byUrl,O=x.selectedListUrl;return Object(M.jsxs)(u.a.Fragment,{children:[Object(M.jsx)("p",{className:"dragDown "+(this.props.disabled?"no-bg":""),onClick:this.showModal,children:v&&g?Object(M.jsxs)(u.a.Fragment,{children:[Object(M.jsx)("img",{src:g.tokenLogoUrl||I.a,alt:"",onError:function(e){e.target.onerror=null,e.target.src=I.a}}),Object(M.jsx)("span",{children:g.tokenSymbol})]}):p.a.get("sunSwap.tokens.add_choose_select")}),this.props.disabled?null:Object(M.jsx)(k.a,{title:1===o?Object(M.jsx)(P.a,{tip:p.a.get("sunSwap.tokens.add_choose_select_tip"),toolClass:"select-ib left",children:Object(M.jsx)("span",{className:"add-title",children:p.a.get("sunSwap.tokens.add_choose_select")})}):Object(M.jsxs)("div",{className:"list-modal-header",children:[Object(M.jsx)("img",{src:B.a,alt:"",onClick:function(){return e.hideListModal()}}),Object(M.jsx)("span",{className:"add-title",children:p.a.get("sunSwap.list.select_list")})]}),closable:!0,visible:this.state.modalVisible,onCancel:this.hideModal,className:"select-modal sun-swap-modal "+(1===o?"":"list-modal "+(c?"adjust":"")),footer:null,width:630,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:1===o?this.renderSelectedList(w,O,a,n,r):this.renderTokensCategory()}),Object(M.jsxs)(k.a,{title:"",closable:!1,visible:i,footer:null,style:{marginLeft:Object(D.v)()},width:420,className:"list-remove-modal sun-swap-modal",transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:[Object(M.jsx)("div",{className:"title",children:p.a.get("sunSwap.list.remove_confirm")}),Object(M.jsx)("div",{className:"tips",children:p.a.get("sunSwap.list.remove_confirm_tip")}),Object(M.jsx)("input",{type:"text",className:"list-input w-80",value:s,onChange:this.inputRemoveText}),Object(M.jsxs)("div",{className:"btns",children:[Object(M.jsx)("button",{onClick:this.removeTokens,disabled:s.trim()!==G,children:p.a.get("sunSwap.list.confirm")}),Object(M.jsx)("button",{onClick:this.hideRemoveModal,children:p.a.get("sunSwap.list.cancel")})]})]}),Object(M.jsx)(k.a,{title:p.a.get("sunSwap.list.add_token"),closable:!1,visible:l,footer:null,style:{marginLeft:Object(D.v)(500)},width:525,className:"list-addtoken-modal sun-swap-modal",centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:Object(M.jsxs)("div",{className:"solor-modal-body",children:[Object(M.jsxs)("div",{className:"tips",children:[Object(M.jsx)("div",{className:"tips1",children:p.a.get("sunSwap.list.add_token_tip1")}),Object(M.jsx)("div",{className:"tips1",children:p.a.get("sunSwap.list.add_token_tip2")}),Object(M.jsx)("div",{className:"tips1",children:p.a.get("sunSwap.list.add_token_tip3")})]}),Object(M.jsxs)("div",{className:"token-info flex",children:[Object(M.jsx)("div",{className:"logo",children:Object(M.jsx)("img",{src:d.tokenLogoUrl?d.tokenLogoUrl:I.a})}),Object(M.jsxs)("div",{className:"info",children:[Object(M.jsxs)("div",{className:"symbol",children:[d.tokenName,"(",d.tokenSymbol,")"]}),Object(M.jsxs)("div",{className:"addr",children:[Object(M.jsx)("span",{children:d.tokenAddress}),Object(M.jsx)("span",{className:"pointer",title:d.tokenAddress,id:"copySpan",onClick:function(e){Object(D.i)(e,"5px","copySpan")},children:Object(M.jsx)(V.a,{})})]})]})]}),Object(M.jsx)("div",{className:"check-box"+(h?" checked":""),children:Object(M.jsx)(L.a,{onChange:this.changeCheckStatus,children:p.a.get("sunSwap.list.add_token_tip4")})}),Object(M.jsx)("div",{className:"btns",children:Object(M.jsx)("button",{onClick:this.comfirmContinue,className:h?"button-active":"",children:p.a.get("sunSwap.list.continue")})})]})}),f&&Object(M.jsx)(R.a,{visible:f,cb:m,dealWarningSymbol:d.tokenAddress||b.tokenAddress})]})}}]),n}(u.a.Component))||a,X=n(842),H=n(928),z=n(881),Y=(n(989),n(850),n(983)),J=n(1142),K=n(882);function Z(){Z=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(_){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,s=Object.create(o.prototype),i=new y(r||[]);return a(s,"_invoke",{value:w(e,n,i)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=l;var d={};function p(){}function h(){}function f(){}var m={};c(m,o,(function(){return this}));var b=Object.getPrototypeOf,j=b&&b(b(N([])));j&&j!==t&&n.call(j,o)&&(m=j);var v=f.prototype=p.prototype=Object.create(m);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,o,s,i){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,i)}),(function(e){r("throw",e,s,i)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,i)}))}i(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function w(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return A()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var i=k(s,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var c=u(e,t,n);if("normal"===c.type){if(a=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a="completed",n.method="throw",n.arg=c.arg)}}}function k(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function y(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=f,a(v,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(x.prototype),c(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var s=new x(l(t,n,a,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=N,y.prototype={constructor:y,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return s.type="throw",s.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var Q,$=Object(f.b)("sunSwapNetwork")(U=Object(f.b)("sunSwapPool")(U=Object(f.b)("network")(U=Object(f.c)(U=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(r.a)(Z().mark((function e(){var t,n;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.props.sunSwapPool.setData({addRef:a.toTokenRef}),t=setInterval((function(){a.props.network.isConnected&&(a.timer=setInterval((function(){a.selectedToken(a.props.sunSwapPool.tokenInfo,!0)}),6e3),a.selectedToken(a.props.sunSwapPool.tokenInfo,!1),clearInterval(t))}),1e3),a.getTokenBalance(),n=Object(h.a)(window.navigator).apple.device,a.setState({appleDevice:n}),e.next=8,a.toTokenRef.current.setTokenList();case 8:a.toTokenRef.current.setTokenAddress(a.props.sunSwapPool.tokenInfo.tokenAddress),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])}))),a.componentWillUnmount=function(){clearInterval(a.timer)},a.initInputData=function(){a.setState({tokenOneValueStr:"",tokenTwoValueStr:"",tokenOneValue:new D.a(0),tokenTwoValue:new D.a(0),versionChanged:!0},(function(){a.selectedToken(a.props.sunSwapPool.tokenInfo)}))},a.getTokenBalance=Object(r.a)(Z().mark((function e(){var t,n,r,o,s,i,c;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.props.network.isConnected){e.next=15;break}return t=a.props.sunSwapPool.tokenInfo,n=a.props.network.defaultAccount,r=a.state.fromToken,e.next=6,Object(C.i)(n,[r.tokenAddress]);case 6:if(o=e.sent,(s=o[0].div(new D.a(10).pow(r.tokenDecimal))).eq(a.state.fromBalance)||a.setState({fromBalance:s,fromBalanceStr:s._toFixed(6,1)},(function(){a.calcEh()})),!t.tokenAddress){e.next=15;break}return e.next=12,Object(C.i)(n,[t.tokenAddress]);case 12:i=e.sent,c=i[0].div(new D.a(10).pow(t.tokenDecimal)),isNaN(c.toNumber())||c.eq(a.state.toBalance)||a.setState({toBalance:c,toBalanceStr:c._toFixed(6,1)},(function(){a.calcEh()}));case 15:case"end":return e.stop()}}),e)}))),a.setInsufficient=function(e,t,n){e<=t?a.setState({insufficientBalance:""}):a.setState({insufficientBalance:n})},a.calcEh=function(){var e=a.props.sunSwapPool,t=e.tokenInfo,n=e.tokenDetail,r=e.selectTokenOne,o=e.tokenTwoFixed,s=a.state,i=s.fromBalance,c=s.toBalance,l=s.noPoolBalance,u=Object(D.D)(document.querySelector(".token-sec-input-1").value),d=Object(D.D)(document.querySelector(".token-sec-input-2").value);if(u.gt(i)||u.lt(O.a.firstTRXLimit)&&0!==l&&!o?a.setState({insufficientBalance:r.tokenSymbol}):d.gt(c)||isNaN(c.toNumber())?a.setState({insufficientBalance:t.tokenSymbol}):a.setState({insufficientBalance:""}),u.gt(0)&&n.exTrx.gt(0)){var p=n.exTrx;a.setState({calcStatus:!0,shareOfPool:u.div(u.plus(p)).times(100)},(function(){}))}else"--"===n.price1&&u.toNumber()>0&&d.toNumber()>0?a.setState({calcStatus:!0,shareOfPool:new D.a(100)}):a.setState({calcStatus:!1,shareOfPool:new D.a(0)})},a.setInputValue=function(e,t,n){var r;r=t?{num:new D.a(t.num),str:t.str,baseTwo:!1}:{num:new D.a(-1),str:"",baseTwo:!0};var o=a.props.sunSwapPool,s=o.tokenInfo,i=o.tokenDetail,c=a.state,l=c.tokenTwoValue,u=c.tokenOneValue;c.needCreate;if(s.tokenAddress&&""!==s.tokenAddress&&"--"!==i.price1){if(2===e){var d=l;r.num.eq(-1)||(d=r.num);var p=d.times(i.price1)._toFixed(O.a.trxDecimal,1),h=a.state.fromBalance;Object(D.D)(p).gt(h)&&n?a.setMaxFrom("TRX"):a.setState({tokenTwoValue:d,tokenTwoValueStr:Object(D.b)(r.str||l.toString()),tokenOneValue:Object(D.D)(p),tokenOneValueStr:Object(D.b)(p)},(function(){a.calcEh()}))}else if(1===e){var f=u;r.num.eq(-1)||(f=r.num);var m=f.div(i.price1),b="";m.gt(0)&&(b=m._toFixed(Number(s.tokenDecimal),1));var j=r.str||u.toString(),v=a.state.toBalance;Object(D.D)(b).gt(v)&&n?a.setMaxFrom("token"):a.setState({tokenOneValue:f,tokenOneValueStr:Object(D.b)(j),tokenTwoValue:Object(D.D)(b),tokenTwoValueStr:Object(D.b)(b)},(function(){a.calcEh()}))}}else 1===e&&a.setState({tokenOneValue:r.num,tokenOneValueStr:Object(D.b)(r.str)},(function(){a.calcEh()})),2===e&&a.setState({tokenTwoValue:r.num,tokenTwoValueStr:Object(D.b)(r.str)},(function(){a.calcEh()}))},a.initTokenDetail=function(e){a.props.sunSwapPool.setData({tokenDetail:{trx:new D.a(0),value:new D.a(0),tokens:new D.a(0),price1:"--",price2:"--",exTrx:new D.a(0),totalSupply:new D.a(0)}}),"createdNoBalance"!==e&&a.setState({createTxt:p.a.get("sunSwap.pool.create_pair_btn"),createState:"",approveTxt:p.a.get("sunSwap.pool.add_approve_btn"),approveState:"",supplyTxt:p.a.get("sunSwap.pool.add_supply_btn"),supplyState:""})},a.selectedToken=function(){var e=Object(r.a)(Z().mark((function e(t){var n,r,o,s,i,c,l,u,d,p,h,f,m,b,j,v,g,x,k,S,y,N,A,_,T=arguments;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=T.length>1&&void 0!==T[1]&&T[1],t.tokenAddress){e.next=3;break}return e.abrupt("return");case 3:if(r=Object(w.a)({},t),o=a.state,s=o.fromOrTo,i=o.tokenOneValue,c=o.tokenOneValueStr,l=o.tokenTwoValue,u=o.tokenTwoValueStr,n||(s=0,i=new D.a(0),l=new D.a(0),c="",u="",a.setState({tokenOneValueStr:c,tokenTwoValueStr:u,tokenOneValue:i,tokenTwoValue:l,fromOrTo:0,calcStatus:!1}),a.props.sunSwapPool.setData({tokenInfo:Object(w.a)(Object(w.a)({},r),{},{address:""})})),1!==s||a.state.versionChanged){e.next=11;break}if(i.gt(0)){e.next=9;break}return e.abrupt("return");case 9:e.next=14;break;case 11:if(2!==s||a.state.versionChanged){e.next=14;break}if(l.gt(0)){e.next=14;break}return e.abrupt("return");case 14:if(a.props.network.isConnected){e.next=16;break}return e.abrupt("return");case 16:return d=a.props.network.defaultAccount,e.next=19,Object(C.m)(d,r.tokenAddress);case 19:p=e.sent,h=p.exchangeAddr,f=p.allowance,m=p.exTokenBalance,b=p.exTrxBalance,j=p.totalLiquidity,v=p.userLiquidity,g=p.userTrxBalance,x=p.userTokenBalance,k=p.success,n||a.props.sunSwapPool.setData({tokenInfo:Object(w.a)(Object(w.a)({},r),{},{address:h})}),k?h?(a.setState({networkError:!1}),n?(S=!0,a.state.approvedAmount.gte(a.state.tokenTwoValue)&&(S=!1),a.setState({poolIsExist:0,needApprove:S})):(a.setState({poolIsExist:0,noPoolBalance:0,needCreate:!1}),a.setState({poolIsExist:0,approvedAmount:f.div(new D.a(10).pow(r.tokenDecimal))})),y="--",N="--",j.gt(0)?(A=b.div(new D.a(10).pow(O.a.trxDecimal)),_=m.div(new D.a(10).pow(r.tokenDecimal)),y=A.div(_),N=_.div(A),n&&a.setInputValue(a.state.fromOrTo),(a.props.sunSwapPool.tokenInfo.address===h||a.state.versionChanged)&&(a.setState({noPoolBalance:0}),a.props.sunSwapPool.setData({tokenDetail:{trx:new D.a(g).div(new D.a(10).pow(O.a.trxDecimal)),value:new D.a(x).div(new D.a(10).pow(r.tokenDecimal)),tokens:new D.a(v).div(new D.a(10).pow(O.a.trxDecimal)),totalSupply:new D.a(j).div(new D.a(10).pow(O.a.trxDecimal)),price1:y,price2:N,exTrx:A,exToken:_}}))):(a.setState({noPoolBalance:1}),n||a.initTokenDetail("createdNoBalance"))):(a.setState({networkError:!1}),a.setState({poolIsExist:1,noPoolBalance:-1,needCreate:!0}),n||a.initTokenDetail()):a.setState({networkError:!0}),a.getTokenBalance();case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.judgeIssues=function(){var e=Object(r.a)(Z().mark((function e(t,n,r){var o,s,i,c,l,u,d,p,h,f;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.state.fromOrTo=n,o=a.state.fromBalanceStr,s=a.props.sunSwapPool,i=s.selectTokenOne,c=s.tokenInfo,l={},!t){e.next=15;break}if(u=6,u=1===n?6:c.tokenDecimal,d=Object(D.w)((""+t).replace(/,/g,""),u),p=d.valid,h=d.str,!p){e.next=14;break}t=h,l.num=h,l.str=t,e.next=15;break;case 14:return e.abrupt("return");case 15:f=o,""!==t?""===c.tokenSymbol?(1===n&&(a.setState({tokenTwoValue:new D.a(0),tokenOneValue:new D.a(l.num),tokenOneValueStr:Object(D.b)(t),tokenTwoValueStr:""}),a.setInsufficient(l.num,f,i.tokenSymbol)),2===n&&a.setState({tokenOneValue:new D.a(0),tokenTwoValue:new D.a(l.num),tokenTwoValueStr:Object(D.b)(t),tokenOneValueStr:""})):(1===n&&a.setState({tokenOneValue:new D.a(l.num),tokenOneValueStr:Object(D.b)(t)}),2===n&&a.setState({tokenTwoValue:new D.a(l.num),tokenTwoValueStr:Object(D.b)(t)}),a.setInputValue(n,l,r)):(a.setState({calcStatus:!1,shareOfPool:new D.a(0)}),a.setState({tokenTwoValue:new D.a(0),tokenOneValue:new D.a(0),tokenOneValueStr:"",tokenTwoValueStr:""}));case 17:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),a.setMaxFrom=function(e){var t=a.state,n=t.fromBalance,r=t.toBalance,o=t.poolIsExist,s=t.noPoolBalance,i=(t.needCreate,a.props.sunSwapPool.tokenInfo),c=n;c.gt(0)&&r.gt(0)||(c=Object(D.a)(0),r=Object(D.a)(0)),"TRX"===e?((1!==o&&1!==s||""===i.tokenAddress)&&a.setState({tokenTwoValue:r,tokenTwoValueStr:Object(D.b)(r.toString())}),a.setState({tokenOneValue:c,tokenOneValueStr:Object(D.b)(c.toString())},(function(){a.calcEh()})),r.gt(0)&&a.judgeIssues(c,1,!0)):"token"===e&&((1!==o&&1!==s||""===i.tokenAddress)&&a.setState({tokenOneValue:c,tokenOneValueStr:Object(D.b)(c.toString())}),a.setState({tokenTwoValue:r,tokenTwoValueStr:Object(D.b)(r.toString())},(function(){a.calcEh()})),r.gt(0)&&a.judgeIssues(r,2,!0))},a.exchangeInfo=function(){var e=a.state,t=e.poolIsExist,n=e.shareOfPool,r=e.noPoolBalance,o=e.tokenOneValue,s=e.tokenTwoValue,i=a.props.sunSwapPool,c=i.tokenInfo,l=i.tokenDetail,d="--",h="--";"--"!==l.price1&&(d=l.price1._toFixed(4,1)),"--"!==l.price2&&(h=l.price2._toFixed(4,1)),s.gt(0)&&o.gt(0)&&(1===t||1===r)&&(d=o.div(s),h=s.div(o));var f="--",m="--";f="--"===d?d:Object(D.a)(d).lt(1e-4)?"< 0.0001":Object(D.a)(d)._toFixed(4,1),m="--"===h?m:Object(D.a)(h).lt(1e-4)?"< 0.0001":Object(D.a)(h)._toFixed(4,1);var b=n._toFixed(2,1);return isNaN(b)?b="--":n.gt(0)&&n.lt(.01)&&(b="<0.01"),Object(M.jsxs)(u.a.Fragment,{children:[Object(M.jsx)("div",{className:"flex justify-content price-chart-wrap align-items-center",style:{paddingBottom:0,paddingTop:"20px"},children:Object(M.jsxs)("div",{className:"token-pairs",children:[Object(M.jsxs)("div",{className:"sun-swap-normal-1",children:[p.a.get("sunSwap.swap.detail_token_info")," "]}),Object(M.jsx)("div",{children:Object(M.jsx)(u.a.Fragment,{children:Object(D.G)(Object(M.jsxs)(u.a.Fragment,{children:[Object(M.jsx)("img",{src:c.tokenLogoUrl?c.tokenLogoUrl:I.a,alt:"logo",onError:function(e){e.target.onerror=null,e.target.src=I.a}}),Object(M.jsx)("span",{className:"sun-swap-link-1",children:c.tokenSymbol})]}),c.tokenAddress)})})]})}),Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:"action-info",children:[Object(M.jsx)("div",{className:"info-title sun-swap-normal-1",children:1===t||1===r?p.a.get("sunSwap.pool.create_initial_title"):p.a.get("sunSwap.pool.add_price_title")}),Object(M.jsxs)("div",{className:"info-detail flex",children:[Object(M.jsxs)("div",{className:"left",children:[Object(M.jsx)("p",{children:p.a.get("sunSwap.pool.add_unit_text",{toToken:c.tokenSymbol?c.tokenSymbol:"--",fromToken:"TRX"})}),Object(M.jsx)("p",{children:f})]}),Object(M.jsxs)("div",{className:"left",children:[Object(M.jsx)("p",{children:p.a.get("sunSwap.pool.add_unit_text",{toToken:"TRX",fromToken:c.tokenSymbol?c.tokenSymbol:"--"})}),Object(M.jsx)("p",{children:m})]}),Object(M.jsxs)("div",{className:"right",children:[Object(M.jsx)("p",{children:p.a.get("sunSwap.pool.add_share_text")}),Object(M.jsxs)("p",{children:[b,"%"]})]})]})]}),1===t||1===r?null:Object(M.jsxs)("div",{className:"action-info",children:[Object(M.jsxs)("div",{className:"info-title flex between sun-swap-normal-1",children:[Object(M.jsx)("span",{children:p.a.get("sunSwap.pool.base_posi_title")}),Object(M.jsxs)("p",{className:"yourPosi",children:[Object(M.jsx)("img",{src:E.a,alt:""}),Object(M.jsx)("img",{src:c.tokenLogoUrl||I.a,onError:function(e){e.target.onerror=null,e.target.src=I.a},alt:""}),Object(M.jsx)("span",{children:"TRX"}),Object(M.jsx)("span",{className:"symbol",children:"/"}),Object(M.jsx)("span",{children:c.tokenSymbol?c.tokenSymbol:"--"})]})]}),Object(M.jsxs)("div",{className:"info-detail flex",children:[Object(M.jsxs)("div",{className:"left",children:[Object(M.jsx)("p",{children:"TRX"}),Object(M.jsx)("p",{children:l.trx.lt(1e-4)&&l.trx.gt(0)?"<0.0001":l.trx._toFixed(4,1)})]}),Object(M.jsxs)("div",{className:"left",children:[Object(M.jsx)("p",{children:c.tokenSymbol?c.tokenSymbol:"--"}),Object(M.jsx)("p",{children:l.value.lt(1e-4)&&l.value.gt(0)?"<0.0001":l.value._toFixed(4,1)})]}),Object(M.jsxs)("div",{className:"right",children:[Object(M.jsx)("p",{children:p.a.get("sunSwap.pool.add_tokens_text")}),Object(M.jsx)("p",{children:l.tokens.lt(1e-4)&&l.tokens.gt(0)?"<0.0001":l.tokens._toFixed(4,1)})]})]})]})]})]})},a.showSettingModal=function(){a.props.sunSwapNetwork.setData({settingVisible:!0})},a.setLiq=function(e){a.props.sunSwapPool.setData({actionLiqV2:e})},a.retryGetExchange=function(){var e=Object(r.a)(Z().mark((function e(t){var n,r,o=arguments;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=o.length>1&&void 0!==o[1]?o[1]:0)>10)){e.next=3;break}return e.abrupt("return","");case 3:return e.next=5,Object(C.l)(t);case 5:if(!(r=e.sent)){e.next=10;break}return e.abrupt("return",r);case 10:return e.next=12,new Promise((function(e){setTimeout((function(){e()}),1e3)}));case 12:return e.abrupt("return",a.retryGetExchange(t,n+1));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.createPair=Object(r.a)(Z().mark((function e(){var t,n;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.sunSwapPool.tokenInfo,n={title:"pair_actions.create",obj:{trx:"TRX",tokenSymbol:t.tokenSymbol}},e.next=4,Object(C.h)(t.tokenAddress,n);case 4:e.sent?a.setState({createActionState:"pending",actionInfo:p.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0},(function(){setTimeout(Object(r.a)(Z().mark((function e(){var n;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.retryGetExchange(t.tokenAddress);case 2:(n=e.sent)?(a.props.sunSwapPool.setData({tokenInfo:Object(w.a)(Object(w.a)({},t),{},{address:n})}),a.setState({createActionState:"success",approveActionState:"start"},(function(){a.setApprove()}))):a.setState({createActionState:"failed",actionRetry:"createPair",actionInfo:p.a.get("sunSwap.action.retryBtn"),actionDisabled:!1});case 4:case"end":return e.stop()}}),e)}))),5e3)})):a.setState({createActionState:"error",actionRetry:"createPair",actionInfo:p.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0});case 6:case"end":return e.stop()}}),e)}))),a.setApprove=Object(r.a)(Z().mark((function e(){var t,n;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.sunSwapPool.tokenInfo,n={title:"pool.add_approve_token",obj:{token:t.tokenSymbol}},e.next=4,Object(C.e)(t.tokenAddress,t.address,n);case 4:e.sent?a.setState({approveActionState:"pending",actionInfo:p.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0},(function(){setTimeout((function(){a.setState({approveActionState:"success",actionState:"info"})}),5e3)})):a.setState({approveActionState:"error",actionRetry:"setApprove",actionInfo:p.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0});case 6:case"end":return e.stop()}}),e)}))),a.beforeSupplyLiquidity=Object(r.a)(Z().mark((function e(){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({actionStarted:!0,supplyPopBtn:p.a.get("sunSwap.action.startBtn"),supplyPopBtnDisabled:!0},(function(){a.supplyLiquidity()}));case 1:case"end":return e.stop()}}),e)}))),a.supplyLiquidity=Object(r.a)(Z().mark((function e(){var t,n,o,s,i,c,l,u,d,h,f,m,b,j,v,g,x;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.tokenOneValue,o=t.tokenTwoValue,s=t.needApprove,i=a.props.sunSwapPool,c=i.tokenInfo,l=i.tokenDetail,u=a.props.sunSwapNetwork.settingSlippage,u=Number(u),f=n.times(1e6),m=o.times(new D.a(10).pow(c.tokenDecimal)),l.exTrx.eq(0)?(d=f,h=m):(d="0x".concat(n.times(l.totalSupply).div(l.exTrx).times(1-u/100).times(new D.a(10).pow(O.a.trxDecimal)).integerValue(D.a.ROUND_DOWN).toString(16)),h="0x".concat(n.times(l.exToken).div(l.exTrx).times(1+u/100).times(new D.a(10).pow(c.tokenDecimal)).integerValue(D.a.ROUND_DOWN).toString(16))),b={title:"pair_actions.add",obj:{trxAmount:Object(D.k)(n.toString(),6),trx:"TRX",tokenAmount:Object(D.k)(o.toString(),l.tokenDecimal),tokenSymbol:c.tokenSymbol}},j=a.state.tokenOneValueStr,v=a.state.tokenTwoValueStr,e.t0=C.b,e.t1=c.address,e.t2=d.toString(),e.t3=h.toString(),e.next=16,Object(C.g)(a.props.sunSwapNetwork.settingDeadline);case 16:return e.t4=e.sent,e.t5=f.toString(),e.t6=b,e.next=21,(0,e.t0)(e.t1,e.t2,e.t3,e.t4,e.t5,e.t6);case 21:e.sent?(g={supplyErrorInfo:"",supplyPopBtn:p.a.get("sunSwap.action.doingBtn"),supplyPopBtnDisabled:!0,actionStarted:!0},s&&(g={actionInfo:p.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,supplyActionState:"pending",actionState:"line",actionStarted:!0}),a.setState(g,(function(){setTimeout(Object(r.a)(Z().mark((function e(){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({tokenOneValue:new D.a(0),tokenOneValueStr:"",tokenTwoValue:new D.a(0),tokenTwoValueStr:"",successOneValueStr:j,successTwoValueStr:v,actionRetry:"",actionState:"success",actionStarted:!1});case 1:case"end":return e.stop()}}),e)}))),5e3)}))):(x={supplyErrorInfo:p.a.get("sunSwap.action.supplyActErr"),supplyPopBtn:p.a.get("sunSwap.action.retryBtn"),supplyPopBtnDisabled:!1,actionStarted:!0},s&&(x={actionState:"line",supplyActionState:"error",actionRetry:"supplyLiquidity",actionInfo:p.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0}),a.setState(x));case 23:case"end":return e.stop()}}),e)}))),a.initAddModal=function(){var e=a.props.sunSwapPool.tokenInfo,t=!0;return a.state.approvedAmount.gte(a.state.tokenTwoValue)&&(t=!1),{needApprove:t,supplyPopBtn:p.a.get("sunSwap.pool.popup_supply_btn"),supplyPopBtnDisabled:!1,supplyErrorInfo:"",createActionTitle:p.a.get("sunSwap.action.createAct",{token:e.tokenSymbol}),createActionError:p.a.get("sunSwap.action.createActErr"),createActionFailed:p.a.get("sunSwap.action.createActFailed"),createActionState:"",approveActionTitle:p.a.get("sunSwap.action.approveAct",{token:e.tokenSymbol}),approveActionError:p.a.get("sunSwap.action.approveActErr"),approveActionState:"",supplyActionTitle:p.a.get("sunSwap.action.supplyAct"),supplyActionError:p.a.get("sunSwap.action.supplyActErr"),supplyActionState:"",actionInfo:p.a.get("sunSwap.action.startBtn"),actionDisabled:!0,actionRetry:"",actionState:t?"line":"info",actionStarted:!1,successOneValueStr:"",successTwoValueStr:"",miniPopVisible:!1}},a.showAddModal=function(){a.setState(Object(w.a)(Object(w.a)({},a.initAddModal()),{},{addVisible:!0}),(function(){a.onRetryAction()}))},a.beforeHideAddModal=function(){a.state.actionStarted?a.setState({miniPopVisible:!0}):a.hideAddModal()},a.hideAddModal=function(){a.setState({addVisible:!1},(function(){setTimeout((function(){a.setState(Object(w.a)({},a.initAddModal()))}),1e3)}))},a.miniPopOk=function(){var e=a.state.needApprove;a.setState({miniPopVisible:!1},Object(r.a)(Z().mark((function t(){var n,r,o,s,i,c;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.hideAddModal(),!e){t.next=12;break}return n=a.props.sunSwapPool.tokenInfo,r=a.props.network.defaultAccount,t.next=6,Object(C.m)(r,n.tokenAddress);case 6:o=t.sent,s=o.exchangeAddr,i=o.allowance,c=!0,s&&(c=!1),a.setState({needCreate:c,approvedAmount:i.div(new D.a(10).pow(n.tokenDecimal))});case 12:case"end":return t.stop()}}),t)}))))},a.miniPopCancel=function(){a.setState({miniPopVisible:!1})},a.gotoPool=function(){a.props.sunSwapPool.setData({actionLiqV2:0})},a.onRetryAction=function(){var e=a.state.needCreate,t=a.state.needApprove,n=a.state.actionRetry;switch(!n&&e&&(n="createPair"),!n&&t&&(n="setApprove"),n){case"createPair":a.setState({createActionState:"start",actionInfo:p.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){a.createPair()}));break;case"setApprove":a.setState({approveActionState:"start",actionInfo:p.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){a.setApprove()}));break;case"supplyLiquidity":a.setState({swapActionState:"start",actionInfo:p.a.get("sunSwap.action.startBtn"),actionDisabled:!1},(function(){a.supplyLiquidity()}))}},a.useSafeMax=function(){var e=a.props.sunSwapPool.tokenInfo,t=a.state,n=t.poolIsExist,r=t.fromBalanceStr,o=t.noPoolBalance,s=(1===n||1===o)&&""!==e.tokenAddress?O.a.createFeeAmount:O.a.addFeeAmount,i=Object(D.b)(Object(D.D)(r).minus(s));a.judgeIssues(i,1)},a.toTokenRef=u.a.createRef(),a.state={fromToken:{tokenSymbol:"TRX",tokenAddress:O.a.trxFakeAddress,tokenDecimal:O.a.trxDecimal,trxBalance:new D.a(0),tokenBalance:new D.a(0)},calcStatus:!1,insufficientBalance:"",fromBalance:new D.a(-1),fromBalanceStr:"--",toBalance:new D.a(-1),toBalanceStr:"--",poolIsExist:-1,noPoolBalance:-1,shareOfPool:new D.a(0),approvedAmount:new D.a(0),tokenOneValueStr:"",tokenTwoValueStr:"",tokenOneValue:new D.a(0),tokenTwoValue:new D.a(0),tokenMap:Object(x.a)({},O.a.trxFakeAddress,{tokenAddress:O.a.trxFakeAddress,address:"",tokenSymbol:"TRX",tokenLogoUrl:O.a.trxLogoUrl,tokenName:"TRX",tokenDecimal:O.a.trxDecimal}),addVisible:!1,createTxt:p.a.get("sunSwap.pool.create_pair_btn"),createState:"",approveTxt:p.a.get("sunSwap.pool.add_approve_btn"),approveState:"",supplyTxt:p.a.get("sunSwap.pool.add_supply_btn"),supplyState:"",createAddr:"",fromOrTo:0,appleDevice:!1,needCreate:!0,needApprove:!0,supplyPopBtn:"",supplyPopBtnDisabled:!1,supplyErrorInfo:"",createActionTitle:"",createActionError:"",createActionFailed:"",createActionState:"",approveActionTitle:"",approveActionError:"",approveActionState:"",supplyActionTitle:"",supplyActionError:"",supplyActionState:"",actionInfo:"",actionDisabled:!1,actionRetry:"",actionState:"",actionStarted:!1,successOneValueStr:"",successTwoValueStr:"",miniPopVisible:!1,versionChanged:!1,status:!1},a}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e){e.sunSwapPool.actionLiqV2!=this.props.sunSwapPool.actionLiqV2&&1===Number(this.props.sunSwapPool.actionLiqV2)&&this.props.sunSwapPool.setData({addRef:this.toTokenRef})}},{key:"render",value:function(){var e=this,t=this.state,n=t.calcStatus,a=t.insufficientBalance,r=t.shareOfPool,o=t.poolIsExist,s=t.fromBalanceStr,i=t.toBalanceStr,c=t.tokenOneValue,l=t.tokenTwoValue,u=t.addVisible,d=t.noPoolBalance,f=t.tokenOneValueStr,m=t.tokenTwoValueStr,b=t.successOneValueStr,j=t.successTwoValueStr,v=t.status,g=t.networkError,x=this.props.sunSwapPool,w=x.tokenTwoFixed,S=x.tokenInfo,y=x.selectTokenOne,N=x.tokenDetail,A=this.props.sunSwapNetwork.settingSlippage,_=c._toFixed(4,1),T=l.div(c),L=c.div(l);N.exTrx.gt(0)&&(_=c.times(N.totalSupply).div(N.exTrx)._toFixed(O.a.trxDecimal,1),T=N.price2,L=N.price1);var C=r._toFixed(2,1);isNaN(C)?C="--":r.gt(0)&&r.lt(.01)&&(C="<0.01");var V="";a&&(V=p.a.get("sunSwap.pool.add_insufficient_btn",{value:a}));var E=(1===o||1===d)&&""!==S.tokenAddress,B=E?O.a.createFeeAmount:O.a.addFeeAmount;E?c.lt(O.a.createFeeAmount)&&(V=p.a.get("sunSwap.pool.less_than_btn",{value:O.a.createFeeAmount})):c.lt(O.a.firstTRXLimit)&&0!==d&&(V=p.a.get("sunSwap.pool.less_than_btn",{value:O.a.firstTRXLimit}));var F="";V&&(F=V),n||(F=p.a.get("sunSwap.pool.add_enter_btn"));var R=null;return R=setTimeout((function(){e.setState({status:!0}),clearTimeout(R)}),3e3),Object(M.jsxs)("section",{className:"action-content",children:[Object(M.jsxs)("header",{className:"flex",children:[Object(M.jsx)("span",{className:"return ib",onClick:function(t){return e.setLiq(0)},children:Object(M.jsx)("img",{src:Y.a,alt:"back"})}),Object(M.jsx)(P.a,{titleClass:"add-title",children:p.a.get("sunSwap.pool.add_addLiq_title"),tip:p.a.get("sunSwap.pool.add_addLiq_title_tip"),toolClass:"pool-add-tool",tail:!0,placement:h.a?"left":"bottom"})]}),g&&Object(M.jsx)("p",{className:"fz14 red mb20",children:p.a.get("sunSwap.pool.network_error")}),E&&Object(M.jsxs)("div",{className:"first-pool-copy",children:[Object(M.jsx)("div",{className:"bold fz14 black first-pool-title",children:p.a.get("sunSwap.pool.create_firstProv_bold")}),c.lt(O.a.createFeeAmount)&&Object(M.jsx)("p",{className:"fz14 first-pool-tip red",children:p.a.get("sunSwap.pool.less_than",{value:O.a.createFeeAmount})}),Object(M.jsx)("p",{className:"fz14 first-pool-tip sun-swap-normal-1",children:p.a.get("sunSwap.pool.create_first_tip1")})]}),Object(M.jsxs)("div",{className:"flex token-sec",children:[Object(M.jsxs)("div",{className:"input",children:[Object(M.jsx)("p",{children:p.a.get("sunSwap.pool.add_input_text")}),Object(M.jsx)("input",{type:"type",className:"token-sec-input token-sec-input-1",placeholder:p.a.get("sunSwap.pool.add_placeholder_text"),onChange:function(t){return e.judgeIssues(t.target.value,1)},value:f})]}),Object(M.jsxs)("div",{className:"select",children:[Object(M.jsxs)("p",{children:[Object(M.jsxs)("span",{className:"tag",children:[p.a.get("sunSwap.pool.add_balance_text"),": "]}),Object(M.jsx)("span",{className:"balance",children:Object(D.a)(s).gte(0)?Object(D.l)(s,{dp:6,cutZero:!0}):"--"})]}),Object(M.jsxs)("div",{className:"input-max",children:[this.props.network.isConnected?Object(M.jsx)("span",{className:"link",onClick:function(t){return e.setMaxFrom("TRX",{firstAdd:!0})},children:p.a.get("sunSwap.swap.input_from_max")}):null,Object(M.jsx)(W,{disabled:!0,value:y.tokenAddress,tokenInfo:y,fromPool:!0})]})]})]}),v&&"TRX"===y.tokenSymbol&&f?Object(D.D)(s).lt(B)?Object(M.jsx)("div",{className:"safe-amount-tip",children:p.a.getHTML("list.trx_tip_3",{value:B})}):Object(D.D)(s).minus(B).lt(Object(D.D)(f))?Object(M.jsxs)("div",{className:"safe-amount-tip",children:[p.a.getHTML("list.trx_tip_1",{value:B})," ",Object(M.jsx)("em",{onClick:this.useSafeMax,children:p.a.get("sunSwap.list.trx_tip_2")})]}):null:null,Object(M.jsxs)("div",{className:"plusBtn flex between",children:[Object(M.jsx)("img",{src:J.a,alt:"plus"}),Object(M.jsx)("span",{className:"link sun-swap-link-1",onClick:this.showSettingModal,children:p.a.get("sunSwap.pool.add_set_link")})]}),Object(M.jsxs)("div",{className:"flex token-sec",children:[Object(M.jsxs)("div",{className:"input",children:[Object(M.jsx)("p",{children:p.a.get("sunSwap.pool.add_input_text")}),Object(M.jsx)("input",{type:"type",className:"token-sec-input token-sec-input-2",placeholder:p.a.get("sunSwap.pool.add_placeholder_text"),onChange:function(t){return e.judgeIssues(t.target.value,2)},value:m})]}),Object(M.jsxs)("div",{className:"select",children:[Object(M.jsxs)("p",{children:[Object(M.jsxs)("span",{className:"tag",children:[p.a.get("sunSwap.pool.add_balance_text"),": "]}),Object(M.jsx)("span",{className:"balance",children:Object(D.a)(i).gte(0)?Object(D.l)(i,{dp:6,cutZero:!0}):"--"})]}),Object(M.jsxs)("div",{className:"input-max",children:[this.props.network.isConnected?Object(M.jsx)("span",{className:"link",onClick:function(t){return e.setMaxFrom("token")},children:p.a.get("sunSwap.swap.input_from_max")}):null,Object(M.jsx)(W,{onChange:this.selectedToken,fromPool:!0,appleDevice:this.state.appleDevice,disabled:w,address:this.props.network.defaultAccount,value:S.tokenAddress,tokenInfo:S,ref:this.toTokenRef})]})]})]}),""!==S.tokenAddress&&S.tokenAddress.length>0?this.exchangeInfo():null,Object(M.jsx)("div",{className:"action-btns",children:this.props.network.isConnected?F?Object(M.jsx)(X.a,{type:"single",disabled:!0,info:F}):Object(M.jsx)(X.a,{type:"single",info:p.a.get("sunSwap.pool.add_supply_btn"),onClick:this.showAddModal}):Object(M.jsx)(X.a,{type:"single",info:p.a.get("sunSwap.pool.add_connect_btn"),onClick:function(t){e.props.network.setData({loginModalVisible:!0,loginModalStep:1})}})}),Object(M.jsxs)(k.a,{title:null,closable:"success"!==this.state.actionState,visible:u,onCancel:this.beforeHideAddModal,className:"pool-modal add-gai sun-swap-modal",footer:null,width:630,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:["line"===this.state.actionState&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{className:"title normal",children:p.a.get("sunSwap.swap.action_supply")}),Object(M.jsxs)("div",{className:"ib-parent center",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{className:"add-value",children:f}),Object(M.jsx)("span",{className:"add-token",children:y.tokenSymbol})]}),Object(M.jsx)("span",{className:"plus",children:"+"}),Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{className:"add-value",children:m}),Object(M.jsx)("span",{className:"add-token",children:S.tokenSymbol})]})]}),Object(M.jsx)("div",{className:"supplyLineTitle",children:p.a.get("sunSwap.action.supplyLineTitle")}),this.state.needCreate?Object(M.jsxs)(H.a,{children:[Object(M.jsx)("span",{status:this.state.createActionState,err:this.state.createActionError,failed:this.state.createActionFailed,children:this.state.createActionTitle}),Object(M.jsx)("span",{status:this.state.approveActionState,err:this.state.approveActionError,children:this.state.approveActionTitle}),Object(M.jsx)("span",{status:this.state.supplyActionState,err:this.state.supplyActionError,children:this.state.supplyActionTitle})]}):Object(M.jsxs)(H.a,{children:[Object(M.jsx)("span",{status:this.state.approveActionState,err:this.state.approveActionError,children:this.state.approveActionTitle}),Object(M.jsx)("span",{status:this.state.supplyActionState,err:this.state.supplyActionError,children:this.state.supplyActionTitle})]}),Object(M.jsx)(X.a,{type:"single",disabled:this.state.actionDisabled,info:this.state.actionInfo,onClick:this.onRetryAction})]}),"info"===this.state.actionState&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{children:p.a.get("sunSwap.pool.popup_receive_title")}),Object(M.jsxs)("div",{className:"amount",children:[Object(M.jsxs)("div",{className:"center",children:[Object(M.jsx)("p",{className:"amount-num",children:Object(D.l)(_,{dp:O.a.trxDecimal,cutZero:!0})}),Object(M.jsx)("p",{className:"amount-name",children:Object(M.jsx)("span",{children:y.tokenSymbol+"/"+S.tokenSymbol+" "+p.a.get("sunSwap.pool.popup_tokens_text")})})]}),Object(M.jsx)("p",{className:"amount-tip left",children:p.a.get("sunSwap.pool.popup_receive_tip",{value:A})})]}),Object(M.jsxs)("div",{className:"price",children:[Object(M.jsxs)("p",{className:"flex param",children:[Object(M.jsx)("span",{className:"price-key",children:y.tokenSymbol+" "+p.a.get("sunSwap.pool.popup_deposited_text")}),Object(M.jsxs)("span",{className:"price-value",children:[Object(M.jsx)("img",{src:y.tokenLogoUrl,alt:""}),Object(M.jsx)("span",{children:c.toString()})]})]}),Object(M.jsxs)("p",{className:"flex param",children:[Object(M.jsx)("span",{className:"price-key",children:S.tokenSymbol+" "+p.a.get("sunSwap.pool.popup_deposited_text")}),Object(M.jsxs)("span",{className:"price-value",children:[Object(M.jsx)("img",{src:S.tokenLogoUrl||I.a,alt:"",onError:function(e){e.target.onerror=null,e.target.src=I.a}}),Object(M.jsx)("span",{children:l.toString()})]})]}),Object(M.jsxs)("div",{className:"flex param",children:[Object(M.jsx)("span",{className:"price-key",children:p.a.get("sunSwap.pool.popup_rates_text")}),Object(M.jsxs)("div",{className:"price-value ib",children:[Object(M.jsxs)("p",{children:["1 ",y.tokenSymbol," ="," ",Object(D.a)(1).div(Object(D.a)(10).pow(Number(S.tokenDecimal))).gt(T)?"< "+Object(D.a)(1).div(Object(D.a)(10).pow(Number(S.tokenDecimal))).toString():T._toFixed(Number(S.tokenDecimal))," ",S.tokenSymbol]}),Object(M.jsxs)("p",{children:["1 ",S.tokenSymbol," ="," ",Object(D.a)(1).div(Object(D.a)(10).pow(Number(O.a.trxDecimal))).gt(L)?"< "+Object(D.a)(1).div(Object(D.a)(10).pow(Number(O.a.trxDecimal))).toString():L._toFixed(Number(O.a.trxDecimal))," ",y.tokenSymbol]})]})]}),Object(M.jsxs)("div",{className:"flex between mb30",children:[Object(M.jsx)("div",{className:"share-title",children:p.a.get("sunSwap.pool.popup_share_text")}),Object(M.jsxs)("div",{className:"v-right",children:[C,"%"]})]})]}),this.state.supplyErrorInfo&&Object(M.jsx)("div",{className:"errorMsg",children:this.state.supplyErrorInfo}),Object(M.jsx)(X.a,{type:"single",disabled:this.state.supplyPopBtnDisabled,info:this.state.supplyPopBtn,onClick:this.beforeSupplyLiquidity})]}),"success"===this.state.actionState&&Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"modal-success",children:[Object(M.jsx)("img",{src:K.a,alt:""}),Object(M.jsx)("div",{className:"title green",children:p.a.get("sunSwap.action.supplySuccessTitle")}),Object(M.jsxs)("div",{className:"ib-parent center mb40",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{className:"add-value",children:b}),Object(M.jsx)("span",{className:"add-token",children:y.tokenSymbol})]}),Object(M.jsx)("span",{className:"plus",children:"+"}),Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{className:"add-value",children:j}),Object(M.jsx)("span",{className:"add-token",children:S.tokenSymbol})]})]}),Object(M.jsx)(X.a,{type:"single",info:p.a.get("sunSwap.action.closeBtn"),onClick:this.gotoPool}),Object(M.jsx)("div",{className:"supplyDescTitle",children:p.a.get("sunSwap.action.supplyDescTitle")})]})})]}),Object(M.jsx)(z.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}}]),n}(u.a.Component))||U)||U)||U)||U,ee=n(1914),te=n(255);function ne(){ne=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(_){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,s=Object.create(o.prototype),i=new y(r||[]);return a(s,"_invoke",{value:w(e,n,i)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=l;var d={};function p(){}function h(){}function f(){}var m={};c(m,o,(function(){return this}));var b=Object.getPrototypeOf,j=b&&b(b(N([])));j&&j!==t&&n.call(j,o)&&(m=j);var v=f.prototype=p.prototype=Object.create(m);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,o,s,i){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,i)}),(function(e){r("throw",e,s,i)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,i)}))}i(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function w(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return A()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var i=k(s,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var c=u(e,t,n);if("normal"===c.type){if(a=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a="completed",n.method="throw",n.arg=c.arg)}}}function k(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function y(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=f,a(v,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(x.prototype),c(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var s=new x(l(t,n,a,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=N,y.prototype={constructor:y,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return s.type="throw",s.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var ae,re=Object(f.b)("sunSwapPool")(Q=Object(f.b)("sunSwapNetwork")(Q=Object(f.b)("network")(Q=Object(f.c)(Q=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(r.a)(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.getUserPool();case 1:case"end":return e.stop()}}),e)}))),a.getUserPool=Object(r.a)(ne().mark((function e(){var t,n,r,o,s,i,c,l,u,d,p,h;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.sunSwapPool.tokenInfo,n=a.props.network.defaultAccount,e.next=4,Object(C.m)(n,t.tokenAddress);case 4:r=e.sent,o=r.exchangeAddr,s=r.exTokenBalance,i=r.exTrxBalance,c=r.totalLiquidity,l=r.userLiquidity,u=r.userTrxBalance,d=r.userTokenBalance,o&&(p=i.div(new D.a(10).pow(O.a.trxDecimal)),h=s.div(new D.a(10).pow(t.tokenDecimal)),p.gt(0)&&a.setState({tokenDetail:{trx:new D.a(u).div(new D.a(10).pow(O.a.trxDecimal)),value:new D.a(d).div(new D.a(10).pow(t.tokenDecimal)),tokens:new D.a(l).div(new D.a(10).pow(O.a.trxDecimal)),totalSupply:new D.a(c).div(new D.a(10).pow(O.a.trxDecimal)),price1:p.div(h),price2:h.div(p),exTrx:p,exToken:h}}));case 13:case"end":return e.stop()}}),e)}))),a.showSettingModal=function(){a.props.sunSwapNetwork.setData({settingVisible:!0})},a.setPercent=function(e){a.setState({percentNum:e})},a.userTokenInfo=function(){var e=a.state,t=e.percentNum,n=e.tokenDetail,r=a.props.sunSwapPool,o=r.selectTokenOne,s=r.tokenInfo,i=t,c=function(e,t){return e.isNaN()||e.eq(1/0)?"--":e._toFixed(Number(t),1)},l=c(n.value.div(n.trx),s.tokenDecimal),d=c(n.trx.div(n.value),O.a.trxDecimal);return Object(M.jsx)(u.a.Fragment,{children:Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:"action-info",children:[Object(M.jsxs)("div",{className:"info-title flex between sun-swap-normal-1",children:[Object(M.jsx)("span",{children:p.a.get("sunSwap.pool.base_posi_title")}),Object(M.jsxs)("p",{className:"ib yourPosi",children:[Object(M.jsx)("img",{src:o.tokenLogoUrl}),Object(M.jsx)("img",{src:s.tokenLogoUrl||I.a}),Object(M.jsx)("span",{children:o.tokenSymbol}),Object(M.jsx)("span",{className:"symbol",children:"/"}),Object(M.jsx)("span",{children:s.tokenSymbol})]})]}),Object(M.jsxs)("div",{className:"info-detail",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("p",{children:o.tokenSymbol}),Object(M.jsx)("p",{children:n.trx._toFixed(4,1)})]}),Object(M.jsx)("div",{className:"d8line"}),Object(M.jsxs)("div",{children:[Object(M.jsx)("p",{children:s.tokenSymbol}),Object(M.jsx)("p",{children:n.value._toFixed(4,1)})]}),Object(M.jsx)("div",{className:"d8line"}),Object(M.jsxs)("div",{children:[Object(M.jsx)("p",{children:p.a.get("sunSwap.pool.add_tokens_text")}),Object(M.jsx)("p",{children:n.tokens._toFixed(4,1)})]})]})]}),Object(M.jsx)("div",{className:"flex justify-content price-chart-wrap align-items-center",children:Object(M.jsxs)("div",{className:"token-pairs",children:[Object(M.jsxs)("div",{className:"sun-swap-normal-1",children:[p.a.get("sunSwap.swap.detail_token_info")," "]}),Object(M.jsx)("div",{children:Object(M.jsx)(u.a.Fragment,{children:Object(D.G)(Object(M.jsxs)(u.a.Fragment,{children:[Object(M.jsx)("img",{src:s.tokenLogoUrl,alt:"logo",onError:function(e){e.target.onerror=null,e.target.src=I.a}}),Object(M.jsx)("span",{className:"sun-swap-link-1",children:s.tokenSymbol})]}),s.tokenAddress)})})]})}),Object(M.jsxs)("div",{className:"action-ui-box",children:[Object(M.jsxs)("div",{className:"action-info",children:[Object(M.jsxs)("div",{className:"info-title pd0 flex between",children:[p.a.get("sunSwap.pool.remove_amount_title"),Object(M.jsx)("span",{className:"link fz12",onClick:a.showSettingModal,children:p.a.get("sunSwap.pool.add_set_link")})]}),Object(M.jsxs)("div",{className:"schedule",children:[Object(M.jsxs)("div",{className:"num",children:[Object(M.jsx)("span",{className:"percent",children:i}),"%"]}),Object(M.jsx)(ee.a,{defaultValue:t,onChange:function(e){return a.setPercent(e)},tipFormatter:null,className:"super-slider",value:t})]}),Object(M.jsxs)("div",{className:"schedule-key",children:[Object(M.jsx)("button",{className:"25"===t?"schedule-btn-active":"schedule-btn",onClick:function(e){return a.setPercent(25)},children:"25%"}),Object(M.jsx)("button",{className:"50"===t?"schedule-btn-active":"schedule-btn",onClick:function(e){return a.setPercent(50)},children:"50%"}),Object(M.jsx)("button",{className:"75"===t?"schedule-btn-active":"schedule-btn",onClick:function(e){return a.setPercent(75)},children:"75%"}),Object(M.jsx)("button",{className:"100"===t?"schedule-btn-active":"schedule-btn",onClick:function(e){return a.setPercent(100)},children:p.a.get("sunSwap.pool.remove_max_text")})]})]}),Object(M.jsxs)("div",{className:"convert flex",children:[Object(M.jsxs)("div",{className:"token1",children:[Object(M.jsx)("p",{children:0===t?0:n.trx.times(t).div(100)._toFixed(4,1)<1e-4?"<0.0001":n.trx.times(t).div(100)._toFixed(4,1)}),Object(M.jsxs)("p",{children:[Object(M.jsx)("img",{src:o.tokenLogoUrl,alt:""}),Object(M.jsx)("span",{children:o.tokenSymbol})]})]}),Object(M.jsxs)("div",{className:"convert-info",children:[Object(M.jsxs)("p",{className:"relative",children:["1 ",o.tokenSymbol," ="," ",Object(D.a)(1).div(Object(D.a)(10).pow(s.tokenDecimal)).gt(l)?"< "+Object(D.a)(1).div(Object(D.a)(10).pow(s.tokenDecimal)).toString():l," ",s.tokenSymbol,Object(M.jsx)("span",{className:"hook absolute"})]}),Object(M.jsxs)("p",{className:"relative",children:[Object(M.jsx)("span",{className:"hook absolute"}),"1 ",s.tokenSymbol," ="," ",Object(D.a)(1).div(Object(D.a)(10).pow(o.tokenDecimal)).gt(d)?"< "+Object(D.a)(1).div(Object(D.a)(10).pow(o.tokenDecimal)).toString():d," ",o.tokenSymbol]})]}),Object(M.jsxs)("div",{className:"token2",children:[Object(M.jsx)("p",{children:0===t?0:n.value.times(t).div(100)._toFixed(4,1)<1e-4?"<0.0001":n.value.times(t).div(100)._toFixed(4,1)}),Object(M.jsxs)("p",{children:[Object(M.jsx)("img",{src:s.tokenLogoUrl||I.a,alt:""}),Object(M.jsx)("span",{children:s.tokenSymbol})]})]})]})]})]})})},a.setLiq=function(e){a.props.sunSwapPool.setData({actionLiqV2:e})},a.beforeRemoveLiquidity=Object(r.a)(ne().mark((function e(){return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({actionStarted:!0,removePopBtn:p.a.get("sunSwap.action.startBtn"),removePopBtnDisabled:!0},(function(){a.removeLiquidity()}));case 1:case"end":return e.stop()}}),e)}))),a.removeLiquidity=Object(r.a)(ne().mark((function e(){var t,n,r,o,s,i,c,l,u,d;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.percentNum,r=t.tokenDetail,o=a.props.sunSwapPool.tokenInfo,s=r.tokens.times(a.state.percentNum).div(100).times(new D.a(10).pow(O.a.trxDecimal)).integerValue(D.a.ROUND_DOWN),e.next=5,Object(C.o)(o.tokenAddress,o.address);case 5:return i=e.sent,c=i.div(new D.a(10).pow(o.tokenDecimal)),l=s.times(r.exTrx).div(r.totalSupply).integerValue(D.a.ROUND_DOWN),u=s.times(c).div(r.totalSupply).integerValue(D.a.ROUND_DOWN),d={title:"pair_actions.remove",obj:{trxAmount:Object(D.k)(Object(D.a)(r.trx).times(n).div(100),6),trx:"TRX",tokenSymbol:o.tokenSymbol,tokenAmount:Object(D.k)(Object(D.a)(r.value).times(n).div(100),o.tokenDecimal)}},e.t0=C.x,e.t1=o.address,e.t2="0x".concat(s.toString(16)),e.t3="0x".concat(l.toString(16)),e.t4="0x".concat(u.toString(16)),e.next=17,Object(C.g)(a.props.sunSwapNetwork.settingDeadline);case 17:return e.t5=e.sent,e.t6=d,e.next=21,(0,e.t0)(e.t1,e.t2,e.t3,e.t4,e.t5,e.t6);case 21:e.sent?a.setState({removeErrorInfo:"",removePopBtn:p.a.get("sunSwap.action.doingBtn"),removePopBtnDisabled:!0,actionStarted:!0},(function(){setTimeout((function(){a.setState({actionState:"success",actionStarted:!1})}),5e3)})):a.setState({removeErrorInfo:p.a.get("sunSwap.action.removeActErr"),removePopBtn:p.a.get("sunSwap.action.retryBtn"),removePopBtnDisabled:!1,actionStarted:!0});case 23:case"end":return e.stop()}}),e)}))),a.initRemoveModal=function(){return{removeErrorInfo:"",removePopBtn:p.a.get("sunSwap.pool.popup_remove_btn"),removePopBtnDisabled:!1,actionState:"info",actionStarted:!1,miniPopVisible:!1}},a.showRemoveModal=function(){var e=a.state,t=e.percentNum,n=e.tokenDetail;t>0&&n.tokens.gt(0)&&a.setState(Object(w.a)(Object(w.a)({},a.initRemoveModal()),{},{removePopStatus:!0}))},a.beforeHideRemoveModal=function(){a.state.actionStarted?a.setState({miniPopVisible:!0}):a.hideRemoveModal()},a.hideRemoveModal=function(){a.setState({removePopStatus:!1},(function(){setTimeout((function(){a.setState(Object(w.a)({},a.initRemoveModal()))}),1e3)}))},a.miniPopOk=function(){a.setState({miniPopVisible:!1},(function(){a.hideRemoveModal()}))},a.miniPopCancel=function(){a.setState({miniPopVisible:!1})},a.gotoPool=function(){a.props.sunSwapPool.setData({actionLiqV2:0})},a.state={percentNum:0,removePopStatus:!1,tokenDetail:{trx:new D.a(0),value:new D.a(0),tokens:new D.a(0),totalSupply:new D.a(0),price1:"--",price2:"--",exTrx:new D.a(0),exToken:new D.a(0),removeErrorInfo:"",removePopBtn:p.a.get("sunSwap.pool.popup_remove_btn"),removePopBtnDisabled:!1,actionState:"info",actionStarted:!1,miniPopVisible:!1}},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.percentNum,a=t.removePopStatus,r=t.tokenDetail,o=this.props.sunSwapPool,s=o.selectTokenOne,i=o.tokenInfo,c=function(e,t){return e.isNaN()||e.eq(1/0)?"--":e._toFixed(Number(t),1)},l=c(r.value.div(r.trx),i.tokenDecimal),u=c(r.trx.div(r.value),O.a.trxDecimal);return Object(M.jsxs)("section",{className:"action-content",children:[Object(M.jsxs)("header",{className:"flex between",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{className:"return ib",onClick:function(t){return e.setLiq(0)},children:Object(M.jsx)("img",{src:Y.a,alt:"back"})}),Object(M.jsx)("div",{className:"add-title",children:p.a.get("sunSwap.pool.remove_liq_title")})]}),Object(M.jsx)(te.a,{title:Object(M.jsx)("div",{className:"pool-tooltip-text",children:p.a.get("sunSwap.pool.remove_liq_title_tip")}),overlayClassName:"pool-tooltip",placement:"bottom",color:"rgba(27,31,38,0.90)",children:Object(M.jsx)("span",{className:"ques",children:"?"})})]}),this.userTokenInfo(),Object(M.jsx)("div",{className:"action-btns",children:Object(M.jsx)("button",{className:"single "+(n>0&&r.tokens.gt(0)?"blue":"gray"),onClick:this.showRemoveModal,children:p.a.get("sunSwap.pool.remove_confirm_btn")})}),Object(M.jsxs)(k.a,{title:null,closable:"success"!==this.state.actionState,visible:a,onCancel:this.beforeHideRemoveModal,className:"pool-modal remove-modal sun-swap-modal",footer:null,width:630,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:["info"===this.state.actionState&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{className:"title big",children:p.a.get("sunSwap.pool.popup_remove_title")}),Object(M.jsxs)("div",{className:"amount ib-parent center pb25",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("p",{className:"add-value",children:r.trx.times(n).div(100).lt(1e-4)?"<0.0001":r.trx.times(n).div(100)._toFixed(4,1)}),Object(M.jsxs)("p",{className:"add-token",children:[Object(M.jsx)("img",{src:s.tokenLogoUrl,alt:""}),Object(M.jsx)("span",{children:s.tokenSymbol})]})]}),Object(M.jsx)("span",{className:"plus",children:"+"}),Object(M.jsxs)("div",{children:[Object(M.jsx)("p",{className:"add-value",children:r.value.times(n).div(100).lt(1e-4)?"<0.0001":r.value.times(n).div(100)._toFixed(4,1)}),Object(M.jsxs)("p",{className:"add-token",children:[Object(M.jsx)("img",{src:i.tokenLogoUrl,alt:""}),Object(M.jsx)("span",{children:i.tokenSymbol})]})]})]}),Object(M.jsxs)("div",{className:"price",children:[Object(M.jsxs)("p",{className:"flex param",children:[Object(M.jsx)("span",{className:"price-key",children:p.a.get("sunSwap.pool.popup_burned_text")}),Object(M.jsxs)("span",{className:"price-value",children:[Object(M.jsx)("img",{src:s.tokenLogoUrl,alt:""}),Object(M.jsx)("img",{src:i.tokenLogoUrl||I.a,alt:""}),Object(M.jsx)("span",{children:r.tokens.times(n).div(100).lt(1e-4)?"<0.0001":r.tokens.times(n).div(100)._toFixed(4,1)})]})]}),Object(M.jsxs)("div",{className:"flex param",children:[Object(M.jsx)("span",{className:"price-key",children:p.a.get("sunSwap.pool.popup_price_text")}),Object(M.jsxs)("div",{className:"price-value ib right",children:[Object(M.jsxs)("p",{children:["1 ",s.tokenSymbol," = ",l," ",i.tokenSymbol]}),Object(M.jsxs)("p",{className:"mb20",children:["1 ",i.tokenSymbol," = ",u," ",s.tokenSymbol]})]})]})]}),this.state.removeErrorInfo&&Object(M.jsx)("div",{className:"errorMsg",children:this.state.removeErrorInfo}),Object(M.jsx)(X.a,{type:"single",disabled:this.state.removePopBtnDisabled,info:this.state.removePopBtn,onClick:this.beforeRemoveLiquidity})]}),"success"===this.state.actionState&&Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"modal-success",children:[Object(M.jsx)("img",{src:K.a,alt:""}),Object(M.jsx)("div",{className:"title green",children:p.a.get("sunSwap.action.removeSuccessTitle")}),Object(M.jsxs)("div",{className:"ib-parent center mb25",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{className:"remove-value",children:r.trx.times(n).div(100).lt(1e-4)?"<0.0001":r.trx.times(n).div(100)._toFixed(4,1)}),Object(M.jsx)("span",{className:"remove-token",children:s.tokenSymbol})]}),Object(M.jsx)("span",{className:"plus",children:"+"}),Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{className:"remove-value",children:r.value.times(n).div(100).lt(1e-4)?"<0.0001":r.value.times(n).div(100)._toFixed(4,1)}),Object(M.jsx)("span",{className:"remove-token",children:i.tokenSymbol})]})]}),Object(M.jsx)(X.a,{type:"single",info:p.a.get("sunSwap.action.closeBtn"),onClick:this.gotoPool}),Object(M.jsx)("div",{className:"endTip",children:p.a.get("sunSwap.action.removeDescTitle")})]})})]}),Object(M.jsx)(z.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}}]),n}(u.a.Component))||Q)||Q)||Q)||Q,oe=n(1905),se=(n(1143),n(1144)),ie=n(1145),ce=n(961),le=n(1146);function ue(){ue=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(_){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,s=Object.create(o.prototype),i=new y(r||[]);return a(s,"_invoke",{value:w(e,n,i)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=l;var d={};function p(){}function h(){}function f(){}var m={};c(m,o,(function(){return this}));var b=Object.getPrototypeOf,j=b&&b(b(N([])));j&&j!==t&&n.call(j,o)&&(m=j);var v=f.prototype=p.prototype=Object.create(m);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,o,s,i){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,i)}),(function(e){r("throw",e,s,i)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,i)}))}i(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function w(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return A()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var i=k(s,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var c=u(e,t,n);if("normal"===c.type){if(a=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a="completed",n.method="throw",n.arg=c.arg)}}}function k(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function y(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=f,a(v,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(x.prototype),c(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var s=new x(l(t,n,a,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=N,y.prototype={constructor:y,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return s.type="throw",s.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var de,pe=Object(f.b)("sunSwapNetwork")(ae=Object(f.b)("sunSwapPool")(ae=Object(f.b)("network")(ae=Object(f.c)(ae=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).getExchangesFunc=function(){var e=Object(r.a)(ue().mark((function e(t,n,o,s){var i,c,l,u,d,p,h,f;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=window.localStorage.getItem("swapVersion"),e.next=3,a.props.sunSwapPool.getExchangesListV3(t||i);case 3:return e.next=5,a.fromTokenRef.current.setTokenList();case 5:return e.next=7,a.toTokenRef.current.setTokenList();case 7:if(c=a.state,l=c.fromToken,u=c.toToken,d=n||Object(D.q)("type"),p=u.tokenAddress||Object(D.q)("t1"),(h=l.tokenAddress||Object(D.q)("t0"))&&!p&&(p=""),!h&&p&&(h="",l={tokenAddress:"",tokenSymbol:"",approvedAmount:new D.a(0)}),f=o||Object(D.q)("tokenAddress"),"swap"!==d){e.next=30;break}if(!f){e.next=19;break}a.setState({fromToken:{tokenSymbol:"TRX",tokenAddress:O.a.trxFakeAddress,tokenDecimal:O.a.trxDecimal,trxBalance:new D.a(0),tokenBalance:new D.a(0),trxBalanceV1:new D.a(0),tokenBalanceV1:new D.a(0),approvedAmount:new D.a(C.a),tokenLogoUrl:O.a.trxLogoUrl}},Object(r.a)(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!s,!e.t0){e.next=4;break}return e.next=4,a.toTokenRef.current.setTokenAddress(f,!0,"swap");case 4:case"end":return e.stop()}}),e)})))),e.next=28;break;case 19:if(!h&&!p){e.next=28;break}if(!h){e.next=25;break}return e.next=23,a.fromTokenRef.current.setTokenAddress(h,!0);case 23:e.next=26;break;case 25:a.setState({fromToken:l});case 26:return e.next=28,a.toTokenRef.current.setTokenAddress(p,!0);case 28:e.next=48;break;case 30:if(h||p||l.tokenAddress){e.next=34;break}a.setState({fromToken:{tokenSymbol:"TRX",tokenAddress:O.a.trxFakeAddress,tokenDecimal:O.a.trxDecimal,trxBalance:new D.a(0),tokenBalance:new D.a(0),trxBalanceV1:new D.a(0),tokenBalanceV1:new D.a(0),approvedAmount:new D.a(C.a),tokenLogoUrl:O.a.trxLogoUrl}},Object(r.a)(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=a.state.fromToken&&a.state.fromToken.tokenAddress,!e.t0){e.next=5;break}return e.next=5,a.fromTokenRef.current.setTokenAddress(a.state.fromToken.tokenAddress);case 5:if(e.t1=a.state.toToken&&a.state.toToken.tokenAddress,!e.t1){e.next=9;break}return e.next=9,a.toTokenRef.current.setTokenAddress(a.state.toToken.tokenAddress);case 9:e.next=14;break;case 11:e.prev=11,e.t2=e.catch(0),console.log("version change:",e.t2);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))),e.next=48;break;case 34:if(e.prev=34,e.t0=a.state.fromToken&&a.state.fromToken.tokenAddress,!e.t0){e.next=39;break}return e.next=39,a.fromTokenRef.current.setTokenAddress(a.state.fromToken.tokenAddress);case 39:if(e.t1=a.state.toToken&&a.state.toToken.tokenAddress,!e.t1){e.next=43;break}return e.next=43,a.toTokenRef.current.setTokenAddress(a.state.toToken.tokenAddress);case 43:e.next=48;break;case 45:e.prev=45,e.t2=e.catch(34),console.log("version change:",e.t2);case 48:case"end":return e.stop()}}),e,null,[[34,45]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),a.getHasLiquidity=Object(r.a)(ue().mark((function e(){var t,n,r,o,s,i,c,l,u,d,p,h;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=a.state.fromToken)||!t.tokenAddress||t.tokenAddress===O.a.trxFakeAddress){e.next=12;break}return n=a.props.network.defaultAccount,e.next=5,Object(C.m)(n,t.tokenAddress);case 5:if(r=e.sent,o=r.exchangeAddr,s=r.totalLiquidity,i=o&&Object(D.a)(s).gt(0),a.setState({hasLiquidity:i}),i){e.next=12;break}return e.abrupt("return");case 12:if(!(c=a.state.toToken)||!c.tokenAddress||c.tokenAddress===O.a.trxFakeAddress){e.next=22;break}return l=a.props.network.defaultAccount,e.next=17,Object(C.m)(l,c.tokenAddress);case 17:u=e.sent,d=u.exchangeAddr,p=u.totalLiquidity,h=d&&Object(D.a)(p).gt(0),a.setState({hasLiquidity:h});case 22:case"end":return e.stop()}}),e)}))),a.componentDidMount=Object(r.a)(ue().mark((function e(){var t;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=setInterval((function(){if(a.props.network.isConnected){a.getHasLiquidity(),a.timer=setInterval((function(){a.getTokenBalance(),a.getExchangeBalance(a.state.fromToken),a.getExchangeBalance(a.state.toToken);var e=O.a.contract.poly;a.getExchangeBalance(a.state.fromToken,e),a.getExchangeBalance(a.state.toToken,e),a.calcPrice()}),6e3),a.timer2=setInterval((function(){var e=window.localStorage.getItem("swapVersion");a.props.sunSwapPool.getExchangesListV3(e)}),15e3),a.getTokenBalance(),a.getExchangeBalance(a.state.fromToken),a.getExchangeBalance(a.state.toToken);var e=O.a.contract.poly;a.getExchangeBalance(a.state.fromToken,e),a.getExchangeBalance(a.state.toToken,e),clearInterval(t)}}),1e3),e.next=4,a.getExchangesFunc();case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),a.componentWillUnmount=function(){clearInterval(a.timer),clearInterval(a.timer2)},a.reload=function(){var e=Object(r.a)(ue().mark((function e(t){var n,r,o;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({fromValue:"",toValue:"",miniError:!1}),n=a.state,r=n.v1Balance,o=n.v2Balance,"v1.0"===t?(a.setState({betterPrice:!1}),r.fromBalance&&r.fromBalanceStr?a.setState({fromBalanceStr:r.fromBalanceStr,fromBalance:r.fromBalance,toBalance:r.toBalance,toBalanceStr:r.toBalanceStr,swapVersion:t},(function(){a.checkInput(),a.initSwapData(t)})):a.initSwapData(t)):"v1.5"===t&&o.fromBalance&&o.fromBalanceStr?a.setState({fromBalanceStr:o.fromBalanceStr,fromBalance:o.fromBalance,toBalance:o.toBalance,toBalanceStr:o.toBalanceStr,swapVersion:t},(function(){a.checkInput(),a.initSwapData(t)})):a.initSwapData(t),a.setState({priceChartVisible:!1},(function(){a.showPriceChart()}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.initSwapData=function(){var e=Object(r.a)(ue().mark((function e(t){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getExchangesFunc(t);case 2:a.getTokenBalance(),a.getExchangeBalance(a.state.fromToken),a.getExchangeBalance(a.state.toToken),a.calcPrice();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.checkInput=function(){var e,t=a.state.fromValue,n=a.state.toValue,r=a.state.fromToken,o=a.state.toToken,s=r.tokenAddress,i=o.tokenAddress,c=a.state.dependentValue,l=a.state.receivedFlag;e=!!(r&&o&&(r.tokenAddress===O.a.trxFakeAddress&&o.tokenAddress===O.a.wtrxAddress||o.tokenAddress===O.a.trxFakeAddress&&r.tokenAddress===O.a.wtrxAddress));var u=function(t){a.setState({actionError:t,swapTRXState:e})},d=a.state.recipientAddr;if(a.state.miniError)return u(p.a.get("sunSwap.swap.action_zero"));if(d){if(!Object(D.t)(d))return a.setState({recipientValid:!1}),u(p.a.get("sunSwap.swap.action_invalid_recipient"));a.setState({recipientValid:!0})}else if(a.setState({recipientValid:!1}),a.state.addRecipient)return u(p.a.get("sunSwap.swap.action_enter_recipient"));if(!s||!i)return u(p.a.get("sunSwap.swap.action_select_token"));if(!t)return!l&&n?Object(D.D)(n).lte(0)?u(p.a.get("sunSwap.swap.action_enter_amount")):u(p.a.get("sunSwap.swap.action_insufficient_liquidity")):u(p.a.get("sunSwap.swap.action_enter_amount"));if(Object(D.D)(t).lte(0))return u(p.a.get("sunSwap.swap.action_enter_amount"));if(l){if(!n)return u(p.a.get("sunSwap.swap.action_insufficient_liquidity"));if(a.state.fromBalance.lt(Object(D.D)(t)))return u(p.a.get("sunSwap.swap.action_insufficient",{token:r.tokenSymbol}));if(Object(D.D)(t).gt(r.approvedAmount))return a.setState({actionError:"",needApprove:!0})}else{if(a.state.fromBalance.lt(Object(D.D)(a.state.swapTRXState?t:c)))return u(p.a.get("sunSwap.swap.action_insufficient",{token:r.tokenSymbol}));if(Object(D.D)(c).gt(r.approvedAmount))return a.setState({actionError:"",needApprove:!0})}a.setState({actionError:"",needApprove:!1})},a.getTokenBalance=Object(r.a)(ue().mark((function e(){var t,n,r,o,s,i,c,l,u,d,p,h;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.props.network.isConnected){e.next=24;break}if(t=a.props.network.defaultAccount,n=a.state.fromToken,r=a.state.toToken,o=[O.a.trxFakeAddress],s=n.tokenAddress,i=r.tokenAddress,s&&(o[0]=s),i&&o.push(i),o.length){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,Object(C.i)(t,o);case 13:c=e.sent,l=!1,u=!1,d=new D.a(-1),p=new D.a(-1),h={},s?(d=c[0].div(new D.a(10).pow(n.tokenDecimal))).eq(a.state.fromBalance)||(l=!0):d.eq(a.state.fromBalance)||(h.fromBalance=d,h.fromBalanceStr="--"),i?(p=c[1].div(new D.a(10).pow(r.tokenDecimal))).eq(a.state.toBalance)||(u=!0):p.eq(a.state.toBalance)||(h.toBalance=p,h.toBalanceStr="--"),l&&(h.fromBalance=d,h.fromBalanceStr=d._toFixed(6,1)),u&&(h.toBalance=p,h.toBalanceStr=p._toFixed(6,1)),a.setState(h,(function(){a.checkInput();var e=window.localStorage.getItem("swapVersion"),t={fromBalance:a.state.fromBalance,fromBalanceStr:a.state.fromBalanceStr,toBalance:a.state.toBalance,toBalanceStr:a.state.toBalanceStr};"v1.0"===e&&a.setState({v1Balance:t}),"v1.5"===e&&a.setState({v2Balance:t})}));case 24:case"end":return e.stop()}}),e)}))),a.getExchangeBalance=function(){var e=Object(r.a)(ue().mark((function e(t,n){var r,o,s,i,c;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.props.network.isConnected||!t.tokenAddress){e.next=21;break}if(r=t.address,t.address||(r=a.props.network.defaultAccount),o=t.addressV1,t.addressV1||(o=a.props.network.defaultAccount),s=[O.a.trxFakeAddress,t.tokenAddress],!n||!o){e.next=14;break}return e.next=9,Object(C.i)(o,s,n);case 9:i=e.sent,t.trxBalanceV1=i[0].div(new D.a(10).pow(O.a.trxDecimal)),t.tokenBalanceV1=i[1].div(new D.a(10).pow(t.tokenDecimal)),e.next=19;break;case 14:return e.next=16,Object(C.i)(r,s);case 16:c=e.sent,t.trxBalance=c[0].div(new D.a(10).pow(O.a.trxDecimal)),t.tokenBalance=c[1].div(new D.a(10).pow(t.tokenDecimal));case 19:e.next=23;break;case 21:t.trxBalance=new D.a(0),t.tokenBalance=new D.a(0);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.getApprovedAmount=function(){var e=Object(r.a)(ue().mark((function e(t){var n,r,o,s;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.props.network.isConnected){e.next=11;break}if((n=t.tokenAddress)!==O.a.trxFakeAddress){e.next=5;break}return t.approvedAmount=new D.a(C.a),e.abrupt("return");case 5:return r=a.props.network.defaultAccount,o=t.address,e.next=9,Object(C.u)(n,r,o);case 9:s=e.sent,t.approvedAmount=s.div(new D.a(10).pow(t.tokenDecimal));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onFromValueChange=function(e){var t=e.target.value,n=a.state.toValue;if(t){var r=Object(D.w)(t.replace(/,/g,""),a.state.fromToken.tokenDecimal),o=r.valid,s=r.str;if(!o)return;t=s,a.state.fromToken.tokenAddress&&a.state.toToken.tokenAddress||(n="")}else n="";a.setState({fromValue:Object(D.b)(t),toValue:Object(D.b)(n),receivedFlag:!0},(function(){a.calcPrice()}))},a.onToValueChange=function(e){var t=a.state.fromValue,n=e.target.value;if(n){var r=Object(D.w)(n.replace(/,/g,""),a.state.toToken.tokenDecimal),o=r.valid,s=r.str;if(!o)return;n=s,a.state.fromToken.tokenAddress&&a.state.toToken.tokenAddress||(t="")}else t="";a.setState({fromValue:Object(D.b)(t),toValue:Object(D.b)(n),receivedFlag:!1},(function(){a.calcPrice()}))},a.addSplit=function(e){return e?Object(D.k)(e):0},a.removeSplit=function(e){return e?(""+e).replace(/\s/g,""):0},a.onFromValueBlur=function(){var e=a.state.fromValue;e&&a.setState({fromValue:Object(D.b)(e)})},a.onToValueBlur=function(){var e=a.state.toValue;e&&a.setState({toValue:Object(D.b)(e)})},a.calcPrice=Object(r.a)(ue().mark((function e(){var t,n,r,o,s,i,c,l,u,d,h,f,m,b,j,v,g,x,w,k,S,y,N,A,_,T,L;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=a.state.hasLiquidity,n=a.state.receivedFlag,r=a.state.fromToken,o=a.state.toToken,s=a.state.fromValue,i=a.state.toValue,c=a.state.swapTRXState,l=Object(D.D)(s),u=Object(D.D)(i),d="-",h="-",f=window.localStorage.getItem("swapVersion"),a.getExchangeBalance(r),a.getExchangeBalance(o),m=a.props.sunSwapPool.allExchanges,b=void 0===m?{}:m,r.tokenAddress!==O.a.trxFakeAddress&&(r.addressV1=b&&b[0]&&b[0][r.tokenAddress]?b[0][r.tokenAddress].e:null,r.addressV2=b&&b[1]&&b[1][r.tokenAddress]?b[1][r.tokenAddress].e:null,r.address="v1.0"===f?b&&b[0]&&b[0][r.tokenAddress]?b[0][r.tokenAddress].e:null:b&&b[1]&&b[1][r.tokenAddress]?b[1][r.tokenAddress].e:null),o.tokenAddress!==O.a.trxFakeAddress&&(o.addressV1=b&&b[0]&&b[0][o.tokenAddress]?b[0][o.tokenAddress].e:null,o.addressV2=b&&b[1]&&b[1][o.tokenAddress]?b[1][o.tokenAddress].e:null,o.address="v1.0"===f?b&&b[0]&&b[0][o.tokenAddress]?b[0][o.tokenAddress].e:null:b&&b[1]&&b[1][o.tokenAddress]?b[1][o.tokenAddress].e:null),s||i){e.next=21;break}return a.setState({priceStr:d,priceInverseStr:h,betterPrice:!1},(function(){a.checkInput()})),e.abrupt("return");case 21:if(r.tokenAddress&&o.tokenAddress){e.next=24;break}return a.setState({priceStr:d,priceInverseStr:h,betterPrice:!1},(function(){a.checkInput()})),e.abrupt("return");case 24:if(j=new D.a(1),v=new D.a(1),r.tokenAddress!==O.a.trxFakeAddress&&(j=r.tokenBalance.div(r.trxBalance),v=r.tokenBalanceV1.div(r.trxBalanceV1)),g=new D.a(1),x=new D.a(1),o.tokenAddress!==O.a.trxFakeAddress&&(g=o.tokenBalance.div(o.trxBalance),x=o.tokenBalanceV1&&o.trxBalanceV1&&o.tokenBalanceV1.div(o.trxBalanceV1)),w=new D.a(1).div(new D.a(10).pow(r.tokenDecimal)),k=new D.a(1).div(new D.a(10).pow(o.tokenDecimal)),S=new D.a(1).div(new D.a(10).pow(O.a.trxDecimal)),y=function(e){var t=new D.a(10).pow(O.a.trxDecimal);return e.times(t).integerValue(D.a.ROUND_DOWN).div(t)},N=j.div(g),A=null,(r.tokenAddress===O.a.trxFakeAddress&&o.addressV1&&o.addressV1.length>0||o.tokenAddress===O.a.trxFakeAddress&&r.addressV1&&r.addressV1.length>0)&&(A=v.div(x)),"v1.0"===f&&(N=v.div(x)),_=!1,n?(r.tokenAddress===O.a.trxFakeAddress?o.tokenAddress===O.a.wtrxAddress?(a.swapFuncType="deposit",u=l,a.setState({swapTRXState:!0}),c=!0):(a.swapFuncType="trxToTokenFromInput",u=a.calcTrxTokenOutputFromInput(l,o.trxBalance,o.tokenBalance)):o.tokenAddress===O.a.trxFakeAddress?r.tokenAddress===O.a.wtrxAddress?(a.swapFuncType="withdraw",u=l,a.setState({swapTRXState:!0}),c=!0):(a.swapFuncType="tokenToTrxFromInput",u=a.calcTrxTokenOutputFromInput(l,r.tokenBalance,r.trxBalance)):(a.swapFuncType="tokenToTokenFromInput",_=!0,(u=a.calcTrxTokenOutputFromInput(l,r.tokenBalance,r.trxBalance)).gte(S)?(u=y(u),u=a.calcTrxTokenOutputFromInput(u,o.trxBalance,o.tokenBalance)):u=new D.a(0)),i=u._toFixed(Number(o.tokenDecimal),1)):(r.tokenAddress===O.a.trxFakeAddress?o.tokenAddress===O.a.wtrxAddress?(a.swapFuncType="deposit",l=u,a.setState({swapTRXState:!0}),c=!0):(a.swapFuncType="trxToTokenFromOutput",l=a.calcTrxTokenInputFromOutput(u,o.trxBalance,o.tokenBalance,w)):o.tokenAddress===O.a.trxFakeAddress?r.tokenAddress===O.a.wtrxAddress?(a.swapFuncType="withdraw",l=u,a.setState({swapTRXState:!0}),c=!0):(a.swapFuncType="tokenToTrxFromOutput",l=a.calcTrxTokenInputFromOutput(u,r.tokenBalance,r.trxBalance,w)):(a.swapFuncType="tokenToTokenFromOutput",_=!0,(l=a.calcTrxTokenInputFromOutput(u,o.trxBalance,o.tokenBalance,S)).gte(S)?(l=y(l),l=a.calcTrxTokenInputFromOutput(l,r.tokenBalance,r.trxBalance,w)):l=new D.a(0)),s=l._toFixed(Number(r.tokenDecimal),1)),!n){e.next=56;break}if(!(t&&l.gt(0)&&u.lt(k))){e.next=47;break}return a.setState({toValue:c?s:0,dependentValue:0,priceImpactColor:c?"mini-red":"",priceImpact:c?"--":[o.tokenSymbol,r.tokenSymbol].includes("TRX")?"-99.70%":"-99.40%",miniError:!c,actionError:c?"":p.a.get("sunSwap.swap.action_zero")}),a.calcLiquidityProviderFee(l),e.abrupt("return");case 47:a.setState({miniError:!1});case 48:if(!(u.lt(k)||u.eq(1/0)||u.isNaN()||"v1.0"===f&&!o.addressV1&&o.tokenAddress!==O.a.trxFakeAddress||"v1.5"===f&&!o.addressV2&&o.tokenAddress!==O.a.trxFakeAddress||"v1.0"===f&&!r.addressV1&&r.tokenAddress!==O.a.trxFakeAddress||"v1.5"===f&&!r.addressV2&&r.tokenAddress!==O.a.trxFakeAddress)){e.next=53;break}return"v1.5"===f&&o.addressV1&&r.addressV1&&A&&A.gt(0)?a.setState({toValue:c?s:"",priceStr:d,priceInverseStr:h,betterPrice:!0,notCreatedOfNew:!0},(function(){a.checkInput()})):a.setState({toValue:c?s:"",priceStr:d,priceInverseStr:h,betterPrice:!1,notCreatedOfNew:!1},(function(){a.checkInput()})),e.abrupt("return");case 53:a.setState({miniError:!1});case 54:e.next=69;break;case 56:if(!(t&&u.gt(0)&&l.lt(w))){e.next=62;break}return c?a.setState({fromValue:c?i:0,dependentValue:i,priceImpactColor:"",priceImpact:"",miniError:!1,actionError:""}):a.setState({fromValue:c?i:0,dependentValue:0,priceImpactColor:"mini-red",priceImpact:[o.tokenSymbol,r.tokenSymbol].includes("TRX")?"-99.70%":"-99.40%",miniError:!0,actionError:p.a.get("sunSwap.swap.action_zero")}),a.calcLiquidityProviderFee(u),e.abrupt("return");case 62:a.setState({miniError:!1});case 63:if(!(l.lte(w)||l.eq(1/0)||l.isNaN()||"v1.0"===f&&!o.addressV1&&o.tokenAddress!==O.a.trxFakeAddress||"v1.5"===f&&!o.addressV2&&o.tokenAddress!==O.a.trxFakeAddress||"v1.0"===f&&!r.addressV1&&r.tokenAddress!==O.a.trxFakeAddress||"v1.5"===f&&!r.addressV2&&r.tokenAddress!==O.a.trxFakeAddress)){e.next=68;break}return"v1.5"===f&&o.addressV1&&r.addressV2&&A.gt(0)?a.setState({fromValue:c?i:"",priceStr:d,priceInverseStr:h,betterPrice:!0,notCreatedOfNew:!0},(function(){a.checkInput()})):a.setState({fromValue:c?i:"",priceStr:d,priceInverseStr:h,betterPrice:!1,notCreatedOfNew:!1},(function(){a.checkInput()})),e.abrupt("return");case 68:a.setState({miniError:!1});case 69:A&&A.lt(N)&&"v1.5"===f?a.setState({betterPrice:!0,notCreatedOfNew:!1}):a.setState({betterPrice:!1,notCreatedOfNew:!1}),T=l.div(u),L=u.div(l),d=T._toFixed(Number(r.tokenDecimal),1),h=L._toFixed(Number(o.tokenDecimal),1),a.calcDependentValue(l,u),a.calcPriceImpact(N,T,_),a.calcLiquidityProviderFee(l),a.setState({priceStr:d,priceInverseStr:h,fromValue:Object(D.b)(s),toValue:Object(D.b)(i)},(function(){a.checkInput()})),e.next=83;break;case 80:e.prev=80,e.t0=e.catch(0),console.log("Error: "+e.t0);case 83:case"end":return e.stop()}}),e,null,[[0,80]])}))),a.calcDependentValue=function(e,t){var n=new D.a(a.props.sunSwapNetwork.settingSlippage).div(100),r=new D.a(0),o=O.a.trxDecimal;a.state.receivedFlag?(r=t.times(new D.a(1).minus(n)),o=a.state.toToken.tokenDecimal):(r=e.times(new D.a(1).plus(n)),o=a.state.fromToken.tokenDecimal);var s=r._toFixed(Number(o),1);a.setState({dependentValue:s,dependentValueSunBig:new D.a(s).times(new D.a(10).pow(o))})},a.calcPriceImpact=function(e,t,n){var r=.997;n&&(r=.994);var o=e.minus(t.times(r)).abs().div(t).times(100).abs().times(-1),s="",i="--";i=Object(D.a)(o).lte(0)&&Object(D.a)(o).gt(-.01)?"0.00%":"".concat(o._toFixed(2),"%"),s=o.lte(-15)?"red":o.gt(-15)&&o.lte(-5)?"orange":"blue",a.setState({priceImpact:i,priceImpactColor:s})},a.calcLiquidityProviderFee=function(e){a.swapFuncType.indexOf("tokenToToken")>-1?a.setState({liquidityProviderFee:e.times(6).div(1e3)._toFixed(Number(a.state.fromToken.tokenDecimal),1)}):a.setState({liquidityProviderFee:e.times(3).div(1e3)._toFixed(Number(a.state.fromToken.tokenDecimal),1)})},a.calcTrxTokenOutputFromInput=function(e,t,n){var a=e.times(997),r=a.times(n),o=t.times(1e3).plus(a);return r.div(o)},a.calcTrxTokenInputFromOutput=function(e,t,n,a){var r=t.times(e).times(1e3),o=n.minus(e).times(997);return r.div(o).plus(a)},a.setMaxFrom=function(){if(!a.state.fromBalance.eq(-1)){var e=a.state.fromBalance,t=e.gt(0)?e._toFixed(Number(a.state.fromToken.tokenDecimal),1):"0";a.setState({fromValue:Object(D.b)(t),receivedFlag:!0},(function(){a.calcPrice()}))}},a.addSolor=function(){var e=Object(r.a)(ue().mark((function e(t){var n,r,o;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=a.props.sunSwapPool.solor,r=void 0===n?[]:n,(o=N.a.findIndex(r,(function(e){return e.tokenAddress===t.tokenAddress})))>=0?r.splice(o,1,Object(w.a)(Object(w.a)({},t),{},{cst:2})):r.unshift(Object(w.a)(Object(w.a)({},t),{},{cst:2})),a.props.sunSwapPool.setData({solor:r}),window.localStorage.setItem("solor",JSON.stringify(r))}catch(s){console.log(s)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onFromTokenChange=function(){var e=Object(r.a)(ue().mark((function e(t){var n,r,o,s,i,c,l,u,d,p,h,f,m,b,j,v,g,x;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(n=a.props.sunSwapPool.allExchanges,r=void 0===n?{}:n,o=window.localStorage.getItem("swapVersion"),!t.cst){e.next=12;break}return s=r&&r[0]&&r[0][t.tokenAddress]?r[0][t.tokenAddress].e:null,i=r&&r[1]&&r[1][t.tokenAddress]?r[1][t.tokenAddress].e:null,t.address="v1.0"===o?s||null:i||null,t.addressV1=s,t.addressV2=i,e.next=12,a.addSolor(t);case 12:if(t.tokenAddress!==a.state.toToken.tokenAddress){e.next=14;break}return e.abrupt("return",a.switchToken());case 14:return(c=a.state.fromValue)&&t.tokenDecimal!=a.state.fromToken.tokenDecimal&&(c=Object(D.D)(c)._toFixed(Number(t.tokenDecimal),1)),l=a.getExchangeBalance(t),u=a.getExchangeBalance(a.state.toToken),d=O.a.contract.poly,p=a.getExchangeBalance(t,d),h=a.getExchangeBalance(a.state.toToken,d),f=a.getApprovedAmount(t),e.next=24,l;case 24:return e.next=26,u;case 26:return e.next=28,p;case 28:return e.next=30,h;case 30:return e.next=32,f;case 32:if(t.tokenAddress===O.a.trxFakeAddress){e.next=40;break}return m=a.props.network.defaultAccount,e.next=36,Object(C.m)(m,t.tokenAddress);case 36:b=e.sent,j=b.exchangeAddr,v=b.totalLiquidity,a.setState({hasLiquidity:j&&Object(D.a)(v).gt(0)});case 40:g=a.state.toToken,x=t&&g&&(t.tokenAddress===O.a.trxFakeAddress&&g.tokenAddress===O.a.wtrxAddress||t.tokenAddress===O.a.wtrxAddress&&g.tokenAddress===O.a.trxFakeAddress),a.setState({fromValue:Object(D.b)(c),fromToken:t,needApprove:!1,swapTRXState:x},(function(){a.calcPrice(),a.getTokenBalance(),a.showPriceChart()}));case 43:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onToTokenChange=function(){var e=Object(r.a)(ue().mark((function e(t){var n,r,o,s,i,c,l,u,d,p,h,f,m,b,j,v,g,x;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props.sunSwapPool.allExchanges,r=void 0===n?{}:n,o=window.localStorage.getItem("swapVersion"),!t.cst){e.next=10;break}return s=r&&r[0]&&r[0][t.tokenAddress]?r[0][t.tokenAddress].e:null,i=r&&r[1]&&r[1][t.tokenAddress]?r[1][t.tokenAddress].e:null,t.address="v1.0"===o?s||null:i||null,t.addressV1=s,t.addressV2=i,e.next=10,a.addSolor(t);case 10:if(e.prev=10,t.tokenAddress!==a.state.fromToken.tokenAddress){e.next=13;break}return e.abrupt("return",a.switchToken());case 13:return(c=a.state.toValue)&&t.tokenDecimal!=a.state.toToken.tokenDecimal&&(c=Object(D.D)(c)._toFixed(Number(t.tokenDecimal),1)),l=a.getExchangeBalance(a.state.fromToken),u=a.getExchangeBalance(t),d=O.a.contract.poly,p=a.getExchangeBalance(a.state.fromToken,d),h=a.getExchangeBalance(t,d),f=a.getApprovedAmount(t),e.next=23,l;case 23:return e.next=25,u;case 25:return e.next=27,p;case 27:return e.next=29,h;case 29:return e.next=31,f;case 31:if(t.tokenAddress===O.a.trxFakeAddress){e.next=39;break}return m=a.props.network.defaultAccount,e.next=35,Object(C.m)(m,t.tokenAddress);case 35:b=e.sent,j=b.exchangeAddr,v=b.totalLiquidity,a.setState({hasLiquidity:j&&Object(D.a)(v).gt(0)});case 39:g=a.state.fromToken,x=g&&t&&(t.tokenAddress===O.a.trxFakeAddress&&g.tokenAddress===O.a.wtrxAddress||t.tokenAddress===O.a.wtrxAddress&&g.tokenAddress===O.a.trxFakeAddress),a.setState({toValue:Object(D.b)(c),toToken:t,swapTRXState:x},(function(){a.calcPrice(),a.getTokenBalance(),a.showPriceChart()})),e.next=47;break;case 44:e.prev=44,e.t0=e.catch(10),console.error(e.t0);case 47:case"end":return e.stop()}}),e,null,[[10,44]])})));return function(t){return e.apply(this,arguments)}}(),a.showPriceChart=function(){var e=a.state,t=e.fromToken,n=e.toToken,r=!1;t.tokenAddress&&n.tokenAddress&&(t.tokenAddress===O.a.trxFakeAddress||n.tokenAddress===O.a.trxFakeAddress)&&(r=!0),a.setState({priceChartVisible:r})},a.onSlippageChange=function(){a.calcPrice()},a.showAddRecipient=function(){a.setState({addRecipient:!0},(function(){a.checkInput()}))},a.switchPriceInverseFlag=function(){a.setState({priceInverseFlag:!a.state.priceInverseFlag})},a.switchToken=function(){a.setState({showTrxLimitText:!1});var e=a.state.toToken,t=a.state.fromToken,n=a.state.receivedFlag,o=a.state.fromValue,s=a.state.toValue;n?(s=a.state.fromValue,o=a.state.toValue):(o=a.state.toValue,s=a.state.fromValue),a.setState({priceInverseFlag:!1,receivedFlag:!n,fromToken:e,toToken:t,fromValue:Object(D.b)(o),toValue:Object(D.b)(s),needApprove:!1},Object(r.a)(ue().mark((function t(){return ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.getApprovedAmount(e);case 2:return t.next=4,a.getTokenBalance();case 4:a.calcPrice(),a.fromTokenRef.current.setTokenList(),a.toTokenRef.current.setTokenList(),a.fromTokenRef.current.setState({}),a.toTokenRef.current.setState({}),a.setState({showTrxLimitText:!0});case 10:case"end":return t.stop()}}),t)}))))},a.hideAddRecipient=function(){a.setState({addRecipient:!1,recipientAddr:""},(function(){a.checkInput()}))},a.onRecipientChange=function(e){var t=e.target.value;a.setState({recipientAddr:t},(function(){a.checkInput()}))},a.showSettingModal=function(){a.props.sunSwapNetwork.setData({settingVisible:!0})},a.initSwapModal=function(){var e=a.state.swapTRXState,t=a.state.fromToken,n=a.state.toToken,r=!e&&a.state.needApprove,o=a.state.recipientAddr,s=o?p.a.get("sunSwap.swap.action_swapSend"):p.a.get("sunSwap.swap.action_swap"),i=["orange","red"].includes(a.state.priceImpactColor)&&!e?p.a.get("sunSwap.swap.action_swapStill"):o?p.a.get("sunSwap.swap.confirm_swapSend"):p.a.get("sunSwap.swap.confirm_swap"),c=o?p.a.get("sunSwap.action.swapSendAct",{from:t.tokenSymbol,to:n.tokenSymbol}):p.a.get("sunSwap.action.swapAct",{from:t.tokenSymbol,to:n.tokenSymbol}),l=o?p.a.get("sunSwap.action.swapSendActErr"):p.a.get("sunSwap.action.swapActErr");return{swapPopTitle:s,swapPopBtn:i,swapPopBtnDisabled:!1,swapErrorInfo:"",approveActionTitle:p.a.get("sunSwap.action.approveAct",{token:t.tokenSymbol}),approveActionError:p.a.get("sunSwap.action.approveActErr"),approveActionState:"",swapActionTitle:c,swapActionError:l,swapActionState:"",actionInfo:p.a.get("sunSwap.action.startBtn"),actionDisabled:!0,actionRetry:"",actionState:r?"line":"info",actionStarted:!1,successFromValue:"",successToValue:"",miniPopVisible:!1}},a.showSwapModal=function(){a.setState(Object(w.a)(Object(w.a)({},a.initSwapModal()),{},{swapVisible:!0}),(function(){a.onRetryAction()}))},a.beforeHideSwapModal=function(){a.state.actionStarted?a.setState({miniPopVisible:!0}):a.hideSwapModal()},a.hideSwapModal=function(){a.setState({swapVisible:!1},(function(){setTimeout((function(){a.setState(Object(w.a)({},a.initSwapModal()))}),1e3)}))},a.approveToken=Object(r.a)(ue().mark((function e(){var t,n;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state.fromToken.tokenAddress,n=a.state.fromToken.address,!a.state.swapTRXState){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Object(C.e)(t,n,{title:"swap.pop_title_approve",obj:{token:a.state.fromToken.tokenSymbol}});case 6:e.sent?a.setState({approveActionState:"pending",actionInfo:p.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0,needApprove:!1},(function(){setTimeout((function(){a.setState({approveActionState:"success",actionState:"info"})}),5e3)})):a.setState({approveActionState:"error",actionRetry:"approveToken",actionInfo:p.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0});case 8:case"end":return e.stop()}}),e)}))),a.beforeSwapToken=Object(r.a)(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({actionStarted:!0,swapPopBtn:p.a.get("sunSwap.action.startBtn"),swapPopBtnDisabled:!0},(function(){a.swapToken()}));case 1:case"end":return e.stop()}}),e)}))),a.swapToken=Object(r.a)(ue().mark((function e(){var t,n,o,s,i,c,l,u,d,h,f,m,b;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state.fromToken,n=a.state.toToken,o=a.state.fromValue,s=a.state.toValue,i=a.state.recipientAddr,c=a.state.swapTRXState,l=!c&&a.state.needApprove,u=o,d=s,h="",!c){e.next=17;break}return f={title:i&&!c?"swap.pop_title_swap_send":"swap.pop_title_swap",obj:{from:"".concat(Object(D.k)(Object(D.D)(o),t.tokenDecimal)," ").concat(t.tokenSymbol),to:"".concat(Object(D.k)(Object(D.D)(s),n.tokenDecimal)," ").concat(n.tokenSymbol),addr:c?window.defaultAccount:i}},e.next=14,C.B[a.swapFuncType]({amountIn:Object(D.D)(o).times(Object(D.a)(10).pow(t.tokenDecimal))._toIntegerDown()._toHex(),amountOut:Object(D.D)(s).times(Object(D.a)(10).pow(n.tokenDecimal))._toIntegerDown()._toHex(),intlObj:f});case 14:h=e.sent,e.next=33;break;case 17:return e.t0=C.B,e.t1=a.swapFuncType,e.t2=t,e.t3=n,e.t4="0x".concat(Object(D.D)(o).times(new D.a(10).pow(t.tokenDecimal)).toString(16)),e.t5="0x".concat(Object(D.D)(s).times(new D.a(10).pow(n.tokenDecimal)).toString(16)),e.t6="0x".concat(a.state.dependentValueSunBig.toString(16)),e.next=26,Object(C.g)(a.props.sunSwapNetwork.settingDeadline);case 26:return e.t7=e.sent,e.t8=i,e.t9={title:i?"swap.pop_title_swap_send":"swap.pop_title_swap",obj:{from:"".concat(Object(D.k)(Object(D.D)(o),t.tokenDecimal)," ").concat(t.tokenSymbol),to:"".concat(Object(D.k)(Object(D.D)(s),n.tokenDecimal)," ").concat(n.tokenSymbol),addr:i}},e.t10={fromToken:e.t2,toToken:e.t3,input:e.t4,output:e.t5,dependentValue:e.t6,deadline:e.t7,recipientAddr:e.t8,intlObj:e.t9},e.next=32,e.t0[e.t1].call(e.t0,e.t10);case 32:h=e.sent;case 33:h?(m={swapErrorInfo:"",swapPopBtn:p.a.get("sunSwap.action.doingBtn"),swapPopBtnDisabled:!0,actionStarted:!0},l&&!c&&(m={actionInfo:p.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,swapActionState:"pending",actionState:"line",actionStarted:!0}),a.setState(m,(function(){setTimeout(Object(r.a)(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({fromValue:"",toValue:"",successFromValue:Object(D.b)(u),successToValue:Object(D.b)(d),actionRetry:"",actionState:"success",actionStarted:!1}),e.next=3,a.getApprovedAmount(a.state.fromToken);case 3:a.calcPrice();case 4:case"end":return e.stop()}}),e)}))),5e3)}))):(b={swapErrorInfo:i?p.a.get("sunSwap.action.swapSendActErr"):p.a.get("sunSwap.action.swapActErr"),swapPopBtn:p.a.get("sunSwap.action.retryBtn"),swapPopBtnDisabled:!1,actionStarted:!0},l&&(b={actionState:"line",swapActionState:"error",actionRetry:"swapToken",actionInfo:p.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0}),a.setState(b));case 34:case"end":return e.stop()}}),e)}))),a.onRetryAction=function(){var e=a.state.actionRetry,t=a.state.needApprove;switch(!e&&t&&(e="approveToken"),e){case"approveToken":a.setState({approveActionState:"start",actionInfo:p.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){a.approveToken()}));break;case"swapToken":a.setState({swapActionState:"start",actionInfo:p.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){a.swapToken()}))}},a.miniPopOk=function(){var e=a.state.needApprove;a.setState({miniPopVisible:!1},(function(){a.hideSwapModal(),e&&a.getApprovedAmount(a.state.fromToken)}))},a.miniPopCancel=function(){a.setState({miniPopVisible:!1})},a.useSafeMax=function(e){var t=a.state,n=t.fromBalanceStr,o=t.toBalanceStr;if("from"===e){var s=Object(D.b)(Object(D.D)(n).minus(O.a.swapFeeAmount));a.setState({fromValue:s,receivedFlag:!0},Object(r.a)(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.calcPrice();case 2:case"end":return e.stop()}}),e)}))))}else if("to"===e){var i=Object(D.b)(Object(D.D)(o).minus(O.a.swapFeeAmount));a.setState({toValue:i},Object(r.a)(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.calcPrice();case 2:case"end":return e.stop()}}),e)}))))}},a.timer=0,a.timer2=0,a.fromTokenRef=u.a.createRef(),a.toTokenRef=u.a.createRef(),a.swapFuncType="",a.state={swapTRXState:!1,fromValue:"",toValue:"",fromToken:{tokenSymbol:""},toToken:{tokenSymbol:""},fromBalance:new D.a(-1),fromBalanceStr:"--",toBalance:new D.a(-1),toBalanceStr:"--",priceStr:"-",priceInverseStr:"-",priceInverseFlag:!1,dependentValueSunBig:"",dependentValue:"",priceImpact:"",priceImpactColor:"",liquidityProviderFee:"",receivedFlag:!0,addRecipient:!1,recipientAddr:"",recipientValid:!1,needApprove:!0,actionError:p.a.get("sunSwap.swap.action_enter_amount"),swapInfo:p.a.get("sunSwap.swap.action_swap"),swapVisible:!1,priceChartVisible:!1,swapPopTitle:"",swapPopBtn:"",swapPopBtnDisabled:!1,swapErrorInfo:"",approveActionTitle:"",approveActionError:"",approveActionState:"",swapActionTitle:"",swapActionError:"",swapActionState:"",actionInfo:"",actionDisabled:!1,actionRetry:"",actionState:"",actionStarted:!1,successFromValue:"",successToValue:"",miniPopVisible:!1,swapVersion:window.localStorage.getItem("swapVersion"),v1Balance:{fromBalance:null,fromBalanceStr:null,toBalance:null,toBalanceStr:null},v2Balance:{fromBalance:null,fromBalanceStr:null,toBalance:null,toBalanceStr:null},betterPrice:!1,notCreatedOfNew:!1,miniError:!1,hasLiquidity:!1,showTrxLimitText:!0},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=(t.priceChartVisible,t.fromToken),a=t.toToken,r=(t.betterPrice,t.notCreatedOfNew,t.fromBalanceStr),o=t.toBalanceStr,s=t.swapTRXState,i=t.fromValue,c=t.toValue,l=t.actionError;return l===p.a.get("sunSwap.swap.action_insufficient_liquidity")&&s&&(l=""),Object(M.jsxs)(oe.a,{className:"swap-content",children:[Object(M.jsxs)("div",{className:"flex justify-content swap-block",children:[Object(M.jsxs)("div",{className:"left-block",children:[Object(M.jsx)("div",{children:p.a.get("sunSwap.swap.input_from")+(this.state.receivedFlag?"":p.a.get("sunSwap.swap.input_estimated"))}),Object(M.jsx)("div",{className:"flex input-number",children:Object(M.jsx)("input",{value:this.state.fromValue,onChange:this.onFromValueChange,onBlur:this.onFromValueBlur,placeholder:p.a.get("sunSwap.swap.input_placeholder")})})]}),Object(M.jsxs)("div",{className:"right-block",children:[Object(M.jsxs)("div",{children:[p.a.get("sunSwap.swap.input_from_balance")," ",Object(M.jsx)("span",{children:Object(D.l)(r,{dp:6,cutZero:!0})})]}),Object(M.jsxs)("div",{className:"token-selector",children:[this.props.network.isConnected?Object(M.jsx)("span",{className:"link",onClick:this.setMaxFrom,children:p.a.get("sunSwap.swap.input_from_max")}):null,Object(M.jsx)(W,{ref:this.fromTokenRef,onChange:this.onFromTokenChange,address:this.props.network.defaultAccount,value:n.tokenAddress,tokenInfo:n,switchValue:a.tokenAddress,swap:!0,asInput:!0,type:1})]})]})]}),Object(M.jsxs)("div",{className:"flex justify-content rates",children:[Object(M.jsx)("div",{className:"word-break",children:p.a.get("sunSwap.swap.input_from_price")}),Object(M.jsx)("div",{className:"flex  ai-center between",children:n.tokenAddress&&a.tokenAddress?Object(M.jsxs)(u.a.Fragment,{children:[Object(M.jsx)("span",{className:"swap-token",children:this.state.priceInverseFlag?p.a.get("sunSwap.swap.input_from_per",{toToken:this.state.fromToken.tokenSymbol,price:s?1:Object(D.l)(this.state.priceInverseStr,{dp:O.a.trxDecimal,cutZero:!0,miniTextNoZero:!0,miniText:O.a.minPrice}),fromToken:this.state.toToken.tokenSymbol}):p.a.get("sunSwap.swap.input_from_per",{toToken:this.state.toToken.tokenSymbol,price:s?1:Object(D.l)(this.state.priceStr,{dp:O.a.trxDecimal,cutZero:!0,miniTextNoZero:!0,miniText:O.a.minPrice}),fromToken:this.state.fromToken.tokenSymbol})}),Object(M.jsx)("img",{src:se.a,alt:"",onClick:this.switchPriceInverseFlag})]}):Object(M.jsx)("div",{children:"--"})})]}),"TRX"===n.tokenSymbol&&this.state.fromValue&&r&&this.state.showTrxLimitText?Object(D.D)(r).gte(O.a.swapFeeAmount)?Object(D.D)(r).minus(O.a.swapFeeAmount).gte(Object(D.D)(this.state.fromValue))?null:Object(M.jsxs)("div",{className:"safe-amount-tip safe-amount",children:[p.a.getHTML("list.trx_tip_1",{value:O.a.swapFeeAmount})," ",Object(M.jsx)("em",{onClick:function(){return e.useSafeMax("from")},children:p.a.get("sunSwap.list.trx_tip_2")})]}):Object(M.jsx)("div",{className:"safe-amount-tip safe-amount",children:p.a.getHTML("list.trx_tip_3",{value:O.a.swapFeeAmount})}):null,Object(M.jsxs)("div",{className:"flex justify-content setting",children:[Object(M.jsx)("img",{src:ce.a,className:"arrDown",alt:"",onClick:this.switchToken}),Object(M.jsx)("span",{className:"link sun-swap-link-1",onClick:this.showSettingModal,children:p.a.get("sunSwap.swap.settings_title")})]}),Object(M.jsxs)("div",{className:"flex justify-content swap-block",children:[Object(M.jsxs)("div",{className:"left-block",children:[Object(M.jsx)("div",{children:p.a.get("sunSwap.swap.input_to")+(this.state.receivedFlag?p.a.get("sunSwap.swap.input_estimated"):"")}),Object(M.jsx)("div",{className:"flex input-number",children:Object(M.jsx)("input",{value:this.state.toValue,onChange:this.onToValueChange,onBlur:this.onToValueBlur,placeholder:p.a.get("sunSwap.swap.input_placeholder")})})]}),Object(M.jsxs)("div",{className:"right-block",children:[Object(M.jsxs)("div",{children:[p.a.get("sunSwap.swap.input_to_balance")," ",Object(M.jsx)("span",{children:Object(D.l)(o,{dp:6,cutZero:!0})})]}),Object(M.jsx)(W,{ref:this.toTokenRef,onChange:this.onToTokenChange,address:this.props.network.defaultAccount,value:a.tokenAddress,tokenInfo:a,switchValue:n.tokenAddress,swap:!0,type:2})]})]}),"TRX"===a.tokenSymbol&&this.state.toValue&&o&&this.state.showTrxLimitText?Object(D.D)(o).gte(O.a.swapFeeAmount)?null:Object(M.jsx)("div",{className:"safe-amount-tip safe-amount",children:p.a.getHTML("list.trx_tip_3",{value:O.a.swapFeeAmount})}):null,this.state.addRecipient?Object(M.jsxs)(u.a.Fragment,{children:[Object(M.jsxs)("div",{className:"flex justify-content add-recipient",children:[Object(M.jsx)("img",{src:ie.a,alt:""}),Object(M.jsx)("span",{className:"link",onClick:this.hideAddRecipient,children:p.a.get("sunSwap.swap.input_remove_recipient")})]}),Object(M.jsxs)("div",{className:"recipient-list",children:[Object(M.jsxs)("div",{className:"flex",children:[Object(M.jsx)("div",{children:p.a.get("sunSwap.swap.input_recipient")}),this.state.recipientAddr&&this.state.recipientValid?Object(M.jsx)("a",{className:"link",href:"".concat(O.a.tronscanUrl,"/address/").concat(this.state.recipientAddr),target:"_blank",children:p.a.get("sunSwap.swap.input_recipient_tronscan")}):null]}),Object(M.jsx)("input",{value:this.state.recipientAddr,onChange:this.onRecipientChange,placeholder:p.a.get("sunSwap.swap.input_recipient_placeholder")})]})]}):Object(M.jsx)("div",{className:"add-recipient-btn",children:Object(M.jsx)("span",{className:"link sun-swap-link-1",onClick:this.showAddRecipient,children:p.a.get("sunSwap.swap.input_add_recipient")})}),Object(M.jsx)("div",{className:"flex justify-content detail-item token-info align-items-center",children:Object(M.jsxs)("div",{className:"token-pairs",children:[Object(M.jsxs)("div",{children:[p.a.get("sunSwap.swap.detail_token_info")," "]}),Object(M.jsxs)("div",{children:[this.state.fromToken.tokenAddress?this.state.fromToken.tokenAddress===O.a.trxFakeAddress?Object(M.jsxs)(u.a.Fragment,{children:[!Object(h.a)(window.navigator).any&&Object(M.jsx)("img",{src:this.state.fromToken.tokenLogoUrl,alt:"logo",onError:function(e){e.target.onerror=null,e.target.src=I.a}}),Object(M.jsx)("span",{className:"trx",children:this.state.fromToken.tokenSymbol})]}):Object(M.jsx)(u.a.Fragment,{children:Object(D.G)(Object(M.jsxs)(u.a.Fragment,{children:[!Object(h.a)(window.navigator).any&&Object(M.jsx)("img",{src:this.state.fromToken.tokenLogoUrl,alt:"logo",onError:function(e){e.target.onerror=null,e.target.src=I.a}}),Object(M.jsx)("span",{children:this.state.fromToken.tokenSymbol})]}),this.state.fromToken.tokenAddress)}):Object(M.jsx)("span",{children:"-"}),Object(M.jsx)("span",{children:"\xa0\xa0"}),this.state.toToken.tokenAddress?this.state.toToken.tokenAddress===O.a.trxFakeAddress?Object(M.jsxs)(u.a.Fragment,{children:[!Object(h.a)(window.navigator).any&&Object(M.jsx)("img",{src:this.state.toToken.tokenLogoUrl,alt:"logo",onError:function(e){e.target.onerror=null,e.target.src=I.a}}),Object(M.jsx)("span",{className:"trx",children:this.state.toToken.tokenSymbol})]}):Object(M.jsx)(u.a.Fragment,{children:Object(D.G)(Object(M.jsxs)(u.a.Fragment,{children:[!Object(h.a)(window.navigator).any&&Object(M.jsx)("img",{src:this.state.toToken.tokenLogoUrl,alt:"logo",onError:function(e){e.target.onerror=null,e.target.src=I.a}}),Object(M.jsx)("span",{children:this.state.toToken.tokenSymbol})]}),this.state.toToken.tokenAddress)}):Object(M.jsx)("span",{children:"-"})]})]})}),"0.5"!=this.props.sunSwapNetwork.settingSlippage?Object(M.jsxs)("div",{className:"flex justify-content detail-item slippage",children:[Object(M.jsxs)("div",{children:[p.a.get("sunSwap.swap.detail_slippage")," "]}),Object(M.jsx)("div",{children:(Object(D.a)(this.props.sunSwapNetwork.settingSlippage).lt(.01)?"<0.01":this.props.sunSwapNetwork.settingSlippage)+"%"})]}):null,!s&&Object(D.D)(this.state.fromValue).gt(0)&&Object(D.D)(this.state.toValue).gte(0)&&this.state.fromToken.tokenAddress&&this.state.toToken.tokenAddress?Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{className:"flex justify-content detail-item",children:this.state.receivedFlag?Object(M.jsxs)(u.a.Fragment,{children:[Object(M.jsx)(P.a,{tip:p.a.get("sunSwap.swap.detail_min_received_tip"),left:!0,children:p.a.get("sunSwap.swap.detail_min_received")}),Object(M.jsx)("span",{children:this.state.dependentValue+" "+this.state.toToken.tokenSymbol})]}):Object(M.jsxs)(u.a.Fragment,{children:[Object(M.jsx)(P.a,{tip:p.a.get("sunSwap.swap.detail_max_sold_tip"),left:!0,children:p.a.get("sunSwap.swap.detail_max_sold")}),Object(M.jsx)("span",{children:this.state.dependentValue+" "+this.state.fromToken.tokenSymbol})]})}),Object(M.jsxs)("div",{className:"flex justify-content detail-item",children:[Object(M.jsx)(P.a,{tip:p.a.get("sunSwap.swap.detail_price_impact_tip"),left:!0,children:p.a.get("sunSwap.swap.detail_price_impact")}),Object(M.jsx)("span",{className:(["orange","red","mini-red"].includes(this.state.priceImpactColor)?this.state.priceImpactColor:"normal sun-swap-normal-1")+" price-text",children:this.state.priceImpact.indexOf("NaN")>-1?"--":this.state.priceImpact})]}),Object(M.jsxs)("div",{className:"flex justify-content detail-item",children:[Object(M.jsx)(P.a,{tip:p.a.get("sunSwap.swap.detail_liquidity_fee_tip"),left:!0,children:p.a.get("sunSwap.swap.detail_liquidity_fee")}),Object(M.jsx)("span",{children:this.state.liquidityProviderFee+" "+this.state.fromToken.tokenSymbol})]})]}):null,Object(M.jsx)("div",{className:"action-btns",children:this.props.network.isConnected?l?Object(M.jsx)(X.a,{type:"single",disabled:!0,info:l}):Object(M.jsx)(X.a,{type:"single",btnColor:s?"":this.state.priceImpactColor,info:"red"!==this.state.priceImpactColor||s?this.state.swapInfo:p.a.get("sunSwap.swap.action_high"),onClick:this.showSwapModal}):Object(M.jsx)(X.a,{type:"single",info:p.a.get("sunSwap.swap.action_connect"),onClick:function(){e.props.network.setData({loginModalVisible:!0,loginModalStep:1})}})}),Object(M.jsxs)(k.a,{title:null,closable:"success"!==this.state.actionState,visible:this.state.swapVisible,onCancel:this.beforeHideSwapModal,footer:null,className:"confirm-swap-modal sun-swap-modal",width:630,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:["line"===this.state.actionState&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{className:"title big",children:this.state.swapPopTitle}),Object(M.jsxs)("div",{className:"ib-parent center trans-modal amount",children:[Object(M.jsxs)("div",{className:"from",children:[Object(M.jsx)("div",{className:"from-value",children:this.state.fromValue}),Object(M.jsx)("div",{className:"from-token",children:this.state.fromToken.tokenSymbol})]}),Object(M.jsx)("img",{src:le.a,alt:"",className:"plus w10"}),Object(M.jsxs)("div",{className:"to",children:[Object(M.jsx)("div",{className:"to-value",children:this.state.toValue}),Object(M.jsx)("div",{className:"to-token",children:this.state.toToken.tokenSymbol})]}),this.state.recipientAddr&&Object(M.jsxs)("div",{className:"recipient",children:[p.a.get("sunSwap.swap.recipient"),this.state.recipientAddr]})]}),Object(M.jsx)("div",{className:"middleTip",children:this.state.recipientAddr?p.a.get("sunSwap.action.swapSendLineTitle"):p.a.get("sunSwap.action.swapLineTitle")}),Object(M.jsxs)(H.a,{children:[Object(M.jsx)("span",{status:this.state.approveActionState,err:this.state.approveActionError,children:this.state.approveActionTitle}),Object(M.jsx)("span",{status:this.state.swapActionState,err:this.state.swapActionError,children:this.state.swapActionTitle})]}),Object(M.jsx)(X.a,{type:"single",disabled:this.state.actionDisabled,info:this.state.actionInfo,onClick:this.onRetryAction})]}),"info"===this.state.actionState&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{className:"title big",children:this.state.swapPopTitle}),Object(M.jsxs)("div",{className:"ib-parent center tokens amount",children:[Object(M.jsxs)("div",{className:"from",children:[Object(M.jsx)("div",{className:"from-value",children:this.state.fromValue}),Object(M.jsxs)("div",{className:"from-token",children:[Object(M.jsx)("img",{src:this.state.fromToken.tokenLogoUrl,alt:""}),Object(M.jsx)("span",{children:this.state.fromToken.tokenSymbol})]})]}),Object(M.jsx)("img",{src:le.a,alt:"",className:"plus w10"}),Object(M.jsxs)("div",{className:"to",children:[Object(M.jsx)("div",{className:"to-value",children:this.state.toValue}),Object(M.jsxs)("div",{className:"to-token",children:[Object(M.jsx)("img",{src:this.state.toToken.tokenLogoUrl,alt:""}),Object(M.jsx)("span",{children:this.state.toToken.tokenSymbol})]})]}),this.state.recipientAddr&&Object(M.jsxs)("div",{className:"recipient",children:[p.a.get("sunSwap.swap.recipient"),this.state.recipientAddr]})]}),!s&&Object(M.jsxs)("div",{className:"flex justify-content price",children:[Object(M.jsx)("div",{className:"",children:p.a.get("sunSwap.swap.input_from_price")}),Object(M.jsxs)("div",{className:"right",children:[Object(M.jsx)("div",{children:"1 ".concat(this.state.toToken.tokenSymbol," =\n                    ").concat(Object(D.l)(this.state.priceStr,{dp:this.state.fromToken.tokenDecimal,cutZero:!0,miniTextNoZero:!0,miniText:O.a.minPrice}),"\n                    ").concat(this.state.fromToken.tokenSymbol," ")}),Object(M.jsx)("div",{className:"mt3",children:"1 ".concat(this.state.fromToken.tokenSymbol," =\n                    ").concat(Object(D.l)(this.state.priceInverseStr,{dp:this.state.toToken.tokenDecimal,cutZero:!0,miniTextNoZero:!0,miniText:O.a.minPrice}),"\n                    ").concat(this.state.toToken.tokenSymbol," ")})]})]}),!s&&"0.5"!=this.props.sunSwapNetwork.settingSlippage&&Object(M.jsxs)("div",{className:"flex justify-content detail-slippage",children:[Object(M.jsxs)("div",{children:[p.a.get("sunSwap.swap.detail_slippage")," "]}),Object(M.jsx)("div",{children:(Object(D.a)(this.props.sunSwapNetwork.settingSlippage).lt(.01)?"<0.01":this.props.sunSwapNetwork.settingSlippage)+"%"})]}),!s&&Object(M.jsxs)("div",{className:"detail-list",children:[Object(M.jsx)("div",{className:"flex justify-content detail-item",children:this.state.receivedFlag?Object(M.jsxs)(u.a.Fragment,{children:[Object(M.jsx)(P.a,{tip:p.a.get("sunSwap.swap.detail_min_received_tip"),left:!0,children:p.a.get("sunSwap.swap.detail_min_received")}),Object(M.jsx)("span",{className:"right",children:this.state.dependentValue+" "+this.state.toToken.tokenSymbol})]}):Object(M.jsxs)(u.a.Fragment,{children:[Object(M.jsx)(P.a,{tip:p.a.get("sunSwap.swap.detail_max_sold_tip"),left:!0,children:p.a.get("sunSwap.swap.detail_max_sold")}),Object(M.jsx)("span",{className:"right",children:this.state.dependentValue+" "+this.state.fromToken.tokenSymbol})]})}),Object(M.jsxs)("div",{className:"flex justify-content detail-item",children:[Object(M.jsx)(P.a,{tip:p.a.get("sunSwap.swap.detail_price_impact_tip"),left:!0,children:p.a.get("sunSwap.swap.detail_price_impact")}),Object(M.jsx)("span",{className:"right "+(["orange","red"].includes(this.state.priceImpactColor)?this.state.priceImpactColor:"normal sun-swap-normal-1"),children:this.state.priceImpact.indexOf("NaN")>-1?"--":this.state.priceImpact})]}),Object(M.jsxs)("div",{className:"flex justify-content detail-item",children:[Object(M.jsx)(P.a,{tip:p.a.get("sunSwap.swap.detail_liquidity_fee_tip"),left:!0,children:p.a.get("sunSwap.swap.detail_liquidity_fee")}),Object(M.jsx)("span",{className:"right",children:this.state.liquidityProviderFee+" "+this.state.fromToken.tokenSymbol})]})]}),Object(M.jsx)("div",{className:"warning",children:this.state.receivedFlag?Object(M.jsx)("div",{children:p.a.get("sunSwap.swap.confirm_warning_output",{amount:s?c:this.state.dependentValue,token:this.state.toToken.tokenSymbol})}):Object(M.jsx)("div",{children:p.a.get("sunSwap.swap.confirm_warning_input",{amount:s?i:this.state.dependentValue,token:this.state.fromToken.tokenSymbol})})}),this.state.swapErrorInfo&&Object(M.jsx)("div",{className:"errorMsg",children:this.state.swapErrorInfo}),Object(M.jsx)(X.a,{type:"single",btnColor:s?"":this.state.priceImpactColor,disabled:this.state.swapPopBtnDisabled,info:this.state.swapPopBtn,onClick:this.beforeSwapToken})]}),"success"===this.state.actionState&&Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"modal-success",children:[Object(M.jsx)("img",{src:K.a,alt:""}),this.state.recipientAddr?Object(M.jsx)("div",{className:"title green",children:p.a.get("sunSwap.action.swapSendSuccessTitle")}):Object(M.jsx)("div",{className:"title green",children:p.a.get("sunSwap.action.swapSuccessTitle")}),Object(M.jsxs)("div",{className:"ib-parent center trans-modal mb25",children:[Object(M.jsxs)("div",{className:"from",children:[Object(M.jsx)("div",{className:"from-value",children:this.state.successFromValue}),Object(M.jsx)("div",{className:"from-token",children:this.state.fromToken.tokenSymbol})]}),Object(M.jsx)("img",{src:le.a,alt:"",className:"plus w10"}),Object(M.jsxs)("div",{className:"to",children:[Object(M.jsx)("div",{className:"to-value",children:this.state.successToValue}),Object(M.jsx)("div",{className:"to-token",children:this.state.toToken.tokenSymbol})]}),this.state.recipientAddr&&Object(M.jsxs)("div",{className:"recipient",children:[p.a.get("sunSwap.swap.recipient"),Object(D.j)(this.state.recipientAddr)]})]}),Object(M.jsx)(X.a,{type:"single",info:p.a.get("sunSwap.action.closeBtn"),onClick:this.hideSwapModal}),this.state.recipientAddr?Object(M.jsx)("div",{className:"endTip",children:p.a.get("sunSwap.action.swapSendDescTitle")}):Object(M.jsx)("div",{className:"endTip",children:p.a.get("sunSwap.action.swapDescTitle")})]})})]}),Object(M.jsx)(z.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}}]),n}(u.a.Component))||ae)||ae)||ae)||ae,he=n(56),fe=n(1470),me=n(1880),be=(n(1875),n(1040));function je(){je=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(_){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,s=Object.create(o.prototype),i=new y(r||[]);return a(s,"_invoke",{value:w(e,n,i)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=l;var d={};function p(){}function h(){}function f(){}var m={};c(m,o,(function(){return this}));var b=Object.getPrototypeOf,j=b&&b(b(N([])));j&&j!==t&&n.call(j,o)&&(m=j);var v=f.prototype=p.prototype=Object.create(m);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,o,s,i){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,i)}),(function(e){r("throw",e,s,i)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,i)}))}i(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function w(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return A()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var i=k(s,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var c=u(e,t,n);if("normal"===c.type){if(a=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a="completed",n.method="throw",n.arg=c.arg)}}}function k(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function y(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=f,a(v,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(x.prototype),c(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var s=new x(l(t,n,a,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=N,y.prototype={constructor:y,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return s.type="throw",s.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var ve,ge=Object(f.b)("sunSwapNetwork")(de=Object(f.b)("sunSwapPool")(de=Object(f.b)("network")(de=Object(f.c)(de=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).showModal=function(){a.setState({visible:!0})},a.cancel=function(){a.state.actionStarted?a.setState({miniPopVisible:!0}):(a.setState({visible:!1}),a.props.hideMigrateModal())},a.migrate=Object(r.a)(je().mark((function e(){var t,n,r,o,s,i,c,l,u,d,p,h,f,m;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.migrateData,t.migrateDataV2,r=a.computeV2(),o=r.tokenV2,s=r.trxV2,r.lpV2,i="v1.5"===a.props.version?O.a.migrateContract.v15:O.a.migrateContract.v1,c=a.props.sunSwapNetwork.settingSlippageMigrate,l=a.props.network.defaultAccount,c=Number(c),p=new D.a(s),h=new D.a(o),u="0x".concat(h.times(1-c/100).times(new D.a(10).pow(n.tokenDecimal)).integerValue(D.a.ROUND_DOWN).toString(16)),d="0x".concat(p.times(1-c/100).times(new D.a(10).pow(6)).integerValue(D.a.ROUND_DOWN).toString(16)),f={title:"pair_actions.add",obj:{trxAmount:Object(D.k)(n.trx.toString(),6),trx:"TRX",tokenAmount:Object(D.k)(n.value.toString(),n.tokenDecimal),tokenSymbol:n.tokenSymbol}},e.t0=i,e.t1=n.tokenAddress,e.t2=Object(D.a)(u)._toIntegerDown()._toHex(),e.t3=Object(D.a)(d)._toIntegerDown()._toHex(),e.t4=l,e.next=18,Object(C.g)(a.props.sunSwapNetwork.settingDeadlineMigrate);case 18:return e.t5=e.sent,m={contractAddress:e.t0,token:e.t1,amountTokenMin:e.t2,amountETHMin:e.t3,to:e.t4,deadline:e.t5},e.next=22,Object(C.w)(m,f);case 22:e.sent?a.setState({step:3}):a.setApproveBarText("two",!1);case 24:case"end":return e.stop()}}),e)}))),a.computeV2=function(){var e,t,n,r,o,s=a.props,i=s.migrateData,c=s.migrateDataV2,l=Object(D.a)(i.value).div(Object(D.a)(i.trx)),u=Object(D.a)(c.exTokenABalance.div(new D.a(10).pow(i.tokenDecimal))).div(Object(D.a)(c.exTokenBBalance.div(new D.a(10).pow(6))));return Object(D.a)(l).gt(Object(D.a)(u))?(e=Object(D.a)(i.trx),t=Object(D.a)(c.exTokenABalance.div(new D.a(10).pow(i.tokenDecimal))).div(Object(D.a)(c.exTokenBBalance.div(new D.a(10).pow(6)))).times(Object(D.a)(i.trx)),n=Object(D.a)(c.totalLiquidity.div(new D.a(10).pow(18))).div(Object(D.a)(c.exTokenBBalance.div(new D.a(10).pow(6)))).times(Object(D.a)(i.trx)),r=i.tokenSymbol,o=Object(D.l)(Object(D.a)(Object(D.a)(i.value).minus(t)),{miniText:1e-4,cutZero:!0,dp:4})):(t=Object(D.a)(i.value),e=Object(D.a)(c.exTokenBBalance.div(new D.a(10).pow(6))).div(Object(D.a)(c.exTokenABalance.div(new D.a(10).pow(i.tokenDecimal)))).times(Object(D.a)(i.value)),n=Object(D.a)(c.totalLiquidity.div(new D.a(10).pow(18))).div(Object(D.a)(c.exTokenABalance.div(new D.a(10).pow(i.tokenDecimal)))).times(Object(D.a)(i.value)),r="TRX",o=Object(D.l)(Object(D.a)(Object(D.a)(i.trx).minus(e)),{miniText:1e-4,cutZero:!0,dp:4})),{tokenV2:t,trxV2:e,lpV2:n,refundedToken:r,refundedValue:o}},a.checkApproveStatus=Object(r.a)(je().mark((function e(){return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.isApproved();case 2:e.sent?a.setState({needApproveOne:"false",actionRetry:"setApproveTwo",step:2,actionStarted:!0},(function(){a.onRetryAction()})):a.onRetryAction();case 4:case"end":return e.stop()}}),e)}))),a.onRetryAction=function(){var e=a.state,t=e.needApproveOne,n=e.needApproveTwo,r=e.actionRetry;switch(r||(t?r="setApproveOne":n&&(r="setApproveTwo")),r){case"setApproveOne":a.setState({approveActionOneState:"start",actionInfo:p.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){a.setApprove("one")}));break;case"setApproveTwo":a.setState({approveActionOneState:"success",approveActionTwoState:"start",actionInfo:p.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){a.migrate()}))}},a.setApproveBarText=function(e,t){console.log(e),t?("one"===e&&a.setState({approveActionOneState:"pending",actionInfo:p.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0},(function(){console.log(273),setTimeout((function(){a.setState({approveActionOneState:"success",approveActionTwoState:"start"})}),5e3)})),"two"===e&&a.setState({approveActionTwoState:"pending",actionInfo:p.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0},(function(){setTimeout((function(){a.setState({approveActionTwoState:"success",baseActionState:"info"})}),5e3)}))):("one"===e&&a.setState({approveActionOneState:"error"}),"two"===e&&a.setState({approveActionTwoState:"error"}),a.setState({actionRetry:"one"===e?"setApproveOne":"setApproveTwo",actionInfo:p.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0}))},a.setApprove=function(){var e=Object(r.a)(je().mark((function e(t){var n,r,o,s;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.migrateData,n.migrateDataV2,o="v1.5"===a.props.version?O.a.migrateContract.v15:O.a.migrateContract.v1,a.setState({step:2}),s={title:"migrate.action1"},e.next=6,Object(C.e)(r.address,o,s);case 6:e.sent?(a.setApproveBarText(t,!0),"one"===t?a.setState({needApproveOne:!1,actionRetry:"setApproveTwo"},(function(){a.onRetryAction()})):a.setState({needApproveTwo:!1})):a.setApproveBarText(t,!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.miniPopOk=function(){a.setState({miniPopVisible:!1,visible:!1,step:1,actionStarted:!1}),a.props.hideMigrateModal()},a.miniPopCancel=function(){a.setState({miniPopVisible:!1})},a.gotoPool=function(){a.props.sunSwapPool.setData({actionLiqV2:0}),a.props.onChange(1),a.props.hideMigrateModal()},a.changeRate=function(){var e=a.props,t=e.migrateData,n=e.migrateDataV2;1===a.state.newRateType?a.setState({oldRateType:2,oldRateLabel:"TRX-"+t.tokenSymbol,oldRate:Object(D.l)(Object(D.a)(t.value).div(Object(D.a)(t.trx)),{miniText:1e-4,cutZero:!0,dp:4}),newRateType:2,newRateLabel:"TRX-"+t.tokenSymbol,newRate:Object(D.l)(Object(D.a)(n.exTokenABalance.div(new D.a(10).pow(t.tokenDecimal))).div(Object(D.a)(n.exTokenBBalance.div(new D.a(10).pow(6)))),{miniText:1e-4,cutZero:!0,dp:4})}):a.setState({oldRateType:1,oldRateLabel:t.tokenSymbol+"-TRX",oldRate:Object(D.l)(Object(D.a)(t.trx).div(Object(D.a)(t.value)),{miniText:1e-4,cutZero:!0,dp:4}),newRateType:1,newRateLabel:t.tokenSymbol+"-TRX",newRate:Object(D.l)(Object(D.a)(n.exTokenBBalance.div(new D.a(10).pow(6))).div(Object(D.a)(n.exTokenABalance.div(new D.a(10).pow(t.tokenDecimal)))),{miniText:1e-4,cutZero:!0,dp:4})})},a.isApproved=Object(r.a)(je().mark((function e(){var t,n,r;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="v1.5"===a.props.version?O.a.migrateContract.v15:O.a.migrateContract.v1,n=a.props.network.defaultAccount,e.next=4,Object(C.u)(a.props.migrateData.address,n,t);case 4:return r=e.sent,e.abrupt("return",Object(D.a)(r).gt(0));case 6:case"end":return e.stop()}}),e)}))),a.settingsRef=u.a.createRef(),a.state={visible:!1,step:1,actionInfo:p.a.get("sunSwap.action.startBtn"),actionDisabled:!0,approveActionOneState:"",approveActionOneError:p.a.get("sunSwap.action.approveActErr"),approveActionOneTitle:p.a.get("sunSwap.migrate.action1"),needApproveOne:!0,needApproveTwo:!0,approveActionTwoState:"",supplyActionEapproveActionTwoErrorrror:p.a.get("sunSwap.action.supplyActErr"),approveActionTwoTitle:p.a.get("sunSwap.migrate.action2"),miniPopVisible:!1,actionStarted:!1,oldRateType:1,oldRateLabel:e.migrateData.tokenSymbol+"-TRX",oldRate:Object(D.l)(Object(D.a)(e.migrateData.trx).div(Object(D.a)(e.migrateData.value)),{miniText:1e-4,cutZero:!0,dp:4}),newRateType:1,newRateLabel:e.migrateData.tokenSymbol+"-TRX",newRate:Object(D.l)(Object(D.a)(e.migrateDataV2.exTokenBBalance.div(new D.a(10).pow(6))).div(Object(D.a)(e.migrateDataV2.exTokenABalance.div(new D.a(10).pow(e.migrateData.tokenDecimal)))),{miniText:1e-4,cutZero:!0,dp:4}),refundedValue:"",refundedToken:"",actionRetry:""},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,n=t.migrateData,a=(t.migrateDataV2,this.computeV2()),r=a.tokenV2,o=a.trxV2,s=a.lpV2,i=a.refundedToken,c=a.refundedValue,l=this.state,u=l.step,d=l.actionDisabled,f=l.actionInfo,m=l.approveActionTwoState,b=l.approveActionTwoError,j=l.approveActionTwoTitle,v=l.approveActionOneState,g=l.approveActionOneError,x=l.approveActionOneTitle,w=l.oldRateLabel,S=l.oldRate,y=l.newRateLabel,N=l.newRate;return Object(M.jsxs)("div",{children:[Object(M.jsxs)(k.a,{title:null,closable:3!==this.state.step,visible:this.props.visible||this.state.visible,onCancel:this.cancel,className:"pool-modal sun-swap-modal add-gai ".concat(1===u?"migrateModal":""),footer:null,width:630,destroyOnClose:!0,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:[1===u&&Object(M.jsxs)("div",{className:"step1",children:[Object(M.jsx)("div",{className:"title",children:p.a.get("sunSwap.migrate.title")}),Object(M.jsx)("p",{className:"desc",children:p.a.get("sunSwap.migrate.desc")}),Object(M.jsxs)("section",{className:"info",children:[Object(M.jsxs)("div",{className:"lptokens",children:[Object(M.jsxs)("span",{className:"images",children:[Object(M.jsx)("img",{className:"logo",src:O.a.trxLogoUrl,alt:""}),Object(M.jsx)("img",{className:"logo",src:n.tokenLogoUrl||I.a,alt:""})]}),Object(M.jsxs)("span",{className:"name",children:["TRX-",n.tokenSymbol]}),Object(M.jsx)("span",{className:"version",children:"v1.5"===this.props.version?"V1.5":"V1"})]}),Object(M.jsxs)("div",{className:"box",children:[Object(M.jsx)("div",{className:"line-box",children:Object(M.jsx)("span",{})}),Object(M.jsxs)("div",{className:"lp",children:[Object(M.jsxs)("span",{className:"images",children:[Object(M.jsx)("img",{className:"logo",src:O.a.trxLogoUrl,alt:""}),Object(M.jsx)("img",{className:"logo",src:n.tokenLogoUrl||I.a,alt:""})]}),Object(M.jsxs)("span",{className:"name",children:[n.tokenSymbol,"-TRX LP"]}),Object(M.jsx)("span",{className:"amount",children:Object(D.l)(n.tokens,{miniText:1e-4,cutZero:!0,dp:4})})]}),Object(M.jsxs)("div",{className:"token",children:[Object(M.jsx)("span",{className:"images",children:Object(M.jsx)("img",{className:"logo",src:n.tokenLogoUrl||I.a,alt:""})}),Object(M.jsx)("span",{className:"name",children:n.tokenSymbol}),Object(M.jsx)("span",{className:"amount",children:Object(D.l)(n.value,{miniText:1e-4,cutZero:!0,dp:4})})]}),Object(M.jsxs)("div",{className:"token",children:[Object(M.jsx)("span",{className:"images",children:Object(M.jsx)("img",{className:"logo",src:O.a.trxLogoUrl,alt:""})}),Object(M.jsx)("span",{className:"name",children:"TRX"}),Object(M.jsx)("span",{className:"amount",children:Object(D.l)(n.trx,{miniText:1e-4,cutZero:!0,dp:4})})]})]}),Object(M.jsxs)("div",{className:"rate",children:[Object(M.jsx)("span",{className:"rate-title",children:p.a.get("sunSwap.migrate.rate")}),w,Object(M.jsx)("em",{onClick:function(){return e.changeRate()}}),Object(M.jsx)("span",{className:"value mr-0",children:S})]})]}),Object(M.jsx)("div",{className:"advanced",children:Object(M.jsx)("span",{onClick:function(){e.settingsRef.current.initState(e.props.sunSwapNetwork.settingSlippageMigrate,e.props.sunSwapNetwork.settingDeadlineMigrate),e.props.sunSwapNetwork.setData({settingVisibleMigrate:!0})},children:p.a.get("sunSwap.migrate.set_link")})}),Object(M.jsxs)("section",{className:"info v2",children:[Object(M.jsxs)("div",{className:"lptokens",children:[Object(M.jsxs)("span",{className:"images",children:[Object(M.jsx)("img",{className:"logo",src:O.a.trxLogoUrl,alt:""}),Object(M.jsx)("img",{className:"logo",src:n.tokenLogoUrl||I.a,alt:""})]}),Object(M.jsxs)("span",{className:"name",children:["TRX-",n.tokenSymbol]}),Object(M.jsx)("span",{className:"version",children:"V2"})]}),Object(M.jsxs)("div",{className:"box",children:[Object(M.jsx)("div",{className:"line-box",children:Object(M.jsx)("span",{})}),Object(M.jsxs)("div",{className:"lp",children:[Object(M.jsxs)("span",{className:"images",children:[Object(M.jsx)("img",{className:"logo",src:O.a.trxLogoUrl,alt:""}),Object(M.jsx)("img",{className:"logo",src:n.tokenLogoUrl||I.a,alt:""})]}),Object(M.jsxs)("span",{className:"name",children:[n.tokenSymbol,"-TRX LP"]}),Object(M.jsx)("span",{className:"amount",children:Object(D.l)(s,{miniText:1e-4,cutZero:!0,dp:4})})]}),Object(M.jsxs)("div",{className:"token",children:[Object(M.jsx)("span",{className:"images",children:Object(M.jsx)("img",{className:"logo",src:n.tokenLogoUrl||I.a,alt:""})}),Object(M.jsx)("span",{className:"name",children:n.tokenSymbol}),Object(M.jsx)("span",{className:"amount",children:Object(D.l)(r,{miniText:1e-4,cutZero:!0,dp:4})})]}),Object(M.jsxs)("div",{className:"token",children:[Object(M.jsx)("span",{className:"images",children:Object(M.jsx)("img",{className:"logo",src:O.a.trxLogoUrl,alt:""})}),Object(M.jsx)("span",{className:"name",children:"TRX"}),Object(M.jsx)("span",{className:"amount",children:Object(D.l)(o,{miniText:1e-4,cutZero:!0,dp:4})})]})]}),Object(M.jsxs)("div",{className:"rate",children:[Object(M.jsx)("span",{className:"rate-title",children:p.a.get("sunSwap.migrate.rate")}),y,Object(M.jsx)("em",{onClick:function(){return e.changeRate()}}),Object(M.jsx)("span",{className:"value",children:N})]}),Object(M.jsx)("div",{className:"refunded",children:Object(M.jsx)(P.a,{tip:Object(M.jsx)("div",{className:"pool-tooltip-text",children:p.a.get("sunSwap.migrate.refunded_tips")}),children:p.a.get("sunSwap.migrate.refunded",{value1:c,value2:i}),toolClass:"common-tool",titleClass:"common-tool-title",tail:!0,placement:h.a?"left":"bottom"})})]}),Object(M.jsx)("div",{className:"btn",onClick:this.checkApproveStatus,children:p.a.get("sunSwap.migrate.btn")})]}),2===u&&Object(M.jsxs)("div",{className:"step2",children:[Object(M.jsx)("div",{className:"title normal",children:p.a.get("sunSwap.migrate.migrate")}),Object(M.jsxs)("div",{className:"line",children:[Object(M.jsx)("span",{className:"version",children:"v1.5"===this.props.version?"V1.5":"V1"}),Object(M.jsx)("span",{className:"version",children:"V2"})]}),Object(M.jsxs)("div",{className:"ib-parent center",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{className:"add-value",children:Object(D.l)(n.value,{miniText:1e-4,cutZero:!0,dp:4})}),Object(M.jsx)("span",{className:"add-token",children:n.tokenSymbol})]}),Object(M.jsx)("span",{className:"plus",children:"+"}),Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{className:"add-value",children:Object(D.l)(n.trx,{miniText:1e-4,cutZero:!0,dp:4})}),Object(M.jsx)("span",{className:"add-token",children:"TRX"})]}),Object(M.jsx)("div",{className:"add-ver",children:"v1.5"===this.props.version?"V1.5":"V1"})]}),Object(M.jsx)("div",{className:"supplyLineTitle",children:p.a.get("sunSwap.action.supplyLineTitle")}),Object(M.jsxs)(H.a,{children:["success"!==v&&Object(M.jsx)("span",{status:v,err:g,children:x}),"success"!==m&&Object(M.jsx)("span",{status:m,err:b,children:j})]}),Object(M.jsx)(X.a,{type:"single",disabled:d,info:f,onClick:this.onRetryAction})]}),3===u&&Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"modal-success",children:[Object(M.jsx)("img",{src:K.a,alt:""}),Object(M.jsx)("div",{className:"title green",children:p.a.get("sunSwap.migrate.successTitle")}),Object(M.jsxs)("div",{className:"ib-parent center mb40",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{className:"add-value",children:Object(D.l)(n.value,{miniText:1e-4,cutZero:!0,dp:4})}),Object(M.jsx)("span",{className:"add-token",children:n.tokenSymbol})]}),Object(M.jsx)("span",{className:"plus",children:"+"}),Object(M.jsxs)("div",{children:[Object(M.jsx)("span",{className:"add-value",children:Object(D.l)(n.trx,{miniText:1e-4,cutZero:!0,dp:4})}),Object(M.jsx)("span",{className:"add-token",children:"TRX"})]}),Object(M.jsx)("div",{className:"add-ver",children:"v1.5"===this.props.version?"V1.5":"V1"})]}),Object(M.jsx)(X.a,{type:"single",info:p.a.get("sunSwap.action.closeBtn"),onClick:this.gotoPool}),Object(M.jsx)("div",{className:"supplyDescTitle",children:p.a.get("sunSwap.action.supplyDescTitle")})]})}),Object(M.jsx)(be.a,{slippate_tip:p.a.get("sunSwap.migrate.slippate_tip"),ref:this.settingsRef,visible:this.props.sunSwapNetwork.settingVisibleMigrate,onCancel:function(t){e.props.sunSwapNetwork.setData({settingVisibleMigrate:!1})},onChange:function(t,n){e.props.sunSwapNetwork.setData({settingVisibleMigrate:!1}),e.props.sunSwapNetwork.saveSettingsForMigrate(t,n)}})]}),this.state.miniPopVisible&&Object(M.jsx)(z.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}}]),n}(u.a.Component))||de)||de)||de)||de,xe=n(61),we=n.n(xe),ke=n(1148),Oe=n(1149),Se=n(160),ye=n(828),Ne=n(829);function Ae(){Ae=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(_){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,s=Object.create(o.prototype),i=new y(r||[]);return a(s,"_invoke",{value:w(e,n,i)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=l;var d={};function p(){}function h(){}function f(){}var m={};c(m,o,(function(){return this}));var b=Object.getPrototypeOf,j=b&&b(b(N([])));j&&j!==t&&n.call(j,o)&&(m=j);var v=f.prototype=p.prototype=Object.create(m);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,o,s,i){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,i)}),(function(e){r("throw",e,s,i)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,i)}))}i(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function w(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return A()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var i=k(s,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var c=u(e,t,n);if("normal"===c.type){if(a=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a="completed",n.method="throw",n.arg=c.arg)}}}function k(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function y(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=f,a(v,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(x.prototype),c(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var s=new x(l(t,n,a,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=N,y.prototype={constructor:y,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return s.type="throw",s.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var _e,Te=Object(M.jsx)(Se.a,{style:{fontSize:24},spin:!0}),Le=null,Ce=Object(f.b)("sunSwapNetwork")(ve=Object(f.b)("sunSwapPool")(ve=Object(f.b)("network")(ve=Object(f.c)(ve=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(r.a)(Ae().mark((function e(){var t;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.unmount=!1,t=setInterval((function(){a.props.network.isConnected&&(a.timer=setInterval((function(){a.getLiquidityUserData()}),3e3),a.getLiquidityUserData(),clearInterval(t))}),1e3);case 2:case"end":return e.stop()}}),e)}))),a.componentWillUnmount=function(){a.unmount=!0,clearInterval(a.timer)},a.addLiq=function(e){a.props.sunSwapPool.setData({actionLiqV2:1,tokenTwoFixed:!0,tokenInfo:e})},a.removeLiq=function(e){if(!(e.tokens.times(O.a.defaultTokenPrecision).integerValue(D.a.ROUND_DOWN).gt(0)&&e.trx.times(O.a.trxPrecision).integerValue(D.a.ROUND_DOWN).gt(0)&&e.value.times(O.a.defaultTokenPrecision).integerValue(D.a.ROUND_DOWN).gt(0)))return!1;e.tokens.lte(0)||a.props.sunSwapPool.setData({actionLiqV2:2,tokenInfo:e})},a.migrateLiq=function(){var e=Object(r.a)(Ae().mark((function e(t){var n,r,o,s,i,c,l,u,d;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=O.a.wtrxAddress,r=t.tokenAddress,o=a.props.network.defaultAccount,e.next=5,Object(C.n)(o,r,n);case 5:s=e.sent,i=s.exchangeAddr,c=s.exTokenABalance,l=s.exTokenBBalance,u=s.totalLiquidity,d={exchangeAddr:i,exTokenABalance:c,exTokenBBalance:l,totalLiquidity:u},a.setState({migrateModalVisbile:!0,migrateData:t,migrateDataV2:d});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.hasContractV2=function(){var e=Object(r.a)(Ae().mark((function e(t){var n,a,r,o,s,i;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=O.a.wtrxAddress,a=t.tokenAddress,r=Object(D.h)(n,a),o=O.a.chain,s=new we.a({fullHost:o.fullHost}),e.next=7,s.trx.getContract(r);case 7:if(i=e.sent,"{}"!==JSON.stringify(i)){e.next=12;break}return e.abrupt("return",!1);case 12:return!0,e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.hideMigrateModal=function(e){a.setState({migrateModalVisbile:!1})},a.changeAndFree=function(){a.props.sunSwapPool.setData({actionLiqV2:1,tokenTwoFixed:!1,tokenInfo:{tokenAddress:"",tokenSymbol:""},tokenDetail:{trx:new D.a(0),value:new D.a(0),tokens:new D.a(0),price1:"--",price2:"--",exTrx:new D.a(0)}})},a.getContractData=Object(r.a)(Ae().mark((function e(){var t,n;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=a.state.currentPage,!((n=a.props.sunSwapPool.originLiquidityList.slice((t-1)*a.pageSize,(t-1)*a.pageSize+a.pageSize)).length>0)){e.next=8;break}if(a.props.sunSwapPool.originLiquidityList.map((function(e){var t=n.filter((function(t){t.tokenAddress,e.tokenAddress}));t.length>0&&Object.assign(e,t[0])})),!a.unmount){e.next=7;break}return e.abrupt("return");case 7:t===a.state.currentPage&&a.setState({liquidityList:n});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),a.onChange=function(){var e=Object(r.a)(Ae().mark((function e(t){return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({currentPage:t},(function(){a.getContractData()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.showLoginModal=function(e){a.props.network.setData({loginModalVisible:!0,loginModalStep:1})},a.timer=0,a.unmount=!1,a.pageSize=3,a.state={currentPage:1,liquidityList:[],version:window.localStorage.getItem("swapVersion")||"v1.0",migrateModalVisbile:!1,migrateData:"",status:!1},a}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this;e.sunSwapPool.version!==t.version&&this.setState({currentPage:1,liquidityList:[],version:e.sunSwapPool.version,status:!1},(function(){n.getLiquidityUserData(),Le=setTimeout((function(){n.setState({status:!0}),clearTimeout(Le)}),3500)}))}},{key:"getLiquidityUserData",value:function(){var e=Object(r.a)(Ae().mark((function e(){var t,n,a,r,o,s,i,c,l,u,d,p,h,f;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.network.defaultAccount){e.next=3;break}return e.abrupt("return");case 3:return n=this.props.sunSwapPool,a=n.originLiquidityList,void 0===a?[]:a,r=n.version,o="v1.5"===r?2:1,e.next=7,F.a.getLiquidityUserList(t);case 7:s=e.sent,i=s.filter((function(e){return new D.a(e.jswapBalance).gt(0)&&e.ver===o})),c=[],l=Object(he.a)(i);try{for(l.s();!(u=l.n()).done;)d=u.value,new D.a(d.jswapBalance).gt(0)&&c.push(d.address)}catch(m){l.e(m)}finally{l.f()}return e.next=14,Object(C.p)(this.props.network.defaultAccount,c);case 14:p=e.sent,h=0;case 16:if(!(h<(null===(f=p._trx)||void 0===f?void 0:f.length))){e.next=27;break}return i[h].trx=new D.a(p._trx[h]._hex).div(new D.a(10).pow(6)),i[h].value=new D.a(p._token[h]._hex).div(new D.a(10).pow(i[h].tokenDecimal)),i[h].tokens=new D.a(p._uniToken[h]._hex).div(new D.a(10).pow(6)),i[h].share=new D.a(p._uniToken[h]._hex).times(100).div(new D.a(p._totalsupply[h]._hex)),e.next=23,this.hasContractV2(i[h]);case 23:i[h].hasContractV2=e.sent;case 24:h++,e.next=16;break;case 27:i=i.filter((function(e){return Object(D.a)(e.tokens).gt(0)})),this.props.sunSwapPool.setData({originLiquidityList:i}),1===this.state.currentPage&&this.getContractData();case 31:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.liquidityList,a=t.status,r=this.props.network.isConnected,o=this.props.sunSwapPool,s=o.originLiquidityList,i=void 0===s?[]:s,c=(o.version,n.length),l=p.a.options.currentLocale;return Le&&clearTimeout(Le),Le=setTimeout((function(){e.setState({status:!0}),clearTimeout(Le)}),3500),Object(M.jsxs)(oe.a,{className:"pool-content",children:[Object(M.jsx)(X.a,{type:"single",info:p.a.get("sunSwap.pool.base_addLiq_btn"),onClick:this.changeAndFree}),Object(M.jsx)(P.a,{tip:Object(M.jsx)("div",{className:"pool-tooltip-text",children:p.a.get("sunSwap.pool.base_list_title_tip")}),children:p.a.get("sunSwap.pool.base_list_title")+(a&&c>0&&i.length>0?"(".concat(i.length,")"):""),toolClass:"common-tool",titleClass:"common-tool-title",tail:!0,placement:h.a?"left":"bottom"}),!a&&Object(M.jsxs)("section",{className:"err-list loading-section",children:[Object(M.jsx)(fe.a,{indicator:Te,className:"spiny loading-spiny"}),Object(M.jsx)("span",{className:"loading-text",children:p.a.get("sunSwap.loading")})]}),a&&(r?Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("section",{className:c>0?"base-list":"err-list",children:c>0&&i.length>0?Object(M.jsxs)("div",{children:[Object(M.jsx)("ul",{children:n.map((function(t,n){return Object(M.jsxs)("li",{className:"item",children:[Object(M.jsxs)("div",{className:"line-name flex between",children:[Object(M.jsxs)("div",{className:"inline-flex",children:[Object(M.jsx)("img",{className:"logo",src:E.a,alt:""}),Object(M.jsx)("img",{className:"logo",src:t.tokenLogoUrl||I.a,onError:function(e){e.target.onerror=null,e.target.src=I.a},alt:""}),Object(M.jsxs)("div",{children:[Object(M.jsxs)("span",{className:"name",children:[t.tokenSymbol,Object(M.jsx)("span",{className:"symbol",children:"/"}),"TRX"]}),Object(M.jsx)("a",{className:"link",href:"/?lang="+l+"#/scan/pairDetail?version=v1&pairAddress="+(null===t||void 0===t?void 0:t.address)+"&token0Address="+O.a.trxFakeAddress+"&token1Address="+t.tokenAddress,target:"_blank",children:p.a.get("sunSwap.pool.base_info_link")})]})]}),Object(M.jsxs)("div",{className:"inline-flex actions actions-new",children:[!Object.keys(O.a.deflationToken).includes(t.tokenAddress)&&t.hasContractV2&&t.tokens.gt(0)&&t.trx.gt(0)&&t.value.gt(0)&&Object(M.jsx)("span",{className:"link migrate",onClick:function(n){return e.migrateLiq(t)},children:p.a.get("sunSwap.migrate.title")}),Object(M.jsxs)("div",{className:"inline-flex",children:[Object(M.jsx)("span",{className:"link",onClick:function(n){return e.addLiq(t)},children:p.a.get("sunSwap.pool.base_increase_link")}),Object(M.jsx)("span",{className:"link ".concat(t.tokens.times(O.a.trxPrecision).integerValue(D.a.ROUND_DOWN).gt(0)&&t.trx.times(O.a.trxPrecision).integerValue(D.a.ROUND_DOWN).gt(0)&&t.value.times(O.a.defaultTokenPrecision).integerValue(D.a.ROUND_DOWN).gt(0)?"":"disabled"),onClick:function(n){return e.removeLiq(t)},children:p.a.get("sunSwap.pool.base_remove_link")})]})]})]}),Object(M.jsxs)("div",{className:"line-value ",children:[Object(M.jsxs)("div",{className:"flex between",children:[Object(M.jsxs)("p",{children:[p.a.get("sunSwap.pool.base_amount_text"),Object(M.jsxs)("span",{className:"name",children:[t.tokenSymbol,Object(M.jsx)("span",{className:"symbol",children:"/"}),"TRX"]})]}),Object(M.jsx)("p",{children:Object(M.jsxs)("span",{className:"name",children:[p.a.get("sunSwap.pool.base_tokens_text"),Object(M.jsx)("span",{className:"symbol",children:"/"}),p.a.get("sunSwap.pool.base_share_text")]})})]}),Object(M.jsxs)("div",{className:"flex between",children:[Object(M.jsx)("p",{children:t.value&&Object(M.jsxs)("span",{className:"value",children:[t.value._toFixed(4,1),Object(M.jsx)("span",{className:"symbol",children:"/"}),t.trx._toFixed(4,1)]})}),Object(M.jsx)("p",{children:t.value&&Object(M.jsxs)("span",{className:"value",children:[Object(D.l)(t.tokens,{miniText:1e-4,cutZero:!0,dp:4}),Object(M.jsx)("span",{className:"symbol",children:"/"}),t.share.gt(0)&&t.share.lt(.01)?"<0.01":isNaN(t.share._toFixed(2,1))?"--":t.share._toFixed(2,1),"%"]})})]})]})]},t.address)}))}),Object(M.jsx)(me.a,{current:this.state.currentPage,pageSize:3,size:"small",onChange:this.onChange,total:i.length,hideOnSinglePage:!0,itemRender:function(e,t,n){return"prev"===t?Object(M.jsx)("a",{children:Object(M.jsx)("img",{src:ye.a})}):"next"===t?Object(M.jsx)("a",{children:Object(M.jsx)("img",{src:Ne.a})}):n}})]}):Object(M.jsx)("div",{className:"sun-swap-empty-text",children:p.a.get("sunSwap.pool.base_noLiquidity_tip")})})}):Object(M.jsx)("section",{className:"err-list",children:Object(M.jsxs)("span",{className:"wallet-link",onClick:function(t){e.showLoginModal(t)},children:[Object(M.jsx)("img",{src:ke.a}),Object(M.jsx)("span",{children:p.a.get("sunSwap.pool.base_notConnect_tip")}),Object(M.jsx)("img",{src:Oe.a})]})})),this.state.migrateModalVisbile&&Object(M.jsx)(ge,{visible:this.state.migrateModalVisbile,hideMigrateModal:this.hideMigrateModal,migrateData:this.state.migrateData,migrateDataV2:this.state.migrateDataV2,onChange:this.onChange,version:this.props.sunSwapPool.version})]})}}]),n}(u.a.Component))||ve)||ve)||ve)||ve,Ve=n(772),De=(n(812),n(1150)),Pe=(n(1151),n(895),n(1152));function Ie(){Ie=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(_){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,s=Object.create(o.prototype),i=new y(r||[]);return a(s,"_invoke",{value:w(e,n,i)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=l;var d={};function p(){}function h(){}function f(){}var m={};c(m,o,(function(){return this}));var b=Object.getPrototypeOf,j=b&&b(b(N([])));j&&j!==t&&n.call(j,o)&&(m=j);var v=f.prototype=p.prototype=Object.create(m);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,o,s,i){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,i)}),(function(e){r("throw",e,s,i)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,i)}))}i(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function w(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return A()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var i=k(s,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var c=u(e,t,n);if("normal"===c.type){if(a=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a="completed",n.method="throw",n.arg=c.arg)}}}function k(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function y(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=f,a(v,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(x.prototype),c(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var s=new x(l(t,n,a,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=N,y.prototype={constructor:y,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return s.type="throw",s.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var Ee=m.a.TabPane,Be=Object(f.b)("sunSwapNetwork")(_e=Object(f.b)("sunSwapPool")(_e=Object(f.c)(_e=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(r.a)(Ie().mark((function e(){var t,n,r,o,s,i,c;return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),a.getTvlData(),a.setVersion(),Object(D.A)(),a.props.sunSwapNetwork.setData({defaultSelectedKeys:"1"}),a.props.sunSwapNetwork.getSettingsData(),a.settingsRef.current.initState(a.props.sunSwapNetwork.settingSlippage,a.props.sunSwapNetwork.settingDeadline),e.prev=7,a.props.sunSwapPool.setData({swapRef:a.swapRef,addRef:a.addRef}),t=Object(D.q)("type"),n=Object(D.q)("tokenAddress")||"",r=Object(D.q)("t1")||"",o=Object(D.q)("t0")||"",s=Object(D.q)("s"),i=window.location.hash.replace(/&s=\d/,""),c=window.location.origin+i,s&&window.history.pushState({},0,c),"add"===t?(a.props.sunSwapPool.setData({actionLiqV2:1,tokenInfo:{tokenAddress:n||r||o,tokenSymbol:""}}),a.setState({activeKey:"1"})):"pool"===t?(a.props.sunSwapPool.setData({actionLiqV2:0,tokenInfo:{tokenAddress:n,tokenSymbol:""}}),a.setState({activeKey:"1"})):"swap"===t&&(a.props.sunSwapPool.setData({actionLiqV2:9}),a.setState({activeKey:"2"})),a.props.sunSwapPool.getTokensDataFromLocal(),e.next=21,a.props.sunSwapPool.getTokensCategory();case 21:a.setState({isShow:!0}),e.next=26;break;case 24:e.prev=24,e.t0=e.catch(7);case 26:a.setState({visible:!window.localStorage.getItem("noRemind"),version:window.localStorage.getItem("swapVersion")});case 27:case"end":return e.stop()}}),e,null,[[7,24]])}))),a.setVersion=function(){window.localStorage.setItem("swapVersion",De.a),a.props.sunSwapPool.setData({version:De.a})},a.changeTab=function(){var e=Object(r.a)(Ie().mark((function e(t){var n;return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a.setState({activeKey:t}),"1"!==t){e.next=6;break}a.props.sunSwapPool.setData({actionLiqV2:0}),e.next=13;break;case 6:return a.props.sunSwapPool.setData({actionLiqV2:9}),n=window.localStorage.getItem("swapVersion"),a.swapRef.current.getExchangesFunc(n,"swap",O.a.trxFakeAddress,!0),e.next=11,a.swapRef.current.fromTokenRef.current.setTokenList(Object(r.a)(Ie().mark((function e(){return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a.swapRef.current.state.fromToken&&a.swapRef.current.state.fromToken.tokenAddress,!e.t0){e.next=4;break}return e.next=4,a.swapRef.current.fromTokenRef.current.setTokenAddress(a.swapRef.current.state.fromToken.tokenAddress);case 4:case"end":return e.stop()}}),e)}))));case 11:return e.next=13,a.swapRef.current.toTokenRef.current.setTokenList(Object(r.a)(Ie().mark((function e(){return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a.swapRef.current.state.toToken&&a.swapRef.current.state.toToken.tokenAddress,!e.t0){e.next=4;break}return e.next=4,a.swapRef.current.toTokenRef.current.setTokenAddress(a.swapRef.current.state.toToken.tokenAddress);case 4:case"end":return e.stop()}}),e)}))));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),a.closeModal=function(){a.setState({visible:!1})},a.getTvlData=Object(r.a)(Ie().mark((function e(){return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{j.a.get("".concat(O.a.tvl)).then((function(e){var t,n;200===e.status&&(null===(t=e.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.allSwaps)&&a.setState({totalStakeValue:Number(e.data.data.allSwaps)})}))}catch(t){}case 1:case"end":return e.stop()}}),e)}))),a.onComplete=function(){a.setState({isAnimationNotDone:!1})},a.start=function(){},a.onVersionChange=function(e){var t=e.route,n=a.props.sunSwapPool.actionLiqV2;if(!t||"sun_swap/v1"!==t){var r="";if(9===n){var o=a.swapRef.current.state.fromToken.tokenAddress,s=a.swapRef.current.state.toToken.tokenAddress;o?(r="&t0=".concat(o),s&&(r+="&t1=".concat(s))):s&&(r="&t1=".concat(s)),r+="&type=swap"}else 0===n&&(r+="&type=pool");1===n&&(r="&t0="+O.a.trxFakeAddress+(a.props.sunSwapPool.tokenInfo.tokenAddress===O.a.wtrxAddress?"":"&t1="+a.props.sunSwapPool.tokenInfo.tokenAddress),r+="&type=add");var i=window.location.origin+window.location.pathname;window.location.href=i+"?lang=".concat(a.state.lang).concat(r,"#/").concat(t)}},a.settingsRef=u.a.createRef(),a.swapRef=u.a.createRef(),a.addRef=u.a.createRef(),a.state={lang:window.localStorage.getItem("lang")||p.a.options.currentLocale,activeKey:"2",visible:!1,isAnimationNotDone:!0,isShow:!1,toastStatus:!0,version:De.a},a.totalStakeValue="0.00",a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.totalStakeValue,a=t.isAnimationNotDone,r=t.isShow,o=t.version;return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"home",children:[Object(M.jsx)(Ve.a,{customJump:[{key:"v1",handler:this.onVersionChange},{key:"v2",handler:this.onVersionChange}],subNavProps:{isCustom:!0,onItemClick:this.onVersionChange},routeName:"sun_swap/v1",mountedActions:function(){},instantActions:function(){}}),Object(M.jsxs)("div",{className:"swap-and-pool",children:[Object(M.jsxs)("section",{className:"main-content"+(o?" switch-version ".concat("v1.5"===o?"v15":"v2.0"===o?"v2":"v1"):"")+(Object(h.a)(window.navigator).any?" mobile-content":""),children:[Object(M.jsxs)("div",{className:"total-ele",children:[Object(M.jsx)("p",{className:"total-title",children:p.a.get("sunSwap.total_stake")}),Object(M.jsx)("p",{className:"total-value",children:r?Object(M.jsx)(g.a,{ref:function(t){return e.countup=t},className:"custom-count",start:0,end:Number(Object(D.a)(n).toFixed(0,1)),duration:.5,redraw:a,separator:",",decimal:",",prefix:"$ ",suffix:"",onEnd:this.onComplete,onStart:this.start}):Object(M.jsx)("span",{className:"custom-count",children:"\xa0"})})]}),Object(M.jsxs)("div",{className:"nav-style-swap-wrap",children:[Object(M.jsx)("div",{className:"swap-style-header",children:Object(M.jsx)(Pe.a,{list:[{label:"V2",value:"V2",route:"sun_swap/v2",handler:this.onVersionChange},{label:"V1",value:"V1",route:"sun_swap/v1",handler:this.onVersionChange}],activeKey:"V1"})}),Object(M.jsx)("div",{className:"nav-style-swap-inner",children:Object(M.jsxs)(m.a,{defaultActiveKey:"2",animated:!1,id:"swap-tab",activeKey:this.state.activeKey,onTabClick:function(t){return e.changeTab(t)},children:[Object(M.jsx)(Ee,{tab:p.a.get("sunSwap.tab.swap_text"),children:Object(M.jsx)(pe,{ref:this.swapRef})},"2"),Object(M.jsx)(Ee,{tab:p.a.get("sunSwap.tab.pool_text"),children:0===this.props.sunSwapPool.actionLiqV2?Object(M.jsx)(Ce,{}):1===this.props.sunSwapPool.actionLiqV2?Object(M.jsx)($,{ref:this.addRef}):Object(M.jsx)(re,{})},"1")]})})]})]}),Object(M.jsx)(be.a,{ref:this.settingsRef,visible:this.props.sunSwapNetwork.settingVisible,onCancel:function(t){e.props.sunSwapNetwork.setData({settingVisible:!1})},onChange:function(t,n){e.props.sunSwapNetwork.setData({settingVisible:!1}),e.props.sunSwapNetwork.saveSettings(t,n),e.swapRef.current&&e.swapRef.current.onSlippageChange()}})]})]})})}}]),n}(u.a.Component))||_e)||_e)||_e;t.default=Be},772:function(e,t,n){"use strict";var a=n(1),r=n(33),o=n(4),s=n(131),i=n(160),c=n(1944),l=n(1923),u=n(766),d=n(106),p=n(43),h=n.n(p),f=n(67),m=n(2),b=n.n(m),j=n(17),v=n.n(j),g=(n(870),n(257)),x=n.p+"static/media/Tronlink.92ec32d5.svg",w=n.p+"static/media/white-close.481cddd1.svg",k=n(3),O=n(175),S=n(0),y=n(779),N=n(51),A=n(34),_=n.n(A),T=n(14),L=n(812),C=n(858),V=n(907),D=n(827),P=(n(931),n(859)),I=n(8),E=Object(m.memo)((function(e){var t=e.menu,n=e.customItems,a=e.onItemClick,r=Object(m.useCallback)((function(e,t){t.stopPropagation(),a(e,t)}),[a]);return Object(I.jsxs)("div",{className:"bottom-sub-nav",children:[Object(I.jsx)("div",{className:"bottom-sub-nav-inner",children:t.map((function(e){var t=e.icon,a=e.iconActive,o=e.corner,s=e.cornerActive;return Object(I.jsx)(C.a,{item:e,isCustom:!!n[e.id],clsPrefix:"bottom-sub",handleClick:r,renderContent:function(e,n){return Object(I.jsxs)(I.Fragment,{children:[t&&Object(I.jsx)("img",{className:"bottom-sub-nav-item-icon",src:n?a:t,alt:"icon"}),e.text,o&&Object(I.jsx)("img",{className:"bottom-sub-nav-item-corner",src:n?s:o,alt:"corner"})]})}},e.id)}))}),Object(I.jsx)("div",{className:"bottom-sub-nav-arrow"})]})})),B=Object(m.memo)((function(e){var t=e.item,n=e.onItemClick,a=void 0===n?function(){}:n,r=e.customItems,o=void 0===r?{}:r,s=e.clsPrefix,i=void 0===s?"bottom":s,c=e.showMenu,l=e.activeItem,u=e.activeMenu,d=t.subRoutes&&t.subRoutes.length>0,p=t.icon,h=t.iconActive,f=!c&&(l===t.id||u===t.id)||c&&d&&c===t.id;return Object(I.jsx)(C.a,{item:t,isCustom:!!o[t.id],itemActive:f,clsPrefix:i,handleClick:a,subNavOpen:d&&c===t.id,renderContent:function(){return Object(I.jsxs)(I.Fragment,{children:[p&&Object(I.jsx)("img",{src:f?h:p,className:Object(D.a)(i,"nav-icon"),alt:"icon"}),Object(I.jsx)("div",{className:Object(D.a)(i,"nav-item-text"),children:t.text}),d&&c===t.id&&Object(I.jsx)(E,{menu:t.subRoutes,customItems:o,onItemClick:a})]})}})})),F=Object(m.memo)((function(e){var t=Object(m.useState)(!1),n=Object(r.a)(t,2),a=n[0],s=n[1],i=Object(m.useState)("home"),c=Object(r.a)(i,2),l=c[0],u=c[1],d=Object(m.useState)("home"),p=Object(r.a)(d,2),h=p[0],f=p[1],b=window.localStorage.getItem("lang"),j=e.customJump,v=(void 0===j?[]:j).reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(T.a)({},t.key,t))}),{});Object(m.useEffect)((function(){var e=Object(L.d)();u(e.id),f(e.parentId)}),[l,a]);var g=Object(m.useCallback)((function(e){Math.abs(e.diffY)>1&&s(!1)}),[]);Object(P.a)(g);var x=Object(m.useCallback)((function(e){var t;e.subRoutes&&e.subRoutes.length?s(e.id!==a&&e.id):(s(!1),v[e.id]&&(null===(t=v[e.id])||void 0===t||t.handler(e)))}),[a,v]);return Object(I.jsxs)("div",{className:"bottom-nav-wrap",children:[Object(I.jsx)("div",{className:"bottom-nav-list",children:L.c.map((function(e){return Object(I.jsx)(B,{item:e,activeItem:l,activeMenu:h,showMenu:a,changeShowMenu:s,onItemClick:x,lang:b,customItems:v})}))}),a&&Object(I.jsx)(V.a,{style:{zIndex:100},onClose:function(){return s(!1)}})]})})),R=function(e){var t=Object(m.useState)(!1),n=Object(r.a)(t,2),a=n[0],o=n[1];return Object(m.useEffect)((function(){var t=window.matchMedia(e);o(t.matches);var n=function(e){o(e.matches)};try{t.addEventListener("change",n)}catch(a){t.addListener(n)}return function(){try{t.removeEventListener("change",n),t.removeListener(n)}catch(a){}}}),[]),a},M=n.p+"static/media/back_icon.603ba397.svg",q=n.p+"static/media/ico_sucncurve_right.263c51c2.svg",U=(n(932),function(e){var t=Object(L.d)(),n=t?Object(L.f)(t):[],a=e.showBack,r=e.navList,o=void 0===r?n:r,s=e.isCustom,i=e.cls,c=e.onItemClick,l=e.itemActive,u=e.onBack,d=e.renderBackRight,p=e.shouldScroll,h=e.navRightMoreShow,f=e.navRightMoreClick,b=Object(m.useRef)(null);if(Object(m.useEffect)((function(){if(b&&b.current&&p){var e=b.current.querySelector(".sub-nav-item-active");if(!e)return;b.current.scrollLeft;var t=e.getBoundingClientRect(),n=t.right,a=t.left,r=document.body.clientWidth,o=(n-a)/2+a,s=r/2;o>s&&(n+15>r&&(b.current.scrollLeft=o-s),b.current.scrollTo({left:o-s,behavior:"smooth"}))}}),[b,p]),!a&&!o.length)return null;return Object(I.jsxs)(I.Fragment,{children:[a&&Object(I.jsxs)("div",{className:"sub-nav-back",children:[Object(I.jsx)("img",{className:"sub-nav-back-icon",src:M,alt:"back",onClick:function(){u?u():window.history.back()}}),d&&d()]}),Object(I.jsxs)("div",{className:"sub-nav-box",children:[Object(I.jsx)("div",{className:_()("sub-nav-wrap",i,{"show-jump-right-nav":h}),ref:b,children:Object(I.jsx)("div",{className:"sub-nav-wrap-div",children:o.map((function(e){var t=e.subIcon,n=e.subIconActive,a=e.corner,r=e.cornerActive;return Object(I.jsx)(C.a,{isCustom:e.isCustom||s,handleClick:e.onItemClick||c,item:e,clsPrefix:"sub",renderContent:function(e,o){return Object(I.jsxs)(I.Fragment,{children:[t&&Object(I.jsx)("img",{className:"sub-nav-item-icon",src:o?n:t,alt:"icon"}),e.text,a&&Object(I.jsx)("img",{className:"sub-nav-item-corner",src:o?r:a,alt:"corner"})]})},itemActive:l?l(e):void 0})}))})}),h?Object(I.jsx)("div",{className:"sub-nav-right-wrap",children:Object(I.jsx)("div",{className:"sub-nav-right-btn",onClick:function(){f&&f()},children:Object(I.jsx)("img",{src:q,alt:"SunCurve"})})}):""]})]})});U.defaultProps={isCustom:!1,cls:"",showSubNav:!1,showBack:!1,shouldScroll:!1,navRightMoreShow:!1};var G=Object(m.memo)(U),W=n(174),X=window.localStorage.getItem("lang")||v.a.options.currentLocale||"en-US",H=(n(933),Object(W.c)((function(e){var t=e.mShowLogo,n=e.subNavProps,a=Object(f.d)((function(){return O.a.network})),r=Object(f.d)((function(){return O.a.accountCenter}));return Object(I.jsxs)(I.Fragment,{children:[t&&Object(I.jsxs)("div",{className:"mobile-header mobile-header-wrap",children:[Object(I.jsx)("a",{href:"/?lang=".concat(X,"#/home"),className:"mobile-logo"}),Object(I.jsx)("div",{className:"mobile-header-right",children:Object(I.jsx)("div",{className:_()({"mobile-connect-btn":!0,"mobile-connected":a.isConnected}),onClick:function(){a.isConnected?r.toggleAccountCenter(!0):a.showLoginModal()},children:a.isConnected?Object(S.q)(a.defaultAccount,4,3):v.a.get("header.connect_wallet")})})]}),Object(I.jsx)(G,Object(o.a)({},n))]})}))),z=(n(934),n(118)),Y=function(e){return"".concat(e,"FetchParams")},J=n(1935),K=(n(1913),n(1916),function(e){var t=e.accountAddress,n=e.prefix,a=void 0===n?"wallet":n,o=(e.walletName,e.sunioAdapterName,e.isMobileStatus),s=void 0!==o&&o,i=(e.onClose,e.setExpirationTime,e.disConnectWallet),c=Object(m.useState)(window.localStorage.getItem("expirationTime")||1),l=Object(r.a)(c,2),u=(l[0],l[1],Object(f.d)((function(){return O.a.network}))),d=function(){return e.WALLET_LIST_DATA.filter((function(e){return e.type===u.sunioAdapterName}))[0].logo},p=function(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:Object(D.a)(a,"wrap"),children:[Object(I.jsx)("img",{className:Object(D.a)(a,"logo"),src:d(),alt:"logo"}),Object(I.jsx)("div",{className:Object(D.a)(a,"info"),children:e.WALLET_LIST_DATA.filter((function(e){return e.type===u.sunioAdapterName}))[0].tip}),Object(I.jsx)("div",{className:Object(D.a)(a,"btn"),onClick:function(e){i()},children:v.a.get("account_modal.disconnect")})]}),Object(I.jsxs)("div",{className:Object(D.a)(a,"address"),children:[Object(I.jsxs)("span",{className:Object(D.a)(a,"label"),children:[v.a.get("account_modal.wallet_address"),"\uff1a"]}),t,Object(I.jsx)("span",{className:Object(D.a)(a,"copy"),onClick:function(){Object(S.p)({value:t})}})]})]})},h=function(){return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:Object(D.a)(a,"wrap-mobile"),children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("img",{className:Object(D.a)(a,"logo"),src:d(),alt:"logo"}),Object(I.jsxs)("div",{children:[Object(I.jsxs)("span",{className:Object(D.a)(a,"mobile-address"),children:[t?Object(S.q)(t,8,3):""," "]}),Object(I.jsx)("span",{className:Object(D.a)(a,"copy"),onClick:function(){Object(S.p)({value:t})}})]})]}),Object(I.jsx)("div",{className:Object(D.a)(a,"btn"),onClick:function(e){i()},children:v.a.get("account_modal.disconnect")})]})})};return Object(I.jsx)(I.Fragment,{children:s?Object(I.jsx)(h,{}):Object(I.jsx)(p,{})})}),Z=b.a.memo(K),Q=n(1908),$=n(1911),ee=n(1e3),te=n(46),ne=n.n(te),ae=n(929),re=function(e,t){if(/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){for(var n="#",a=1;a<4;a+=1)n+=e.slice(a,a+1).concat(e.slice(a,a+1));e=n}for(var r=[],o=1;o<7;o+=2)r.push(parseInt("0x"+e.slice(o,o+2)));return t?"RGBA("+[].concat(r,[t]).join(",")+")":"RGB("+r.join(",")+")"}return e},oe=function(e){var t=e.shape,n=void 0===t?"circle":t,a=e.color,r=e.text,s=e.style,i=void 0===s?{}:s,c=e.opacity,l=void 0===c?"0.1":c;return Object(I.jsx)("span",{className:_()("trade-status-tag","trade-status-tag-".concat(n)),style:Object(o.a)(Object(o.a)({},i),{},{color:a,backgroundColor:re(a,l)}),children:r})},se=Object(m.memo)(oe),ie=n(828),ce=n(829),le=n(832),ue=n(24),de=(n(938),n(369)),pe=n(373),he=n(374),fe=n(375),me=n(376),be=n(377),je=n(368),ve=n(367),ge=n(386),xe=n(381),we=n(388),ke=n(390),Oe=n(384),Se=n(391),ye=n(394),Ne=n(387),Ae=n(389),_e=n(385),Te=n(393),Le=n(401),Ce=n(405),Ve=n(399),De=n(396),Pe=n(398),Ie={twopoollpNew:he.default,twopoollp:pe.default,thrpoollp:de.default,thrpoollpNew:fe.default,thrsunlp:[je.default,ve.default],usddtrx:me.default,usddusdt:be.default,usdcusdt:ge.default,busd2poollp:xe.default,usdd2poollp:we.default,usdj2poollp:ke.default,tusd2poollp:Oe.default,usdttusd:Se.default,usdd2Pool_2:Ne.default,usdj2Pool_2:Ae.default,usdc2Pool_2:_e.default,busd2Pool_2:ye.default,bttusdt2:Te.default,trxusdt:Le.default,winusdt2:Ce.default,sunusdt2:Ve.default,jstusdt2:De.default,nftusdt2:Pe.default,default:Object(ue.c)("default")},Ee=function(e){try{return e?e.split(" ")[0].split("-"):[]}catch(t){return console.log("transferSymbolToToken error"),[]}},Be=function(e){var t=e.stake,n=void 0===t?{}:t,a=n.id,r=n.symbol,o=n.version,s=Ie[a];if(s)return Object(I.jsx)("div",{className:"sun-stake-logo",children:Array.isArray(s)?s.map((function(e,t){return Object(I.jsx)("img",{src:e},t)})):Object(I.jsx)("img",{src:s,alt:"logo"})});if(r&&Ee(r).length){var i=Ee(r);return Object(I.jsx)("div",{className:_()("sun-stake-logo","sun-stake-logo-".concat(i.length)),children:i.map((function(e){return Object(I.jsx)("img",{src:2==o?ue.b[e.toLowerCase()]:ue.a[e.toLowerCase()],alt:""},e)}))})}return Object(I.jsx)("div",{className:"sun-stake-logo",children:Object(I.jsx)("img",{src:Object(ue.c)("default"),alt:"logo"})})},Fe=Object(m.memo)(Be),Re=function(e){e.empty;var t=e.className,n=e.style,a=e.size,r=void 0===a?20:a;return Object(I.jsx)("div",{className:_()("infinite-loading",t),style:n,children:Object(I.jsx)("img",{className:"infinite-loading-circle",style:{width:r,height:r},src:le.a,alt:"loading"})})},Me=Object(m.memo)(Re),qe=n(909),Ue=n.p+"static/media/no_data_center.8292509c.png",Ge="2023-01-01",We=ne()().diff(ne()("2023-07-01"))>=0,Xe=function(e){return Object(I.jsx)(qe.a,{className:"account-list-empty",img:Ue,emptyText:We?v.a.get("account_center.trade_list_no_data_text"):v.a.get("account_center.trade_list_no_data",{time:Ge})})},He=function(e){return Object(I.jsx)("div",Object(o.a)(Object(o.a)({className:"account-list-tip"},e),{},{children:We?v.a.get("account_center.trade_time_tip_text"):v.a.get("account_center.trade_time_tip",{time:Ge})}))},ze=["id","pageNo","handlePageChange","children","loading","dataLength"],Ye={dp:4},Je=function(e){return new Date(e+288e5).toJSON().substr(0,16).replace("T"," ")},Ke=function(e){var t,n,a=e.stackLogoId,r=e.stackName,o=k.a.tokens,s=(null===(t=o[a])||void 0===t?void 0:t.symbol)||r;return s="USDC Old LP"===s&&X===S.Q["zh-CN"].value?"Old USDC LP":s,"".concat(s," ").concat((null===(n=o[a])||void 0===n?void 0:n.lpTokens)?"  ( "+o[a].lpTokens.join(" + ")+" )":"")},Ze=function(e){return function(t,n){return Object(I.jsx)("div",{className:Object(D.a)(e,"dark-tabs-header"),children:t.panes.map((function(n){var a;return Object(I.jsx)("div",{className:_()((a={},Object(T.a)(a,Object(D.a)(e,"dark-tabs-item"),n),Object(T.a)(a,Object(D.a)(e,"dark-tabs-item-active"),t.activeKey===n.key),a)),onClick:function(e){return t.onTabClick(n.key,e)},children:n.props.tab},n.key)}))})}},Qe=Object(m.memo)((function(e){var t,n=e.data,a=e.loading,r=e.handlePageChange,o=e.params,s=e.columns,i=!(null===n||void 0===n||null===(t=n.list)||void 0===t?void 0:t.length);return!a&&i?Object(I.jsx)(Xe,{}):Object(I.jsx)(Q.a,{className:"dark-table dark-pagination",bordered:!1,showHeader:!1,columns:s,dataSource:n.list,loading:{spinning:a,tip:v.a.get("account_center.loading"),indicator:Object(I.jsx)(Me,{size:30,className:"dark-table-loading"})},pagination:{position:["bottomCenter"],total:n.totalCount,pageSize:z.b,size:"small",defaultCurrent:1,current:o.pageNo,showSizeChanger:!1,onChange:function(e){return r(e)},itemRender:function(e,t,n){return"prev"===t?Object(I.jsx)("a",{children:Object(I.jsx)("img",{src:ie.a})}):"next"===t?Object(I.jsx)("a",{children:Object(I.jsx)("img",{src:ce.a})}):n}},footer:function(){return Object(I.jsx)(He,{})}})})),$e=b.a.memo((function(e){var t=e.currentType,n=e.handlePageChange,a=e.handleTabChange,r=e.loading,o=e.stakeData,s=e.liquidityData,i=e.getReqKey,c=Object(m.useMemo)((function(){return[{dataIndex:"stackAddr",key:"stackAddr",render:function(e,t){var n=t.type,a=t.stackSym,r=t.amount,o=t.stackLogoId,s=t.version,i=(z.c[n]||z.c.default).color;return Object(I.jsxs)("div",{children:[Object(I.jsx)(Fe,{stake:{id:o,symbol:a,version:s}}),Object(I.jsxs)("div",{className:"trade-pool-info",children:[Object(I.jsxs)("div",{className:"trade-cell-light",children:[Object(S.u)(r,Ye),Object(I.jsx)(se,{style:{verticalAlign:"top",marginLeft:10},color:i,text:v.a.get("account_center.stake_status_".concat(n))})]}),Object(I.jsx)("div",{className:"trade-cell-gray",children:Ke(t)})]})]})}},{dataIndex:"date",key:"date",render:function(e,t){var n=t.value;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"trade-cell-light trade-text-right",style:{marginBottom:2},children:["$",Object(S.u)(n,Ye)]}),Object(I.jsx)("div",{className:"trade-cell-gray trade-text-right",children:Je(e)})]})}}]}),[]),l=Object(m.useMemo)((function(){return[{dataIndex:"tokenInfoList",key:"tokenInfoList",render:function(e,t){var n=t.type,a=(z.a[n]||z.a.default).color;return Object(I.jsxs)("div",{children:[Object(I.jsx)(se,{style:{verticalAlign:"top"},color:a,text:v.a.get("account_center.liq_status_".concat(n))}),Object(I.jsx)("div",{className:"trade-liquidity-token-wrap",children:e.map((function(e){return Object(I.jsxs)("div",{className:"trade-liquidity-token-from",children:[Object(I.jsx)(ae.a,{style:{width:17,height:17},src:e.tokenLogo}),Object(I.jsx)("span",{className:"trade-cell-gray trade-liquidity-token-name",children:e.tokenSymbol}),Object(I.jsx)("span",{className:"trade-cell-light",children:Object(S.u)(e.amount,Ye)})]})}))})]})}},{dataIndex:"time",key:"time",align:"right",className:"trade-liquidity-pc-list-time",render:function(e,t){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"trade-cell-gray",style:{marginBottom:16},children:Je(e)}),Object(I.jsxs)("div",{className:"trade-cell-light",children:["$",Object(S.u)(t.value,Ye)]})]})}}]}),[]);return Object(I.jsxs)($.a,{activeKey:t,renderTabBar:Ze(),type:"card",onChange:a,className:"dark-tabs",children:[Object(I.jsx)($.a.TabPane,{tab:v.a.get("account_center.tab_liquidity"),children:Object(I.jsx)(Qe,{params:e[i(z.d.liquidity)],handlePageChange:n,data:s,loading:r.liquidity,columns:l})},z.d.liquidity),Object(I.jsx)($.a.TabPane,{tab:v.a.get("account_center.tab_stake"),children:Object(I.jsx)(Qe,{params:e[i(z.d.stake)],handlePageChange:n,data:o,loading:r.stake,columns:c})},z.d.stake)]})})),et=Object(m.memo)((function(e){var t=e.tokenLogoUrl,n=e.tokenSymbol,a=e.amount,r=e.value,o=e.isStake,s=e.stakeData,i=e.showValue,c=void 0===i||i;return Object(I.jsxs)("div",{className:"trade-token-item",children:[o?Object(I.jsx)(Fe,{stake:s}):Object(I.jsx)(ae.a,{src:t}),Object(I.jsxs)("div",{className:"trade-token-item-right",children:[Object(I.jsxs)("div",{className:"trade-token-item-amount",children:[Object(I.jsx)("span",{className:"trade-font-14 trade-font-light trade-font-w-600",children:Object(S.u)(a,Ye)}),c?Object(I.jsxs)("span",{className:"trade-font-14 trade-font-light",children:["$",Object(S.u)(r,Ye)]}):null]}),Object(I.jsx)("div",{className:"trade-font-14 trade-font-gray",children:n})]})]})})),tt=Object(m.memo)((function(e){var t=e.showStatus,n=e.color,a=e.statusText,r=e.value,o=e.noValText,s=void 0===o?"":o,i=e.className,c=e.showNoVal,l=void 0!==c&&c,u=e.date,d=e.children;return Object(I.jsxs)("div",{className:_()("mobile-trade-item",i),children:[Object(I.jsxs)("div",{className:"mobile-trade-item-header",children:[t&&Object(I.jsx)(se,{color:n,shape:"bar",text:a}),Object(I.jsx)("span",{className:_()({"mobile-trade-item-header-value":!0,"mobile-trade-item-header-value-err":l}),children:l?s:"$".concat(Object(S.u)(r,Ye))}),Object(I.jsx)("span",{className:"mobile-trade-item-header-date",children:u})]}),Object(I.jsx)("div",{className:"mobile-trade-item-content",children:d})]})})),nt=function(e){var t=e.id,n=e.pageNo,a=e.handlePageChange,r=e.children,i=e.loading,c=e.dataLength,l=Object(s.a)(e,ze);return Object(I.jsx)("div",{id:t,className:"sun-scroll-bar",style:{height:472,overflow:"auto"},children:Object(I.jsx)(ee.a,Object(o.a)(Object(o.a)({next:function(){if(!i)return a(n+1,!0)},scrollableTarget:t,dataLength:c,loader:Object(I.jsx)(Me,{}),endMessage:c?Object(I.jsx)(He,{style:{padding:"10px 16px"}}):Object(I.jsx)(Xe,{}),pullDownToRefreshContent:Object(I.jsx)(Me,{style:{marginBottom:10}}),releaseToRefreshContent:Object(I.jsx)(Me,{style:{marginBottom:10}}),refreshFunction:function(){if(!i)return a(1)},pullDownToRefresh:!0,pullDownToRefreshThreshold:50},l),{},{children:r}))})},at=b.a.memo((function(e){var t,n,a,r,o=e.currentType,s=e.handlePageChange,i=e.handleTabChange,c=e.loading,l=e.stakeData,u=e.liquidityData,d=e.stakeFetchParams,p=e.liquidityFetchParams,h=(u.totalCount||0)-p.pageNo*p.pageSize,f=(l.totalCount||0)-d.pageNo*d.pageSize;return Object(I.jsxs)($.a,{activeKey:o,renderTabBar:Ze("mobile"),type:"card",onChange:i,className:"mobile-dark-tabs",children:[Object(I.jsx)($.a.TabPane,{tab:v.a.get("account_center.tab_liquidity"),children:Object(I.jsx)(nt,{id:"liquidity-scroll-list",dataLength:(null===(t=u.list)||void 0===t?void 0:t.length)||0,hasMore:h>0,handlePageChange:s,pageNo:p.pageNo,loading:c.liquidity,children:null===(n=u.list)||void 0===n?void 0:n.map((function(e){var t=e.time,n=e.type,a=e.value,r=e.tokenInfoList;return Object(I.jsx)(tt,{showStatus:!0,color:(z.a[n]||z.a.default).color,statusText:v.a.get("account_center.liq_status_".concat(n)),value:a,date:Je(t),className:"mobile-trade-item-liquidity",children:r.map((function(e){var t=e.tokenLogo,n=e.tokenSymbol,a=e.amount;return Object(I.jsx)(et,{showValue:!1,tokenLogoUrl:t,tokenSymbol:n,amount:a})}))})}))})},z.d.liquidity),Object(I.jsx)($.a.TabPane,{tab:v.a.get("account_center.tab_stake"),children:Object(I.jsx)(nt,{id:"stake-scroll-list",handlePageChange:s,dataLength:(null===(a=l.list)||void 0===a?void 0:a.length)||0,hasMore:f>0,pageNo:d.pageNo,loading:c.stake,children:null===(r=l.list)||void 0===r?void 0:r.map((function(e){var t=e.date,n=e.amount,a=e.version,r=e.stackLogoId,o=e.stackSym,s=e.type,i=e.value,c=e.stackName;return Object(I.jsx)(tt,{showStatus:!0,color:(z.c[s]||z.c.default).color,statusText:v.a.get("account_center.stake_status_".concat(s)),date:Je(t),showNoVal:!0,noVal:"",children:Object(I.jsx)(et,{stakeData:{id:r,symbol:o,version:a},tokenSymbol:Ke({stackLogoId:r,stackName:c}),amount:n,value:i,isStake:!0})})}))})},z.d.stake)]})})),rt=function(e){var t=e.onClose,n=e.visible,a=e.accountAddress,r=e.sunioAdapterName,s=e.disConnectWallet,i=e.setExpirationTime,c=e.WALLET_LIST_DATA;return Object(I.jsxs)(J.a,{onClose:t,className:"mobile-account-center-modal wallet-address-modal",visible:n,closable:!1,placement:"bottom",height:590,children:[Object(I.jsx)(Z,{isMobileStatus:!0,accountAddress:a,sunioAdapterName:r,onClose:t,disConnectWallet:s,setExpirationTime:i,WALLET_LIST_DATA:c}),Object(I.jsx)(at,Object(o.a)({},e))]})},ot=function(e){var t=e.visible,n=e.accountAddress,a=e.sunioAdapterName,r=e.onClose,s=e.disConnectWallet,i=e.setExpirationTime,c=e.WALLET_LIST_DATA;return Object(I.jsxs)(u.a,{width:600,wrapClassName:"dark-modal wallet-address-modal",footer:null,title:"",visible:t,onCancel:r,centered:!0,children:[Object(I.jsx)(Z,{accountAddress:n,sunioAdapterName:a,onClose:r,disConnectWallet:s,setExpirationTime:i,WALLET_LIST_DATA:c}),Object(I.jsx)($e,Object(o.a)({},e))]})},st=Object(W.c)((function(e){var t=function(){var e,t=Object(f.d)((function(){return O.a.accountCenter})),n=Object(f.d)((function(){return O.a.network})),a=R("(max-width: 1200px)"),r=t.currentType,s=t.pageParams,i=t.onTabChange,c=t.loading,l=t.stakeData,u=t.liquidityData,d=t.visible,p=Y(r);return Object(m.useEffect)((function(){d&&(t.fetchTradeData(z.d.stake,Object(o.a)({},t[p])),t.fetchTradeData(z.d.liquidity,Object(o.a)({},t[p]))),d||t.resetPageData()}),[d]),e={visible:d,sunioAdapterName:n.sunioAdapterName,accountAddress:n.defaultAccount,currentType:r,pageParams:s,handleTabChange:function(e){i(e)},loading:c,stakeData:l,liquidityData:u,handlePageChange:function(e,n){t.setData(Object(T.a)({},p,Object(o.a)(Object(o.a)({},t[p]),{},{pageNo:e}))),t.fetchTradeData(r,Object(o.a)({},t[p]),n)}},Object(T.a)(e,Y(z.d.liquidity),t[Y(z.d.liquidity)]),Object(T.a)(e,Y(z.d.stake),t[Y(z.d.stake)]),Object(T.a)(e,"getReqKey",Y),Object(T.a)(e,"onClose",(function(){t.toggleAccountCenter(!1)})),Object(T.a)(e,"setExpirationTime",(function(e){n.setExpirationTime(e)})),Object(T.a)(e,"disConnectWallet",(function(){n.disConnectWallet()})),Object(T.a)(e,"isMobileStatus",a),e}(),n=e.WALLET_LIST_DATA;return t.isMobileStatus?Object(I.jsx)(rt,Object(o.a)(Object(o.a)({},t),{},{WALLET_LIST_DATA:n})):Object(I.jsx)(ot,Object(o.a)(Object(o.a)({},t),{},{WALLET_LIST_DATA:n}))})),it=n(363),ct=n(10),lt=n(61),ut=n.n(lt),dt=n(108),pt=["item","isHoverPurple","lang","customJump","routeName"],ht=["index","item","items","isHoverPurple","lang","mobileCollapseIndex","setMobileCollapseIndex","toogleMenu","customJump"],ft=["item","items","isHoverPurple","customJump"];function mt(){mt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(_){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,s=Object.create(o.prototype),i=new y(r||[]);return a(s,"_invoke",{value:w(e,n,i)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}e.wrap=l;var d={};function p(){}function h(){}function f(){}var m={};c(m,o,(function(){return this}));var b=Object.getPrototypeOf,j=b&&b(b(N([])));j&&j!==t&&n.call(j,o)&&(m=j);var v=f.prototype=p.prototype=Object.create(m);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,o,s,i){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,i)}),(function(e){r("throw",e,s,i)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,i)}))}i(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function w(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return A()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var i=k(s,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var c=u(e,t,n);if("normal"===c.type){if(a=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a="completed",n.method="throw",n.arg=c.arg)}}}function k(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function y(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=f,a(v,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(x.prototype),c(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var s=new x(l(t,n,a,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=N,y.prototype={constructor:y,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return s.type="throw",s.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;S(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var bt=k.a.chain,jt=new ut.a({fullHost:bt.fullHost}),vt=function(){var e=Object(f.d)((function(){return O.a.network})),t=window.localStorage.getItem("lang")||v.a.options.currentLocale,n=h.a.find(S.b,{value:t});return Object(I.jsx)("div",{className:"language",children:Object(I.jsx)("div",{className:"hide-for-pc",children:Object(I.jsx)("div",{className:"inner-box",children:Object(I.jsxs)("div",{className:"menu-hover-dropdown",children:[Object(I.jsx)("div",{style:{background:"#383050",borderRadius:"6px"},children:Object(I.jsxs)("a",{className:"lang-link",children:[null===n||void 0===n?void 0:n.name,Object(I.jsx)("div",{className:"down-icon"})]})}),Object(I.jsx)("div",{className:"header-select-box",children:Object(I.jsxs)("div",{className:"lang",children:[Object(I.jsx)("div",{className:"h15"}),Object(I.jsx)("div",{className:"header-wrapper",children:Object(I.jsx)("ul",{className:"top-list lang",children:S.b.map((function(n,a){var r=n.value,o=n.name;return Object(I.jsx)("li",{onClick:function(){return function(t){e.setData({lang:t}),window.localStorage.setItem("lang",t),window.location.search="?lang=".concat(t)}(r)},children:Object(I.jsx)("span",{children:Object(I.jsx)("a",{className:r==t?"disabled lang":"lang",children:o})})},a)}))})})]})})]})})})})},gt=function(e){var t=e.item,n=e.isHoverPurple,a=void 0!==n&&n,r=e.lang,i=e.customJump,c=e.routeName,l=Object(s.a)(e,pt),u="";(t.route&&Object(L.g)(t.route)||t.subRoutes&&t.subRoutes.some((function(e){return e.route&&Object(L.g)(e.route)}))||t.route&&t.route===c)&&(u+=" active "),a&&(u+=" is-hover-purple "),t.subRoutes&&t.showSubRoutes&&(u+=" menu-title ");var d=Object(m.useCallback)((function(e){var n=i.find((function(e){return e.key===t.key&&"function"===typeof e.handler}));n&&(e.preventDefault(),n.handler(t)),t.category&&Object(N.a)({action:Object(N.d)(t.category),event_category:t.category})}),[t,i]);return Object(I.jsx)("span",{children:Object(I.jsxs)("a",Object(o.a)(Object(o.a)({href:t.href||"/?lang=".concat(r,"#/").concat("home"===t.route?"home":t.route),className:u,onClick:d,target:t.href?"_blank":"_self"},l),{},{children:[t.text,t.subRoutes?Object(I.jsx)("div",{className:"down-icon"}):null]}),t.text)})},xt=function(e){var t=e.index,n=e.item,a=(e.items,e.isHoverPurple,e.lang),r=e.mobileCollapseIndex,o=e.setMobileCollapseIndex,i=e.toogleMenu,c=e.customJump,u=(Object(s.a)(e,ht),""),d=[];return(n.route&&Object(L.g)(n.route)||n.subRoutes&&n.subRoutes.some((function(e){return e.route&&Object(L.g)(e.route)})))&&(u="active",d.push("1")),Object(I.jsx)(l.a,{ghost:!0,expandIconPosition:"right",defaultActiveKey:d,activeKey:r===t?1:-1,onChange:function(){o(r===t?-1:t),i(!1)},children:Object(I.jsx)(l.a.Panel,{header:n.text,className:u,children:n.subRoutes.map((function(e){return"menu"===e.type&&!1!==e.show?Object(I.jsx)("li",{onClick:function(){return i(!0)},style:{textIndent:20},children:e.text},e.text):!1===e.show?null:Object(I.jsx)("li",{children:Object(I.jsx)(gt,{customJump:c,item:e,isHoverPurple:!0,lang:a},e.text)},e.text)}))},"1")},t)},wt=Object(m.memo)((function(e){var t=e.lang,n=e.customJump,a=e.routeName,i=Object(m.useState)(-999),c=Object(r.a)(i,2),l=c[0],u=c[1],d=Object(m.useState)(!1),p=Object(r.a)(d,2),h=p[0],f=p[1],b=Object(m.useMemo)((function(){return[L.b.home,Object(o.a)(Object(o.a)({},L.b.sunSwap),{},{subRoutes:[L.b.v2,L.b.v1]}),Object(o.a)(Object(o.a)({},L.b.pool),{},{subRoutes:[L.b.usdt_tusd,L.a.usdd_usdt_tusd_2pool,L.a.usdj_usdt_tusd_2pool,L.a.usdc_usdt_tusd_2pool,Object(o.a)(Object(o.a)({},L.b.pool_more),{},{show:!h}),Object(o.a)(Object(o.a)({},L.b.usdc_2pool),{},{show:h}),Object(o.a)(Object(o.a)({},L.b.usdd_usd_2pool),{},{show:h}),Object(o.a)(Object(o.a)({},L.b.tusd_2pool),{},{show:h}),Object(o.a)(Object(o.a)({},L.b.usdj_2pool),{},{show:h}),Object(o.a)(Object(o.a)({},L.b.busd_2pool),{},{show:h}),Object(o.a)(Object(o.a)({},L.b.usdd_2pool),{},{show:h}),Object(o.a)(Object(o.a)({},L.b["3pool"]),{},{show:h}),Object(o.a)(Object(o.a)({},L.b.usdc),{},{show:h}),Object(o.a)(Object(o.a)({},L.b.usdd_3pool),{},{show:h}),Object(o.a)(Object(o.a)({},L.b.usdd_old_2pool),{},{show:h})]}),L.b.stake,L.b.psm,L.b.governance,L.b.scan]}),[t,h]);Object(m.useEffect)((function(){var e=-1;b.forEach((function(t,n){t.subRoutes&&t.subRoutes.some((function(e){return e.route&&Object(L.g)(e.route)}))&&(e=n)})),u(e)}),[]);var j=function(e){f(e)},v=function(e){var n=e.item,a=e.items,r=(e.isHoverPurple,e.customJump),i=Object(s.a)(e,ft);return Object(I.jsxs)("div",Object(o.a)(Object(o.a)({className:" menu-hover-dropdown"},i),{},{children:[Object(I.jsx)("button",{children:Object(I.jsx)(gt,{item:n,isHoverPurple:!0,lang:t,customJump:r})}),Object(I.jsx)("div",{className:"header-select-box-wrapper",children:Object(I.jsxs)("div",{className:_()("header-select-box"),children:[Object(I.jsx)("div",{className:"h15"}),Object(I.jsx)("div",{className:"header-wrapper",children:Object(I.jsx)("ul",{className:"top-list",children:a.map((function(e){return Object(I.jsx)("li",{children:Object(I.jsx)(gt,{item:e,lang:t,customJump:r})},e.text)}))})})]})})]}))};return Object(I.jsx)(I.Fragment,{children:b.map((function(e,r){return Object(I.jsxs)("div",{className:"header-list-item",children:[Object(I.jsx)("div",{className:"hide-for-pc",children:e.subRoutes&&e.showSubRoutes?Object(I.jsx)(v,{items:e.subRoutes,item:e,isHoverPurple:!0,id:e.id,customJump:n},r):Object(I.jsx)(gt,{item:e,isHoverPurple:!0,lang:t,customJump:n,routeName:a})}),-999!==l&&Object(I.jsx)("div",{className:"hide-for-mobile",children:e.subRoutes&&e.showSubRoutes?Object(I.jsx)(xt,{index:r,items:e.subRoutes,item:e,isHoverPurple:!0,mobileCollapseIndex:l,toogleMenu:j,setMobileCollapseIndex:u,customJump:n},r):Object(I.jsx)(gt,{item:e,isHoverPurple:!0,lang:t,customJump:n},r)})]},r)}))})}));t.a=function(e){Object(d.a)(window.navigator).any;var t,n=Object(f.d)((function(){return O.a.network})),o=Object(f.d)((function(){return O.a.accountCenter})),s=window.localStorage.getItem("lang"),l=Object(m.useState)(!0),p=Object(r.a)(l,2),h=p[0],b=p[1],j=e.customJump,S=void 0===j?[]:j,N=e.subNavProps,A=void 0===N?{}:N,T=e.mShowLogo,L=void 0===T||T,C=e.mShowBottomNav,V=void 0===C||C,D=R("(max-width: 1080px)"),E=Object(m.useRef)(),B=Object(m.useState)(),M=Object(r.a)(B,2),q=M[0],U=M[1],G=Object(m.useState)(),W=Object(r.a)(G,2),X=W[0],z=W[1],Y=Object(m.useRef)({isHideHeader:q,isScrollHeader:X,isMScreen:D});Y.current.isHideHeader=q,Y.current.isScrollHeader=X,Y.current.isMScreen=D;var J=Object(m.useCallback)((function(e){var t,n=e.y,a=e.direction;n>20&&!Y.current.isScrollHeader&&!Y.current.isMScreen&&z(!0),n<=20&&Y.current.isScrollHeader&&!Y.current.isMScreen&&z(!1),"top"===a&&Y.current.isHideHeader?U(!1):"down"===a&&n>(null===(t=E.current)||void 0===t?void 0:t.clientHeight)&&!Y.current.isHideHeader&&U(!0)}),[Y]);Object(P.a)(J),Object(m.useEffect)((function(){window.pageYOffset>20&&z(!0)}),[]),Object(m.useEffect)((function(){var e;document.documentElement.style.setProperty("--header-height",(null===(e=E.current)||void 0===e?void 0:e.clientHeight)+"px")}),[null===(t=E.current)||void 0===t?void 0:t.clientHeight,h]);var K=function(e){var t=document.querySelector(".toast-text ul");t&&(t.style.animationPlayState=e?"paused":"running")},Z=function(){var e=function(e,t,n){return Object(I.jsx)("li",{children:Object(I.jsxs)("a",{href:"en-US"===s?e:t,target:"_blank",rel:"noreferrer",children:[Object(I.jsx)("span",{children:v.a.get(n)}),Object(I.jsx)("span",{className:"link",children:v.a.get("header.learn_more")})]})},n)};return Object(I.jsxs)(I.Fragment,{children:[e(k.a.toastEn24,k.a.toastCn24,"header.toast24"),e(k.a.toastEn25,k.a.toastCn25,"header.toast25"),e(k.a.toastEn26,k.a.toastCn26,"header.toast26")]})},Q=Object(m.useMemo)((function(){return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:"top-menu-bar "+("none"===e.display?"hide":""),children:[Object(I.jsxs)("div",{className:"inner-box",children:[Object(I.jsx)("a",{href:"/?lang=".concat(s,"#/home"),className:"sun-logo",children:Object(I.jsx)("img",{src:g.a,alt:"SUN Logo"})}),Object(I.jsx)(wt,{lang:s,customJump:S,routeName:e.routeName})]}),Object(I.jsxs)("div",{className:"flex account-box",children:[Object(I.jsx)(y.a,{accountShow:!0}),Object(I.jsx)(vt,{})]})]})})}),[e.display,s,S,e.routeName]),$=function(){n.setData({accountModalVisible:!1})},ee=function(){n.setData({loginModalVisible:!1,loginModalStep:1})};Object(m.useEffect)((function(){return function(){o.toggleAccountCenter(!1)}}),[]);var te=Object(it.b)().wallets,ne=Object(m.useState)(te[0].adapter),ae=Object(r.a)(ne,2),re=ae[0],oe=ae[1],se=function(){var t=Object(a.a)(mt().mark((function t(a){var r;return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=te.filter((function(e){return e.adapter.name===a}))[0].adapter,window.localStorage.setItem("sunioAdapterName",a),window.sunioAdapter=r,oe(r),"TronLink"===a&&n.setData({loginModalStep:2}),t.next=7,r.connect();case 7:"Connected"===r.state&&(ie(r.address,a),n.getTrxBalance(),e.mountedActions&&e.mountedActions());case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.localStorage.getItem("sunioAdapterName");jt.setAddress(e),ct.ec.tronWeb=n.tronWeb=jt,n.sunioAdapterName=t,n.defaultAccount=e,n.isConnected=!0,window.defaultAccount=n.defaultAccount,window.localStorage.setItem("sunioAdapterStatus","true"),n.closeLoginModal(),Object(dt.a)({category:"".concat(t.toLocaleLowerCase(),"_connect_success"),waddr:e})},ce=function(){var t=Object(a.a)(mt().mark((function t(){var a,r;return mt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.loadPolyContract(),e.instantActions&&e.instantActions(),a=window.localStorage.getItem("sunioAdapterName"),r=null,a?r=te.filter((function(e){return e.adapter.name===a}))[0].adapter:(r=te.filter((function(e){return"Found"===e.adapter.readyState}))[0].adapter,a=r.name),oe(r),window.localStorage.setItem("sunioAdapterName",a),window.sunioAdapter=r,n.isConnected){t.next=16;break}if("true"!==window.localStorage.getItem("sunioAdapterStatus")){t.next=14;break}return t.next=13,r.connect();case 13:ie(r.address,a);case 14:t.next=18;break;case 16:n.getTrxBalance(),e.mountedActions&&e.mountedActions();case 18:n.setVariablesInterval();case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(m.useEffect)((function(){ce()}),[]),Object(m.useEffect)((function(){if(re)return re.on("connect",(function(e){n.isConnected&&ie(e)})),re.on("stateChanged",(function(e){})),re.on("accountsChanged",(function(e){e&&e!==window.defaultAccount&&window.location.reload()})),re.on("chainChanged",(function(e){window.location.reload()})),re.on("disconnect",(function(){n.isConnected=!1,n.tronWeb=!1,window.defaultAccount=n.defaultAccount=!1,window.localStorage.setItem("sunioAdapterStatus","false"),n.accountModalVisible=!1,window.location.reload()})),re.on("error",(function(t){n.loginModalVisible&&!["The wallet is not found."].includes(t.message)&&n.setData({loginModalStep:1}),e.unmountedActions&&e.unmountedActions()})),function(){re.removeAllListeners()}}),[re]);var le=Object(m.useMemo)((function(){return[{type:"TronLink",logo:x,name:v.a.get("login_modal.tronlink"),tip:v.a.get("account_modal.connect_with_tronlink")},{type:"WalletConnect",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAAXNSR0IArs4c6QAACjpJREFUeF7tnXtwVcUdx7+/DQ+DxVK1EiimFfBRiIlBRRJKQyCBlgK2gjpKay06tVSCQHWkVqpIizo+QIIFOxQdWnUsj1aktpBASKkReRMexZaXPARaoBE0SID76/zuPRdOLuees+fePYFk7s6cyR/Zs7/dz9nH7/fb3+4lnMfEzJcDyAVwre3JANDa9kgNj9meAwA+tD3riOjQ+WoGNaRgZk4HUASgj/VcDyDZOjCAjQCWWk85ER1vqHYlW3nPejKzyPgmgHsADAVwiedLyWU4CmAugNkA/k5EAjiwFBhAZm4J4EcAHgHQMbAWuBe8A8BzAF4lohNB1ME4QGuY/gTAwwDaB1HpBMr8GMDzAGaYHt5GATLzIABTAXwtgUY2xCu7AIwiondMCTMCkJm/aoEbbKpiAZezAEAJEe1OVk7SAJn5NgC/A9Am2co08Ps1AO4jovnJyE0YIDO3sOaVkmQqcAG8WyrzNRHVJVKXhAAy86UAZB7JT0ToBfhOFYBBRHTEb918A2TmDgAWAejiV9gFnn8LgP5EtNdPPX0BZGYxucoAXOlHSCPKuwdAMRGJqaiVtAFaPU+6elOFFwUmEPN1e6IWQGvOW94Eh228XibDuZfOnOgJ0FptK5rQgqE1NAHIaCv0Wp11AIpl0dhVFV1osflKiWiU28uuAC0leV6i0pvIe0PclO24AC3zbH0jtDBMfzexWHLimX1uAN8G0FhsW9PQYstbQES3OglxBGh5VcTgTqWzBAY7eXHOAWj582QZbzCX1PFTwMq9QPV+xqFa4HAt43D4b6T2l7WKPoTLWwHZ7QjdOwDpzRr0+4orrEusP9EJ4FgALwRdNQFVuZNRtZux9mPg5Gl/nvcWaYTc9kB+JqHgqgjYBkhjiWiyXU49gJYbXtzggXmSaz4HXlvLePuf7BtaPEDN0wi3fp1wbzdCm4sCxSie7Y727YFYgOKKnx5EFWpPAm9uYLy1kVF70l9v061Pq+aEO68n3JVDaNVc9y3f+UYQ0YzoW2cAWrtn24LYAFq3H/hleQj/Ox4MuFgEX0onPFWkkNvONxydF2SEdo7u9tkBFgBYplOCnzwyVCe/xzgVahh40bo1U4QxPSNDO4DUm4gqpVw7QHHLDzclTNaEqVWMeZtDpopMqJwhXRVG5RPSzHKcRUT3nQFoqS4SMmFk0/vEKWDc4hBW7fXf6xQR2qRH1JboyhpRbYCa40CI/ZfZvQPh6X4KLc2pPbJ5nyEqTfi7mFScpeeNfTeENfv0G/rFiwh5mYT8TKDHlfEXAFmIVuxhvPdR5O8nn+vLuLkDYfIAlVAvjvNSWLGOAhTdZrSJ0lfvA0b/5bRWUQLuBzcQbutKaJGm9cqZTHWngfmbGb9frw/yjTvSkGlu73AKEY2JAtwAINtfE5xzf1YHfH9OCP/9LH7vICLcnUP4YW7y6obIm72e8cYGlpEUtwm57QmlA432wGoiyiErxOw/BqKkzlR+71Fg5DshHHKAKLra+EKFXoYNxeW7gIkVIUcdMzuD8MIAZdr0k691hQAsBrDYRO+zl7HnkwhEsWujKaM14dn+Cp1kUzSAtP0I8OiiEA4cOyszq21k7ksPRrHuJwDF2yxeZ+PpoxqgZGEIR2oZ7VoTpg1SaPsF42LqFXjw08iH23+M0fUKwuTvqCCtkhIBOA3Ag0E1a1cNMHNVCCPzFDIChhdtw4FPgTmbGMO7ES6W+Ing0ssCUPZ5JWpUO4mqUr6N8ZVLCFlttV/znVHUFUk9JXQpoLTpILDvKKOoc0LKdrkArAYgobZaSeA9uSSEih0MUXp/XkD49jVm1XypyG9XMWavi1gx9+Qq/Phm8zL++i/G05UcVs4LOxKe7Kv8WiwbBeBOXeepmLMTljKWbD9rngnExwsJ/Tqba+DM1YzX1tY3Ae/tpnD/TeZkLN7G+FVFBF409e2k8EQfgtIXs0sASoT7ZV7dT+BNrGCUbTvXtk1ThMd7E4oNQJy1hjFrjbP9PPxGheE36rcuXpvKBN4yxmkHB0dxZ4XxhdoQDwtAiR32nGqnVDHmborvGBCI8vX6dEy8geJonbna3flw/00q7DhNNC3dweFR5AQvWubQLIXR+Voy6rQBfu91d+tChIsLSSDKfOI3iUn2yko9z80D3VXYBPSbZN4WeF6utS9fTPjTMC2rJQxQawgv/JDxTKV3AwXihCKFAh+WxusbGNM/8C7bDmzELQrDcvQhVu4EnlgS8oQnMsYVKAy8Vqvs8BDWXkTmb2G8+A/vhgrEiUV65tqb1YyXV3iX6dTbHuyhcFe2d0PFzBtfrgdvTE+FIV29y7TqE15EfKkxczcxplR5N1gg/rpYuepwsj9S+r53WW5DtSRPhfdB4iXRJX9RpgdvdL7C0CxteCIyrMb4VqT/uJExVaPhsls2qVghL/Pc5oml8JLGh9CZ5x7KV7jdoeHv7wYeKwtp7f6NylO4w+VDxKlHWcKmnO7Qk/3bSf0UetjCMudtln2S5HpebINih96KPcBji0Oo09hv1p0KHCBOE4AjAUikuu+kO/kLxGf6q3A0wZ+3MJ7XnEcn9I2shLqT/8PfUPhuFwpHOYxbpAfP72IUAynsTEjKnaWrfrRsRujbiSDmk5vjM6oOiVnV+6pIdZftjJiPXuqHOGrFrFyynXHilLe7P1F1yAYx7M6SM7tJOVR1FGDd7h1PIddRgHVlSL5kFXLZSgo7VKUwZk7ape9mguk2TOCJGVXUyXklLN/OYXPSzYrQkWXIJIy49C2ARjaVnJwAOg2SPLpOCScngK4MyWfQKVFvU0lOWRqJB7S7oXQb5tct9rd/MyYtq+9J0ZFl2C1Wb1tTjuIb21ifsZLxh/V6aopM/OJTHODTp/iu5cvzWpCiYIfdoDCiuy8l2e2b1N9Yt4ax0dCO33wgW43uEAXeo70IA69LrGELtzKeXe69qt+do/DTWxKTEYdi/dAOC6Dx4KLSFYy3qp0hCrxHehEGJwgv2rAFWxnPuUC8M1uhpIdReCLaMbhIpBgPb3upijHHwY8YVXp15i6vPPGU89uzFB7S8+t5ibD/3zm8zeqFgQRYSnibPUrLp8dDq3Gx5qFEZUl4WwDJOcDSAig3bQQS4vvKSoasnuJNDihmLxw2LEr9t64mPGBuwbB/A/cQXwviGAAvBvDlmkKR7kHmFkBRaRr0mEMjIat3zMGCaEyxbiRwdKqpd9AmWhIzp456ncXq76iX1QsloCJ12BBI7LChBVHuhEkdd3W5W8ZTUWLm1IFrlxlSB6BELaSO/MeB6AnQGsoSU5q6dMIBohZAC6JcuJO69iQGojZAC2Lq4p1kANp6YurqJwukrx5oU7JTl48lA9Dqianr70wcrkldwKhjRnvkSV0BagCizYuTuoQ2GZ7W2eMRAH4W5OUVPusonmS5iWT6BX0Nsr1RqYu4fX7ieNlTV8EbAmnbLkj9GIEpprafw7jO9nMYcvrO7ecwDtp+CmMrgPP6cxj/B35fPKkYLKU2AAAAAElFTkSuQmCC",name:v.a.get("login_modal.walletconnectlink"),tip:v.a.get("account_modal.connect_with_wallect")}]}),[]),ue=Object(m.useMemo)((function(){var e=le.map((function(e){return e.type===re.name}))[0].logo;return Object(I.jsx)("img",{src:e,className:"address-logo",alt:""})}),[re,le]),de=Object(m.useMemo)((function(){var e=le.map((function(e){return e.type===re.name}))[0].tip;return Object(I.jsx)("div",{className:"tip-text",children:e})}),[re,le]);return Object(I.jsx)(f.a,{children:function(){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:_()({"main-header-wrap":!0,"main-header-wrap-scroll":X,"main-header-wrap-hide":q,"main-header-wrap-mobile":D}),ref:E,id:"mainHeaderWrap",children:[h&&Object(I.jsxs)("div",{className:"header-toast",children:[Object(I.jsx)("div",{className:"toast-text",children:Object(I.jsxs)("ul",{onMouseOver:function(){return K(!0)},onMouseLeave:function(){return K(!1)},className:"animate",children:[Z(),Z(),Z()]})}),Object(I.jsx)("img",{src:w,className:"white-close",onClick:function(){return b(!1)}})]}),D?Object(I.jsx)(H,{mShowLogo:L,subNavProps:A}):Object(I.jsx)("div",{className:"hide-for-pc",children:Q}),Object(I.jsx)(u.a,{title:1===n.loginModalStep?Object(I.jsx)("div",{className:"common-modal-title",children:v.a.get("header.connect_wallet")}):null,visible:n.loginModalVisible,onCancel:ee,footer:null,className:"common-modal common-bg dark-modal wallet-modal",width:1===n.loginModalStep?600:400,children:1===n.loginModalStep?Object(I.jsxs)("div",{className:"center",children:[Object(I.jsx)("div",{className:"wallet-list",children:le.map((function(e){return Object(I.jsxs)("div",{className:"wallet-item",onClick:function(t){se(e.type)},children:[Object(I.jsx)("span",{children:Object(I.jsx)("img",{src:e.logo,className:"tronlink-logo",alt:e.name})}),Object(I.jsx)("span",{children:e.name})]})}))}),Object(I.jsxs)("div",{className:"tronlink-tips",children:[Object(I.jsx)("div",{className:"tronlink-tips-item",children:Object(I.jsxs)("span",{className:"tronlink-tips-text",children:[v.a.get("wallet.accept_tips")," "]})}),Object(I.jsxs)("div",{className:"tronlink-tips-item",children:[Object(I.jsx)("a",{href:"".concat(k.a.fileLink,"SUN_Terms_of_Use_").concat("en-US"===s?"en":"zh-CN"===s?"cn":"tc",".pdf"),target:"walletService",className:"tronlink-tips-link",children:v.a.get("wallet.service_new")}),Object(I.jsx)("a",{href:"".concat(k.a.fileLink,"SUN_Privacy_Policy_").concat("en-US"===s?"en":"zh-CN"===s?"cn":"tc",".pdf"),target:"walletPrivacy",className:"tronlink-tips-link",children:v.a.get("wallet.privacy_new")})]})]})]}):Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:"back-icon pointer",children:Object(I.jsx)("span",{})}),Object(I.jsxs)("div",{className:"step2-wallet",children:[Object(I.jsx)("span",{className:"step2-wallet-logo",children:Object(I.jsx)("img",{src:x,className:"tronlink-logo",alt:""})}),Object(I.jsx)("span",{children:v.a.get("login_modal.tronlink")})]}),Object(I.jsx)(i.a,{className:"loading-img",style:{fontSize:"80px"}}),Object(I.jsx)("div",{className:"init-text",children:v.a.get("login_modal.initializing")}),Object(I.jsx)("div",{className:"login-tip-text",children:v.a.getHTML("login_modal.login_tips")})]})}),Object(I.jsx)(u.a,{title:v.a.get("account_modal.account"),footer:null,onCancel:$,className:"account-modal common-modal common-bg dark-modal",visible:n.accountModalVisible,width:540,children:Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:"account-info",children:v.a.get("account_modal.wallet_info")}),Object(I.jsxs)("div",{className:"address-con",children:[Object(I.jsx)("div",{children:ue}),Object(I.jsxs)("div",{children:[de,Object(I.jsxs)("div",{className:"address-tex",children:[Object(I.jsx)("span",{className:"copy-account",children:n.defaultAccount}),Object(I.jsx)("span",{className:"pointer copy",title:n.defaultAccount,id:"copySpan",children:Object(I.jsx)(c.a,{})})]})]})]}),Object(I.jsx)("div",{className:"account-btn",onClick:function(e){n.disConnectWallet()},children:v.a.get("account_modal.disconnect")})]})})]}),V&&D&&Object(I.jsx)("div",{className:"sun-io-bottom-nav hide-for-mobile",children:Object(I.jsx)(F,{customJump:S})}),Object(I.jsx)(st,{WALLET_LIST_DATA:le})]})}})}},779:function(e,t,n){"use strict";var a=n(67),r=(n(2),n(17)),o=n.n(r),s=(n(870),n(175)),i=n(0),c=n(8);t.a=function(e){var t=Object(a.d)((function(){return s.a.network})),n=Object(a.d)((function(){return s.a.accountCenter})),r=function(){n.toggleAccountCenter(!0)},l=function(){t.setData({loginModalVisible:!0,loginModalStep:1})};return t.isConnected&&!e.accountShow?null:Object(c.jsx)(a.a,{children:function(){return Object(c.jsx)("div",{children:t.isConnected?Object(c.jsx)("div",{onClick:r,className:e.accountShow?"connect-wallet":"",children:Object(i.q)(t.defaultAccount,4,4)}):Object(c.jsx)("div",{className:e.accountShow?"":"tac",children:Object(c.jsx)("span",{onClick:l,className:e.accountShow?"connect-wallet":"connect-btn",children:o.a.get("header.connect_wallet")})})})}})}},812:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return R})),n.d(t,"i",(function(){return M})),n.d(t,"k",(function(){return q})),n.d(t,"j",(function(){return U})),n.d(t,"g",(function(){return G})),n.d(t,"d",(function(){return W})),n.d(t,"e",(function(){return X})),n.d(t,"h",(function(){return H})),n.d(t,"f",(function(){return J}));var a,r=n(4),o=n(14),s=n(17),i=n.n(s),c=n(51),l=n(3),u=n.p+"static/media/home.59e78f9f.svg",d=n.p+"static/media/home_a.17e5b6c4.svg",p=n.p+"static/media/sunswap.803da5fb.svg",h=n.p+"static/media/sunswap_a.075efdfa.svg",f=n.p+"static/media/sunCurve.5b39926f.svg",m=n.p+"static/media/sunCurve_a.294e05ad.svg",b=n.p+"static/media/farm.d81fe65a.svg",j=n.p+"static/media/farm_a.9aa5ee4c.svg",v=n.p+"static/media/more.e8402170.svg",g=n.p+"static/media/more_a.bff41834.svg",x=n.p+"static/media/claim.fe00567d.svg",w=n.p+"static/media/documents.24834ff7.svg",k=n.p+"static/media/launge.96ef7673.svg",O=n.p+"static/media/mining.c02267dc.svg",S=n.p+"static/media/psm.8fc3f34d.svg",y=n.p+"static/media/scan.ca46a32d.svg",N=n.p+"static/media/risk.8feaf829.svg",A=n.p+"static/media/white_paper.01ac8f4d.svg",_=n.p+"static/media/repurchase.652d5bde.svg",T=n.p+"static/media/governance.9732ea3a.svg",L=n(0),C=n(902),V=n(903),D=n(904),P=n(905),I=n(906),E={home:{route:"home",text:i.a.get("header.home"),category:c.h.home,id:"home",icon:u,iconActive:d},sunSwap:{text:"SunSwap",id:"sunswap",icon:p,iconActive:h,category:c.h.sunswap,route:"sun_swap/v2"},v1:{text:"V1",category:c.h.sunswap,route:"sun_swap/v1",key:"v1",id:"v1",parentId:"sunswap"},v2:{text:"V2",route:"sun_swap/v2",key:"v2",id:"v2",category:c.h.sunswap,parentId:"sunswap"},pool:{text:i.a.get("header.curve"),id:"pool",icon:f,iconActive:m,route:"sunCurve"},usdc_2pool:{route:"usdc_2pool",text:i.a.get("buysell.usdc_2pool2_head"),category:c.h.liquidity_usdc2pool,id:"usdc_2pool",parentId:"pool"},usdt_tusd:{route:"usdt_tusd",text:i.a.get("buysell.usdt_tusd_pool_head"),category:c.h.liquidity_usdttusd,id:"usdt_tusd",parentId:"pool"},usdd_2pool:{route:"usdd_2pool",text:i.a.get("buysell.2pool_head"),category:c.h.liquidity_2pool,id:"usdd_2pool",parentId:"pool"},"3pool":{route:"3pool",text:i.a.get("header.3pool"),category:c.h.liquidity_old3pool,id:"3pool",parentId:"pool"},usdc:{route:"usdc",text:i.a.get("buysell.usdc_pool"),category:c.h.liquidity_oldusdc,id:"usdc",parentId:"pool"},usdd_usdt_tusd_2pool:{route:"usdd_usdt_tusd_2pool",text:i.a.get("buysell.usdd_2pool_2_head"),category:c.h.liquidity_oldusdc,id:"usdd_usdt_tusd_2pool",parentId:"pool"},usdj_usdt_tusd_2pool:{route:"usdj_usdt_tusd_2pool",text:i.a.get("buysell.usdj_2pool_2_head"),category:c.h.liquidity_oldusdc,id:"usdj_usdt_tusd_2pool",parentId:"pool"},usdc_usdt_tusd_2pool:{route:"usdc_usdt_tusd_2pool",text:i.a.get("buysell.usdc_2pool_2_head"),category:c.h.liquidity_oldusdc,id:"usdc_usdt_tusd_2pool",parentId:"pool"},pool_more:{type:"menu",id:"pool_more",text:i.a.get("header.more"),parentId:"pool"},usdd_3pool:{route:"usdd_3pool",text:i.a.get("buysell.usdd_pool"),category:c.h.liquidity_3pool,id:"usdd_3pool",parentId:"pool"},usdd_old_2pool:{route:"usdd_old_2pool",text:i.a.get("buysell.usdd_pool_new_head"),category:c.h.liquidity_old2pool,id:"usdd_old_2pool",parentId:"pool"},usdd_usd_2pool:{route:"usdd_usd_2pool",text:i.a.get("buysell.usdd_2pool_head"),category:c.h.liquidity_usdd2pool,id:"usdd_usd_2pool",parentId:"pool"},tusd_2pool:{route:"tusd_2pool",text:i.a.get("buysell.tusd_2pool_head"),category:c.h.liquidity_tusd2pool,id:"tusd_2pool",parentId:"pool"},usdj_2pool:{route:"usdj_2pool",text:i.a.get("buysell.usdj_2pool_head"),category:c.h.liquidity_usdj2pool,id:"usdj_2pool",parentId:"pool"},busd_2pool:{route:"busd_2pool",text:i.a.get("buysell.busd_2pool_head"),category:c.h.liquidity_busd2pool,id:"busd_2pool",parentId:"pool"},stake:{route:"stake/two",text:i.a.get("header.farm"),category:c.h.farm,id:"stake",icon:b,iconActive:j},stake_one:{route:"stake/one",text:i.a.get("stakes.phase_one"),category:c.h.farm,id:"stake_one",parentId:"stake",icon:C.a,iconActive:V.a},stake_two:{route:"stake/two",text:i.a.get("stakes.phase_two"),category:c.h.farm,id:"stake_two",parentId:"stake",corner:D.a,cornerActive:D.a,icon:C.a,iconActive:V.a},stake_genesis:{route:"stake/genesis",text:i.a.get("newStake.tab.tab_2"),category:c.h.farm,id:"stake_genesis",parentId:"stake",icon:P.a,iconActive:I.a},psm:{route:"psm",text:i.a.get("psm.menu"),category:c.h.psm,id:"psm",icon:S,parentId:"more"},governance:{route:"governance",text:i.a.get("header.governance"),category:c.h.governance,id:"governance",icon:T,parentId:"more"},scan:{route:"scan",text:i.a.get("header.scan"),id:"scan",icon:y,parentId:"more"},more:{text:i.a.get("header.more"),id:"more",icon:v,iconActive:g,route:"more_page",category:c.h.more_page},documents:{route:"documents",text:i.a.get("documents.nav"),category:c.h.documents,id:"documents",icon:w,parentId:"more",showBack:!0},white_paper:{text:i.a.get("wallet.white_paper"),href:function(e){return"".concat(l.a.fileLink,"SUN_V2_Whitepaper_").concat("en-US"===e?"en":"zh-CN"===e?"cn":"tc",".pdf")},category:c.h.more_whitepager,id:"white_paper",icon:A,parentId:"more"},risks:{route:"risks",text:i.a.get("header.risks"),category:c.h.more_risks,id:"risks",icon:N,parentId:"more"},claim:{route:"claim",text:i.a.get("header.airdrop"),category:c.h.more_claim,id:"claim",icon:x,parentId:"more"},century_mining:{href:function(e){return"".concat(l.a.centuryMining.replace("#","?lang=".concat(e,"#")))},text:i.a.get("header.century_mining"),category:c.h.more_mining,id:"century_mining",icon:O,parentId:"more"},repurchase:{href:function(e){return"".concat(l.a.swapRepurchaseUrl,"?lang=").concat(e)},text:i.a.get("header.repurchase"),category:c.h.swapRepurchase,id:"repurchase",icon:_,parentId:"more"}},B=(a={},Object(o.a)(a,E.more.id,{route:void 0}),Object(o.a)(a,E.governance.id,{parentId:void 0}),Object(o.a)(a,E.psm.id,{parentId:void 0}),Object(o.a)(a,E.scan.id,{parentId:void 0}),a),F=Object.keys(E).reduce((function(e,t){var n=E[t];return Object(r.a)(Object(r.a)({},e),{},Object(o.a)({},t,Object(r.a)(Object(r.a)({},n),B[n.id]||{})))}),{}),R=[E.home,E.sunSwap,E.pool,E.stake,E.more],M=[E.scan,E.governance,E.psm,E.documents],q=[E.white_paper,E.claim,E.century_mining,E.risks,E.repurchase],U=[{text:i.a.get("more_page.choose_language"),id:"language",icon:k,subRoutes:[L.Q["en-US"],L.Q["zh-TC"],L.Q["zh-CN"]]}],G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return window.location.hash.replace("#/","").toLowerCase()===e.toLowerCase()},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.home,n=Object.keys(e).find((function(t){return G(e[t].route||"")}));return"sunSwap"===n&&(n="v2"),n?e[n]:t},X=function(e,t){var n=t||window.localStorage.getItem("lang")||"zh-CN";if(e.subRoutes&&e.subRoutes.length)return"javascript:void(0)";var a=window.location.origin+window.location.pathname;return e.href?e.href(n):a+"?lang=".concat(n,"#/").concat("home"===e.route?"home":e.route)},H=function(e){var t=e.id,n=e.href;if(n)window.location.href=n;else{var a=null;for(var r in E)if(E[r].id===t){a=E[r];break}a&&(window.location.href=X(a))}},z=(E.v2,E.v1,[E.usdt_tusd,E.usdd_usdt_tusd_2pool,E.usdj_usdt_tusd_2pool,E.usdc_usdt_tusd_2pool,E.usdc_2pool,E.usdd_2pool,E.usdd_usd_2pool,E.tusd_2pool,E.usdj_2pool,E.busd_2pool,E["3pool"],E.usdc,E.usdd_3pool,E.usdd_old_2pool]),Y=Object(r.a)({},z.reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),{},Object(o.a)({},t.id,z))}),{})),J=function(e){var t=e.id;return t&&Y[t]||[]}},827:function(e,t,n){"use strict";t.a=function(e,t){return"".concat(e?e+"-":"").concat(t)}},828:function(e,t,n){"use strict";t.a=n.p+"static/media/triangle-left-active.04e8dc28.svg"},829:function(e,t,n){"use strict";t.a=n.p+"static/media/triangle-right-active.91f51225.svg"},832:function(e,t,n){"use strict";t.a=n.p+"static/media/loading_chry.cbf82baf.svg"},842:function(e,t,n){"use strict";var a=n(6),r=n(7),o=n(12),s=n(13),i=n(2),c=n.n(i),l=(n(17),n(106),n(1139),n(8)),u=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onClick=function(){r.props.disabled||r.props.state||r.props.onClick&&r.props.onClick()},r.onLeftClick=function(){r.props.lDisabled||r.props.lState||r.props.onLeftClick&&r.props.onLeftClick()},r.onMiddleClick=function(){r.props.mDisabled||r.props.mState||r.props.onMiddleClick&&r.props.onMiddleClick()},r.onRightClick=function(){r.props.rDisabled||r.props.rState||r.props.onRightClick&&r.props.onRightClick()},r.state={},r}return Object(r.a)(n,[{key:"render",value:function(){var e=null;switch(this.props.type){case"trisection":e=Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"trisection "+(this.props.lDisabled?"gray":this.props.lState?this.props.lState:"blue"),onClick:this.onLeftClick,children:this.props.lInfo}),Object(l.jsx)("button",{className:"trisection "+(this.props.mDisabled?"gray":this.props.mState?this.props.mState:"blue"),onClick:this.onMiddleClick,children:this.props.mInfo}),Object(l.jsx)("button",{className:"trisection "+(this.props.rDisabled?"gray":this.props.rState?this.props.rState:"blue"),onClick:this.onRightClick,children:this.props.rInfo})]});break;case"half":e=Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"half "+(this.props.lDisabled?"gray":this.props.lState?this.props.lState:"blue"),onClick:this.onLeftClick,children:this.props.lInfo}),Object(l.jsx)("button",{className:"half "+(this.props.rDisabled?"gray":this.props.rState?this.props.rState:"blue"),onClick:this.onRightClick,children:this.props.rInfo})]});break;case"single":default:e=Object(l.jsx)("button",{className:"single "+(this.props.disabled?"gray":this.props.state?this.props.state:this.props.btnColor?this.props.btnColor:"blue"),onClick:this.onClick,children:this.props.info})}return Object(l.jsx)(c.a.Fragment,{children:e})}}]),n}(c.a.Component);t.a=u},850:function(e,t,n){},858:function(e,t,n){"use strict";var a=n(14),r=n(2),o=n(812),s=n(34),i=n.n(s),c=n(827),l=n(51),u=n(8),d=Object(r.memo)((function(e){var t,n=e.renderContent,s=e.item,d=e.handleClick,p=e.isCustom,h=void 0!==p&&p,f=e.clsPrefix,m=e.itemActive,b=e.subNavOpen,j=void 0!==b&&b,v=Object(o.e)(s),g=Object(r.useCallback)((function(e){h&&e.preventDefault(),s.category&&Object(l.a)({action:Object(l.d)(s.category),event_category:s.category}),d&&d(s,e)}),[h,s]),x=void 0===m?Object(o.g)(s.route):m,w=s.subRoutes&&s.subRoutes.length>0;return Object(u.jsx)("a",{href:v,onClick:g,target:s.href?"_blank":"_self",className:i()((t={},Object(a.a)(t,Object(c.a)(f,"nav-item"),!0),Object(a.a)(t,Object(c.a)(f,"nav-item-with-sub"),w),Object(a.a)(t,Object(c.a)(f,"nav-item-active"),x),Object(a.a)(t,Object(c.a)(f,"nav-item-sub-open"),j),t)),children:n(s,x)})}));t.a=d},859:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(21),r=n(6),o=n(7),s=n(2),i=new(function(){function e(){Object(r.a)(this,e),this.onChangeList=[],this.callbackList=[]}return Object(o.a)(e,[{key:"_throttle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,o=new Date,s=window.pageYOffset;return function(){var i=this,c=arguments,l=new Date;if(clearTimeout(t),l-o>=r){var u=s-window.pageYOffset;s=window.pageYOffset,e.apply(i,[{diffY:u,y:s,direction:u<=0?"down":"top"}].concat(Object(a.a)(c))),o=l}else t=setTimeout((function(){var t=s-window.pageYOffset;s=window.pageYOffset,e.apply(i,[{diffY:t,y:s,direction:t<=0?"down":"top"}].concat(Object(a.a)(c)))}),n)}}},{key:"_onScroll",value:function(e){if("function"!==typeof window.requestAnimationFrame)return this._throttle(e);var t=!1,n=window.pageYOffset;return function(){var r=this,o=arguments;t||(t=!0,requestAnimationFrame((function(){var s=n-window.pageYOffset;n=window.pageYOffset,e.apply(r,[{diffY:s,y:n,direction:s<=0?"down":"top"}].concat(Object(a.a)(o))),t=!1})))}}},{key:"on",value:function(e){if("function"===typeof e&&!this.onChangeList.find((function(t){return t===e}))){this.onChangeList.push(e);var t=this._onScroll(e);this.callbackList.push(t),window.addEventListener("scroll",t,!1)}}},{key:"off",value:function(e){var t=this.onChangeList.findIndex((function(t){return t===e}));t>-1&&(window.removeEventListener("scroll",this.callbackList[t],!1),this.onChangeList.splice(t,1),this.callbackList.splice(t,1))}}]),e}());window.ScrollInstance=window.ScrollInstance||i;var c=function(e){Object(s.useEffect)((function(){return i.on(e),function(){i.off(e)}}),[e])}},870:function(e,t,n){},881:function(e,t,n){"use strict";var a=n(6),r=n(7),o=n(12),s=n(13),i=n(2),c=n.n(i),l=n(106),u=n(17),d=n.n(u),p=n(766),h=n(11),f=(n(1141),n(8)),m=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).confirm=function(){r.props.confirm&&r.props.confirm()},r.cancel=function(){r.props.cancel&&r.props.cancel()},r.state={},r}return Object(r.a)(n,[{key:"render",value:function(){var e=Object(l.a)(window.navigator).any?0:64;return Object(f.jsxs)(p.a,{footer:null,title:null,closable:!0,maskClosable:!1,visible:this.props.visible,className:"unfinished-pop sun-swap-modal",onCancel:this.cancel,style:{marginLeft:Object(h.o)()+e},width:430,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:[Object(f.jsxs)("div",{className:"title",children:[d.a.get("sunSwap.action.popTitle"),Object(f.jsx)("p",{children:d.a.get("sunSwap.action.popDesc")})]}),Object(f.jsxs)("div",{className:"btns",children:[Object(f.jsx)("button",{onClick:this.confirm,children:d.a.get("sunSwap.action.popQuitBtn")}),Object(f.jsx)("button",{onClick:this.cancel,children:d.a.get("sunSwap.action.popCancelBtn")})]})]})}}]),n}(c.a.Component);t.a=m},882:function(e,t,n){"use strict";t.a=n.p+"static/media/TransactionSuccess.9be097c2.svg"},895:function(e,t,n){},902:function(e,t,n){"use strict";t.a=n.p+"static/media/v2_icon.261c63be.svg"},903:function(e,t,n){"use strict";t.a=n.p+"static/media/v2_active_icon.c84ddb09.svg"},904:function(e,t,n){"use strict";t.a=n.p+"static/media/hot_icon.8d040809.svg"},905:function(e,t,n){"use strict";t.a=n.p+"static/media/v1_icon.6a6bd135.svg"},906:function(e,t,n){"use strict";t.a=n.p+"static/media/v1_active_icon.4d44c20d.svg"},907:function(e,t,n){"use strict";var a=n(2),r=n(47),o=(n(930),n(8));t.a=Object(a.memo)((function(e){var t=e.children,n=e.container,s=e.style,i=e.onClose,c=void 0===i?function(){}:i,l=e.scrolling,u=void 0===l||l,d=Object(o.jsx)("div",{className:"sun-io-mask",style:s,onClick:c,children:Object(o.jsx)("div",{className:"sun-io-mask-content",onClick:function(e){return e.stopPropagation()},children:t})});return Object(a.useEffect)((function(){return u||document.body.classList.add("sun-scrolling-effect"),function(){u||document.body.classList.remove("sun-scrolling-effect")}}),[u]),Object(r.createPortal)(d,n&&document.querySelector(n)||document.body)}))},909:function(e,t,n){"use strict";var a=n(2),r=n.n(a),o=n(34),s=n.n(o),i=n(827),c=(n(939),n(8)),l=function(e){var t=e.clsPrefix,n=e.img,a=e.btnText,r=e.emptyText,o=e.className,l=e.onClick;return Object(c.jsxs)("div",{className:s()(Object(i.a)(t,"wrap"),o),children:[Object(c.jsx)("img",{src:n,alt:"image",className:Object(i.a)(t,"img")}),r&&Object(c.jsx)("p",{className:Object(i.a)(t,"text"),children:r}),a&&Object(c.jsx)("div",{className:Object(i.a)(t,"btn"),onClick:l,children:a})]})};l.defaultProps={clsPrefix:"sun-empty",onClick:function(){}},t.a=r.a.memo(l)},928:function(e,t,n){"use strict";var a=n(6),r=n(7),o=n(12),s=n(13),i=n(2),c=n.n(i),l=n(17),u=n.n(l),d=n(1470),p=n(160),h=(n(1140),n(8)),f=Object(h.jsx)(p.a,{style:{fontSize:24},spin:!0}),m=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={},r}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.children,t=c.a.Children.toArray(e).map((function(e,t){var n=e.props,a=n.children,r=n.status,o=n.err,s=n.failed,i=a;return"error"===r&&(i=o||a),"pending"===r&&(i=u.a.get("sunSwap.action.doingAct")),"failed"===r&&(i=s||a),Object(h.jsxs)("div",{className:"al_item ".concat(r?"".concat(r):""),children:[Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("span",{className:"al_number",children:t+1}),Object(h.jsx)("span",{className:"al_title".concat(r?" ".concat(r):""),children:i})]}),"pending"===r&&Object(h.jsx)(d.a,{indicator:f,className:"spiny"})]},e.key)}));return Object(h.jsx)("div",{className:"action-line",children:t})}}]),n}(c.a.Component);t.a=m},929:function(e,t,n){"use strict";var a=n(4),r=n(33),o=n(131),s=n(246),i=n.p+"static/media/token_loading.df40235f.svg",c=n(2),l=n(34),u=n.n(l),d=(n(937),n(8)),p=["src","defaultSrc","className"],h=function(e){var t=e.src,n=e.defaultSrc,l=e.className,h=Object(o.a)(e,p),f=Object(c.useState)(i),m=Object(r.a)(f,2),b=m[0],j=m[1],v=t||n||s.a;return Object(c.useEffect)((function(){var e=new Image;e.src=v,e.onload=function(){j(v),e=null},e.onerror=function(){j(s.a),e=null}}),[v]),Object(d.jsx)("img",Object(a.a)(Object(a.a)({src:b},h),{},{alt:"logo",className:u()("sun-icon-img",l)}))};t.a=Object(c.memo)(h)},930:function(e,t,n){},931:function(e,t,n){},932:function(e,t,n){},933:function(e,t,n){},934:function(e,t,n){},937:function(e,t,n){},938:function(e,t,n){},939:function(e,t,n){},961:function(e,t,n){"use strict";t.a=n.p+"static/media/swap-arrow-purple.62718d5d.svg"},983:function(e,t,n){"use strict";t.a=n.p+"static/media/back_white.7ed6b99e.svg"},989:function(e,t,n){"use strict";var a=n(1),r=n(6),o=n(7),s=n(26),i=n(12),c=n(13),l=n(2),u=n(860),d=n.n(u),p=n(17),h=n.n(p),f=n(1943),m=n(46),b=n.n(m),j=n(1346),v=n(98),g=n(106),x=n(211),w=n.p+"static/media/kline.e1278ad6.svg",k=n(8);function O(){O=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(T){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,s=Object.create(o.prototype),i=new N(r||[]);return a(s,"_invoke",{value:w(e,n,i)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=l;var d={};function p(){}function h(){}function f(){}var m={};c(m,o,(function(){return this}));var b=Object.getPrototypeOf,j=b&&b(b(A([])));j&&j!==t&&n.call(j,o)&&(m=j);var v=f.prototype=p.prototype=Object.create(m);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(a,o,s,i){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,i)}),(function(e){r("throw",e,s,i)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,i)}))}i(c.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function w(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return _()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var i=k(s,n);if(i){if(i===d)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var c=u(e,t,n);if("normal"===c.type){if(a=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a="completed",n.method="throw",n.arg=c.arg)}}}function k(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function y(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=f,a(v,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:h,configurable:!0}),h.displayName=c(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(x.prototype),c(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var s=new x(l(t,n,a,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},g(v),c(v,i,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=A,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(y),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return s.type="throw",s.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),y(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;y(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}l.Component}}]);