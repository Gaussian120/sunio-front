/*! For license information please see 28.b7fc514f.chunk.js.LICENSE.txt */
(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[28],{1047:function(e,t,a){"use strict";var c=a(0),s=a(4),n=a(2),r=a(22),l=a(3),i=a(44),o=a.n(i),j=a(268),d=a(814),b=a(21),m=a.n(b),u=a(70),O=a(168),x=a(5),p=a(1),f=a(858),h=a(995),g=a(852),k=a(10);t.a=function(e){var t=Object(u.d)((function(){return O.a.network})),a=Object(u.d)((function(){return O.a.system})),i=Object(u.d)((function(){return O.a.pool})),b=t.modalShow,v=t.closeModal,N=t.setData,w=t.stakeVersion,y=x.a.tokens,S=x.a.defaultId,_=Object(l.useState)(i.stakePoolData2),C=Object(r.a)(_,2),D=C[0],A=C[1],L=Object(l.useState)({available:"--",amount:"--",penaltyAmount:"--"}),T=Object(r.a)(L,2),M=T[0],I=T[1];Object(l.useEffect)((function(){var e=i["stakePoolData"+w];I(e.withdrawable)}),[]);var P=function(){var t=Object(n.a)(Object(c.a)().mark((function t(n){var r,l,o;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("button"===n.target.tagName.toLowerCase()&&-1==n.target.className.indexOf("disabled")){t.next=2;break}return t.abrupt("return");case 2:return D.claimable,r=i["stakePoolData"+w].claimable,A(Object(s.a)({},i["stakePoolData"+w])),l={title:"actions.claim_all",obj:{value1:Object(p.t)(Object(p.a)(r[1]).div(y[S].precision)),symbol1:y[S].symbol,value2:Object(p.t)(Object(p.a)(r[3]).div(y.tusd.precision)),symbol2:y.tusd.symbol}},o="1"===w?"stake":"stake2",t.next=9,a.getReward(y[S][o],l);case 9:t.sent&&(N({modalShow:"TopModal"}),setTimeout((function(){var t=a.withdrawExpiredLocks({title:"newStake.stake_pool.withdraw",obj:{}});t&&(v(),setTimeout((function(){e.cb()}),5e3)),console.log(t),e.cb()}),x.a.confirmTime));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),H=function(){var t=Object(n.a)(Object(c.a)().mark((function t(s){var n,r;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(p.a)(s).gt(0)){t.next=7;break}return n={title:"actions.claim_lp",obj:{value:Object(p.t)(s),symbol:S.toUpperCase()}},t.next=4,a.withdrawSSP(Object(p.a)(s).times(y[S].precision)._toHex(),n);case 4:(r=t.sent)&&(v(),setTimeout((function(){e.cb()}),5e3)),console.log(r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Y=function(){var t=Object(n.a)(Object(c.a)().mark((function t(s){var n,r;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(p.a)(s).gt(0)){t.next=7;break}return n={title:"actions.claim_lp",obj:{value:Object(p.t)(s),symbol:S.toUpperCase()}},t.next=4,a.exitSSP(n);case 4:(r=t.sent)&&(v(),setTimeout((function(){e.cb()}),5e3)),console.log(r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=function(){var e=i["stakePoolData"+w].lockData,t=Object(p.a)(o()().format("X")).gt(e.lastLockTimeStamp);return Object(k.jsx)(k.Fragment,{children:"1"===w?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"flex jcsb",children:[Object(k.jsx)("span",{className:"fs-12 c-999",children:m.a.get("newStake.stake_pool.lock_expired")}),Object(k.jsx)("span",{className:"fs-14 c-333 fw-500",children:Object(p.t)(Object(p.a)(e.unlockable).div(y[S].precision))})]}),Object(k.jsxs)("button",{disabled:Object(p.a)(e.unlockable).lte(0),className:"common-btn mt-30 flex aic jcc",onClick:P,children:[m.a.get("newStake.stake_pool.withdraw"),Object(k.jsx)(j.a,{title:m.a.getHTML("newStake.stake_pool.withdraw_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(p.a)(e.unlockable).lte(0)?Object(k.jsx)("img",{src:f.a,className:"ml-2"}):Object(k.jsx)("img",{src:h.a,className:"ml-2"})})]})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"flex jcsb",children:[Object(k.jsx)("span",{className:"fs-12 c-999",children:m.a.get("newStake.stake_pool.lock_expired")}),Object(k.jsx)("span",{className:"fs-14 c-333 fw-500",children:t?Object(p.t)(Object(p.a)(e.lockData).div(y[S].precision)):"0.00"})]}),Object(k.jsxs)("button",{disabled:!t||Object(p.a)(e.lockData).lte(0),className:"common-btn mt-30 flex aic jcc",onClick:P,children:[m.a.get("newStake.stake_pool.withdraw"),Object(k.jsx)(j.a,{title:m.a.getHTML("newStake.stake_pool.withdraw_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:!t||Object(p.a)(e.lockData).lte(0)?Object(k.jsx)("img",{src:f.a,className:"ml-2"}):Object(k.jsx)("img",{src:h.a,className:"ml-2"})})]})]})})};return Object(k.jsx)(u.a,{children:function(){return Object(k.jsx)(d.a,{visible:"WithdrawModal"===b,title:S.toUpperCase()+" "+m.a.get("newStake.stake_pool.withdraw"),width:430,zIndex:999,footer:null,className:"lock-modal stake-token",onCancel:v,closeIcon:Object(k.jsx)("img",{src:g.a}),wrapClassName:"vertical-center-modal",children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"flex jcsb",children:[Object(k.jsxs)("p",{className:"stake-tooltip flex jcfe aic fs-12 c-999",children:[m.a.get("newStake.stake_pool.claim_free")," "+S.toUpperCase()," ",Object(k.jsx)(j.a,{title:m.a.getHTML("newStake.stake_pool.claim_free_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(k.jsx)("img",{src:f.a,className:"ml-2"})})]}),Object(k.jsx)("span",{className:"fs-14 c-333 fw-500",children:Object(p.t)(M.available)})]}),Object(k.jsx)("button",{disabled:Object(p.a)(M.available).lte(0),className:"common-btn mt-30",onClick:function(){return H(Object(p.a)(M.available))},children:m.a.get("newStake.stake_pool.withdraw")}),Object(k.jsx)("div",{className:"line"}),Object(k.jsxs)("div",{className:"flex jcsb",children:[Object(k.jsxs)("p",{className:"stake-tooltip flex jcfe aic fs-12 c-999",children:[m.a.get("newStake.stake_pool.withdraw_all"),Object(k.jsx)(j.a,{title:m.a.getHTML("newStake.stake_pool.withdraw_all_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(k.jsx)("img",{src:f.a,className:"ml-2"})})]}),Object(k.jsx)("span",{className:"fs-14 c-333 fw-500",children:Object(p.t)(M.amount)})]}),Object(k.jsxs)("div",{className:"flex jcsb mt-16",children:[Object(k.jsxs)("span",{className:"fs-12 c-999",children:[m.a.get("newStake.stake_pool.quit_claimed")," "+S.toUpperCase()," "]}),Object(k.jsx)("span",{className:"fs-14 c-333 fw-500",children:Object(p.t)(M.penaltyAmount)})]}),Object(k.jsx)("button",{disabled:Object(p.a)(M.amount).lte(0)&&Object(p.a)(M.penaltyAmount).lte(0),className:"common-btn mt-30",onClick:function(){return Y(Object(p.a)(M.amount))},children:m.a.get("newStake.stake_pool.claim_withdraw")}),Object(k.jsx)("div",{className:"line"}),Object(k.jsx)(R,{})]})})}})}},1118:function(e,t,a){},1121:function(e,t,a){},1122:function(e,t,a){},1123:function(e,t,a){},1124:function(e,t,a){},1125:function(e,t,a){},1160:function(e,t,a){"use strict";var c=a(3),s=a(70),n=a(0),r=a(2),l=a(22),i=a(814),o=a(1851),j=a(21),d=a.n(j),b=a(94),m=a(168),u=a(5),O=a(1),x=a(16),p=a(852),f=a(10),h=function(e){var t=Object(s.d)((function(){return m.a.network})),a=Object(s.d)((function(){return m.a.system})),j=Object(s.d)((function(){return m.a.pool})),b=t.modalShow,h=t.closeModal,g=t.poolId,k=t.stakeVersion,v=j["stakeData"+k],N=v[g],w=N.balance,y=N.symbol,S=N.allowance,_=N.token,C=N.index,D=N.precision,A=N.id,L=N.tokenAddress,T=N.tokenAddress2,M=N.decimal,I=N.currentSpeed,P=N.stakedBalanceNew,H=N.version,Y=Object(c.useState)(""),R=Object(l.a)(Y,2),U=R[0],F=R[1],q=Object(c.useState)(0),B=Object(l.a)(q,2),V=B[0],E=B[1],W=Object(c.useState)(""),z=Object(l.a)(W,2),Q=z[0],Z=z[1],K=Object(c.useState)(!1),X=Object(l.a)(K,2),G=X[0],J=X[1],$=window.localStorage.getItem("lang"),ee=!1,te=u.a.tokens;Object(c.useEffect)((function(){G&&ae()}),[U,G]),Object(c.useEffect)((function(){re()}),[U]);var ae=function(){return!U||Object(O.bb)(U).lte(0)?(Z(d.a.get("error.e1")),!1):Object(O.bb)(U).gt(w)?(Z(d.a.get("error.e2",{token:y})),!1):(Z(""),!0)},ce=function(){!G&&J(!0),F(Object(O.c)(w))},se=function(){var e=Object(r.a)(Object(n.a)().mark((function e(){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!G&&J(!0),ae()){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,!S.lt(Object(O.bb)(U))||ee){e.next=13;break}return t={action:"approve",title:"deposit.approve_token",obj:{value:"USDC Old LP"===y&&"zh-CN"===$?"Old USDC LP":y},continuous:!0},e.next=9,a.toApproveLP(_,"3"===k?te[A].lpStaker:"1"===k?u.a.lpStablePool:u.a.lpStablePool2,t);case 9:e.sent&&(ee=!0,ne()),e.next=14;break;case 13:ne();case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(3);case 18:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var t=Object(r.a)(Object(n.a)().mark((function t(){var c,s;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ae()){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,c={title:"actions.stake_lp",obj:{value:Object(O.t)(Object(O.bb)(U)),symbol:"USDC Old LP"===y&&"zh-CN"===$?"Old USDC LP":y}},s="","3"!==k){t.next=11;break}return t.next=8,a.depositLPNew(te[A].lpStaker,Object(O.bb)(U).times(D)._toIntegerDown()._toHex(),c,[["pool/getStakeData"]]);case 8:s=t.sent,t.next=14;break;case 11:return t.next=13,a.depositLP("1"===k?u.a.lpStablePool:u.a.lpStablePool2,C-1,Object(O.bb)(U).times(D)._toIntegerDown()._toHex(),c,[["pool/getStakeData"]]);case 13:s=t.sent;case 14:s&&(h(),setTimeout((function(){e.cb()}),5e3)),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[2,17]])})));return function(){return t.apply(this,arguments)}}(),re=function(){var e=Object(r.a)(Object(n.a)().mark((function e(){var a,c,s,r,l,i,o,j,d,b,m,u,p,f,h,k,v,N,w,y;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O.a.config({DECIMAL_PLACES:30}),e.next=4,Object(x.U)(te[g].lpStaker,t.defaultAccount,D);case 4:a=e.sent,c=a.votingBalance,s=a.votingTotal,r=a.workingBalance,l=a.workingSupply,i=a.gaugeBalance,o=a.gaugeTotalsupply,a.success&&(j=Object(O.a)(.4),d=Object(O.a)(.6),b=Object(O.bb)(U).isNaN()?Object(O.a)(0):Object(O.bb)(U),m=i.plus(b),u=Object(O.a)(o).plus(m),p=Object(O.a)(s),f=(f=m.times(j)).plus(u.times(c).div(p).times(d)),f=Object(O.a)(Math.min(m,f)),h=m.times(j),k=l.plus(h).minus(r),v=l.plus(f).minus(r),N=f.div(v),w=h.div(k),y=N.div(w).isNaN()?Object(O.a)(0):N.div(w),E(y)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(s.a,{children:function(){return Object(f.jsx)(i.a,{visible:"AddLiqModal"===b,title:d.a.getHTML("newStake.liquidity.stake_token",{symbol:"USDC Old LP"===y&&"zh-CN"===$?"Old USDC LP":y}),width:430,zIndex:999,footer:null,className:"lock-modal stake-token "+("3"===k&&"v3-stake-token v3-"+g),onCancel:h,closeIcon:Object(f.jsx)("img",{src:p.a}),wrapClassName:"vertical-center-modal",children:Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"flex jcsb",children:[Object(f.jsx)("span",{className:"fs-12 c-333",children:d.a.get("newStake.stake_pool.deposit")}),Object(f.jsxs)("span",{className:"fs-12 c-333",children:[Object(f.jsxs)("span",{className:"c-999",children:[d.a.get("newStake.stake_pool.balance"),":"]})," ",2===v[g].version?Object(O.a)(w).eq(0)?"0.00":Object(O.t)(w,{dp:18,cutZero:2}):Object(O.t)(w)]})]}),Object(f.jsxs)("div",{className:"",children:[Object(f.jsx)(o.a,{className:"mt-8",suffix:Object(f.jsx)("span",{className:"max-btn",onClick:ce,children:d.a.get("deposit.max")}),value:U,onChange:function(e){return function(e){!G&&J(!0);var t=Object(O.S)((""+e).replace(/,/g,""),M),a=t.valid,c=t.str;a&&F(Object(O.c)(c))}(e.target.value)}}),Q&&Object(f.jsx)("div",{className:"common-error",children:Q})]}),"3"===k&&Object(f.jsxs)("div",{children:[Object(f.jsxs)("p",{className:"c-666 flex jcsb fs-12 mt-16 lh-12",children:[d.a.get("stakes.current_speed"),Object(f.jsx)("span",{className:"fs-14 c-333 mr-8",children:Object(O.a)(P).gt(0)?Object(O.a)(I)._toFixed(2):"--"})]}),Object(f.jsxs)("p",{className:"c-666 flex jcsb fs-12 mt-8",children:[d.a.get("stakes.deposited_speed"),Object(f.jsx)("span",{className:"fs-14 c-333 mr-8",children:Object(O.a)(V)._toFixed(2)})]})]}),Object(f.jsx)("button",{disabled:!!Q,className:"common-btn ",onClick:se,children:d.a.get("newStake.stake_pool.deposit")}),Object(f.jsx)("div",{className:"mt-12 c-5915e1 fs-12 tac",children:Object(O.D)({id:A,symbol:y,tokenAddress:L,tokenAddress2:T,lang:$,version:H})})]})})}})},g=function(e){var t=Object(s.d)((function(){return m.a.network})),a=Object(s.d)((function(){return m.a.system})),j=Object(s.d)((function(){return m.a.pool})),b=t.modalShow,x=t.closeModal,h=t.poolId,g=t.stakeVersion,k=j["stakeData"+g],v=k[h],N=v.symbol,w=v.index,y=v.precision,S=v.stakedBalance,_=v.stakedBalanceNew,C=v.id,D=v.tokenAddress,A=v.tokenAddress2,L=v.decimal,T=v.version,M=Object(c.useState)(""),I=Object(l.a)(M,2),P=I[0],H=I[1],Y=Object(c.useState)(""),R=Object(l.a)(Y,2),U=R[0],F=R[1],q=Object(c.useState)(!1),B=Object(l.a)(q,2),V=B[0],E=B[1],W=Object(c.useState)("3"===g?_:S),z=Object(l.a)(W,2),Q=z[0],Z=(z[1],window.localStorage.getItem("lang"));Object(c.useEffect)((function(){V&&K()}),[P,V]);var K=function(){return!P||Object(O.bb)(P).lte(0)?(F(d.a.get("error.e1")),!1):Object(O.bb)(P).gt(Q)?(F(d.a.get("error.e2",{token:N})),!1):(F(""),!0)},X=function(e){!V&&E(!0);var t=Object(O.S)((""+e).replace(/,/g,""),L),a=t.valid,c=t.str;a&&H(Object(O.c)(c))},G=function(){!V&&E(!0),X(Q)},J=function(){var t=Object(r.a)(Object(n.a)().mark((function t(){var c,s;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!V&&E(!0),K()){t.next=3;break}return t.abrupt("return");case 3:if(!Object(O.bb)(P).gt(0)){t.next=16;break}if(c={title:"actions.withdraw_lp",obj:{value:Object(O.t)(Object(O.bb)(P)),symbol:"USDC Old LP"===N&&"zh-CN"===Z?"Old USDC LP":N}},s="","3"!==g){t.next=12;break}return t.next=9,a.withdrawLPNew(u.a.tokens[C].lpStaker,Object(O.bb)(P).times(y)._toHex(),c);case 9:s=t.sent,t.next=15;break;case 12:return t.next=14,a.withdrawLP("1"===g?u.a.lpStablePool:u.a.lpStablePool2,w-1,Object(O.bb)(P).times(y)._toHex(),c);case 14:s=t.sent;case 15:s&&(x(),setTimeout((function(){e.cb()}),5e3));case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(f.jsx)(s.a,{children:function(){return Object(f.jsx)(i.a,{visible:"RemoveLiqModal"===b,title:d.a.getHTML("newStake.liquidity.stake_token_cancel",{symbol:"USDC Old LP"===N&&"zh-CN"===Z?"Old USDC LP":N}),width:430,zIndex:999,footer:null,className:"lock-modal stake-token"+("3"===g&&" v3-stake-token v3-"+h),onCancel:x,closeIcon:Object(f.jsx)("img",{src:p.a}),wrapClassName:"vertical-center-modal",children:Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"flex jcsb",children:[Object(f.jsx)("span",{className:"fs-12 c-333",children:d.a.get("newStake.stake_pool.withdraw")}),Object(f.jsxs)("span",{className:"fs-12 c-333",children:[Object(f.jsxs)("span",{className:"c-999",children:[d.a.get("newStake.liquidity.staked"),":"]}),2===k[h].version?Object(O.a)(Q).eq(0)?"0.00":Object(O.t)(Q,{dp:18,cutZero:2}):Object(O.t)(Q)]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)(o.a,{className:"mt-8",suffix:Object(f.jsx)("span",{className:"max-btn",onClick:G,children:d.a.get("deposit.max")}),value:P,onChange:function(e){return X(e.target.value)}}),U&&Object(f.jsx)("div",{className:"common-error",children:U})]}),Object(f.jsx)("button",{disabled:!!U,className:"common-btn",onClick:J,children:d.a.get("newStake.stake_pool.withdraw")}),Object(f.jsx)("div",{className:"mt-12 c-5915e1 fs-12 tac",children:Object(O.D)({id:C,symbol:N,tokenAddress:D,tokenAddress2:A,lang:Z,version:T})})]})})}})},k=a(44),v=a.n(k),N=a(1845),w=a(268),y=a(1841),S=a(858),_=N.a.TabPane,C=function(e){Object(b.a)(window.navigator).any;var t=Object(s.d)((function(){return m.a.network})),a=Object(s.d)((function(){return m.a.system})),j=Object(s.d)((function(){return m.a.pool})),h=t.modalShow,g=t.closeModal,k=t.setData,C=t.stakeVersion,D=(j.stakePoolData1,j.stakePoolData2,j.getVoteInfo),A=j["stakePoolData"+C],L=A.totalStaked,T=A.totalLocked,M=A.balance,I=A.lockData,P=u.a.tokens,H=u.a.defaultId,Y=u.a.date,R=Object(c.useState)(t.defaultTabValue),U=Object(l.a)(R,2),F=U[0],q=U[1],B=Object(c.useState)(""),V=Object(l.a)(B,2),E=V[0],W=V[1],z=Object(c.useState)(""),Q=Object(l.a)(z,2),Z=Q[0],K=Q[1],X=Object(c.useState)(""),G=Object(l.a)(X,2),J=G[0],$=G[1],ee=Object(c.useState)(v()()),te=Object(l.a)(ee,2),ae=te[0],ce=te[1],se=Object(c.useState)(""),ne=Object(l.a)(se,2),re=ne[0],le=ne[1],ie=Object(c.useState)(""),oe=Object(l.a)(ie,2),je=oe[0],de=oe[1],be=Object(c.useState)(v()()),me=Object(l.a)(be,2),ue=me[0],Oe=me[1],xe=Object(c.useState)(v()().add(Y.four_year,"days")),pe=Object(l.a)(xe,2),fe=pe[0],he=pe[1],ge=Object(c.useState)("--"),ke=Object(l.a)(ge,2),ve=ke[0],Ne=ke[1],we=Object(c.useState)("--"),ye=Object(l.a)(we,2),Se=ye[0],_e=ye[1],Ce=Object(c.useState)(!1),De=Object(l.a)(Ce,2),Ae=De[0],Le=De[1],Te=Object(c.useState)(!1),Me=Object(l.a)(Te,2),Ie=Me[0],Pe=Me[1],He=Object(c.useState)(!1),Ye=Object(l.a)(He,2),Re=Ye[0],Ue=Ye[1],Fe=Object(c.useState)(!1),qe=Object(l.a)(Fe,2),Be=qe[0],Ve=qe[1],Ee=Object(c.useState)(!1),We=Object(l.a)(Ee,2),ze=We[0],Qe=We[1],Ze=!1;Object(c.useEffect)(Object(r.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"2"===C&&!A.isNeedRender&&Ke();case 1:case"end":return e.stop()}}),e)}))),[A]);var Ke=function(){var e=Object(r.a)(Object(n.a)().mark((function e(){var t,a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(t=A.lockData).lastLockTimeStamp&&(A.isNeedRender=!0),a=!1,t.lastLockTimeStamp&&Object(O.a)(t.lastLockTimeStamp).eq(0)&&(a=!0),Le(a),Xe(a,v()(1e3*Object(O.a)(t.lastLockTimeStamp)))}catch(c){console.log("getLockData error: "+c)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(e,t){try{if(e)ce(v()().add(Y.six_month,"days")),Oe(v()().add(Y.six_month,"days")),he(v()().add(Y.four_year,"days"));else{var a=604800*parseInt((new Date).getTime()/1e3/604800);v()(t).diff(v()(1e3*a).add(Y.six_month,"days"),"days")<=0?(ce(v()(1e3*a).add(Y.six_month,"days")),Oe(v()(1e3*a).add(Y.six_month,"days")),he(v()(1e3*a).add(Y.four_year,"days"))):(ce(t),Oe(t),he(v()().add(Y.four_year,"days")))}}catch(c){console.log("getLockDateRange error: "+c)}},Ge=function(){var e=j["stakePoolData"+C].stakeApy;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{className:"fw-500 c-333 fs-14",children:d.a.get("newStake.stake_pool.lock_desc")}),Object(f.jsxs)("div",{className:"lc-info",children:[Object(f.jsxs)("p",{children:[Object(f.jsxs)("span",{className:"stake-tooltip flex jcfe aic",children:[Object(f.jsxs)("span",{className:"opa-5",children:[d.a.get("stake.apy")," "]}),Object(f.jsx)(w.a,{title:d.a.getHTML("newStake.stake_pool.lock_apy_tip",{per1:e.unlocked&&"-"!==e.unlocked&&Object(O.a)(e.unlocked).gte(0)?"".concat(Object(O.s)(Object(O.a)(e.unlocked)),"%"):"--",symbol1:"TUSD",per2:e.locked&&"-"!==e.locked&&Object(O.a)(e.locked).gte(0)?"".concat(Object(O.s)(Object(O.a)(e.locked)),"%"):"--",symbol2:"SUN"}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(f.jsx)("img",{src:S.a,className:"ml-2"})})]}),Object(f.jsx)("span",{children:e.unlocked&&"-"!==e.unlocked&&Object(O.a)(e.unlocked).gte(0)&&e.locked&&"-"!==e.locked&&Object(O.a)(e.locked).gte(0)?"".concat(Object(O.s)(Object(O.a)(e.unlocked).plus(Object(O.a)(e.locked))),"%"):"--"})]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{className:"opa-5",children:d.a.get("newStake.stake_pool.lock_total")}),Object(f.jsxs)("span",{children:[Object(O.t)(Object(O.a)(T).div(P[H].precision))," ",H.toUpperCase()]})]})]}),Object(f.jsx)("div",{className:"line"}),Object(f.jsxs)("p",{className:"flex jcsb mb-8",children:[Object(f.jsx)("span",{className:"fs-12 c-333",children:d.a.getHTML("newStake.stake_pool.lock_sun",{symbol:H.toUpperCase()})}),Object(f.jsxs)("span",{className:"fs-12 c-333",children:[Object(f.jsxs)("span",{className:"c-999",children:[d.a.get("newStake.stake_pool.balance"),":"]})," ",M&&Object(O.t)(M.balance)]})]})]})},Je=function(){var e=A.lockData,t=!Object(O.a)(e.lastLockTimeStamp).eq(0)&&Object(O.a)(v()().format("X")).gt(e.lastLockTimeStamp);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"lc-date mt-24",children:[Object(f.jsxs)("div",{className:"flex jcsb aic",children:[Object(f.jsx)("span",{className:"fs-12 c-333",children:d.a.get("newStake.stake_pool.choose_lock_date")}),Object(f.jsx)("span",{children:ae&&Object(f.jsx)(y.a,{className:Re?"active":"",disabledDate:nt,onChange:ct,value:ae,allowClear:!1,disabled:t})})]}),Object(f.jsx)("div",{className:"lc-date-eles mt-16",children:Object.keys(Y).map((function(e){return v()(ue).diff(v()(),"days")<Y[e]&&Object(f.jsx)("span",{onClick:function(t){return st(e)},className:J!==e||Re?"":"current",children:d.a.get("newStake.stake_pool.".concat(e))},e)}))})]}),Object(O.a)(e.unlockable).gt(0)?Object(f.jsx)("p",{className:"fs-12 c-999 lh-22 mt-6",children:d.a.get("newStake.stake_pool.date_expired")}):Object(f.jsx)("p",{className:"fs-12 c-999 lh-22 mt-6",children:d.a.getHTML("newStake.stake_pool.date_desc",{start:ue.format("YYYY-MM-DD"),end:fe.format("YYYY-MM-DD"),symbol:H.toUpperCase()})}),Object(f.jsx)("div",{className:"line"}),Object(f.jsxs)("p",{className:"flex jcsb",children:[Object(f.jsx)("span",{className:"fs-12 c-666",children:d.a.get("newStake.stake_pool.lock_vote")}),Object(f.jsx)("span",{className:"fs-14 c-333 bold",children:Object(O.a)(Se).gte(0)?Object(O.t)(Se):"0.00"})]}),Object(f.jsxs)("p",{className:"flex jcsb",children:[Object(f.jsx)("span",{className:"fs-12 c-666",children:d.a.get("newStake.stake_pool.current_vote")}),Object(f.jsx)("span",{className:"fs-14 c-333 bold",children:Object(O.a)(ve).gte(0)?Object(O.t)(ve):"0.00"})]})]})},$e=function(e){!Be&&Ve(!0);var t=Object(O.S)((""+e).replace(/,/g,""),P[H].decimal),a=t.valid,c=t.str;a&&W(Object(O.c)(c))},et=function(){!Be&&Ve(!0);try{$e(M.balance)}catch(e){console.log("setLockMax error: "+e)}},tt=function(){var e=j["stakePoolData"+C].stakeApy;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{className:"fw-500 c-333 fs-14",children:d.a.get("newStake.stake_pool.stake_desc")}),Object(f.jsxs)("div",{className:"lc-info",children:[Object(f.jsxs)("p",{children:[Object(f.jsxs)("span",{className:"stake-tooltip flex jcfe aic",children:[Object(f.jsx)("span",{className:"opa-5",children:d.a.get("stake.apy")}),Object(f.jsx)(w.a,{title:d.a.getHTML("newStake.stake_pool.stake_apy_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(f.jsx)("img",{src:S.a,className:"ml-2"})})]}),Object(f.jsx)("span",{children:e.unlocked&&"-"!==e.unlocked&&Object(O.a)(e.unlocked).gte(0)?"".concat(Object(O.s)(e.unlocked),"%"):"--"})]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{className:"opa-5",children:d.a.get("newStake.stake_pool.stake_total")}),Object(f.jsxs)("span",{children:[Object(O.t)(Object(O.a)(L).div(Object(O.a)(10).pow(P[H].decimal)))," ",H.toUpperCase()]})]})]}),Object(f.jsx)("div",{className:"line"}),Object(f.jsxs)("p",{className:"flex jcsb mb-8",children:[Object(f.jsx)("span",{className:"fs-12 c-333",children:d.a.getHTML("newStake.stake_pool.stake_sun",{symbol:H.toUpperCase()})}),Object(f.jsxs)("span",{className:"fs-12 c-333",children:[Object(f.jsxs)("span",{className:"c-999",children:[d.a.get("newStake.stake_pool.balance"),":"]})," ",M&&Object(O.t)(M.balance)]})]})]})},at=function(){!ze&&Qe(!0);try{K(Object(O.c)(M.balance))}catch(e){console.log("setLockMax error: "+e)}},ct=function(e){ce(e),Ue(!0)},st=function(e){$(e),Ue(!1);var t=A.lockData,a=v()(1e3*Object(O.a)(t.lastLockTimeStamp));if(Ae)ce(v()().add(Y[e],"days"));else{var c=604800*parseInt((new Date).getTime()/1e3/604800);v()(a).diff(v()(1e3*c).add(Y.six_month,"days"),"days"),ce(v()(1e3*c).add(Y[e],"days"))}},nt=function(e){return e&&(e.diff(v()(ue),"hours")<0||e.diff(v()(fe),"hours")>0)},rt=function(){var e=Object(r.a)(Object(n.a)().mark((function e(){var c,s,r,l,i,o;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("1"!==F){e.next=6;break}if(!Be&&Ve(!0),jt()){e.next=4;break}return e.abrupt("return");case 4:e.next=9;break;case 6:if(!ze&&Qe(!0),dt()){e.next=9;break}return e.abrupt("return");case 9:if(e.prev=9,c=t.stakeVersion,s=j["stakePoolData"+c].balance,r=s.allowance,l=s.symbol,i="1"===F?E:Z,!r.lt(Object(O.bb)(i))||Ze){e.next=23;break}return o={action:"approve",title:"deposit.approve_token",obj:{value:l},continuous:!0},e.next=19,a.toApproveLP(s.token,"1"===t.stakeVersion?s.stake:s.stake2,o);case 19:e.sent&&(Ze=!0,lt()),e.next=24;break;case 23:lt();case 24:e.next=28;break;case 26:e.prev=26,e.t0=e.catch(9);case 28:case"end":return e.stop()}}),e,null,[[9,26]])})));return function(){return e.apply(this,arguments)}}(),lt=function(){var c=Object(r.a)(Object(n.a)().mark((function c(){var s,r,l,i,o;return Object(n.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if("2"!==(s=t.stakeVersion)||"1"!==F||Ae){c.next=4;break}return it(),c.abrupt("return");case 4:if(r="1"===F?E:Z,Object(O.bb)(r).gt(0)){c.next=7;break}return c.abrupt("return");case 7:if(c.prev=7,l={title:"1"===F?"actions.lock_lp":"actions.stake_lp",obj:{value:Object(O.t)(Object(O.bb)(r)),symbol:M.symbol}},i="","1"!==s){c.next=16;break}return c.next=13,a.stakeSSP(Object(O.bb)(r).times(M.precision)._toIntegerDown()._toHex(),"1"===F,l);case 13:i=c.sent,c.next=21;break;case 16:if("2"!==s){c.next=21;break}return o="1"===F?new Date(v()(ae).format("YYYY-MM-DD")).getTime()/1e3:0,c.next=20,a.stakeSSP2(Object(O.bb)(r).times(M.precision)._toIntegerDown()._toHex(),"1"===F,Object(O.a)(o)._toHex(),l);case 20:i=c.sent;case 21:i&&(mt(),setTimeout((function(){e.cb()}),5e3)),c.next=27;break;case 24:c.prev=24,c.t0=c.catch(7),console.log(c.t0);case 27:case"end":return c.stop()}}),c,null,[[7,24]])})));return function(){return c.apply(this,arguments)}}(),it=function(){var t=Object(r.a)(Object(n.a)().mark((function t(){var c,s,r,l;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=A.lockData,s=Object(O.bb)(E||0),r=0===v()(ae).diff(v()(1e3*Object(O.a)(c.lastLockTimeStamp)),"days")?0:parseInt(new Date(v()(ae).format("YYYY-MM-DD")).getTime()/1e3),s.eq(0)&&0===r&&le(d.a.get("error.e1")),l={title:"1"===F?"actions.lock_lp":"actions.stake_lp",obj:{value:Object(O.t)(s),symbol:M.symbol}},t.next=8,a.increaseLock(s.eq(0)?0:Object(O.a)(s).times(M.precision)._toIntegerDown()._toHex(),0===r?0:r+86400,l);case 8:t.sent&&(mt(),setTimeout((function(){e.cb()}),5e3)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log("redeposit error:"+t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}(),ot=function(e){k({defaultTabValue:e}),q(e)};Object(c.useEffect)((function(){var e=A.lockData,t=!Object(O.a)(e.lastLockTimeStamp).eq(0)&&Object(O.a)(v()().format("X")).gt(e.lastLockTimeStamp);Pe(!!t),Be&&jt()}),[E,C,Be,I]);var jt=function(){try{var e=A.lockData;!Object(O.a)(e.lastLockTimeStamp).eq(0)&&Object(O.a)(v()().format("X")).gt(e.lastLockTimeStamp);if("1"===C){if(!E||Object(O.bb)(E).lte(0))return le(d.a.get("error.e1")),!1}else if("2"===C){if(0===v()(ae).diff(v()(1e3*Object(O.a)(e.lastLockTimeStamp)),"days")&&!E)return le(d.a.get("error.e1")),!1;if(e.lastLockTimeStamp&&Object(O.a)(e.lastLockTimeStamp).eq(0)&&!Object(O.bb)(E).gt(0))return le(d.a.get("error.e1")),!1}return Object(O.bb)(E).gt(M.balance)?(le(d.a.get("error.e2",{token:H.toUpperCase()})),!1):(le(""),!0)}catch(t){}};Object(c.useEffect)((function(){ze&&dt()}),[Z,ze]);var dt=function(){try{return!Z||Object(O.bb)(Z).lte(0)?(de(d.a.get("error.e1")),!1):Object(O.bb)(Z).gt(M.balance)?(de(d.a.get("error.e2",{token:H.toUpperCase()})),!1):(de(""),!0)}catch(e){}};Object(c.useEffect)(Object(r.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v()(ae).diff(v()(),"days")>0&&bt();case 1:case"end":return e.stop()}}),e)}))),[E,ae,I]);var bt=function(){var e=Object(r.a)(Object(n.a)().mark((function e(){var a,c,s,r,l;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D("0x0000000000000000000000".concat(x.ec.tronWeb.address.toHex(t.defaultAccount)));case 3:(a=e.sent).success&&(c=a.value,s=new Date(v()(ae)).getTime(),r=Object(O.a)(I.lockData).div(P[H].precision),Object(O.bb)(E).gt(0)&&(r=r.plus(Object(O.bb)(E))),126144e3,l=r.times((s-Date.now())/1e3).div(126144e3),Object(O.a)(l).lte(0)||Object(O.a)(l).minus(c).abs().lte(.01)?_e(c):_e(l.toFixed(2)),Ne(c)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),mt=function(){A.isNeedRender=!1,g()};return Object(f.jsx)(s.a,{children:function(){return Object(f.jsx)(i.a,{visible:"LockStakeModal"===h,width:430,zIndex:999,footer:null,className:"lock-modal",maskClosable:!1,onCancel:mt,closeIcon:Object(f.jsx)("img",{src:p.a}),children:Object(f.jsxs)(N.a,{activeKey:F,type:"line",onChange:ot,children:[Object(f.jsx)(_,{tab:d.a.getHTML("newStake.stake_pool.lock_sun",{symbol:H.toUpperCase()}),children:Object(f.jsxs)("div",{className:"lock-content",children:[Object(f.jsx)(Ge,{}),Object(f.jsx)(o.a,{suffix:Object(f.jsx)("span",{className:"max-btn",onClick:et,children:d.a.get("deposit.max")}),value:E,onChange:function(e){return $e(e.target.value)}}),re&&Object(f.jsx)("div",{className:"common-error",children:re}),"2"===t.stakeVersion&&Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(Je,{})}),Object(f.jsx)("div",{className:"flex jcc",children:Object(f.jsx)("button",{disabled:re||Ie,className:"common-btn mt-24",onClick:rt,children:d.a.get("newStake.stake_pool.deposit")})})]})},"1"),Object(f.jsx)(_,{tab:d.a.getHTML("newStake.stake_pool.stake_sun",{symbol:H.toUpperCase()}),children:Object(f.jsxs)("div",{className:"lc-content",children:[Object(f.jsx)(tt,{}),Object(f.jsx)(o.a,{suffix:Object(f.jsx)("span",{className:"max-btn",onClick:at,children:d.a.get("deposit.max")}),value:Z,onChange:function(e){return function(e){!ze&&Qe(!0);var t=Object(O.S)((""+e).replace(/,/g,""),P[H].decimal),a=t.valid,c=t.str;a&&K(Object(O.c)(c))}(e.target.value)}}),je&&Object(f.jsx)("div",{className:"common-error",children:je}),Object(f.jsx)("div",{className:"flex jcc",children:Object(f.jsx)("button",{disabled:je,className:"common-btn mt-24",onClick:rt,children:d.a.get("newStake.stake_pool.deposit")})})]})},"2")]})})}})},D=a(1047),A=a(1842),L=function(e){var t=Object(s.d)((function(){return m.a.network})),a=Object(s.d)((function(){return m.a.pool})),n=t.modalShow,r=t.closeModal,o=t.stakeVersion,j=u.a.defaultId,b=u.a.tokens,p=Object(c.useState)(""),h=Object(l.a)(p,2),g=h[0],k=h[1];Object(c.useEffect)((function(){N()}),[]);var N=function(){var e=a["stakePoolData"+o].earned.list.map((function(e,t){return e.key=t,e}));k(e)};return Object(f.jsx)(s.a,{children:function(){return Object(f.jsx)(i.a,{visible:"VestDetailModal"===n,title:Object(f.jsxs)("div",{className:"flex aic jcc",children:[d.a.getHTML("newStake.stake_pool.vested_sun",{symbol:j.toUpperCase()}),Object(f.jsx)(w.a,{title:d.a.get("newStake.rule.rule".concat(o,".a5")),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(f.jsx)("img",{src:S.a,className:"tooltip-img ml-2"})})]}),width:430,zIndex:999,footer:null,className:"lock-modal detail-modal",onCancel:r,wrapClassName:"vertical-center-modal",children:Object(f.jsx)(A.a,{className:"vest-table",dataSource:g,pagination:!1,size:"small",columns:[{title:d.a.get("newStake.stake_pool.amount"),dataIndex:"amount",key:"amount",render:function(e,t){return Object(O.t)(Object(O.a)(t.amount).div(b[j].precision),{miniText:.01})}},{title:d.a.get("newStake.stake_pool.penalty"),dataIndex:"claim",key:"claim",render:function(e,t){return Object(O.t)(Object(O.a)(t.amount).div(2*b[j].precision),{miniText:.01})}},{title:d.a.get("newStake.stake_pool.expiry"),dataIndex:"time",key:"time",render:function(e,t){var a=v()(1e3*x.ec.tronWeb.toDecimal(t.time));return Object(O.a)(v()().format("X")).gt(x.ec.tronWeb.toDecimal(t.time))?d.a.get("newStake.stake_pool.expired"):a.format("YYYY-MM-DD")}}]})})}})},T=function(e){var t=Object(s.d)((function(){return m.a.network})),a=Object(s.d)((function(){return m.a.pool})),o=Object(c.useState)([]),j=Object(l.a)(o,2),b=j[0],x=j[1],h=t.modalShow,g=t.closeModal,k=t.stakeVersion,N=u.a.defaultId,y=u.a.tokens;Object(c.useEffect)(Object(r.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(),e.abrupt("return",(function(){x([])}));case 2:case"end":return e.stop()}}),e)}))),[]);var _=function(){var e=a["stakePoolData"+k].lockData,t=[{amount:e.lockData,time:e.lastLockTimeStamp,key:1e3}];"1"===k&&(t=e.list.map((function(e,t){return e.key=t,e})),Object(O.a)(e.unlockable).gt(0)&&t.unshift({amount:e.unlockable,time:1594540800,key:1e4})),x(t)};return Object(f.jsx)(s.a,{children:function(){return Object(f.jsx)(i.a,{visible:"LockDetailModal"===h,title:Object(f.jsxs)("div",{className:"flex aic jcc",children:[d.a.getHTML("newStake.stake_pool.locked_sun",{symbol:N.toUpperCase()}),"1"===k&&Object(f.jsx)(w.a,{title:d.a.get("newStake.rule.rule".concat(k,".a6")),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(f.jsx)("img",{src:S.a,className:"tooltip-img ml-2"})})]}),width:430,zIndex:999,footer:null,className:"lock-modal detail-modal",onCancel:g,closeIcon:Object(f.jsx)("img",{src:p.a}),wrapClassName:"vertical-center-modal",children:Object(f.jsx)(A.a,{className:"vest-table lock-table",dataSource:b,pagination:!1,size:"small",columns:[{title:d.a.get("newStake.stake_pool.amount"),dataIndex:"amount",key:"amount",render:function(e,t){return Object(O.t)(Object(O.a)(t.amount).div(y[N].precision),{miniText:.01})}},{title:d.a.get("newStake.stake_pool.expiry"),dataIndex:"time",key:"time",render:function(e,t){return Object(O.a)(v()().format("X")).gt(t.time)?d.a.get("newStake.stake_pool.expired"):v()(1e3*t.time).format("YYYY-MM-DD")}}]})})}})},M=a(20),I=a(4),P=a(1308),H=a(42),Y=a(119),R=a(28),U=P.a.Option,F=u.a.tokens,q=u.a.stakeKeys3,B=u.a.defaultVotePrecision,V=u.a.voteKeys,E=H.a.farmPoolKeys,W=H.a.farmPools,z=H.a.flexibleKeys,Q="lp",Z="veSun",K=Object(O.a)(.4),X=Object(O.a)(.6),G=function(e){var t=Object(s.d)((function(){return m.a.network})),a=Object(s.d)((function(){return m.a.pool})),j=Object(s.d)((function(){return m.a.farmStore})),u=t.modalShow,h=t.closeModal,g=t.poolId,k=t.isConnected,v=Object(I.a)(Object(I.a)({},j.farmData),a.stakeData3),N=Object(c.useState)(Object(O.a)(0)),w=Object(l.a)(N,2),y=w[0],S=w[1],_=Object(c.useState)(Object(O.a)(0)),C=Object(l.a)(_,2),D=C[0],A=C[1],L=Object(c.useState)(""),T=Object(l.a)(L,2),H=T[0],G=T[1],J=Object(c.useState)(""),$=Object(l.a)(J,2),ee=$[0],te=$[1],ae=Object(c.useState)(!1),ce=Object(l.a)(ae,2),se=ce[0],ne=ce[1],re=Object(c.useState)("--"),le=Object(l.a)(re,2),ie=le[0],oe=le[1],je=Object(c.useState)(Object(O.a)(0)),de=Object(l.a)(je,2),be=de[0],me=de[1],ue=Object(c.useState)("--"),Oe=Object(l.a)(ue,2),xe=Oe[0],pe=Oe[1],fe=Object(c.useState)(Object(O.a)(0)),he=Object(l.a)(fe,2),ge=he[0],ke=he[1],ve=Object(c.useState)(Object(O.a)(0)),Ne=Object(l.a)(ve,2),we=Ne[0],ye=Ne[1],Se=Object(c.useState)(Object(O.a)(0)),_e=Object(l.a)(Se,2),Ce=_e[0],De=_e[1],Ae=Object(c.useState)(Object(O.a)(0)),Le=Object(l.a)(Ae,2),Te=Le[0],Me=Le[1],Ie=Object(c.useState)(g),Pe=Object(l.a)(Ie,2),He=Pe[0],Ye=Pe[1],Re=Object(c.useState)("--"),Ue=Object(l.a)(Re,2),Fe=Ue[0],qe=Ue[1],Be=Object(c.useState)("--"),Ve=Object(l.a)(Be,2),Ee=Ve[0],We=Ve[1],ze=Object(c.useState)("--"),Qe=Object(l.a)(ze,2),Ze=Qe[0],Ke=Qe[1];Object(c.useEffect)((function(){se&&et()}),[D]),Object(c.useEffect)((function(){se&&$e()}),[y]),Object(c.useEffect)((function(){k?Xe(He)?it():lt():(nt(),rt())}),[He]),Object(c.useEffect)((function(){ot()}),[He,y,D]);var Xe=function(e){return E.includes(e)},Ge=function(e,t,a){""===e&&(e=0);var c=Object(O.S)((""+e).replace(/,/g,""),t),s=c.valid,n=c.str;s&&a(Object(O.c)(n))},Je=function(e){!se&&ne(!0),Ye(e)},$e=function(){return!y||Object(O.bb)(y).lt(0)?(G(d.a.get("error.e1")),!1):(G(""),!0)},et=function(){return!D||Object(O.bb)(D).lt(0)?(te(d.a.get("error.e1")),!1):(te(""),!0)},tt=function(){var e=q.map((function(e){var t=F[e].voteSymbol+(V.includes(F[e].voteSymbol)?"\uff08Flexible\uff09":"");return Object(f.jsx)(U,{value:e,disabled:e===He,style:e===He?{backgroundColor:"#d9d9d9",color:"#666666"}:{},children:t},e)})),t=E.map((function(e){var t=W[e].id,a=z.includes(t)?"\uff08Flexible\uff09":"\uff08Fixed+Flexible\uff09",c=F[t].voteSymbol+a;return Object(f.jsx)(U,{value:e,disabled:e===He,style:e===He?{backgroundColor:"#d9d9d9",color:"#666666"}:{},children:c},e)}));return[].concat(Object(M.a)(t),Object(M.a)(e))},at=function(e){return Object(f.jsx)("span",{className:"max-btn",onClick:function(){ct(e)},children:d.a.get("deposit.max")})},ct=function(e){!se&&ne(!0),He&&(e===Q?Ge(ge,v[He].decimal,S):Ge(be,18,A))},st=function(e,t){!se&&ne(!0),He&&(e===Q?Ge(t,v[He].decimal,S):Ge(t,18,A))},nt=function(){He&&(pe(v[He].totalStakeNew),Me(v[He].workingSupply),S(Object(O.a)(0)),A(Object(O.a)(0)))},rt=function(){var e=Object(r.a)(Object(n.a)().mark((function e(){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(R.e)();case 3:(t=e.sent).success&&t.data&&oe(Object(O.a)(t.data.totalVe).div(B)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),lt=function(){var e=Object(r.a)(Object(n.a)().mark((function e(){var a,c,s,r,l,i,o;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(He){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(x.U)(Xe(He)?W[He].lpStaker:F[He].lpStaker,t.defaultAccount,v[He].precision);case 5:a=e.sent,c=a.votingBalance,s=a.votingTotal,r=a.workingBalance,l=a.workingSupply,i=a.gaugeBalance,o=a.gaugeTotalsupply,a.success&&(me(c),oe(s),ye(i),pe(o),ke(v[He].balance),De(r),Me(l),Ge(v[He].balance,v[He].decimal,S),Ge(c,18,A)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}(),it=function(){var e=Object(r.a)(Object(n.a)().mark((function e(){var a,c,s,r,l,i,o;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(He){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(Y.b)(W[He].lpStaker,t.defaultAccount,v[He].precision);case 5:a=e.sent,c=a.votingBalance,s=a.votingTotal,r=a.workingBalance,l=a.workingSupply,i=a.gaugeBalance,o=a.gaugeTotalsupply,a.success&&(me(c),oe(s),ye(i),pe(o),ke(v[He].balance),De(r),Me(l),Ge(v[He].balance,v[He].decimal,S),Ge(c,18,A)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}(),ot=function(){try{if(He){var e=1;Xe(He)&&(e=Object(O.a)(v[He].multiple).gt(0)?Object(O.a)(v[He].multiple):1);var t=(Object(O.a)(we).isNaN()?Object(O.a)(0):Object(O.a)(we)).plus(Object(O.bb)(y).times(e)),a=Object(O.bb)(D),c=Object(O.a)(xe).plus(Object(O.bb)(y).times(e)),s=Object(O.a)(ie),n=s.times(t.div(c));n=n.isNaN()?Object(O.a)(0):n,Ke(n);var r=jt(t,a,c,s);qe(r);var l=jt(t,n,c,s);We(l)}}catch(i){console.log(i)}},jt=function(e,t,a,c){try{O.a.config({DECIMAL_PLACES:30});var s=e.times(K);s=s.plus(a.times(t).div(c).times(X)),s=Object(O.a)(Math.min(e,s));var n=e.times(K),r=Te.plus(n).minus(Ce),l=Te.plus(s).minus(Ce),i=s.div(l),o=n.div(r);return i.div(o).isNaN()?Object(O.a)(0):i.div(o)}catch(j){console.log(j)}},dt=Object(O.a)(we).plus(Object(O.bb)(y));return Object(f.jsx)(s.a,{children:function(){var e;return Object(f.jsxs)(i.a,{visible:"CalculatorModal"===u,title:d.a.get("newStake.calculator.boost_calculator"),width:430,zIndex:999,footer:null,className:"calculator-modal lock-modal",onCancel:h,closeIcon:Object(f.jsx)("img",{src:p.a,alt:""}),wrapClassName:Object(b.a)(window.navigator).any?"":"vertical-center-modal",children:[Object(f.jsxs)("section",{className:"flex jcsb aic",children:[Object(f.jsx)("span",{className:"fs-14 c-333",children:d.a.get("newStake.calculator.choose_lp")}),Object(f.jsxs)(P.a,{dropdownClassName:"calculator-selector",defaultValue:He,placeholder:d.a.get("newStake.calculator.choose_lp"),style:{width:140},onChange:Je,dropdownMatchSelectWidth:!1,placement:"bottomRight",dropdownAlign:{overflow:{adjustY:0}},children:[tt(),Object(f.jsx)(U,{disabled:!0})]})]}),Object(f.jsxs)("section",{className:"flex jcsb",children:[Object(f.jsx)("span",{className:"fs-14 c-333",children:d.a.get("newStake.calculator.total_lp")}),Object(f.jsx)("span",{className:"fs-14 c-333 number",children:2===(null===(e=v[He])||void 0===e?void 0:e.version)?Object(O.a)(xe).eq(0)?"0.00":Object(O.t)(xe,{dp:6,miniText:1e-6,cutZero:2}):Object(O.t)(xe)})]}),Object(f.jsxs)("section",{className:"flex jcsb",children:[Object(f.jsx)("span",{className:"fs-14 c-333",children:d.a.get("newStake.calculator.total_ve")}),Object(f.jsx)("span",{className:"fs-14 c-333 number",children:Object(O.t)(ie)})]}),Object(f.jsxs)("section",{children:[Object(f.jsxs)("p",{className:"flex jcsb fs-14 c-333",children:[d.a.get("newStake.calculator.user_total_lp"),Object(f.jsx)("span",{className:"number",children:He?2===v[He].version?Object(O.a)(dt).eq(0)?"0.00":Object(O.t)(dt,{dp:6,miniText:1e-6,cutZero:2}):Object(O.t)(dt):"--"})]}),Object(f.jsxs)("p",{className:"flex jcsb fs-12 c-666 mt-8",children:[d.a.get("newStake.calculator.deposited_lp"),Object(f.jsx)("span",{children:He?2===v[He].version?Object(O.a)(we).eq(0)?"0.00":Object(O.t)(we,{dp:6,miniText:1e-6,cutZero:2}):Object(O.t)(we):"--"})]}),Object(f.jsxs)("p",{className:"flex jcsb fs-12 c-666 mt-12",children:[d.a.get("newStake.calculator.deposit_lp"),Object(f.jsxs)("span",{children:[d.a.get("newStake.stake_pool.balance"),":"," ",Object(f.jsx)("i",{children:He?2===v[He].version?Object(O.a)(ge).eq(0)?"0.00":Object(O.t)(ge,{dp:18,cutZero:2}):Object(O.t)(ge):"--"})]})]}),Object(f.jsx)(o.a,{className:"mt-8",suffix:at(Q),value:y,onChange:function(e){return st(Q,e.target.value)}}),H&&Object(f.jsx)("div",{className:"common-error",children:H})]}),Object(f.jsxs)("section",{children:[Object(f.jsxs)("div",{className:"flex jcsb aic",children:[d.a.get("newStake.calculator.balance_ve"),Object(f.jsxs)("p",{className:"fs-12 c-666",children:[d.a.get("newStake.calculator.holding"),": ",Object(f.jsx)("span",{children:He?Object(O.t)(be):"--"})]})]}),Object(f.jsx)(o.a,{className:"mt-8",suffix:at(Z),value:D,onChange:function(e){return st(Z,e.target.value)}}),ee&&Object(f.jsx)("div",{className:"common-error",children:ee})]}),Object(f.jsxs)("section",{children:[Object(f.jsxs)("p",{children:[" ",d.a.get("newStake.calculator.calculate_result")]}),Object(f.jsxs)("div",{className:"flex jcsb mt-16",children:[Object(f.jsx)("span",{className:"fs-12 c-666",children:d.a.get("newStake.calculator.boost")}),Object(f.jsx)("span",{className:"fs-12 c-666 number",children:Object(O.a)(Fe).eq(0)||Object(O.a)(Fe).isNaN()?"--":Object(O.a)(Fe)._toFixed(2,1)})]}),Object(f.jsxs)("div",{className:"flex jcsb mt-12",children:[Object(f.jsx)("span",{className:"fs-12 c-666",children:d.a.get("newStake.calculator.max_boost")}),Object(f.jsx)("span",{className:"fs-12 c-666 number",children:Object(O.a)(Ee).eq(0)||Object(O.a)(Ee).isNaN()?"--":Object(O.a)(Ee)._toFixed(2,1)})]}),Object(f.jsxs)("div",{className:"flex jcsb mt-12",children:[Object(f.jsx)("span",{className:"fs-12 c-666",children:d.a.get("newStake.calculator.max_boost_ve")}),Object(f.jsx)("span",{className:"fs-12 c-666 number",children:Object(O.a)(Ze).eq(0)||Object(O.a)(Ze).isNaN()?"--":Object(O.t)(Ze)})]})]})]})}})},J=a(1848),$=a(1403),ee=J.a.Countdown,te=function(e){var t=Object(s.d)((function(){return m.a.network})),a=(Object(s.d)((function(){return m.a.pool})),t.modalShow),n=t.closeModal,r=Date.now()+u.a.confirmTime;Object(c.useEffect)((function(){}),[]);return Object(f.jsx)(s.a,{children:function(){return Object(f.jsx)(i.a,{visible:"TopModal"===a,title:Object(f.jsx)(ee,{title:d.a.get("top_modal.comfirm"),value:r,format:"ss",suffix:d.a.get("top_modal.second")}),width:320,zIndex:999999,footer:null,className:"lock-modal detail-modal top-modal",onCancel:n,closable:!1,maskClosable:!1,wrapClassName:"vertical-center-modal",children:Object(f.jsx)($.a,{})})}})},ae=a(147),ce=function(e){var t=Object(s.d)((function(){return m.a.network})),a=t.setData,c=t.modalShow,n=t.closeModal,r=t.isConnected,l=function(){a(r?{modalShow:"LockModal"}:{loginModalVisible:!0,loginModalStep:1})},o=function(){a({modalShow:"CalculatorModal",poolId:void 0})},j=function(){window.open("/?lang=".concat(window.localStorage.getItem("lang"),"#/governance"),"governance")};return Object(f.jsx)(s.a,{children:function(){return Object(f.jsx)(i.a,{visible:"TipsModal"===c,title:d.a.get("newStake.mint_tips.title"),width:430,zIndex:999,footer:null,className:"tips-modal  lock-modal",onCancel:n,closeIcon:Object(f.jsx)("img",{src:p.a}),wrapClassName:"vertical-center-modal",children:Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"step step_1",children:[Object(f.jsx)("div",{className:"icon",children:"Step.1"}),Object(f.jsx)("p",{children:d.a.get("newStake.mint_tips.tips1")}),Object(f.jsx)(ae.a,{onClick:l,children:d.a.get("newStake.mint_tips.to_lock")})]}),Object(f.jsxs)("div",{className:"step step_2",children:[Object(f.jsx)("div",{className:"icon",children:"Step.2"}),Object(f.jsx)("p",{children:d.a.get("newStake.mint_tips.tips2")}),Object(f.jsx)(ae.a,{onClick:j,children:d.a.get("newStake.mint_tips.to_vote")})]}),Object(f.jsxs)("div",{className:"step step_3",children:[Object(f.jsx)("div",{className:"icon",children:"Step.3"}),Object(f.jsx)("p",{children:d.a.get("newStake.mint_tips.tips3")}),Object(f.jsx)(ae.a,{onClick:o,children:d.a.get("newStake.mint_tips.to_calculator")})]})]})})}})},se=a(939),ne=a(49),re=function(e){var t=Object(s.d)((function(){return m.a.network})),a=Object(s.d)((function(){return m.a.system})),j=Object(s.d)((function(){return m.a.pool})),b=t.modalShow,h=t.closeModal,g=(t.setData,j.stakePoolData3),k=j.getVoteInfo,N=g.totalLocked,_=g.balance,C=g.lockData,D=u.a.tokens,A=u.a.defaultId,L=u.a.date,T=Object(c.useState)(""),M=Object(l.a)(T,2),I=M[0],P=M[1],H=Object(c.useState)(""),Y=Object(l.a)(H,2),R=Y[0],U=Y[1],F=Object(c.useState)(v()()),q=Object(l.a)(F,2),B=q[0],V=q[1],E=Object(c.useState)(""),W=Object(l.a)(E,2),z=W[0],Q=W[1],Z=Object(c.useState)(v()()),K=Object(l.a)(Z,2),X=K[0],G=K[1],J=Object(c.useState)(v()().add(L.four_year,"days")),$=Object(l.a)(J,2),ee=$[0],te=$[1],ae=Object(c.useState)("--"),ce=Object(l.a)(ae,2),re=ce[0],le=ce[1],ie=Object(c.useState)("--"),oe=Object(l.a)(ie,2),je=oe[0],de=oe[1],be=Object(c.useState)(!1),me=Object(l.a)(be,2),ue=me[0],Oe=me[1],xe=Object(c.useState)(!1),pe=Object(l.a)(xe,2),fe=pe[0],he=pe[1],ge=Object(c.useState)(!1),ke=Object(l.a)(ge,2),ve=ke[0],Ne=ke[1],we=Object(c.useState)(!1),ye=Object(l.a)(we,2),Se=ye[0],_e=ye[1],Ce=!1;Object(c.useEffect)(Object(r.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!g.isNeedRender&&De();case 1:case"end":return e.stop()}}),e)}))),[g]);var De=function(){var e=Object(r.a)(Object(n.a)().mark((function e(){var t,a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(t=g.lockData).lastLockTimeStamp&&(g.isNeedRender=!0),a=!1,t.lastLockTimeStamp&&Object(O.a)(t.lastLockTimeStamp).eq(0)&&(a=!0),Oe(a),Ae(a,v()(1e3*Object(O.a)(t.lastLockTimeStamp)))}catch(c){console.log("getLockData error: "+c)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(e,t){try{if(e)V(v()().add(L.six_month,"days")),G(v()().add(L.six_month,"days")),te(v()().add(L.four_year,"days"));else{var a=604800*parseInt((new Date).getTime()/1e3/604800);v()(t).diff(v()(1e3*a).add(L.six_month,"days"),"days")<=0?(V(v()(1e3*a).add(L.six_month,"days")),G(v()(1e3*a).add(L.six_month,"days")),te(v()(1e3*a).add(L.four_year,"days"))):(V(t),G(t),te(v()().add(L.four_year,"days")))}}catch(c){console.log("getLockDateRange error: "+c)}},Le=function(){var e=g.stakeApy;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{className:"fw-500 c-333 fs-14",children:d.a.get("newStake.stake_pool.lock_desc2")}),Object(f.jsxs)("div",{className:"lc-info",children:[Object(f.jsxs)("p",{children:[Object(f.jsxs)("span",{className:"stake-tooltip flex jcfe aic",children:[Object(f.jsxs)("span",{className:"opa-5",children:[d.a.get("stake.apy")," "]}),Object(f.jsx)(w.a,{title:d.a.getHTML("newStake.stake_pool.lock_apy_tip",{per1:e.unlocked&&"-"!==e.unlocked&&Object(O.a)(e.unlocked).gte(0)?"".concat(Object(O.s)(Object(O.a)(e.unlocked)),"%"):"--",symbol1:"TUSD",per2:e.locked&&"-"!==e.locked&&Object(O.a)(e.locked).gte(0)?"".concat(Object(O.s)(Object(O.a)(e.locked)),"%"):"--",symbol2:"SUN"}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(f.jsx)("img",{src:S.a,className:"ml-2"})})]}),Object(f.jsx)("span",{children:e.unlocked&&"-"!==e.unlocked&&Object(O.a)(e.unlocked).gte(0)&&e.locked&&"-"!==e.locked&&Object(O.a)(e.locked).gte(0)?"".concat(Object(O.s)(Object(O.a)(e.unlocked).plus(Object(O.a)(e.locked))),"%"):"--"})]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{className:"opa-5",children:d.a.get("newStake.stake_pool.lock_total")}),Object(f.jsxs)("span",{children:[Object(O.t)(Object(O.a)(N).div(D[A].precision))," ",A.toUpperCase()]})]})]}),Object(f.jsx)("div",{className:"line"}),Object(f.jsxs)("p",{className:"flex jcsb mb-8",children:[Object(f.jsx)("span",{className:"fs-12 c-333",children:d.a.getHTML("newStake.stake_pool.lock_sun",{symbol:A.toUpperCase()})}),Object(f.jsxs)("span",{className:"fs-12 c-333",children:[Object(f.jsxs)("span",{className:"c-999",children:[d.a.get("newStake.stake_pool.balance"),":"]})," ",_&&Object(O.t)(_.balance)]})]})]})},Te=function(){var e=g.lockData,t=!Object(O.a)(e.lastLockTimeStamp).eq(0)&&Object(O.a)(v()().format("X")).gt(e.lastLockTimeStamp);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"lc-date mt-10",children:[Object(f.jsxs)("div",{className:"flex jcsb aic",children:[Object(f.jsx)("span",{className:"fs-12 c-333",children:d.a.get("newStake.stake_pool.choose_lock_date")}),Object(f.jsx)("span",{children:e.lastLockTimeStamp&&Object(f.jsx)(y.a,{className:ve?"active":"",disabledDate:Ye,onChange:Pe,value:B,allowClear:!1,disabled:t,suffixIcon:Object(f.jsx)("img",{src:se.a})})})]}),Object(f.jsx)("div",{className:"lc-date-eles mt-16",children:Object.keys(L).map((function(e){return v()(X).diff(v()(),"days")<L[e]&&Object(f.jsx)("span",{onClick:function(t){return He(e)},className:R!==e||ve?"":"current",children:d.a.get("newStake.stake_pool.".concat(e))},e)}))})]}),e.lastLockTimeStamp?Object(O.a)(e.unlockable).gt(0)?Object(f.jsx)("p",{className:"fs-12 c-999 lh-22 mt-6",children:d.a.get("newStake.stake_pool.date_expired")}):Object(f.jsx)("p",{className:"fs-12 c-999 lh-22 mt-6",children:d.a.getHTML("newStake.stake_pool.date_desc",{start:X.format("YYYY-MM-DD"),end:ee.format("YYYY-MM-DD"),symbol:A.toUpperCase()})}):"",Object(f.jsx)("div",{className:"line mb-10"}),Object(f.jsxs)("p",{className:"flex jcsb",children:[Object(f.jsx)("span",{className:"fs-12 c-666",children:d.a.get("newStake.stake_pool.lock_vote")}),Object(f.jsx)("span",{className:"fs-14 c-333 bold",children:Object(O.a)(je).gte(0)?Object(O.t)(je):"0.00"})]}),Object(f.jsxs)("p",{className:"flex jcsb",children:[Object(f.jsx)("span",{className:"fs-12 c-666",children:d.a.get("newStake.stake_pool.current_vote")}),Object(f.jsx)("span",{className:"fs-14 c-333 bold",children:Object(O.a)(re).gte(0)?Object(O.t)(re):"0.00"})]})]})},Me=function(e){!Se&&_e(!0);var t=Object(O.S)((""+e).replace(/,/g,""),D[A].decimal),a=t.valid,c=t.str;a&&P(Object(O.c)(c))},Ie=function(){!Se&&_e(!0);try{Me(_.balance)}catch(e){console.log("setLockMax error: "+e)}},Pe=function(e){V(e),Ne(!0)},He=function(e){U(e),Ne(!1);var t=g.lockData,a=v()(1e3*Object(O.a)(t.lastLockTimeStamp));if(ue)V(v()().add(L[e],"days"));else{var c=604800*parseInt((new Date).getTime()/1e3/604800);v()(a).diff(v()(1e3*c).add(L.six_month,"days"),"days")<=0?V(v()(1e3*c).add(L[e],"days")):V(v()().add(L[e],"days"))}},Ye=function(e){return e&&(e.diff(v()(X),"hours")<0||e.diff(v()(ee),"hours")>0)},Re=function(){var e=Object(r.a)(Object(n.a)().mark((function e(){var t,c,s,r,l;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Se&&_e(!0),qe()){e.next=3;break}return e.abrupt("return");case 3:if(Object(ne.a)({action:ne.b.deposit,event_category:ne.h.farm}),e.prev=4,t=g.balance,c=t.allowance,s=t.symbol,r=Object(O.bb)(I),!c.lt(Object(O.a)(r))||Ce){e.next=17;break}return l={action:"approve",title:"deposit.approve_token",obj:{value:s},continuous:!0},e.next=13,a.toApproveLP(t.token,t.stake2,l);case 13:e.sent&&(Ce=!0,Ue()),e.next=18;break;case 17:Ue();case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(4);case 22:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var t=Object(r.a)(Object(n.a)().mark((function t(){var c,s,r;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ue){t.next=3;break}return Fe(),t.abrupt("return");case 3:if(c=Object(O.bb)(I),Object(O.a)(c).gt(0)){t.next=6;break}return t.abrupt("return");case 6:return t.prev=6,s={title:"actions.lock_lp",obj:{value:Object(O.t)(c),symbol:_.symbol}},"",r=new Date(v()(B).format("YYYY-MM-DD")).getTime()/1e3,t.next=12,a.stakeSSP2(Object(O.a)(c).times(_.precision)._toIntegerDown()._toHex(),!0,Object(O.a)(r)._toHex(),s);case 12:t.sent&&(Ve(),setTimeout((function(){e.cb()}),5e3)),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[6,16]])})));return function(){return t.apply(this,arguments)}}(),Fe=function(){var t=Object(r.a)(Object(n.a)().mark((function t(){var c,s,r,l;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c=g.lockData,s=Object(O.bb)(I)||Object(O.a)(0),r=0===v()(B).diff(v()(1e3*Object(O.a)(c.lastLockTimeStamp)),"days")?0:parseInt(new Date(v()(B).format("YYYY-MM-DD")).getTime()/1e3),s.eq(0)&&0===r&&Q(d.a.get("error.e1")),l={title:"actions.lock_lp",obj:{value:Object(O.t)(s),symbol:_.symbol}},t.next=8,a.increaseLock(s.eq(0)?0:Object(O.bb)(s).times(_.precision)._toIntegerDown()._toHex(),0===r?0:r+86400,l);case 8:t.sent&&(Ve(),setTimeout((function(){e.cb()}),5e3)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log("redeposit error:"+t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=g.lockData,t=!Object(O.a)(e.lastLockTimeStamp).eq(0)&&Object(O.a)(v()().format("X")).gt(e.lastLockTimeStamp);he(!!t),Se&&qe()}),[I,Se,C]);var qe=function(){try{var e=g.lockData;!Object(O.a)(e.lastLockTimeStamp).eq(0)&&Object(O.a)(v()().format("X")).gt(e.lastLockTimeStamp);return 0!==v()(B).diff(v()(1e3*Object(O.a)(e.lastLockTimeStamp)),"days")||I?e.lastLockTimeStamp&&Object(O.a)(e.lastLockTimeStamp).eq(0)&&!Object(O.bb)(I).gt(0)?(Q(d.a.get("error.e1")),!1):Object(O.bb)(I).gt(_.balance)?(Q(d.a.get("error.e2",{token:A.toUpperCase()})),!1):(Q(""),!0):(Q(d.a.get("error.e1")),!1)}catch(t){}};Object(c.useEffect)(Object(r.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v()(B).diff(v()(),"days")>0&&Be();case 1:case"end":return e.stop()}}),e)}))),[I,B,C]);var Be=function(){var e=Object(r.a)(Object(n.a)().mark((function e(){var a,c,s,r,l;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("0x0000000000000000000000".concat(x.ec.tronWeb.address.toHex(t.defaultAccount)));case 3:(a=e.sent).success&&(c=a.value,s=new Date(v()(B)).getTime(),r=Object(O.a)(C.lockData).div(D[A].precision),Object(O.bb)(I).gt(0)&&(r=r.plus(Object(O.bb)(I))),126144e3,l=r.times((s-Date.now())/1e3).div(126144e3),Object(O.a)(l).lte(0)||Object(O.a)(l).minus(c).abs().lte(.01)?de(c):de(l.toFixed(2)),le(c)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Ve=function(){g.isNeedRender=!1,h()};return Object(f.jsx)(s.a,{children:function(){return Object(f.jsx)(i.a,{visible:"LockModal"===b,title:d.a.getHTML("newStake.stake_pool.lock_sun",{symbol:A.toUpperCase()}),width:430,zIndex:999,footer:null,className:"new-lock-modal lock-modal",maskClosable:!1,onCancel:Ve,closeIcon:Object(f.jsx)("img",{src:p.a}),wrapClassName:"vertical-center-modal",children:Object(f.jsxs)("div",{className:"lock-content",children:[Object(f.jsx)(Le,{}),Object(f.jsx)(o.a,{suffix:Object(f.jsx)("span",{className:"max-btn",onClick:Ie,children:d.a.get("deposit.max")}),value:I,onChange:function(e){return Me(e.target.value)}}),z&&Object(f.jsx)("div",{className:"common-error",children:z}),Object(f.jsx)(Te,{}),Object(f.jsx)("div",{className:"flex jcc",children:Object(f.jsx)("button",{disabled:z||fe,className:"common-btn mt-10 lock-common-btn",onClick:Re,children:d.a.get("newStake.stake_pool.deposit")})})]})})}})},le=function(e){var t=Object(s.d)((function(){return m.a.network})),a=(Object(s.d)((function(){return m.a.system})),Object(s.d)((function(){return m.a.pool}))),j=t.modalShow,b=t.closeModal,x=(t.setData,e.poolData),h=e.poolExpiredTime,g=e.isOutdate,k=(x.balance,x.extraSymbol),v=x.nextWeekApyV3,N=(x.extraRewardApy,x.extraRewardPrice),w=(x.extraContract,x.name),y=x.totalStake,S=x.price,_=x.lpStaker,C=x.nextWeekWeight,D=x.thisWeekWeight,A=x.flag,L=Object(c.useState)(""),T=Object(l.a)(L,2),M=T[0],I=T[1],P=Object(c.useState)(""),H=Object(l.a)(P,2),Y=H[0],R=H[1],U=Object(c.useState)(0),F=Object(l.a)(U,2),q=F[0],B=F[1],V=Object(c.useState)("--"),E=Object(l.a)(V,2),W=E[0],z=E[1],Q=Object(c.useState)("--"),Z=Object(l.a)(Q,2),K=Z[0],X=Z[1],G=Object(c.useState)("--"),J=Object(l.a)(G,2),$=J[0],ee=J[1],te=Object(c.useState)("--"),ae=Object(l.a)(te,2),ce=ae[0],se=ae[1],ne=Object(c.useState)("--"),re=Object(l.a)(ne,2),le=re[0],ie=re[1],oe=Object(c.useState)("--"),je=Object(l.a)(oe,2),de=je[0],be=je[1];a.calculatorObj.config;Object(c.useEffect)(Object(r.a)(Object(n.a)().mark((function e(){var t,c,s;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.calculatorObj.config){e.next=7;break}X(a.calculatorObj.sunApy),I(1e6),R(Object(O.c)(1e6)),B(Object(O.c)(5e6)),e.next=18;break;case 7:if(0!=h){e.next=12;break}I(Object(O.c)(1e6)),R(1e6),e.next=18;break;case 12:if(y){e.next=15;break}return e.next=15,a.getTotalStakePoolConfig(w,[_]);case 15:s=null===(t=Object(O.a)(null===(c=a.myPoolMap[w])||void 0===c?void 0:c.totalStake))||void 0===t?void 0:t.times(S),I(Object(O.c)(s)),R(Object(O.c)(Object(O.t)(s,{dp:0})));case 18:case"end":return e.stop()}}),e)}))),[]),Object(c.useEffect)((function(){a.sunPrice;var e=a.sunRatePerSecond,t=a.totalVote,c=(a.currentVotes,e),s=Object(O.a)(t).div(u.a.defaultVotePrecision),n=Object(O.a)(C).div(1e16).div(100),r=Object(O.a)(s).times(n),l=Object(O.a)(c).times(86400),i=Object(O.a)(r).plus(Object(O.bb)(q||0)),o=Object(O.a)(s).plus(Object(O.bb)(q||0)),j=Object(O.a)(l).times(i).div(o);se(j),ie(r)}),[q,a.sunRatePerSecond,A]),Object(c.useEffect)((function(){if(Object(O.bb)(M).eq(0))X("--");else{var e=a.sunPrice,t=(a.sunRatePerSecond,a.totalVote),c=(a.currentVotes,Object(O.a)(0));if(Object(O.a)(D).eq(0)||Object(O.bb)(a.calculatorObj.stakeValue).eq(0))c=Object(O.a)(ce).times(e).times(365).div(Object(O.bb)(M)).times(100).toFixed(2,1);else{var s=Object(O.a)(t).div(u.a.defaultVotePrecision),n=Object(O.a)(C).div(1e16).div(100),r=Object(O.a)(s).times(n),l=Object(O.a)(r).plus(Object(O.bb)(q||0)),i=Object(O.a)(s).plus(Object(O.bb)(q||0));c=Object(O.a)(Object(O.a)(l).div(i).div(r).times(s)).times(v).div(Object(O.bb)(M).div(Object(O.bb)(a.calculatorObj.stakeValue))).times(100).toFixed(2,1)}X(c)}}),[ce,M,q,v,le,a.calculatorObj,A]),Object(c.useEffect)((function(){a.calculatorObj.config&&me()}),[$,M,A,g]),Object(c.useEffect)((function(){a.calculatorObj.config||z(a.calculatorObj.tokenApy)}),[]);var me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;if(Object(O.bb)(e).eq(0))z("--");else{var t=Object(O.a)($).times(N).times(365).div(Object(O.bb)(e)).times(100).toFixed(2,1);z(t)}};Object(c.useEffect)((function(){ee(a.calculatorObj.miningSpeed)}),[a.calculatorObj,A]),Object(c.useEffect)((function(){var e,t=Object(O.r)(u.a.tokens,w,"token"),a=null===(e=u.a.tokens[t])||void 0===e?void 0:e.symbol;be(a)}),[w]);var ue=function(){b()};return Object(f.jsx)(s.a,{children:function(){return Object(f.jsx)(i.a,{visible:"ApyCalculatorModal"===j,title:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{children:d.a.get("pool_config.apy_calc")}),Object(f.jsx)("div",{className:"header-subtitle",children:d.a.get("pool_config.lp_to_apy")})]}),width:430,zIndex:999,footer:null,className:"new-lock-modal apy-calculator-modal",maskClosable:!1,onCancel:ue,closeIcon:Object(f.jsx)("img",{src:p.a}),wrapClassName:"vertical-center-modal",children:Object(f.jsxs)("div",{className:"calculate-content",children:[Object(f.jsxs)("div",{className:"ce-content flex",children:[Object(f.jsxs)("div",{className:"ce-bold",children:[de," ",d.a.get("pool_config.current_stake_lp")]}),Object(f.jsx)("div",{className:"ce-bold ce-hn",children:Object(f.jsx)(o.a,{className:"ce-hn c-333 fs-14 fw-500 tar",value:Y,onChange:function(e){return function(e){var t=Object(O.S)((""+e).replace(/,/g,"")),a=t.valid,c=t.str;a&&(c.indexOf(".")>-1&&(c=c.split(".")[0]),I(Object(O.c)(c)),R(Object(O.c)(c)),me(c))}(e.target.value)}})})]}),Object(f.jsx)("div",{className:"ce-content pb-0",children:Object(f.jsxs)("div",{className:"ce-fisrt flex h-80",children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("span",{className:"ce-bold",children:[de," ",d.a.get("pool_config.veVotes")]}),Object(f.jsx)("span",{className:"ce-subtext",children:d.a.get("pool_config.total_vote")}),Object(f.jsx)("span",{className:"ce-subtext",children:d.a.get("pool_config.add_vote")})]}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("span",{className:"ce-bold ce-hn",children:[" ",Object(O.t)(Object(O.a)(le).plus(Object(O.bb)(q||0)),{dp:0})]}),Object(f.jsx)("span",{className:"ce-hn c-666 fs-12 mt-12",children:Object(O.t)(le,{dp:0})}),Object(f.jsx)("span",{children:Object(f.jsx)(o.a,{className:"ce-hn c-999 fs-12 tar add-vote",value:q,onChange:function(e){return function(e){var t=Object(O.S)((""+e).replace(/,/g,"")),a=t.valid,c=t.str;a&&(c.indexOf(".")>-1&&(c=c.split(".")[0]),B(Object(O.c)(c)))}(e.target.value)}})})]})]})}),Object(f.jsx)("div",{className:"line"}),Object(f.jsx)("div",{className:"ce-title",children:d.a.get("pool_config.data_estimate")}),Object(f.jsxs)("div",{className:"ce-content cc-content",children:[Object(f.jsxs)("div",{className:"ce-fisrt flex",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:"ce-bold",children:d.a.get("pool_config.total_apy")}),Object(f.jsxs)("span",{className:"ce-subtext",children:[k,d.a.get("pool_config.mining"),"APY"]}),Object(f.jsxs)("span",{className:"ce-subtext",children:["SUN",d.a.get("pool_config.mining"),"APY"]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:"ce-bold ce-hn c-5915e1",children:"".concat(Object(O.s)(Object(O.a)(W).plus(Object(O.a)(K).times(.4))),"%~").concat(Object(O.s)(Object(O.a)(W).plus(K)),"%")}),Object(f.jsx)("span",{className:"ce-hn fs-12 c-333 fw-500",children:"".concat(Object(O.s)(W),"%")}),Object(f.jsx)("span",{className:"ce-hn fs-12 c-333 fw-500",children:"".concat(Object(O.s)(Object(O.a)(K).times(.4)),"%~").concat(Object(O.s)(K),"%")})]})]}),Object(f.jsx)("div",{className:"ce-content-tip",children:d.a.get("pool_config.depend_estimate")})]}),Object(f.jsxs)("div",{className:"ce-content flex ais",children:[Object(f.jsxs)("div",{className:"c-666 fs-12",children:[k," ",d.a.get("pool_config.mining_speed")]}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:" ce-hn fs-12 c-333 fw-500",children:[Object(O.t)(Object(O.bb)($),{dp:6,cutZero:!0})," ",k]}),Object(f.jsxs)("div",{className:"ce-value c-666 fs-12",children:["~$ ",Object(O.t)(Object(O.bb)($).times(N),{miniText:.01})]})]})]}),Object(f.jsxs)("div",{className:"ce-content flex pb-6 ais ",children:[Object(f.jsxs)("div",{className:"c-666 fs-12",children:["SUN ",d.a.get("pool_config.mining_speed")]}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:" ce-hn fs-12 c-333 fw-500",children:[Object(O.t)(Object(O.bb)(ce),{dp:6,cutZero:!0})," SUN"]}),Object(f.jsxs)("div",{className:"ce-value c-666 fs-12",children:["~$"," ",Object(O.t)(Object(O.bb)(ce).times(a.sunPrice),{miniText:.01})]})]})]})]})})}})};t.a=function(e){return Object(f.jsx)(s.a,{children:function(){return Object(f.jsxs)(f.Fragment,{children:["AddLiqModal"===e.modalShow&&Object(f.jsx)(h,{cb:e.cb}),"RemoveLiqModal"===e.modalShow&&Object(f.jsx)(g,{cb:e.cb}),"WithdrawModal"===e.modalShow&&Object(f.jsx)(D.a,{cb:e.cb}),"LockDetailModal"===e.modalShow&&Object(f.jsx)(T,{}),"VestDetailModal"===e.modalShow&&Object(f.jsx)(L,{}),"LockStakeModal"===e.modalShow&&Object(f.jsx)(C,{cb:e.cb}),"TopModal"===e.modalShow&&Object(f.jsx)(te,{cb:e.cb}),"CalculatorModal"===e.modalShow&&Object(f.jsx)(G,{cb:e.cb}),"TipsModal"===e.modalShow&&Object(f.jsx)(ce,{cb:e.cb}),"LockModal"===e.modalShow&&Object(f.jsx)(re,{cb:e.cb}),"ApyCalculatorModal"===e.modalShow&&Object(f.jsx)(le,{cb:e.cb,poolData:e.poolData,poolExpiredTime:e.poolExpiredTime,isOutdate:e.isOutdate})]})}})}},1163:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var c=a(0),s=a(2),n=a(22),r=a(3),l=a(70),i=a(21),o=a.n(i),j=(a(824),a(28)),d=a(42),b=(a(1121),a(168)),m=(a(1122),a(10));function u(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),c=a[0],s=a[1],i=function(t,a){var c=e.reverse,s="next"==a,n=e[c?"min":"max"],r=e[c?"max":"min"];return s?t==n?r:t+(c?-1:1):t==r?n:t+(c?1:-1)};Object(r.useEffect)((function(){s(!c)}),[e.now]);var o=function(e){var t=i(e,"prev"),a=[e,t,i(t,"prev")];return a[c?"push":"unshift"](c?i(t,"prev"):i(e,"next")),a};return Object(m.jsx)(l.a,{children:function(){return Object(m.jsx)("div",{className:"cards",children:o(e.now).map((function(t,a){return Object(m.jsx)("div",{className:"card".concat(t==e.now?" now":""),children:Object(m.jsx)("div",{className:"sides",children:["front","back"].map((function(e){return Object(m.jsx)("div",{className:"side ".concat(e),children:Object(m.jsx)("div",{className:"side-num",children:"front"==e?t:i(t,"next")})},"side".concat(e))}))})},"flip-card".concat(a))}))})}})}a(1123);var O=a(1),x=null;function p(e){var t=Object(l.d)((function(){return b.a.network})),a=Object(l.d)((function(){return b.a.farmStore})),c=Object(r.useState)(a.farmData[e.id].start||e.start),s=Object(n.a)(c,2),i=s[0],o=s[1],j=Object(r.useState)(a.farmData[e.id].diff||{}),d=Object(n.a)(j,2),p=d[0],f=d[1],h=Object(r.useState)(a.farmData[e.id].end||e.end),g=Object(n.a)(h,2),k=g[0];g[1];Object(r.useEffect)((function(){w(p)?v():x=window.setTimeout((function(){N(),w()&&v()}),1e3)}),[i]);var v=function(){window.clearTimeout(x),t.setData({isTimeOver:!0}),e.onStop&&e.onStop()},N=function(){var t=Math.abs(k-i),c=Math.floor(t/1e3),s=Math.floor(c/60),n=Math.floor(s/60),r=(Math.floor(n/24),{hours:n%24,minutes:s%60,seconds:c%60}),l=i+1e3;Object(O.a)(k).isNaN()||Object(O.a)(i).isNaN()||(f(r),o(l),a.farmData[e.id].diff=r,a.farmData[e.id].start=l)},w=function(){return k&&i>k},y={days:[[0,9],[0,9]],hours:[[0,2],[0,4]],minutes:[[0,5],[0,9]],seconds:[[0,5],[0,9]]};return Object(m.jsx)(l.a,{children:function(){return Object(m.jsx)("div",{className:"countdown",children:Object.keys(p).map((function(e){return Object(m.jsx)("div",{className:"countdown-".concat(e),children:Array(2).fill(0).map((function(t,a){return Object(m.jsx)(u,{reverse:!0,now:+(c=p[e],(c<10?"0"+c:c)+"")[a],min:y[e][a][0],max:y[e][a][1]},"".concat(e).concat(a));var c}))},e)}))})}})}a(5);function f(e){Object(l.d)((function(){return b.a.pool})),Object(l.d)((function(){return b.a.network}));var t,a,i=Object(l.d)((function(){return b.a.farmStore})),u=Object(r.useState)((new Date).getTime()),O=Object(n.a)(u,2),x=O[0],f=O[1],h=Object(r.useState)(1e3*(null===(t=i.farmData[e.id])||void 0===t?void 0:t.remainingTime)+1e3*d.a.unfreezeTime),g=Object(n.a)(h,2),k=g[0],v=g[1],N=1e3*(null===(a=i.farmData[e.id])||void 0===a?void 0:a.remainingTime)+1e3*d.a.unfreezeTime;Object(r.useEffect)((function(){w()}),[]);var w=function(){var t=Object(s.a)(Object(c.a)().mark((function t(){var a,s;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(j.v)();case 3:(a=t.sent).success&&(s=a.time,f(s),v(N),i.farmData[e.id].start=s,i.farmData[e.id].end=k),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("get time error",t.t0),setTimeout((function(){w()}),3e3);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(m.jsx)(l.a,{children:function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"count-down-wrap",children:[Object(m.jsx)("div",{className:"count",children:Object(m.jsx)(p,{start:x,end:k,id:e.id,onStop:e.stopCount})}),Object(m.jsxs)("div",{className:"countdesc",children:[Object(m.jsx)("span",{className:"cd-hour",children:o.a.get("century.h")}),Object(m.jsxs)("span",{className:"cd-minute",children:[o.a.get("century.m")," "]}),Object(m.jsx)("span",{className:"cd-second",children:o.a.get("century.s")})]})]})})}})}},1843:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Rt}));var c=a(4),s=a(3),n=a(70),r=a(20),l=a(0),i=a(2),o=a(9),j=a(22),d=a(21),b=a.n(d),m=a(1845),u=a(268),O=a(18),x=a(39),p=a(30),f=a.n(p),h=a(262),g=a(217),k=s.forwardRef((function(e,t){var a,c=e.prefixCls,n=void 0===c?"rc-switch":c,r=e.className,l=e.checked,i=e.defaultChecked,d=e.disabled,b=e.loadingIcon,m=e.checkedChildren,u=e.unCheckedChildren,O=e.onClick,p=e.onChange,k=e.onKeyDown,v=Object(x.a)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),N=Object(h.a)(!1,{value:l,defaultValue:i}),w=Object(j.a)(N,2),y=w[0],S=w[1];function _(e,t){var a=y;return d||(S(a=e),null===p||void 0===p||p(a,t)),a}var C=f()(n,r,(a={},Object(o.a)(a,"".concat(n,"-checked"),y),Object(o.a)(a,"".concat(n,"-disabled"),d),a));return s.createElement("button",Object.assign({},v,{type:"button",role:"switch","aria-checked":y,disabled:d,className:C,ref:t,onKeyDown:function(e){e.which===g.a.LEFT?_(!1,e):e.which===g.a.RIGHT&&_(!0,e),null===k||void 0===k||k(e)},onClick:function(e){var t=_(!y,e);null===O||void 0===O||O(t,e)}}),b,s.createElement("span",{className:"".concat(n,"-inner")},y?m:u))}));k.displayName="Switch";var v=k,N=a(157),w=a(277),y=a(137),S=a(144),_=a(100),C=function(e,t){var a={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(a[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(c=Object.getOwnPropertySymbols(e);s<c.length;s++)t.indexOf(c[s])<0&&Object.prototype.propertyIsEnumerable.call(e,c[s])&&(a[c[s]]=e[c[s]])}return a},D=s.forwardRef((function(e,t){var a,c=e.prefixCls,n=e.size,r=e.loading,l=e.className,i=void 0===l?"":l,j=e.disabled,d=C(e,["prefixCls","size","loading","className","disabled"]);Object(_.a)("checked"in d||!("value"in d),"Switch","`value` is not a valid prop, do you mean `checked`?");var b=s.useContext(y.b),m=b.getPrefixCls,u=b.direction,x=s.useContext(S.b),p=m("switch",c),h=s.createElement("div",{className:"".concat(p,"-handle")},r&&s.createElement(N.a,{className:"".concat(p,"-loading-icon")})),g=f()((a={},Object(o.a)(a,"".concat(p,"-small"),"small"===(n||x)),Object(o.a)(a,"".concat(p,"-loading"),r),Object(o.a)(a,"".concat(p,"-rtl"),"rtl"===u),a),i);return s.createElement(w.a,{insertExtraNode:!0},s.createElement(v,Object(O.a)({},d,{prefixCls:p,className:g,disabled:j||r,ref:t,loadingIcon:h})))}));D.__ANT_SWITCH=!0,D.displayName="Switch";var A=D,L=a(260);function T(e){var t=e.className,a=e.direction,c=e.index,n=e.marginDirection,r=e.children,l=e.split,i=e.wrap,j=s.useContext(I),d=j.horizontalSize,b=j.verticalSize,m=j.latestIndex,u={};return"vertical"===a?c<m&&(u={marginBottom:d/(l?2:1)}):u=Object(O.a)(Object(O.a)({},c<m&&Object(o.a)({},n,d/(l?2:1))),i&&{paddingBottom:b}),null===r||void 0===r?null:s.createElement(s.Fragment,null,s.createElement("div",{className:t,style:u},r),c<m&&l&&s.createElement("span",{className:"".concat(t,"-split"),style:u},l))}var M=function(e,t){var a={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(a[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(c=Object.getOwnPropertySymbols(e);s<c.length;s++)t.indexOf(c[s])<0&&Object.prototype.propertyIsEnumerable.call(e,c[s])&&(a[c[s]]=e[c[s]])}return a},I=s.createContext({latestIndex:0,horizontalSize:0,verticalSize:0}),P={small:8,middle:16,large:24};var H=function(e){var t,a=s.useContext(y.b),c=a.getPrefixCls,n=a.space,r=a.direction,l=e.size,i=void 0===l?(null===n||void 0===n?void 0:n.size)||"small":l,d=e.align,b=e.className,m=e.children,u=e.direction,x=void 0===u?"horizontal":u,p=e.prefixCls,h=e.split,g=e.style,k=e.wrap,v=void 0!==k&&k,N=M(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),w=s.useMemo((function(){return(Array.isArray(i)?i:[i,i]).map((function(e){return function(e){return"string"===typeof e?P[e]:e||0}(e)}))}),[i]),S=Object(j.a)(w,2),_=S[0],C=S[1],D=Object(L.a)(m,{keepEmpty:!0});if(0===D.length)return null;var A=void 0===d&&"horizontal"===x?"center":d,H=c("space",p),Y=f()(H,"".concat(H,"-").concat(x),(t={},Object(o.a)(t,"".concat(H,"-rtl"),"rtl"===r),Object(o.a)(t,"".concat(H,"-align-").concat(A),A),t),b),R="".concat(H,"-item"),U="rtl"===r?"marginLeft":"marginRight",F=0,q=D.map((function(e,t){return null!==e&&void 0!==e&&(F=t),s.createElement(T,{className:R,key:"".concat(R,"-").concat(t),direction:x,index:t,marginDirection:U,split:h,wrap:v},e)}));return s.createElement("div",Object(O.a)({className:Y,style:Object(O.a)(Object(O.a)({},v&&{flexWrap:"wrap",marginBottom:-C}),g)},N),s.createElement(I.Provider,{value:{horizontalSize:_,verticalSize:C,latestIndex:F}},q))},Y=a(1851),R=a(94),U=a(40),F=a.n(U),q=a(16),B=a(824),V=a(168),E=a(5),W=a(1),z=a(27),Q=a(858),Z=a(392),K=(a(403),a(402),a(391)),X=a(390),G=a.p+"static/media/slideDown.bf884657.svg",J=a.p+"static/media/slideUp.d1f5274d.svg",$=a(49),ee=a(10),te=function(e){Object(R.a)(window.navigator).any;var t=Object(n.d)((function(){return V.a.network})),a=Object(n.d)((function(){return V.a.system})),c=(Object(n.d)((function(){return V.a.pool})),E.a.tokens),r=E.a.defaultId,o=t.setData,d=t.isConnected,m=e.data,O=Object(s.useState)(""),x=Object(j.a)(O,2),p=(x[0],x[1],window.localStorage.getItem("lang"));Object(s.useEffect)((function(){}),[]);var f=function(){var c=Object(i.a)(Object(l.a)().mark((function c(){var s,n;return Object(l.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(d){c.next=3;break}return o({loginModalVisible:!0,loginModalStep:1}),c.abrupt("return");case 3:return s={title:"actions.vest_lp",obj:{value:Object(W.t)(m.stakeReward),symbol:r.toUpperCase()}},n="2"===t.stakeVersion?E.a.lpStablePool2:E.a.lpStablePool,c.next=7,a.claimLPReward(n,m.index-1,s);case 7:c.sent&&setTimeout((function(){e.cb()}),5e3);case 9:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}(),h=function(){o(d?{modalShow:"AddLiqModal",poolId:m.id}:{loginModalVisible:!0,loginModalStep:1}),Object($.a)({action:$.b.staking_lp,event_category:$.h.farm})},g=function(){o({modalShow:"RemoveLiqModal",poolId:m.id})},k=function(e){try{return e?e.split(" ")[0].split("-"):[]}catch(t){console.log("transferSymbolToToken error")}},v=function(e){return"thrpoollp"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool3-img",src:Z.default,alt:""})}):"thrsunlp"===e.id?Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("img",{src:K.default,alt:""}),Object(ee.jsx)("img",{src:X.default,alt:""})]}):e.symbol&&k(e.symbol).length?k(e.symbol).map((function(e){return Object(ee.jsx)("img",{src:z.a[e.toLowerCase()],alt:""},e)})):void Object(z.c)("default")},N=function(){var a=t.stakeVersion;return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("div",{className:"liquidity-ele "+e.myClass,children:[Object(ee.jsxs)("div",{className:"cp",onClick:function(){return e.slide(m.id)},children:[Object(ee.jsxs)("div",{className:"liq-logo",children:[Object(ee.jsx)("span",{children:v(m)}),Object(ee.jsxs)("span",{className:"flex fdc ais",children:[Object(ee.jsx)("span",{children:m.id&&("USDC Old LP"===c[m.id].symbol&&"zh-CN"===p?"Old USDC LP":c[m.id].symbol)}),Object(ee.jsx)("span",{className:"c-999 fs-12 earn-subtitle",children:m.id&&c[m.id].subtitle})]})]}),Object(ee.jsxs)("div",{className:"liq-ele",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{children:b.a.get("newStake.liquidity.earned")}),Object(ee.jsxs)("span",{children:[Object(W.t)(m.stakeReward,{miniText:.01})," ",r.toUpperCase()]})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{children:b.a.get("stake.apy")}),"1"===t.stakeVersion?Object(ee.jsxs)("span",{className:"c-5915e1 fs-14 fw-bold",children:[m.apy?m.apy.gt(0)?"".concat(Object(W.s)(m.apy),"%"):"<0.00%":"--"," "]}):Object(ee.jsxs)("span",{className:"c-5915e1 fs-14 fw-bold",children:[m.thisWeekApy?Object(W.a)(m.thisWeekApy).gt(0)?"".concat(Object(W.s)(m.thisWeekApy),"%"):"<0.00%":"--"," "]})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{children:b.a.get("newStake.liquidity.stake_total")}),Object(ee.jsx)("span",{children:m.totalStakePrice&&m.totalStakePrice.gte(0)?"".concat(Object(W.t)(Object(W.a)(m.totalStakePrice),{dp:0,rm:1,miniText:1,needDolar:!0})):"--"})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{children:b.a.get("farm.gov_weight")}),Object(ee.jsx)("span",{children:0==m.thisWeekWeight?"0.00":m.thisWeekWeight<.01?"<0.01":m.thisWeekWeight})]})]}),Object(ee.jsx)("div",{className:"flex liq-slide",children:Object(ee.jsx)("img",{src:e.myClass?J:G,className:"liq-arrow"})})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("div",{className:"flex jcsb liq-earned",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("div",{className:"title",children:b.a.get("newStake.liquidity.earned")}),Object(ee.jsxs)("div",{className:"amount",children:[Object(W.t)(m.stakeReward,{miniText:.01})," ",r.toUpperCase()]})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(u.a,{title:3!=a?b.a.get("newStake.rule.rule".concat(a,".a1")):"",overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"tooltip-img mr-5"})}),Object(ee.jsx)("button",{className:"liq-claim"+(Object(W.a)(m.stakeReward).gt(0)?"":" btn-disabled"),disabled:!Object(W.a)(m.stakeReward).gt(0),onClick:f,children:b.a.get("newStake.liquidity.vest")})]})]}),Object(ee.jsxs)("div",{className:"flex jcsb liq-staked",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("div",{className:"title",children:[b.a.get("newStake.liquidity.staked"),"thrpoollp"===m.id?Object(ee.jsx)("a",{className:"c-5915e1 ml-10",href:"/?lang=".concat(p,"#/3pool"),target:"Old3poolLP",children:b.a.get("newStake.liquidity.get_lp")}):"thrsunlp"===m.id?Object(ee.jsx)("a",{className:"c-5915e1 ml-10",href:"/?lang=".concat(p,"#/usdc"),target:"usdcLP",children:b.a.get("newStake.liquidity.get_lp")}):Object(ee.jsx)("a",{className:"c-5915e1 ml-10",href:"".concat(E.a.sunSwap,"?lang=").concat(p,"&tokenAddress=").concat(m.tokenAddress,"&type=add&s=1#/"),target:"sunswap",children:b.a.get("newStake.liquidity.get_lp")})]}),Object(ee.jsxs)("div",{className:"amount",children:[Object(W.t)(m.stakedBalance,{miniText:.01})," ","USDC Old LP"===m.symbol&&"zh-CN"===p?"Old USDC LP":m.symbol]})]}),Object(ee.jsx)("div",{children:Object(W.a)(m.stakedBalance).gt(0)?Object(ee.jsxs)("p",{className:"get-lp",children:[Object(ee.jsx)("span",{onClick:g,children:"-"}),Object(ee.jsx)("span",{onClick:h,children:"+"})]}):Object(ee.jsx)("button",{className:"stake-lock-btn",onClick:h,children:b.a.get("newStake.liquidity.stake_lp")})})]})]})]})})};return Object(ee.jsx)(n.a,{children:function(){return m?Object(ee.jsx)(N,{}):Object(ee.jsx)(ee.Fragment,{})}})},ae=a(995),ce=a(404),se=a(405),ne=a(406),re=a(407),le=a(408),ie=(a(415),a(414),a.p+"static/media/slideDownNew.aa65396d.svg"),oe=a.p+"static/media/slideUpNew.9674f080.svg",je=a.p+"static/media/slideDownNewMobile.f0e78115.svg",de=a.p+"static/media/slideUpNewMobile.544a8cdd.svg",be=a(996),me=(a.p,a(1118),function(e){var t=Object(R.a)(window.navigator).any,a=Object(n.d)((function(){return V.a.network})),c=Object(n.d)((function(){return V.a.system})),r=Object(n.d)((function(){return V.a.pool})),o=E.a.tokens,d=E.a.defaultId,m=a.setData,O=a.isConnected,x=e.data,p=Object(s.useState)(""),f=Object(j.a)(p,2),h=(f[0],f[1]),g=window.localStorage.getItem("lang"),k=function(){var t=Object(i.a)(Object(l.a)().mark((function t(a,s){var n;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("img"!==a.target.tagName.toLowerCase()){t.next=2;break}return t.abrupt("return");case 2:if(O){t.next=5;break}return m({loginModalVisible:!0,loginModalStep:1}),t.abrupt("return");case 5:return Object($.a)({action:$.b.claim,event_category:$.h.farm}),n={title:"actions.claim_lp",obj:{value:Object(W.t)(x.stakeRewardNew),symbol:d.toUpperCase()}},"",t.next=10,c.claimLPRewardNew1(E.a.minter,"0x0000000000000000000000".concat(W.eb.address.toHex(x.lpStaker)),n);case 10:t.sent&&("fly"===s&&h("active"),setTimeout((function(){e.cb(),h("")}),5e3));case 12:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),v=function(){var t=Object(i.a)(Object(l.a)().mark((function t(){var a,s,n;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(O){t.next=3;break}return m({loginModalVisible:!0,loginModalStep:1}),t.abrupt("return");case 3:return s={title:"actions.claim_lp",obj:{value:Object(W.t)(x.stakeRewardNew1),symbol:null===(a=x.gift[0])||void 0===a?void 0:a.toUpperCase()}},n="",t.next=7,c.claimLPRewardNew3(E.a.tokens[null===x||void 0===x?void 0:x.id].lpStaker,s);case 7:n=t.sent,Object($.a)({action:$.b.claim,event_category:$.h.farm}),n&&setTimeout((function(){e.cb()}),5e3);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),N=function(){O?(m({modalShow:"AddLiqModal",poolId:x.id}),Object($.a)({action:$.b.staking_lp,event_category:$.h.farm})):m({loginModalVisible:!0,loginModalStep:1})},w=function(){m({modalShow:"RemoveLiqModal",poolId:x.id})},y=function(e){try{return e?e.split(" ")[0].split("-"):[]}catch(t){console.log("transferSymbolToToken error")}},S=function(e){return"twopoollpNew"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:se.default,alt:""})}):"twopoollp"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:ce.default,alt:""})}):"thrpoollp"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool3-img",src:Z.default,alt:""})}):"thrpoollpNew"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool3-img",src:ne.default,alt:""})}):"thrsunlp"===e.id?Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("img",{src:K.default,alt:""}),Object(ee.jsx)("img",{src:X.default,alt:""})]}):"usddtrx"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:re.default,alt:""})}):"usddusdt"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:le.default,alt:""})}):e.symbol&&y(e.symbol).length?y(e.symbol).map((function(t){return Object(ee.jsx)("img",{src:2==e.version?z.b[t.toLowerCase()]:z.a[t.toLowerCase()],alt:""},t)})):void Object(z.c)("default")},_=function(e){e.stopPropagation(),a.setData({modalShow:"CalculatorModal",poolId:x.id})},C=function(){m(O?{modalShow:"LockModal"}:{loginModalVisible:!0,loginModalStep:1})},D=function(){return Object(ee.jsxs)("div",{className:"liq-title",children:[Object(ee.jsxs)("div",{className:"liq-logo",children:[Object(ee.jsx)("span",{children:S(x)}),Object(ee.jsx)("span",{className:"flex fdc ais",children:Object(ee.jsxs)("span",{className:"c-333 earn-title",children:[Object(ee.jsxs)("span",{children:[Object(ee.jsxs)("div",{children:[x.id&&("USDC Old LP"===o[x.id].symbol&&"zh-CN"===g?"Old USDC LP":o[x.id].symbol)," ",o[x.id].lpTokens&&(e=o[x.id].lpTokens,"  ( "+e.join(" + ")+" )")]}),Object(ee.jsx)("div",{children:Object(ee.jsx)("span",{className:"earn-subtitle",children:x.id&&o[x.id].subtitle})})]}),Object(ee.jsxs)("span",{children:[(1===x.version||2===x.version)&&Object(ee.jsx)("span",{className:"liq-version v"+x.version,children:"V"+x.version}),Object(ee.jsx)("span",{className:"flexible-icon",children:b.a.get("farm.flex")})]})]})})]}),Object(ee.jsx)(L,{})]});var e},A=function(){var e=x.currentSpeed,t=x.futureSpeed;return a.isConnected&&Object(W.a)(x.stakedBalanceNew).gt(0)?Object(W.a)(e).lt(1.01)&&Object(W.a)(t).lt(1.01)?Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{className:"lock-speed-tip",onClick:function(e){return m({modalShow:"LockModal"})},children:b.a.get("farm.lock_speed_tip1")})," ",b.a.get("farm.lock_speed_tip2")]}):Object(W.a)(t).gt(e)?Object(ee.jsxs)("div",{children:[b.a.get("farm.current_speed_tip"),Object(ee.jsx)("span",{className:"speed-to",children:b.a.getHTML("farm.repeed1",{future_boost:Object(W.a)(t)._toFixed(2,1)})})]}):Object(W.a)(t).lt(e)?Object(ee.jsxs)("div",{children:[b.a.get("farm.current_speed_tip"),Object(ee.jsx)("span",{className:"speed-to",children:b.a.getHTML("farm.repeed2",{future_boost:Object(W.a)(t)._toFixed(2,1)})})]}):void 0:b.a.get("farm.current_speed_tip")},L=function(){var e=Object(W.a)(x.currentSpeed).toFixed(2);Object(W.a)(x.futureSpeed).toFixed(2);return Object(ee.jsx)("div",{className:"liq-speed flex",children:Object(ee.jsxs)("div",{className:"speed-basic speed-gov",onClick:C,children:[Object(ee.jsx)("span",{onClick:function(e){e.stopPropagation()},children:Object(ee.jsx)(u.a,{title:A(),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(ee.jsx)("img",{className:"tooltip-img",src:Q.a})})}),Object(ee.jsxs)("span",{className:"ml-4",children:[b.a.get("farm.gov_speed_up"),": "]}),Object(ee.jsxs)("span",{className:"ff-hn",children:[Object(W.a)(x.stakedBalanceNew).gt(0)?e:"--"," ",Object(ee.jsx)("img",{className:"calculator ml-18",src:be.a,onClick:_,alt:""})]})]})})},T=function(){var a,c,s,n,l,i,o,j=Object(W.a)(x.stakeRewardNew).times(r.sunPrice).plus(x.stakedBalancePrice);(null===(a=x.gift)||void 0===a?void 0:a.length)>0&&(j=Object(W.a)(j).plus(Object(W.a)(x.stakeRewardNew1).times(x.extraRewardPrice)));var m=x.thisWeekApy?Object(W.a)(x.thisWeekApy).gte(0)?"".concat(Object(W.s)(Object(W.a)(x.thisWeekApy).times(.4)),"%~").concat(Object(W.s)(x.thisWeekApy),"%"):"<0.00%":"--",O=x.extraRewardApy?Object(W.a)(x.extraRewardApy).gte(0)?"".concat(Object(W.s)(x.extraRewardApy),"%"):"<0.00%":"--",p=m;if(!Object(W.a)(x.extraRewardApy).isNaN()&&!Object(W.a)(x.thisWeekApy).isNaN()){var f=Object(W.a)(x.extraRewardApy).plus(Object(W.a)(x.thisWeekApy).times(.4)),h=Object(W.a)(x.extraRewardApy).plus(x.thisWeekApy);p=Object(W.a)(f).gte(0)?"".concat(Object(W.s)(f),"%~").concat(Object(W.s)(h),"%"):"<0.00%"}return Object(ee.jsxs)("div",{className:"liq-info cp",onClick:M,children:[Object(ee.jsxs)("div",{className:"liq-ele",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"flex aic jcs",children:[b.a.get("stakes.my_position"),Object(ee.jsx)(u.a,{title:b.a.get("stakes.total_value"),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(ee.jsx)("img",{src:Q.a,className:"ml-4"})})]}),Object(ee.jsx)("span",{children:Object(W.t)(j,{dp:0,rm:1,miniText:1,needDolar:!0})})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"flex aic jcs",children:[b.a.get("stake.apy")," ",Object(ee.jsx)(u.a,{title:(null===(c=x.gift)||void 0===c?void 0:c.length)>0?E.a.tokens[x.id].giftEndTime?b.a.getHTML("stakes.liq_apy_more_tip_1",{token:null===(s=x.gift[0])||void 0===s?void 0:s.toUpperCase(),apy1:m,apy2:O,time:E.a.tokens[x.id].giftEndTime}):b.a.getHTML("stakes.liq_apy_more_tip",{token:null===(n=x.gift[0])||void 0===n?void 0:n.toUpperCase(),apy1:m,apy2:O}):b.a.get("stakes.liq_apy_tip"),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(ee.jsx)("img",{src:Q.a,className:"ml-4"})})]}),Object(ee.jsx)("span",{className:"c-5915e1",children:p})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"flex aic jcs",children:[b.a.get("newStake.liquidity.earn"),Object(ee.jsx)(u.a,{title:E.a.tokens[x.id].giftEndTime?b.a.getHTML("stakes.earned_tip",{token:null===(l=x.gift[0])||void 0===l?void 0:l.toUpperCase(),time:E.a.tokens[x.id].giftEndTime}):b.a.get("stakes.earned_tip_1"),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(ee.jsx)("img",{src:Q.a,className:"ml-4"})})]}),Object(ee.jsxs)("span",{children:[d.toUpperCase(),(null===(i=x.gift)||void 0===i?void 0:i.length)>0?" + "+(null===(o=x.gift[0])||void 0===o?void 0:o.toUpperCase()):""]})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{children:b.a.get("newStake.liquidity.stake_total")}),Object(ee.jsx)("span",{children:x.totalStakePriceNew&&x.totalStakePriceNew.gte(0)?"".concat(Object(W.t)(Object(W.a)(x.totalStakePriceNew),{dp:0,rm:1,miniText:1,needDolar:!0})):"--"})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"flex aic jce",children:[b.a.get("farm.gov_weight")," ",Object(ee.jsx)(u.a,{title:b.a.get("governance.pool_weight_tips"),overlayClassName:"stake-tooltip",placement:"topRight",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(ee.jsx)("img",{src:Q.a,className:"ml-4"})})]}),Object(ee.jsx)("span",{children:0==x.thisWeekWeight?"0.00":x.thisWeekWeight<.01?"<0.01":x.thisWeekWeight})]})]}),Object(ee.jsx)("div",{className:"flex liq-slide",children:t?Object(ee.jsx)("img",{src:e.myClass?de:je,className:"liq-arrow liq-arrow-m"}):Object(ee.jsx)("img",{src:e.myClass?oe:ie,className:"liq-arrow"})})]})},M=function(t){"img"===t.target.tagName.toLowerCase()&&"liq-arrow"!==t.target.classList[0]||e.slide(x.id)},I=function(){var e,t=(null===(e=x.gift)||void 0===e?void 0:e.length)>0,a=Object(W.a)(x.stakeRewardNew).times(r.sunPrice),c=Object(W.a)(x.stakeRewardNew1).times(x.extraRewardPrice);return Object(ee.jsxs)("div",{className:"flex jcsb liq-earned",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("div",{className:"title",children:b.a.get("newStake.liquidity.earned")}),Object(ee.jsxs)("div",{className:"amount",children:[Object(W.t)(x.stakeRewardNew,{miniText:.01})," ",d.toUpperCase(),Object(ee.jsxs)("div",{className:"price",children:[Object(W.a)(a).gt(1)&&"\u2248 ",Object(W.t)(a,{dp:0,rm:1,miniText:1,needDolar:!0})]})]}),t&&Object(ee.jsxs)("div",{className:"amount",children:[Object(W.t)(x.stakeRewardNew1,{miniText:.01})," ",x.gift[0].toUpperCase(),Object(ee.jsxs)("div",{className:"price",children:[Object(W.a)(c).gt(1)&&"\u2248 ",Object(W.t)(c,{dp:0,rm:1,miniText:1,needDolar:!0})]})]})]}),Object(ee.jsxs)("div",{className:t?"double-btns":"",children:[Object(ee.jsx)("button",{className:"btn-border claim-btn",disabled:!Object(W.a)(x.stakeRewardNew).gt(0),onClick:k,children:b.a.get("claim.claim_btn")}),t&&Object(ee.jsx)("button",{className:"btn-border claim-btn",disabled:!Object(W.a)(x.stakeRewardNew1).gt(0),onClick:v,children:b.a.get("claim.claim_btn")})]})]})},P=function(){return Object(ee.jsxs)("div",{className:"flex jcsb liq-staked",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("div",{className:"title",children:[Object(ee.jsx)("span",{className:"mr-10",children:b.a.get("newStake.liquidity.staked")}),"twopoollpNew"===x.id?Object(ee.jsx)("a",{className:"c-5915e1",href:"/?lang=".concat(g,"#/usdd_2pool"),target:"old2poolLP",children:b.a.get("newStake.liquidity.get_lp")}):"twopoollp"===x.id?Object(ee.jsx)("a",{className:"c-5915e1",href:"/?lang=".concat(g,"#/usdd_old_2pool"),target:"old2poolLP",children:b.a.get("newStake.liquidity.get_lp")}):"thrpoollp"===x.id?Object(ee.jsx)("a",{className:"c-5915e1",href:"/?lang=".concat(g,"#/3pool"),target:"Old3poolLP",children:b.a.get("newStake.liquidity.get_lp")}):"thrpoollpNew"===x.id?Object(ee.jsx)("a",{className:"c-5915e1",href:"/?lang=".concat(g,"#/usdd_3pool"),target:"3poolLP",children:b.a.get("newStake.liquidity.get_lp")}):"thrsunlp"===x.id?Object(ee.jsx)("a",{className:"c-5915e1",href:"/?lang=".concat(g,"#/usdc"),target:"usdcLP",children:b.a.get("newStake.liquidity.get_lp")}):2===x.version?Object(ee.jsx)("a",{className:"c-5915e1",href:"".concat(E.a.sunSwapV2,"?lang=").concat(g,"&t0=").concat(x.tokenAddress,"&t1=").concat(x.tokenAddress2,"&type=add"),target:"_blank",rel:"noreferrer",children:b.a.get("newStake.liquidity.get_lp")}):Object(ee.jsx)("a",{className:"c-5915e1",href:"".concat(E.a.sunSwap,"?lang=").concat(g,"&tokenAddress=").concat(x.tokenAddress,"&type=add&s=1#/"),target:"_blank",rel:"noreferrer",children:b.a.get("newStake.liquidity.get_lp")})]}),Object(ee.jsxs)("div",{className:"amount",children:[2===x.version?Object(W.a)(x.stakedBalanceNew).eq(0)?"0.00":Object(W.t)(x.stakedBalanceNew,{dp:6,miniText:1e-6,cutZero:2}):Object(W.t)(x.stakedBalanceNew,{miniText:.01})," ","USDC Old LP"===x.symbol&&"zh-CN"===g?"Old USDC LP":x.symbol,Object(ee.jsxs)("div",{className:"price",children:[Object(W.a)(x.stakedBalancePrice).gt(1)&&"\u2248 ",Object(W.t)(x.stakedBalancePrice,{dp:0,rm:1,miniText:1,needDolar:!0})]})]})]}),Object(W.a)(x.stakedBalanceNew).gt(0)&&Object(ee.jsxs)("div",{className:"flex-apy",children:[Object(ee.jsx)("div",{className:"title",children:b.a.get("stake.apy")}),Object(ee.jsx)("div",{className:"amount flex-apy-amount",children:Object(ee.jsxs)(u.a,{title:H(),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:[x.extraRewardApy?Object(W.s)(Object(W.a)(Object(W.a)(x.extraRewardApy)).plus(Object(W.a)(x.currentSpeed).times(x.thisWeekApy).times(.4))):Object(W.s)(Object(W.a)(x.currentSpeed).times(x.thisWeekApy).times(.4))," ","%"]})})]}),Object(ee.jsx)("div",{children:Object(W.a)(x.stakedBalanceNew).gt(0)?Object(ee.jsxs)("p",{className:"get-lp",children:[Object(ee.jsx)("button",{className:"btn-border mr-10",onClick:w,children:b.a.get("stakes.btn_remove")}),Object(ee.jsx)("button",{className:"btn-border btn-bg",onClick:N,children:b.a.get("stakes.btn_add")})]}):Object(ee.jsx)("button",{className:"btn-border btn-bg",onClick:N,children:b.a.get("header.stake_lp")})})]})},H=function(){var e=x.thisWeekApy,t=x.currentSpeed,a=x.extraRewardApy,c=x.extraSymbol;return Object(ee.jsxs)("div",{children:[c&&Object(ee.jsxs)("p",{children:[c," ",b.a.get("farm.flex_apy")," : ",Object(W.s)(a),"%"]}),Object(ee.jsxs)("p",{children:["SUN ",b.a.get("farm.gov_apy")," : ",Object(W.s)(Object(W.a)(t).times(e).times(.4)),"%"]})]})},Y=function(){return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("div",{className:"liquidity-ele liq-ele-new old-farm "+e.myClass,children:[Object(ee.jsx)(D,{}),Object(ee.jsx)(T,{}),Object(ee.jsxs)("div",{className:"liq-earned-staked",children:[Object(ee.jsx)(I,{}),Object(ee.jsx)(P,{})]})]})})};return Object(ee.jsx)(n.a,{children:function(){return x?Object(ee.jsx)(Y,{}):Object(ee.jsx)(ee.Fragment,{})}})}),ue=a(44),Oe=a.n(ue),xe=a.p+"static/media/tooltipPurpleDisabledIcon.6d8a74a5.svg",pe=a.p+"static/media/tooltipPurpleIcon.fa4c2150.svg",fe=(a(417),a(1047),function(e){var t=Object(R.a)(window.navigator).any,a=Object(n.d)((function(){return V.a.network})),c=Object(n.d)((function(){return V.a.system})),s=Object(n.d)((function(){return V.a.pool})),r=E.a.tokens,o=E.a.defaultId,j=a.setData,d=a.isConnected,m=a.closeModal,O=e.stakePoolData,x=O.claimableNew,p=(O.stakeApy,O.lockData),f=(window.localStorage.getItem("lang"),function(){j(d?{modalShow:"LockModal"}:{loginModalVisible:!0,loginModalStep:1})}),h=function(){var t=Object(i.a)(Object(l.a)().mark((function t(){var a;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={title:"actions.claim_lp",obj:{value:Object(W.t)(Object(W.a)(x)),symbol:r.tusd.symbol}},t.next=3,c.claimRewardNew(a);case 3:t.sent&&setTimeout((function(){e.cb()}),5e3),Object($.a)({action:$.b.claim,event_category:$.h.farm});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(i.a)(Object(l.a)().mark((function t(s){var n;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("button"===s.target.tagName.toLowerCase()&&-1==s.target.className.indexOf("disabled")){t.next=2;break}return t.abrupt("return");case 2:return a.stakeVersion,n={title:"actions.claim_lp",obj:{value:Object(W.t)(Object(W.a)(p.lockData).div(r[o].precision)),symbol:r[o].symbol}},t.next=6,c.getReward(r[o].stake2,n);case 6:t.sent&&(j({modalShow:"TopModal"}),setTimeout((function(){var t=c.withdrawExpiredLocks({title:"newStake.stake_pool.withdraw",obj:{}});t&&(m(),setTimeout((function(){e.cb()}),5e3)),console.log(t),e.cb()}),E.a.confirmTime)),Object($.a)({action:$.b.withdraw,event_category:$.h.farm});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(){j(d?{modalShow:"LockDetailModal"}:{loginModalVisible:!0,loginModalStep:1})},v=function(){return Object(ee.jsxs)("div",{className:"liq-title ",children:[Object(ee.jsxs)("div",{className:"liq-logo",children:[Object(ee.jsx)("span",{children:Object(ee.jsx)("img",{src:z.a[E.a.defaultId],alt:""})}),Object(ee.jsxs)("span",{className:"",children:[Object(ee.jsxs)("span",{className:"c-333 earn-title",children:[b.a.get("stakes.lock_sun"),Object(ee.jsx)(u.a,{title:b.a.getHTML("stakes.lock_sun_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(ee.jsx)("img",{src:Q.a,className:"tooltip-img ml-4"})})]}),Object(ee.jsxs)("span",{className:"fs-12 earn-subtitle",children:[b.a.get("stakes.lock_sun_title"),Object(ee.jsx)(u.a,{title:b.a.getHTML("stakes.lock_sun_title_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(ee.jsx)("img",{src:Q.a,className:"tooltip-img ml-4"})})]})]})]}),Object(ee.jsx)("button",{className:"lock-get-btn",onClick:f,children:b.a.get("stakes.lock_get",{symbol:"veSUN"})})]})},N=function(){return Object(ee.jsxs)("div",{className:"flex jcsb lock-item",children:[Object(ee.jsxs)("div",{className:t&&"en-US"===localStorage.getItem("lang")?"reward-vesun":"",children:[Object(ee.jsxs)("div",{className:"flex aic jcs",children:[b.a.getHTML("stakes.have_reward",{symbol:"veSUN"}),Object(ee.jsx)(u.a,{title:b.a.get("stakes.have_reward_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(ee.jsx)("img",{src:Q.a,className:"ml-4"})})]}),Object(ee.jsxs)("div",{children:[Object(W.t)(Object(W.a)(x),{miniText:.01})," TUSD"]})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("div",{className:"flex aic jcs",children:[b.a.get("stake.apy"),Object(ee.jsx)(u.a,{title:b.a.get("stakes.apy_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(ee.jsx)("img",{src:Q.a,className:"ml-4"})})]}),Object(ee.jsx)("div",{children:s.sunApy?"".concat(Object(W.s)(s.sunApy),"%"):"--"})]}),Object(ee.jsx)("button",{className:"btn-border",onClick:h,disabled:!Object(W.a)(x).gt(0),children:b.a.get("claim.claim_btn")})]})},w=function(){return Object(ee.jsxs)("div",{className:"flex jcsb lock-item",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("div",{children:[b.a.get("newStake.stake_pool.locked"),p&&(Object(W.a)(Oe()().format("X")).gt(p.lastLockTimeStamp)&&Object(W.a)(p.lockData).gt(0)?Object(ee.jsxs)("span",{className:"cp",children:["(",b.a.get("newStake.stake_pool.expired"),")"]}):Object(W.a)(p.lockData).gt(0)?Object(ee.jsx)("span",{className:"cp c-5915e1",onClick:k,children:b.a.get("newStake.stake_pool.check_detail")}):null)]}),Object(ee.jsxs)("div",{children:[p?Object(W.t)(Object(W.a)(p.lockData).div(r[o].precision)):"--"," ",o.toUpperCase()]})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("div",{children:b.a.get("stakes.got_vote_right")}),Object(ee.jsxs)("div",{children:[Object(W.a)(e.vesunBalance).gte(0)?Object(W.t)(e.vesunBalance):"0.00"," veSUN"]})]}),Object(ee.jsxs)("button",{className:"btn-border flex aic jcc",onClick:g,disabled:!a.isConnected||!Object(W.a)(p.unlockable).gt(0),children:[b.a.get("newStake.stake_pool.withdraw"),Object(ee.jsx)(u.a,{title:b.a.getHTML("stakes.withdraw_tip"),overlayClassName:"stake-tooltip",placement:"topRight",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(ee.jsx)("img",{src:a.isConnected&&Object(W.a)(p.unlockable).gt(0)?pe:xe,className:"ml-4 tooltip-img"})})]})]})},y=function(){return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("div",{className:"liquidity-ele lock-ele",children:[Object(ee.jsx)(v,{}),Object(ee.jsxs)("div",{className:"content-l-content new-content flex jcsb",children:[Object(ee.jsx)(N,{}),Object(ee.jsx)(w,{})]})]})})};return Object(ee.jsx)(n.a,{children:function(){return Object(ee.jsx)(y,{})}})}),he=a.p+"static/media/stakeSUN.8267e1ec.svg",ge=a.p+"static/media/lockSUN.634c7916.svg",ke=function(e){var t=Object(n.d)((function(){return V.a.network})),a=Object(n.d)((function(){return V.a.system})),c=(Object(n.d)((function(){return V.a.pool})),t.setData),r=t.isConnected,o=e.stakePoolData,d=o.earnedAmount,m=o.claimable,O=o.stakeApy,x=o.lockData,p=o.withdrawable,f=E.a.tokens,h=E.a.defaultId,g=Object(s.useState)("--"),k=Object(j.a)(g,2),v=k[0],N=k[1],w=Object(s.useState)("--"),y=Object(j.a)(w,2),S=y[0],_=y[1],C=p.amount,D=p.penaltyAmount;Object(s.useEffect)((function(){if(x){var e=Object(W.a)(C).plus(D).minus(Object(W.a)(d).div(f[h].precision));_(e);var a=e.gt(0)?e:0,c="1"===t.stakeVersion?Object(W.a)(x.unlockable).plus(x.lockData):x.lockData,s=Object(W.a)(d).plus(c).div(f[h].precision).plus(a);N(s)}}),[x,D,C]);var A=function(){return Object(ee.jsxs)("div",{className:"sp-title",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("img",{src:"data:image/png;base64,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"}),Object(ee.jsx)("span",{children:h.toUpperCase()})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("div",{children:b.a.get("stake.apy")}),Object(ee.jsx)("div",{children:O&&O.unlocked&&"--"!==O.unlocked&&O.locked&&"--"!==O.locked?"".concat(Object(W.s)(Object(W.a)(O.unlocked).plus(Object(W.a)(O.locked))),"%"):"--"})]}),Object(ee.jsx)("button",{onClick:I,children:b.a.get("newStake.stake_pool.deposit")})]})},L=function(){c(r?{modalShow:"VestDetailModal"}:{loginModalVisible:!0,loginModalStep:1})},T=function(){c(r?{modalShow:"LockDetailModal"}:{loginModalVisible:!0,loginModalStep:1})},M=function(){var a=e.stakePoolData.withdrawable;a.amount,a.penaltyAmount;return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{className:"sp-content",children:[Object(ee.jsxs)("p",{className:"title",children:[Object(ee.jsx)("span",{children:b.a.getHTML("newStake.stake_pool.fill_sun")}),Object(ee.jsxs)("span",{children:["--"!==v?Object(W.t)(v):"--"," ",h.toUpperCase()]})]}),Object(ee.jsxs)("p",{children:[Object(ee.jsxs)("span",{children:[b.a.getHTML("newStake.stake_pool.vest_sun"),Object(W.a)(d).gt(0)&&Object(ee.jsx)("em",{className:"cp",onClick:L,children:b.a.get("newStake.stake_pool.check_detail")})]}),Object(ee.jsxs)("span",{children:[t.isConnected?Object(W.t)(Object(W.a)(d).div(f[h].precision),{miniText:.01}):"--"," ",h.toUpperCase()]})]}),Object(ee.jsxs)("p",{children:[Object(ee.jsxs)("span",{className:"flex aic",children:[b.a.getHTML("newStake.stake_pool.stake_sun_only",{symbol:h.toUpperCase()}),Object(ee.jsx)(u.a,{title:b.a.getHTML("newStake.stake_pool.staked_tooltip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2"})})]}),Object(ee.jsxs)("span",{children:[t.isConnected?Object(W.t)(S,{miniText:.01}):"--"," ",h.toUpperCase()]})]}),"1"===t.stakeVersion&&x?Object(ee.jsxs)("p",{children:[Object(ee.jsxs)("span",{children:[b.a.getHTML("newStake.stake_pool.locked",{symbol:h.toUpperCase()}),x&&Object(W.a)(x.unlockable).plus(x.lockData).gt(0)&&Object(ee.jsx)("em",{className:"cp",onClick:T,children:b.a.get("newStake.stake_pool.check_detail")})]}),Object(ee.jsxs)("span",{children:[x?Object(W.t)(Object(W.a)(x.unlockable).plus(x.lockData).div(f[h].precision),{miniText:.01}):"--"," ",h.toUpperCase()]})]}):Object(ee.jsxs)("p",{children:[Object(ee.jsxs)("span",{children:[b.a.getHTML("newStake.stake_pool.locked",{symbol:h.toUpperCase()}),x&&Object(W.a)(x.lockData).gt(0)&&Object(ee.jsx)("em",{className:"cp",onClick:T,children:b.a.get("newStake.stake_pool.check_detail")})]}),Object(ee.jsxs)("span",{children:[x?Object(W.t)(Object(W.a)(x.lockData).div(f[h].precision)):"--"," ",h.toUpperCase()]})]})]}),Object(ee.jsxs)("div",{className:"sp-content stake-sun",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("img",{src:he}),b.a.getHTML("newStake.stake_pool.stake_sun",{symbol:h.toUpperCase()})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("p",{children:b.a.get("stake.apy")}),Object(ee.jsx)("p",{children:O&&O.unlocked&&"-"!==O.unlocked&&Object(W.a)(O.unlocked).gte(0)?"".concat(Object(W.s)(O.unlocked),"%"):"--"})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("p",{children:b.a.get("newStake.stake_pool.get_anytime")}),Object(ee.jsx)("p",{children:Object(ee.jsx)("button",{className:"stake-lock-btn",onClick:P,children:b.a.get("header.stake")})})]})]}),Object(ee.jsxs)("div",{className:"sp-content lock-sun",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("img",{src:ge}),b.a.getHTML("newStake.stake_pool.lock_sun",{symbol:h.toUpperCase()})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("p",{children:b.a.get("stake.apy")}),Object(ee.jsx)("p",{children:O&&O.unlocked&&"--"!==O.unlocked&&O.locked&&"--"!==O.locked?"".concat(Object(W.s)(Object(W.a)(O.unlocked).plus(Object(W.a)(O.locked))),"%"):"--"})]}),Object(ee.jsxs)("div",{children:["1"===e.stakeVersion?Object(ee.jsx)("p",{className:"",children:b.a.get("newStake.stake_pool.lock_time")}):Object(ee.jsxs)("p",{className:"stake-tooltip",children:[Object(ee.jsx)(u.a,{title:b.a.get("newStake.stake_pool.vote_right_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"mr-5"})}),b.a.get("newStake.stake_pool.vote_right")]}),Object(ee.jsx)("p",{children:Object(ee.jsx)("button",{className:"stake-lock-btn",onClick:I,children:b.a.get("newStake.stake_pool.lock")})})]})]})]})},I=function(){c(r?{modalShow:"LockStakeModal",defaultTabValue:"1"}:{loginModalVisible:!0,loginModalStep:1})},P=function(){c(r?{modalShow:"LockStakeModal",defaultTabValue:"2"}:{loginModalVisible:!0,loginModalStep:1}),Object($.a)({action:$.b.staking_sun,event_category:$.h.farm})},H=function(){c(r?{modalShow:"WithdrawModal"}:{loginModalVisible:!0,loginModalStep:1})},Y=function(){return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("div",{className:"line"}),Object(ee.jsxs)("div",{className:"sp-reward",children:[Object(ee.jsx)("button",{onClick:R,className:"common-btn",disabled:!Object(W.a)(m[1]).div(f[h].precision).gt(0)&&!Object(W.a)(m[3]).div(f.tusd.precision).gt(0),children:b.a.getHTML("newStake.stake_pool.claim_all",{value1:Object(W.t)(Object(W.a)(m[1]).div(f[h].precision),{miniText:.01}),symbol1:h.toUpperCase(),value2:Object(W.t)(Object(W.a)(m[3]).div(f.tusd.precision),{miniText:.01}),symbol2:" TUSD"})}),Object(ee.jsx)("button",{className:"common-btn border",onClick:H,children:b.a.get("newStake.stake_pool.withdraw")})]})]})},R=function(){var c=Object(i.a)(Object(l.a)().mark((function c(){var s,n;return Object(l.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s={title:"actions.claim_all",obj:{value1:Object(W.t)(Object(W.a)(m[1]).div(f[h].precision)),symbol1:f[h].symbol,value2:Object(W.t)(Object(W.a)(m[3]).div(f.tusd.precision)),symbol2:f.tusd.symbol}},n="1"===t.stakeVersion?"stake":"stake2",c.next=4,a.getReward(f[h][n],s);case 4:c.sent&&setTimeout((function(){e.cb()}),5e3);case 6:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();return Object(ee.jsx)(n.a,{children:function(){return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("div",{children:[Object(ee.jsx)(A,{}),Object(ee.jsx)(M,{}),Object(W.a)(v).gt(0)&&Object(ee.jsx)(Y,{})]})})}})},ve=a(1160),Ne=a(814),we=a(42),ye=a(119),Se=a(852),_e=function(e){var t=Object(n.d)((function(){return V.a.network})),a=Object(n.d)((function(){return V.a.system})),c=Object(n.d)((function(){return V.a.farmStore})),r=t.modalShow,o=t.closeModal,d=t.poolId,m=t.stakeVersion,u=c.farmData,O=u[d],x=O.balance,p=O.symbol,f=O.allowance,h=O.token,g=O.precision,k=O.id,v=O.tokenAddress,N=O.tokenAddress2,w=O.decimal,y=(O.currentSpeed,O.stakedBalanceNew,O.version),S=O.priceNew,_=we.a.farmPools,C=Object(s.useState)(""),D=Object(j.a)(C,2),A=D[0],L=D[1],T=Object(s.useState)(0),M=Object(j.a)(T,2),I=(M[0],M[1]),P=Object(s.useState)(""),H=Object(j.a)(P,2),R=H[0],U=H[1],F=Object(s.useState)(!1),q=Object(j.a)(F,2),B=q[0],E=q[1],z=Object(s.useState)(""),Q=Object(j.a)(z,2),Z=Q[0],K=Q[1],X=window.localStorage.getItem("lang"),G=!1;Object(s.useEffect)((function(){B&&J()}),[A,B]),Object(s.useEffect)((function(){ce()}),[A]);var J=function(){return!A||Object(W.bb)(A).lte(0)?(U(b.a.get("error.e1")),K(""),!1):Object(W.bb)(A).gt(x)?(U(b.a.get("error.e2",{token:p})),K(""),!1):(U(""),!0)},$=function(){!B&&E(!0),L(Object(W.c)(x));var e="\u2248 $ "+Object(W.t)(Object(W.bb)(x*S));K(e)},te=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){var t,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B&&E(!0),J()){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,console.warn("token: ",h),!f.lt(Object(W.bb)(A))||G){e.next=15;break}return t={action:"approve",title:"deposit.approve_token",obj:{value:p},continuous:!0},e.next=10,a.toApproveLP(h,_[d].lpStaker,t);case 10:c=e.sent,console.warn("txID: ",c),c&&(G=!0,ae()),e.next=16;break;case 15:ae();case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(3);case 20:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){var s,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J()){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,s={title:"actions.stake_lp",obj:{value:Object(W.t)(Object(W.bb)(A)),symbol:p}},n=we.a.flexibleKeys.includes(_[d].id)?"depositLPFarmNoflexible":"depositLPFarm",e.next=7,a[n](_[d].lpStaker,t.defaultAccount,Object(W.bb)(A).times(g)._toIntegerDown()._toHex(),0,s);case 7:e.sent&&(o(),setTimeout((function(){c.updateData(d)}),5e3)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){var a,c,s,n,r,i,o,j,b,m,u,O,x,p,f,h,k,v,N,w;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,W.a.config({DECIMAL_PLACES:30}),e.next=4,Object(ye.b)(_[d].lpStaker,t.defaultAccount,g);case 4:a=e.sent,c=a.votingBalance,s=a.votingTotal,n=a.workingBalance,r=a.workingSupply,i=a.gaugeBalance,o=a.gaugeTotalsupply,a.success&&(j=Object(W.a)(.4),b=Object(W.a)(.6),m=Object(W.bb)(A).isNaN()?Object(W.a)(0):Object(W.bb)(A),u=i.plus(m),O=Object(W.a)(o).plus(u),x=Object(W.a)(s),p=(p=u.times(j)).plus(O.times(c).div(x).times(b)),p=Object(W.a)(Math.min(u,p)),f=u.times(j),h=r.plus(f).minus(n),k=r.plus(p).minus(n),v=p.div(k),N=f.div(h),w=v.div(N).isNaN()?Object(W.a)(0):v.div(N),I(w)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsx)(n.a,{children:function(){return Object(ee.jsx)(Ne.a,{visible:"Sun3AddLiqModal"===r,title:b.a.getHTML("newStake.liquidity.stake_token",{symbol:p}),width:430,zIndex:999,footer:null,className:"lock-modal stake-token sun3-add-liq "+("3"===m&&"v3-stake-token v3-"+d),onCancel:o,closeIcon:Object(ee.jsx)("img",{src:Se.a,alt:""}),wrapClassName:"vertical-center-modal",children:Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("div",{className:"flex jcsb",children:[Object(ee.jsx)("span",{className:"fs-12 c-333",children:b.a.get("newStake.stake_pool.deposit")}),Object(ee.jsxs)("span",{className:"fs-12 c-333",children:[Object(ee.jsxs)("span",{className:"c-999",children:[b.a.get("newStake.stake_pool.balance"),":"]})," ",2===u[d].version?Object(W.a)(x).eq(0)?"0.00":Object(W.t)(x,{dp:w,cutZero:!0}):Object(W.t)(x)]})]}),Object(ee.jsx)("div",{className:"",children:Object(ee.jsx)(Y.a,{className:"mt-8",suffix:Object(ee.jsx)("span",{className:"max-btn",onClick:$,children:b.a.get("deposit.max")}),value:A,onChange:function(e){return function(e){!B&&E(!0);var t=Object(W.S)((""+e).replace(/,/g,""),w),a=t.valid,c=t.str;if(a){L(Object(W.c)(c));var s="\u2248 $ "+Object(W.t)(Object(W.bb)(c*S));K(s)}}(e.target.value)}})}),Object(ee.jsxs)("div",{className:"flex jcsb aic lock-price",children:[Object(ee.jsxs)("span",{className:R?"error":"",children:[Z,R]}),Object(W.D)({id:k,symbol:p,tokenAddress:v,tokenAddress2:N,lang:X,version:y})]}),Object(ee.jsx)("button",{disabled:!!R,className:"common-btn ",onClick:te,children:b.a.get("newStake.stake_pool.deposit")})]})})}})},Ce=function(e){var t=Object(n.d)((function(){return V.a.network})),a=Object(n.d)((function(){return V.a.system})),c=Object(n.d)((function(){return V.a.farmStore})),r=t.modalShow,o=t.closeModal,d=t.poolId,m=t.stakeVersion,u=we.a.farmPools,O=c.farmData[d],x=(O.balance,O.symbol),p=(O.allowance,O.token,O.index,O.precision),f=O.id,h=O.tokenAddress,g=O.tokenAddress2,k=O.decimal,v=(O.currentSpeed,O.stakedBalanceNew),N=O.version,w=O.lockRewards,y=O.gift,S=O.governanceRewards,_=Object(s.useState)(""),C=Object(j.a)(_,2),D=C[0],A=C[1],L=Object(s.useState)(""),T=Object(j.a)(L,2),M=T[0],I=T[1],P=Object(s.useState)(!1),H=Object(j.a)(P,2),R=H[0],U=H[1],F=Object(s.useState)(v),q=Object(j.a)(F,2),B=q[0],E=(q[1],window.localStorage.getItem("lang"));Object(s.useEffect)((function(){R&&z()}),[D,R]);var z=function(){return!D||Object(W.bb)(D).lte(0)?(I(b.a.get("error.e1")),!1):Object(W.bb)(D).gt(B)?(I(b.a.get("error.e2",{token:x})),!1):(I(""),!0)},Q=function(e){!R&&U(!0);var t=Object(W.S)((""+e).replace(/,/g,""),k),a=t.valid,c=t.str;a&&A(Object(W.c)(c))},Z=function(){!R&&U(!0),Q(B)},K=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){var t,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R&&U(!0),z()){e.next=3;break}return e.abrupt("return");case 3:if(!Object(W.bb)(D).gt(0)){e.next=11;break}return t={title:"actions.withdraw_lp",obj:{value:Object(W.t)(Object(W.bb)(D)),symbol:x}},s=we.a.flexibleKeys.includes(u[d].id)?"withdrawLPFarmNoflexible":"withdrawLPFarm","",e.next=9,a[s](u[d].lpStaker,Object(W.bb)(D).times(p)._toHex(),0,t);case 9:e.sent&&(o(),setTimeout((function(){c.updateData(d)}),5e3));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsx)(n.a,{children:function(){var e;return Object(ee.jsx)(Ne.a,{visible:"Sun3RemoveLiqModal"===r,title:b.a.getHTML("newStake.liquidity.stake_token_cancel",{symbol:"USDC Old LP"===x&&"zh-CN"===E?"Old USDC LP":x}),width:430,zIndex:999,footer:null,className:"lock-modal stake-token sun3-remove-liq"+("3"===m&&" v3-stake-token v3-"+d),onCancel:o,closeIcon:Object(ee.jsx)("img",{src:Se.a,alt:""}),wrapClassName:"vertical-center-modal",children:Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("div",{className:"flex jcsb",children:[Object(ee.jsx)("span",{className:"fs-12 c-333",children:b.a.get("newStake.stake_pool.withdraw")}),Object(ee.jsxs)("span",{className:"fs-12 c-333",children:[Object(ee.jsxs)("span",{className:"c-999",children:[b.a.get("newStake.liquidity.staked"),":"]}),Object(W.t)(B,{dp:18,cutZero:18})]})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)(Y.a,{className:"mt-8",suffix:Object(ee.jsx)("span",{className:"max-btn",onClick:Z,children:b.a.get("deposit.max")}),value:D,onChange:function(e){return Q(e.target.value)}}),M&&Object(ee.jsx)("div",{className:"common-error",children:M})]}),Object(ee.jsx)("button",{disabled:!!M,className:"common-btn",onClick:K,children:b.a.get("newStake.stake_pool.withdraw")}),!we.a.flexibleKeys.includes(f)&&Object(ee.jsx)("div",{className:" mt-10",style:{color:"#FF9933"},children:b.a.getHTML("farm.text_38",{Reward_amount:Object(W.t)(Object(W.a)(w).plus(S),{miniText:.01}),Reward_token:null===(e=y[0])||void 0===e?void 0:e.toUpperCase()})}),Object(ee.jsx)("div",{className:"mt-12 c-5915e1 fs-12 tac",children:Object(W.D)({id:f,symbol:x,tokenAddress:h,tokenAddress2:g,lang:E,version:N})})]})})}})},De=a(1312),Ae=a.p+"static/media/warning.c82b87cb.svg",Le=a.p+"static/media/right-arrow.34e14d19.svg",Te=function(e){var t=e.speedRate,a=e.oldSpeedRate,c=e.data,s=c.flexApy,n=c.minGovApy,r=c.currentSpeed,l=Object(W.a)(s).times(t).plus(Object(W.a)(r).times(n).times(t))._toFixed(2,1),i=0;return Object(W.a)(a).gt(0)&&(i=Object(W.a)(s).times(a).plus(Object(W.a)(r).times(n).times(a))._toFixed(2,1)),Object(ee.jsx)(ee.Fragment,{children:Object(W.a)(a).gt(0)?Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("span",{className:"old-data",children:[Object(ee.jsx)(u.a,{placement:"bottom",overlayClassName:"stake-tooltip",trigger:"['hover','click']",title:Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{children:["USDD ",b.a.get("farm.fixed_apy")," : ",Object(W.s)(Object(W.a)(s).times(a)),"%"]}),Object(ee.jsxs)("div",{children:["USDD ",b.a.get("farm.gov_apy")," :",Object(W.s)(Object(W.a)(r).times(n).times(a)),"%"]})]}),children:Object(ee.jsxs)("span",{className:"apy",children:[Object(W.s)(i),"%"]})}),"(",Object(W.t)(a),"x)",Object(ee.jsx)("img",{src:Le,alt:""})]}),Object(ee.jsxs)("span",{className:"new-data",children:[Object(ee.jsx)(u.a,{overlayClassName:"stake-tooltip",trigger:"['hover','click']",placement:"bottom",title:Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{children:["USDD ",b.a.get("farm.fixed_apy")," : ",Object(W.s)(Object(W.a)(s).times(t)),"%"]}),Object(ee.jsxs)("div",{children:["USDD ",b.a.get("farm.gov_apy")," :",Object(W.s)(Object(W.a)(r).times(n).times(t)),"%"]})]}),children:Object(ee.jsxs)("span",{className:"apy",children:[Object(W.s)(l),"%"]})}),"(",Object(W.t)(t),"x)"]})]}):Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("span",{className:"old-data",children:[Object(ee.jsx)(u.a,{overlayClassName:"stake-tooltip",trigger:"['hover','click']",placement:"bottom",title:Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{children:["USDD ",b.a.get("farm.fixed_apy")," : ",Object(W.s)(Object(W.a)(s).times(t)),"%"]}),Object(ee.jsxs)("div",{children:["USDD ",b.a.get("farm.gov_apy")," :",Object(W.s)(Object(W.a)(r).times(n).times(t)),"%"]})]}),children:Object(ee.jsxs)("span",{className:"apy apy-new-type1",children:[Object(W.s)(l),"%"]})}),"(",Object(W.t)(t),"x)"]})})})},Me=function(e){var t=Object(n.d)((function(){return V.a.network})),a=Object(n.d)((function(){return V.a.system})),c=Object(n.d)((function(){return V.a.farmStore})),r=t.modalShow,o=t.closeModal,d=t.poolId,m=Object(s.useState)(""),O=Object(j.a)(m,2),x=O[0],p=O[1],f=Object(s.useState)(""),h=Object(j.a)(f,2),g=h[0],k=h[1],v=Object(s.useState)(""),N=Object(j.a)(v,2),w=N[0],y=N[1],S=Object(s.useState)(!1),_=Object(j.a)(S,2),C=_[0],D=_[1],A=Object(s.useState)(1),L=Object(j.a)(A,2),T=L[0],M=L[1],I=Object(s.useState)(""),P=Object(j.a)(I,2),H=P[0],U=P[1],F=Object(s.useState)(-2),q=Object(j.a)(F,2),B=q[0],E=q[1],z=Object(s.useState)(-2),Z=Object(j.a)(z,2),K=Z[0],X=Z[1],G=Object(s.useState)(""),J=Object(j.a)(G,2),$=J[0],te=J[1],ae=Object(s.useState)(""),ce=Object(j.a)(ae,2),se=ce[0],ne=ce[1],re=Object(s.useState)("--"),le=Object(j.a)(re,2),ie=le[0],oe=le[1],je=Object(s.useState)("month"),de=Object(j.a)(je,2),be=de[0],me=de[1],ue=window.localStorage.getItem("lang"),xe=we.a.farmPools,pe=we.a.kRate,fe=we.a.monthTime,he=we.a.dayTime,ge=!1,ke=c.farmData,ve=ke[d],ye=ve.balance,_e=ve.symbol,Ce=ve.allowance,Le=ve.token,Me=ve.precision,Ie=ve.id,Pe=ve.tokenAddress,He=ve.tokenAddress2,Ye=ve.decimal,Re=ve.version,Ue=ve.priceNew,Fe=!x||!Object(W.a)(x).gt(0)||se,qe=C||!w&&!g||B<0&&!w&&"month"===be||K<0&&!w&&"day"===be,Be=function(){o()},Ve=function(){try{if(Ee(Object(W.c)(ye)),Object(W.a)(ye).eq(0))te(""),ne(b.a.get("error.e1"));else if(Object(W.a)(ye).gt(ye))te(""),ne(b.a.get("error.e2",{token:_e}));else{var e="\u2248 $ "+Object(W.t)(Object(W.bb)(ye*Ue));te(e),ne()}}catch(t){console.log("setLockMax error: "+t)}},Ee=function(e){var t=Object(W.S)((""+e).replace(/,/g,""),Ye),a=t.valid,c=t.str;if(console.log(e,a,c),a)if(p(c),Object(W.a)(c).eq(0))te(""),ne(b.a.get("error.e1"));else if(Object(W.a)(c).gt(ye))te(""),ne(b.a.get("error.e2",{token:_e}));else{var s="\u2248 $ "+Object(W.t)(Object(W.bb)(c*Ue));te(s),ne()}},We=function(e,t){"month"===t&&(E(e),-1===e&&k(w),k(e),-1!==e&&e<we.a.minLockDuration?(D(!0),M(2),y("")):-1!==e&&e>we.a.maxLockDuration?(D(!0),M(1),y("")):-1!==e&&(D(!1),y(""))),"day"===t&&(X(e),-1===e&&k(w),k(e),-1!==e&&e<we.a.minLockDayDuration||-1===e&&w<we.a.minLockDayDuration?(D(!0),M(2),y("")):-1!==e&&e>we.a.maxLockDaysDuration||-1===e&&w>we.a.maxLockDaysDuration?(D(!0),M(1),y("")):-1!==e&&(D(!1),y("")))},ze=function(e){var t=e.replace(/^[^1-9]+|[^0-9]/g,"");y(t),"month"===be?t<we.a.minLockDuration&&t?(D(!0),M(2)):t>we.a.maxLockDuration?(D(!0),M(1)):D(!1):"day"===be&&(t<we.a.minLockDaysDuration&&t?(D(!0),M(2)):t>we.a.maxLockDaysDuration?(D(!0),M(1)):D(!1))};Object(s.useEffect)((function(){Qe(-1===B||-1===K?w:g)}),[w,g,x,be]);var Qe=function(e){if(Fe&&qe)U("--");else if("month"===be){var a=t.nowTime+e*fe*1e3;U(Oe()(a).format("YYYY-MM-DD HH:mm")),oe(1+pe*e*30)}else if("day"===be){var c=t.nowTime+e*he*1e3;U(Oe()(c).format("YYYY-MM-DD HH:mm")),oe(1+pe*e)}},Ze=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Ce.lt(Object(W.bb)(x))||ge){e.next=10;break}return t={action:"approve",title:"deposit.approve_token",obj:{value:_e},continuous:!0},e.next=6,a.toApproveLP(Le,xe[d].lpStaker,t);case 6:e.sent&&(ge=!0,Ke()),e.next=11;break;case 10:Ke();case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){var s,n,r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={title:"actions.stake_lp",obj:{value:Object(W.t)(Object(W.bb)(x)),symbol:_e}},"",n=-1===B||-1===K?w:g,r="month"===be?n*fe:n*he,i=we.a.flexibleKeys.includes(xe[d].id)?"depositLPFarmNoflexible":"depositLPFarm",e.next=8,a[i](xe[d].lpStaker,t.defaultAccount,Object(W.bb)(x).times(Me)._toIntegerDown()._toHex(),r,s);case 8:e.sent&&(o(),setTimeout((function(){c.updateData(d)}),5e3)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsx)(n.a,{children:function(){return Object(ee.jsx)(Ne.a,{visible:"Sun3LockModal"===r,title:b.a.getHTML("newStake.stake_pool.lock_sun",{symbol:_e}),width:430,zIndex:999,footer:null,className:"new-lock-modal lock-modal",maskClosable:!1,onCancel:Be,closeIcon:Object(ee.jsx)("img",{src:Se.a,alt:""}),wrapClassName:Object(R.a)(window.navigator).any?"":"vertical-center-modal",children:Object(ee.jsxs)("div",{className:"lock-extend-content",children:[Object(ee.jsxs)("div",{className:"flex jcsb aic lock-amount",children:[Object(ee.jsx)("span",{children:b.a.get("farm.lock_amount")}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"balance",children:[b.a.get("pool_config.balance"),": "]}),Object(ee.jsx)("span",{children:Object(W.t)(ye,{dp:Ye,cutZero:!0})})]})]}),Object(ee.jsx)(Y.a,{suffix:Object(ee.jsx)("span",{className:"max-btn",onClick:Ve,children:b.a.get("deposit.max")}),value:x,onChange:function(e){return Ee(e.target.value)}}),Object(ee.jsxs)("div",{className:"flex jcsb aic lock-price",children:[Object(ee.jsxs)("span",{className:se?"error":"",children:[$,se]}),Object(W.D)({id:Ie,symbol:_e,tokenAddress:Pe,tokenAddress2:He,lang:ue,version:Re})]}),Object(ee.jsx)("div",{className:"line-gray"}),Object(ee.jsxs)("div",{className:"lock-time flex aic jcsb",children:[Object(ee.jsx)("div",{children:b.a.get("farm.lock_duration_week")}),Object(ee.jsx)("div",{children:Object(ee.jsxs)(De.a.Group,{onChange:function(e){return t=e.target.value,y(),E(-2),X(-2),D(!1),void me(t);var t},defaultValue:be,children:[Object(ee.jsx)(De.a,{value:"month",children:Object(ee.jsx)(u.a,{title:b.a.get("farm.text_49"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover']",children:b.a.get("farm.by_month")})}),Object(ee.jsx)(De.a,{value:"day",children:b.a.get("farm.by_day")})]})})]}),Object(ee.jsxs)("div",{className:"lc-date mt-10",children:["month"===be&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{className:"mt-20 lm-date jcsb",children:[Object(ee.jsxs)("span",{className:1===B?"current":"",onClick:function(){return We(1,"month")},children:["1 ",b.a.get("farm.suffix_month")]}),Object(ee.jsxs)("span",{className:6===B?"current":"",onClick:function(){return We(6,"month")},children:["6 ",b.a.get("farm.suffix_month")]}),Object(ee.jsxs)("span",{className:12===B?"current":"",onClick:function(){return We(12,"month")},children:["12 ",b.a.get("farm.suffix_month")]}),Object(ee.jsxs)("span",{className:24===B?"current":"",onClick:function(){return We(24,"month")},children:["24 ",b.a.get("farm.suffix_month")]}),Object(ee.jsxs)("span",{className:36===B?"current":"",onClick:function(){return We(36,"month")},children:["36 ",b.a.get("farm.suffix_month")]})]}),Object(ee.jsx)("div",{className:"lm-date jcsb",children:Object(ee.jsx)("span",{className:"".concat(-1===B?"current last":"last"," ").concat(C?"errorWeek":""),onClick:function(e){return We(-1,"month")},children:Object(ee.jsx)(Y.a,{value:w,onChange:function(e){return ze(e.target.value)},placeholder:b.a.get("farm.define_myself"),suffix:b.a.get("farm.suffix_input_month")})})})]}),"day"===be&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{className:"mt-20 lm-date jcsb",children:[Object(ee.jsxs)("span",{className:30===K?"current":"",onClick:function(){return We(30,"day")},children:["30 ",b.a.get("farm.suffix_day")]}),Object(ee.jsxs)("span",{className:60===K?"current":"",onClick:function(){return We(60,"day")},children:["60 ",b.a.get("farm.suffix_day")]}),Object(ee.jsxs)("span",{className:90===K?"current":"",onClick:function(){return We(90,"day")},children:["90 ",b.a.get("farm.suffix_day")]}),Object(ee.jsxs)("span",{className:120===K?"current":"",onClick:function(){return We(120,"day")},children:["120 ",b.a.get("farm.suffix_day")]}),Object(ee.jsxs)("span",{className:150===K?"current":"",onClick:function(){return We(150,"day")},children:["150 ",b.a.get("farm.suffix_day")]})]}),Object(ee.jsx)("div",{className:"lm-date jcsb",children:Object(ee.jsx)("span",{className:"".concat(-1===K?"current last":"last"," ").concat(C?"errorWeek":""),onClick:function(e){return We(-1,"day")},children:Object(ee.jsx)(Y.a,{value:w,onChange:function(e){return ze(e.target.value)},placeholder:b.a.get("farm.define_myself"),suffix:b.a.get("farm.suffix_input_day")})})})]}),C&&Object(ee.jsx)("div",{className:"error",children:"month"===be?1===T?b.a.getHTML("farm.text_9",{max_lock_duration:we.a.maxLockDuration}):b.a.getHTML("farm.text_10",{min_lock_duration:we.a.minLockDuration}):1===T?b.a.getHTML("farm.text_9_day",{max_lock_duration_d:we.a.maxLockDaysDuration}):b.a.getHTML("farm.text_10_day",{min_lock_duration_d:we.a.minLockDaysDuration})})]}),Object(ee.jsx)("div",{className:"lock-overview mt-20",children:b.a.get("farm.lock_overview")}),Object(ee.jsxs)("div",{className:"overview-content",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{children:b.a.get("farm.lock_amount")}),Object(ee.jsx)("div",{children:Fe?Object(ee.jsx)("span",{className:"old-data",children:"--"}):Object(ee.jsx)("span",{className:"old-data",children:Object(W.t)(x,{dp:xe[d].showDp,cutZero:!0,miniText:xe[d].miniText})})})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"flex jcfe aic",children:[b.a.get("farm.lock_duration"),Object(ee.jsx)(u.a,{title:b.a.getHTML("farm.text_11"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(ee.jsx)("div",{children:qe?Object(ee.jsx)("span",{className:"old-data",children:"--"}):Object(ee.jsxs)("span",{className:"old-data",children:["month"===be?-1===B?w:g:-1===K?w:g," ","month"===be?b.a.get("farm.month_unit"):b.a.get("farm.extend_day")]})})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"flex jcfe aic",children:["APY",Object(ee.jsx)(u.a,{title:Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("p",{children:b.a.get("farm.text_12")}),Object(ee.jsx)("p",{children:b.a.get("farm.text_13")})]}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(ee.jsx)("div",{children:qe?Object(ee.jsx)("span",{className:"old-data",children:"--"}):Object(ee.jsx)("span",{className:"new-data",children:Object(ee.jsx)(Te,{speedRate:ie,data:ke[d]})})})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{children:[b.a.get("farm.unlock_time")," ",Object(ee.jsx)(u.a,{title:b.a.get("farm.unlock_time_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(ee.jsx)("div",{children:qe?Object(ee.jsx)("span",{className:"old-data",children:"--"}):Object(ee.jsx)("span",{className:"old-data",children:H})})]})]}),Object(ee.jsxs)("div",{className:"warning",children:[Object(ee.jsxs)("div",{className:"flex aic warning-title ",children:[Object(ee.jsx)("img",{src:Ae,alt:""}),Object(ee.jsx)("span",{children:b.a.get("farm.note")})]}),Object(ee.jsxs)("div",{className:"warning-content",children:[b.a.getHTML("farm.text_7"),Object(ee.jsx)("br",{}),b.a.getHTML("farm.text_8",{time_window:we.a.windowDuration})]})]}),Object(ee.jsx)("div",{className:"flex jcc",children:Object(ee.jsx)("button",{className:"common-btn mt-20 lock-common-btn",disabled:Fe||qe,onClick:Ze,children:b.a.get("farm.confirm_lock")})})]})})}})},Ie=a(1317),Pe=function(e){var t=Object(n.d)((function(){return V.a.network})),a=Object(n.d)((function(){return V.a.system})),c=Object(n.d)((function(){return V.a.farmStore})),r=t.modalShow,o=t.closeModal,d=t.poolId,m=Object(s.useState)(""),O=Object(j.a)(m,2),x=O[0],p=O[1],f=Object(s.useState)(!1),h=Object(j.a)(f,2),g=(h[0],h[1],window.localStorage.getItem("lang")),k=we.a.farmPools,v=we.a.kRate,N=we.a.monthTime,w=we.a.dayTime,y=Object(s.useState)(""),S=Object(j.a)(y,2),_=S[0],C=S[1],D=Object(s.useState)(""),A=Object(j.a)(D,2),L=A[0],T=A[1],M=Object(s.useState)(!1),I=Object(j.a)(M,2),P=I[0],H=I[1],U=Object(s.useState)("--"),F=Object(j.a)(U,2),q=F[0],B=F[1],E=Object(s.useState)("--"),z=Object(j.a)(E,2),Z=z[0],K=z[1],X=Object(s.useState)(""),G=Object(j.a)(X,2),J=G[0],$=G[1],te=Object(s.useState)(!1),ae=Object(j.a)(te,2),ce=ae[0],se=ae[1],ne=Object(s.useState)(1),re=Object(j.a)(ne,2),le=re[0],ie=re[1],oe=Object(s.useState)(""),je=Object(j.a)(oe,2),de=je[0],be=je[1],me=Object(s.useState)(""),ue=Object(j.a)(me,2),xe=ue[0],pe=ue[1],fe=Object(s.useState)("--"),he=Object(j.a)(fe,2),ge=he[0],ke=he[1],ve=Object(s.useState)(2),ye=Object(j.a)(ve,2),_e=ye[0],Ce=ye[1],Me=Object(s.useState)(""),Pe=Object(j.a)(Me,2),He=Pe[0],Ye=Pe[1],Re=Object(s.useState)("--"),Ue=Object(j.a)(Re,2),Fe=Ue[0],qe=Ue[1],Be=Object(s.useState)(!1),Ve=Object(j.a)(Be,2),Ee=Ve[0],We=Ve[1],ze=Object(s.useState)("month"),Qe=Object(j.a)(ze,2),Ze=Qe[0],Ke=Qe[1],Xe=!1,Ge=c.farmData,Je=Ge[d],$e=Je.balance,et=Je.symbol,tt=Je.allowance,at=Je.token,ct=Je.precision,st=Je.id,nt=Je.tokenAddress,rt=Je.tokenAddress2,lt=Je.decimal,it=Je.stakedBalanceNew,ot=Je.version,jt=Je.remainingTime,dt=Je.priceNew,bt=Je.lockDuration,mt=Je.multiple,ut=function(){o()};Object(s.useEffect)((function(){jt-t.nowTime/1e3<N&&(We(!0),H(!0),Ce(2),$(we.a.minLockDuration))}),[jt]);var Ot=!x||!Object(W.a)(x).gt(0)||L,xt=ce||P&&!J&&2===_e,pt=function(){try{if(ft(Object(W.c)($e)),Object(W.a)($e).eq(0))C(""),T(b.a.get("error.e1"));else if(Object(W.a)($e).gt($e))C(""),T(b.a.get("error.e2",{token:et}));else{var e="\u2248 $ "+Object(W.t)(Object(W.bb)($e*dt));C(e),T()}}catch(t){console.log("setLockMax error: "+t)}},ft=function(e){var t=Object(W.S)((""+e).replace(/,/g,""),lt),a=t.valid,c=t.str;if(a)if(p(c),Object(W.a)(c).eq(0))C(""),T(b.a.get("error.e1"));else if(Object(W.a)(c).gt($e))C(""),T(b.a.get("error.e2",{token:et}));else{var s="\u2248 $ "+Object(W.t)(Object(W.bb)(c*dt));C(s),T()}},ht=function(){var e=Object(i.a)(Object(l.a)().mark((function e(t){var a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,t.target.checked||($(""),se(!1)),$(1),Ke("month"),H(a)}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){gt()}),[P,x,_e,J,Ze]);var gt=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){var a,c,s,n,r,i,o,j,d,b,m,u,O,x,p,f,h,g,k,y;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xt?(be("--"),Ye("--")):P?1===_e?(se(!1),$(""),r=Object(W.t)(bt/N),i=1e3*parseInt(jt),o=t.nowTime,be(Oe()(i).format("YYYY-MM-DD HH:mm")),j=o+r*N*1e3,qe(Oe()(j).format("YYYY-MM-DD HH:mm")),ke(Object(W.t)(r)),B(1+v*r*30)):"month"===Ze?(d=t.nowTime,b=1e3*parseInt(jt),u=(m=b-d)/1e3/N,console.log("week: ",u),pe(m/1e3/N),Number(J)<we.a.minLockDuration&&J?(se(!0),ie(2),be("--"),Ye("--"),qe("--")):Number(J)+Number(u)>we.a.maxLockDuration?(se(!0),ie(1),be("--"),Ye("--"),qe("--")):(se(!1),ke(m>0?Object(W.t)(Number(J)+Number(u)):Object(W.t)(Number(J))),O=1e3*parseInt(jt),be(Oe()(O).format("YYYY-MM-DD HH:mm")),x=O+Number(J*N*1e3),qe(Oe()(x).format("YYYY-MM-DD HH:mm")),K(mt),B(1+v*(Number(J)+Number(u))*30))):(p=t.nowTime,f=1e3*parseInt(jt),g=(h=f-p)/1e3/w,pe(h/1e3/w),Number(J)<we.a.minLockDaysDuration&&J?(se(!0),ie(2),be("--"),Ye("--"),qe("--")):Number(J)+Number(g)>we.a.maxLockDaysDuration?(se(!0),ie(1),be("--"),Ye("--"),qe("--")):(se(!1),ke(h>0?Object(W.t)(Number(J)+Number(g)):Object(W.t)(Number(J))),k=1e3*parseInt(jt),be(Oe()(k).format("YYYY-MM-DD HH:mm")),y=k+Number(J*w*1e3),qe(Oe()(y).format("YYYY-MM-DD HH:mm")),K(mt),B(1+v*(Number(J)+Number(g))))):(a=1e3*parseInt(jt),Ye(Oe()(a).format("YYYY-MM-DD HH:mm")),c=t.nowTime,a>c&&(s=a-c,n=Object(W.t)(s/1e3/N,{curZero:!0}),pe(n),ke(n),K(mt),B(1+v*n*30)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),kt=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){var t,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!tt.lt(Object(W.bb)(it))||Xe){e.next=11;break}return t={action:"approve",title:"deposit.approve_token",obj:{value:et},continuous:!0},e.next=6,a.toApproveLP(at,k[d].lpStaker,t);case 6:c=e.sent,console.warn("txID: ",c),c&&(Xe=!0,vt()),e.next=12;break;case 11:vt();case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),vt=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){var s,n,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={title:"actions.stake_lp",obj:{value:Object(W.t)(Object(W.bb)(x)),symbol:et}},"",n=P?1===_e?bt:"month"===Ze?J*N:J*w:0,r=we.a.flexibleKeys.includes(k[d].id)?"depositLPFarmNoflexible":"depositLPFarm",e.next=7,a[r](k[d].lpStaker,t.defaultAccount,Object(W.bb)(x).times(ct)._toIntegerDown()._toHex(),n,s);case 7:e.sent&&(o(),setTimeout((function(){c.updateData(d)}),5e3)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsx)(n.a,{children:function(){return Object(ee.jsx)(Ne.a,{visible:"Sun3LockExtendModal"===r,title:b.a.getHTML("farm.add_lp_token",{lp_token:et}),width:450,zIndex:999,footer:null,className:"new-lock-modal lock-modal",maskClosable:!1,onCancel:ut,closeIcon:Object(ee.jsx)("img",{src:Se.a,alt:""}),wrapClassName:Object(R.a)(window.navigator).any?"":"vertical-center-modal",children:Object(ee.jsxs)("div",{className:"lock-extend-content",children:[Object(ee.jsxs)("div",{className:"flex jcsb aic lock-amount",children:[Object(ee.jsx)("span",{children:b.a.get("farm.lock_amount")}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"balance",children:[b.a.get("pool_config.balance"),": "]}),Object(ee.jsx)("span",{children:Object(W.t)($e,{dp:lt,cutZero:!0})})]})]}),Object(ee.jsx)(Y.a,{suffix:Object(ee.jsx)("span",{className:"max-btn",onClick:pt,children:b.a.get("deposit.max")}),value:x,onChange:function(e){return ft(e.target.value)}}),Object(ee.jsxs)("div",{className:"flex jcsb aic lock-price",children:[Object(ee.jsxs)("span",{className:L?"error":"",children:[_,L]}),Object(W.D)({id:st,symbol:et,tokenAddress:nt,tokenAddress2:rt,lang:g,version:ot})]}),Object(ee.jsx)("div",{className:"line-gray"}),Object(ee.jsxs)("div",{className:"extend-check flex aic jcsb",children:[Object(ee.jsx)("div",{children:Ee?Object(ee.jsx)(u.a,{title:b.a.getHTML("farm.text_24",{min_lock_duration:we.a.minLockDuration}),children:Object(ee.jsx)(Ie.a,{checked:!0,disabled:!0,children:b.a.get("farm.text_23")})}):Object(ee.jsx)(Ie.a,{onChange:ht,children:b.a.get("farm.text_23")})}),Object(ee.jsx)("div",{children:P&&Object(ee.jsxs)(De.a.Group,{onChange:function(e){return"month"===(t=e.target.value)?$(1):"day"===t&&$(30),se(!1),void Ke(t);var t},defaultValue:Ze,children:[Object(ee.jsx)(De.a,{value:"month",children:Object(ee.jsx)(u.a,{title:b.a.get("farm.text_49"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover']",children:b.a.get("farm.by_month")})}),Object(ee.jsx)(De.a,{value:"day",children:b.a.get("farm.by_day")})]})})]}),P&&Object(ee.jsxs)("div",{className:"extend-btns",children:[Object(ee.jsx)("div",{className:(2===_e?"current":"")+(ce?" errors":""),onClick:function(){return Ce(2)},children:Object(ee.jsx)(Y.a,{prefix:b.a.get("farm.extend_week1"),suffix:"month"===Ze?Object(ee.jsx)("div",{className:"flex aic jcs",children:b.a.get("farm.month_unit")}):Object(ee.jsxs)("div",{className:"flex aic jcs",children:[b.a.get("farm.extend_day")," "]}),value:J,placeholder:b.a.get("farm.define_myself"),onChange:function(e){return function(e){var a=e.replace(/^[^1-9]+|[^0-9]/g,"");if($(a),"month"===Ze){var c=t.nowTime,s=1e3*parseInt(jt)-c,n=Object(W.t)(s/1e3/N);pe(s/1e3/N),Number(a)<we.a.minLockDuration&&a?(se(!0),ie(2)):Number(a)+Number(n)>we.a.maxLockDuration?(se(!0),ie(1)):se(!1)}else if("day"===Ze){var r=t.nowTime,l=1e3*parseInt(jt)-r,i=Object(W.t)(l/1e3/w);pe(l/1e3/w),Number(a)<we.a.minLockDaysDuration&&a?(se(!0),ie(2)):Number(a)+Number(i)>we.a.maxLockDaysDuration?(se(!0),ie(1)):se(!1)}}(e.target.value)}})}),ce&&Object(ee.jsx)("span",{className:"error",children:"month"===Ze?1===le?b.a.getHTML("farm.prolong_warning",{max_lock_duration:we.a.maxLockDuration,prolong:Object(W.t)(Object(W.a)(xe).plus(J),{cutZero:!0})}):b.a.getHTML("farm.prolong_warning_min",{min_lock_duration:we.a.minLockDuration}):1===le?b.a.getHTML("farm.prolong_warning_day",{max_lock_duration_d:we.a.maxLockDaysDuration,prolong_d:Object(W.t)(Object(W.a)(xe).plus(J),{cutZero:!0})}):b.a.getHTML("farm.prolong_warning_min_day",{min_lock_duration_d:we.a.minLockDaysDuration})})]}),Object(ee.jsx)("div",{className:"lock-overview",children:b.a.get("farm.lock_overview")}),Object(ee.jsxs)("div",{className:"overview-content",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{children:b.a.get("farm.lock_amount")}),Object(ee.jsx)("div",{children:Ot?Object(ee.jsx)("span",{className:"old-data",children:"--"}):Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("span",{className:"old-data",children:[Object(W.t)(it,{dp:k[d].showDp,cutZero:!0,miniText:k[d].miniText}),Object(ee.jsx)("img",{src:Le,alt:""})]}),Object(ee.jsx)("span",{className:"new-data",children:Object(W.t)(Object(W.a)(it).plus(x),{dp:k[d].showDp,cutZero:!0,miniText:k[d].miniText})})]})})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"flex jcfe aic",children:[b.a.get("farm.lock_duration"),Object(ee.jsx)(u.a,{title:b.a.getHTML("farm.text_11"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(ee.jsx)("div",{children:xt?Object(ee.jsx)("span",{className:"old-data",children:"--"}):P&&1===_e?Object(ee.jsxs)("span",{className:"new-data",children:[ge," ",b.a.get("farm.extend_week2")]}):"month"===Ze?Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("span",{className:"old-data",children:[Object(W.t)(bt/N,{cutZero:!0})," ",b.a.get("farm.month_unit"),Object(ee.jsx)("img",{src:Le,alt:""})]}),Object(ee.jsxs)("span",{className:"new-data "+(ce?"red":""),children:[ge," ",b.a.get("farm.month_unit")]})]}):Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("span",{className:"old-data",children:[Object(W.t)(bt/w,{cutZero:!0})," ",b.a.get("farm.extend_day"),Object(ee.jsx)("img",{src:Le,alt:""})]}),Object(ee.jsxs)("span",{className:"new-data "+(ce?"red":""),children:[ge," ",b.a.get("farm.extend_day")]})]})})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"flex jcfe aic",children:["APY",Object(ee.jsx)(u.a,{title:Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("p",{children:b.a.get("farm.text_12")}),Object(ee.jsx)("p",{children:b.a.get("farm.text_13")})]}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(ee.jsx)("div",{children:xt?Object(ee.jsx)("span",{className:"old-data",children:"--"}):P&&1===_e?Object(ee.jsx)(Te,{speedRate:q,data:Ge[d]}):Object(ee.jsx)(Te,{speedRate:q,oldSpeedRate:Z,data:Ge[d]})})]}),P?Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{children:b.a.get("farm.old_unlock_time")}),Object(ee.jsx)("div",{children:xt?Object(ee.jsx)("div",{children:Object(ee.jsx)("span",{className:"old-data",children:"--"})}):Object(ee.jsx)("span",{className:"old-data",children:de})})]}):null,P?Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{children:[b.a.get("farm.new_unlock_time"),Object(ee.jsx)(u.a,{title:b.a.get("farm.unlock_time_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(ee.jsx)("div",{children:xt?Object(ee.jsx)("span",{className:"old-data",children:"--"}):Object(ee.jsx)("span",{className:"new-data",children:Fe})})]}):Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{children:[b.a.get("farm.unlock_time")," ",Object(ee.jsx)(u.a,{title:b.a.get("farm.unlock_time_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(ee.jsx)("div",{children:Object(ee.jsx)("span",{className:"new-data",children:He})})]})]}),Object(ee.jsxs)("div",{className:"warning",children:[Object(ee.jsxs)("div",{className:"flex aic warning-title ",children:[Object(ee.jsx)("img",{src:Ae,alt:""}),Object(ee.jsx)("span",{children:b.a.get("farm.note")})]}),Object(ee.jsxs)("div",{className:"warning-content",children:[b.a.get("farm.text_21"),P?2===_e?b.a.get("farm.text_27"):b.a.get("farm.text_25"):b.a.get("farm.text_22")]})]}),Object(ee.jsx)("div",{className:"flex jcc",children:Object(ee.jsx)("button",{className:"common-btn mt-20 lock-common-btn",disabled:Ot||xt,onClick:kt,children:b.a.get("farm.confirm_add")})})]})})}})},He=function(e){var t=Object(n.d)((function(){return V.a.network})),a=t.modalShow,c=t.closeModal,s=function(){c()};return Object(ee.jsx)(n.a,{children:function(){return Object(ee.jsx)(Ne.a,{visible:"Sun3AutoExtendModal"===a,title:b.a.get("farm.auto_extend"),width:430,zIndex:999,footer:null,className:"new-lock-modal lock-modal auto-extend",maskClosable:!1,onCancel:s,closeIcon:Object(ee.jsx)("img",{src:Se.a,alt:""}),wrapClassName:Object(R.a)(window.navigator).any?"":"vertical-center-modal",children:Object(ee.jsxs)("div",{className:"auto-ex-content",children:[Object(ee.jsx)("p",{className:"common-text",children:b.a.getHTML("farm.text_28",{time_window:3})}),Object(ee.jsxs)("div",{className:"modal-text unlock-text mt-20",children:[Object(ee.jsx)("div",{className:"title",children:b.a.get("farm.text_29")}),Object(ee.jsx)("div",{className:"detail",children:b.a.get("farm.text_30")})]}),Object(ee.jsxs)("div",{className:"modal-text claim-text mt-20",children:[Object(ee.jsx)("div",{className:"title",children:b.a.get("farm.text_48")}),Object(ee.jsx)("div",{className:"detail",children:b.a.get("farm.text_31")})]}),Object(ee.jsxs)("div",{className:"warning",children:[Object(ee.jsxs)("div",{className:"flex aic warning-title ",children:[Object(ee.jsx)("img",{src:Ae,alt:""}),Object(ee.jsx)("span",{children:b.a.get("farm.note")})]}),Object(ee.jsx)("div",{className:"warning-content",children:b.a.get("farm.text_32")})]}),Object(ee.jsx)("div",{className:"flex jcc",children:Object(ee.jsx)("button",{className:"common-btn lock-common-btn",onClick:s,children:b.a.get("farm.got_it")})})]})})}})},Ye=function(e){var t=Object(n.d)((function(){return V.a.network})),a=t.modalShow,c=t.closeModal,s=function(){c()};return Object(ee.jsx)(n.a,{children:function(){return Object(ee.jsx)(Ne.a,{visible:"Sun3DiffModal"===a,title:b.a.get("farm.text_16"),width:430,zIndex:999,footer:null,className:"new-lock-modal lock-modal diff-modal",maskClosable:!1,onCancel:s,closeIcon:Object(ee.jsx)("img",{src:Se.a}),wrapClassName:Object(R.a)(window.navigator).any?"":"vertical-center-modal",children:Object(ee.jsxs)("div",{className:"lock-content",children:[Object(ee.jsxs)("div",{className:"modal-text flexible-text",children:[Object(ee.jsx)("div",{className:"title",children:b.a.get("farm.text_17")}),Object(ee.jsx)("div",{className:"detail",children:b.a.get("farm.text_18")})]}),Object(ee.jsxs)("div",{className:"modal-text lock-text mt-20",children:[Object(ee.jsx)("div",{className:"title",children:b.a.get("farm.text_19")}),Object(ee.jsx)("div",{className:"detail",children:b.a.get("farm.text_20")})]}),Object(ee.jsx)("div",{className:"flex jcc",children:Object(ee.jsx)("button",{className:"common-btn lock-common-btn",onClick:s,children:b.a.get("farm.got_it")})})]})})}})},Re=a.p+"static/media/edit-icon.115763ae.svg",Ue=function(e){var t=Object(n.d)((function(){return V.a.system})),a=Object(n.d)((function(){return V.a.network})),c=Object(n.d)((function(){return V.a.farmStore})),r=a.modalShow,o=a.closeModal,d=a.poolId,m=Object(s.useState)(-2),O=Object(j.a)(m,2),x=O[0],p=O[1],f=Object(s.useState)(-2),h=Object(j.a)(f,2),g=h[0],k=h[1],v=Object(s.useState)(""),N=Object(j.a)(v,2),w=N[0],y=N[1],S=Object(s.useState)(!1),_=Object(j.a)(S,2),C=_[0],D=_[1],A=Object(s.useState)(1),L=Object(j.a)(A,2),T=L[0],M=L[1],I=Object(s.useState)(!0),P=Object(j.a)(I,2),H=P[0],U=P[1],F=Object(s.useState)(""),q=Object(j.a)(F,2),B=q[0],E=q[1],z=Object(s.useState)(""),Z=Object(j.a)(z,2),K=Z[0],X=Z[1],G=Object(s.useState)(""),J=Object(j.a)(G,2),$=J[0],te=J[1],ae=Object(s.useState)("month"),ce=Object(j.a)(ae,2),se=ce[0],ne=ce[1],re=Object(s.useState)(!1),le=Object(j.a)(re,2),ie=(le[0],le[1],we.a.farmPools),oe=we.a.kRate,je=we.a.monthTime,de=we.a.dayTime,be=c.farmData,me=be[d],ue=me.symbol,xe=me.precision,pe=me.decimal,fe=me.stakedBalanceNew,he=me.lockRewards,ge=me.lockDuration,ke=me.remainingTime,ve=me.governanceRewards,ye=Object(s.useState)(0),_e=Object(j.a)(ye,2),Ce=_e[0],Le=_e[1],Me=Object(s.useState)(""),Ie=Object(j.a)(Me,2),Pe=Ie[0],He=Ie[1],Ye=Object(s.useState)(""),Ue=Object(j.a)(Ye,2),Fe=Ue[0],qe=Ue[1],Be=!Pe||!Object(W.a)(Pe).gt(0)||Object(W.a)(Pe).gt(fe),Ve=C||!w&&!B&&!H;Object(s.useEffect)((function(){qe(Object(W.t)(fe,{dp:ie[d].showDp,cutZero:!0,miniText:ie[d].miniText}))}),[be[d]]);var Ee=function(){o()},We=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){var a,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(W.bb)(fe).gt(0)){e.next=8;break}return a={title:"actions.withdraw_lp",obj:{value:Object(W.t)(Object(W.bb)(fe)),symbol:ue}},"",s=we.a.flexibleKeys.includes(ie[d].id)?"withdrawLPFarmNoflexible":"withdrawLPFarm",e.next=6,t[s](ie[d].lpStaker,Object(W.bb)(fe).times(xe)._toHex(),0,a);case 6:e.sent&&(o(),setTimeout((function(){c.updateData(d)}),5e3));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){var a,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(W.bb)(Pe).gt(0)){e.next=8;break}return a={title:"actions.withdraw_lp",obj:{value:Object(W.t)(Object(W.bb)(Pe)),symbol:ue}},"",s="month"===se?B*je:B*de,e.next=6,t.withdrawLPFarm(ie[d].lpStaker,Object(W.bb)(Pe).times(xe)._toHex(),s,a);case 6:e.sent&&(o(),setTimeout((function(){c.updateData(d)}),5e3));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe=function(){return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{className:"unlock-ele",children:[Object(ee.jsx)("div",{className:"title",children:b.a.get("farm.unlock_amount")}),Object(ee.jsx)("div",{className:"detail",children:Object(ee.jsx)(Y.a,{value:Fe,suffix:Ke(),disabled:!0})})]}),Object(ee.jsxs)("div",{className:"unlock-ele",children:[Object(ee.jsxs)("div",{className:"title flex aic",children:[b.a.get("farm.withdraw")," ",Object(ee.jsx)(u.a,{title:b.a.getHTML("farm.text_37"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(ee.jsxs)("div",{className:"detail",children:[Object(ee.jsx)("span",{className:"amount",children:Object(W.t)(Object(W.a)(he).plus(ve),{cutZero:!0,miniText:.01})}),Object(ee.jsx)("span",{className:"token",children:"USDD"})]})]}),Object(ee.jsx)("div",{className:"flex jcc",children:Object(ee.jsx)("button",{className:"common-btn lock-common-btn",onClick:We,children:b.a.get("farm.unlock_all")})})]})};Object(s.useEffect)((function(){Ze()}),[H,Pe,w,B,se]);var Ze=function(){if(Ve)X("--");else if(H){E(Object(W.t)(ge/je,{cutZero:!0})),te(1+oe*(ge/je)*30);var e=1e3*parseInt(ke);X(Oe()(e).format("YYYY-MM-DD HH:mm"))}else{var t=-1===x||-1===g?w:B;if(E(t),"month"===se)if(t<we.a.minLockDuration&&t)D(!0),M(2),X("--");else if(t>we.a.maxLockDuration)D(!0),M(1),X("--");else{D(!1);var c=a.nowTime,s=Number(c)+Number(t*je*1e3);X(Oe()(s).format("YYYY-MM-DD HH:mm")),te(1+oe*t*30)}else if("day"===se)if(t<we.a.minLockDaysDuration&&t)D(!0),M(2),X("--");else if(t>we.a.maxLockDaysDuration)D(!0),M(1),X("--");else{D(!1);var n=a.nowTime,r=Number(n)+Number(t*de*1e3);X(Oe()(r).format("YYYY-MM-DD HH:mm")),te(1+oe*t)}}},Ke=function(){return Object(ee.jsxs)("div",{className:"flex aic unlock-suffix",children:[Object(ee.jsx)("span",{children:ue}),Object(ee.jsx)("button",{className:"common-btn unlock-part-btn",onClick:function(){return E("--"),te(1+oe*(ge/je)*30),X(Oe()(B).format("YYYY-MM-DD HH:mm")),te("--"),X("--"),He(),void Le(1)},children:b.a.get("farm.custom_amount")})]})},Xe=function(e){"month"===se?(p(e),-1===e?E(w):e<we.a.minLockDuration?(D(!0),M(2),y("")):e>we.a.maxLockDuration?(D(!0),M(1),y("")):(D(!1),y("")),E(e)):"day"===se&&(k(e),-1===e?E(w):e<we.a.minLockDaysDuration?(D(!0),M(2),y("")):e>we.a.maxLockDaysDuration?(D(!0),M(1),y("")):(D(!1),y("")),E(e))},Ge=function(e){var t=e.replace(/^[^1-9]+|[^0-9]/g,"");y(t),"month"===se?t<we.a.minLockDuration&&t?(D(!0),M(2)):t>we.a.maxLockDuration?(D(!0),M(1)):D(!1):"day"===se&&(t<we.a.minLockDaysDuration&&t?(D(!0),M(2)):t>we.a.maxLockDaysDuration?(D(!0),M(1)):D(!1))};return Object(ee.jsx)(n.a,{children:function(){return Object(ee.jsx)(Ne.a,{visible:"Sun3UnlockToClaimModal"===r,title:b.a.get("farm.unlock_claim"),width:430,zIndex:999,footer:null,className:"new-lock-modal lock-modal unlock-modal unlock-claim-modal",maskClosable:!1,onCancel:Ee,closeIcon:Object(ee.jsx)("img",{src:Se.a,alt:""}),wrapClassName:Object(R.a)(window.navigator).any?"":"vertical-center-modal",children:Object(ee.jsx)("div",{className:"unlock-content",children:0===Ce?Object(ee.jsx)(Qe,{}):Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{className:"unlock-ele",children:[Object(ee.jsx)("div",{className:"title",children:b.a.get("farm.unlock_amount")}),Object(ee.jsx)("div",{className:"detail",children:Object(ee.jsx)(Y.a,{className:"unlock-claim-input",value:Pe,placeholder:b.a.get("farm.enter_unlock_amount"),onChange:function(e){return function(e){var t=Object(W.S)((""+e).replace(/,/g,""),pe),a=t.valid,c=t.str;a&&He(c),Object(W.a)(c).eq(Object(W.a)(fe))&&Le(0)}(e.target.value)},suffix:Object(ee.jsxs)("div",{className:"flex aic unlock-suffix",children:[Object(ee.jsx)("span",{children:ue}),Object(ee.jsx)("button",{className:"common-btn unlock-part-btn",onClick:function(){return Le(0)},children:b.a.get("didi_dao.max")})]})})})]}),Object(ee.jsxs)("div",{className:"unlock-ele",children:[Object(ee.jsxs)("div",{className:"title flex aic",children:[b.a.get("farm.withdraw")," ",Object(ee.jsx)(u.a,{title:b.a.getHTML("farm.text_37"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(ee.jsxs)("div",{className:"detail",children:[Object(ee.jsx)("span",{className:"amount",children:Object(W.t)(Object(W.a)(he).plus(ve),{dp:ie[d].showDp,cutZero:!0,miniText:.01})}),Object(ee.jsx)("span",{className:"token",children:"USDD"})]})]}),Object(ee.jsxs)("div",{className:"unlock-ele claim-extend-ele",children:[Object(ee.jsxs)("div",{className:"detail",children:[Object(ee.jsxs)("div",{className:"title lock-time flex jcsb aic",children:[Object(ee.jsxs)("div",{children:[b.a.get("farm.lock_asset_duration_left"),!H&&Object(ee.jsx)("span",{className:"c-5915e1 cp ml-8",onClick:function(e){U(!0),D(!1),y("")},children:b.a.get("farm.default")})]}),!H&&Object(ee.jsx)("div",{children:Object(ee.jsxs)(De.a.Group,{onChange:function(e){return t=e.target.value,y(),E(),p(-2),k(-2),D(!1),void ne(t);var t},defaultValue:se,children:[Object(ee.jsx)(De.a,{value:"month",children:Object(ee.jsx)(u.a,{title:b.a.get("farm.text_49"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover']",children:b.a.get("farm.by_month")})}),Object(ee.jsx)(De.a,{value:"day",children:b.a.get("farm.by_day")})]})})]}),H&&Object(ee.jsxs)("div",{className:"detail ",children:[Object(ee.jsx)("span",{className:"amount",children:Object(W.t)(ge/je,{cutZero:!0})}),Object(ee.jsx)("span",{className:"token",children:b.a.get("farm.extend_week2")}),H&&Object(ee.jsx)("img",{className:"cp edit-icon",src:Re,onClick:function(e){return t=!1,y(),E(),p(-2),k(-2),D(!1),void U(t);var t},alt:""})]}),!H&&Object(ee.jsx)("div",{className:"detail",children:Object(ee.jsxs)("div",{className:"lc-date mt-10",children:["month"===se&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{className:"mt-20 lm-date jcsb",children:[Object(ee.jsxs)("span",{className:1===x?"current":"",onClick:function(){return Xe(1)},children:["1 ",b.a.get("farm.suffix_month")]}),Object(ee.jsxs)("span",{className:6===x?"current":"",onClick:function(){return Xe(6)},children:["6 ",b.a.get("farm.suffix_month")]}),Object(ee.jsxs)("span",{className:12===x?"current":"",onClick:function(){return Xe(12)},children:["12 ",b.a.get("farm.suffix_month")]}),Object(ee.jsxs)("span",{className:24===x?"current":"",onClick:function(){return Xe(24)},children:["24 ",b.a.get("farm.suffix_month")]}),Object(ee.jsxs)("span",{className:36===x?"current":"",onClick:function(){return Xe(36)},children:["36 ",b.a.get("farm.suffix_month")]})]}),Object(ee.jsx)("div",{className:"lm-date jcsb",children:Object(ee.jsx)("span",{className:"".concat(-1===x?"current last":"last"," ").concat(C?"errorWeek":""),onClick:function(e){return Xe(-1)},children:Object(ee.jsx)(Y.a,{value:w,onChange:function(e){return Ge(e.target.value)},placeholder:b.a.get("farm.define_myself"),suffix:b.a.get("farm.suffix_input_month")})})})]}),"day"===se&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{className:"mt-20 lm-date jcsb",children:[Object(ee.jsxs)("span",{className:30===g?"current":"",onClick:function(){return Xe(30)},children:["30 ",b.a.get("farm.suffix_day")]}),Object(ee.jsxs)("span",{className:60===g?"current":"",onClick:function(){return Xe(60)},children:["60 ",b.a.get("farm.suffix_day")]}),Object(ee.jsxs)("span",{className:90===g?"current":"",onClick:function(){return Xe(90)},children:["90 ",b.a.get("farm.suffix_day")]}),Object(ee.jsxs)("span",{className:120===g?"current":"",onClick:function(){return Xe(120)},children:["120 ",b.a.get("farm.suffix_day")]}),Object(ee.jsxs)("span",{className:150===g?"current":"",onClick:function(){return Xe(150)},children:["150 ",b.a.get("farm.suffix_day")]})]}),Object(ee.jsx)("div",{className:"lm-date jcsb",children:Object(ee.jsx)("span",{className:"".concat(-1===g?"current last":"last"," ").concat(C?"errorWeek":""),onClick:function(e){return Xe(-1)},children:Object(ee.jsx)(Y.a,{value:w,onChange:function(e){return Ge(e.target.value)},placeholder:b.a.get("farm.define_myself"),suffix:b.a.get("farm.suffix_input_day")})})})]}),C&&Object(ee.jsx)("div",{className:"error",children:"month"===se?1===T?b.a.getHTML("farm.text_9",{max_lock_duration:we.a.maxLockDuration}):b.a.getHTML("farm.text_10",{min_lock_duration:we.a.minLockDuration}):1===T?b.a.getHTML("farm.text_9_day",{max_lock_duration_d:we.a.maxLockDaysDuration}):b.a.getHTML("farm.text_10_day",{min_lock_duration_d:we.a.minLockDaysDuration})})]})})]}),Object(ee.jsx)("div",{className:"lock-overview mt-32",children:b.a.get("farm.lock_overview")}),Object(ee.jsxs)("div",{className:"overview-content",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{children:b.a.get("farm.lock_amount")}),Object(ee.jsx)("div",{children:Be?Object(ee.jsx)("span",{className:"old-data",children:"--"}):Object(ee.jsx)("span",{className:"old-data",children:Object(W.t)(Object(W.a)(fe).minus(Object(W.a)(Pe)),{dp:ie[d].showDp,cutZero:!0,miniText:ie[d].miniText})})})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"flex jcfe aic",children:[b.a.get("farm.lock_duration"),Object(ee.jsx)(u.a,{title:b.a.getHTML("farm.text_11"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(ee.jsx)("div",{children:Ve?Object(ee.jsx)("span",{className:"old-data",children:"--"}):Object(ee.jsxs)("span",{className:"old-data",children:[B," ","month"===se?b.a.get("farm.month_unit"):b.a.get("farm.extend_day")]})})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"flex jcfe aic",children:["APY",Object(ee.jsx)(u.a,{title:Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("p",{children:b.a.get("farm.text_12")}),Object(ee.jsx)("p",{children:b.a.get("farm.text_13")})]}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(ee.jsx)("div",{children:Ve?Object(ee.jsx)("span",{className:"old-data",children:"--"}):Object(ee.jsx)("span",{className:"new-data",children:Object(ee.jsx)(Te,{speedRate:$,data:be[d]})})})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{children:[b.a.get("farm.unlock_time"),Object(ee.jsx)(u.a,{title:b.a.get("farm.unlock_time_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(ee.jsx)("div",{children:Object(ee.jsx)("span",{className:"old-data",children:K})})]})]}),Object(ee.jsxs)("div",{className:"warning",children:[Object(ee.jsxs)("div",{className:"flex aic warning-title ",children:[Object(ee.jsx)("img",{src:Ae,alt:""}),Object(ee.jsx)("span",{children:b.a.get("farm.note")})]}),Object(ee.jsx)("div",{className:"warning-content",children:b.a.get("farm.text_33")})]}),Object(ee.jsx)("div",{className:"flex jcc",children:Object(ee.jsx)("button",{className:"common-btn lock-common-btn",disabled:Be||Ve,onClick:ze,children:!Object(W.a)(Pe).gt(0)||Object(W.a)(Pe).gt(fe)?b.a.get("farm.valid_amount"):b.a.get("farm.unlock_asset_extend")})})]})]})})})}})},Fe=a(28),qe=function(e){var t=Object(n.d)((function(){return V.a.network})),a=Object(n.d)((function(){return V.a.system})),c=Object(n.d)((function(){return V.a.farmStore})),r=t.modalShow,o=t.closeModal,d=t.poolId,m=(t.stakeVersion,Object(s.useState)(-2)),O=Object(j.a)(m,2),x=O[0],p=O[1],f=Object(s.useState)(-2),h=Object(j.a)(f,2),g=h[0],k=h[1],v=Object(s.useState)("--"),N=Object(j.a)(v,2),w=N[0],y=N[1],S=Object(s.useState)(""),_=Object(j.a)(S,2),C=_[0],D=_[1],A=Object(s.useState)("--"),L=Object(j.a)(A,2),T=L[0],M=L[1],I=Object(s.useState)("--"),P=Object(j.a)(I,2),H=P[0],U=P[1],F=Object(s.useState)(!1),q=Object(j.a)(F,2),B=q[0],E=q[1],z=Object(s.useState)(1),Z=Object(j.a)(z,2),K=Z[0],X=Z[1],G=Object(s.useState)("--"),J=Object(j.a)(G,2),$=J[0],te=J[1],ae=Object(s.useState)("--"),ce=Object(j.a)(ae,2),se=ce[0],ne=ce[1],re=Object(s.useState)("--"),le=Object(j.a)(re,2),ie=le[0],oe=le[1],je=Object(s.useState)("month"),de=Object(j.a)(je,2),be=de[0],me=de[1],ue=Object(s.useState)(!1),xe=Object(j.a)(ue,2),pe=(xe[0],xe[1],we.a.farmPools),fe=we.a.kRate,he=we.a.monthTime,ge=we.a.dayTime,ke=!1,ve=c.farmData,ye=ve[d],_e=ye.symbol,Ce=ye.allowance,Ae=ye.token,Me=ye.stakedBalanceNew,Ie=ye.remainingTime,Pe=ye.lockDuration,He=ye.multiple,Ye=B||x<0&&!C&&"month"===be||g<0&&!C&&"day"===be,Re=function(){o()},Ue=function(e,t){if("month"===t){p(e),-1===e&&(console.log(C),C||E(!1),console.log(C,222),y(C)),y(e);var a=Object(W.t)(Pe/he),c=Object(W.t)(Number(e)+Number(a));-1!==e&&e<we.a.minLockDuration?(E(!0),X(2),D("")):-1!==e&&c>we.a.maxLockDuration?(E(!0),X(1),D("")):-1!==e&&(E(!1),D(""))}if("day"===t){k(e),-1===e&&(C||E(!1),y(C)),y(e);var s=Pe/ge,n=Object(W.t)(Number(e)+Number(s));-1!==e&&e<we.a.minLockDaysDuration?(E(!0),X(2),D("")):-1!==e&&n>we.a.maxLockDaysDuration?(E(!0),X(1),D("")):-1!==e&&(E(!1),D(""))}},Fe=function(e){var t=e.replace(/^[^1-9]+|[^0-9]/g,"");if(D(t),"month"===be){var a=Object(W.t)(Pe/he),c=Object(W.a)(Number(t)+Number(a))._toFixed(2,1);t<we.a.minLockDuration&&t?(E(!0),X(2)):c>we.a.maxLockDuration?(E(!0),X(1)):E(!1)}else if("day"===be){var s=Pe/ge,n=Object(W.a)(Number(t)+Number(s))._toFixed(2,1);t<we.a.minLockDaysDuration&&t?(E(!0),X(2)):n>we.a.maxLockDaysDuration?(E(!0),X(1)):E(!1)}};Object(s.useEffect)((function(){qe()}),[x,w,C,be]);var qe=function(){if(Ye)M("--"),U("--");else{var e=-1===x||-1===g?C:w;if("month"===be){var t=Object(W.t)(Pe/he),a=Object(W.a)(Number(e)+Number(t))._toFixed(2,1);if(oe(a),e<we.a.minLockDuration&&e)E(!0),X(2),M("--"),U("--");else if(a>we.a.maxLockDuration)E(!0),X(1),M("--"),U("--");else{E(!1);var c=1e3*parseInt(Ie);M(Oe()(c).format("YYYY-MM-DD HH:mm"));var s=Number(c)+Number(e*he*1e3);U(Oe()(s).format("YYYY-MM-DD HH:mm")),ne(He),te(1+fe*a*30)}}else if("day"===be){var n=Pe/ge,r=Object(W.a)(Number(e)+Number(n))._toFixed(2,1);if(oe(r),e<we.a.minLockDaysDuration&&e)E(!0),X(2),M("--"),U("--");else if(r>we.a.maxLockDaysDuration)E(!0),X(1),M("--"),U("--");else{E(!1);var l=1e3*parseInt(Ie);M(Oe()(l).format("YYYY-MM-DD HH:mm"));var i=Number(l)+Number(e*ge*1e3);U(Oe()(i).format("YYYY-MM-DD HH:mm")),ne(He),te(1+fe*r)}}}},Be=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Ce.lt(Object(W.bb)(Me))||ke){e.next=10;break}return t={action:"approve",title:"deposit.approve_token",obj:{value:_e},continuous:!0},e.next=6,a.toApproveLP(Ae,pe[d].lpStaker,t);case 6:e.sent&&(ke=!0,Ve()),e.next=11;break;case 10:Ve();case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){var s,n,r,i;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={title:"actions.stake_lp",obj:{value:Object(W.t)(Object(W.bb)(Me)),symbol:_e}},"",n=-1===x||-1===g?C:w,r="month"===be?n*he:n*ge,i=we.a.flexibleKeys.includes(pe[d].id)?"depositLPFarmNoflexible":"depositLPFarm",e.next=8,a[i](pe[d].lpStaker,t.defaultAccount,0,r,s);case 8:e.sent&&(o(),setTimeout((function(){c.updateData(d)}),5e3)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsx)(n.a,{children:function(){return Object(ee.jsxs)(Ne.a,{visible:"Sun3ExtendTimeModal"===r,title:b.a.get("farm.extened"),width:430,zIndex:999,footer:null,className:"new-lock-modal lock-modal",maskClosable:!1,onCancel:Re,closeIcon:Object(ee.jsx)("img",{src:Se.a,alt:""}),wrapClassName:Object(R.a)(window.navigator).any?"":"vertical-center-modal",children:[Object(ee.jsxs)("div",{className:"unlock-ele",children:[Object(ee.jsx)("div",{className:"title",children:b.a.get("farm.amount_locked")}),Object(ee.jsxs)("div",{className:"detail",children:[Object(ee.jsx)("span",{className:"amount",children:Object(W.t)(Me,{dp:18,cutZero:18})}),Object(ee.jsx)("span",{className:"token",children:_e})]})]}),Object(ee.jsxs)("div",{className:"lock-extend-content",children:[Object(ee.jsxs)("div",{className:"lock-time flex aic jcsb",children:[Object(ee.jsx)("div",{children:b.a.get("farm.extend_for")}),Object(ee.jsx)("div",{children:Object(ee.jsxs)(De.a.Group,{onChange:function(e){return t=e.target.value,D(),p(-2),k(-2),E(!1),void me(t);var t},defaultValue:be,children:[Object(ee.jsx)(De.a,{value:"month",children:Object(ee.jsx)(u.a,{title:b.a.get("farm.text_49"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover']",children:b.a.get("farm.by_month")})}),Object(ee.jsx)(De.a,{value:"day",children:b.a.get("farm.by_day")})]})})]}),Object(ee.jsxs)("div",{className:"lc-date mt-10",children:["month"===be&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{className:"mt-20 lm-date jcsb",children:[Object(ee.jsxs)("span",{className:1===x?"current":"",onClick:function(){return Ue(1,"month")},children:["1 ",b.a.get("farm.suffix_month")]}),Object(ee.jsxs)("span",{className:6===x?"current":"",onClick:function(){return Ue(6,"month")},children:["6 ",b.a.get("farm.suffix_month")]}),Object(ee.jsxs)("span",{className:12===x?"current":"",onClick:function(){return Ue(12,"month")},children:["12 ",b.a.get("farm.suffix_month")]}),Object(ee.jsxs)("span",{className:24===x?"current":"",onClick:function(){return Ue(24,"month")},children:["24 ",b.a.get("farm.suffix_month")]}),Object(ee.jsxs)("span",{className:36===x?"current":"",onClick:function(){return Ue(36,"month")},children:["36 ",b.a.get("farm.suffix_month")]})]}),Object(ee.jsx)("div",{className:"lm-date jcsb",children:Object(ee.jsx)("span",{className:"".concat(-1===x?"current last":"last"," ").concat(B?"errorWeek":""),onClick:function(e){return Ue(-1,"month")},children:Object(ee.jsx)(Y.a,{value:C,onChange:function(e){return Fe(e.target.value)},placeholder:b.a.get("farm.define_myself"),suffix:b.a.get("farm.suffix_input_month")})})})]}),"day"===be&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{className:"mt-20 lm-date jcsb",children:[Object(ee.jsxs)("span",{className:30===g?"current":"",onClick:function(){return Ue(30,"day")},children:["30 ",b.a.get("farm.suffix_day")]}),Object(ee.jsxs)("span",{className:60===g?"current":"",onClick:function(){return Ue(60,"day")},children:["60 ",b.a.get("farm.suffix_day")]}),Object(ee.jsxs)("span",{className:90===g?"current":"",onClick:function(){return Ue(90,"day")},children:["90 ",b.a.get("farm.suffix_day")]}),Object(ee.jsxs)("span",{className:120===g?"current":"",onClick:function(){return Ue(120,"day")},children:["120 ",b.a.get("farm.suffix_day")]}),Object(ee.jsxs)("span",{className:150===g?"current":"",onClick:function(){return Ue(150,"day")},children:["150 ",b.a.get("farm.suffix_day")]})]}),Object(ee.jsx)("div",{className:"lm-date jcsb",children:Object(ee.jsx)("span",{className:"".concat(-1===g?"current last":"last"," ").concat(B?"errorWeek":""),onClick:function(e){return Ue(-1,"day")},children:Object(ee.jsx)(Y.a,{value:C,onChange:function(e){return Fe(e.target.value)},placeholder:b.a.get("farm.define_myself"),suffix:b.a.get("farm.suffix_input_day")})})})]}),B&&Object(ee.jsx)("div",{className:"error",children:"month"===be?1===K?b.a.getHTML("farm.extend_warning",{max_lock_duration:we.a.maxLockDuration,extend:-1===x?Object(W.t)(Object(W.a)(C).plus(Pe/he),{cutZero:!0}):Object(W.t)(Object(W.a)(w).plus(Pe/he),{cutZero:!0})}):b.a.getHTML("farm.text_10",{min_lock_duration:we.a.minLockDuration}):1===K?b.a.getHTML("farm.extend_warning_day",{max_lock_duration_d:we.a.maxLockDaysDuration,extend_d:-1===g?Object(W.t)(Object(W.a)(C).plus(Pe/ge),{cutZero:!0}):Object(W.t)(Object(W.a)(w).plus(Pe/ge),{cutZero:!0})}):b.a.getHTML("farm.extend_warning_min_day",{min_lock_duration_d:we.a.minLockDaysDuration})})]}),Object(ee.jsx)("div",{className:"lock-overview mt-30",children:b.a.get("farm.lock_overview")}),Object(ee.jsxs)("div",{className:"overview-content",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{children:b.a.get("farm.lock_amount")}),Object(ee.jsx)("div",{children:Object(ee.jsx)("span",{className:"old-data",children:Object(W.t)(Me,{dp:pe[d].showDp,cutZero:!0,miniText:pe[d].miniText})})})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"flex jcfe aic",children:[b.a.get("farm.lock_duration"),Object(ee.jsx)(u.a,{title:b.a.getHTML("farm.text_11"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(ee.jsx)("div",{children:Ye?Object(ee.jsx)("span",{className:"old-data",children:"--"}):"month"===be?Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("span",{className:"old-data",children:[Object(W.t)(Pe/he,{cutZero:!0})," ",b.a.get("farm.month_unit"),Object(ee.jsx)("img",{src:Le,alt:""})]}),Object(ee.jsxs)("span",{className:"new-data c-5915e1"+(B?"red":""),children:[ie," ",b.a.get("farm.month_unit")]})]}):Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("span",{className:"old-data",children:[Object(W.t)(Pe/ge,{cutZero:!0})," ",b.a.get("farm.extend_day"),Object(ee.jsx)("img",{src:Le,alt:""})]}),Object(ee.jsxs)("span",{className:"new-data c-5915e1"+(B?"red":""),children:[ie," ",b.a.get("farm.extend_day")]})]})})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"flex jcfe aic",children:["APY",Object(ee.jsx)(u.a,{title:Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("p",{children:b.a.get("farm.text_12")}),Object(ee.jsx)("p",{children:b.a.get("farm.text_13")})]}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(ee.jsx)("div",{children:Ye?Object(ee.jsx)("span",{className:"old-data",children:"--"}):Object(ee.jsx)(Te,{speedRate:$,oldSpeedRate:se,data:ve[d]})})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{children:b.a.get("farm.old_unlock_time")}),Object(ee.jsx)("div",{children:Object(ee.jsx)("span",{className:"old-data",children:T})})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{children:[b.a.get("farm.new_unlock_time"),Object(ee.jsx)(u.a,{title:b.a.get("farm.unlock_time_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(ee.jsx)("div",{children:Object(ee.jsx)("span",{className:"--"===H?"old-data":"new-data",children:H})})]})]}),Object(ee.jsx)("div",{className:"flex jcc",children:Object(ee.jsx)("button",{className:"common-btn mt-20 lock-common-btn",disabled:Ye,onClick:Be,children:b.a.get("farm.confirm_extend")})})]})]})}})},Be=function(e){var t=Object(n.d)((function(){return V.a.system})),a=Object(n.d)((function(){return V.a.network})),c=Object(n.d)((function(){return V.a.farmStore})),r=a.modalShow,o=a.closeModal,d=a.poolId,m=Object(s.useState)(-2),O=Object(j.a)(m,2),x=O[0],p=O[1],f=Object(s.useState)(-2),h=Object(j.a)(f,2),g=h[0],k=h[1],v=Object(s.useState)(""),N=Object(j.a)(v,2),w=N[0],y=N[1],S=Object(s.useState)(!1),_=Object(j.a)(S,2),C=_[0],D=_[1],A=Object(s.useState)(1),L=Object(j.a)(A,2),T=L[0],M=L[1],I=Object(s.useState)(!0),P=Object(j.a)(I,2),H=P[0],U=P[1],F=Object(s.useState)(""),q=Object(j.a)(F,2),B=q[0],E=q[1],z=Object(s.useState)(""),Z=Object(j.a)(z,2),K=Z[0],X=Z[1],G=Object(s.useState)(""),J=Object(j.a)(G,2),$=J[0],te=J[1],ae=Object(s.useState)(!1),ce=Object(j.a)(ae,2),se=(ce[0],ce[1],we.a.farmPools),ne=we.a.kRate,re=we.a.monthTime,le=we.a.dayTime,ie=c.farmData,oe=ie[d],je=(oe.symbol,oe.precision,oe.decimal),de=oe.stakedBalanceNew,be=oe.lockRewards,me=oe.lockDuration,ue=oe.remainingTime,xe=oe.governanceRewards,pe=Object(s.useState)(""),fe=Object(j.a)(pe,2),he=fe[0],ge=(fe[1],Object(s.useState)("")),ke=Object(j.a)(ge,2),ve=(ke[0],ke[1]),ye=Object(s.useState)("month"),_e=Object(j.a)(ye,2),Ce=_e[0],Le=_e[1],Me=C||!w&&!B&&!H;Object(s.useEffect)((function(){ve(Object(W.t)(de,{dp:je,cutZero:!0}))}),[ie[d]]);var Ie=function(){o()},Pe=function(e,t){"month"===t?(p(e),-1===e?E(w):e<we.a.minLockDuration?(D(!0),M(2),y("")):e>we.a.maxLockDuration?(D(!0),M(1),y("")):(D(!1),y("")),E(e)):"day"===t&&(k(e),-1===e?E(w):e<we.a.minLockDaysDuration?(D(!0),M(2),y("")):e>we.a.maxLockDaysDuration?(D(!0),M(1),y("")):(D(!1),y("")),E(e))},He=function(e){var t=e.replace(/^[^1-9]+|[^0-9]/g,"");y(t),"month"===Ce?t<we.a.minLockDuration&&t?(D(!0),M(2)):t>we.a.maxLockDuration?(D(!0),M(1)):D(!1):"day"===Ce&&(t<we.a.minLockDaysDuration&&t?(D(!0),M(2)):t>we.a.maxLockDaysDuration?(D(!0),M(1)):D(!1))};Object(s.useEffect)((function(){Ye()}),[H,he,w,B,Ce]);var Ye=function(){if(Me)X("--");else if(H){E(Object(W.t)(me/re)),te(1+ne*(me/re)*30);var e=1e3*parseInt(ue);X(Oe()(e).format("YYYY-MM-DD HH:mm"))}else{var t=-1===x||-1===g?w:B;if(E(t),"month"===Ce)if(t<we.a.minLockDuration&&t)D(!0),M(2),X("--");else if(t>we.a.maxLockDuration)D(!0),M(1),X("--");else{D(!1);var c=a.nowTime,s=Number(c)+Number(t*re*1e3);X(Oe()(s).format("YYYY-MM-DD HH:mm")),te(1+ne*t*30)}else if("day"===Ce)if(t<we.a.minLockDaysDuration&&t)D(!0),M(2),X("--");else if(t>we.a.maxLockDaysDuration)D(!0),M(1),X("--");else{D(!1);var n=a.nowTime,r=Number(n)+Number(t*le*1e3);X(Oe()(r).format("YYYY-MM-DD HH:mm")),te(1+ne*t)}}},Ue=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){var a,s,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(W.bb)(be).plus(xe).gt(0)){e.next=9;break}return a={title:"actions.claim_lp",obj:{value:Object(W.t)(Object(W.bb)(Object(W.a)(be).plus(xe))),symbol:"USDD"}},"",s="month"===Ce?B*re:B*le,n=we.a.flexibleKeys.includes(se[d].id)?"withdrawLPFarmNoflexible":"withdrawLPFarm",e.next=7,t[n](se[d].lpStaker,0,s,a);case 7:e.sent&&(o(),setTimeout((function(){c.updateData(d)}),5e3));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsx)(n.a,{children:function(){return Object(ee.jsx)(Ne.a,{visible:"Sun3ClaimAndExtendModal"===r,title:b.a.get("farm.claim_extend"),width:430,zIndex:999,footer:null,className:"new-lock-modal lock-modal unlock-modal unlock-claim-modal claim-extend-modal",maskClosable:!1,onCancel:Ie,closeIcon:Object(ee.jsx)("img",{src:Se.a,alt:""}),wrapClassName:Object(R.a)(window.navigator).any?"":"vertical-center-modal",children:Object(ee.jsx)("div",{className:"unlock-content",children:Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{className:"unlock-ele claim-extend-ele",children:[Object(ee.jsxs)("div",{className:"title flex aic",children:[b.a.get("farm.withdraw")," ",Object(ee.jsx)(u.a,{title:b.a.get("farm.text_47"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(ee.jsxs)("div",{className:"detail",children:[Object(ee.jsx)("span",{className:"amount",children:Object(W.t)(Object(W.a)(be).plus(xe),{cutZero:!0,miniText:.01})})," ",Object(ee.jsx)("span",{className:"token",children:"USDD"})]})]}),Object(ee.jsxs)("div",{className:"unlock-ele claim-extend-ele",children:[Object(ee.jsxs)("div",{className:"title lock-time flex jcsb aic",children:[Object(ee.jsxs)("div",{children:[b.a.get("farm.lock_duration_week"),!H&&Object(ee.jsx)("span",{className:"c-5915e1 cp ml-8",onClick:function(e){U(!0),D(!1),y("")},children:b.a.get("farm.default")})]}),!H&&Object(ee.jsx)("div",{children:Object(ee.jsxs)(De.a.Group,{onChange:function(e){return t=e.target.value,y(),E(),p(-2),k(-2),D(!1),void Le(t);var t},defaultValue:Ce,children:[Object(ee.jsx)(De.a,{value:"month",children:Object(ee.jsx)(u.a,{title:b.a.get("farm.text_49"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover']",children:b.a.get("farm.by_month")})}),Object(ee.jsx)(De.a,{value:"day",children:b.a.get("farm.by_day")})]})})]}),H&&Object(ee.jsxs)("div",{className:"detail ",children:[Object(ee.jsx)("span",{className:"amount",children:Object(W.t)(me/re)})," ",Object(ee.jsx)("span",{className:"token",children:b.a.get("farm.extend_week2")}),H&&Object(ee.jsx)("img",{className:"cp edit-icon",src:Re,onClick:function(e){return t=!1,y(),E(),p(-2),k(-2),D(!1),void U(t);var t},alt:""})]}),!H&&Object(ee.jsx)("div",{className:"detail",children:Object(ee.jsxs)("div",{className:"lc-date mt-10",children:["month"===Ce&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{className:"mt-20 lm-date jcsb",children:[Object(ee.jsxs)("span",{className:1===x?"current":"",onClick:function(){return Pe(1,"month")},children:["1 ",b.a.get("farm.suffix_month")]}),Object(ee.jsxs)("span",{className:6===x?"current":"",onClick:function(){return Pe(6,"month")},children:["6 ",b.a.get("farm.suffix_month")]}),Object(ee.jsxs)("span",{className:12===x?"current":"",onClick:function(){return Pe(12,"month")},children:["12 ",b.a.get("farm.suffix_month")]}),Object(ee.jsxs)("span",{className:24===x?"current":"",onClick:function(){return Pe(24,"month")},children:["24 ",b.a.get("farm.suffix_month")]}),Object(ee.jsxs)("span",{className:36===x?"current":"",onClick:function(){return Pe(36,"month")},children:["36 ",b.a.get("farm.suffix_month")]})]}),Object(ee.jsx)("div",{className:"lm-date jcsb",children:Object(ee.jsx)("span",{className:"".concat(-1===x?"current last":"last"," ").concat(C?"errorWeek":""),onClick:function(e){return Pe(-1,"month")},children:Object(ee.jsx)(Y.a,{value:w,onChange:function(e){return He(e.target.value)},placeholder:b.a.get("farm.define_myself"),suffix:b.a.get("farm.suffix_input_month")})})})]}),"day"===Ce&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{className:"mt-20 lm-date jcsb",children:[Object(ee.jsxs)("span",{className:30===g?"current":"",onClick:function(){return Pe(30,"day")},children:["30 ",b.a.get("farm.suffix_day")]}),Object(ee.jsxs)("span",{className:60===g?"current":"",onClick:function(){return Pe(60,"day")},children:["60 ",b.a.get("farm.suffix_day")]}),Object(ee.jsxs)("span",{className:90===g?"current":"",onClick:function(){return Pe(90,"day")},children:["90 ",b.a.get("farm.suffix_day")]}),Object(ee.jsxs)("span",{className:120===g?"current":"",onClick:function(){return Pe(120,"day")},children:["120 ",b.a.get("farm.suffix_day")]}),Object(ee.jsxs)("span",{className:150===g?"current":"",onClick:function(){return Pe(150,"day")},children:["150 ",b.a.get("farm.suffix_day")]})]}),Object(ee.jsx)("div",{className:"lm-date jcsb",children:Object(ee.jsx)("span",{className:"".concat(-1===g?"current last":"last"," ").concat(C?"errorWeek":""),onClick:function(e){return Pe(-1,"day")},children:Object(ee.jsx)(Y.a,{value:w,onChange:function(e){return He(e.target.value)},placeholder:b.a.get("farm.define_myself"),suffix:b.a.get("farm.suffix_input_day")})})})]}),C&&Object(ee.jsx)("div",{className:"error",children:"month"===Ce?1===T?b.a.getHTML("farm.text_9",{max_lock_duration:we.a.maxLockDuration}):b.a.getHTML("farm.text_10",{min_lock_duration:we.a.minLockDuration}):1===T?b.a.getHTML("farm.text_9_day",{max_lock_duration_d:we.a.maxLockDaysDuration}):b.a.getHTML("farm.text_10_day",{min_lock_duration_d:we.a.minLockDaysDuration})})]})})]}),Object(ee.jsx)("div",{className:"lock-overview mt-32",children:b.a.get("farm.lock_overview")}),Object(ee.jsxs)("div",{className:"overview-content",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{children:b.a.get("farm.lock_amount")}),Object(ee.jsx)("div",{children:Object(ee.jsx)("span",{className:"old-data",children:Object(W.t)(de,{dp:se[d].showDp,cutZero:!0,miniText:se[d].miniText})})})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"flex jcfe aic",children:[b.a.get("farm.lock_duration"),Object(ee.jsx)(u.a,{title:b.a.getHTML("farm.text_11"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(ee.jsx)("div",{children:Me?Object(ee.jsx)("span",{className:"old-data",children:"--"}):Object(ee.jsxs)("span",{className:"old-data",children:[B," ","month"===Ce?b.a.get("farm.month_unit"):b.a.get("farm.extend_day")]})})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"flex jcfe aic",children:["APY",Object(ee.jsx)(u.a,{title:Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("p",{children:b.a.get("farm.text_12")}),Object(ee.jsx)("p",{children:b.a.get("farm.text_13")})]}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(ee.jsx)("div",{children:Me?Object(ee.jsx)("span",{className:"old-data",children:"--"}):Object(ee.jsx)("span",{className:"old-data",children:Object(ee.jsx)(Te,{speedRate:$,data:ie[d]})})})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{children:[b.a.get("farm.unlock_time"),Object(ee.jsx)(u.a,{title:b.a.get("farm.unlock_time_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(ee.jsx)("div",{children:Object(ee.jsx)("span",{className:"old-data",children:K})})]})]}),Object(ee.jsxs)("div",{className:"warning",children:[Object(ee.jsxs)("div",{className:"flex aic warning-title ",children:[Object(ee.jsx)("img",{src:Ae,alt:""}),Object(ee.jsx)("span",{children:b.a.get("farm.note")})]}),Object(ee.jsxs)("div",{className:"warning-content",children:[b.a.get("farm.text_34")," ",b.a.get("farm.text_35"),Object(ee.jsx)("span",{onClick:function(){a.setData({modalShow:"Sun3UnlockToClaimModal",poolId:d})},style:{color:"#5915E1",cursor:"pointer"},children:b.a.get("farm.text_36")})]})]}),Object(ee.jsx)("div",{className:"flex jcc",children:Object(ee.jsx)("button",{className:"common-btn lock-common-btn",disabled:Me,onClick:Ue,children:b.a.get("farm.claim_extend")})})]})})})}})},Ve=function(e){var t=Object(n.d)((function(){return V.a.system})),a=Object(n.d)((function(){return V.a.network})),c=Object(n.d)((function(){return V.a.farmStore})),s=a.modalShow,r=a.closeModal,o=a.poolId,j=c.farmData[o],d=(j.symbol,j.id,j.tokenAddress,j.tokenAddress2,j.version,j.lpStaker),m=(window.localStorage.getItem("lang")||b.a.options.currentLocale,function(){r()}),u=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){var s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={title:"farm.emergency_withdrawal"},"",e.next=4,t.emergencyWithdraw(d,a.defaultAccount,s);case 4:e.sent&&(r(),setTimeout((function(){c.updateData(o)}),5e3));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ee.jsx)(n.a,{children:function(){return Object(ee.jsx)(Ne.a,{visible:"Sun3EmergencyWithdrawModal"===s,title:b.a.get("farm.emergency_withdrawal"),width:430,zIndex:999,footer:null,className:"new-lock-modal lock-modal unlock-claim-modal emer-modal",maskClosable:!1,onCancel:m,closeIcon:Object(ee.jsx)("img",{src:Se.a,alt:""}),centered:!0,children:Object(ee.jsxs)("div",{className:"",children:[Object(ee.jsxs)("div",{className:"emer-text",children:[Object(ee.jsx)("div",{className:"title",children:b.a.get("farm.withdraw_amount")}),Object(ee.jsxs)("div",{className:"detail",children:[Object(ee.jsx)("span",{className:"claim-amount",children:Object(W.t)(j.stakedBalanceNew,{dp:we.a.farmPools[o].showDp,cutZero:!0,miniText:we.a.farmPools[o].miniText})})," ",j.symbol]})]}),Object(ee.jsxs)("div",{className:"emer-text",children:[Object(ee.jsx)("div",{className:"title",children:b.a.get("farm.lock_rewards")}),Object(ee.jsxs)("div",{className:"detail",children:[Object(ee.jsx)("span",{className:"lock-rewards",children:Object(W.t)(j.lockRewards,{dp:we.a.farmPools[o].showDp,cutZero:!0,miniText:.01})})," ","USDD"]})]}),Object(ee.jsxs)("div",{className:"warning emer-warning",children:[Object(ee.jsx)("img",{src:Ae,alt:""}),b.a.get("farm.withdraw_warn")]}),Object(ee.jsx)("div",{className:"flex jcc",children:Object(ee.jsx)("button",{className:"common-btn emer-btn",onClick:u,children:b.a.get("farm.withdraw_btn_text")})})]})})}})},Ee=function(e){return Object(ee.jsx)(n.a,{children:function(){return Object(ee.jsxs)(ee.Fragment,{children:["Sun3AddLiqModal"===e.modalShow&&Object(ee.jsx)(_e,{cb:e.cb}),"Sun3RemoveLiqModal"===e.modalShow&&Object(ee.jsx)(Ce,{cb:e.cb}),"Sun3LockModal"===e.modalShow&&Object(ee.jsx)(Me,{cb:e.cb}),"Sun3LockExtendModal"===e.modalShow&&Object(ee.jsx)(Pe,{cb:e.cb}),"Sun3AutoExtendModal"===e.modalShow&&Object(ee.jsx)(He,{cb:e.cb}),"Sun3DiffModal"===e.modalShow&&Object(ee.jsx)(Ye,{cb:e.cb}),"Sun3UnlockToClaimModal"===e.modalShow&&Object(ee.jsx)(Ue,{cb:e.cb}),"Sun3ExtendTimeModal"===e.modalShow&&Object(ee.jsx)(qe,{cb:e.cb}),"Sun3ClaimAndExtendModal"===e.modalShow&&Object(ee.jsx)(Be,{cb:e.cb}),"Sun3EmergencyWithdrawModal"===e.modalShow&&Object(ee.jsx)(Ve,{cb:e.cb})]})}})},We=a.p+"static/media/newHot.96a01f83.svg",ze=a.p+"static/media/celebrate.a6713eb7.svg",Qe=a(396),Ze=a(393),Ke=a(398),Xe=a(400),Ge=a(394),Je=a(401),$e=a(420),et=a(397),tt=a(399),at=a(395),ct=a(419),st=a(427),nt=a(431),rt=a(425),lt=a(422),it=a(424),ot=function(e){var t=Object(n.d)((function(){return V.a.network})),a=Object(n.d)((function(){return V.a.farmStore})),c=Object(s.useState)((function(){var c,s=null===(c=a.farmData[e.id])||void 0===c?void 0:c.remainingTime;return parseInt(s)-parseInt(t.nowTime/1e3)})),r=Object(j.a)(c,2),l=r[0],i=r[1];!function(e,t){var a=Object(s.useRef)();Object(s.useEffect)((function(){a.current=e}),[e]),Object(s.useEffect)((function(){function e(){a.current()}if(null!==t){var c=setInterval(e,t);return function(){return clearInterval(c)}}}),[t])}((function(){var c=a.farmData[e.id],s=null===c||void 0===c?void 0:c.remainingTime,n=parseInt(s),r=parseInt(t.nowTime/1e3),l=n-r>0?n-r:0;0==l&&a.updateData(e.id),i(l)}),1e3);return Object(ee.jsx)("span",{className:"flex aic jcs",children:function(e){if(e>=0){if(e>=we.a.monthTime){var t=Object(W.t)(e/we.a.monthTime);return Object(ee.jsxs)("div",{className:"flex aic jcs",children:[t," ",b.a.get("farm.countdown_month")," ",Object(ee.jsx)(u.a,{title:b.a.get("farm.text_49"),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(ee.jsx)("img",{className:"tooltip-img",src:Q.a,alt:""})})]})}if(e>=86400){var a=Object(W.t)(e/86400);return Object(ee.jsxs)(ee.Fragment,{children:[a," ",b.a.get("farm.countdown_days")]})}var c=1e3*e;return Object(ee.jsxs)(ee.Fragment,{children:[Oe.a.duration(c).hours(),":",String(Oe.a.duration(c).minutes()).padStart(2,"0"),":",String(Oe.a.duration(c).seconds()).padStart(2,"0")]})}return""}(l)})};var jt=a(1163),dt=function(e){var t=Object(R.a)(window.navigator).any,a=Object(n.d)((function(){return V.a.network})),c=Object(n.d)((function(){return V.a.system})),o=Object(n.d)((function(){return V.a.farmStore})),d=E.a.tokens,m=a.setData,O=a.isConnected,x=e.data,p=window.localStorage.getItem("lang"),f=e.id,h=Object(s.useState)(1),g=Object(j.a)(h,2),k=g[0],v=g[1],N=Object(s.useState)(""),w=Object(j.a)(N,2),y=w[0],S=w[1],_=null;Object(s.useEffect)((function(){Object(W.a)(x.stakedBalanceNew).isNaN()||Object(W.a)(x.stakedBalanceNew).lte(0)?v(1):Object(W.a)(x.stakedBalanceNew).gt(0)&&0!==x.lockDuration&&x.remainingTime>=a.nowTime/1e3?v(2):Object(W.a)(x.stakedBalanceNew).gt(0)&&0!==x.lockDuration&&x.remainingTime<a.nowTime/1e3?v(3):Object(W.a)(x.stakedBalanceNew).gt(0)&&0===x.lockDuration&&v(4)}),[x.stakedBalanceNew,x.lockDuration,x.remainingTime]);var C=Object(W.a)(x.balance).isNaN(),D=function(){var t=Object(i.a)(Object(l.a)().mark((function t(a,s){var n,r;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("img"!==a.target.tagName.toLowerCase()){t.next=2;break}return t.abrupt("return");case 2:if(O){t.next=5;break}return m({loginModalVisible:!0,loginModalStep:1}),t.abrupt("return");case 5:return n={title:"actions.claim_lp",obj:{value:Object(W.t)(Object(W.a)(x.lockRewards).plus(x.governanceRewards)),symbol:x.gift[0].toUpperCase()}},r=we.a.flexibleKeys.includes(x.id)?"withdrawLPFarmNoflexible":"withdrawLPFarm","",t.next=10,c[r](x.lpStaker,0,0,n);case 10:t.sent&&setTimeout((function(){o.updateData(e.id)}),5e3),Object($.a)({action:$.b.claim,event_category:$.h.farm});case 13:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),A=function(){var t=Object(i.a)(Object(l.a)().mark((function t(){var s,n;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(O){t.next=3;break}return m({loginModalVisible:!0,loginModalStep:1}),t.abrupt("return");case 3:return n={title:"actions.claim_lp",obj:{value:Object(W.t)(x.governanceRewards),symbol:null===(s=x.gift[0])||void 0===s?void 0:s.toUpperCase()}},t.next=6,c.claimGovernanceRewards(x.lpStaker,a.defaultAccount,n);case 6:t.sent&&setTimeout((function(){o.getGovernanceRewradsForSingle(e.id)}),5e3),Object($.a)({action:$.b.claim,event_category:$.h.farm});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=function(){m(O?{modalShow:"Sun3AddLiqModal",poolId:x.farmId}:{loginModalVisible:!0,loginModalStep:1}),Object($.a)({action:$.b.flexible_staking,event_category:$.h.farm})},T=function(){m(O?{modalShow:"Sun3ClaimAndExtendModal",poolId:x.farmId}:{loginModalVisible:!0,loginModalStep:1})},M=function(){m(O?{modalShow:"Sun3EmergencyWithdrawModal",poolId:x.farmId}:{loginModalVisible:!0,loginModalStep:1})},I=function(){m(O?{modalShow:"Sun3LockModal",poolId:x.farmId}:{loginModalVisible:!0,loginModalStep:1}),Object($.a)({action:$.b.fixed_staking,event_category:$.h.farm})},P=function(){m({modalShow:"Sun3ExtendTimeModal",poolId:x.farmId})},H=function(){m({modalShow:"Sun3RemoveLiqModal",poolId:x.farmId})},Y=function(){m({modalShow:"Sun3LockExtendModal",poolId:x.farmId}),Object($.a)({action:$.b.more_staking,event_category:$.h.farm})},U=function(){m({modalShow:"Sun3UnlockToClaimModal",poolId:x.farmId})},F=function(e){try{return e?e.split(" ")[0].split("-"):[]}catch(t){console.log("transferSymbolToToken error")}},q=function(e){return"twopoollpNew"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:se.default,alt:""})}):"twopoollp"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:ce.default,alt:""})}):"thrpoollp"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool3-img",src:Z.default,alt:""})}):"thrpoollpNew"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool3-img",src:ne.default,alt:""})}):"thrsunlp"===e.id?Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("img",{src:K.default,alt:""}),Object(ee.jsx)("img",{src:X.default,alt:""})]}):"usddtrx"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:re.default,alt:""})}):"usdcusdt"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:Qe.default,alt:""})}):"busd2poollp"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:Ze.default,alt:""})}):"usdd2poollp"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:Ke.default,alt:""})}):"usdj2poollp"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:Xe.default,alt:""})}):"tusd2poollp"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:Ge.default,alt:""})}):"usdttusd"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:Je.default,alt:""})}):"busd2Pool_2"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:$e.default,alt:""})}):"usdd2Pool_2"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:et.default,alt:""})}):"usdj2Pool_2"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:tt.default,alt:""})}):"usdc2Pool_2"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:at.default,alt:""})}):"usddusdt"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:le.default,alt:""})}):"bttusdt2"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:ct.default,alt:""})}):"trxusdt"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:st.default,alt:""})}):"winusdt2"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:nt.default,alt:""})}):"sunusdt2"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:rt.default,alt:""})}):"jstusdt2"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:lt.default,alt:""})}):"nftusdt2"===e.id?Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsx)("img",{className:"pool2-img",src:it.default,alt:""})}):e.symbol&&F(e.symbol).length?F(e.symbol).map((function(t){return Object(ee.jsx)("img",{src:2==e.version?z.b[t.toLowerCase()]:z.a[t.toLowerCase()],alt:""},t)})):void Object(z.c)("default")},B=function(e){e.stopPropagation(),a.setData({modalShow:"CalculatorModal",poolId:x.farmId})},G=function(){m(O?{modalShow:"LockModal"}:{loginModalVisible:!0,loginModalStep:1})},J=function(){return Object(ee.jsxs)("div",{className:"liq-title"+([2].includes(k)?" speed-up":""),children:[Object(ee.jsxs)("div",{className:"liq-logo",children:[Object(ee.jsx)("span",{children:q(x)}),Object(ee.jsx)("span",{className:"flex fdc ais",children:Object(ee.jsxs)("span",{className:"c-333 earn-title",children:[Object(ee.jsxs)("span",{children:[Object(ee.jsxs)("div",{children:[x.id&&d[x.id].symbol,d[x.id].lpTokens&&(e=d[x.id].lpTokens,"  ( "+e.join(" + ")+" )")]}),Object(ee.jsx)("div",{children:Object(ee.jsx)("span",{className:"earn-subtitle",children:x.id&&d[x.id].subtitle})})]}),Object(ee.jsxs)("span",{children:[(1===x.version||2===x.version)&&Object(ee.jsx)("span",{className:"liq-version v"+x.version,children:"V"+x.version}),Object(ee.jsx)("span",{className:"flexible-icon",children:b.a.get("farm.flex")}),!we.a.flexibleKeys.includes(x.id)&&Object(ee.jsx)("span",{className:"locked-icon",children:b.a.get("farm.lock")})]})]})})]}),Object(ee.jsx)(ae,{})]});var e},te=function(){var e=x.currentSpeed,t=x.futureSpeed;return a.isConnected&&1!==k?Object(W.a)(e).lt(1.01)&&Object(W.a)(t).lt(1.01)?Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{className:"lock-speed-tip",onClick:function(e){return m({modalShow:"LockModal"})},children:b.a.get("farm.lock_speed_tip1")})," ",b.a.get("farm.lock_speed_tip2")]}):Object(W.a)(t).gt(e)?Object(ee.jsxs)("div",{children:[b.a.get("farm.current_speed_tip"),Object(ee.jsx)("span",{className:"speed-to",children:b.a.getHTML("farm.repeed1",{future_boost:Object(W.a)(t)._toFixed(2,1)})})]}):Object(W.a)(t).lte(e)?Object(ee.jsxs)("div",{children:[b.a.get("farm.current_speed_tip"),Object(ee.jsx)("span",{className:"speed-to",children:b.a.getHTML("farm.repeed2",{future_boost:Object(W.a)(t)._toFixed(2,1)})})]}):void 0:b.a.get("farm.current_speed_tip")},ae=function(){var e=Object(W.a)(x.multiple),t=Object(W.a)(x.currentSpeed);Object(W.a)(x.futureSpeed).toFixed(2);return Object(ee.jsxs)("div",{className:"liq-speed flex",children:[[2].includes(k)&&!we.a.flexibleKeys.includes(x.id)&&Object(ee.jsxs)("div",{className:"speed-basic speed-fix",children:[Object(ee.jsx)(u.a,{title:b.a.getHTML("farm.text_2",{max_boost:we.a.maxBoost}),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(ee.jsx)("img",{className:"tooltip-img",src:Q.a,alt:""})}),Object(ee.jsxs)("span",{className:"ml-4",children:[b.a.get("farm.fixed_speed_up"),": \xa0"]}),Object(ee.jsx)("span",{className:"flex-inline aic ff-hn stake-balance",children:Object(W.a)(x.stakedBalanceNew).gt(0)?Object(W.t)(e,{dp:2}):"--"})]}),Object(ee.jsxs)("div",{className:"speed-basic speed-gov",onClick:G,children:[Object(ee.jsx)("span",{onClick:function(e){e.stopPropagation()},children:Object(ee.jsx)(u.a,{title:te(),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(ee.jsx)("img",{className:"tooltip-img",src:Q.a,alt:""})})}),Object(ee.jsxs)("span",{className:"ml-4",children:[b.a.get("farm.gov_speed_up"),": \xa0"]}),Object(ee.jsxs)("span",{className:"flex-inline aic ff-hn",children:[Object(W.a)(x.stakedBalanceNew).gt(0)?Object(W.t)(t,{dp:2}):"--"," ",Object(ee.jsx)("img",{className:"calculator ml-18",src:be.a,onClick:B,alt:""})]})]})]})},me=function(){var a,c,s,n,r=Object(W.a)(x.lockRewards).times(x.usddPrice).plus(x.stakedBalancePrice);(null===(a=x.gift)||void 0===a?void 0:a.length)>0&&(r=Object(W.a)(r).plus(Object(W.a)(x.governanceRewards).times(x.usddPrice)));var l=x.thisWeekApyV3?Object(W.a)(x.thisWeekApyV3).gte(0)?"".concat(Object(W.s)(Object(W.a)(x.thisWeekApyV3).times(.4)),"%~").concat(Object(W.s)(x.thisWeekApyV3),"%"):"<0.00%":"--",i=(x.extraRewardApy&&(Object(W.a)(x.extraRewardApy).gte(0)&&"".concat(Object(W.s)(x.extraRewardApy),"%")),l);if(!Object(W.a)(x.extraRewardApy).isNaN()&&!Object(W.a)(x.thisWeekApyV3).isNaN()){var o=Object(W.a)(x.extraRewardApy).plus(Object(W.a)(x.thisWeekApyV3).times(.4)),j=Object(W.a)(x.extraRewardApy).plus(x.thisWeekApyV3);i=Object(W.a)(o).gte(0)?"".concat(Object(W.s)(o),"%~").concat(Object(W.s)(j),"%"):"<0.00%"}return Object(ee.jsxs)("div",{className:"liq-info cp"+(3===k?" lock-end-bg":""),onClick:ue,children:[Object(ee.jsxs)("div",{className:"liq-ele",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"flex aic jcs",children:[b.a.get("stakes.my_position"),Object(ee.jsx)(u.a,{title:b.a.get("stakes.total_value"),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(ee.jsx)("img",{src:Q.a,className:"ml-4",alt:""})})]}),Object(ee.jsx)("span",{children:Object(W.t)(r,{dp:0,rm:1,miniText:1,needDolar:!0})})]}),we.a.flexibleKeys.includes(x.id)?Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"flex aic jcs",children:[b.a.get("stake.apy")," ",Object(ee.jsx)(u.a,{title:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=x.thisWeekApyV3?Object(W.a)(x.thisWeekApyV3).gte(0)?"".concat(Object(W.s)(Object(W.a)(x.minGovApy)),"%~").concat(Object(W.s)(x.thisWeekApyV3),"%"):"<0.00%":"--";return Object(ee.jsxs)("div",{className:"apy-summary",children:[Object(ee.jsxs)("div",{children:["USDD ",b.a.get("farm.flex_apy")," :"," ",Object(ee.jsx)("span",{className:"tip-flex-apy",children:Object(W.a)(t).gte(0)?"".concat(Object(W.s)(t),"%"):"<0.00%"})]}),Object(ee.jsxs)("div",{children:["USDD ",b.a.get("farm.gov_apy")," : ",Object(ee.jsx)("span",{className:"tip-gov-apy",children:a})]})]})}(null===x||void 0===x?void 0:x.fixApy,null===x||void 0===x?void 0:x.flexApy),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(ee.jsx)("img",{src:Q.a,className:"ml-4"})})]}),Object(ee.jsx)("span",{className:"c-5915e1",children:i})]}):Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"flex aic jcs",children:[b.a.get("farm.highest_apy")," ",Object(ee.jsx)(u.a,{title:b.a.get("farm.text_1"),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(ee.jsx)("img",{src:Q.a,className:"ml-4",alt:""})})]}),Object(ee.jsx)("span",{className:" c-5915e1 flex aic jcs",children:Object(ee.jsxs)(u.a,{title:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;return Object(ee.jsxs)("div",{className:"apy-summary",children:[!we.a.flexibleKeys.includes(x.id)&&Object(ee.jsxs)("div",{children:["USDD ",b.a.get("farm.fixed_apy")," :"," ",Object(ee.jsx)("span",{className:"tip-fix-apy",children:Object(W.a)(e).gte(0)?"".concat(Object(W.s)(s),"% ~ ").concat(Object(W.s)(e),"%"):"<0.00%"})]}),Object(ee.jsxs)("div",{children:["USDD ",b.a.get("farm.flex_apy")," :"," ",Object(ee.jsx)("span",{className:"tip-flex-apy",children:Object(W.a)(t).gte(0)?"".concat(Object(W.s)(t),"%"):"<0.00%"})]}),Object(ee.jsxs)("div",{children:["USDD ",b.a.get("farm.gov_apy")," :"," ",Object(ee.jsx)("span",{className:"tip-gov-apy",children:Object(W.a)(a).gte(0)?"".concat(Object(W.s)(c),"% ~ ").concat(Object(W.s)(a),"%"):"<0.00%"})]}),!we.a.flexibleKeys.includes(x.id)&&Object(ee.jsxs)("div",{children:[b.a.getHTML("farm.text_3")," "]})]})}(null===x||void 0===x?void 0:x.fixApy,null===x||void 0===x?void 0:x.flexApy,null===x||void 0===x?void 0:x.govApy,null===x||void 0===x?void 0:x.minGovApy,null===x||void 0===x?void 0:x.minFixApy),className:"highest-apy",overlayClassName:"stake-tooltip max-apy-tooltip "+("en-US"===p?" tooltip-en":""),placement:t?"bottomLeft":"bottom",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:[Object(W.s)(x.totalApy)," ","% ",Object(ee.jsx)("img",{src:We,className:"ml-4",alt:""})]})})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"flex aic jcs",children:[b.a.get("newStake.liquidity.earn"),Object(ee.jsx)(u.a,{title:E.a.tokens[x.id].giftEndTime?b.a.getHTML("stakes.earned_tip",{token:null===(c=x.gift[0])||void 0===c?void 0:c.toUpperCase(),time:E.a.tokens[x.id].giftEndTime}):b.a.get("stakes.earned_tip_1"),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(ee.jsx)("img",{src:Q.a,className:"ml-4",alt:""})})]}),Object(ee.jsx)("span",{children:(null===(s=x.gift)||void 0===s?void 0:s.length)>0?null===(n=x.gift[0])||void 0===n?void 0:n.toUpperCase():""})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("span",{children:b.a.get("newStake.liquidity.stake_total")}),Object(ee.jsx)("span",{children:"".concat(Object(W.t)(Object(W.a)(x.totalStakePriceNew),{dp:0,rm:1,miniText:1,needDolar:!0}))})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("span",{className:"flex aic jce",children:[b.a.get("farm.gov_weight")," ",Object(ee.jsx)(u.a,{title:b.a.get("governance.pool_weight_tips"),overlayClassName:"stake-tooltip",placement:"topRight",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(ee.jsx)("img",{src:Q.a,className:"ml-4",alt:""})})]}),Object(ee.jsx)("span",{children:0==x.thisWeekWeight?"0.00":x.thisWeekWeight<.01?"<0.01":x.thisWeekWeight})]})]}),Object(ee.jsx)("div",{className:"flex liq-slide",children:t?Object(ee.jsx)("img",{src:e.myClass?de:je,className:"liq-arrow liq-arrow-m",alt:""}):Object(ee.jsx)("img",{src:e.myClass?oe:ie,className:"liq-arrow",alt:""})})]})},ue=function(t){"img"===t.target.tagName.toLowerCase()&&"liq-arrow"!==t.target.classList[0]||Object(r.a)(t.target.classList).includes("highest-apy")||e.slide(x.farmId)},xe=function(){o.updateData(f),v(2)};Object(s.useEffect)((function(){var e=new Date(Oe()(1e3*x.remainingTime+1e3*we.a.unfreezeTime).format("YYYY-MM-DD HH:mm:ss")).getTime(),t=e-a.nowTime;t<8646e4&&t>=864e5?_=setInterval(Object(i.a)(Object(l.a)().mark((function t(){var a,c;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Fe.v)();case 2:a=t.sent,c=e-a.time,S(c/864e5);case 6:case"end":return t.stop()}}),t)}))),1e3):(clearInterval(_),S(t/864e5));return function(){clearInterval(_)}}),[x.remainingTime,a.nowTime]);var pe=function(e){var t,a=(null===(t=x.gift)||void 0===t?void 0:t.length)>0,c=Object(W.a)(x.lockRewards).times(x.usddPrice),s=Object(W.a)(Object(W.a)(x.lockRewards).plus(x.governanceRewards)).times(x.usddPrice),n=Object(W.a)(x.governanceRewards).times(x.usddPrice);return 1===k||4===k?Object(ee.jsxs)("div",{className:"flex jcsb liq-earned",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("div",{className:"title",children:b.a.get("newStake.liquidity.earned")}),Object(ee.jsxs)("div",{className:"amount",children:[Object(W.t)(Object(W.a)(x.lockRewards).plus(x.governanceRewards),{miniText:.01}),x.gift[0].toUpperCase(),Object(ee.jsxs)("div",{className:"price",children:[Object(W.a)(s).gt(1)&&"\u2248 ",Object(W.t)(s,{dp:0,rm:1,miniText:1,needDolar:!0})]})]})]}),Object(ee.jsx)("div",{children:Object(W.a)(x.lockRewards).gt(0)||Object(W.a)(x.governanceRewards).gt(0)?x.flexibleCanClaim?Object(ee.jsx)(u.a,{title:b.a.getHTML("farm.total_claim"),children:Object(ee.jsx)("button",{className:"btn-border claim-btn",onClick:D,children:b.a.get("claim.claim_btn")})}):Object(ee.jsx)(u.a,{title:b.a.getHTML("farm.text_41"),children:Object(ee.jsx)("button",{className:"btn-border-disable mt-20 claim-btn",disabled:!0,children:b.a.get("claim.claim_btn")})}):Object(ee.jsx)("button",{className:"btn-border claim-btn",disabled:!Object(W.a)(x.lockRewards).gt(0)&&!Object(W.a)(x.governanceRewards).gt(0),onClick:D,children:b.a.get("claim.claim_btn")})})]}):2===k?Object(ee.jsxs)("div",{className:"flex jcsb liq-earned status-two",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("div",{className:"title lsc-claim-title",children:b.a.get("newStake.liquidity.earned")}),Object(ee.jsxs)("div",{className:"price",children:[Object(ee.jsx)("div",{className:"lsc-claim-subtitle",children:b.a.get("farm.gov_mining_rewards")}),Object(ee.jsxs)("div",{className:"amount flex jcs",children:[Object(ee.jsxs)("div",{className:"lsc-token-amount",children:[Object(W.t)(x.governanceRewards,{miniText:.01})," ",x.gift[0].toUpperCase()]}),Object(ee.jsxs)("div",{className:"lsc-token-price",children:[Object(W.a)(n).gt(1)&&"\u2248 ",Object(W.t)(n,{dp:0,rm:1,miniText:1,needDolar:!0})]})]})]}),a&&Object(ee.jsxs)("div",{className:"price",children:[Object(ee.jsx)("div",{className:"lsc-claim-subtitle mt-10",children:b.a.get("farm.lock_rewards")}),Object(ee.jsxs)("div",{className:"amount flex jcs",children:[Object(ee.jsxs)("div",{className:"lsc-token-amount",children:[Object(W.t)(x.lockRewards,{miniText:.01})," ",x.gift[0].toUpperCase()]}),Object(ee.jsx)("div",{className:"lsc-token-price",children:Object(W.t)(c,{dp:0,rm:1,miniText:1,needDolar:!0})})]})]})]}),Object(ee.jsxs)("div",{children:[x.fixCanClaim?Object(ee.jsx)("button",{className:"btn-border claim-btn",disabled:!Object(W.a)(x.governanceRewards).gt(0),onClick:A,children:b.a.get("claim.claim_btn")}):Object(ee.jsx)(u.a,{title:b.a.getHTML("farm.text_39",{time_window:we.a.windowDuration}),children:Object(ee.jsx)("button",{className:"btn-border-disable mt-20 claim-btn",disabled:!0,children:b.a.get("claim.claim_btn")})}),Object(ee.jsx)(u.a,{title:b.a.getHTML("farm.text_39",{time_window:we.a.windowDuration}),children:Object(ee.jsx)("button",{className:"btn-border-disable mt-20 claim-btn",disabled:!0,children:b.a.get("claim.claim_btn")})})]})]}):3===k?Object(ee.jsx)("div",{className:"flex jcsb liq-earned  status-three",children:Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("div",{className:"title",children:[Object(ee.jsx)("img",{src:ze,alt:""}),Object(ee.jsx)("span",{className:"c-333 fw-500",children:b.a.getHTML("farm.lock_end")})]}),Object(ee.jsxs)("div",{className:"flex aic jcc mt-15",children:[Object(ee.jsx)("span",{className:"count-time-left"+(y>1?" mr-5":" mr-15"),children:b.a.get("farm.time_left")}),y>1?Object(W.t)(y)+" "+b.a.get("pool_config.day"):Object(ee.jsx)(jt.a,{id:f,stopCount:xe},f)]}),Object(ee.jsxs)("div",{className:"unlock-asset-text",children:[Object(ee.jsx)("span",{children:b.a.getHTML("farm.unclock_your_asset",{unlock_time:Oe()(1e3*x.remainingTime+1e3*we.a.unfreezeTime).format("YYYY-MM-DD HH:mm")})}),Object(ee.jsx)("span",{className:"auto-extend-text",onClick:function(){m({modalShow:"Sun3AutoExtendModal"})},children:b.a.get("farm.unclock_your_asset1")}),Object(ee.jsx)("span",{children:b.a.get("farm.unclock_your_asset2")})]})]})}):Object(ee.jsx)(ee.Fragment,{})},fe=function(e){var a=Object(W.C)(x,p),c=Object(W.a)(x.governanceRewards).times(x.usddPrice),s=Object(W.a)(x.lockRewards).times(x.usddPrice);if(1===k)return Object(ee.jsxs)("div",{className:"cardRightContainer liq-staked status-one",children:[Object(ee.jsxs)("div",{className:"flex jcsb aic",children:[Object(ee.jsxs)("div",{className:"title",children:[Object(ee.jsx)("span",{className:"mr-10",children:b.a.getHTML("farm.stale_lp",{LP_Name:null===x||void 0===x?void 0:x.symbol})}),a]}),Object(ee.jsxs)("div",{className:"actions",children:[Object(ee.jsx)("button",{className:"btn-border btn-width mt-2",onClick:L,disabled:C,children:b.a.get("farm.flexible_stake")}),!we.a.flexibleKeys.includes(x.id)&&Object(ee.jsxs)("button",{className:"btn-border btn-bg  ml-20  btn-width mt-2",onClick:I,disabled:C,children:[b.a.get("farm.lock_mining"),Object(ee.jsx)("img",{src:We,className:"newHot",alt:""})]})]})]}),!we.a.flexibleKeys.includes(x.id)&&Object(ee.jsxs)("div",{className:"stakeTips",children:[Object(ee.jsxs)("span",{className:"stakeTip1",children:["\u203b ",b.a.getHTML("farm.stake_tip1")]}),Object(ee.jsx)("span",{className:"stakeTip2",onClick:function(){m({modalShow:"Sun3DiffModal"})},children:b.a.get("farm.stake_tip2")})]})]});if(2===k){var n=x.multiple,r=x.currentSpeed,l=x.flexApy,i=(x.fixApy,x.minGovApy),o=Object(W.a)(n).times(l)._toFixed(2,1),j=Object(W.a)(r).times(i).times(n)._toFixed(2,1),d=Object(W.a)(o).plus(j);return Object(ee.jsxs)("div",{className:"flex jcsb liq-staked status-two",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("div",{className:"title",children:[Object(ee.jsxs)("span",{children:[Object(ee.jsx)("span",{className:"mr-10",children:b.a.get("farm.available_fixed")}),a]}),t&&Object(ee.jsx)("div",{className:"emergencyWithdrawText",onClick:M,children:b.a.get("farm.emergency_withdrawal")})]}),Object(ee.jsxs)("div",{className:"amount lsc-amount",children:[2===x.version?Object(W.a)(x.stakedBalanceNew).eq(0)?"0.00":Object(W.t)(x.stakedBalanceNew,{dp:6,miniText:1e-6,cutZero:2}):Object(W.t)(x.stakedBalanceNew,{miniText:.01})," ","USDC Old LP"===x.symbol&&"zh-CN"===p?"Old USDC LP":x.symbol,Object(ee.jsx)("div",{className:"price lsc-price flex",children:Object(ee.jsxs)("span",{children:[Object(W.a)(x.stakedBalancePrice).gt(1)&&"\u2248 ",Object(W.t)(x.stakedBalancePrice,{dp:0,rm:1,miniText:1,needDolar:!0})]})}),Object(ee.jsxs)("div",{className:"get-lp flex aic jcsb",children:[Object(ee.jsx)("button",{className:"btn-border add-lock-btn add-btn-status2",onClick:Y,children:b.a.get("farm.add")}),!t&&Object(ee.jsx)("div",{className:"emergencyWithdrawText",onClick:M,children:b.a.get("farm.emergency_withdrawal")})]})]})]}),Object(ee.jsxs)("div",{className:"lockStakeContainer",children:[Object(ee.jsxs)("div",{className:"flex jcsb",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("div",{className:"lsc-title",children:b.a.get("farm.lock_duration_left")}),Object(ee.jsx)("div",{className:"lsc-content",children:Object(ee.jsx)(ot,{id:f},f)})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("div",{className:"lsc-title flex aic jcs",children:["APY",Object(ee.jsx)(u.a,{title:b.a.get("farm.text_12"),className:"ml-8",overlayClassName:"stake-tooltip",trigger:"['hover','click']",children:Object(ee.jsx)("img",{className:"tooltip-img",src:Q.a,alt:""})})]}),Object(ee.jsx)("div",{className:"lsc-content lsc-apy",children:Object(ee.jsxs)(u.a,{title:he(),className:"apy-new-type",overlayClassName:"stake-tooltip",trigger:"['hover','click']",children:[Object(W.s)(d),"%"]})})]})]}),Object(ee.jsx)("div",{className:"lsc-tip",children:b.a.getHTML("farm.unlock_on",{unlock_time:x.remainingTime>0?Oe()(1e3*x.remainingTime).format("YYYY-MM-DD HH:mm"):"--"})}),Object(ee.jsx)("div",{className:"btns",children:Object(ee.jsx)("button",{className:"btn-border btn-bg extend-btn",onClick:P,children:b.a.get("farm.extened")})})]})]})}return 3===k?Object(ee.jsxs)("div",{className:"flex jcsb liq-staked status-three",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsx)("div",{className:"title",children:Object(ee.jsx)("span",{className:"mr-10",children:b.a.get("farm.available_asset")})}),Object(ee.jsxs)("div",{className:"amount lsc-amount",children:[2===x.version?Object(W.a)(x.stakedBalanceNew).eq(0)?"0.00":Object(W.t)(x.stakedBalanceNew,{dp:6,miniText:1e-6,cutZero:2}):Object(W.t)(x.stakedBalanceNew,{miniText:.01})," ","USDC Old LP"===x.symbol&&"zh-CN"===p?"Old USDC LP":x.symbol,Object(ee.jsxs)("div",{className:"price lsc-price",children:[Object(W.a)(x.stakedBalancePrice).gt(1)&&"\u2248 ",Object(W.t)(x.stakedBalancePrice,{dp:0,rm:1,miniText:1,needDolar:!0})]}),Object(ee.jsx)("div",{className:"get-lp",children:Object(ee.jsx)("button",{className:"btn-border add-lock-btn add-btn-status2",onClick:U,children:b.a.get("farm.unlocked")})})]})]}),Object(ee.jsxs)("div",{className:"lockStakeContainer"+("en-US"===p?" en":""),children:[Object(ee.jsxs)("div",{className:"flex jcsb",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("div",{className:"lsc-title flex aic jcs",children:[b.a.get("farm.lock_rewards"),Object(ee.jsx)(u.a,{title:b.a.get("farm.lock_rewards_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{className:"tooltip-img",src:Q.a,alt:""})})]}),Object(ee.jsxs)("div",{className:"lsc-content",children:[Object(W.t)(x.lockRewards,{miniText:.01})," ",x.gift[0].toUpperCase()]}),Object(ee.jsx)("div",{className:"lsc-tip",children:Object(ee.jsxs)("div",{className:"price",children:[Object(W.a)(s).gt(1)&&"\u2248 ",Object(W.t)(s,{dp:0,rm:1,miniText:1,needDolar:!0})]})})]}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("div",{className:"lsc-title",children:b.a.get("farm.gov_mining_rewards")}),Object(ee.jsxs)("div",{className:"lsc-content flex jcs",children:[Object(ee.jsxs)("span",{children:[Object(W.t)(x.governanceRewards,{miniText:.01})," ",x.gift[0].toUpperCase()]}),x.fixCanClaim?Object(ee.jsx)("span",{className:"lsc-claim fs-12",onClick:A,children:b.a.get("header.claim")}):Object(ee.jsx)(u.a,{title:b.a.getHTML("farm.text_41"),children:Object(ee.jsx)("span",{className:"lsc-claim fs-12",style:{opacity:.3},children:b.a.get("header.claim")})})]}),Object(ee.jsxs)("div",{className:"lsc-tip",children:[Object(W.a)(c).gt(1)&&"\u2248 ",Object(W.t)(c,{dp:0,rm:1,miniText:1,needDolar:!0})]})]})]}),Object(ee.jsx)("div",{className:"btns",children:x.fixCanClaim?Object(ee.jsx)("button",{className:"btn-border btn-bg extend-btn claim-btn",onClick:T,children:b.a.get("farm.claim_locked_rewards")}):Object(ee.jsx)(u.a,{title:b.a.getHTML("farm.text_41"),children:Object(ee.jsx)("button",{className:"btn-border-disable extend-btn claim-btn",disabled:!0,children:b.a.get("farm.claim_locked_rewards")})})})]})]}):4===k?Object(ee.jsxs)("div",{className:"flex jcsb liq-staked status-four",children:[Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("div",{className:"title",children:[Object(ee.jsx)("span",{className:"mr-10",children:b.a.get("farm.available_flexible")}),a]}),Object(ee.jsxs)("div",{className:"amount",children:[2===x.version?Object(W.a)(x.stakedBalanceNew).eq(0)?"0.00":Object(W.t)(x.stakedBalanceNew,{dp:6,miniText:1e-6,cutZero:2}):Object(W.t)(x.stakedBalanceNew,{miniText:.01})," ","USDC Old LP"===x.symbol&&"zh-CN"===p?"Old USDC LP":x.symbol,Object(ee.jsxs)("div",{className:"price",children:[Object(W.a)(x.stakedBalancePrice).gt(1)&&"\u2248 ",Object(W.t)(x.stakedBalancePrice,{dp:0,rm:1,miniText:1,needDolar:!0})]})]})]}),Object(ee.jsxs)("div",{className:"flex-apy",children:[Object(ee.jsx)("div",{className:"title",children:Object(ee.jsxs)("span",{className:"mr-10 flex aic jcs",children:[b.a.get("stake.apy"),Object(ee.jsx)(u.a,{title:b.a.get("farm.text_12"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]})}),Object(ee.jsx)("div",{className:"amount flex-apy-amount",children:Object(ee.jsxs)(u.a,{title:ge(),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:[Object(W.s)(Object(W.a)(Object(W.a)(x.flexApy)._toFixed(2,1)).plus(Object(W.a)(Object(W.a)(x.currentSpeed).times(x.minGovApy)._toFixed(2,1))))," ","%"]})})]}),Object(ee.jsx)("div",{className:"btns",children:Object(ee.jsxs)("div",{className:"get-lp",children:[Object(ee.jsx)("button",{className:"btn-border mr-10",onClick:H,children:b.a.get("stakes.btn_remove")}),Object(ee.jsx)("button",{className:"btn-border btn-bg",onClick:L,children:b.a.get("stakes.btn_add")})]})})]}):Object(ee.jsx)(ee.Fragment,{})},he=function(){var e=x.multiple,t=x.currentSpeed,a=x.flexApy,c=(x.fixApy,x.minGovApy),s=Object(W.a)(e).times(a),n=Object(W.a)(t).times(c).times(e);return Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("p",{children:["USDD ",b.a.get("farm.fixed_apy")," : ",Object(W.s)(s),"%"]}),Object(ee.jsxs)("p",{children:["USDD ",b.a.get("farm.gov_apy")," : ",Object(W.s)(n),"%"]})]})},ge=function(){x.multiple;var e=x.currentSpeed,t=x.flexApy,a=(x.fixApy,x.minGovApy);return Object(ee.jsxs)("div",{children:[Object(ee.jsxs)("p",{children:["USDD ",b.a.get("farm.flex_apy")," : ",Object(W.s)(t),"%"]}),Object(ee.jsxs)("p",{children:["USDD ",b.a.get("farm.gov_apy")," : ",Object(W.s)(Object(W.a)(e).times(a)),"%"]})]})},ke=function(){return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(pe,{}),Object(ee.jsx)(fe,{})]})},ve=function(){return Object(ee.jsx)(n.a,{children:function(){return Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("div",{className:"liquidity-ele liq-ele-new new-farm "+e.myClass+([2].includes(k)?" speed-up-height":""),children:[Object(ee.jsx)(J,{}),Object(ee.jsx)(me,{}),Object(ee.jsx)("div",{className:"liq-earned-staked liq-earned-staked-new status"+k,children:Object(ee.jsx)(ke,{})})]})})}})};return Object(ee.jsx)(n.a,{children:function(){return x?Object(ee.jsx)(ve,{}):Object(ee.jsx)(ee.Fragment,{})}})},bt=a(949),mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABRSURBVHgBpZDRCQAgCEQdoREaoZEapQ0awTZrFFMwMJEgOjjw5HkfArCIKIHKzmCWmT3ZRXNnYwQWB45vsAposhzVWxNK2xOQHNAOwL4hmrcWKV2DASTdu+wAAAAASUVORK5CYII=",ut=a.p+"static/media/liq-logo.348bc0a6.svg",Ot=a.p+"static/media/increase-mining-logo.958cf441.svg",xt=a.p+"static/media/pool_config.2c276705.svg",pt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJUSURBVHgBbVJLaBNRFL1vZpJJTBoT07SaxEi1gkmK2FoVQkEouKh0IyUbade6KF3ERXaaTV1IRaUgbgQXBaWRggsVXLhSBGnAP4Ya8NNoak0nv5nM773nS+poKn2rezn33HvPuQ+g42nF6UNWbLy9cMp8OTH5F/s6NdBZy1mBXJi6CIh+oGsziTbQFbzOhceuUbpsU16NhwjRXqvFszcozbQ5gkXUpQ2JNBoVgxMTdCVdBf+xGNj8gPPZMayrDio1CTjsa45QhmyZ6Bt+OI8r5aOk/qNARE8KXAcBxF7gPP5pTKhEVTLiiT6+bNWj1aXjfn9475y994TAOXeKYPe4QQyeBEd0B4OZuIIJcv4JqJJM1Kqu194ZVcVMCy6fjjXkHOW8QxFbVwQQ4v8somy2FgMC2H2nAeuA1QroSmPdTj5fQi2s9Px8j9PVvGrfk5gU/XFAnO2fCoqBEg202io0S2+e2UQ80dU/9xNZO1Oa5Gu5yhVXKJ7ifcx55N4kEwVIfQWUYuGuKg+eC4yk621XaYahsSRrkKWCNPAU8xspBB8B8Q5G5thAA/D6LyDF6ovu5XsyXQQekkAFyACFTJZpA1K53xjnhDqYpAYGRmxFABtHAbFLEEkfRRmYpyxteYY6f0N5IfieR0bMAF4DwTnLC6RMZH2WI6aXanx9l+YOoJlP2pY7flsMO5kPB8wmf8fU3EPeaFx27u/rMWQ6aCjCLRMT93ck98F2r7zQ77Hi6oPDuepSPG/lX25GfJ21aLsGLR2l2/sesRDvPtJ9Bg3njP9rfgOh0gNrRbz08wAAAABJRU5ErkJggg==",ft=a.p+"static/media/search-icon.64d170dc.svg",ht=(a.p,a.p+"static/media/loading-3.53c3e327.png"),gt=(a(1124),a(1125),a(943)),kt=a(942),vt=a(945),Nt=a(946),wt=a(944),yt=a.p+"static/media/wallet_unconnected.96ce1f27.png",St=(a.p,a(859)),_t=m.a.TabPane,Ct=F.a.concat(E.a.newFarmKeysShow,E.a.stakeKeys3Show),Dt=E.a.stakeKeys,At=E.a.defaultId,Lt=E.a.stakeKeys3,Tt=E.a.tokens,Mt=null,It=null,Pt={one:"2",two:"3",genesis:"1"},Ht=function(e){var t=e.tab;return t&&Pt[t]||"3"};function Yt(e){var t=null,a=Object(R.a)(window.navigator).any,d=Object(n.d)((function(){return V.a.pool})),O=Object(n.d)((function(){return V.a.network})),x=Object(n.d)((function(){return V.a.farmStore})),p=Object(s.useState)(Ht(e)),f=Object(j.a)(p,2),h=f[0],g=f[1],k=Object(s.useState)(Object(z.i)()),v=Object(j.a)(k,2),N=v[0],w=v[1],y=Object(s.useState)(d.stakePoolData2),S=Object(j.a)(y,2),_=S[0],C=S[1],D=Object(s.useState)("--"),L=Object(j.a)(D,2),T=L[0],M=L[1],I=Object(s.useState)(Ct),P=Object(j.a)(I,2),U=P[0],Q=P[1],Z=Object(s.useState)(E.a.morePoolsKeys),K=Object(j.a)(Z,2),X=K[0],G=K[1],J=Object(s.useState)(!1),ce=Object(j.a)(J,2),se=ce[0],ne=ce[1],re=Object(s.useState)(!0),le=Object(j.a)(re,2),be=le[0],ue=le[1],Oe=Object(s.useState)(!1),xe=Object(j.a)(Oe,2),pe=xe[0],he=xe[1],ge=Object(s.useState)(!1),Ne=Object(j.a)(ge,2),ye=Ne[0],Se=Ne[1],_e=Object(s.useState)(d.stakeSwitch),Ce=Object(j.a)(_e,2),De=Ce[0],Ae=Ce[1],Le=Object(s.useState)(d.stakeSwitchLocking),Te=Object(j.a)(Le,2),Me=Te[0],Ie=Te[1],Pe=Object(s.useState)(d.stakeTabIndex),He=Object(j.a)(Pe,2),Ye=He[0],Re=He[1],Ue=d.getLockStakeData,qe=d.getStakeData,Be=d.getStakeApyData,Ve=d.getStakePoolData,We=d.getStakeApyDataNew,ze=d.getClaimableRewardNew,Qe=d.getClaimableRewardNew1,Ze=d.getTotalStakeNotLogin,Ke=d.getTotalStakeLogin,Xe=d.getClaimReward,Ge=d.getApyDataV2New,Je=window.location.hash.slice(window.location.hash.indexOf("?")+1).split("&").reduce((function(e,t){return Object(c.a)(Object(c.a)({},e),{},Object(o.a)({},t.split("=")[0],t.split("=")[1]))}),{}),$e=Object(s.useState)(Je.search||d.stakeSearch),et=Object(j.a)($e,2),tt=et[0],at=et[1],ct=Lt.map((function(e){return Tt[e]})).sort((function(e,t){return e.index-t.index})).map((function(e){return e.lpStaker})),st=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:lt();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){return function(){d.setData({stakeSwitch:!1}),d.setData({stakeTabIndex:"-1"})}}),[]),Object(s.useEffect)((function(){De&&Rt(!1)}),[De]),Object(s.useEffect)((function(){Me&&Yt(!1)}),[Me]),Object(s.useEffect)((function(){var e=[],t=[],a=Object(c.a)(Object(c.a)({},x.farmData),d.stakeData3);"-1"===Ye?(e=Object(r.a)(Ct),t=Object(r.a)(E.a.morePoolsKeys)):"1"===Ye?(e=Object(r.a)(we.a.fixedKeys),t=[]):"2"===Ye&&(e=Object(r.a)(E.a.stakeKeys3Show),t=Object(r.a)(E.a.morePoolsKeys)),De&&(e=e.filter((function(e){return Object(W.i)(a[e])})),t=t.filter((function(e){return Object(W.i)(a[e])}))),ye&&Me&&(e=e.filter((function(e){return Object(W.k)(a[e],O.nowTime)})),t=[]),tt&&(e=e.filter((function(e){var t,c,s;return F.a.includes(F.a.toUpper(null===(t=a[e])||void 0===t?void 0:t.symbol),F.a.toUpper(tt))||F.a.includes(F.a.toUpper(null===(c=a[e])||void 0===c?void 0:c.token),F.a.toUpper(tt))||F.a.includes(F.a.toUpper(null===(s=a[e])||void 0===s?void 0:s.lpStaker),F.a.toUpper(tt))})),t=t.filter((function(e){var t,c,s;return F.a.includes(F.a.toUpper(null===(t=a[e])||void 0===t?void 0:t.symbol),F.a.toUpper(tt))||F.a.includes(F.a.toUpper(null===(c=a[e])||void 0===c?void 0:c.token),F.a.toUpper(tt))||F.a.includes(F.a.toUpper(null===(s=a[e])||void 0===s?void 0:s.lpStaker),F.a.toUpper(tt))}))),Q(e),G(t)}),[Ye,De,Me,pe,ye,tt,x.farmData,d.stakeData3]),Object(s.useEffect)((function(){var e=Object(W.j)(x.farmData,O.nowTime);Se(e);var t=Object(W.h)(Object(c.a)(Object(c.a)({},x.farmData),d.stakeData3));he(t)}),[x.farmData,d.stakeData3]);var nt=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:it(),t||(t=setInterval(Object(i.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:it(),lt();case 2:case"end":return e.stop()}}),e)}))),O.defaultIntervalSec));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){return function(){clearInterval(t)}}),[]),Object(s.useEffect)((function(){return Object(i.a)(Object(l.a)().mark((function e(){var t,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Fe.v)();case 2:t=e.sent,a=t.time,O.setData({nowTime:a}),rt();case 6:case"end":return e.stop()}}),e)})))(),function(){clearInterval(Mt),clearInterval(It)}}),[]);var rt=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==O.nowTime){e.next=5;break}return e.next=3,Object(Fe.v)();case 3:e.next=6;break;case 5:O.setData({nowTime:O.nowTime+1e3});case 6:null===Mt&&(Mt=setInterval(Object(i.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:rt();case 1:case"end":return e.stop()}}),e)}))),1e3)),null===It&&(It=setInterval(Object(i.a)(Object(l.a)().mark((function e(){var t,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Fe.v)();case 2:t=e.sent,a=t.time,O.setData({nowTime:a});case 5:case"end":return e.stop()}}),e)}))),3e4));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),lt=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){var t,a=arguments;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("3"!==(t=a.length>0&&void 0!==a[0]?a[0]:O.stakeVersion)){e.next=8;break}return e.next=4,x.getFarmStakeApyData();case 4:return e.next=6,x.getTotalSupply();case 6:return e.next=8,Ze(ct);case 8:return e.next=10,We();case 10:return e.next=12,Be();case 12:return e.next=14,Ue();case 14:w(Object(c.a)({},d["stakeData"+t])),C(Object(c.a)({},d["stakePoolData"+t]));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),it=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){var t,a,s=arguments;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:O.stakeVersion,a=O.isConnected,O.stakeVersion,a){e.next=4;break}return e.abrupt("return");case 4:if("3"!==t){e.next=13;break}return e.next=7,x.getUserInfo();case 7:return e.next=9,x.getStakeBalanceInfo();case 9:return e.next=11,x.calculateBoosted();case 11:return e.next=13,x.getGovernanceRewrads();case 13:return e.next=15,qe(t);case 15:return e.next=17,Ve(t);case 17:if("3"!==t){e.next=30;break}return e.next=20,Ge();case 20:return e.next=22,ot();case 22:return e.next=24,Xe();case 24:return e.next=26,ze();case 26:return e.next=28,Qe();case 28:return e.next=30,Ke(ct);case 30:w(Object(c.a)({},d["stakeData"+t])),C(Object(c.a)({},d["stakePoolData"+t]));case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ot=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){var t,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O.defaultAccount){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,d.getVoteInfo("0x0000000000000000000000".concat(q.ec.tronWeb.address.toHex(O.defaultAccount)));case 5:(t=e.sent).success&&(a=t.value,M(a)),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){jt()}),[]);var jt=function(){var e=Object(W.F)("modalShow"),t=Object(W.F)("tab")||h;t&&O.setData({modalShow:e,tabValue:t,stakeVersion:t})},Pt=function(){var e=O.stakeVersion,t="1"===e?Dt:E.a["stakeKeys"+e];return Object(ee.jsxs)("div",{className:"tab-content",children:[Object(ee.jsxs)("div",{className:"content-l",children:[Object(ee.jsxs)("div",{className:"content-l-title tab-title flex jcsb",children:[Object(ee.jsx)("span",{children:b.a.get("newStake.liquidity.title")}),Object(ee.jsx)("a",{href:"/?lang=".concat(window.localStorage.getItem("lang"),"#/governance"),children:b.a.get("newStake.liquidity.get_lp_weight")})]}),Object(ee.jsx)("div",{className:"content-l-content",children:t.map((function(e){return Object(ee.jsx)(te,{myClass:N[e]&&(a?N[e].mobileShow:N[e].show)?"current":"",id:e,data:N[e],cb:Kt,slide:Wt},e)}))})]}),Object(ee.jsxs)("div",{className:"content-r",children:[Object(ee.jsxs)("div",{className:"content-r-title tab-title flex aic jcs",children:[Object(ee.jsx)("span",{children:b.a.getHTML("newStake.stake_pool.stake_pool",{symbol:At.toUpperCase()})}),Object(ee.jsx)(u.a,{title:3!=e?b.a.get("newStake.rule.rule".concat(e,".a2")):"",overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(ee.jsx)("img",{src:ae.a,className:"ml-2"})})]}),Object(ee.jsx)("div",{className:"content-r-content common-block",children:Object(ee.jsx)(ke,{stakeVersion:h,stakePoolData:_,cb:Kt})})]})]})},Yt=function(e){Ae(e),d.setData({stakeSwitch:e})},Rt=function(e){Ie(e),d.setData({stakeSwitchLocking:e})},Ut=function(e){Re(e),d.setData({stakeTabIndex:e})};Object(s.useEffect)((function(){Me||De||tt?(ue(!1),ne(!0)):(ue(!0),ne(!1))}),[Me,De,tt]);var Ft=function(){return Object(ee.jsxs)("div",{className:"no-data",children:[Object(ee.jsx)("img",{className:"no-data-spin",src:ht,alt:""}),Object(ee.jsx)("div",{children:b.a.get("loading")})]})},qt=function(){return Object(ee.jsx)(bt.a,{onClick:function(){Ut("-1"),Yt(!1)},emptyText:b.a.get("stake.has_no_stake"),btnText:b.a.get("stake.to_stake"),img:yt})},Bt=function(){return Object(ee.jsx)(bt.a,{onClick:function(){return O.setData({loginModalVisible:!0,loginModalStep:1})},emptyText:b.a.get("stake.not_connect_wallet"),btnText:b.a.get("stake.to_connect"),img:yt})},Vt=function(){ue(!1),ne(!0)},Et=function(){O.setData({modalShow:"TipsModal"})},Wt=function(e){try{var t=O.stakeVersion;a?d["stakeData"+t][e].mobileShow=!d["stakeData"+t][e].mobileShow:d["stakeData"+t][e].show=!d["stakeData"+t][e].show,w(Object(c.a)({},d["stakeData"+t]))}catch(s){console.log(s)}},zt=function(e){try{a?x.farmData[e].mobileShow=!x.farmData[e].mobileShow:x.farmData[e].show=!x.farmData[e].show,w(Object(c.a)({},x.farmData))}catch(t){console.log(t)}},Qt=function e(t){var a={1:"tab_genesis",2:"tab_phase_one",3:"tab_phase_two"};a[t]&&Object($.a)({action:$.b[a[t]],event_category:$.h.farm}),"-1"!==t?(O.setData({stakeVersion:t}),g(t),"--"===d["stakePoolData"+t].unlockData&&(it(t),lt(t)),w(Object(c.a)({},d["stakeData"+t])),C(Object(c.a)({},d["stakePoolData"+t]))):e("3")},Zt=function(e){return Object(ee.jsxs)("div",{className:"stake-tab sub-tab",children:[b.a.get("stakes.phase_".concat(e))," ","two"===e&&Object(ee.jsx)("span",{className:"tab-hot"})]})},Kt=function(){var e=Object(i.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe();case 2:return e.next=4,Ve();case 4:if("3"!==(t=O.stakeVersion)){e.next=18;break}return e.next=8,ot();case 8:return e.next=10,Xe();case 10:return e.next=12,ze();case 12:return e.next=14,Qe();case 14:return e.next=16,Ke(ct);case 16:return e.next=18,We();case 18:w(Object(c.a)({},d["stakeData"+t])),C(Object(c.a)({},d["stakePoolData"+t]));case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xt=Object(s.useCallback)((function(e){window.location.href=Object(St.e)(e)}),[]),Gt=Object(s.useMemo)((function(){return{navList:[{text:b.a.get("newStake.tab.tab_1"),id:"-1",subIcon:kt.a,subIconActive:gt.a,route:"stake/two"},{text:b.a.get("stakes.phase_two"),id:"3",corner:wt.a,cornerActive:wt.a,route:"stake/two"},{text:b.a.get("stakes.phase_one"),id:"2",route:"stake/one"},{text:b.a.get("newStake.tab.tab_2"),id:"1",subIcon:vt.a,subIconActive:Nt.a,route:"stake/genesis"}],isCustom:!0,onItemClick:Xt,itemActive:function(e){return e.id===h||"-1"===e.id&&"1"!==h},cls:"new-stake-sub-nav",shouldScroll:!0}}),[h]),Jt=Object(s.useMemo)((function(){return Object(ee.jsxs)("a",{className:"stake-rule",href:"".concat(E.a.learnMoreLink,"/hc/").concat("en-US"===window.localStorage.getItem("lang")?"en-us":"zh-cn","/articles/4403359171481"),target:"stakeRules",children:[b.a.get("newStake.tab.tab_3"),Object(ee.jsx)("img",{src:mt})]})}),[]);return Object(ee.jsx)(n.a,{children:function(){var e;return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(B.a,{routeName:"stake",mountedActions:nt,instantActions:st,subNavProps:Gt}),Object(ee.jsxs)("div",{className:"page-head",children:[Object(ee.jsx)("div",{className:"gradient-title",children:Object(ee.jsx)("span",{className:"stake-hide-for-mobile",children:b.a.get("header.farm")})}),Object(ee.jsxs)("div",{className:"dim-content",children:[b.a.get("newStake.banner.desc"),Object(ee.jsx)("span",{className:"stake-rule-mobile",children:Jt})]})]}),Object(ee.jsx)("div",{className:"wrap"+(a?" wrap-mobile":"")+("en-US"===window.localStorage.getItem("lang")?" wrap-english":""),children:Object(ee.jsxs)("div",{className:"stake-tabs stake-tabs-mobile",children:[Object(ee.jsxs)(m.a,{activeKey:h,type:"line",onChange:Qt,children:[Object(ee.jsx)(_t,{tab:Object(ee.jsxs)("div",{className:"stake-tab stake-tab2"+(["2","3"].includes(h)?" tab-active":""),children:[Object(ee.jsx)("span",{className:"v-icon"}),Object(ee.jsx)("span",{children:b.a.get("newStake.tab.tab_1")})]})},"-1"),Object(ee.jsx)(_t,{tab:Zt("two"),children:Object(ee.jsxs)("div",{className:"tab-content-new",children:[Object(ee.jsx)(fe,{stakePoolData:d.stakePoolData3,vesunBalance:T,cb:Kt}),Object(ee.jsxs)("div",{className:"content",children:[Object(ee.jsxs)("div",{className:"content-l-title tab-title flex jcsb lp-title",children:[Object(ee.jsxs)("div",{className:" aic",children:[Object(ee.jsx)("img",{className:"liq-pool-img",src:ut}),Object(ee.jsxs)("div",{children:[Object(ee.jsx)("div",{className:"liq-pool-title",children:b.a.get("newStake.liquidity.title")}),Object(ee.jsx)("div",{className:"liq-pool-subtitle",children:b.a.get("stakes.liquidity_title")})]})]}),Object(ee.jsxs)("div",{className:"",children:[(null===(e=d.myPoolList)||void 0===e?void 0:e.length)>0&&Object(ee.jsxs)("a",{className:"inrease-reward pool-config",href:"/?lang=".concat(window.localStorage.getItem("lang"),"#/pool_settings"),children:[Object(ee.jsx)("img",{src:xt}),b.a.get("pool_config.my_pool_config")]}),Object(ee.jsxs)("span",{className:"inrease-reward",onClick:Et,children:[Object(ee.jsx)("img",{src:Ot}),b.a.get("stakes.increase_reward")]})]})]}),Object(ee.jsxs)("div",{className:"tab-list",children:[Object(ee.jsx)("div",{className:"tab-items",children:Object(ee.jsxs)("ul",{children:[Object(ee.jsx)("li",{className:"-1"===Ye?"current":"",onClick:function(){return Ut("-1")},children:b.a.get("stakes.all")}),Object(ee.jsx)("li",{className:"1"===Ye?"current":"",onClick:function(){return Ut("1")},children:b.a.get("farm.only_locked")})]})}),Object(ee.jsxs)("div",{className:"search-items",children:[Object(ee.jsxs)("div",{className:"stake-switch"+(pe&&!Object(W.a)(pe).isNaN()||ye&&!Object(W.a)(ye).isNaN()?"":" mb-0"),children:[Object(ee.jsx)(A,{className:De?"":"init-switch",checked:De,onChange:Yt}),Object(ee.jsx)("span",{className:De?"":"init-switch",children:b.a.get("stakes.only_stake")}),ye&&Object(ee.jsxs)("div",{className:"switchLockingContainer",children:[Object(ee.jsx)(A,{className:Me?"":"init-switch",checked:Me,onChange:Rt}),Object(ee.jsx)("span",{className:Me?"":"init-switch",children:b.a.get("farm.only_locking")})]})]}),Object(ee.jsx)(H,{children:Object(ee.jsx)(Y.a,{className:"search-lp",addonBefore:Object(ee.jsx)("img",{src:ft}),placeholder:b.a.get("stakes.input_token"),onChange:function(e){return t=e.target.value,t=F.a.trim(t),at(t),void d.setData({stakeSearch:t});var t},value:tt})})]})]}),Object(ee.jsx)("div",{className:"content-l-content",children:U.length>0?U.map((function(e){return we.a.farmPoolKeys.includes(e)?Object(ee.jsx)(dt,{myClass:x.farmData[e]&&(a?x.farmData[e].mobileShow:x.farmData[e].show)||1===U.length?"current":"",id:e,data:x.farmData[e],slide:zt},e):Object(ee.jsx)(me,{myClass:d.stakeData3[e]&&(a?d.stakeData3[e].mobileShow:d.stakeData3[e].show)||1===U.length?"current":"",id:e,data:d.stakeData3[e],cb:Kt,slide:Wt},e)})):X.length>0?Object(ee.jsx)(ee.Fragment,{}):O.isConnected?Object(W.g)(d.stakeData3,x.farmData)?Object(ee.jsx)(qt,{}):Object(ee.jsx)(Ft,{}):Object(ee.jsx)(Bt,{})})]}),be&&X.length>0&&Object(ee.jsxs)("div",{className:"more-pool",onClick:Vt,children:[b.a.get("header.more"),Object(ee.jsx)("div",{className:"flex liq-slide",children:a?Object(ee.jsx)("img",{src:se?de:je,className:"liq-arrow liq-arrow-m",alt:""}):Object(ee.jsx)("img",{src:se?oe:ie,className:"liq-arrow",alt:""})})]}),se&&Object(ee.jsx)("div",{className:"content-l-content",children:X.length>0&&X.map((function(e){return Object(ee.jsx)(me,{myClass:d.stakeData3[e]&&(a?d.stakeData3[e].mobileShow:d.stakeData3[e].show)||1===X.length?"current":"",id:e,data:d.stakeData3[e],cb:Kt,slide:Wt},e)}))}),Object(ee.jsxs)("div",{className:"sun-apply",children:[Object(ee.jsxs)("div",{className:"sa-title",children:[Object(ee.jsx)("img",{src:pt}),Object(ee.jsx)("span",{children:b.a.get("v2.des_1")})]}),Object(ee.jsx)("div",{children:Object(ee.jsx)("span",{children:b.a.getHTML("v2.des_2",{href1:E.a.applyForm,href2:"en-US"===window.localStorage.getItem("lang")?E.a.howToApplyEN:E.a.howToApplyCN})})})]})]})},"3"),Object(ee.jsx)(_t,{tab:Zt("one"),children:Object(ee.jsx)(Pt,{})},"2"),Object(ee.jsx)(_t,{tab:Object(ee.jsxs)("div",{className:"stake-tab stake-tab1",children:[Object(ee.jsx)("span",{className:"v-icon"}),Object(ee.jsx)("span",{children:b.a.get("newStake.tab.tab_2")})]}),children:Object(ee.jsx)(Pt,{})},"1")]}),Object(ee.jsx)("span",{className:"stake-rule-pc",children:Jt})]})}),Object(ee.jsx)(ve.a,{modalShow:O.modalShow,cb:Kt}),Object(ee.jsx)(Ee,{modalShow:O.modalShow,cb:Kt})]})}})}a(839);function Rt(e){return Object(ee.jsx)(n.a,{children:function(){return Object(ee.jsx)(Yt,Object(c.a)({},e))}})}},839:function(e,t,a){},852:function(e,t,a){"use strict";t.a=a.p+"static/media/CloseForModal.52a9fef9.svg"},858:function(e,t,a){"use strict";t.a=a.p+"static/media/tooltipIcon.4bfb19ca.svg"},939:function(e,t,a){"use strict";t.a=a.p+"static/media/gray-drop.cdc278f0.svg"},995:function(e,t,a){"use strict";t.a=a.p+"static/media/tooltipWhiteIcon.29faa0dd.svg"},996:function(e,t,a){"use strict";t.a=a.p+"static/media/calculator.9bfb3572.svg"}}]);