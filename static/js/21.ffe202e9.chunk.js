(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[21],{1041:function(e,t,a){"use strict";var n=a(1),s=a(14),i=a.n(s),c=a(168),o=a(989),r=a(984),l=a.n(r),u=a(960),p=a(308),d=a(985),b=a(11),m=a.n(b),j=a(314),h=a(191),v=a(169),g=a(98),f=a(70),x=a(68),y=a(3);const O=e=>{const{actionStatus:t,fromToken:a,toToken:n,tip:s,infoList:r,title:b,approveItems:O,children:_,swapError:A,btnProps:w,successFromValue:T,successToValue:S,showPrice:N=!0,recipientAddr:k,showEndTip:D,footer:C,...M}=e,F=Object(f.d)((()=>x.default.themeStore)),E="success"===t,H=Object(v.default)(v.isMobileOnlyMedia),I=Object(g.useCurrentTheme)(),B=Object(y.jsxs)("div",{className:l.a.error_msg,children:[Object(y.jsx)("span",{className:l.a.error_icon,children:"!"}),A]});return Object(y.jsx)(f.a,{children:()=>Object(y.jsxs)(c.a,{title:b,showOk:!0,showCancel:!1,okButtonProps:{type:"warning",...w},footerTip:Object(y.jsxs)(y.Fragment,{children:[E&&k&&D&&Object(y.jsx)("div",{className:l.a.recipient_tip,children:m.a.get("sunSwap.action.swapSendDescTitle")}),E&&!k&&D&&Object(y.jsx)("div",{className:l.a.recipient_tip,children:m.a.get("sunSwap.action.swapDescTitle")})]}),footerMsg:A&&B,footer:C,...M,width:530,maskClosable:!1,children:[!E&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:l.a.token_swap_info,children:[Object(y.jsxs)("span",{children:[Object(y.jsx)("span",{className:l.a.swap_value,children:a.amount}),Object(y.jsx)("span",{className:l.a.swap_symbol,children:a.symbol})]}),Object(y.jsx)(p.a,{type:"2",direction:H?"bottom":"right",style:{margin:H?"10px 0":"0 10px"},color:"light"===I?"#C1C1C1":void 0,opacity:"light"===I?1:void 0}),Object(y.jsxs)("span",{children:[Object(y.jsx)("span",{className:l.a.swap_value,children:n.amount}),Object(y.jsx)("span",{className:l.a.swap_symbol,children:n.symbol})]})]}),k&&Object(y.jsx)("div",{className:l.a.recipient,children:"".concat(m.a.get("sunSwap.swap.recipient")).concat(k)})]}),"line"===t&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:l.a.recipient,children:k?m.a.get("sunSwap.action.swapSendLineTitle"):m.a.get("sunSwap.action.swapLineTitle")}),Object(y.jsx)("div",{style:{marginTop:20},children:Object(y.jsx)(o.a,{items:O})})]}),"info"===t&&Object(y.jsxs)(y.Fragment,{children:[N&&Object(y.jsxs)("div",{className:l.a.price_list,children:[Object(y.jsxs)("div",{className:l.a.price_list_item,children:[Object(y.jsx)(u.a,{url:a.logo}),Object(y.jsx)("span",{children:a.symbol}),Object(y.jsx)("span",{className:l.a.price_list_right,children:a.price})]}),Object(y.jsxs)("div",{className:l.a.price_list_item,children:[Object(y.jsx)(u.a,{url:n.logo}),Object(y.jsx)("span",{children:n.symbol}),Object(y.jsx)("span",{className:l.a.price_list_right,children:n.price})]})]}),r.map((e=>e.hide?null:Object(y.jsxs)("div",{className:l.a.info_list_item,children:[Object(y.jsxs)("span",{className:l.a.info_list_label,children:[e.label,":"]}),e.tip?Object(y.jsx)(j.a,{title:Object(y.jsx)("span",{children:e.tip}),children:Object(y.jsx)(h.a,{fullFilled:!0,style:{marginRight:7}})}):null,Object(y.jsx)("span",{className:i()({[l.a.info_list_value]:!0,[l.a.info_list_value_default]:!e.valueType||"default"===e.valueType,[l.a.info_list_value_warning]:"warning"===e.valueType,[l.a.info_list_value_error]:"error"===e.valueType}),children:e.value})]}))),s&&Object(y.jsx)("div",{className:l.a.swap_tip,children:s})]}),"success"===t&&Object(y.jsxs)("div",{className:l.a.success,children:[Object(y.jsx)("img",{src:d.a,alt:""}),Object(y.jsxs)("div",{style:{textAlign:"center",marginBottom:25},children:[Object(y.jsx)("span",{className:l.a.swap_value,children:T}),Object(y.jsx)("span",{className:l.a.swap_symbol,children:a.symbol}),Object(y.jsx)(p.a,{type:"2",style:{margin:"0 10px"},color:"dark"===F.theme?"#fff":"#333"}),Object(y.jsx)("span",{className:l.a.swap_value,children:S}),Object(y.jsx)("span",{className:l.a.swap_symbol,children:n.symbol})]}),k&&Object(y.jsx)("div",{className:l.a.recipient,children:"".concat(m.a.get("sunSwap.swap.recipient")).concat(k)})]}),_]})})};O.defaultProps={},t.a=Object(n.memo)(O)},1042:function(e,t,a){e.exports={step_wrap_border:"style_step_wrap_border__zUoKV"}},1056:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return l}));var n=a(295),s=a(160);const i=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},c=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},o=(e,t)=>((e,t)=>{const{componentCls:a,gridColumns:n}=e,s={};for(let i=n;i>=0;i--)0===i?(s["".concat(a).concat(t,"-").concat(i)]={display:"none"},s["".concat(a,"-push-").concat(i)]={insetInlineStart:"auto"},s["".concat(a,"-pull-").concat(i)]={insetInlineEnd:"auto"},s["".concat(a).concat(t,"-push-").concat(i)]={insetInlineStart:"auto"},s["".concat(a).concat(t,"-pull-").concat(i)]={insetInlineEnd:"auto"},s["".concat(a).concat(t,"-offset-").concat(i)]={marginInlineStart:0},s["".concat(a).concat(t,"-order-").concat(i)]={order:0}):(s["".concat(a).concat(t,"-").concat(i)]={display:"block",flex:"0 0 ".concat(i/n*100,"%"),maxWidth:"".concat(i/n*100,"%")},s["".concat(a).concat(t,"-push-").concat(i)]={insetInlineStart:"".concat(i/n*100,"%")},s["".concat(a).concat(t,"-pull-").concat(i)]={insetInlineEnd:"".concat(i/n*100,"%")},s["".concat(a).concat(t,"-offset-").concat(i)]={marginInlineStart:"".concat(i/n*100,"%")},s["".concat(a).concat(t,"-order-").concat(i)]={order:i});return s})(e,t),r=Object(n.a)("Grid",(e=>[i(e)])),l=Object(n.a)("Grid",(e=>{const t=Object(s.b)(e,{gridColumns:24}),a={"-sm":t.screenSMMin,"-md":t.screenMDMin,"-lg":t.screenLGMin,"-xl":t.screenXLMin,"-xxl":t.screenXXLMin};return[c(t),o(t,""),o(t,"-xs"),Object.keys(a).map((e=>((e,t,a)=>({["@media (min-width: ".concat(t,"px)")]:Object.assign({},o(e,a))}))(t,a[e],e))).reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{})]}))},1057:function(e,t,a){"use strict";var n=a(1);const s=Object(n.createContext)({});t.a=s},1098:function(e,t,a){"use strict";var n=a(45),s=a.n(n),i=a(1099),c=a.n(i),o=a(1118),r=a.n(o);s.a.extend(c.a),s.a.extend(r.a),t.a=s.a},1099:function(e,t,a){e.exports=function(){"use strict";var e,t,a=1e3,n=6e4,s=36e5,i=864e5,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,o=31536e6,r=2592e6,l=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,u={years:o,months:r,days:i,hours:s,minutes:n,seconds:a,milliseconds:1,weeks:6048e5},p=function(e){return e instanceof g},d=function(e,t,a){return new g(e,a,t.$l)},b=function(e){return t.p(e)+"s"},m=function(e){return e<0},j=function(e){return m(e)?Math.ceil(e):Math.floor(e)},h=function(e){return Math.abs(e)},v=function(e,t){return e?m(e)?{negative:!0,format:""+h(e)+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""}},g=function(){function m(e,t,a){var n=this;if(this.$d={},this.$l=a,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return d(e*u[b(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach((function(t){n.$d[b(t)]=e[t]})),this.calMilliseconds(),this;if("string"==typeof e){var s=e.match(l);if(s){var i=s.slice(2).map((function(e){return null!=e?Number(e):0}));return this.$d.years=i[0],this.$d.months=i[1],this.$d.weeks=i[2],this.$d.days=i[3],this.$d.hours=i[4],this.$d.minutes=i[5],this.$d.seconds=i[6],this.calMilliseconds(),this}}return this}var h=m.prototype;return h.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce((function(t,a){return t+(e.$d[a]||0)*u[a]}),0)},h.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=j(e/o),e%=o,this.$d.months=j(e/r),e%=r,this.$d.days=j(e/i),e%=i,this.$d.hours=j(e/s),e%=s,this.$d.minutes=j(e/n),e%=n,this.$d.seconds=j(e/a),e%=a,this.$d.milliseconds=e},h.toISOString=function(){var e=v(this.$d.years,"Y"),t=v(this.$d.months,"M"),a=+this.$d.days||0;this.$d.weeks&&(a+=7*this.$d.weeks);var n=v(a,"D"),s=v(this.$d.hours,"H"),i=v(this.$d.minutes,"M"),c=this.$d.seconds||0;this.$d.milliseconds&&(c+=this.$d.milliseconds/1e3);var o=v(c,"S"),r=e.negative||t.negative||n.negative||s.negative||i.negative||o.negative,l=s.format||i.format||o.format?"T":"",u=(r?"-":"")+"P"+e.format+t.format+n.format+l+s.format+i.format+o.format;return"P"===u||"-P"===u?"P0D":u},h.toJSON=function(){return this.toISOString()},h.format=function(e){var a=e||"YYYY-MM-DDTHH:mm:ss",n={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return a.replace(c,(function(e,t){return t||String(n[e])}))},h.as=function(e){return this.$ms/u[b(e)]},h.get=function(e){var t=this.$ms,a=b(e);return"milliseconds"===a?t%=1e3:t="weeks"===a?j(t/u[a]):this.$d[a],0===t?0:t},h.add=function(e,t,a){var n;return n=t?e*u[b(t)]:p(e)?e.$ms:d(e,this).$ms,d(this.$ms+n*(a?-1:1),this)},h.subtract=function(e,t){return this.add(e,t,!0)},h.locale=function(e){var t=this.clone();return t.$l=e,t},h.clone=function(){return d(this.$ms,this)},h.humanize=function(t){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},h.valueOf=function(){return this.asMilliseconds()},h.milliseconds=function(){return this.get("milliseconds")},h.asMilliseconds=function(){return this.as("milliseconds")},h.seconds=function(){return this.get("seconds")},h.asSeconds=function(){return this.as("seconds")},h.minutes=function(){return this.get("minutes")},h.asMinutes=function(){return this.as("minutes")},h.hours=function(){return this.get("hours")},h.asHours=function(){return this.as("hours")},h.days=function(){return this.get("days")},h.asDays=function(){return this.as("days")},h.weeks=function(){return this.get("weeks")},h.asWeeks=function(){return this.as("weeks")},h.months=function(){return this.get("months")},h.asMonths=function(){return this.as("months")},h.years=function(){return this.get("years")},h.asYears=function(){return this.as("years")},m}();return function(a,n,s){e=s,t=s().$utils(),s.duration=function(e,t){var a=s.locale();return d(e,{$l:a},t)},s.isDuration=p;var i=n.prototype.add,c=n.prototype.subtract;n.prototype.add=function(e,t){return p(e)&&(e=e.asMilliseconds()),i.bind(this)(e,t)},n.prototype.subtract=function(e,t){return p(e)&&(e=e.asMilliseconds()),c.bind(this)(e,t)}}}()},1112:function(e,t,a){"use strict";a.d(t,"h",(function(){return d})),a.d(t,"g",(function(){return b})),a.d(t,"e",(function(){return m})),a.d(t,"f",(function(){return j})),a.d(t,"b",(function(){return h})),a.d(t,"d",(function(){return v})),a.d(t,"c",(function(){return g})),a.d(t,"a",(function(){return f})),a.d(t,"i",(function(){return x}));var n=a(8),s=a(0),i=a(4);const c=(e,t)=>e?{value:"function"===typeof t?t(e):e,success:!0}:{success:!1};var o=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=await Object(n.ac)(e,t,a,s);return i.length?i[0]:null};var r=e=>e?Object(s.a)(e.slice(0,n.a),16):e;const{htxConfig:l}=i.a,u=l.htxExchangeContract,p=l.htxVoteContract,d=async(e,t,a,s)=>{const c=await Object(n.Wb)(e,"approve(address,uint256)",[{type:"address",value:t},{type:"uint256",value:n.b}],{feeLimit:i.a.feeLimitMin},a,s);return c&&c.transaction?c.transaction.txID:""},b=async()=>{const e=await o(u,"isActive()",[]);return c(e,(e=>{var t;return null===(t=r(e))||void 0===t?void 0:t.isEqualTo(1)}))},m=async()=>{const e=await Object(n.ac)(u,"TokenA()",[]);if(e.length){const t=e[0];let a=0;return{success:!0,value:n.Lb.address.fromHex("41"+t.substr(a++*n.a,n.a).slice(24))}}return{success:!1}},j=async()=>{const e=await Object(n.ac)(u,"TokenB()",[]);if(e.length){const t=e[0];let a=0;return{success:!0,value:n.Lb.address.fromHex("41"+t.substr(a++*n.a,n.a).slice(24))}}return{success:!1}},h=async()=>{const e=await o(u,"exchangeRate()",[]);return c(e,r)},v=async()=>{const e=await o(u,"feeRate()",[]);return c(e,(e=>{var t;return null===(t=r(e))||void 0===t?void 0:t.toString()}))},g=async(e,t)=>{const a=[{type:"uint256",value:e},{type:"bool",value:t}],i=await Object(n.ac)(u,"getAmountOut(uint256,bool)",a,{},{});if(i.length){const e=i[0];let t=0;const a=Object(s.a)(e.substr(t++*n.a,n.a),16),c=Object(s.a)(e.substr(t++*n.a,n.a),16);return{success:!0,amount:a.toString(),fee:c.toString()}}return{success:!1}},f=async(e,t,a,s)=>{const i=[{type:"uint256",value:t},{type:"bool",value:a}],c=await Object(n.Wb)(e,"swap(uint256,bool)",i,{},s);return c.transaction?c.transaction.txID:""},x=async(e,t,a)=>{const n=[{type:"uint256",value:t.integerValue(s.a.ROUND_DOWN)._toHex()},{type:"bool",value:a}],i={title:"actions.vote_for_gauge_weights",obj:{percent:"".concat(Object(s.u)(t.integerValue(s.a.ROUND_DOWN),{dp:0})),pool:"SUN/HTX"}},c=await e.trigger(p,"vote(uint256,bool)",n,{},i);return c.transaction?c.transaction.txID:""}},1117:function(e,t,a){"use strict";a.d(t,"b",(function(){return i}));var n=a(204),s=a(456);const i=async e=>{let{inputs:t,abiForInterface:a}=e;if(!t||!t.length)return;const i=new n.b(a),c=[];t.forEach((e=>{const{value:t,functionFragment:a,params:s,abi:o}=e;if(o){const i=new n.b(o);e.CallInterface=i,c.push([t,i.encodeFunctionData(a,s||[])])}else e.CallInterface=i,c.push([t,i.encodeFunctionData(a,s||[])])}));const o=await Object(s.a)({shouldSigner:!1}),r=(await o.tryAggregate(!0,c).call({_isConstant:!0}))[0];return t.map(((e,t)=>{try{return e.CallInterface.decodeFunctionResult(e.functionFragment,r[t][1])}catch(a){return console.log("e",a),null}}))};t.a=async e=>{let{inputs:t,abiForInterface:a}=e;if(!t||!t.length)return;const i=new n.b(a),c=[];t.forEach((e=>{const{value:t,functionFragment:a,params:s,abi:o}=e;if(o){const i=new n.b(o);e.CallInterface=i,c.push([t,i.encodeFunctionData(a,s||[])])}else e.CallInterface=i,c.push([t,i.encodeFunctionData(a,s||[])])}));const o=await Object(s.a)({shouldSigner:!1}),r=(await o.tryAggregate(!0,c).call({_isConstant:!0}))[0];return t.map(((e,t)=>{try{return e.CallInterface.decodeFunctionResult(e.functionFragment,r[t][1])}catch(a){return console.log("e",a),null}}))}},1118:function(e,t,a){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(n,s,i){var c=s.prototype;i.utc=function(e){return new s({date:e,utc:!0,args:arguments})},c.utc=function(t){var a=i(this.toDate(),{locale:this.$L,utc:!0});return t?a.add(this.utcOffset(),e):a},c.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var o=c.parse;c.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),o.call(this,e)};var r=c.init;c.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else r.call(this)};var l=c.utcOffset;c.utcOffset=function(n,s){var i=this.$utils().u;if(i(n))return this.$u?0:i(this.$offset)?l.call(this):this.$offset;if("string"==typeof n&&(n=function(e){void 0===e&&(e="");var n=e.match(t);if(!n)return null;var s=(""+n[0]).match(a)||["-",0,0],i=s[0],c=60*+s[1]+ +s[2];return 0===c?0:"+"===i?c:-c}(n),null===n))return this;var c=Math.abs(n)<=16?60*n:n,o=this;if(s)return o.$offset=c,o.$u=0===n,o;if(0!==n){var r=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(c+r,e)).$offset=c,o.$x.$localOffset=r}else o=this.utc();return o};var u=c.format;c.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,t)},c.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var p=c.toDate;c.toDate=function(e){return"s"===e&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var d=c.diff;c.diff=function(e,t,a){if(e&&this.$u===e.$u)return d.call(this,e,t,a);var n=this.local(),s=i(e).local();return d.call(n,s,t,a)}}}()},1170:function(e,t,a){"use strict";var n=a(15),s=a.n(n),i=a(33);t.a=async()=>{let e=(new Date).getTime();const t=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t="".concat(i.default.timeService);let{data:a}=await s.a.get(t,{params:e});return 0!==Number(a.code)?{success:!1}:{success:!0,time:Number(a.data.serverTimeStamp)}}catch(t){return console.log("getServiceTime: ",t),{success:!1}}}();return t.success&&(e=t.time),e}},1171:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return s}));const n=864e5,s=(e,t,a)=>e<t||e<a?1e3:-1},1173:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(22);const s=async e=>{try{var t,a,s;const i="btfs",c="test"===i||"qaTest"===i?e.tokenSymbol:e.tokenAddress,{data:o}=await Object(n.C)([c]);return(null===(t=o[c])||void 0===t||null===(a=t.quote)||void 0===a||null===(s=a.USD)||void 0===s?void 0:s.price)||""}catch(i){console.log("get token price error",i)}}},1175:function(e,t,a){"use strict";var n=a(14),s=a.n(n),i=a(1),c=a(95),o=a(1057),r=a(1056),l=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(a[n[s]]=e[n[s]])}return a};const u=["xs","sm","md","lg","xl","xxl"],p=i.forwardRef(((e,t)=>{const{getPrefixCls:a,direction:n}=i.useContext(c.a),{gutter:p,wrap:d,supportFlexGap:b}=i.useContext(o.a),{prefixCls:m,span:j,order:h,offset:v,push:g,pull:f,className:x,children:y,flex:O,style:_}=e,A=l(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),w=a("col",m),[T,S]=Object(r.a)(w);let N={};u.forEach((t=>{let a={};const s=e[t];"number"===typeof s?a.span=s:"object"===typeof s&&(a=s||{}),delete A[t],N=Object.assign(Object.assign({},N),{["".concat(w,"-").concat(t,"-").concat(a.span)]:void 0!==a.span,["".concat(w,"-").concat(t,"-order-").concat(a.order)]:a.order||0===a.order,["".concat(w,"-").concat(t,"-offset-").concat(a.offset)]:a.offset||0===a.offset,["".concat(w,"-").concat(t,"-push-").concat(a.push)]:a.push||0===a.push,["".concat(w,"-").concat(t,"-pull-").concat(a.pull)]:a.pull||0===a.pull,["".concat(w,"-").concat(t,"-flex-").concat(a.flex)]:a.flex||"auto"===a.flex,["".concat(w,"-rtl")]:"rtl"===n})}));const k=s()(w,{["".concat(w,"-").concat(j)]:void 0!==j,["".concat(w,"-order-").concat(h)]:h,["".concat(w,"-offset-").concat(v)]:v,["".concat(w,"-push-").concat(g)]:g,["".concat(w,"-pull-").concat(f)]:f},x,N,S),D={};if(p&&p[0]>0){const e=p[0]/2;D.paddingLeft=e,D.paddingRight=e}if(p&&p[1]>0&&!b){const e=p[1]/2;D.paddingTop=e,D.paddingBottom=e}return O&&(D.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(O),!1!==d||D.minWidth||(D.minWidth=0)),T(i.createElement("div",Object.assign({},A,{style:Object.assign(Object.assign({},D),_),className:k,ref:t}),y))}));t.a=p},1218:function(e,t,a){"use strict";a.d(t,"b",(function(){return v})),a.d(t,"c",(function(){return g})),a.d(t,"d",(function(){return x})),a.d(t,"a",(function(){return y}));var n=a(1117),s=a(1),i=a(18),c=a(0),o=a(1219),r=a(1220),l=a(8),u=a(4),p=a(454),d=a(1170),b=a(1112),m=a(1171);const{htxConfig:j}=u.a,h=(e,t,a,n)=>e.gt(n)?i.a.unStart:null!==e&&void 0!==e&&e.plus(t).gt(n)?i.a.active:null!==e&&void 0!==e&&e.plus(t).lt(n)&&!a?i.a.passed:null!==e&&void 0!==e&&e.plus(t).lt(n)&&a?i.a.excused:void 0,v=()=>{const[e,t]=Object(s.useState)({});return Object(s.useEffect)((()=>{const e=["voteStartTime","voteDuration"].map((e=>({value:Object(p.a)(j.htxVoteContract),functionFragment:e})));e.push({value:Object(p.a)(j.htxExchangeContract),functionFragment:"isActive",abi:r});const a=Object(d.a)(),s=Object(n.b)({inputs:e,abiForInterface:o});Promise.allSettled([s,a]).then((e=>{let[a,n]=e;if("fulfilled"===a.status){const[e,s,i]=a.value,o=h(Object(c.a)(e[0].toString()).times(1e3),Object(c.a)(s[0].toString()).times(1e3),i[0],n.value);t({htxVoteStatus:o,voteStartTime:1e3*e[0].toString(),voteEndTime:1e3*e[0].toString()+1e3*s[0].toString()})}})).catch((e=>{console.log("useHtxSunVoteSingleStatus error",e)}))}),[]),e},g=(e,t)=>{const[a,n]=Object(s.useState)();return Object(s.useEffect)((()=>{e&&null!==t&&void 0!==t&&t.token&&Object(l.Qb)(e,[null===t||void 0===t?void 0:t.token]).then((e=>{if("-"!==e){const a=e.div(new c.a(10).pow(null===t||void 0===t?void 0:t.decimal));n(a)}}))}),[e,t]),a},f=(e,t,a)=>{const[n,c]=Object(s.useState)(a),o=Object(s.useRef)(null);return Object(s.useEffect)((()=>(Object(d.a)().then((n=>{if(clearInterval(o.current),o.current=null,c(a),!e||a===i.a.excused||a===i.a.passed||!a)return;let s=n;const r=Object(m.a)(s,+e.toString(),+t.plus(e).toString());if(r<0)return;o.current=setInterval((()=>(a=>{s+=a;const n=h(e,t,!1,s);console.log("useVoteRealStatusBeforeExcused interval",n),n===i.a.passed&&(clearInterval(o.current),o.current=null),c(n)})(r)),r)})),()=>clearInterval(o.current))),[e,t,o,a]),n},x=e=>{const t=f(e.voteStartTime,e.voteDuration,e.voteStatus),a=(e=>{const[t,a]=Object(s.useState)(!1),n=Object(s.useRef)(null);return Object(s.useEffect)((()=>{if(e===i.a.passed){clearInterval(n.current);const e=async()=>{const{value:e}=await Object(b.g)();console.log("isActive interval",e),e&&(a(e),clearInterval(n.current))};n.current=setInterval(e,1e3),e()}return()=>clearInterval(n.current)}),[e]),t})(t);return c=a,(n=t)?n===i.a.passed&&c?i.a.excused:n:null;var n,c},y=(e,t)=>{const[a,i]=Object(s.useState)({});return Object(s.useEffect)((()=>{console.log("getHtxVoteInfo"),(async()=>{const e=["voteStartTime","voteDuration","voteYes","voteNo"].map((e=>({value:Object(p.a)(j.htxVoteContract),functionFragment:e})));e.push({value:Object(p.a)(j.htxExchangeContract),functionFragment:"isActive",abi:r});const t=Object(d.a)(),a=Object(n.b)({inputs:e,abiForInterface:o}),[s,i]=await Promise.allSettled([a,t]);if("fulfilled"===s.status){const[e,t,a,n,o]=s.value,r={voteStartTime:Object(c.a)(e[0].toString()).times(1e3),voteDuration:Object(c.a)(t[0].toString()).times(1e3),voteYes:Object(c.a)(a[0].toString()),voteNo:Object(c.a)(n[0].toString()),isActive:o[0],voteEndTime:Object(c.a)(e[0].toString()).plus(t[0].toString()).times(1e3)},l=h(r.voteStartTime,r.voteDuration,r.isActive,i.value);r.totalVote=r.voteYes.plus(r.voteNo);const u=r.totalVote.gt(0),p=u?r.voteYes.div(r.voteYes.plus(r.voteNo)).times(100).integerValue().toString():"0",d=u?(100-p).toString():"0";return{...r,yesRate:p,noRate:d,voteStatus:l}}})().then((e=>i((t=>({...t,...e}))))),(async e=>{if(!e)return{};const t=["votes","voteResult"].map((t=>({value:Object(p.a)(j.htxVoteContract),functionFragment:t,params:[Object(p.a)(e)]}))),a=await Object(n.b)({inputs:t,abiForInterface:o}),[s,i]=a;return{votes:Object(c.a)(s[0].toString()),voteResult:i[0]}})(e).then((e=>e.votes&&i((t=>({...t,...e})))))}),[t,e]),a}},1219:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_baseToken","type":"address"},{"internalType":"uint256","name":"_voteDuration","type":"uint256"},{"internalType":"uint256","name":"_voteStartTime","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"bool","name":"_voteYes","type":"bool"},{"indexed":false,"internalType":"uint256","name":"voteYes","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"voteNo","type":"uint256"}],"name":"Vote","type":"event"},{"inputs":[],"name":"BaseToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bool","name":"_voteResult","type":"bool"}],"name":"vote","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"voteDuration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"voteNo","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"voteResult","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"voteStartTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"voteYes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"votes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]')},1220:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_tokenA","type":"address"},{"internalType":"address","name":"_tokenB","type":"address"},{"internalType":"uint256","name":"_exchangeRate","type":"uint256"},{"internalType":"uint256","name":"_feeRate","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"forward","type":"bool"},{"indexed":false,"internalType":"uint256","name":"amountIn","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amountOut","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"fee","type":"uint256"}],"name":"Exchange","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"oldRate","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newRate","type":"uint256"}],"name":"ExchangeRateChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"oldRate","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newRate","type":"uint256"}],"name":"FeeRateChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"oldOperator","type":"address"},{"indexed":false,"internalType":"address","name":"newOperator","type":"address"}],"name":"OperatorChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bool","name":"newStatus","type":"bool"}],"name":"PoolStatusChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Recovered","type":"event"},{"inputs":[],"name":"BASEAMOUNT","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"TokenA","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"TokenB","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"exchangeRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeRate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bool","name":"_forward","type":"bool"}],"name":"getAmountOut","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"fee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isActive","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"operator","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pausePool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"tokenAmount","type":"uint256"}],"name":"recoverTRC20","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"recoverTRX","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"rate","type":"uint256"}],"name":"setExchangeRate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"rate","type":"uint256"}],"name":"setFeeRate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOperator","type":"address"}],"name":"setOperator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"startPool","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bool","name":"_forward","type":"bool"}],"name":"swap","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOperator","type":"address"}],"name":"transferOperator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},1225:function(e,t,a){"use strict";t.a=a.p+"static/media/ico_switch.7800d88b.svg"},1226:function(e,t,a){"use strict";t.a=a.p+"static/media/ico_switch_light.6cf08f13.svg"},1315:function(e,t,a){"use strict";var n=a(1316);t.a=n.a},1316:function(e,t,a){"use strict";var n=a(14),s=a.n(n),i=a(1),c=a(95),o=a(1169),r=a(1168),l=a(1057),u=a(1056),p=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(a[n[s]]=e[n[s]])}return a};function d(e,t){const[a,n]=i.useState("string"===typeof e?e:"");return i.useEffect((()=>{(()=>{if("string"===typeof e&&n(e),"object"===typeof e)for(let a=0;a<r.b.length;a++){const s=r.b[a];if(!t[s])continue;const i=e[s];if(void 0!==i)return void n(i)}})()}),[JSON.stringify(e),t]),a}const b=i.forwardRef(((e,t)=>{const{prefixCls:a,justify:n,align:b,className:m,style:j,children:h,gutter:v=0,wrap:g}=e,f=p(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:x,direction:y}=i.useContext(c.a),[O,_]=i.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[A,w]=i.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),T=d(b,A),S=d(n,A),N=Object(o.a)(),k=i.useRef(v),D=Object(r.a)();i.useEffect((()=>{const e=D.subscribe((e=>{w(e);const t=k.current||0;(!Array.isArray(t)&&"object"===typeof t||Array.isArray(t)&&("object"===typeof t[0]||"object"===typeof t[1]))&&_(e)}));return()=>D.unsubscribe(e)}),[]);const C=x("row",a),[M,F]=Object(u.b)(C),E=(()=>{const e=[void 0,void 0];return(Array.isArray(v)?v:[v,void 0]).forEach(((t,a)=>{if("object"===typeof t)for(let n=0;n<r.b.length;n++){const s=r.b[n];if(O[s]&&void 0!==t[s]){e[a]=t[s];break}}else e[a]=t})),e})(),H=s()(C,{["".concat(C,"-no-wrap")]:!1===g,["".concat(C,"-").concat(S)]:S,["".concat(C,"-").concat(T)]:T,["".concat(C,"-rtl")]:"rtl"===y},m,F),I={},B=null!=E[0]&&E[0]>0?E[0]/-2:void 0,R=null!=E[1]&&E[1]>0?E[1]/-2:void 0;B&&(I.marginLeft=B,I.marginRight=B),N?[,I.rowGap]=E:R&&(I.marginTop=R,I.marginBottom=R);const[V,Q]=E,U=i.useMemo((()=>({gutter:[V,Q],wrap:g,supportFlexGap:N})),[V,Q,g,N]);return M(i.createElement(l.a.Provider,{value:U},i.createElement("div",Object.assign({},f,{className:H,style:Object.assign(Object.assign({},I),j),ref:t}),h)))}));t.a=b},1317:function(e,t,a){"use strict";var n=a(1175);t.a=n.a},1408:function(e,t,a){e.exports={"page-head":"style_page-head__1DykA",link:"style_link__iiVSU","gradient-title":"style_gradient-title__1WHOe",animateTitle:"style_animateTitle__3HVFH","dim-content":"style_dim-content__1J9HK",uppercase:"style_uppercase__1AEXt","window-for-tabs-pane":"style_window-for-tabs-pane__3Xzmu","dark-btn":"style_dark-btn__17QFo","purple-btn":"style_purple-btn__279T6","cur-input":"style_cur-input__1dajj","max-btn":"style_max-btn__77dvP",swap_balance:"style_swap_balance__1Fuca",swap_arrow:"style_swap_arrow__3XCK-",swap_detail_label:"style_swap_detail_label__2rzzf",swap_detail_value:"style_swap_detail_value__33-na",usd_price_text:"style_usd_price_text__3lP04"}},1925:function(e,t,a){e.exports={token_address:"style_token_address__14EYP",token_view_icon:"style_token_view_icon__1aokJ"}},1926:function(e,t,a){e.exports={"page-head":"style_page-head__3jAMF",link:"style_link__116XL","gradient-title":"style_gradient-title__15fH1",animateTitle:"style_animateTitle__3hSvJ","dim-content":"style_dim-content__1H2ka",uppercase:"style_uppercase__2ma3G","window-for-tabs-pane":"style_window-for-tabs-pane__zf0co","dark-btn":"style_dark-btn__t3BzF","purple-btn":"style_purple-btn__1TC-p","cur-input":"style_cur-input__1nKBi","max-btn":"style_max-btn__2iq9q",input_wrap:"style_input_wrap__1y1x1",input_wrap_active:"style_input_wrap_active__1-XkW",input_wrap_disabled:"style_input_wrap_disabled__3G2Re",with_max_input:"style_with_max_input__19Lk3",max_btn:"style_max_btn__IF0pQ"}},1927:function(e,t,a){e.exports={"page-head":"style_page-head__2Wl-k",link:"style_link__2QI1F","gradient-title":"style_gradient-title__20iGP",animateTitle:"style_animateTitle__1H7fk","dim-content":"style_dim-content__3XcL3",uppercase:"style_uppercase__3uhP5","window-for-tabs-pane":"style_window-for-tabs-pane__2KJmm","dark-btn":"style_dark-btn__2bDhT","purple-btn":"style_purple-btn__3Q26x","cur-input":"style_cur-input__1NsG7","max-btn":"style_max-btn__YUFS3",swap_detail_rate:"style_swap_detail_rate__1TgDb",swap_detail_per:"style_swap_detail_per__1uGNh"}},1928:function(e,t,a){},1984:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(11),c=a.n(i),o=a(910),r=a(920),l=a.p+"static/media/page_htx_proposal_icon.e7612860.png",u=a(18),p=a(3);var d=e=>{const t=[{name:c.a.get("htx.page.vote.proposalActive"),key:u.a.unStart,classnames:"page-htx-proposal-status page-htx-proposal-status-unStart"},{name:c.a.get("htx.page.vote.proposalActive"),key:u.a.active,classnames:"page-htx-proposal-status page-htx-proposal-status-active"},{name:c.a.get("htx.page.vote.proposalPassed"),key:u.a.passed,classnames:"page-htx-proposal-status page-htx-proposal-status-passed"},{name:c.a.get("htx.page.vote.proposalExcused"),key:u.a.excused,classnames:"page-htx-proposal-status page-htx-proposal-status-excused"}];return Object(p.jsx)(p.Fragment,{children:(()=>{const a=t.findIndex((t=>t.key===e.status))>=0?t.findIndex((t=>t.key===e.status)):1,n=t[a];return e.status&&e.status!==u.a.unStart&&Object(p.jsx)("div",{className:n.classnames,children:n.name})})()})},b=a(314),m=a(0),j=a(191),h=a(169),v=a(70),g=a(68);var f=e=>{const t=e.status===u.a.unStart||e.status===u.a.active,a=Object(h.default)(h.isMobileOnlyMedia),n=Object(v.d)((()=>g.default.network)),s=!n.isConnected&&(e.status===u.a.unStart||e.status===u.a.active);return console.log("ssss",!n.isConnected,e.status),Object(p.jsx)(v.a,{children:()=>{var i;return Object(p.jsxs)("div",{className:"page-htx-proposal",children:[Object(p.jsxs)("div",{className:"page-htx-proposal-l",children:[Object(p.jsx)("div",{className:"page-htx-proposal-icon",children:Object(p.jsx)("img",{src:l,alt:"proposal_icon"})}),Object(p.jsxs)("div",{className:"page-htx-proposal-title",children:[Object(p.jsxs)("div",{className:"page-htx-proposal-title1",children:[c.a.get("htx.page.vote.proposalTitle1"),!a&&Object(p.jsx)(d,{status:e.status})]}),a&&Object(p.jsx)(d,{status:e.status})]})]}),s&&Object(p.jsx)("div",{className:"page-htx-proposal-r-wallet",children:Object(p.jsx)("div",{onClick:()=>n.setData({loginModalVisible:!0,loginModalStep:1}),children:Object(p.jsx)("div",{className:"vote-title-wallet",children:c.a.get("header.connect_wallet")})})}),e.isConnected&&t&&Object(p.jsxs)("div",{className:"page-htx-proposal-r",children:[Object(p.jsxs)("div",{className:"htx-proposal-item",children:[Object(p.jsx)("div",{className:"htx-proposal-label",children:c.a.get("htx.page.vote.balance")}),Object(p.jsx)("div",{className:"htx-proposal-value",children:Object(m.v)(e.balance,{dp:2})})]}),Object(p.jsxs)("div",{className:"htx-proposal-item",children:[Object(p.jsxs)("div",{className:"htx-proposal-label-wrap",children:[Object(p.jsx)("div",{className:"htx-proposal-label mr5",children:c.a.get("htx.page.vote.power")}),Object(p.jsx)(b.a,{className:"htx-proposal-label-question",overlayClassName:"htx-proposal-tooltip-card",title:Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"htx-proposal-tooltip",children:c.a.getHTML("htx.page.vote.ownLabelTips1")}),Object(p.jsx)("div",{className:"htx-proposal-tooltip",children:c.a.getHTML("htx.page.vote.ownLabelTips2")}),Object(p.jsx)("div",{className:"htx-proposal-tooltip",children:c.a.getHTML("htx.page.vote.ownLabelTips3")})]}),children:Object(p.jsx)(j.a,{fullFilled:!0})})]}),Object(p.jsx)("div",{className:"htx-proposal-value",children:Object(m.v)(null===(i=e.power)||void 0===i?void 0:i.integerValue(m.a.ROUND_DOWN),{dp:0})})]})]})]})}})};var x=e=>Object(p.jsxs)("div",{className:"count-down-item",children:[Object(p.jsxs)("div",{className:"count-down-item-body",children:[Object(p.jsxs)("div",{className:"count-down-item-bg",children:[Object(p.jsx)("div",{className:"count-down-item-bg1"}),Object(p.jsx)("div",{className:"count-down-item-bg2"})]}),Object(p.jsx)("div",{className:"count-down-number",children:e.targetNumber})]}),Object(p.jsx)("div",{className:"count-down-desc",children:e.desc})]}),y=a(1170),O=a(1098),_=a(1171);const A=e=>e<10?"0"+e:e;var w=e=>{const{startTime:t,duration:a,voteStatus:s}=e,[i,o]=Object(n.useState)({}),[r,l]=Object(n.useState)(!0),[d,b]=Object(n.useState)(null),m=Object(n.useRef)(null);return Object(n.useEffect)((()=>{if(t&&a)return Object(y.a)().then((e=>{clearInterval(m.current),m.current=null,b(e);const n=Object(_.a)(e,t,t+a);if(n<0)return;let s=e;m.current=setInterval((()=>(e=>{s+=e;const n=Object(_.a)(s,t,t+a);console.log("getServiceTime interval",n),n<0&&(clearInterval(m.current),m.current=null),b(s)})(n)),n)})),()=>{clearInterval(m.current),m.current=null}}),[t,a,m]),Object(n.useEffect)((()=>{if(!d)return;if(t>=d)return void o({days:"00",hours:"00",minutes:"00"});const e=Object(O.a)(t+a).diff(Object(O.a)(d));if(e<_.b)return o({days:"00",hours:A(O.a.duration(e).hours()),minutes:A(O.a.duration(e).minutes()),seconds:A(O.a.duration(e).seconds())}),void l(!1);o({days:A(O.a.duration(e).days()),hours:A(O.a.duration(e).hours()),minutes:A(O.a.duration(e).minutes())})}),[t,a,d]),Object(p.jsxs)("div",{className:"vote-countdown",children:[s===u.a.active&&Object(p.jsx)("div",{className:"vote-countdown-title",children:c.a.get("htx.page.vote.countdownTitle")}),Object(p.jsxs)("div",{className:"vote-countdown-list",children:[r&&Object(p.jsx)("div",{className:"vote-countdown-item",children:Object(p.jsx)(x,{targetNumber:i.days,desc:c.a.get("htx.page.vote.days")})}),Object(p.jsx)("div",{className:"vote-countdown-item",children:Object(p.jsx)(x,{targetNumber:i.hours,desc:c.a.get("htx.page.vote.hours")})}),Object(p.jsx)("div",{className:"vote-countdown-item",children:Object(p.jsx)(x,{targetNumber:i.minutes,desc:c.a.get("htx.page.vote.minutes")})}),!r&&Object(p.jsx)("div",{className:"vote-countdown-item",children:Object(p.jsx)(x,{targetNumber:i.seconds,desc:c.a.get("htx.page.vote.seconds")})})]})]})},T=a.p+"static/media/page_htx_vote_percent_img_yes_en.21bd8358.png",S=a.p+"static/media/page_htx_vote_percent_img_yes_zh.aa5a0c6e.png",N=a.p+"static/media/page_htx_vote_percent_img_yes_tc.aa5a0c6e.png",k=a.p+"static/media/page_htx_vote_percent_img_no_en.e06c90ca.png",D=a.p+"static/media/page_htx_vote_percent_img_no_zh.268cfb0c.png",C=a.p+"static/media/page_htx_vote_percent_img_no_tc.f2b51268.png",M=a.p+"static/media/htx_page_vs.5ee415b6.png",F=a.p+"static/media/htx_page_vs_light.a6b773db.png",E=a(4),H=a(171);const{htxConfig:I}=E.a;var B=e=>{var t;const a=window.localStorage.getItem("lang")||c.a.options.currentLocale,s=Object(v.d)((()=>g.default.network)),{voteInfo:i,handleVote:o,reVote:r,setReVote:l,sunBalance:d,voteStatus:f}=e,x=null===i||void 0===i||null===(t=i.votes)||void 0===t?void 0:t.gt(0),y=x&&(null===i||void 0===i?void 0:i.voteResult),O=x&&!(null!==i&&void 0!==i&&i.voteResult),_=Object(h.default)(h.isMobileOnlyMedia),A=f===u.a.unStart||f===u.a.active,B=f===u.a.active&&x,R=f===u.a.unStart||f===u.a.active,V=Object(v.d)((()=>g.default.themeStore)),Q=f===u.a.unStart||(!d||d.lte(0))&&s.isConnected||x&&s.isConnected&&!r,U=()=>{let e=T;return"zh-CN"===a?e=S:"zh-TC"===a&&(e=N),Object(p.jsx)("img",{src:e,alt:"yes"})},L=()=>{let e=k;return"zh-CN"===a?e=D:"zh-TC"===a&&(e=C),Object(p.jsx)("img",{src:e,alt:"no"})},P=Object(n.useCallback)((e=>{s.isConnected?o(e):s.setData({loginModalVisible:!0,loginModalStep:1})}),[o,s]);return Object(p.jsx)(v.a,{children:()=>{var e,t,a,n,s;return Object(p.jsxs)("div",{className:"page-htx-vote-main",children:[_&&Object(p.jsx)("div",{className:"page-htx-vote-percent-c-mobile",children:A&&Object(p.jsx)(w,{startTime:null===i||void 0===i||null===(e=i.voteStartTime)||void 0===e?void 0:e.toNumber(),duration:null===i||void 0===i||null===(t=i.voteDuration)||void 0===t?void 0:t.toNumber(),voteStatus:f})}),Object(p.jsxs)("div",{className:"",children:[Object(p.jsxs)("div",{className:"page-htx-vote-percent-t",children:[Object(p.jsx)("div",{className:"page-htx-vote-percent-img",children:U()}),Object(p.jsx)("div",{className:"page-htx-vote-percent-img",children:L()})]}),Object(p.jsxs)("div",{className:"page-htx-vote-percent-c",children:[Object(p.jsx)("div",{className:"page-htx-vote-percent-l",style:{width:"".concat(null!==(a=i.totalVote)&&void 0!==a&&a.gt(0)?i.yesRate:50,"%")},children:Object(p.jsxs)("span",{children:[i.yesRate,"%"]})}),Object(p.jsxs)("div",{className:"page-htx-vote-percent-r",children:[Object(p.jsxs)("span",{children:[i.noRate,"%"]}),Object(p.jsx)("div",{className:"page-htx-vote-vs",children:Object(p.jsx)("img",{src:"dark"===V.theme?M:F,alt:"vs"})})]})]}),Object(p.jsxs)("div",{className:"page-htx-vote-percent-b",children:[Object(p.jsx)("div",{className:"page-htx-vote-percent-b-item",children:Object(m.v)(null===i||void 0===i?void 0:i.voteYes,{dp:0})}),Object(p.jsx)("div",{className:"page-htx-vote-percent-b-item",children:Object(m.v)(null===i||void 0===i?void 0:i.voteNo,{dp:0})})]})]}),R&&Object(p.jsxs)("div",{className:"page-htx-vote-area",children:[Object(p.jsx)("div",{className:"page-htx-vote-area-l",children:Object(p.jsx)("button",{type:"button",disabled:Q,onClick:()=>P(1),children:c.a.get(y?"htx.page.vote.btnYesText1":"htx.page.vote.btnYesText")})}),!_&&Object(p.jsx)("div",{className:"page-htx-vote-area-c",children:A&&Object(p.jsx)(w,{startTime:null===i||void 0===i||null===(n=i.voteStartTime)||void 0===n?void 0:n.toNumber(),duration:null===i||void 0===i||null===(s=i.voteDuration)||void 0===s?void 0:s.toNumber(),voteStatus:f})}),Object(p.jsx)("div",{className:"page-htx-vote-area-r",children:Object(p.jsx)("button",{type:"button",disabled:Q,onClick:()=>P(2),children:c.a.get(O?"htx.page.vote.btnNoText1":"htx.page.vote.btnNoText")})})]}),B&&Object(p.jsxs)("div",{className:"page-htx-vote-refresh",style:{textAlign:y?"":"right"},children:[Object(p.jsx)("span",{className:"page-htx-vote-refresh-title",children:c.a.get("htx.page.vote.tipsTitle1",{value:Object(m.v)(i.votes,{dp:0})})}),Object(p.jsx)("span",{className:"page-htx-vote-refresh-desc",onClick:()=>l(!0),children:c.a.get("htx.page.vote.tipsTitle2")}),Object(p.jsx)(b.a,{title:c.a.get("htx.page.vote.tipsTitle3"),children:Object(p.jsx)(j.a,{fullFilled:!0})})]}),Object(p.jsxs)("div",{className:"page-htx-vote-rules",children:[Object(p.jsxs)("div",{className:"page-htx-vote-rules-title",children:[Object(p.jsx)("div",{className:"page-htx-vote-rules-title-l",children:c.a.get("htx.page.vote.rulesTitle")}),Object(p.jsxs)("div",{className:"page-htx-vote-rules-title-r",children:[Object(p.jsx)("img",{src:"dark"===V.theme?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAgCAMAAABNTyq8AAAAAXNSR0IArs4c6QAAALdQTFRFAAAA////v7//v5//xpz/vKH/v6b/vaH/v6T/xKL/wqH/v5//wqH/wqD/v6L/wqL/w6H/wJ//waD/wqH/wZ//wqH/wJ//waH/wZ//waD/wKH/waH/wKH/waD/wqH/wZ//wqD/wKD/wqD/waD/wqD/waH/waD/wKH/waD/waD/wKH/waD/waD/waD/wqH/waD/waD/waD/waD/waD/waD/waD/waD/waD/waD/waD/waD/waD/waD/x2lsQwAAADx0Uk5TAAEEEBITFBscHi4wNjs8P0xNTk9SVF1fYmZqh4qPkpWWn6ayv8XK0NPV2Nvd3uDm6+zt8PHz9fn7/P3+MmGezgAAAM5JREFUOMu1lMcOgkAURa8de+8du6IoVuD+/3e5MJYBdEYTz2oWJ5nXAU03+QFT1wDNogRLg04pOky5ZIIKfCU5xtKH4YiSnUUAOVuQ1ghkI0huIcgpuZ7ADzsfh5+y+4Nkdxt3WlOPNEqWtyTJ4Ut2MbFOzAOpnUxqA0hbku+cGoDMRRK4UwQwlkizKBA2PkuLOIABSbqPthy9UgVAjyRXiWd2TY9UB7okyc5LCUJnUdr3J7fHPPKUqm97d3qM7+YPU6C0nEprrnQwVE7PFaCc3Sx/sJvrAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAgCAMAAABNTyq8AAAAAXNSR0IArs4c6QAAALdQTFRFAAAA/wD/gED/j1D/jlX/hlH/jE3/jlX/iVL/iFX/i1P/ilD/jlD/ilL/jFH/jlH/jVH/i0//jVL/i1H/jFH/jFL/jFL/jFH/jVH/jFD/jFL/jFH/jFH/jVD/jFD/jFD/i1L/jFL/jFH/jFL/jFH/jFL/jFH/jFH/jFH/jFH/jFH/jFL/jFH/jFL/jFH/jFH/jFH/jFH/jFH/jFH/jFH/jFH/jVH/jFH/jFH/jFH/jFH/jFH/jFH/VKNyDwAAADx0Uk5TAAEEEBITFBscHi4wNjs8P0xNTk9SVF1fYmZqh4qPkpWWn6ayv8XK0NPV2Nvd3uDm6+zt8PHz9fn7/P3+MmGezgAAAM5JREFUOMu1lMcOgkAURa8de+8du6IoVuD+/3e5MJYBdEYTz2oWJ5nXAU03+QFT1wDNogRLg04pOky5ZIIKfCU5xtKH4YiSnUUAOVuQ1ghkI0huIcgpuZ7ADzsfh5+y+4Nkdxt3WlOPNEqWtyTJ4Ut2MbFOzAOpnUxqA0hbku+cGoDMRRK4UwQwlkizKBA2PkuLOIABSbqPthy9UgVAjyRXiWd2TY9UB7okyc5LCUJnUdr3J7fHPPKUqm97d3qM7+YPU6C0nEprrnQwVE7PFaCc3Sx/sJvrAAAAAElFTkSuQmCC",alt:"addr"}),Object(p.jsx)(H.a,{href:"".concat(E.a.tronscanUrl,"/contract/").concat(I.htxVoteContract),target:"_blank",rel:"noopener noreferrer",children:Object(m.r)(I.htxVoteContract,6,6)})]})]}),Object(p.jsx)("div",{className:"page-htx-vote-rules-list",children:Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:c.a.get("htx.page.vote.ruleDesc1")}),Object(p.jsx)("li",{children:c.a.get("htx.page.vote.ruleDesc2")}),Object(p.jsx)("li",{children:c.a.get("htx.page.vote.ruleDesc3")}),Object(p.jsx)("li",{children:c.a.get("htx.page.vote.ruleDesc4")}),Object(p.jsx)("li",{children:c.a.get("htx.page.vote.ruleDesc5")}),Object(p.jsx)("li",{children:c.a.get("htx.page.vote.ruleDesc6")}),Object(p.jsx)("li",{children:c.a.get("htx.page.vote.ruleDesc7")}),Object(p.jsx)("li",{children:c.a.get("htx.page.vote.ruleDesc8")}),Object(p.jsx)("li",{children:c.a.get("htx.page.vote.ruleDesc9")}),Object(p.jsx)("li",{children:c.a.get("htx.page.vote.ruleDesc10")}),Object(p.jsx)("li",{children:c.a.get("htx.page.vote.ruleDesc11")})]})})]})]})}})},R=a.p+"static/media/htx_page_bannber_en.b20a1053.png",V=a.p+"static/media/htx_page_bannber_zh.e7e9272f.png",Q=a.p+"static/media/htx_page_bannber_tc.8deda45a.png",U=a.p+"static/media/htx_page_bannber_en_light.f72fa8df.png",L=a.p+"static/media/htx_page_bannber_zh_light.40515c26.png",P=a.p+"static/media/htx_page_bannber_tc_light.1a50f71a.png";var Y=e=>{const t=window.localStorage.getItem("lang")||c.a.options.currentLocale;return Object(p.jsx)("div",{className:"page-htx-banner",children:(()=>{let a="dark"===e.theme?R:U;return"zh-CN"===t?a="dark"===e.theme?V:L:"zh-TC"===t&&(a="dark"===e.theme?Q:P),Object(p.jsx)("img",{src:a,alt:"htx_sun"})})()})},z=a(1315),G=a(1317);var J=e=>{const t=Object(v.d)((()=>g.default.network)),a=()=>Object(p.jsx)("div",{className:"htx-submit-btn ".concat(e.errorTip&&"htx-submit-btn-disabled"),...e,children:e.errorTip?e.errorTip:c.a.get("buysell.swap")});return Object(p.jsx)(v.a,{children:()=>Object(p.jsx)(s.a.Fragment,{children:t.isConnected?Object(p.jsx)(a,{}):Object(p.jsx)("div",{className:"htx-submit-btn",onClick:()=>t.setData({loginModalVisible:!0,loginModalStep:1}),children:c.a.get("header.connect_wallet")})})})},W=a(1408),K=a.n(W);var Z=e=>{const{tokenPrice:t,tokenValue:a}=e,n=Object(m.db)(a).times(Object(m.db)(t));return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:W.usd_price_text,children:Object(m.v)(n,{dp:2,needDolar:!0,cutZero:!1,miniText:.01})})})},q=a(170),X={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm144 452H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm445.7 51.5l-93.3-93.3C814.7 780.7 828 743.9 828 704c0-97.2-78.8-176-176-176s-176 78.8-176 176 78.8 176 176 176c35.8 0 69-10.7 96.8-29l94.7 94.7c1.6 1.6 3.6 2.3 5.6 2.3s4.1-.8 5.6-2.3l31-31a7.9 7.9 0 000-11.2zM652 816c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"file-search",theme:"outlined"},$=a(174),ee=function(e,t){return n.createElement($.a,Object.assign({},e,{ref:t,icon:X}))};ee.displayName="FileSearchOutlined";var te=n.forwardRef(ee),ae=a(1925);var ne=e=>{const{tokenSymbol:t,tokenLogoUrl:a,tokenAddress:n}=e;return Object(p.jsxs)("div",{className:ae.token_address,children:[Object(p.jsx)("img",{alt:"",src:a||q.a,onError:e=>{e.target.src!==q.a&&(e.target.src=q.a)}}),Object(p.jsx)("span",{children:t}),Object(p.jsx)("span",{children:Object(m.hb)(Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(te,{className:ae.token_view_icon+" ml-20"})}),n)})]})},se=a(1951),ie=a(14),ce=a.n(ie),oe=a(1926);const re=e=>{const{className:t,onMaxClick:a,showMax:s=!0,bottomContent:i,disabled:o,...r}=e,[l,u]=Object(n.useState)(!1),d=Object(n.useCallback)((()=>{u(!1)}),[]);return Object(p.jsxs)("div",{className:ce()(oe.input_wrap,t,{[oe.input_wrap_active]:l,[oe.input_wrap_disabled]:o}),children:[Object(p.jsxs)("div",{className:"flex",onFocus:()=>{u(!0)},onBlur:d,children:[Object(p.jsx)(se.a,{placeholder:"0",className:oe.with_max_input,...r}),s&&Object(p.jsx)("span",{className:oe.max_btn,onClick:a,children:c.a.get("swap.input_from_max")})]}),Object(p.jsx)(p.Fragment,{children:i})]})};var le=Object(n.memo)(re),ue=a(1927),pe=a.n(ue),de=a(1225),be=a(1226);var me=e=>{const[t,a]=Object(n.useState)(!1),{priceStr:s,priceInverseStr:i,fromToken:o,toToken:r}=e,l=async()=>{a(!t)};return Object(p.jsxs)("span",{className:pe.a.swap_detail_rate,children:[t?c.a.getHTML("swap.input_from_per",{toToken:o.symbol,price:Object(m.v)(i,{miniText:E.a.minPrice,miniTextNoZero:!0,separator:!1,dp:r.decimal,cutZero:!0}),fromToken:r.symbol}):c.a.getHTML("swap.input_from_per",{toToken:r.symbol,price:Object(m.v)(s,{miniText:E.a.minPrice,miniTextNoZero:!0,separator:!1,dp:o.decimal,cutZero:!0}),fromToken:o.symbol}),Object(p.jsx)("img",{src:de.a,className:"ml-12 base-dark-show",onClick:l,alt:"",style:{width:22}}),Object(p.jsx)("img",{src:be.a,className:"ml-12 base-light-show",onClick:l,alt:"",style:{width:22}})]})},je=a(131),he=a(8),ve=a(1112),ge=a(1173);let fe=E.a.TOKENS.htx,xe=E.a.TOKENS.sun;fe.token=null,xe.token=null,fe.logoUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAAXNSR0IArs4c6QAAAiJQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEBAAECAQAAAQEDAQIDAQQFAgAAAgcKAgkOAgoOAwEBBBMcBQEBBRQdBRYfBRchBhgjBhsmBwEBByAtCAECCCAuCCIvCCQzCQICCgIBCzFFCzRJDDBFDgICDwICEAMCEEJfEENgEEZkEgMDEwMDE1N3FAMDFFR3FV2EFmSOFwQEF2WPGGiUGG2bGW2aGXGgGnSlGniqGnmrG3KiG3aoHAUFHgQFIIzHIQUFIgYGIpnZI5rbI5vdJJ7gJKLmJaXqJgUFJqnwJqnxJqrxJqvzJqz0J6vzJ6z0J632J674J6/4J6/5J7D6KLH7KLP+KQYGMggHMwgIOQkJPQoJQAoKQgoKRgsKTgwMVA0NaBAQaRAQdBESdBISehMTexMTfhQTghQUiBUViRUVkRcWlRcXmRcXmhgXmxcYoBkZohgZqBkaqRkasRobuhwcvh0dwRwexB0exB4eyB8fyx4fzh8g1iAh1iEh2CAh2SAh4CIj4SEj5iIj6iMk7CQk8CQl8SQk8yQl9CQl9iQm9iUl9yUm+CUl+SUm+iUm+yUm+yYn/CUm/CYn/SUm/SYn/iUn/iYn/yYn/ycop1t9rwAAACJ0Uk5TAAQFCxkaKitERUxNVldYWmqJiqe0tcPK4OLm6On4+vv9/kh69IkAAAIsSURBVDjLjZVldxNQDIazdb7O2q2TTgMUGO7u7m6DAQPSFra2+LAx3N1dh6WlSG//Hx8GnOSuPaf5luQ5V3KT9wIoyy2o8HgbG72eioJcSGuOYncN/rcad7EjJZZdVo2WVZdlD+TyKzGFVebbXEkdprS6Es2VN2AaayhXXLPMzVRksyCder2L3XpN5z8ur17vdu/ZPOXX5/VzWVWaa32UPKsjVVkAAFBqHX/ba/NUHxNLAQAcdp1Pf49/Om5V3gEARS0WeMdwskeHWooAwG1x3X0xNpetoBsgp1aH5j9OMJurFlibA4U6MvqaYebkOfuBCsGlS3MpEWWOfziKQzToAo/yL/yMMbO54cPZywbJhAe80j3zLc7M5mUb4vpDi2TGC03CW/0qwczxvlOI0/Z07Z4gUk0K7DXMHE30Ig7dGqLISgWKrac+NMxs7o5FXNjpp67to+TW4jJtb+PMP97sQBy/cz9RYO8keRlRniNfosyJ84i4KkJE1DlDlkcUfN/HGMfetyNO7AgSEQWmyIKLJ1z+/DcnnsxCXBwiIgruGiOfUDSF77Zh82Ay4roQEVF40zDZFLLNTn6N/nqxAHFzmIgCgTm6zUTj+m6a6OdjiGvCRP6DawfrxpWjsOR+0lxBnHvAH4xsHGmNghqupdf5XTsO33K4Y8WIAcOlx/XErR7EcRumpxhXWwBabVFxppMUTCspmYtU5rKXuZBmLs2Zi/3f78PV/3247O/jDzrr/LzfkyFRAAAAAElFTkSuQmCC",xe.logoUrl="data:image/png;base64,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",fe.precision=Object(m.a)(10).pow(18),xe.precision=Object(m.a)(10).pow(18);const ye=fe,Oe=xe;function _e(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,a]=Object(n.useState)(null),[s,i]=Object(n.useState)(null);Object(n.useEffect)((()=>{c()}),[]);const c=async()=>{const t=await Object(ve.e)(),n=await Object(ve.f)();if(t.success&&n.success){const s={...ye,tokenSymbol:ye.symbol,tokenAddress:t.value,token:t.value},c={...Oe,tokenSymbol:Oe.symbol,tokenAddress:n.value,token:n.value};e&&(s.tokenPrice=await Object(ge.a)(s),c.tokenPrice=await Object(ge.a)(c)),a(s),i(c)}};return{initTokenA:t,initTokenB:s}}var Ae=a(1041),we=a(967),Te=a(984);const{htxConfig:Se}=E.a,Ne=Se.htxExchangeContract,ke={start:"process",default:"wait",pending:"process",success:"finish",failed:"error",error:"error"};var De=e=>{const{useeAddress:t}=e,[a,s]=Object(n.useState)(ye),[i,o]=Object(n.useState)(Oe),[r,l]=Object(n.useState)(""),[u,d]=Object(n.useState)(""),[b,j]=Object(n.useState)("-"),[f,x]=Object(n.useState)("-"),[y,O]=Object(n.useState)(0),[_,A]=Object(n.useState)(0),[w,T]=Object(n.useState)(!0),[S,N]=Object(n.useState)(""),[k,D]=Object(n.useState)(!0),[C,M]=Object(n.useState)(!1),[F,H]=Object(n.useState)(!1),[I,B]=Object(n.useState)(!1),{initTokenA:R,initTokenB:V}=_e(!0),Q=Object(v.d)((()=>g.default.swapModalStore)),U=Object(v.d)((()=>g.default.network)),L=Object(h.default)(h.isMobileOnlyMedia);Object(n.useEffect)((()=>{q(),X()}),[]),Object(n.useEffect)((()=>{R&&V&&(s(R),o(V),W(R),W(V))}),[R,V,t]),Object(n.useEffect)((()=>{r||(d(""),O(0)),ae(),se()}),[r,u,w]);const P=Object(n.useMemo)((()=>Object(m.v)(Object(m.db)(a.tokenPrice).multipliedBy(y),{dp:2})),[y,a]),Y=Object(n.useMemo)((()=>Object(m.a)(_).div(100)),[_]),W=async e=>{if(!t||!e.token)return;let n=(await Object(he.Tb)(t,[e.token],[Ne]))[Ne];var i,c;n&&(e.balance=null===(i=n.balance)||void 0===i?void 0:i.div(e.precision),e.approvedAmount=null===(c=n.allowance)||void 0===c?void 0:c.div(e.precision),a.symbol===e.symbol?s(Object.assign({},e,{balance:e.balance},{approvedAmount:e.approvedAmount})):o(Object.assign({},e,{balance:e.balance},{approvedAmount:e.approvedAmount})))},q=async()=>{const e=await Object(ve.b)();if(e.success){const t=Object(m.a)(e.value).div(a.precision);j(t._toFixed(Number(a.decimal),1)),x(Object(m.a)(1).div(t)._toFixed(Number(i.decimal),1))}},X=async()=>{const e=await Object(ve.d)();e.success&&A(e.value)},$=()=>{const e=Object(m.a)(a.balance);if(!Object(m.a)(e).gte(0))return;const t=e.gt(0)?e._toFixed(Number(a.decimal),1):"0";l(t)},ee=e=>{let t=e.target.value;const{valid:n,str:s}=Object(m.T)((""+t).replace(/,/g,""),a.decimal);n&&l(Object(m.c)(s))},te=()=>{const e=i,t=b;T(!w),o(a),s(e),l(u),j(f),x(t),d("")},ae=()=>{Object(m.db)(r).gt(a.approvedAmount)?D(!0):D(!1),Object(m.db)(r).eq(0)||Object(m.db)(r).isNaN()?N(c.a.get("buysell.swap")):Object(m.db)(r).gt(a.balance)?N(c.a.get("swap.action_insufficient",{token:a.tokenSymbol})):N("")},se=async()=>{try{if(!r)return;const e=Object(m.db)(r).times(a.precision)._toIntegerDown()._toHex(),t=await Object(ve.c)(e,w);if(t.success){let e=Object(m.a)(t.amount).div(i.precision);d(Object(m.c)(Object(m.a)(e)._toFixed(i.decimal,1))),O(Object(m.a)(t.fee).div(a.precision).toString())}}catch(e){console.error("get tovalue error:",+e)}},ie=()=>{const e=c.a.get("swap.action_swap"),t=c.a.get("swap.confirm_swap"),n=c.a.get("action.swapAct",{from:a.symbol,to:i.symbol}),s=c.a.get("action.swapActErr"),o=k;Q.setData({swapPopTitle:e,swapPopBtn:t,swapPopBtnDisabled:!1,swapErrorInfo:"",approveActionTitle:c.a.get("action.approveAct",{token:a.symbol}),approveActionError:c.a.get("action.approveActErr"),approveActionState:"",swapActionTitle:n,swapActionError:s,swapActionState:"",actionInfo:c.a.get("action.startBtn"),actionDisabled:!0,actionRetry:"",actionState:o?"line":"info",actionStarted:!1,successFromValue:r,successToValue:u}),H(!1)},ce=()=>{S||(ie(),M(!0),B(!1))};Object(n.useEffect)((()=>{C&&de()}),[C]);const oe=()=>{Q.actionStarted?H(!0):re()},re=()=>{M(!1),setTimeout((()=>{ie()}),1e3)},ue=()=>{Q.setData({actionStarted:!0,swapPopBtn:c.a.get("action.startBtn"),swapPopBtnDisabled:!0}),pe()},pe=async()=>{try{const e=Object(m.db)(r).times(a.precision)._toIntegerDown()._toHex(),t={title:"swap.pop_title_swap",obj:{from:"".concat(Object(m.v)(Object(m.db)(r),a.decimal)," ").concat(a.symbol),to:"".concat(Object(m.v)(Object(m.db)(u),i.decimal)," ").concat(i.symbol),addr:window.defaultAccount}},n=await Object(ve.a)(Ne,e,w,t);n&&(W(a),W(i),l(""),d("")),Q.swapSuccess(n,r,u)}catch(e){console.error("on submit error: ",e)}},de=()=>{let e=k,t=Q.actionRetry;switch(!t&&e&&(t="approveToken"),t){case"approveToken":Q.setData({approveActionState:"start",actionInfo:c.a.get("action.startBtn"),actionDisabled:!0}),(async()=>{try{const e={action:"approve",title:"deposit.approve_token",obj:{value:a.symbol.toUpperCase()},continuous:!0};let t=await Object(ve.h)(a.token,Ne,e);W(a),W(i),t?(D(!1),Q.setData({approveActionState:"pending",actionInfo:c.a.get("action.doingBtn"),actionDisabled:!0,actionStarted:!0}),setTimeout((()=>{Q.setData({approveActionState:"success",actionState:"info"})}),5e3)):Q.setData({approveActionState:"error",actionRetry:"approveToken",actionInfo:c.a.get("action.retryBtn"),actionDisabled:!1,actionStarted:!0})}catch(e){console.log("cehck approve: ",e)}})();break;case"swapToken":Q.setData({swapActionState:"start",actionInfo:c.a.get("action.startBtn"),actionDisabled:!0}),pe()}},be=()=>{H(!1),B(!0)},ge=()=>{H(!1)};return Object(n.useEffect)((()=>(!F&&I&&re(),()=>{})),[F,I]),Object(p.jsx)(v.a,{children:()=>Object(p.jsxs)("div",{className:"htx-swap",children:[Object(p.jsxs)(z.a,{gutter:[{xs:8,sm:16,md:24},10],align:"bottom",children:[Object(p.jsxs)(G.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},children:[Object(p.jsxs)("div",{className:"flex",children:[Object(p.jsx)(ne,{tokenSymbol:a.symbol,tokenLogoUrl:a.logoUrl,tokenAddress:a.token}),Object(p.jsxs)("div",{className:K.a.swap_balance,children:[Object(p.jsx)("span",{children:c.a.get("sunSwapV3.swap.input_from_balance")}),Object(p.jsx)("span",{children:Object(m.v)(a.balance,{dp:6,cutZero:!0})})]})]}),Object(p.jsx)("div",{className:"mt-12",children:Object(p.jsx)(le,{value:r,onChange:ee,onMaxClick:$,placeholder:c.a.get("sunSwapV3.swap.input_placeholder"),bottomContent:u&&Object(p.jsx)(Z,{tokenPrice:a.tokenPrice,tokenValue:r}),showMax:U.isConnected})})]}),Object(p.jsx)(G.a,{flex:"center",xs:{span:24},sm:{span:24},md:{span:2},lg:{span:2},children:Object(p.jsx)("div",{className:K.a.swap_arrow,children:Object(p.jsx)("span",{onClick:te})})}),Object(p.jsxs)(G.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},children:[Object(p.jsxs)("div",{className:"flex",children:[Object(p.jsx)(ne,{tokenSymbol:i.symbol,tokenLogoUrl:i.logoUrl,tokenAddress:i.token}),Object(p.jsxs)("div",{className:K.a.swap_balance,children:[Object(p.jsx)("span",{children:c.a.get("sunSwapV3.swap.input_from_balance")}),Object(p.jsx)("span",{children:Object(m.v)(i.balance,{dp:6,cutZero:!0})})]})]}),Object(p.jsx)("div",{className:"mt-12",children:Object(p.jsx)(le,{value:u,placeholder:"0",showMax:!1,bottomContent:u&&Object(p.jsx)(Z,{tokenPrice:i.tokenPrice,tokenValue:u}),disabled:!0})})]})]}),Object(p.jsxs)(z.a,{gutter:[{xs:8,sm:16,md:24},10],className:"mt-20",children:[Object(p.jsxs)(G.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},children:[Object(p.jsxs)("span",{className:K.a.swap_detail_label,children:[c.a.get("sunSwapV3.swap.input_from_price"),": "]}),Object(p.jsx)(me,{priceStr:f,priceInverseStr:b,fromToken:a,toToken:i})]}),Object(p.jsx)(G.a,{xs:{span:24},sm:{span:24},md:{span:2},lg:{span:2},children:Object(p.jsx)("span",{})}),u&&Object(p.jsxs)(G.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},children:[Object(p.jsxs)("span",{className:K.a.swap_detail_label,children:[c.a.get("htx.page.fee"),": "]}),Object(p.jsxs)("span",{className:K.a.swap_detail_value,children:[Object(m.v)(y,{dp:2})," ",a.symbol," "," / ".concat("--"!==P?P:0," ").concat(c.a.get("swap.usd"))]})]})]}),Object(p.jsx)(J,{errorTip:S,onClick:ce}),Object(p.jsx)(Ae.a,{title:"success"===Q.actionState?c.a.get("action.swapSuccessTitle"):Q.swapPopTitle,closable:"success"!==Q.actionState,open:C,onCancel:oe,centered:!0,fromToken:{logo:a.logoUrl,symbol:a.symbol,amount:r,price:"1 ".concat(a.symbol," =\n            ").concat(Object(m.v)(b,{dp:i.decimal,cutZero:!0,miniTextNoZero:!0,miniText:E.a.minPrice}),"\n            ").concat(i.symbol," ")},toToken:{logo:i.logoUrl,symbol:i.symbol,amount:u,price:"1 ".concat(i.symbol," =\n        ").concat(Object(m.v)(f,{dp:a.decimal,cutZero:!0,miniTextNoZero:!0,miniText:E.a.minPrice}),"\n        ").concat(a.symbol," ")},infoList:[{label:c.a.get("swap.detail_liquidity_fee"),value:Object(m.v)(y,{dp:2})+" "+a.symbol,tip:c.a.getHTML("htx.page.fee_tips",{value:Object(m.v)(Y,{cutZero:!0})})}],tip:c.a.get("swap.confirm_warning_output1"),actionStatus:Q.actionState,approveItems:[{status:ke[Q.approveActionState||"default"],title:["error","failed"].includes(Q.approveActionState)?Q.approveActionError:"pending"===Q.approveActionState?c.a.get("sunSwap.action.doingAct"):Q.approveActionTitle},{status:ke[Q.swapActionState||"default"],title:["error","failed"].includes(Q.swapActionState)?Q.swapActionError:"pending"===Q.swapActionState?c.a.get("sunSwap.action.doingAct"):Q.swapActionTitle}],successFromValue:Q.successFromValue,successToValue:Q.successToValue,footer:null,children:Object(p.jsxs)("div",{style:{marginTop:30},children:[Q.swapErrorInfo&&Object(p.jsxs)("div",{className:"home-swap-error-text",children:[Object(p.jsx)("span",{className:Te.error_icon,children:"!"}),Q.swapErrorInfo]}),"line"===Q.actionState&&Object(p.jsx)(je.a,{block:!0,onClick:de,size:L?"middle":"large",disabled:Q.actionDisabled,children:Q.actionInfo}),"info"===Q.actionState&&Object(p.jsx)(je.a,{onClick:ue,size:L?"middle":"large",disabled:Q.swapPopBtnDisabled,type:void 0,block:!0,children:Q.swapPopBtn}),"success"===Q.actionState&&Object(p.jsx)(je.a,{onClick:re,size:L?"middle":"large",block:!0,type:void 0,children:c.a.get("action.closeBtn")})]})}),Object(p.jsx)(we.a,{visible:F,confirm:be,cancel:ge})]})})};var Ce=e=>{const t=Object(v.d)((()=>g.default.network)),a=Object(v.d)((()=>g.default.themeStore)),{status:n}=e;return Object(p.jsx)(v.a,{children:()=>Object(p.jsx)(p.Fragment,{children:n===u.a.excused?Object(p.jsx)(De,{useeAddress:t.defaultAccount}):Object(p.jsx)(Y,{theme:a.theme})})})},Me=a(884),Fe=a(105),Ee=a.p+"static/media/htx_vote_mpdal_icon.d26b2d7e.png";var He=e=>Object(p.jsx)("div",{className:"vote-select-list",children:e.list.map((t=>Object(p.jsxs)("div",{className:ce()({"vote-select-item":!0,"vote-select-item-active":t.value===e.activeKey}),onClick:()=>e.selectChange(t.value),children:[t.value,"%"]},t.key)))});var Ie=e=>{var t,a;const[s,i]=Object(n.useState)(100);Object(n.useEffect)((()=>{e.visible&&i(100)}),[e.visible]);return Object(p.jsx)(Me.a,{width:440,className:"htx-vote-modal dark-modal",open:e.visible,onCancel:e.onCancel,footer:null,centered:!0,children:Object(p.jsxs)("div",{className:"htx-vote-modal-body",children:[Object(p.jsx)("div",{className:"htx-vote-modal-title",children:1===e.voteType?c.a.get("htx.page.vote.voteType1"):c.a.get("htx.page.vote.voteType2")}),Object(p.jsx)("div",{className:"htx-vote-modal-icon",children:Object(p.jsx)("img",{src:Ee,alt:"vote_icon"})}),Object(p.jsx)("div",{className:"htx-vote-own",children:Object(p.jsx)("span",{className:"htx-vote-sub-title",children:c.a.get("htx.page.vote.ownLabel")})}),Object(p.jsxs)("div",{className:"htx-vote-own-desc",children:[Object(p.jsx)("span",{className:"htx-vote-own-desc-label",children:c.a.get("htx.page.vote.ownLabel2")}),Object(p.jsx)("span",{children:Object(m.v)(null===(t=e.sunBalance)||void 0===t?void 0:t.integerValue(m.a.ROUND_DOWN),{dp:0})})]}),Object(p.jsx)(He,{list:[{key:25,value:25},{key:50,value:50},{key:75,value:75},{key:100,value:100}],activeKey:s,selectChange:e=>{i(e)}}),Object(p.jsx)("div",{className:"htx-vote-power",children:Object(p.jsx)("span",{className:"htx-vote-sub-title",children:c.a.get("htx.page.vote.powerTitle")})}),Object(p.jsxs)("div",{className:"htx-vote-power-desc",children:[Object(p.jsx)("span",{children:Object(m.v)(Object(m.a)(null===(a=e.sunBalance)||void 0===a?void 0:a.integerValue(m.a.ROUND_DOWN)).times(s/100).integerValue(m.a.ROUND_DOWN),{dp:0})}),Object(p.jsx)("span",{className:"htx-vote-power-value",children:c.a.get("htx.page.vote.powerTitle2")})]}),Object(p.jsx)("div",{className:"htx-vote-submit",children:Object(p.jsx)(Fe.a,{type:"primary",loading:e.confirmLoading,onClick:()=>{e.onVoteSubmit&&e.onVoteSubmit(s)},children:c.a.get("htx.page.vote.submit")})})]})})},Be=(a.p,a.p,a(1928),a(87)),Re=a(1218),Ve=a(926);t.default=Object(Be.c)((()=>{const[e,t]=Object(n.useState)(!1),[a,s]=Object(n.useState)(1),[i,l]=Object(n.useState)(0),[u,d]=Object(n.useState)(!1),[b,j]=Object(n.useState)(!1),h=()=>{},x=()=>{},y=(window.localStorage.getItem("lang")||c.a.options.currentLocale,Object(v.d)((()=>g.default.network))),_=Object(v.d)((()=>g.default.system)),{initTokenB:A}=_e(),w=Object(Re.a)(y.defaultAccount,i),T=Object(Re.c)(y.defaultAccount,A),S=Object(Re.d)(w);console.log(w);const N=()=>{t(!1)},k=e=>{s(e),t(!0)},D=Object(n.useRef)(null),C=Object(n.useRef)(null);Object(n.useEffect)((()=>()=>{clearInterval(D.current),clearTimeout(C.current)}),[D,C]);const M=async e=>{var n;const s=null===T||void 0===T||null===(n=T.integerValue(m.a.ROUND_DOWN))||void 0===n?void 0:n.times(e/100);j(!0);try{const e=await Object(ve.i)(_,s,1===a);t(!1),clearInterval(D.current),clearTimeout(C.current),e&&(D.current=setInterval((()=>{l((e=>e+1))}),3e3),C.current=setTimeout((()=>{clearInterval(D.current)}),15e3),d(!1))}catch(i){console.log("onVoteSubmit",i)}j(!1)},F=Object(n.useMemo)((()=>({showBack:!0,onBack:()=>{Object(Ve.h)({id:"home"})}})),[]);return Object(p.jsx)(v.a,{children:()=>Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(o.a,{routeName:"home",instantActions:h,mountedActions:x,mShowLogo:!1,mShowBottomNav:!1,subNavProps:F}),Object(p.jsxs)("div",{className:"htx-home-page",children:[Object(p.jsx)("div",{className:"page-htx-title",children:Object(p.jsx)(r.a,{title:c.a.get("htx.page.title"),subTitle:c.a.get("htx.page.title_des")})}),Object(p.jsx)(Ce,{status:S}),Object(p.jsxs)("div",{className:"page-htx-vote",children:[Object(p.jsx)("div",{className:"vote-title",children:Object(p.jsx)("div",{className:"vote-title-l",children:c.a.getHTML("htx.page.vote.title")})}),Object(p.jsxs)("div",{className:"vote-title-sub",children:[Object(p.jsx)("span",{children:"UTC+8 SGT "}),w.voteStartTime?O.a.utc(+w.voteStartTime.toString()).utcOffset(480).format("YYYY/MM/DD HH:mm"):"-",Object(p.jsx)("span",{children:" - "}),w.voteEndTime?O.a.utc(+w.voteEndTime.toString()).utcOffset(480).format("YYYY/MM/DD HH:mm"):"-"]}),Object(p.jsx)(f,{isConnected:y.isConnected,balance:T,power:T,status:S}),Object(p.jsx)("div",{className:"page-htx-proposal-desc",children:c.a.get("htx.page.vote.proposalDesc")}),Object(p.jsx)(B,{voteInfo:w,reVote:u,setReVote:d,handleVote:k,sunBalance:T,voteStatus:S})]}),Object(p.jsx)(Ie,{visible:e,voteType:a,onCancel:N,onVoteSubmit:M,sunBalance:T,confirmLoading:b})]})]})})}))},920:function(e,t,a){"use strict";var n=a(1),s=a(14),i=a.n(s),c=a(922),o=a(3);const r=e=>{const{title:t,subTitle:a,isRevert:n}=e,s="string"===typeof t;return Object(o.jsxs)("div",{className:c.page_title_wrap,children:[n&&a&&Object(o.jsx)("div",{className:c.page_title_sub,children:a}),t&&Object(o.jsx)("div",{className:i()({[c.page_title]:!0,[c.page_title_revert]:n,[c.page_title_ele]:!s}),children:s?t.split("").map(((e,t)=>Object(o.jsx)("span",{className:c.page_title_ele,children:e},t))):t}),a&&!n&&Object(o.jsx)("div",{className:c.page_title_sub,children:a})]})};t.a=Object(n.memo)(r)},922:function(e,t,a){e.exports={"page-head":"style_page-head__1_76J",link:"style_link__JVBBX","gradient-title":"style_gradient-title__14115",animateTitle:"style_animateTitle__1W1A5","dim-content":"style_dim-content__1MZ32",uppercase:"style_uppercase__2R_0z","window-for-tabs-pane":"style_window-for-tabs-pane__3S1zF","dark-btn":"style_dark-btn__VnSQD","purple-btn":"style_purple-btn__3Ez4v","cur-input":"style_cur-input__1VPh5","max-btn":"style_max-btn__2ujF3",page_title:"style_page_title__dfZPh",page_title_wrap:"style_page_title_wrap__7dtV_",page_title_ele:"style_page_title_ele__Tktf1",page_title_sub:"style_page_title_sub__1IUsF",page_title_revert:"style_page_title_revert__18HMS"}},960:function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(193),c=a(3);const o=e=>{let{url:t,...a}=e;return Object(c.jsx)("img",{src:t||i.a,onError:e=>{e.target.src!==i.a&&(e.target.src=i.a)},alt:"mint-icon",...a})};t.a=s.a.memo(o)},967:function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(11),c=a.n(i),o=a(168),r=a(3);class l extends s.a.Component{constructor(e){super(e),this.confirm=()=>{this.props.confirm&&this.props.confirm()},this.cancel=()=>{this.props.cancel&&this.props.cancel()},this.state={}}render(){return Object(r.jsx)(o.a,{title:c.a.get("action.popTitle"),closable:!0,maskClosable:!1,open:this.props.visible,onCancel:this.cancel,cancelButtonProps:{onClick:this.confirm},width:430,centered:!0,okText:c.a.get("action.popCancelBtn"),cancelText:c.a.get("action.popQuitBtn"),onOk:this.cancel,zIndex:10001,children:Object(r.jsx)("p",{style:{textAlign:"center"},children:c.a.get("action.popDesc")})})}}t.a=l},984:function(e,t,a){e.exports={"page-head":"style_page-head__91Agl",link:"style_link__3XCm5","gradient-title":"style_gradient-title__BtjHe",animateTitle:"style_animateTitle__-WHr6","dim-content":"style_dim-content__3LQb2",uppercase:"style_uppercase__3efAA","window-for-tabs-pane":"style_window-for-tabs-pane__3oLVj","dark-btn":"style_dark-btn__76s_Q","purple-btn":"style_purple-btn__2jO7B","cur-input":"style_cur-input__2kce_","max-btn":"style_max-btn__1ybkR",info_list_item:"style_info_list_item__3yL4n",info_list_label:"style_info_list_label__3ZkyF",info_list_value:"style_info_list_value__1Ojjv",info_list_value_default:"style_info_list_value_default__3KZja",info_list_value_warning:"style_info_list_value_warning__3V-RI",info_list_value_error:"style_info_list_value_error__2CLpf",swap_tip:"style_swap_tip__32HH9",price_list:"style_price_list__1AvjV",price_list_item:"style_price_list_item__3TEzn",price_list_right:"style_price_list_right__3WYNQ",swap_value:"style_swap_value__3aB_8",swap_symbol:"style_swap_symbol__2Bggh",error_msg:"style_error_msg__J1zwu",error_icon:"style_error_icon__LefHO",success:"style_success__2a16z",recipient:"style_recipient__3xEo4",recipient_tip:"style_recipient_tip__2lQq1",token_swap_info:"style_token_swap_info__3wzpc"}},985:function(e,t,a){"use strict";t.a=a.p+"static/media/success_icon.ece2b689.png"},989:function(e,t,a){"use strict";var n=a(38),s=a(1986),i=a(1),c=a(1042),o=a.n(c),r=a(98),l=a(53),u=a(3);const p=e=>e["".concat(e.status,"Title")]||e.title,d=e=>{const{items:t,direction:a,current:i,withBorder:c=!0,formatTitle:d,...b}=e,m=t.map((e=>({...e,title:d?p(e):e.title}))).filter((e=>!e.hide)),j=Object(r.useCurrentThemeConfig)();return Object(u.jsx)(n.a,{theme:{token:{colorTextBase:"#fff"},components:{Steps:{colorPrimary:j["color-text-step-primary"],colorText:j["color-text-step-primary"],colorError:j["color-warning"],colorFillContent:j["color-border-primary"],controlItemBgActive:Object(l.a)(j["color-text-step-primary"],.3),colorSplit:j["color-text-default-3"],colorTextDescription:j["color-text-default-5"]}}},children:c?Object(u.jsx)("div",{className:o.a.step_wrap_border,children:Object(u.jsx)(s.a,{items:m,size:"small",direction:a,current:i,...b})}):Object(u.jsx)(s.a,{items:m,size:"small",direction:a,current:i,...b})})};d.defaultProps={direction:"vertical"},t.a=Object(i.memo)(d)}}]);