(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[14],{1054:function(e,t,s){"use strict";s(1067);var a=s(16),n=s.n(a),o=s(2);t.a=e=>Object(o.jsx)("div",{className:"tempalte-pageTab-nav",children:e.list.map((t=>Object(o.jsx)("div",{className:n()("tempalte-pageTab-nav-item",{"tempalte-pageTab-nav-active":e.activeKey===t.value}),onClick:()=>t.handler(t),children:t.label},t.value)))})},1055:function(e,t,s){"use strict";var a=s(1),n=s.n(a),o=(s(1146),s(2));class i extends n.a.Component{constructor(e){super(e),this.onClick=()=>{this.props.disabled||this.props.state||this.props.onClick&&this.props.onClick()},this.onLeftClick=()=>{this.props.lDisabled||this.props.lState||this.props.onLeftClick&&this.props.onLeftClick()},this.onMiddleClick=()=>{this.props.mDisabled||this.props.mState||this.props.onMiddleClick&&this.props.onMiddleClick()},this.onRightClick=()=>{this.props.rDisabled||this.props.rState||this.props.onRightClick&&this.props.onRightClick()};const{styleName:t=""}=e;this.state={}}render(){let e=null;switch(this.props.type){case"trisection":e=Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{className:"trisection "+(this.props.lDisabled?"gray":this.props.lState?this.props.lState:"blue"),onClick:this.onLeftClick,children:this.props.lInfo}),Object(o.jsx)("button",{className:"trisection "+(this.props.mDisabled?"gray":this.props.mState?this.props.mState:"blue"),onClick:this.onMiddleClick,children:this.props.mInfo}),Object(o.jsx)("button",{className:"trisection "+(this.props.rDisabled?"gray":this.props.rState?this.props.rState:"blue"),onClick:this.onRightClick,children:this.props.rInfo})]});break;case"half":e=Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{className:"half "+(this.props.lDisabled?"gray":this.props.lState?this.props.lState:"blue"),onClick:this.onLeftClick,children:this.props.lInfo}),Object(o.jsx)("button",{className:"half "+(this.props.rDisabled?"gray":this.props.rState?this.props.rState:"blue"),onClick:this.onRightClick,children:this.props.rInfo})]});break;default:e=Object(o.jsx)("button",{className:"single "+(this.props.disabled?"single-disabled":this.props.state?this.props.state:this.props.btnColor?this.props.btnColor:"blue"),onClick:this.onClick,children:this.props.info})}return Object(o.jsx)("div",{className:"sun-action-btns "+this.props.styleName||!1,children:e})}}t.a=i},1058:function(e,t,s){"use strict";var a=s(1),n=s(1101),o=s(9),i=s.n(o),l=s(69),c=s(126),r=s(1113),p=s(1174),d=s(2);const u=()=>{const e=Object(l.d)((()=>c.a.network));return Object(d.jsx)(n.a,{img:r.a,emptyText:i.a.get("buysell.error_msg_3"),btnText:i.a.get("header.connect_wallet"),onClick:()=>e.setData({loginModalVisible:!0,loginModalStep:1}),className:p.wallet_not_connect})};t.a=Object(a.memo)(u)},1064:function(e,t,s){"use strict";var a=s(1),n=s(16),o=s.n(n),i=s(1068),l=s(2);const c=e=>{const{title:t,subTitle:s,isRevert:a}=e,n="string"===typeof t;return Object(l.jsxs)("div",{className:i.page_title_wrap,children:[a&&s&&Object(l.jsx)("div",{className:i.page_title_sub,children:s}),t&&Object(l.jsx)("div",{className:o()({[i.page_title]:!0,[i.page_title_revert]:a,[i.page_title_ele]:!n}),children:n?t.split("").map(((e,t)=>Object(l.jsx)("span",{className:i.page_title_ele,children:e},t))):t}),s&&!a&&Object(l.jsx)("div",{className:i.page_title_sub,children:s})]})};t.a=Object(a.memo)(c)},1067:function(e,t,s){},1068:function(e,t,s){e.exports={page_title:"style_page_title__dfZPh",page_title_wrap:"style_page_title_wrap__7dtV_",page_title_ele:"style_page_title_ele__Tktf1",page_title_sub:"style_page_title_sub__1IUsF",page_title_revert:"style_page_title_revert__18HMS"}},1070:function(e,t,s){e.exports={setting_wrap:"style_setting_wrap__L7ld9",setting_label:"style_setting_label__3qQrG",setting_btns:"style_setting_btns__zH_61",setting_btn_wrap:"style_setting_btn_wrap__uxT1B",setting_input:"style_setting_input__kvJzs",active:"style_active__10VTC",module_important:"style_module_important__PuwNO",info_text:"style_info_text__3K73H",setting_minutes:"style_setting_minutes__1mIXw"}},1090:function(e,t,s){"use strict";var a=s(39),n=s(1946),o=s(1),i=s(93),l=s(1110),c=s(1111),r=(s(1115),s(2));const p=Object(i.a)(window.navigator).any,d=Object(o.memo)((e=>{const{className:t="",pagination:s,tableTheme:o={},...i}=e;return Object(r.jsx)(a.a,{theme:{components:{Spin:{colorPrimary:"#9482f8",colorBgContainer:"#251F32",controlHeightLG:60},Table:{colorPrimary:"#9482f8",colorFillAlter:"rgba(37,31,50,.3)",colorFillSecondary:"rgba(37,31,50,.3)",colorFillContent:"rgba(37,31,50,.3)",colorBgContainer:"#362D4A",colorBorderSecondary:"rgba(255, 255, 255, .1)",colorText:"#fff",colorTextHeading:"#fff",colorIcon:"#bfbfbf",colorIconHover:"#bfbfbf",padding:p?10:20,borderRadiusLG:20,borderRadius:20,...o},Pagination:{borderRadiusLG:5,borderRadius:5,itemSize:24}}},children:Object(r.jsx)(n.a,{className:t?t+" pure-comp dark-table-container":"pure-comp dark-table-container",pagination:!!s&&{position:["bottomCenter"],className:"pure-comp",showSizeChanger:!1,itemRender:(e,t,s)=>"prev"===t?Object(r.jsx)("img",{alt:"pre",src:l.a}):"next"===t?Object(r.jsx)("img",{alt:"next",src:c.a}):s,...s},...i})})}));t.a=d},1113:function(e,t,s){"use strict";t.a=s.p+"static/media/big_connect_wallet.8e467f71.svg"},1115:function(e,t,s){},1123:function(e,t,s){"use strict";var a=s(1502),n=s(1917),o=s(1135),i=(s(1172),s(2));const l={V3:"V3",V2:"V2",V1:"",home:"",Migrate:"Migrate"};t.a=e=>{const{onChange:t,network:s={},version:c="v1",placement:r="bottomRight"}=e,p=s["settingSlippage".concat(l[c])],d=s["settingDeadline".concat(l[c])];return Object(i.jsx)(a.a,{trigger:"click",overlayClassName:"setting_popover",placement:r,content:Object(i.jsx)(o.a,{showType:"popover",slippage:p,deadline:d,onChange:function(e){t(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")}}),title:"",children:Object(i.jsx)(n.a,{className:"new_setting_icon"})})}},1129:function(e,t,s){"use strict";var a=s(15),n=s(1978),o=s(6),i=s(1255),l=s(160),c=s(2);t.a=e=>{let{token:t,showTokenName:s=!1,styleName:r="",showTrx:p=!1}=e;return Object(c.jsxs)("span",{className:r,children:[s?Object(c.jsxs)("span",{className:i.token_logo_icon,children:[Object(c.jsx)("img",{alt:"",src:t.tokenLogoUrl||l.a,onError:e=>{e.target.src!==l.a&&(e.target.src=l.a)}}),t.tokenSymbol]}):"",t.tokenAddress&&(t.tokenAddress!==a.a.trxFakeAddress||p)?Object(c.jsx)(c.Fragment,{children:Object(o.G)(Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(n.a,{className:i.token_view_icon})}),t.tokenAddress)}):null]})}},1135:function(e,t,s){"use strict";var a=s(1),n=s(9),o=s.n(n),i=s(1910),l=s(16),c=s.n(l),r=s(223),p=s(0),d=s(1070),u=s(2);t.a=e=>{const{showType:t="",slippage:s,deadline:n}=e,[l,h]=Object(a.useState)("0.5"),[m,b]=Object(a.useState)("1"),[j,k]=Object(a.useState)("0.5"),[w,g]=Object(a.useState)("1"),[S,x]=Object(a.useState)("");Object(a.useEffect)((()=>{O(s,n)}),[]),Object(a.useEffect)((()=>{(j||w)&&_()}),[_,j,w]);const O=(e,t)=>{h(e),b(t),k(e),g(t),f()},_=()=>{h(l),b(m),f(),e.onChange&&e.onChange(j,w)},v=e=>{const t=e.target.value,{valid:s,str:a}=Object(p.V)(t,2);s&&k(a)},f=()=>{j&&(Number(j)<.5?x(o.a.get("settings.slippage_info_1")):Number(j)>5&&Number(j)<50?x(o.a.get("settings.slippage_info_2")):Number(j)>=50?x(o.a.get("settings.slippage_info_3")):x(""))};return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:c()({"flex start wrap":""===t}),children:[Object(u.jsx)(r.a,{toolClass:d.setting_wrap,tip:e.slippate_tip||o.a.get("settings.slippage_tip"),children:Object(u.jsx)("span",{className:d.setting_label,children:o.a.get("settings.slippage")})}),Object(u.jsxs)("div",{className:c()(d.setting_btns),children:[Object(u.jsxs)("div",{className:d.setting_btn_wrap,children:[Object(u.jsx)("button",{className:c()("0.1"===j?d.active:""),onClick:()=>v({target:{value:"0.1"}}),children:"0.1%"}),Object(u.jsx)("button",{className:c()("0.5"===j?d.active:""),onClick:()=>v({target:{value:"0.5"}}),children:"0.5%"}),Object(u.jsx)("button",{className:c()("1"===j?d.active:""),onClick:()=>v({target:{value:"1"}}),children:"1%"})]}),Object(u.jsx)(i.a,{className:c()(d.setting_input,d.module_important,["ml-20"]),suffix:"%",value:j,onChange:v,onBlur:()=>{Number(j)>=50?k(j.slice(0,1)):0!==Number(j)||k("0.01")}})]})]}),S?Object(u.jsx)("div",{className:d.info_text,children:S}):null,Object(u.jsxs)("div",{className:c()({"flex start":""===t}),children:[Object(u.jsx)("div",{style:{marginBottom:"popover"===t?"12px":0},children:Object(u.jsx)(r.a,{toolClass:d.setting_wrap,tip:o.a.get("settings.deadline_tip"),children:Object(u.jsx)("span",{className:d.setting_label,children:o.a.get("settings.deadline")})})}),Object(u.jsxs)("div",{className:"flex",children:[Object(u.jsx)(i.a,{className:c()(d.setting_input,d.module_important),value:w,onChange:e=>{const t=e.target.value,{valid:s,str:a}=Object(p.V)(t,0);if(t){if(s){let e=a;Number(a)>1e4&&(e=1e4),g(e)}}else g(t)},onBlur:()=>{let e=Number(w);0===+w&&(e=1),g(e)}}),Object(u.jsx)("div",{className:c()(d.setting_minutes,["ml-10"]),children:o.a.get("settings.deadline_minutes")})]})]})]})}},1136:function(e,t,s){"use strict";var a=s(1),n=s.n(a),o=s(189),i=s(2);const l=e=>{let{url:t,...s}=e;return Object(i.jsx)("img",{src:t||o.a,onError:e=>{e.target.src!==o.a&&(e.target.src=o.a)},alt:"mint-icon",...s})};t.a=n.a.memo(l)},1141:function(e,t,s){"use strict";var a=s(1),n=s(16),o=s.n(n),i=s(1186),l=s.n(i),c=s(2);const r=e=>{const{items:t,bordered:s=!0,responsive:a,responsiveLayout:n="v",style:r={}}=e;return Object(c.jsx)("div",{className:o()(i.info_box,{[i.info_box_no_border]:!s,[i.info_box_responsive]:a,[l.a.info_box_responsive_h]:"h"===n,[l.a.info_box_responsive_v]:"h"!==n}),style:r,children:t.map(((e,t)=>Object(c.jsxs)("div",{className:i.info_box_item,children:[Object(c.jsx)("div",{className:i.info_box_label,children:e.label}),Object(c.jsx)("div",{className:i.info_box_value,children:e.value})]},t)))})};t.a=Object(a.memo)(r)},1142:function(e,t,s){"use strict";t.a=s.p+"static/media/TransactionSuccess.9be097c2.svg"},1146:function(e,t,s){},1147:function(e,t,s){},1148:function(e,t,s){"use strict";var a=s(1),n=s(16),o=s.n(n),i=s(1173),l=s(272),c=s(2);const r=e=>{const{className:t,fullFilled:s,...a}=e;return s?Object(c.jsx)("img",{className:o()(i.question_img,t),alt:"",src:l.a,...a}):Object(c.jsx)("span",{className:o()(i.question_icon,t),...a,children:"?"})};t.a=Object(a.memo)(r)},1158:function(e,t,s){},1165:function(e,t,s){"use strict";var a=s(1),n=s.n(a),o=s(93),i=s(9),l=s.n(i),c=s(1038),r=s(6),p=(s(1363),s(2));class d extends n.a.Component{constructor(e){super(e),this.confirm=()=>{this.props.confirm&&this.props.confirm()},this.cancel=()=>{this.props.cancel&&this.props.cancel()},this.state={}}render(){const e=Object(o.a)(window.navigator).any?0:64;return Object(p.jsxs)(c.a,{footer:null,title:null,closable:!0,maskClosable:!1,open:this.props.visible,className:"unfinished-pop sun-swap-modal",onCancel:this.cancel,style:{marginLeft:Object(r.o)()+e},width:430,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:[Object(p.jsxs)("div",{className:"title",children:[l.a.get("sunSwap.action.popTitle"),Object(p.jsx)("p",{children:l.a.get("sunSwap.action.popDesc")})]}),Object(p.jsxs)("div",{className:"btns",children:[Object(p.jsx)("button",{onClick:this.confirm,children:l.a.get("sunSwap.action.popQuitBtn")}),Object(p.jsx)("button",{onClick:this.cancel,children:l.a.get("sunSwap.action.popCancelBtn")})]})]})}}t.a=d},1170:function(e,t,s){},1171:function(e,t,s){"use strict";var a=s(1),n=s(2);t.a=e=>{let{visible:t,onChange:s}=e;return Object(a.useEffect)((()=>{t&&s&&s()}),[t,s]),Object(n.jsx)(n.Fragment,{})}},1172:function(e,t,s){},1173:function(e,t,s){e.exports={question_icon:"style_question_icon__3ZWoP",question_img:"style_question_img__1bgzg"}},1174:function(e,t,s){e.exports={wallet_not_connect:"style_wallet_not_connect__2Qekr"}},1175:function(e,t,s){"use strict";var a=s(270),n=s(16),o=s.n(n),i=(s(1176),s(9)),l=s.n(i),c=s(223),r=s(2);t.a=e=>{let{pageList:t,activePage:s,onPageChange:n}=e;return Object(r.jsx)("div",{className:"page-panel-wrap",id:"swap-tab",children:Object(r.jsx)("div",{className:"panel-header",children:t.map(((e,t)=>Object(r.jsxs)("div",{className:o()({"panel-header-item":!0,"panel-header-item-active":e.key===s,flex:!0}),children:[e.path?Object(r.jsx)(a.b,{to:e.path,children:e.textKey?l.a.get("sunSwapV3.panelHeader.".concat(e.textKey)):e.text}):Object(r.jsx)("span",{onClick:()=>n&&n(t,e),className:"page-item-text",children:e.textKey?l.a.get("sunSwapV3.panelHeader.".concat(e.textKey)):e.text}),e.tips&&Object(r.jsx)(c.a,{tip:e.tips})]},e.key)))})})}},1176:function(e,t,s){},1186:function(e,t,s){e.exports={"page-head":"style_page-head__Q5_41",link:"style_link__gpGN-","gradient-title":"style_gradient-title__3TOPy",animateTitle:"style_animateTitle__JszRT","dim-content":"style_dim-content__3_Ul3",uppercase:"style_uppercase__PmEs8","window-for-tabs-pane":"style_window-for-tabs-pane__1V2Lv","dark-btn":"style_dark-btn__DQL_s","purple-btn":"style_purple-btn__2SawB","cur-input":"style_cur-input__37INw","max-btn":"style_max-btn__npQR2",info_box:"style_info_box__1963G",info_box_no_border:"style_info_box_no_border__W8LQy",info_box_item:"style_info_box_item__3JfS2",info_box_label:"style_info_box_label__f3QFH",info_box_value:"style_info_box_value__1v2mN",info_box_responsive:"style_info_box_responsive__3jNYY",info_box_responsive_h:"style_info_box_responsive_h__3eg33"}},1187:function(e,t,s){"use strict";var a=s(1941),n=s(1123),o=s(223),i=(s(1266),s(2));t.a=e=>{const{title:t,tip:s,onBack:l,showSetting:c=!1,onSettingChange:r,network:p,version:d}=e;return Object(i.jsxs)("div",{className:"v3-sub-nav",children:[Object(i.jsx)(a.a,{className:"v3-sub-nav-left-arrow",onClick:l}),Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("span",{className:"v3-sub-nav-title",children:t}),s&&Object(i.jsx)(o.a,{tip:s})]}),Object(i.jsx)("div",{className:"v3-sub-nav-right",children:c&&Object(i.jsx)(n.a,{onChange:r,network:p,version:d})})]})}},1210:function(e,t,s){"use strict";var a=s(1),n=s.n(a),o=s(9),i=s.n(o),l=s(1915),c=s(1033),r=(s(1362),s(2));const p=Object(r.jsx)(c.a,{style:{fontSize:24},spin:!0});class d extends n.a.Component{constructor(e){super(e),this.state={}}render(){const{children:e}=this.props,t=n.a.Children.toArray(e).map(((e,t)=>{const{children:s,status:a,err:n,failed:o}=e.props;let c=s;return"error"===a&&(c=n||s),"pending"===a&&(c=i.a.get("sunSwap.action.doingAct")),"failed"===a&&(c=o||s),Object(r.jsxs)("div",{className:"al_item ".concat(a?"".concat(a):""),children:[Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsx)("span",{className:"al_number",children:t+1}),Object(r.jsx)("span",{className:"al_title".concat(a?" ".concat(a):""),children:c})]}),"pending"===a&&Object(r.jsx)(l.a,{indicator:p,className:"spiny"})]},e.key)}));return Object(r.jsx)("div",{className:"action-line",children:t})}}t.a=d},1250:function(e,t,s){"use strict";var a=s(16),n=s.n(a),o=(s(1251),s(2));t.a=e=>{const{children:t,className:s,disabledCanClick:a,disabled:i,onClick:l,...c}=e;return Object(o.jsx)("div",{onClick:e=>{(a&&i||!i)&&l&&l(e)},className:n()("sun-button-primary",{"sun-button-weak":a&&i},s),...c,children:t})}},1251:function(e,t,s){},1252:function(e,t,s){"use strict";var a=s(1511),n=s(1),o=(s(1253),s(2));const i=e=>{const{prefix:t,showPrefix:s,suffix:i,showSuffix:l,enterButton:c,value:r,onSearch:p,...d}=e,u=Object(n.useRef)(null);return Object(o.jsxs)("div",{className:"sun-search-input-wrap",children:[s&&Object(o.jsx)("div",{className:"sun-search-input-prefix",children:t||Object(o.jsx)(a.a,{style:{color:"rgba(255, 255, 255, .5)"}})}),Object(o.jsx)("input",{ref:u,type:"text",className:"sun-search-input",value:r,...d}),l&&Object(o.jsx)("div",{className:"sun-search-input-suffix",children:i||(c?Object(o.jsx)("div",{className:"sun-search-input-btn",onClick:()=>{var e;return p&&p(null===(e=u.current)||void 0===e?void 0:e.value)},children:c}):null)})]})};i.defaultProps={showPrefix:!0,showSuffix:!0},t.a=Object(n.memo)(i)},1253:function(e,t,s){},1254:function(e,t,s){},1255:function(e,t,s){e.exports={token_view_icon:"style_token_view_icon__2mRa-",token_logo_icon:"style_token_logo_icon__2_bsW"}},1256:function(e,t,s){e.exports={remove_liq_title:"style_remove_liq_title__Nrq_E",remove_liq_fee:"style_remove_liq_fee___gp6i",remove_liq_num:"style_remove_liq_num__XhztX",remove_liq_btn:"style_remove_liq_btn__1wZsk",remove_liq_active_btn:"style_remove_liq_active_btn__Lo8Al",remove_liq_token:"style_remove_liq_token__3J2um",remove_liq_value:"style_remove_liq_value__18eCU",remove_liq_price:"style_remove_liq_price__1uAT9"}},1257:function(e,t,s){},1258:function(e,t,s){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAA/JJREFUWEfVWctqFUEQPeX7/X5tXIkIouBa/AkxgkYXgrhwIQiufaCuxYXoQsSNGkHFnxDXgiKIuHJlTIwmMYmJ8ci5Voe+k3tneuaOIVMwhCTT3aerTlWdnjb0YCQNwHIAKwEsA7AEwFL/qZn/AJj1n78B/AIwY2asuqwWLG0kBXCVPwJZxrSJKT1mpg2UslKASa4AsMG9GhaSBwVgJuNR/T/2uCKhTSoCwTRm1MymU1EnASapcK/3BUOoJ9xLWjTZSAbgayLqaMNjZiba5FohYA//ZgB6V9z7qcfMFNrKRlLeX+tPmHukiCa5gElqQlFAJi8ofKJAbUZSFNEaootMa8gpHa0rYJIbAShssnE9vWR33g692qwDoEc2YWY/Oo3pCDjj2e9mNlmbS3MmIrkawKY8T88D7Jzd4oMWDGzYRwb0tyyn2wB7NdjmCSYKjC2EZ7NrkFRFEj2U5ENx9cgCVjUQ+ZVg8m6pjkTyMIA9AAZSSlQ3ZzinRY0WFjMbCe/OAfamsNV39bVMNSCp5LwN4JxPfMPMrvQSHa8e2z3aw6G5xIBFBRX1UlQgeRDAUwD7I4A9A9ZcETWkP4b0txbgKNHUDOTdpKZA8jyAW1EN1XQDAM7WUVm8ucjLajKtBAyAxReVlCTvkhTXHwA4GnlVxf6CmT3shQo5CdiqzeYE3+G7UEbmagOSRwA8AbA7mvwNgBNm9qFOsB590VR0VdQHBVgKTMk2a2aDBR3pMoCrGcWljnTPtW4VvB/lgLyKRFIOVQsfFuBQ8yRoRnNKzTEAz6sgShhz2swe56wtrSFdMy7AofbmdjWSfQCeJSxe5ZUiwKFlTwmw6CBazGuDHRJAoA9UQZQzJoUSOuFILkwLcOCHylmhgK4ZbNJ0LhlU3mYFeJfX4y+p9TdplRpf8nq8Uy2jkYAbR4mkpPMG0w9gb43R1lTvzCy3XEbSoZV0qWXtFIBHNYMN0x3PAx2J+lZZS20c/xNwn5m9SG0cSa25Bkqolkrd6XAbTCfwa2Z2s0AStLVmKbZk8VOFEiT3uWY+FI3/DKDfzF4VgG0XP66IwpE+SV6WAU3yDIA7rgXC0JeumeeOPjl0CJT9Jy8dcGh9pQR8gWfU/6WZT0bv6ax4yczupmy6q4B30JWOSDmeuQ5AcjTYe9fMb1PAOqbg3fYjkv8zJJ9OyqUOoZ0AkIwB3wdw0cz0ATHJCg+hDrqnY36MxAWL6PDJzF4nofSXko75DlifVZvzISWTgPp1cX+qCmFr1MfACHRzPrd28fTi/qAdgVZTacaVQQS6OZcymdrajGuvbNH3E4C0guhS5WJRF4qTRTdGnZpN4bVXgcBZ8Kvbv7gRNO3rhp7CAAAAAElFTkSuQmCC"},1259:function(e,t,s){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAABjJJREFUaEPdW0moXEUUPcd5ivM8gKJBxYUriRsHHHCI4EJQFEGMw8aNbpw2JhuHla6NmoWiKG4ERxwwujELFy5ERUXBIZp5TjSJR07+rU7997v7Vb1+0dAXmub9rqp3T91Td3rvEz2LJAI4GMAhAA6KzwEA/PFvFgH4Jz67APjzN4CdJP1bb5JuONGCAepQAIcD8HfXdQ3uLwDb/d0H2K6KzJhhxlpHAjiqAWp3KJqs42tbLFnH82zRAzMre2N8ncRjtwDYOgnQTgADmK01LxS1Ugbjnd9O0oCqRZIBel1/TG+LN2ZzrFtN32qAkg4LYEmBnVaApKnVm0iyRb2BPs9pA32fHTU3KQYYVvMNTUmLreQb2mr7TCQlpiT6bo37FlmzCKAkn5djw4EYjCkz0dmo2ZHsrHuDLWbLBpKm71hpBSjJVDwuzoR3bX3fdGxTMv0etLUu1ttn3rr4e6SMBRjgTghHUrRgqbJdxzU23BZcOw7kSIBBS4OzBR2EvVutlOiqeM280M2WdDLhjTfIoboNBRic9wL2ZGMXqFGsz7ENA/hM2gBzHM8ogEeHt/SENW0871PxmrWCrifGmbTT29ScPwdgxDlbz7Lu/3IopUDD8Rwf423FWXFyFsCgpnfE584xzqnSfi+SnCo6hPg4mXEDqjYBHgHgmAjiq2tyQEnOOK4AcFHEzNYQ1Ng5K7UBwNcAlpN0hlQkYZiTIpfdSHJbmjhQIgadHCHBQbQ4Q5F0HYClAM4q0qh90C8A7iP5QfvQmRGR8TgZsTddlYyTA0xmdk22pmLhpwE8Ujq+ctwzJB8tnSPJx8tMGhyvPQDDeqeENyp2LJJuAPBupsDvAD4E8HOpUo1xZwO4FsDp2d9vJPleyXqZwzHd/7QVE0BXCPacu0iuLlzMQfanTJk3ASwi6Ty1s0iys1gG4JZYxJt2DkknG60iyWfRTnKPR00ADc4giz1nnLv3446/AriwL68bXvEbAGfG+teXnsfMo+4guZ4NevpwFhWrkh4E8GwosIzkotbtrRgg6SUAd8eUh0g+VzI9imY7yxmaSjLVnHPuJrmqZJE4t4sBPBHjl5D0dW8iKV9/McklpYtLMkDXj2sNMHnPbSQ3liwiydR5GcAlWQHcnLoSwKcAHiZpCldJA2DVBkpyLHdM32yAjh2umjeRdLU8VgLcVwBSetQ2ZR2Ai2tBTgjQXQfn09sNMMWOovAg6VUAt7ehavz+Gsk7auZMCNBVkA2w0wATX52aja2O4+zZbZ8Wyi4kmcfBAQZJCwG8HX9YSTKPba1YJwToMOFwsdsAT40A78DYWtBK2pvIkm0dgaKxkq4GcBuAywGcEehdFZhdltoz6B6SExcZYLLGHyXJdZ8AJc2PHNZJ+jj50seC5Petpt+bmdlw6AIwp+hNJN8ZdtM2ikq6DMBbkUGV6L0ewM0kP28bHLF9ALCWohM7mbDcigycqfwCgBejXDIGl133ALg3eyxgkAvaLBntjAFFa52MY+BEYUKS42OipePlnSQ/GcGEqwC8kjk214pXjrNitDIGTqYqTIQn7Rzow6F8FAractckcJLOBZDyW+efP8b9DNJzklPznI9Hgcyqij1hoirQp0UlOU1L6Vmxl5P0vIvZWGcpyfuzNR8D8GRcP07yqey3kfOaQCXNCvTVqVrsaqdkW9K3AM4PpS4luSIsdysAdwYSdZcDcEX/hi0paQGAL2LedyQvGGPBWala12TbylSXS5JcL3pTLfNcYkmy+z9vhMI/kJwfOXOqNbeQTM8p5kxrJtvmdarma8qlTgXvvgY4p1wKulUXvDGvS8vigSxD6Z2icwreULS6ZZEd/kmaTr07mVEti5ymRVVFTvwJ2oa9homRTaewYqe2YWbJmsbvXQDcQbP0FuhHtg0DoK3YqfE7yl2PceNOsntN1VobvwGyc+u+A8jeku2i1n1mxf/s4UtFueSg71b+0HKp+OFLw6P6strh1Foy7jms4P0NwGcAXi/MO73U+MdnmcOY3gegGVWn9xF2gHRfYzpfQsio6u7UdL5G0gA5nS8CZSCn91WuDKQznel8Ga+RWE/n65QNkLbmdL4QOwTo9L3S3EzHpval9GF55/72bwX/ApHa3TI9wHVxAAAAAElFTkSuQmCC"},1260:function(e,t,s){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAABn9JREFUaEPdm1usXGMUx3+rp3VtlbpTQWhU+uCF8EJdKi6VtDUTUpGIUi9eeMGbeuOJZ7c+EEJmtE1co2h50YQHD40Kgiil9H6l51jy32ftyT5zzsz+9syUZr5kMpmzv2/t9f/+6/rtfYwBD3c3YAZwHDA9PtMAfXRNw4F/4jMK6PM3cMTMdG1gI79hXwID1PHAiYC+e5UrcH8Bh/Q9CLC9KjJOwzhbJwMz20CNhaI5O/otxnJ2tE6MjhRY1sbodz40dz9woB+gPQEMYGJrVigqpQRGO3/IzASo8nB3AZRcfWTeGtqYfSG3svlWBujuJwSwXIEjUsDMZFoDG+4uRrWB8ud8A3Wfw1VukgwwWNMNZZIaYkk3FGtHbbh7bim5+R6I+yaxmQTQ3eUvp0YAERiZTF++UWVHCr6uDdaQtew2M5lv11EK0N1liqeFT2jXdg3aHMuUzK+H2UoX6S2fly767ji6Agxwp0cgSRKYqmyv89o2XAzu6AayI8AwS4ETg0rC2q1Sk+hV8SrrQjcxqWJCGy+QU+o2JcCweQlQJOsqoIpig5zbRoB8UgRMCjydAJ4S0VIL/iyz80EqXkVWmOsZ4ZMKenvb108CGHlO7Gns/L8CSirQCDxzYr5YnJAnJwAM09SOyO+U41QqHfPD3VUqKoXInWRxLVNtB3gSMDuS+B9VakD/ghn8xEKcBViWM0tTUNvOOc5ujM1cyEa7ElVISSOIOTNq2T1mdjBf2FIiJp0VKUFJNLlC8Qa3YLyAc0GSRmWTjJ9xVlqdD8qm5tej4tHGKppuz8kpAsxpVk/2Z7LgJk/jPJ46v9I84xmr8UTqGneXe6l2bblXBjDYOzvMKjmw+BpuY4x3WwoYv+J8iPFjqlIT5jkXYdyMc17r7yPcbst4L0VeIeDIB38XizlAdQiKnKNm9keSsM0cxxZ+aCljNJjOCluS1ak9D1/HLEZZjVPLhGjT5nOxLciKjdLh7vJFBcksouYABU4gkyNn5nfwfiixlTlcbjdkDWrfwz9hJjv5GmduCLs11R8LEfWwme2yNvOUcyY1q97kEZxnA+Bqq7Gib2QFAd7kZZz7Q/6jVuO5FPnRNCtYjpupu6ueU805ZmbbU4RkfttkFc6TocBTVmNV6tqUeW3yV1mNp1LWZbq5C6D6xx0CmEfPg2a2J0WIN5mL8wpwVaEBnrjU2IazAeMxq7E1RW5xTj8b6O7K5crp+wRQuUNd814zU7fcdQS4r4C8PCpbshPjiqog+wSoUwfV04cEMM8dSenBG7wGLC9D1Xb9datzT5U1fQJUFyQCjghgbq8qzbp2x+F7ynXnhrKLrV7IgxODxGKct8NHt1mtkNsSkPYJUGlC6WJMAM+JBK/EWNrQeqN1tonVu9ebqXN9DTcxxt3AdcD5sSmHcWRdyoWVglj0iipcXABzNn5LKa5Tlc7YLtkMbzAvatiFXUk1vsRZbnW+TSA/r8xEHNUBNrNybHxTjDusxjtT3dSbdDVRX8u1jLEOzyqo8mHsYoQltpTPyiZHbm8BrGqifQeZYG5TC5yhVulFpvMSs9mcAdjDAkZ5AONBPFxBIJ2ry5hsN9GqQUY5sK804U024IybpfKlca/dycdTWsJb3IjzasFqNlqN67uxGEcZrSBTKU1EJO050UdAWR/gxM2iTuByED4Ocn2LyREW2TI+6gSy0FVkaaJSom/dtMmTeJRnFaKcN3geWBlyXrA6D5X5VASs5HXuPiHRVy7VgsWeim1vsAW4LAM1nWtsKZt8DZfwD3cVHg3kmP9iGm/aMr73tVzNKJ/HhW+szvwuDE4o1Xortntsl7yR9YvaVJX4s9RieSML/5d2UPg7qzMva6F2tHrN/VbPDpmmHO3FtnrCvJtPb5d6bHiPNsBJ7VJmbu6VG95sXW9HFg+3KpSjYKKTGt4AWPnIohBs+jl0GniQ6XRkUTTTpK6iaPw9HxsqwQ8wTXQ8dAoWezo2bDFZ7eD3PnSCNuBE3/HYMACKxZ4OflPyWBvjKrIHWqqVHvwGyJ6P7iuDHGCxnXR0X2DxP3v4UqFd2hhH+VO2S8kPX9oiqn5WDjhVmYx0M7nhhV+ATxnhjcS6U6K6Pz5rBQz34X0AWjDV4X2EHSD1bsxwvoRQMFWdTg3nayRtIIfzRaACyOF9lasAUpXOcL6MN6HMGtbXKdtAis3hfCF2CqDD90pzezk2tC+lT1V3Hmv/VvAvO9naMpPiOwsAAAAASUVORK5CYII="},1261:function(e,t,s){"use strict"},1262:function(e,t,s){"use strict";var a=s(1),n=s(39),o=s(167),i=s(1263),l=s(9),c=s.n(l),r=s(2);const p=e=>{const{showMigrate:t,showAdd:s,showRemove:a,className:l,onMigrate:p,onAdd:d,onRemove:u,removeDisabled:h}=e;return Object(r.jsxs)("div",{className:l,style:{textAlign:"right"},children:[t&&Object(r.jsx)(n.a,{theme:{token:{colorText:"#5A14E1",colorBgContainer:"#DECDFF",colorPrimary:"#5A14E1",colorPrimaryHover:"#5A14E1",controlHeight:30}},children:Object(r.jsx)(o.a,{style:{border:"none"},className:i.liquidity_btn_migrate+" pure-comp",onClick:()=>p&&p(),children:c.a.get("sunSwap.migrate.title")})}),s&&Object(r.jsx)(n.a,{theme:{token:{colorText:"#fff",colorBgContainer:"#8C51FF",colorPrimary:"#fff",colorPrimaryHover:"#fff",controlHeight:30}},children:Object(r.jsx)(o.a,{style:{border:"none"},className:"pure-comp",onClick:()=>d&&d(),children:c.a.get("sunSwap.pool.base_increase_link")})}),a&&Object(r.jsx)(n.a,{theme:{token:{colorText:"#C1A0FF",colorPrimaryHover:"#C1A0FF",controlHeight:30,colorTextDisabled:"rgba(255, 255, 255, 0.5)"}},children:Object(r.jsx)(o.a,{disabled:h,onClick:()=>u&&u(),className:i.liquidity_btn_remove+" pure-comp",type:"text",children:c.a.get("sunSwap.pool.base_remove_link")})})]})};t.a=Object(a.memo)(p)},1263:function(e,t,s){e.exports={liquidity_btn_remove:"style_liquidity_btn_remove__2AFYU",liquidity_btn_migrate:"style_liquidity_btn_migrate__UEXPP"}},1264:function(e,t,s){e.exports={wallet_not_connect:"style_wallet_not_connect__2Wm9c"}},1265:function(e,t,s){e.exports={"page-head":"style_page-head__1BLAB",link:"style_link__3S1dj","gradient-title":"style_gradient-title__3MHT8",animateTitle:"style_animateTitle__2WZFP","dim-content":"style_dim-content__12T8T",uppercase:"style_uppercase__3-6jb","window-for-tabs-pane":"style_window-for-tabs-pane__4neP4","dark-btn":"style_dark-btn__2oICp","purple-btn":"style_purple-btn__30BiF","cur-input":"style_cur-input__1R2iF","max-btn":"style_max-btn__2xtc9",sun_swap_content:"style_sun_swap_content__1pfSB",sun_swap_content_detail:"style_sun_swap_content_detail__3O12x",page_tab_wrap:"style_page_tab_wrap__3N5Xm",page_tab_nav_wrap:"style_page_tab_nav_wrap__lRKwD",v3_new_icon:"style_v3_new_icon__3xLDJ"}},1266:function(e,t,s){},1267:function(e,t,s){},1269:function(e,t,s){"use strict";var a=s(1),n=s(9),o=s.n(n),i=s(1103),l=s.n(i),c=s(16),r=s.n(c),p=s(1053),d=s(1064),u=s(6),h=s(104),m=s(1054),b=s(1175),j=s(1123),k=s(1265),w=s(1187),g=s.p+"static/media/v3_new.ebab458d.png",S=s(2);const x=e=>{const{routeName:t,version:s,onVersionChange:n,onSettingChange:i,isDetailPage:c,children:x,detailPage:O={},network:_,...v}=e,[f,A]=Object(a.useState)(0);Object(a.useEffect)((()=>{Object(h.b)().then((e=>{const{allSwaps:t}=e.data||{};A(t)}))}),[]);const T=Object(a.useMemo)((()=>Object(S.jsx)(l.a,{start:0,redraw:!0,end:Number(Object(u.a)(f).toFixed(0,1)),duration:1,prefix:"$ ",separator:","})),[f]);return Object(S.jsxs)("div",{children:[Object(S.jsx)(p.a,{routeName:1321,mountedActions:()=>{},instantActions:()=>{}}),Object(S.jsxs)("div",{className:"main-page-content",children:[Object(S.jsx)(d.a,{title:T,subTitle:o.a.get("sunSwap.total_stake"),isRevert:!0}),!c&&Object(S.jsxs)("div",{className:k.page_tab_nav_wrap,children:[Object(S.jsx)("img",{src:g,alt:"new",className:k.v3_new_icon}),Object(S.jsx)(m.a,{list:[{label:"V3",value:"V3",route:"v3/swap",handler:n},{label:"V2",value:"V2",route:"sun_swap/v2",handler:n},{label:"V1",value:"V1",route:"sun_swap/v1",handler:n}],activeKey:s?s.toUpperCase():"V3"})]}),!c&&Object(S.jsxs)("div",{className:k.page_tab_wrap,children:[Object(S.jsx)(b.a,{...v}),Object(S.jsx)(j.a,{onChange:i,network:_,version:s})]}),Object(S.jsxs)("section",{className:r()({[k.sun_swap_content]:!0,[k.sun_swap_content_detail]:c}),children:[c&&Object(S.jsx)(w.a,{...O}),x]})]})]})};t.a=Object(a.memo)(x)},1271:function(e,t,s){"use strict";var a=s(1),n=s.p+"static/media/loading_chry.cbf82baf.svg",o=s(16),i=s.n(o),l=s(2);const c=e=>{const{className:t,style:s,size:a=20}=e;return Object(l.jsx)("div",{className:i()("infinite-loading",t),style:s,children:Object(l.jsx)("img",{className:"infinite-loading-circle",style:{width:a,height:a},src:n,alt:"loading"})})};t.a=Object(a.memo)(c)},1272:function(e,t,s){"use strict";var a=s(1),n=s(1101),o=s(9),i=s.n(o),l=s.p+"static/media/table_no_data.fbf13c8c.png",c=s(1264),r=s(2);const p=()=>Object(r.jsx)(n.a,{img:l,emptyText:i.a.get("sunSwap.pool.base_noLiquidity_tip"),className:c.wallet_not_connect});t.a=Object(a.memo)(p)},1273:function(e,t,s){"use strict";var a=s(189),n=s.p+"static/media/token_loading.df40235f.svg",o=s(1),i=s(16),l=s.n(i),c=(s(1254),s(2));const r=e=>{let{src:t,defaultSrc:s,className:i,...r}=e;const[p,d]=Object(o.useState)(n),u=t||s||a.a;return Object(o.useEffect)((()=>{let e=new Image;e.src=u,e.onload=()=>{d(u),e=null},e.onerror=()=>{d(a.a),e=null}}),[u]),Object(c.jsx)("img",{src:p,...r,alt:"logo",className:l()("sun-icon-img",i)})};t.a=Object(o.memo)(r)},1300:function(e,t,s){"use strict";var a,n=s(1),o=s.n(n),i=s(187),l=s(9),c=s.n(l),r=s(1038),p=s(1500),d=s(6),u=s(15),h=s(2);let m=Object(i.b)("sunSwapNetwork")(a=Object(i.c)(a=class extends o.a.Component{constructor(e){super(e),this.changeCheckStatus=e=>{this.setState({checkStatus:e})},this.comfirmContinue=()=>{const{checkStatus:e}=this.state;e&&this.props.cb()},this.componentDidMount=()=>{},this.state={checkStatus:!1}}render(){const{visible:e,dealWarningSymbol:t}=this.props,{checkStatus:s}=this.state;let{symbol:a,slippage:n}=t?u.a.deflationToken[t]:{symbol:"",slippage:""};return Object(h.jsx)(r.a,{title:c.a.getHTML("list.deal_warning_title",{value:a}),closable:!1,open:e,footer:null,style:{marginLeft:Object(d.v)(500)},width:525,className:"list-addtoken-modal deal-warning-modal sun-swap-modal",centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:Object(h.jsxs)("div",{className:"solor-modal-body",children:[Object(h.jsxs)("div",{className:"tips",children:[Object(h.jsx)("div",{className:"tips1",children:c.a.getHTML("list.deal_warning_content_1",{value:a})}),Object(h.jsx)("div",{className:"tips1 yellow",children:c.a.getHTML("list.deal_warning_content_2",{value:n})}),Object(h.jsx)("div",{className:"tips1",children:c.a.getHTML("list.deal_warning_content_3",{value:a})})]}),Object(h.jsx)("div",{className:"check-box"+(s?" checked":""),children:Object(h.jsx)(p.a,{onChange:e=>this.changeCheckStatus(e.target.checked),children:c.a.get("sunSwap.list.i_understand")})}),Object(h.jsx)("div",{className:"btns",children:Object(h.jsx)("button",{onClick:this.comfirmContinue,className:s?"button-active":"",children:c.a.get("sunSwap.list.continue")})})]})})}})||a)||a;t.a=m},1301:function(e,t,s){"use strict";var a=s(1),n=s(1364),o=s(2);const i=e=>{const{title:t,content:s}=e;return Object(o.jsxs)("div",{className:n.warning_tip,children:[t&&Object(o.jsx)("h4",{className:n.warning_tip_title,children:t}),s&&Object(o.jsx)("div",{className:n.warning_tip_content,children:s})]})};i.defaultProps={},t.a=Object(a.memo)(i)},1302:function(e,t,s){"use strict";var a=s(1),n=s.n(a),o=s(9),i=s.n(o),l=s(16),c=s.n(l),r=s(326),p=s(2);class d extends n.a.Component{constructor(e){super(e)}render(){const{token:e={},disabled:t}=this.props;return Object(p.jsx)("p",{className:c()({dragDown:!0,"chose-token":!e.tokenAddress,"no-bg":t}),onClick:()=>this.props.showModal(),children:e.tokenAddress?Object(p.jsxs)(n.a.Fragment,{children:[Object(p.jsx)("img",{src:e.tokenLogoUrl,alt:"",onError:e=>{e.target.onerror=null,e.target.src=r.a}}),Object(p.jsx)("span",{children:e.tokenSymbol})]}):Object(p.jsxs)(p.Fragment,{children:[i.a.get("sunSwap.tokens.add_choose_select")," "]})})}}t.a=d},1362:function(e,t,s){},1363:function(e,t,s){},1364:function(e,t,s){e.exports={warning_tip:"style_warning_tip__3dgbE",warning_tip_title:"style_warning_tip_title__3J0wk",warning_tip_content:"style_warning_tip_content__fTsNT"}},1365:function(e,t,s){e.exports={"swap-block":"style_swap-block__3xRpJ","sunswap-chose-token":"style_sunswap-chose-token__1LIsY","select-token-top":"style_select-token-top__1xNRr",dragDown:"style_dragDown__17tRO","token-detail":"style_token-detail__Bez9o","input-block":"style_input-block__1Jmxi","input-number":"style_input-number__1lhaz","swap-balance":"style_swap-balance__m1Zwe","max-btn":"style_max-btn__1yKnZ","media-trade-router-pc":"style_media-trade-router-pc__3z-07","media-trade-router-mobile":"style_media-trade-router-mobile__1kjoQ",root:"style_root__3pGMk",flex:"style_flex__2Qw9R",pool_info_title:"style_pool_info_title__1py-K",pool_logo:"style_pool_logo__28EZc"}},1366:function(e,t,s){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAANCAMAAAB4p3UoAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEJQTFRFAAAASFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlDTbkywAAABZ0Uk5TAIDuQFf/9AFYP9cvsf78ImriLWQuePVMmBkAAABCSURBVHicY2DADRiZmNFEWFhZMYXYcAmxIwAHKysnAwMXKyrgZuABkrwQABLg40cxSIBVUIhEAWFWVhFU14hyQQQA99wCt/58bxkAAAAASUVORK5CYII="},1367:function(e,t,s){"use strict";var a=s(1),n=s(1928),o=s(1930),i=s(328),l=s(1368),c=s(1148),r=s(2);const p=e=>{const{title:t,tip:s,value:a}=e;return Object(r.jsxs)(n.a,{className:l.list_header,align:"middle",justify:"space-between",children:[Object(r.jsxs)(o.a,{span:12,children:[Object(r.jsx)("span",{children:t}),s&&Object(r.jsx)(i.a,{title:s,overlayClassName:"tooltip",color:"rgba(27,31,38,0.90)",children:Object(r.jsx)(c.a,{className:l.list_header_icon})})]}),Object(r.jsx)(o.a,{span:12,style:{textAlign:"right"},children:a&&Object(r.jsx)("div",{children:a})})]})};p.defaultProps={},t.a=Object(a.memo)(p)},1368:function(e,t,s){e.exports={list_header:"style_list_header__3pl6p",list_header_icon:"style_list_header_icon__2amZ7"}},1369:function(e,t,s){e.exports={"page-head":"pool_page-head__3PMYt",link:"pool_link__17GqF","gradient-title":"pool_gradient-title__2-sgq",animateTitle:"pool_animateTitle__aNJp5","dim-content":"pool_dim-content__3yQA5",uppercase:"pool_uppercase__1uPY9","window-for-tabs-pane":"pool_window-for-tabs-pane__2bVrW","dark-btn":"pool_dark-btn__3U_Eu","purple-btn":"pool_purple-btn__1C5ek","cur-input":"pool_cur-input__1dDZC","max-btn":"pool_max-btn__3LEa6",pool_list:"pool_pool_list__2ardF",pool_list_logo:"pool_pool_list_logo__fy9pI",pool_list_logo_right:"pool_pool_list_logo_right__3OXOL",pool_list_btns_add:"pool_pool_list_btns_add__1h9sM",pool_list_btns_remove:"pool_pool_list_btns_remove__1TllO"}},1370:function(e,t,s){"use strict";var a=s(1),n=s(16),o=s.n(n),i=s(1136),l=s(1371),c=s(1102),r=s(2);const p=e=>{const{token0:t,token1:s,pool_share:a,pool_tokens:n,onAdd:p,onRemove:d,onMigrate:u,showMigrate:h,disableRemove:m,originItem:b,toScan:j}=e;return Object(r.jsxs)("div",{className:l.liquidity_item_wrap,children:[Object(r.jsxs)("div",{className:l.liquidity_item_header,children:[Object(r.jsx)(i.a,{url:null===t||void 0===t?void 0:t.tokenLogo,className:l.liquidity_item_token_icon}),Object(r.jsx)(i.a,{url:null===s||void 0===s?void 0:s.tokenLogo,className:l.liquidity_item_token_icon,style:{marginLeft:-6}}),Object(r.jsx)(c.a,{className:l.liquidity_item_name,href:j,children:"".concat(null===t||void 0===t?void 0:t.tokenSymbol,"/").concat(null===s||void 0===s?void 0:s.tokenSymbol)}),h&&Object(r.jsx)("div",{className:l.liquidity_item_migrate_btn,onClick:()=>u&&u(b),children:"Migrate to V2"})]}),Object(r.jsxs)("div",{className:l.liquidity_item_content,children:[Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:l.liquidity_item_info,children:[Object(r.jsx)("div",{className:l.liquidity_item_info_info_label,children:"Pool Share:"}),Object(r.jsx)("div",{className:l.liquidity_item_info_info_value,children:a})]}),Object(r.jsxs)("div",{className:l.liquidity_item_info,children:[Object(r.jsx)("div",{className:l.liquidity_item_info_info_label,children:"Pool Tokens:"}),Object(r.jsx)("div",{className:l.liquidity_item_info_info_value,children:n})]})]}),Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:l.liquidity_item_info,children:[Object(r.jsx)(i.a,{url:null===t||void 0===t?void 0:t.tokenLogo,className:l.liquidity_item_token_icon,style:{marginRight:8}}),Object(r.jsx)("div",{className:l.liquidity_item_info_info_label,children:Object(r.jsx)("span",{children:null===t||void 0===t?void 0:t.tokenSymbol})}),Object(r.jsx)("div",{className:l.liquidity_item_info_info_value,children:null===t||void 0===t?void 0:t.amount})]}),Object(r.jsxs)("div",{className:l.liquidity_item_info,children:[Object(r.jsx)(i.a,{url:null===s||void 0===s?void 0:s.tokenLogo,className:l.liquidity_item_token_icon,style:{marginRight:8}}),Object(r.jsx)("div",{className:l.liquidity_item_info_info_label,children:Object(r.jsx)("span",{children:null===s||void 0===s?void 0:s.tokenSymbol})}),Object(r.jsx)("div",{className:l.liquidity_item_info_info_value,children:null===s||void 0===s?void 0:s.amount})]})]})]}),Object(r.jsxs)("div",{className:l.liquidity_item_footer,children:[Object(r.jsx)("div",{className:l.liquidity_item_footer_btn,onClick:()=>p&&p(b),children:"Add"}),Object(r.jsx)("div",{className:o()({[l.liquidity_item_footer_btn]:!0,[l.liquidity_item_footer_btn_disable]:m}),onClick:()=>d&&!m&&d(b),children:"Remove"})]})]})};p.defaultProps={},t.a=Object(a.memo)(p)},1371:function(e,t,s){e.exports={liquidity_item_wrap:"style_liquidity_item_wrap__XXhD-",liquidity_item_header:"style_liquidity_item_header__1R8kN",liquidity_item_name:"style_liquidity_item_name__1puyp",liquidity_item_content:"style_liquidity_item_content__2d0V5",liquidity_item_info:"style_liquidity_item_info__2ncHM",liquidity_item_info_info_label:"style_liquidity_item_info_info_label__1ljmD",liquidity_item_info_info_value:"style_liquidity_item_info_info_value__2zdic",liquidity_item_footer:"style_liquidity_item_footer__2XP79",liquidity_item_footer_btn:"style_liquidity_item_footer_btn__1ADm2",liquidity_item_footer_btn_disable:"style_liquidity_item_footer_btn_disable__Ei6Nu",liquidity_item_migrate_btn:"style_liquidity_item_migrate_btn__2FlCN",liquidity_item_token_icon:"style_liquidity_item_token_icon__DqzHd"}},1372:function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return n}));const a="v1.0",n="v2.0"},1373:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));s(1374);var a=s(2);const n=()=>Object(a.jsx)("div",{className:"v3-loading-box",children:Object(a.jsx)("span",{})})},1374:function(e,t,s){},1862:function(e,t,s){},1957:function(e,t,s){"use strict";s.r(t);var a,n=s(1),o=s.n(n),i=s(9),l=s.n(i),c=s(187),r=s(1038),p=s(1500),d=s(1918),u=s(56),h=s(15),m=s(35),b=s.n(m),j=s(93),k=s(1495),w=s(1910),g=s(1496),S=s(328),x=s(16),O=s.n(x),_=s(1036),v=s(1916),f=s(6),A=s(122),T=s(1300),y=s(1250),N=s(1252),P=s(1273),D=s(160),V=s(1171),C=(s(1158),s(1170),s(2));const q="REMOVE";let L=Object(c.b)("sunSwapPool","sunswapHotTokens")(a=Object(c.c)(a=class extends o.a.Component{constructor(e){var t;super(e),t=this,this.componentDidMount=()=>{const e=window.localStorage.getItem("solor");if(e){let t=JSON.parse(e);window.localStorage.setItem("solor",JSON.stringify(t)),this.props.sunSwapPool.setData({solor:t})}this.props.sunswapHotTokens.getHotCoinList()},this.setInitToken=()=>{this.setState({tokenSort:!1})},this.onTokenStrChange=async function(e){const{exchanges:s={},allExchanges:a={}}=t.props.sunSwapPool;try{const s=t.props.type,a=e.target.value.trim(),{tokenSort:n}=t.state;t.setState({tokenStr:a}),1===s||2===s?t.props.sunSwapPool.setData({swapToken:{...t.props.sunSwapPool.swapToken,["tokenStr".concat(s)]:a,["tokenSort".concat(s)]:n}}):t.props.sunSwapPool.setData({liqToken:{...t.props.sunSwapPool.liqToken,["tokenStr".concat(s)]:a,["tokenSort".concat(s)]:n}}),t.props.sunSwapPool.searchTokenList(s)}catch(n){console.log("onTokenStrChange: ",n)}},this.onChange=async(e,t)=>{t.stopPropagation();const s=this.props.type;if(1===s||2===s){let t=this.props.sunSwapPool.swapToken;const a=e.tokenAddress,{fromToken:n,toToken:o}=t;if(1===s&&a===n.tokenAddress||2===s&&a===o.tokenAddress)return;if((1===s||2===s)&&Object.keys(h.a.deflationToken).includes(e.tokenAddress))return void this.setState({modalVisible:!1,dealWarningVisible:!0,callbacks:this.selectSearchCallback,selectSearchItem:e})}this.props.onChangeToken(e)},this.selectSearchCallback=()=>{const{selectSearchItem:e}=this.state;this.setState({dealWarningVisible:!1}),this.props.onChangeToken(e)},this.hideModal=()=>{const{defaultStatus:e}=this.state;1===e?this.setState({modalVisible:!1,customTokenUriLeg:!0,tokenSort:!1}):this.hideListModal()},this.clearStorage=()=>{const{localStorage:e}=h.a;for(const t in e)window.localStorage.removeItem(e[t]);window.location.reload()},this.showListModal=()=>{this.setState({defaultStatus:2})},this.hideListModal=()=>{this.setState({defaultStatus:1})},this.selectTokenList=async e=>{try{const{selectedListUrl:t}=this.props.sunSwapPool;this.props.sunSwapPool.setData({selectedListUrl:e}),this.props.sunSwapPool.setTokensDataIntoLocal(),await this.props.sunSwapPool.setTokenList(this.props.type),this.setState({defaultStatus:1}),this.props.sunSwapPool.handleNotifiction(),this.props.sunSwapPool.setTokensDataIntoLocal()}catch(t){console.log(t)}},this.backTokensCategory=()=>{this.setState({changeStatus:1})},this.onTokenUriChange=e=>{try{const t=e.target.value;this.setState({customTokenUri:t.trim(),errInfo:""})}catch(t){console.log(t)}},this.checkUrl=e=>{const t="";return e||(t=l.a.get("sunSwap.list.err1")),t},this.isListsOver=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).length>=h.a.maxLists},this.addCustomTokens=async()=>{try{const{customTokenUri:e}=this.state;let t="";if(!Object(f.u)(e))return t=l.a.get("sunSwap.list.add_failed_tip"),void this.setState({errInfo:t});const{byUrl:s={}}=this.props.sunSwapPool;if(s[e]&&!s[e].rs)return t=l.a.get("sunSwap.list.exists"),void this.setState({errInfo:t});if(this.isListsOver(s))return t=l.a.getHTML("list.lists_over",{value:h.a.maxLists}),void this.setState({errInfo:t});const a=await A.a.getTokenListJson(e),{tokens:n=[]}=a;if(n.length>h.a.maxTokens)return t=l.a.getHTML("list.tokens_over",{value:h.a.maxTokens}),void this.setState({errInfo:t});const{key:o="",valid:i=!1}=Object(f.I)(a);if(!i)return t=l.a.get("sunSwap.list.add_err_tip",{value:o}),void this.setState({errInfo:t});this.props.sunSwapPool.updateTokensData(e,{...a,uri:e,rs:0}),await this.props.sunSwapPool.setTokenList(this.props.type),this.setState({defaultStatus:1})}catch(e){const t=l.a.get("sunSwap.list.add_failed_retry");this.setState({errInfo:t}),console.log(e)}},this.updateList=async e=>{const{uri:t}=e,{byUrlNew:s={}}=this.props.sunSwapPool,a=s[t];Object(f.g)(a,(async()=>{await this.props.sunSwapPool.updateByUrl(a),this.setState({})}))},this.hideRemoveModal=()=>{this.setState({removeId:"",removeModalVisible:!1,removeText:""})},this.showRemoveModal=e=>{try{this.setState({removeId:e.uri,removeModalVisible:!0})}catch(t){console.log(t)}},this.removeTokens=()=>{try{const{removeId:e,removeText:t}=this.state;if(!e)return;if(t.trim()!=q)return;const{byUrl:s={}}=this.props.sunSwapPool,a=s[e],{cst:n=!1,uri:o=""}=a;n?this.props.sunSwapPool.deleteByUrlById(o):(a.rs=1,this.props.sunSwapPool.updateByUrl(a)),this.hideRemoveModal()}catch(e){console.log(e)}},this.inputRemoveText=e=>{const t=e.target.value;this.setState({removeText:t})},this.addSolor=async e=>{try{const{solor:t=[]}=this.props.sunSwapPool;if(b.a.findIndex(t,(t=>t.tokenAddress===e.tokenAddress))>=0)return;t.unshift({...e,cst:2}),this.props.sunSwapPool.setData({solor:t}),await this.props.sunSwapPool.setTokenList(this.props.type),window.localStorage.setItem("solor",JSON.stringify(t))}catch(t){console.log(t)}},this.removeSolor=async e=>{try{const{solor:t=[]}=this.props.sunSwapPool,{tokenAddress:s}=e;b.a.remove(t,(e=>e.tokenAddress===s)),this.props.sunSwapPool.setData({solor:t}),await this.props.sunSwapPool.setTokenList(this.props.type),window.localStorage.setItem("solor",JSON.stringify(t))}catch(t){console.log(t)}},this.getKeys=e=>{try{const t=Object.keys(e);return t.sort(((t,s)=>e[t].name>e[s].name?1:-1))}catch(t){return[]}},this.tokenSortByAsCII=async e=>{try{e=!e;let{type:t}=this.props,s=[],a={};const{swapToken:n,liqToken:o}=this.props.sunSwapPool;if(1!==t&&2!==t||(s=n.tokenList,a=n.tokenMap),3!==t&&4!==t||(s=o.tokenList,a=o.tokenMap),n["tokenSort".concat(this.props.type)]=e,o["tokenSort".concat(this.props.type)]=e,this.props.sunSwapPool.setData({swapToken:n,liqToken:o}),e){let e=s.sort(((e,t)=>{const s=a[e].tokenSymbol.toLowerCase(),n=a[t].tokenSymbol.toLowerCase();return s<n?-1:s>n?1:0}));const i=b.a.findIndex(e,(e=>e.tokenAddress===h.a.trxFakeAddress));if(i>=0){const t=e.splice(i,1);e.unshift(t[0])}1!==t&&2!==t||(n.tokenList=e),3!==t&&4!==t||(o.tokenList=e)}else await this.props.sunSwapPool.setTokenList(this.props.type);this.setState({tokenSort:e})}catch(t){console.log(t)}},this.confirmContinue=async()=>{try{const{checkStatus:e}=this.state,{tokenBrief:t,tokenBriefAnother:s}=this.props.sunSwapPool,a=Object(f.q)("type");if(!e)return;Object.keys(t).length>0&&await this.addSolor(t),Object.keys(s).length>0&&await this.addSolor(s),this.props.sunSwapPool.setData({solorModalVisible:!1}),Object.keys(t).length>0&&this.props.onChangeToken&&this.props.onChangeToken(t,"swap"===a?1:3),Object.keys(s).length>0&&this.props.onChangeToken&&this.props.onChangeToken(s,"swap"===a?2:4)}catch(e){console.log(e),this.props.sunSwapPool.setData({solorModalVisible:!1})}},this.changeCheckStatus=e=>{this.setState({checkStatus:e.target.checked})},this.getClassName=(e,t)=>{try{const s=this.props.type;let a={};const n=e.tokenAddress;a=1===s||2===s?this.props.sunSwapPool.swapToken:this.props.sunSwapPool.liqToken;const{fromToken:o,toToken:i}=a;if(n===o.tokenAddress||n===i.tokenAddress||t)return"opac"}catch(s){return""}},this.outInputCheck=e=>{try{const t=this.props.type;let s={};const a=e.tokenAddress;s=1===t||2===t?this.props.sunSwapPool.swapToken:this.props.sunSwapPool.liqToken;const{fromToken:n,toToken:o}=s;if(a===n.tokenAddress)return" (".concat(l.a.get("sunSwap.tokens.selected_as_input"),")");if(a===o.tokenAddress)return" (".concat(l.a.get("sunSwap.tokens.selected_as_output"),")")}catch(t){return""}},this.renderHotCoin=()=>{const{hotTokenList:e=[],hotTokenMaps:t,isLoading:s}=this.props.sunswapHotTokens;return s?Object(C.jsxs)("div",{className:"n-hot-coin",children:[Object(C.jsx)("div",{className:"n-hot-title",children:l.a.get("account_center.popular")}),Object(C.jsx)("div",{className:"loading-hot-list",children:new Array(4).fill(1).map((()=>Object(C.jsx)("div",{className:"loading-hot-item"})))})]}):e.length?Object(C.jsxs)("div",{className:"n-hot-coin",children:[Object(C.jsx)("div",{className:"n-hot-title",children:l.a.get("account_center.popular")}),Object(C.jsx)("div",{className:"n-hot-list",children:e.map((e=>{const s=t[e];return Object(C.jsxs)("div",{className:O()({"n-hot-item":!0,"n-hot-item-selected":this.getClassName(s)}),onClick:e=>this.onChange(s,e),children:[Object(C.jsx)("img",{className:"n-hot-icon",src:s.tokenLogoUrl,onError:e=>{e.target.onerror=null,e.target.src=D.a}}),s.tokenSymbol]})}))})]}):null},this.renderSelectedList=(e,t)=>{let{tokenSort:s}=this.state;const{isMobileStatus:a}=this.props,{swapToken:n,liqToken:o,loadingTokenList:i}=this.props.sunSwapPool,{fromToken:c,toToken:r}=o;let p=[],d={},u=[];const m=this.props.type;let b="";return 1!==m&&2!==m||(u=n.tokenList,p=n.allTokenList,d=n.tokenMap,b=n["tokenStr".concat(m)]),3!==this.props.type&&4!==this.props.type||(u=o.tokenList,p=o.allTokenList,d=o.tokenMap,b=o["tokenStr".concat(m)]),e&&t&&e[t]?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(N.a,{placeholder:l.a.get("sunSwap.tokens.select_placeholder_text"),onSearch:this.onTokenStrChange,onChange:this.onTokenStrChange,value:b,enterButton:l.a.get("tokens.search"),showSuffix:!a}),this.renderHotCoin(),Object(C.jsxs)("div",{className:"n-list-title",children:[Object(C.jsx)("span",{className:"n-list-title-text",children:l.a.get("sunSwap.tokens.select_tokenName_title")}),Object(C.jsx)("span",{className:O()({"icon-sort":!0,"icon-sort-active":s}),onClick:()=>this.tokenSortByAsCII(s)})]}),Object(C.jsx)("div",{className:"n-list sun-scroll-bar",children:0===p.length?Object(C.jsx)("div",{className:"n-list-empty",children:l.a.get("sunSwap.tokens.loading_tokens")}):u.length?u.map(((e,t)=>{const s=d[e],a=e===h.a.wtrxAddress&&(3===this.props.type||4===this.props.type);return s&&!a?Object(C.jsxs)("div",{className:O()({"n-list-item":!0,"n-list-item-selected":this.getClassName(s)}),onClick:e=>this.onChange(s,e),children:[Object(C.jsx)(P.a,{className:"n-token-icon",src:s.tokenLogoUrl}),Object(C.jsxs)("div",{className:"n-item-content",children:[Object(C.jsxs)("div",{className:"n-item-title",children:[Object(C.jsxs)("span",{className:"item-content",children:[s.tokenSymbol,this.outInputCheck(s)]}),1===s.cst&&Object(C.jsxs)("div",{className:"item-content solor-detail",children:[Object(C.jsx)("span",{children:l.a.get("sunSwap.list.search_by_addr")}),Object(C.jsxs)("span",{className:"ib",onClick:e=>{e.stopPropagation(),this.addSolor(s)},children:["(",l.a.get("sunSwap.list.add"),")"]})]}),2===s.cst&&Object(C.jsxs)("div",{className:"item-content solor-detail",children:[Object(C.jsx)("span",{children:l.a.get("sunSwap.list.add_by_user")}),Object(C.jsxs)("span",{className:"solor-remove ib",onClick:e=>{e.stopPropagation(),this.removeSolor(s)},children:["(",l.a.get("sunSwap.list.remove_token"),")"]})]})]}),Object(C.jsx)("div",{className:"n-item-address",children:s.tokenAddress===h.a.trxFakeAddress?null:Object(j.a)(window.navigator).any?Object(f.j)(s.tokenAddress,4,4):Object(f.j)(s.tokenAddress,8,10)})]}),Object(C.jsx)("div",{className:"n-item-balance",children:s.tokenAddress===h.a.trxFakeAddress?Object(C.jsx)("div",{children:Object(C.jsx)("p",{children:Object(f.l)(d[s.tokenAddress]?d[s.tokenAddress].balance:s.balance)})}):Object(C.jsx)("div",{children:Object(C.jsx)("p",{children:d[s.tokenAddress]&&!isNaN(d[s.tokenAddress].balance)?Object(f.l)(d[s.tokenAddress].balance):"--"})})})]},s.tokenAddress+t):Object(C.jsx)(C.Fragment,{})})):Object(C.jsx)("div",{className:"no-token-fund",children:l.a.getHTML("list.no_token_found")})}),Object(C.jsx)("div",{className:"n-list-switch-wrap",children:Object(C.jsxs)("div",{className:"n-list-switch",children:[Object(C.jsxs)("div",{className:"n-list-switch-name",children:[Object(C.jsx)("img",{className:"n-list-switch-icon",src:e[t].logoURI,alt:"",onError:e=>{e.target.onerror=null,e.target.src=D.a}}),Object(C.jsx)("span",{children:e[t].name||""})]}),Object(C.jsx)("button",{className:"n-list-switch-btn",onClick:()=>this.showListModal(),children:l.a.get("sunSwap.list.switch")})]})})]}):Object(C.jsx)(C.Fragment,{})},this.renderUpdateListItem=e=>{const{byUrlNew:t={}}=this.props.sunSwapPool,{version:s={},uri:a}=e,n=t[a]||{},o=n.version||{},i=Object(f.f)(s,o),{success:c=!1}=Object(f.e)(e,n);return!b.a.isEqual(n,{})&&i&&c&&Object(C.jsx)(k.a.Item,{onClick:()=>{this.updateList(e)},children:l.a.get("sunSwap.list.update")})},this.adjustAndroid=e=>{let t=Object(f.d)(e);this.setState({adjust:t})},this.renderTokensCategory=()=>{const{customTokenUri:e,lang:t,errInfo:s}=this.state,{byUrl:a,selectedListUrl:n}=this.props.sunSwapPool,o=this.getKeys(a);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"home-select-url-input-wrap",children:[Object(C.jsx)(w.a,{type:"text",className:"home-select-url-input",placeholder:"https://",value:e,onChange:this.onTokenUriChange,onFocus:()=>this.adjustAndroid(!0),onBlur:()=>this.adjustAndroid(!1)}),Object(C.jsx)("button",{className:"home-select-url-btn",onClick:this.addCustomTokens,disabled:!e.trim(),children:l.a.get("sunSwap.list.add_list")})]}),!!s&&Object(C.jsxs)("div",{className:"list-add-errTip",children:[Object(C.jsx)("span",{className:"icon",children:"!"}),Object(C.jsx)("span",{className:"text",children:s})]}),Object(C.jsx)("ul",{className:"n-origin-list",children:a&&o.length&&o.map((e=>{const s=a[e];return!s.rs&&Object(C.jsxs)("li",{className:"n-origin-list-item",children:[Object(C.jsxs)("div",{className:"n-origin-list-item-left",children:[Object(C.jsxs)("div",{className:"n-origin-list-item-img-text",children:[Object(C.jsx)("img",{src:s.logoURI,alt:"",className:"n-origin-list-item-logo"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:"n-origin-list-item-name",children:s.name}),Object(C.jsx)("div",{className:"n-origin-list-item-source",children:Object(f.n)(s.uri)})]})]}),Object(C.jsx)(g.a,{trigger:"click",placement:"bottomRight",overlayClassName:"home-select-url-drop",overlay:Object(C.jsx)(k.a,{children:Object(C.jsxs)(k.a.ItemGroup,{title:Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{className:"key",children:l.a.get("sunSwap.list.version")}),Object(C.jsx)("span",{className:"value",children:Object(f.s)(s.version)})]}),children:[Object(C.jsxs)(k.a.Item,{children:[" ",Object(C.jsx)("a",{href:"".concat(h.a.justList,"?lang=").concat(t,"#/detail?uri=").concat(s.uri),target:s.uri||"_blank",children:l.a.get("sunSwap.list.view")})]}),this.renderUpdateListItem(s),s.uri!==n&&Object(C.jsx)(k.a.Item,{onClick:()=>{this.showRemoveModal(s)},children:l.a.get("sunSwap.list.remove")})]})}),children:Object(C.jsx)("a",{className:"n-origin-list-item-drop",onClick:e=>e.preventDefault()})})]}),Object(C.jsx)("div",{className:"n-origin-list-item-right",children:Object(C.jsx)(y.a,{onClick:()=>this.selectTokenList(e),disabledCanClick:!0,disabled:String(n)===String(s.uri),children:String(n)===String(s.uri)?l.a.get("sunSwap.list.selected"):l.a.get("sunSwap.list.select")})})]},s.name+"_"+e)}))}),Object(C.jsxs)("div",{className:"home-select-url-links",children:[Object(C.jsx)("a",{className:"home-select-url-more",href:"en-US"===t?h.a.moreList.en:h.a.moreList.zh,target:"_blank",children:l.a.get("sunSwap.more.more")}),Object(C.jsx)("a",{href:"".concat(h.a.justList,"?lang=").concat(t,"#/home"),className:"home-select-url-home",target:"justList",children:l.a.get("sunSwap.list.view_list_home")})]})]})},this.hideSolorModal=()=>{this.props.sunSwapPool.setData({solorModalVisible:!1})},this.state={lang:window.localStorage.getItem("lang")||l.a.options.currentLocale,tokenStr:"",defaultStatus:1,removeModalVisible:!1,removeText:"",removeId:"",solor:JSON.parse(window.localStorage.getItem("solor")||"[]"),customTokenUri:"",customTokenUriLeg:!0,errInfo:"",tokenSort:!1,checkStatus:!1,dealWarningVisible:!1,selectSearchItem:"",tokenList:[],tokenMap:{},originalTokenList:[]}}render(){const{defaultStatus:e,removeText:t,removeModalVisible:s,adjust:a,dealWarningVisible:n,callbacks:i,selectSearchItem:c}=this.state,{byUrl:p,selectedListUrl:d}=this.props.sunSwapPool;return Object(C.jsxs)(o.a.Fragment,{children:[Object(C.jsx)(V.a,{visible:this.props.modalVisible,onChange:this.setInitToken}),Object(C.jsx)(r.a,{title:1===e?Object(C.jsxs)("div",{className:"n-token-modal-title",children:[Object(C.jsx)("span",{children:l.a.get("sunSwap.tokens.add_choose_select")}),Object(C.jsx)(S.a,{zIndex:1e4,placement:"bottomLeft",title:l.a.get("tokens.add_choose_select_tip"),children:Object(C.jsx)(_.a,{className:"n-token-modal-title-icon",color:"rgba(255, 255, 255, .5)"})})]}):Object(C.jsx)("div",{className:"n-token-modal-title",children:Object(C.jsxs)("div",{className:"list-modal-header",children:[Object(C.jsx)(v.a,{onClick:()=>this.hideListModal(),style:{marginRight:10}}),Object(C.jsx)("span",{className:"add-title",children:l.a.get("sunSwap.list.select_list")})]})}),closable:!0,open:this.props.modalVisible,onCancel:()=>{this.props.onCancel()},className:O()({"dark-modal":!0,"token-select-modal":!0,"token-select-list-modal":1!==e}),footer:null,width:405,centered:!0,children:Object(C.jsx)(C.Fragment,{children:1===e?this.renderSelectedList(p,d):this.renderTokensCategory()})}),Object(C.jsxs)(r.a,{title:"",closable:!1,open:s,footer:null,width:420,className:"list-remove-modal sun-swap-modal",transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:[Object(C.jsx)("div",{className:"title",children:l.a.get("sunSwap.list.remove_confirm")}),Object(C.jsx)("div",{className:"tips",children:l.a.get("sunSwap.list.remove_confirm_tip")}),Object(C.jsx)("input",{type:"text",className:"list-input w-80",value:t,onChange:this.inputRemoveText}),Object(C.jsxs)("div",{className:"btns",children:[Object(C.jsx)("button",{onClick:this.removeTokens,disabled:t.trim()!==q,children:l.a.get("sunSwap.list.confirm")}),Object(C.jsx)("button",{onClick:this.hideRemoveModal,children:l.a.get("sunSwap.list.cancel")})]})]}),n&&Object(C.jsx)(T.a,{visible:n,cb:i,dealWarningSymbol:c.tokenAddress})]})}})||a)||a;var I,F=L,B=s(1055),E=s(1210),M=s(1165),R=s(83),U=s(1142),H=s(326);s(1862);var W,z=Object(c.b)("sunSwapNetwork")(I=Object(c.b)("sunSwapPool")(I=Object(c.b)("network")(I=Object(c.c)(I=class extends o.a.Component{constructor(e){super(e),this.cancel=()=>{this.state.actionStarted?this.setState({miniPopVisible:!0}):(this.setState({addVisible:!1}),this.props.hideAddModal())},this.initAddModal=()=>{const{liqToken:e}=this.props.sunSwapPool,{fromToken:t,toToken:s,tokenOneValue:a,tokenTwoValue:n}=e,o=new f.a(a),i=new f.a(n);let c=!0,r=!0;(Object(f.a)(t.approvedAmount).gte(o)||t.tokenAddress===h.a.trxFakeAddress||t.tokenAddress===h.a.wtrxAddress)&&(c=!1),(Object(f.a)(s.approvedAmount).gte(i)||s.tokenAddress===h.a.trxFakeAddress||s.tokenAddress===h.a.wtrxAddress)&&(r=!1),this.setState({needApproveOne:c,needApproveTwo:r,supplyPopBtn:l.a.get("sunSwap.pool.popup_supply_btn"),supplyPopBtnDisabled:!1,supplyErrorInfo:"",createActionTitle:l.a.get("sunSwap.action.createActV2",{token1:t.tokenSymbol,token2:s.tokenSymbol}),createActionError:l.a.get("sunSwap.action.createActErr"),createActionFailed:l.a.get("sunSwap.action.createActFailed"),createActionState:"success",approveActionTwoTitle:l.a.get("sunSwap.action.approveAct",{token:s.tokenSymbol}),approveActionOneTitle:l.a.get("sunSwap.action.approveAct",{token:t.tokenSymbol}),approveActionOneError:l.a.get("sunSwap.action.approveActErr"),approveActionTwoError:l.a.get("sunSwap.action.approveActErr"),approveActionOneState:"",approveActionTwoState:"",supplyActionTitle:l.a.get("sunSwap.action.supplyAct"),supplyActionError:l.a.get("sunSwap.action.supplyActErr"),supplyActionState:"",actionInfo:l.a.get("sunSwap.action.startBtn"),actionDisabled:!0,actionRetry:"",baseActionState:c||r?"line":"info",actionStarted:!1,successOneValueStr:"",successTwoValueStr:"",miniPopVisible:!1},(()=>this.setState({addVisible:!0},(()=>{this.onRetryAction()}))))},this.onRetryAction=()=>{let{needApproveOne:e,needApproveTwo:t,actionRetry:s}=this.state;switch(s||(e?s="setApproveOne":t&&(s="setApproveTwo")),s){case"setApproveOne":this.setState({approveActionOneState:"start",actionInfo:l.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(()=>{this.setApprove("one")}));break;case"setApproveTwo":this.setState({approveActionOneState:"success",approveActionTwoState:"start",actionInfo:l.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(()=>{this.setApprove("two")}));break;case"supplyLiquidity":this.setState({swapActionState:"start",actionInfo:l.a.get("sunSwap.action.startBtn"),actionDisabled:!1},(()=>{this.supplyLiquidity()}))}},this.setApproveBarText=(e,t)=>{t?("one"===e&&this.setState({approveActionOneState:"pending",actionInfo:l.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0},(()=>{setTimeout((()=>{this.setState({approveActionOneState:"success",approveActionTwoState:"start"})}),5e3)})),"two"===e&&this.setState({approveActionTwoState:"pending",actionInfo:l.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0},(()=>{setTimeout((()=>{this.setState({approveActionTwoState:"success",baseActionState:"info"})}),5e3)}))):("one"===e&&this.setState({approveActionOneState:"error"}),"two"===e&&this.setState({approveActionTwoState:"error"}),this.setState({actionRetry:"one"===e?"setApproveOne":"setApproveTwo",actionInfo:l.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0}))},this.setApprove=async e=>{const{needApproveTwo:t}=this.state,{liqToken:s}=this.props.sunSwapPool,{fromToken:a,toToken:n}=s,{router:o}=h.a.v2Contract;let i=n;"one"===e&&(i=a);const l={title:"pool.add_approve_token",obj:{token:i.tokenSymbol}};await Object(R.f)(i.tokenAddress,o,l)?(this.setApproveBarText(e,!0),"one"===e?this.setState({needApproveOne:!1},(()=>{t?this.setState({actionRetry:"setApproveTwo"},(()=>{this.onRetryAction()})):this.setState({baseActionState:"info"},(()=>{}))})):this.setState({needApproveTwo:!1})):this.setApproveBarText(e,!1)},this.beforeSupplyLiquidity=async()=>{this.setState({actionStarted:!0,supplyPopBtn:l.a.get("sunSwap.action.startBtn"),supplyPopBtnDisabled:!0},(()=>{this.supplyLiquidity()}))},this.supplyLiquidity=async()=>{const{needApproveOne:e,needApproveTwo:t}=this.state,{liqToken:s,exchangeInfo:a}=this.props.sunSwapPool,{needCreate:n}=this.props,{tokenOneValue:o,tokenTwoValue:i,fromToken:c,toToken:r}=s;let p,d,{settingSlippageV2:u}=this.props.sunSwapNetwork,{defaultAccount:m}=this.props.network;u=Number(u);const b=new f.a(o),j=new f.a(i);let k=b.times(new f.a(10).pow(c.tokenDecimal)),w=j.times(new f.a(10).pow(r.tokenDecimal));a.poolExTokenOne.gt(0)?(p="0x".concat(b.times(1-u/100).times(new f.a(10).pow(c.tokenDecimal)).integerValue(f.a.ROUND_DOWN).toString(16)),d="0x".concat(j.times(1-u/100).times(new f.a(10).pow(r.tokenDecimal)).integerValue(f.a.ROUND_DOWN).toString(16))):(p=k,d=w);const g={title:"sunSwap.pair_actions.add",obj:{trxAmount:Object(f.k)(b.toString(),c.tokenDecimal),trx:c.tokenSymbol,tokenAmount:Object(f.k)(j.toString(),r.tokenDecimal),tokenSymbol:r.tokenSymbol}},S=o.toString(),x=i.toString();let O="";if(c.tokenAddress===h.a.trxFakeAddress||r.tokenAddress===h.a.trxFakeAddress){const e=c.tokenAddress===h.a.trxFakeAddress?r:c,t=c.tokenAddress===h.a.trxFakeAddress?j:b,s=new f.a(10).pow(e.tokenDecimal),a={token:e.tokenAddress,amountTokenDesired:t.times(s)._toIntegerDown()._toHex(),amountTokenMin:c.tokenAddress===h.a.trxFakeAddress?Object(f.a)(d)._toIntegerDown()._toHex():Object(f.a)(p)._toIntegerDown()._toHex(),amountETHMin:c.tokenAddress===h.a.trxFakeAddress?Object(f.a)(p)._toIntegerDown()._toHex():Object(f.a)(d)._toIntegerDown()._toHex(),to:m,deadline:await Object(R.g)(this.props.sunSwapNetwork.settingDeadlineV2),needCreate:n},o=c.tokenAddress===h.a.trxFakeAddress?k:w;O=await Object(R.c)(a,g,Object(f.a)(o)._toIntegerDown()._toHex())}else{const e=new f.a(10).pow(c.tokenDecimal),t=new f.a(10).pow(r.tokenDecimal),s={tokenA:c.tokenAddress,tokenB:r.tokenAddress,amountADesired:b.times(e)._toIntegerDown()._toHex(),amountBDesired:j.times(t)._toIntegerDown()._toHex(),amountAMin:Object(f.a)(p)._toIntegerDown()._toHex(),amountBMin:Object(f.a)(d)._toIntegerDown()._toHex(),to:m,deadline:await Object(R.g)(this.props.sunSwapNetwork.settingDeadlineV2),needCreate:n};O=await Object(R.d)(s,g)}if(O){let a={supplyErrorInfo:"",supplyPopBtn:l.a.get("sunSwap.action.doingBtn"),supplyPopBtnDisabled:!0,actionStarted:!0};(e||t)&&(a={actionInfo:l.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,supplyActionState:"pending",baseActionState:"line",actionStarted:!0}),this.setState(a,(()=>{setTimeout((async()=>{this.setState({actionRetry:"",baseActionState:"success",actionStarted:!1,successOneValueStr:S,successTwoValueStr:x}),s.tokenOneValue=-1,s.tokenTwoValue=-1,this.props.sunSwapPool.setData({liqToken:s})}),5e3)}))}else{let s={supplyErrorInfo:l.a.get("sunSwap.action.supplyActErr"),supplyPopBtn:l.a.get("sunSwap.action.retryBtn"),supplyPopBtnDisabled:!1,actionStarted:!0};(e||t)&&(s={baseActionState:"line",supplyActionState:"error",actionRetry:"supplyLiquidity",actionInfo:l.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0}),this.setState(s)}},this.gotoPool=()=>{var e;const t={fromToken:{tokenSymbol:"TRX",tokenAddress:h.a.trxFakeAddress,tokenDecimal:h.a.trxDecimal,trxBalance:new f.a(0),tokenBalance:new f.a(0),approvedAmount:new f.a(R.a),tokenLogoUrl:h.a.trxLogoUrl},fromBalance:null===(e=this.props.network.trxBalance)||void 0===e?void 0:e.balance,toToken:{tokenAddress:"",tokenSymbol:"",approvedAmount:new f.a(0)},toBalance:new f.a(-1),tokenList:[],allTokenList:[],tokenMap:{},tokenStr3:"",tokenStr4:"",pairAddress:"",tokenOneValue:-1,tokenTwoValue:-1};this.props.sunSwapPool.setData({liqToken:t}),this.props.sunSwapPool.setData({exchangeInfo:{price1:"--",price2:"--",myExTokenOne:new f.a(0),myExTokenTwo:new f.a(0),pairTokens:new f.a(0),poolExTokenOne:new f.a(0),poolExTokenTwo:new f.a(0),totalSupply:new f.a(0)}}),this.setState({}),this.setState({addVisible:!1}),this.props.onSuccess()},this.miniPopOk=()=>{const{liqToken:e}=this.props.sunSwapPool,{fromToken:t,toToken:s,tokenOneValue:a,tokenTwoValue:n}=e,o=new f.a(a),i=new f.a(n);this.setState({miniPopVisible:!1,addVisible:!1},(async()=>{if(this.props.hideAddModal(),Object(f.a)(s.approvedAmount).lt(i)||Object(f.a)(t.approvedAmount).lt(o)){let{liqToken:e}=this.props.sunSwapPool,{fromToken:t,toToken:s}=e;const a=this.props.network.defaultAccount,{exchangeAddr:n,allowanceA:o,allowanceB:i}=await Object(R.n)(a,t.tokenAddress,s.tokenAddress);n&&this.setState({exchangeStatus:0}),t.approvedAmount=o.div(new f.a(10).pow(t.tokenDecimal)),s.approvedAmount=i.div(new f.a(10).pow(s.tokenDecimal)),this.setState({liqToken:e})}}))},this.miniPopCancel=()=>{this.setState({miniPopVisible:!1})},this.state={actionStarted:!1}}componentDidMount(){}render(){const{liqToken:e,exchangeInfo:t}=this.props.sunSwapPool,{poolExTokenOne:s,poolExTokenTwo:a,totalSupply:n}=t,{fromToken:o,toToken:i,tokenOneValue:c,tokenTwoValue:p}=e,d=new f.a(c),u=new f.a(p);let{settingSlippageV2:m}=this.props.sunSwapNetwork;const{shareOfPool:b}=this.props,{successOneValueStr:j,successTwoValueStr:k}=this.state;let w=d.times(Object(f.a)(10).pow(o.tokenDecimal)).times(u.times(Object(f.a)(10).pow(i.tokenDecimal))).sqrt().div(h.a.defaultTokenPrecision),g=u.div(d),S=d.div(u);if(Object(f.a)(t.poolExTokenOne).gt(0)){const e=d.times(n).div(s),o=u.times(n).div(a);w=e.lt(o)?e:o,g=t.price2,S=t.price1}const x=Object(f.l)(w,{dp:h.a.defaultTokenDecimal,cutZero:!0});let O=Object(f.l)(b,{dp:2,cutZero:!0});isNaN(O)?O="--":Object(f.a)(b).gt(0)&&Object(f.a)(b).lt(.01)&&(O="<0.01");const{baseActionState:_,supplyPopBtn:v,supplyPopBtnDisabled:A,supplyErrorInfo:T,actionDisabled:y,actionInfo:N,approveActionOneState:P,approveActionTwoState:D,approveActionOneError:V,approveActionTwoError:q,approveActionOneTitle:L,approveActionTwoTitle:I,supplyActionState:F,supplyActionError:R,supplyActionTitle:W,createActionState:z,createActionError:J,createActionFailed:X,createActionTitle:Y,addVisible:Z}=this.state;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(r.a,{title:null,closable:"success"!==_,open:this.props.visible||Z,onCancel:this.cancel,className:"pool-modal add-gai sun-swap-modal",footer:null,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:["line"===_&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"title normal",children:l.a.get("sunSwap.swap.action_supply")}),Object(C.jsxs)("div",{className:"ib-parent center",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{className:"add-value",children:c}),Object(C.jsx)("span",{className:"add-token",children:o.tokenSymbol})]}),Object(C.jsx)("span",{className:"plus",children:"+"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{className:"add-value",children:p}),Object(C.jsx)("span",{className:"add-token",children:i.tokenSymbol})]})]}),Object(C.jsx)("div",{className:"supplyLineTitle",children:l.a.get("sunSwap.action.supplyLineTitle")}),this.props.needCreate?Object(C.jsxs)(E.a,{children:[Object(C.jsx)("span",{status:z,err:J,failed:X,children:Y}),"success"!==P&&Object(C.jsx)("span",{status:P,err:V,children:L}),"success"!==D&&Object(C.jsx)("span",{status:D,err:q,children:I}),Object(C.jsx)("span",{status:F,err:R,children:W})]}):Object(C.jsxs)(E.a,{children:["success"!==P&&Object(C.jsx)("span",{status:P,err:V,children:L}),"success"!==D&&Object(C.jsx)("span",{status:D,err:q,children:I}),Object(C.jsx)("span",{status:F,err:R,children:W})]}),Object(C.jsx)(B.a,{type:"single",disabled:y,info:N,onClick:this.onRetryAction})]}),"info"===_&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{children:l.a.get("sunSwap.pool.popup_receive_title")}),Object(C.jsxs)("div",{className:"amount",children:[Object(C.jsxs)("div",{className:"center",children:[Object(C.jsx)("p",{className:"amount-num",children:x}),Object(C.jsx)("p",{className:"amount-name",children:Object(C.jsx)("span",{children:o.tokenSymbol+"/"+i.tokenSymbol+" "+l.a.get("sunSwap.pool.popup_tokens_text")})})]}),Object(C.jsx)("p",{className:"amount-tip left",children:l.a.get("sunSwap.pool.popup_receive_tip",{value:m})})]}),Object(C.jsxs)("div",{className:"price",children:[Object(C.jsxs)("p",{className:"flex param",children:[Object(C.jsx)("span",{className:"price-key",children:o.tokenSymbol+" "+l.a.get("sunSwap.pool.popup_deposited_text")}),Object(C.jsxs)("span",{className:"price-value",children:[Object(C.jsx)("img",{src:o.tokenLogoUrl||H.a,alt:"",onError:e=>{e.target.onerror=null,e.target.src=H.a}}),Object(C.jsx)("span",{children:c})]})]}),Object(C.jsxs)("p",{className:"flex param",children:[Object(C.jsx)("span",{className:"price-key",children:i.tokenSymbol+" "+l.a.get("sunSwap.pool.popup_deposited_text")}),Object(C.jsxs)("span",{className:"price-value",children:[Object(C.jsx)("img",{src:i.tokenLogoUrl||H.a,alt:"",onError:e=>{e.target.onerror=null,e.target.src=H.a}}),Object(C.jsx)("span",{children:p})]})]}),Object(C.jsxs)("div",{className:"flex param",children:[Object(C.jsx)("span",{className:"price-key",children:l.a.get("sunSwap.pool.popup_rates_text")}),Object(C.jsxs)("div",{className:"price-value ib",children:[Object(C.jsxs)("p",{children:["1 ",o.tokenSymbol," ="," ",Object(f.a)(1).div(Object(f.a)(10).pow(Number(i.tokenDecimal))).gt(g)?"< "+Object(f.a)(1).div(Object(f.a)(10).pow(Number(i.tokenDecimal))).toString():Object(f.l)(g,{dp:i.tokenDecimal,cutZero:!0})," ",i.tokenSymbol]}),Object(C.jsxs)("p",{children:["1 ",i.tokenSymbol," ="," ",Object(f.a)(1).div(Object(f.a)(10).pow(Number(o.tokenDecimal))).gt(S)?"< "+Object(f.a)(1).div(Object(f.a)(10).pow(Number(o.tokenDecimal))).toString():Object(f.l)(S,{dp:o.tokenDecimal,cutZero:!0})," ",o.tokenSymbol]})]})]}),Object(C.jsxs)("div",{className:"flex between mb30",children:[Object(C.jsx)("div",{className:"share-title",children:l.a.get("sunSwap.pool.popup_share_text")}),Object(C.jsxs)("div",{className:"v-right",children:[O,"%"]})]})]}),T&&Object(C.jsx)("div",{className:"errorMsg",children:T}),Object(C.jsx)(B.a,{type:"single",disabled:A,info:v,onClick:()=>this.beforeSupplyLiquidity()})]}),"success"===_&&Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"modal-success",children:[Object(C.jsx)("img",{src:U.a,alt:""}),Object(C.jsx)("div",{className:"title green",children:l.a.get("sunSwap.action.supplySuccessTitle")}),Object(C.jsxs)("div",{className:"ib-parent center mb40",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{className:"add-value",children:j}),Object(C.jsx)("span",{className:"add-token",children:o.tokenSymbol})]}),Object(C.jsx)("span",{className:"plus",children:"+"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{className:"add-value",children:k}),Object(C.jsx)("span",{className:"add-token",children:i.tokenSymbol})]})]}),Object(C.jsx)(B.a,{type:"single",info:l.a.get("sunSwap.action.closeBtn"),onClick:this.gotoPool}),Object(C.jsx)("div",{className:"supplyDescTitle",children:l.a.get("sunSwap.action.supplyDescTitle")})]})})]}),Object(C.jsx)(M.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}})||I)||I)||I)||I,J=s(1365),X=s(1141),Y=s(1928),Z=s(1930),Q=s(1301);var K,G=Object(c.b)("sunSwapNetwork")(W=Object(c.b)("sunSwapPool")(W=Object(c.c)(W=class extends o.a.Component{constructor(e){super(e),this.cancel=()=>{this.props.cancel&&this.props.cancel()},this.state={}}render(){const{exchangeStatus:e,shareOfPool:t,loading:s,firstCreateInfoVisible:a}=this.props,{liqToken:n,exchangeInfo:o}=this.props.sunSwapPool,{fromToken:i,toToken:c,tokenOneValue:r,tokenTwoValue:p}=n,d=new f.a(r),u=new f.a(p);let h="--",m="--";"--"!==o.price1&&(h=o.price1._toFixed(4,1)),"--"!==o.price2&&(m=o.price2._toFixed(4,1)),u.gt(0)&&d.gt(0)&&(0===e||1===e)&&(h=d.div(u),m=u.div(d));let b="--",j="--";b="--"===h?h:Object(f.a)(h).lt(1e-4)?"< 0.0001":Object(f.a)(h)._toFixed(4,1),j="--"===m?m:Object(f.a)(m).lt(1e-4)?"< 0.0001":Object(f.a)(m)._toFixed(4,1);let k=t._toFixed(2,1);return isNaN(k)?k="--":t.gt(0)&&t.lt(.01)&&(k="<0.01"),Object(C.jsxs)(Y.a,{className:"exchange-info",gutter:{xs:8,sm:16,md:24},children:[Object(C.jsxs)(Z.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-30",children:[Object(C.jsx)("div",{className:J.pool_info_title,children:0===e||1===e?l.a.get("sunSwap.pool.create_initial_title"):l.a.get("sunSwap.pool.add_price_title")}),Object(C.jsx)(X.a,{items:[{label:l.a.get("sunSwap.pool.add_unit_text",{toToken:c.tokenSymbol||"--",fromToken:i.tokenSymbol||"--"}),value:b},{label:l.a.get("sunSwap.pool.add_unit_text",{toToken:i.tokenSymbol||"--",fromToken:c.tokenSymbol||"--"}),value:j},{label:l.a.get("sunSwap.pool.add_share_text"),value:k+"%"}]})]}),!s&&a&&Object(C.jsx)(Z.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-30",style:{marginTop:64},children:Object(C.jsx)(Q.a,{title:l.a.get("sunSwap.pool.create_firstProv_bold"),content:l.a.get("sunSwap.pool.create_first_tip1")})}),0===e||1===e?null:Object(C.jsxs)(Z.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-30",children:[Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("span",{className:O()("flex-1",J.pool_info_title),children:l.a.get("sunSwap.pool.base_posi_title")}),Object(C.jsxs)("p",{className:J.pool_logo,children:[Object(C.jsx)("img",{src:i.tokenLogoUrl||H.a,onError:e=>{e.target.onerror=null,e.target.src=H.a},alt:""}),Object(C.jsx)("img",{className:"ml--6",src:c.tokenLogoUrl||H.a,onError:e=>{e.target.onerror=null,e.target.src=H.a},alt:""}),Object(C.jsx)("span",{children:i.tokenSymbol||"--"}),Object(C.jsx)("span",{className:"symbol",children:"/"}),Object(C.jsx)("span",{children:c.tokenSymbol||"--"})]})]}),Object(C.jsx)(X.a,{items:[{label:i.tokenSymbol||"--",value:o.myExTokenOne.lt(1e-4)&&o.myExTokenOne.gt(0)?"<0.0001":o.myExTokenOne._toFixed(4,1)},{label:c.tokenSymbol||"--",value:o.myExTokenTwo.lt(1e-4)&&o.myExTokenTwo.gt(0)?"<0.0001":o.myExTokenTwo._toFixed(4,1)},{label:l.a.get("sunSwap.pool.add_tokens_text"),value:o.pairTokens.lt(1e-4)&&o.pairTokens.gt(0)?"<0.0001":o.pairTokens._toFixed(4,1)}]})]})]})}})||W)||W)||W,$=s(1302),ee=s(1129),te=s(322);let se=Object(c.b)("sunSwapNetwork")(K=Object(c.b)("sunSwapPool")(K=Object(c.b)("network")(K=Object(c.c)(K=class extends o.a.Component{constructor(e){var t;super(e),t=this,this.componentDidMount=async()=>{try{const{liqToken:e}=this.props.sunSwapPool,{fromToken:t,toToken:s}=e;t.tokenAddress!==h.a.wtrxAddress&&s.tokenAddress!==h.a.wtrxAddress||(e.fromToken={tokenAddress:"",tokenSymbol:"",approvedAmount:new f.a(0)},e.toToken={tokenAddress:"",tokenSymbol:"",approvedAmount:new f.a(0)},this.props.sunSwapPool.setData({liqToken:e}));const a=setInterval((()=>{this.props.network.isConnected&&(this.timer=setInterval((()=>{this.afterSelectedToken(s,!1),this.afterSelectedToken(t,!1)}),6e3),this.afterSelectedToken(s,!0),this.afterSelectedToken(t,!0),clearInterval(a))}),1e3);this.initTokenBalance(),await this.props.sunSwapPool.setTokenList(3)}catch(e){}},this.componentWillUnmount=()=>{clearInterval(this.timer)},this.setActivePage=e=>{const{liqToken:t}=this.props.sunSwapPool;t.fromBalance=new f.a(-1),t.toBalance=new f.a(-1),t.tokenOneValue=-1,t.tokenTwoValue=-1,this.setState({fromOrTo:0,bothInputHasNum:!1}),this.props.sunSwapPool.setData({liqToken:t}),this.setState({}),this.props.sunSwapPool.setData({actionLiqV2:e})},this.initInputInfo=()=>{let{liqToken:e}=this.props.sunSwapPool;e.tokenOneValue=-1,e.tokenTwoValue=-1,e.toBalance=new f.a(-1),this.setState({fromOrTo:0,bothInputHasNum:!1}),this.props.sunSwapPool.setData({liqToken:e})},this.initTokenBalance=async()=>{if(this.props.network.isConnected){const{liqToken:e}=this.props.sunSwapPool,{fromToken:t,toToken:s}=e;t.tokenAddress&&this.getTokenBalance(t,"from"),s.tokenAddress&&this.getTokenBalance(s,"to")}},this.getTokenBalance=async(e,t)=>{const{defaultAccount:s}=this.props.network,{fromBalance:a,toBalance:n}=this.props.sunSwapPool,o=(await Object(R.i)(s,[e.tokenAddress]))[0].div(new f.a(10).pow(e.tokenDecimal));if("from"===t&&!o.eq(a)){let{liqToken:e}=this.props.sunSwapPool;e.fromBalance=o,this.props.sunSwapPool.setData({liqToken:e}),this.setShareOfPool()}if("to"===t&&!o.eq(n)){let{liqToken:e}=this.props.sunSwapPool;e.toBalance=o,this.props.sunSwapPool.setData({liqToken:e}),this.setShareOfPool()}},this.setInsufficient=(e,t,s,a)=>{const{tokenSymbol:n}=s;Object(f.a)(e).gt(Object(f.a)(t))||isNaN(t.toNumber())?("from"===a&&this.setState({insufficientBalanceFrom:n}),"to"===a&&this.setState({insufficientBalanceTo:n})):("from"===a&&this.setState({insufficientBalanceFrom:""}),"to"===a&&this.setState({insufficientBalanceTo:""}))},this.setShareOfPool=()=>{const{exchangeInfo:e,liqToken:t}=this.props.sunSwapPool,{fromBalance:s,toBalance:a,fromToken:n,toToken:o,tokenOneValue:i,tokenTwoValue:l}=t,c=new f.a(i),r=new f.a(l),{poolExTokenOne:p,poolExTokenTwo:d}=e;this.setInsufficient(c,s,n,"from"),this.setInsufficient(r,a,o,"to"),c.gt(0)&&r.gt(0)&&(p.gt(0)||d.gt(0))?this.setState({bothInputHasNum:!0,shareOfPool:c.div(c.plus(p)).times(100)||r.div(r.plus(d)).times(100)}):"--"===e.price1&&c.gt(0)&&r.gt(0)?this.setState({bothInputHasNum:!0,shareOfPool:new f.a(100)}):this.setState({bothInputHasNum:!1,shareOfPool:new f.a(0)})},this.setInputValue=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new f.a(-1),a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{exchangeInfo:n,liqToken:o}=t.props.sunSwapPool,{tokenTwoValue:i,tokenOneValue:l,fromToken:c,toToken:r,fromBalance:p,toBalance:d}=o,u=new f.a(l),h=new f.a(i);if(c.tokenAddress&&r.tokenAddress&&"--"!==n.price1){if(4===e){let e=h;s.eq(-1)||(e=s);let i=e.times(n.price1),l="";i.gt(0)&&(l=i._toFixed(Number(c.tokenDecimal),1)),Object(f.D)(l).gt(p)&&a?t.setMaxValue(3):(o.tokenOneValue=l,t.props.sunSwapPool.setData({liqToken:o}),t.setShareOfPool())}else if(3===e){let e=u;s.eq(-1)||(e=s);let i=e.div(n.price1),l="";i.gt(0)&&(l=i._toFixed(Number(r.tokenDecimal),1)),new f.a(l).gt(d)&&a?t.setMaxValue(4):(o.tokenTwoValue=l,t.props.sunSwapPool.setData({liqToken:o}),t.setShareOfPool())}}else 3===e&&(o.tokenOneBNValue=s),4===e&&(o.tokenTwoBNValue=s),t.props.sunSwapPool.setData({liqToken:o}),t.setShareOfPool()},this.initExchangeInfo=()=>{this.props.sunSwapPool.setData({exchangeInfo:{price1:"--",price2:"--",myExTokenOne:new f.a(0),myExTokenTwo:new f.a(0),pairTokens:new f.a(0),poolExTokenOne:new f.a(0),poolExTokenTwo:new f.a(0),totalSupply:new f.a(0)}})},this.afterSelectedToken=async function(e){let s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e.tokenAddress)return;const{fromOrTo:a}=t.state;let{liqToken:n}=t.props.sunSwapPool,{tokenOneValue:o,tokenTwoValue:i,fromToken:l,toToken:c}=n;const r=new f.a(o),p=new f.a(i);if(s&&t.initInputInfo(),4===a&&!p.gt(0)||3===a&&!r.gt(0)||!t.props.network.isConnected)return;const d=t.props.network.defaultAccount,{exchangeAddr:u,allowanceA:m,allowanceB:b,exTokenABalance:j,exTokenBBalance:k,totalLiquidity:w,userUniAmount:g,userTokenAAmount:S,userTokenBAmount:x}=await Object(R.n)(d,l.tokenAddress,c.tokenAddress);if(s&&(l.approvedAmount=m.div(new f.a(10).pow(l.tokenDecimal)),c.approvedAmount=b.div(new f.a(10).pow(c.tokenDecimal)),t.props.sunSwapPool.setData({liqToken:n})),u&&u!==h.a.trxFakeAddress){let e="--",n="--";if(w.gt(0)){t.setState({exchangeStatus:2});const o=j.div(new f.a(10).pow(l.tokenDecimal)),i=k.div(new f.a(10).pow(c.tokenDecimal));e=o.div(i),n=i.div(o),s||t.setInputValue(a);const{liqToken:r}=t.props.sunSwapPool,{pairAddress:p}=r;p===u&&t.props.sunSwapPool.setData({exchangeInfo:{myExTokenOne:new f.a(S).div(new f.a(10).pow(l.tokenDecimal)),myExTokenTwo:new f.a(x).div(new f.a(10).pow(c.tokenDecimal)),pairTokens:new f.a(g).div(h.a.defaultTokenPrecision),totalSupply:new f.a(w).div(h.a.defaultTokenPrecision),price1:e,price2:n,poolExTokenOne:o,poolExTokenTwo:i}})}else t.setState({exchangeStatus:1}),s&&t.initExchangeInfo()}else t.setState({exchangeStatus:0,showMigrateBtn:!1}),s&&t.initExchangeInfo();t.initTokenBalance()},this.afterEnterNum=async function(e,s){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.state.fromOrTo=s;let{liqToken:n}=t.props.sunSwapPool,{fromBalance:o,toBalance:i,toToken:l,fromToken:c}=n;if(e){let r=e,p=6;p=3===s?c.tokenDecimal:l.tokenDecimal;const{valid:d,str:u}=Object(f.w)(e.replace(/,/g,""),p);if(!d)return;r=u,""===l.tokenSymbol||""===c.tokenSymbol?(3===s&&(n.tokenTwoValue=-1,n.tokenOneValue=r,t.props.sunSwapPool.setData({liqToken:n}),t.setInsufficient(r,o,c,"from")),4===s&&(n.tokenOneValue=-1,n.tokenTwoValue=r,t.props.sunSwapPool.setData({liqToken:n}),t.setInsufficient(r,i,l,"to"))):(3===s&&(n.tokenOneValue=r,t.props.sunSwapPool.setData({liqToken:n})),4===s&&(n.tokenTwoValue=r,t.props.sunSwapPool.setData({liqToken:n})),t.setInputValue(s,Object(f.a)(r),a))}else t.initInputInfo()},this.setMaxValue=e=>{try{let{exchangeStatus:t}=this.state;const{liqToken:s}=this.props.sunSwapPool;let{fromBalance:a,toBalance:n,fromToken:o,toToken:i}=s,l=a,c=n;l.gt(0)&&c.gt(0)||(l=Object(f.a)(0),c=Object(f.a)(0)),3===e?((0===t||1===t)&&o.tokenAddress&&i.tokenAddress||(s.tokenTwoValue=c.toString(),this.props.sunSwapPool.setData({liqToken:s})),s.tokenOneValue=l.toString(),this.props.sunSwapPool.setData({liqToken:s}),this.setShareOfPool(),n.gt(0)&&this.afterEnterNum(l._toFixed(Number(o.tokenDecimal),1),3,!0)):((0===t||1===t)&&o.tokenAddress&&i.tokenAddress||(s.tokenOneValue=l.toString(),this.props.sunSwapPool.setData({liqToken:s})),s.tokenTwoValue=c.toString(),this.props.sunSwapPool.setData({liqToken:s}),this.setShareOfPool(),a.gt(0)&&this.afterEnterNum(n._toFixed(Number(i.tokenDecimal),1),4,!0))}catch(t){console.log("setMAX error:",t)}},this.showAddModal=()=>{this.addModalRef.current.initAddModal()},this.hideAddModal=()=>{this.setState({addModalVisible:!1})},this.onChangeToken=function(e,s){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{liqToken:n}=t.props.sunSwapPool,{fromToken:o,toToken:i}=n,l=e.tokenAddress;3===s&&l===o.tokenAddress&&!a||4===s&&l===i.tokenAddress&&!a||(3===s?(l===n.toToken.tokenAddress&&(n.toToken=n.fromToken),n.fromToken={...e},n.toBalance=new f.a(-1)):4===s&&(l===n.fromToken.tokenAddress&&(n.fromToken=n.toToken),n.toToken={...e},n.fromBalance=new f.a(-1)),Object(f.p)(n),t.props.sunSwapPool.setData({liqToken:n}),t.afterSelectedToken(e,!0),t.props.sunSwapPool.showModal(s,!1))},this.hideMigrateModal=e=>{this.setState({migrateModalVisbile:!1})},this.onChange=()=>{this.props.sunSwapPool.setData({actionLiqV2:0})},this.useSafeMax=e=>{const{exchangeStatus:t}=this.state,{liqToken:s}=this.props.sunSwapPool,{fromToken:a,toToken:n,fromBalance:o,toBalance:i}=s,l=(0===t||1===t)&&n.tokenAddress&&a.tokenAddress?h.a.createFeeAmountV2:h.a.addFeeAmountV2;if("from"===e){const e=Object(f.b)(Object(f.D)(o).minus(l));this.afterEnterNum(e,3)}else if("to"===e){const e=Object(f.b)(Object(f.D)(i).minus(l));this.afterEnterNum(e,4)}},this.addLiquidityDisableChange=e=>{this.setState({disableAdd:e})},this.addModalRef=o.a.createRef(),this.tokenRef=o.a.createRef(),this.state={bothInputHasNum:!1,insufficientBalanceFrom:"",insufficientBalanceTo:"",exchangeStatus:-1,shareOfPool:new f.a(0),addModalVisible:!1,fromOrTo:0,showMigrateBtn:!1,migrateModalVisbile:!1,migrateDataV2:{},migrateData:{},migrateTip:"",status:!1,disableAdd:!1}}render(){const{bothInputHasNum:e,exchangeStatus:t,addModalVisible:s,insufficientBalanceFrom:a,insufficientBalanceTo:n,status:o}=this.state,{addLiqFromPools:i,liqToken:c,modalVisibleInfo:r}=this.props.sunSwapPool,{tokenOneValue:p,tokenTwoValue:d,fromToken:u,toToken:m,fromBalance:b,toBalance:j}=c,k=new f.a(p),w=new f.a(d);let g="";(a||n)&&(g=l.a.get("sunSwap.pool.add_insufficient_btn",{value:a||n}));const S=k.lt(1e-8)&&k.gt(0)||w.lt(1e-8)&&w.gt(0);let x="";g&&(x=g),e&&!S||(x=l.a.get("sunSwap.pool.add_enter_btn"));let O=!1;O=(0===t||1===t)&&m.tokenAddress&&u.tokenAddress;const _=Object(f.b)(k.gte(0)||p.toString().includes(".")?p:""),v=Object(f.b)(w.gte(0)||d.toString().includes(".")?d:"");let A=null;A=setTimeout((()=>{this.setState({status:!0}),clearTimeout(A)}),3e3);const T=O?h.a.createFeeAmountV2:h.a.addFeeAmountV2;return Object(C.jsxs)("section",{className:"swap-and-pool",children:[Object(C.jsx)(te.a,{callback:this.addLiquidityDisableChange}),S&&Object(C.jsx)("p",{className:"fz14 first-pool-tip red",children:l.a.get("sunSwap.pool.mininum")}),Object(C.jsxs)(Y.a,{gutter:[{xs:8,sm:16,md:24},10],children:[Object(C.jsxs)(Z.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"swap-block",children:[Object(C.jsxs)("div",{className:"flex select-token-top",children:[Object(C.jsxs)("div",{className:u.tokenAddress?"flex":"flex sunswap-chose-token",children:[Object(C.jsx)($.a,{showModal:()=>{this.props.sunSwapPool.showModal(3)},token:u,disabled:i}),Object(C.jsx)(F,{modalVisible:r.visible3&&!i,onCancel:()=>this.props.sunSwapPool.showModal(3,!1),type:3,onChangeToken:(e,t)=>{this.onChangeToken(e,t||3)},ref:this.tokenRef}),Object(C.jsx)(ee.a,{token:u,showTrx:!0})]}),Object(C.jsxs)("div",{className:"swap-balance",children:[Object(C.jsx)("span",{children:l.a.get("sunSwap.swap.input_from_balance")}),Object(C.jsx)("span",{children:b.gte(0)?Object(f.l)(b,{dp:6,cutZero:!0}):"--"})]})]}),Object(C.jsxs)("div",{className:"flex input-block mt-16",children:[Object(C.jsx)("div",{className:"flex input-number",children:Object(C.jsx)("input",{type:"type",className:"token-sec-input token-sec-input-1",placeholder:l.a.get("sunSwap.pool.add_placeholder_text"),onChange:e=>this.afterEnterNum(e.target.value,3),value:_})}),this.props.network.isConnected?Object(C.jsx)("span",{className:"max-btn",onClick:e=>this.setMaxValue(3),children:l.a.get("sunSwap.swap.input_from_max")}):null]})]}),Object(C.jsxs)(Z.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"swap-block",children:[Object(C.jsxs)("div",{className:"flex select-token-top",children:[Object(C.jsxs)("div",{className:m.tokenAddress?"flex":"flex sunswap-chose-token",children:[Object(C.jsx)($.a,{showModal:()=>this.props.sunSwapPool.showModal(4),token:m,disabled:i}),Object(C.jsx)(F,{modalVisible:r.visible4&&!i,onCancel:()=>this.props.sunSwapPool.showModal(4,!1),type:4,onChangeToken:(e,t)=>{this.onChangeToken(e,t||4)}}),Object(C.jsx)(ee.a,{token:m,showTrx:!0})]}),Object(C.jsxs)("div",{className:"swap-balance",children:[Object(C.jsx)("span",{children:l.a.get("sunSwap.swap.input_to_balance")}),Object(C.jsx)("span",{children:j.gte(0)?Object(f.l)(j,{dp:6,cutZero:!0}):"--"})]})]}),Object(C.jsxs)("div",{className:"flex input-block mt-16",children:[Object(C.jsx)("div",{className:"flex input-number",children:Object(C.jsx)("input",{type:"type",className:"token-sec-input token-sec-input-2",placeholder:l.a.get("sunSwap.pool.add_placeholder_text"),onChange:e=>this.afterEnterNum(e.target.value,4),value:v})}),this.props.network.isConnected?Object(C.jsx)("span",{className:"max-btn",onClick:e=>this.setMaxValue(4),children:l.a.get("sunSwap.swap.input_from_max")}):null]})]}),Object(C.jsx)(Z.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"swap-block"})]}),m.tokenAddress&&u.tokenAddress&&Object(C.jsx)(G,{exchangeStatus:this.state.exchangeStatus,shareOfPool:this.state.shareOfPool,loading:!o,firstCreateInfoVisible:O}),Object(C.jsxs)(Y.a,{gutter:{xs:8,sm:16,md:24},children:[Object(C.jsx)(Z.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-20",children:o&&"TRX"===u.tokenSymbol&&_?Object(f.D)(b).lt(T)?Object(C.jsx)("div",{className:"warning-amount-tip",children:l.a.getHTML("list.trx_tip_3",{value:T})}):Object(f.D)(b).minus(T).lt(Object(f.D)(_))?Object(C.jsxs)("div",{className:"safe-amount-tip",children:[l.a.getHTML("list.trx_tip_1",{value:T})," ",Object(C.jsx)("span",{className:"safe-amount-set-btn",onClick:()=>this.useSafeMax("from"),children:l.a.get("sunSwap.list.trx_tip_2")})]}):null:null}),Object(C.jsx)(Z.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-20",children:o&&"TRX"===m.tokenSymbol&&v?Object(f.D)(j).lt(T)?Object(C.jsx)("div",{className:"warning-amount-tip",children:l.a.getHTML("list.trx_tip_3",{value:T})}):Object(f.D)(j).minus(T).lt(Object(f.D)(v))?Object(C.jsxs)("div",{className:"safe-amount-tip",children:[l.a.getHTML("list.trx_tip_1",{value:T})," ",Object(C.jsx)("span",{className:"safe-amount-set-btn",onClick:()=>this.useSafeMax("to"),children:l.a.get("sunSwap.list.trx_tip_2")})]}):null:null})]}),this.props.network.isConnected?x?Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(B.a,{styleName:"mt-40",type:"single",disabled:!0,info:x})}):Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(B.a,{styleName:"mt-40",type:"single",info:this.state.disableAdd?l.a.get("not_available"):l.a.get("sunSwap.pool.add_supply_btn"),disabled:this.state.disableAdd,onClick:()=>this.showAddModal()})}):Object(C.jsx)(B.a,{styleName:"mt-40",type:"single",info:l.a.get("sunSwap.pool.add_connect_btn"),onClick:e=>{this.props.network.setData({loginModalVisible:!0,loginModalStep:1})}}),Object(C.jsx)(z,{visible:s,hideAddModal:this.hideAddModal,needCreate:0===this.state.exchangeStatus,beforeSupplyLiquidity:this.beforeSupplyLiquidity,ref:this.addModalRef,shareOfPool:this.state.shareOfPool,onSuccess:this.props.onSuccess})]})}})||K)||K)||K)||K;var ae,ne=se,oe=s(1956),ie=s(1135),le=s(1256);const ce=Object(j.a)(window.navigator).any;let re=Object(c.b)("sunSwapNetwork")(ae=Object(c.b)("sunSwapPool")(ae=Object(c.c)(ae=class extends o.a.Component{constructor(e){super(e),this.setPercent=e=>{this.props.sunSwapPool.setData({percentNum:e})},this.showSettingModal=()=>{this.props.sunSwapNetwork.setData({settingVisibleV2:!0})},this.renderLiqBtn=e=>{const{percentNum:t}=this.props.sunSwapPool;return Object(C.jsx)("button",{className:O()({[le.remove_liq_active_btn]:t==e,[le.remove_liq_btn]:t!==e,"ml-10":"25"!==e}),onClick:t=>this.setPercent(Number(e)),children:"100"===e?l.a.get("sunSwap.pool.remove_max_text"):e+"%"})},this.renderTokenInfo=(e,t,s)=>Object(C.jsxs)("div",{children:[Object(C.jsxs)("p",{className:O()(le.remove_liq_token,["flex start"]),children:[Object(C.jsx)("img",{src:e.tokenLogoUrl||H.a,alt:""}),Object(C.jsx)("span",{children:e.tokenSymbol})]}),Object(C.jsx)("p",{className:O()(le.remove_liq_value,["mt-12"],["mb-12"]),children:0===s?0:t.times(s).div(100)._toFixed(4,1)<1e-4?"<0.0001":t.times(s).div(100)._toFixed(4,1)})]}),this.settingsRef=o.a.createRef(),this.state={}}render(){var e=this;const{liqToken:t,exchangeInfo:s,percentNum:a}=this.props.sunSwapPool,{fromToken:n,toToken:o}=t;let i=a;const c=(e,t)=>e.isNaN()||e.eq(1/0)?"--":e._toFixed(Number(t),1);let r=c(s.myExTokenTwo.div(s.myExTokenOne),o.tokenDecimal),p=c(s.myExTokenOne.div(s.myExTokenTwo),n.tokenDecimal);const d=[{label:Object(C.jsx)(ee.a,{token:n,showTokenName:!0,showTrx:!0}),value:s.myExTokenOne._toFixed(4,1)},{label:Object(C.jsx)(ee.a,{styleName:"ml-30",token:o,showTokenName:!0,showTrx:!0}),value:s.myExTokenTwo._toFixed(4,1)},{label:Object(C.jsx)("span",{style:{color:"#ffffff",fontSize:"14px"},children:l.a.get("sunSwap.pool.add_tokens_text")}),value:s.pairTokens._toFixed(4,1)}],u=[{label:Object(C.jsx)(ee.a,{token:n,showTokenName:!0,showTrx:!0}),value:s.myExTokenOne._toFixed(4,1)},{label:Object(C.jsx)(ee.a,{styleName:"ml-30",token:o,showTokenName:!0,showTrx:!0}),value:s.myExTokenTwo._toFixed(4,1)}];return Object(C.jsxs)(Y.a,{gutter:[{xs:8,sm:16,md:24},10],children:[Object(C.jsxs)(Z.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-30",children:[Object(C.jsxs)("div",{className:"flex mb-16",children:[Object(C.jsx)("div",{className:le.remove_liq_title,children:l.a.get("sunSwap.pool.base_posi_title")}),ce?Object(C.jsxs)("div",{className:le.remove_liq_fee,children:[Object(C.jsxs)("span",{children:[l.a.get("sunSwap.pool.add_tokens_text")," "]}),Object(C.jsx)("span",{children:s.pairTokens._toFixed(4,1)})]}):null]}),Object(C.jsx)(X.a,{items:ce?u:d,textColor:"#ffffff"}),Object(C.jsx)("div",{className:"hide-for-pc",style:{marginTop:"20px"},children:Object(C.jsx)(ie.a,{slippage:this.props.sunSwapNetwork.settingSlippageV2,deadline:this.props.sunSwapNetwork.settingDeadlineV2,onChange:function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.props.sunSwapNetwork.saveSettingsForV2(t,s),e.swapRef&&e.swapRef.current&&e.swapRef.current.calcPrice()}})})]}),Object(C.jsxs)(Z.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-30",children:[Object(C.jsx)("div",{className:le.remove_liq_title,children:l.a.get("withdraw.share_of_liq")}),Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsxs)("div",{className:le.remove_liq_num,children:[Object(C.jsx)("span",{className:"percent",children:i}),"%"]}),!ce&&Object(C.jsxs)("div",{className:"flex",children:[this.renderLiqBtn("25"),this.renderLiqBtn("50"),this.renderLiqBtn("75"),this.renderLiqBtn("100")]})]}),Object(C.jsx)(oe.a,{defaultValue:a,onChange:e=>this.setPercent(e),className:"super-slider",value:a,tooltip:{formatter:null}}),ce&&Object(C.jsxs)("div",{className:"flex mb-24 mt-20",children:[this.renderLiqBtn("25"),this.renderLiqBtn("50"),this.renderLiqBtn("75"),this.renderLiqBtn("100")]}),ce?Object(C.jsxs)("div",{className:"flex mb-24",children:[Object(C.jsxs)("div",{children:[this.renderTokenInfo(n,s.myExTokenOne,a),this.renderTokenInfo(o,s.myExTokenTwo,a)]}),Object(C.jsxs)("div",{className:le.remove_liq_price,children:[Object(C.jsxs)("p",{children:["1 ",n.tokenSymbol," ="," ",Object(f.a)(1).div(Object(f.a)(10).pow(o.tokenDecimal)).gt(r)?"< "+Object(f.a)(1).div(Object(f.a)(10).pow(o.tokenDecimal)).toString():r," ",o.tokenSymbol,Object(C.jsx)("span",{})]}),Object(C.jsxs)("p",{children:[Object(C.jsx)("span",{}),"1 ",o.tokenSymbol," ="," ",Object(f.a)(1).div(Object(f.a)(10).pow(n.tokenDecimal)).gt(p)?"< "+Object(f.a)(1).div(Object(f.a)(10).pow(n.tokenDecimal)).toString():p," ",n.tokenSymbol]})]})]}):Object(C.jsxs)("div",{className:"flex mt-36",children:[this.renderTokenInfo(n,s.myExTokenOne,a),Object(C.jsxs)("div",{className:le.remove_liq_price,children:[Object(C.jsxs)("p",{children:["1 ",n.tokenSymbol," ="," ",Object(f.a)(1).div(Object(f.a)(10).pow(o.tokenDecimal)).gt(r)?"< "+Object(f.a)(1).div(Object(f.a)(10).pow(o.tokenDecimal)).toString():r," ",o.tokenSymbol,Object(C.jsx)("span",{})]}),Object(C.jsxs)("p",{children:[Object(C.jsx)("span",{}),"1 ",o.tokenSymbol," ="," ",Object(f.a)(1).div(Object(f.a)(10).pow(n.tokenDecimal)).gt(p)?"< "+Object(f.a)(1).div(Object(f.a)(10).pow(n.tokenDecimal)).toString():p," ",n.tokenSymbol]})]}),this.renderTokenInfo(o,s.myExTokenTwo,a)]}),Object(C.jsx)("div",{className:"hide-for-mobile",style:{marginTop:"28px"},children:Object(C.jsx)(ie.a,{slippage:this.props.sunSwapNetwork.settingSlippageV2,deadline:this.props.sunSwapNetwork.settingDeadlineV2,onChange:function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.props.sunSwapNetwork.saveSettingsForV2(t,s),e.swapRef&&e.swapRef.current&&e.swapRef.current.calcPrice()}})})]})]})}})||ae)||ae)||ae;var pe,de=re;s.p;var ue=Object(c.b)("sunSwapPool")(pe=Object(c.b)("sunSwapNetwork")(pe=Object(c.b)("network")(pe=Object(c.c)(pe=class extends o.a.Component{constructor(e){super(e),this.componentDidMount=async()=>{this.getUserPool()},this.getUserPool=async()=>{const{liqToken:e}=this.props.sunSwapPool,{fromToken:t,toToken:s}=e,a=this.props.network.defaultAccount;this.props.sunSwapPool.setData({percentNum:0});const{exchangeAddr:n,exTokenABalance:o,exTokenBBalance:i,totalLiquidity:l,userUniAmount:c,userTokenAAmount:r,userTokenBAmount:p,allowancePair:d}=await Object(R.n)(a,t.tokenAddress,s.tokenAddress),u=d.div(h.a.defaultTokenPrecision);if(this.setState({pairApprovedAmout:u}),n){this.setState({exchangeAddr:n});const e=o.div(new f.a(10).pow(t.tokenDecimal)),a=i.div(new f.a(10).pow(s.tokenDecimal)),d=e.div(a),u=a.div(e);e.gt(0)&&this.props.sunSwapPool.setData({exchangeInfo:{myExTokenOne:new f.a(r).div(new f.a(10).pow(t.tokenDecimal)),myExTokenTwo:new f.a(p).div(new f.a(10).pow(s.tokenDecimal)),pairTokens:new f.a(c).div(h.a.defaultTokenPrecision),totalSupply:new f.a(l).div(h.a.defaultTokenPrecision),price1:d,price2:u,poolExTokenOne:e,poolExTokenTwo:a}})}},this.setLiq=e=>{this.props.sunSwapPool.setData({actionLiqV2:e})},this.beforeRemoveLiq=async()=>{this.setState({actionStarted:!0,removePopBtn:l.a.get("sunSwap.action.startBtn"),removePopBtnDisabled:!0},(async()=>{const{liqToken:e}=this.props.sunSwapPool,{fromToken:t,toToken:s}=e,{exchangeAddr:a,pairApprovedAmout:n}=this.state;if(n.gt(0))this.toRemoveLiq();else{const e={title:"pool.add_approve_token",obj:{token:"".concat(t.tokenSymbol,"-").concat(s.tokenSymbol," LP")}};await Object(R.f)(a,h.a.v2Contract.router,e)?this.toRemoveLiq():this.setState({removeErrorInfo:l.a.get("sunSwap.action.removeActErr"),removePopBtn:l.a.get("sunSwap.action.retryBtn"),removePopBtnDisabled:!1,actionStarted:!0})}}))},this.toRemoveLiq=async()=>{const{liqToken:e,exchangeInfo:t,percentNum:s}=this.props.sunSwapPool,{fromToken:a,toToken:n}=e,o=t.myExTokenOne.times(s).div(100),i=t.myExTokenTwo.times(s).div(100),c=t.pairTokens.times(s).div(100).times(h.a.defaultTokenPrecision).integerValue(f.a.ROUND_DOWN),r={title:"sunSwap.pair_actions.remove",obj:{trxAmount:Object(f.k)(Object(f.a)(t.myExTokenOne).times(s).div(100),a.tokenDecimal),trx:a.tokenSymbol,tokenSymbol:n.tokenSymbol,tokenAmount:Object(f.k)(Object(f.a)(t.myExTokenTwo).times(s).div(100),n.tokenDecimal)}};let{settingSlippageV2:p}=this.props.sunSwapNetwork,{defaultAccount:d}=this.props.network;const u="0x".concat(o.gte(0)?o.times(1-p/100).times(new f.a(10).pow(a.tokenDecimal)).integerValue(f.a.ROUND_DOWN).toString(16):0),m="0x".concat(i.gte(0)?i.times(1-p/100).times(new f.a(10).pow(n.tokenDecimal)).integerValue(f.a.ROUND_DOWN).toString(16):0);let b;if(a.tokenAddress===h.a.wtrxAddress||n.tokenAddress===h.a.wtrxAddress){const e={token:a.tokenAddress===h.a.wtrxAddress?n.tokenAddress:a.tokenAddress,liquidity:"0x".concat(c.toString(16)),amountTokenMin:a.tokenAddress===h.a.wtrxAddress?m:u,amountETHMin:a.tokenAddress===h.a.wtrxAddress?u:m,to:d,deadline:await Object(R.g)(this.props.sunSwapNetwork.settingDeadlineV2)};b=await Object(R.y)(e,r)}else{const e={tokenA:a.tokenAddress,tokenB:n.tokenAddress,liquidity:"0x".concat(c.toString(16)),amountAMin:u,amountBMin:m,to:d,deadline:await Object(R.g)(this.props.sunSwapNetwork.settingDeadlineV2)};b=await Object(R.z)(e,r)}b?this.setState({removeErrorInfo:"",removePopBtn:l.a.get("sunSwap.action.doingBtn"),removePopBtnDisabled:!0,actionStarted:!0},(()=>{setTimeout((()=>{this.setState({actionState:"success",actionStarted:!1})}),5e3)})):this.setState({removeErrorInfo:l.a.get("sunSwap.action.removeActErr"),removePopBtn:l.a.get("sunSwap.action.retryBtn"),removePopBtnDisabled:!1,actionStarted:!0})},this.initRemoveModal=()=>({removeErrorInfo:"",removePopBtn:l.a.get("sunSwap.pool.popup_remove_btn"),removePopBtnDisabled:!1,actionState:"info",actionStarted:!1,miniPopVisible:!1}),this.showRemoveModal=()=>{const{exchangeInfo:e,percentNum:t}=this.props.sunSwapPool;t>0&&e.pairTokens.gt(0)&&this.setState({...this.initRemoveModal(),removePopStatus:!0})},this.beforeHideRemoveModal=()=>{this.state.actionStarted?this.setState({miniPopVisible:!0}):this.hideRemoveModal()},this.hideRemoveModal=()=>{this.setState({removePopStatus:!1},(()=>{setTimeout((()=>{this.setState({...this.initRemoveModal()})}),1e3)}))},this.miniPopOk=()=>{this.setState({miniPopVisible:!1},(()=>{this.hideRemoveModal()}))},this.miniPopCancel=()=>{this.setState({miniPopVisible:!1})},this.gotoPool=()=>{this.props.onSuccess()},this.state={removePopStatus:!1,removeErrorInfo:"",removePopBtn:l.a.get("sunSwap.pool.popup_remove_btn"),removePopBtnDisabled:!1,actionState:"info",actionStarted:!1,miniPopVisible:!1,pairApprovedAmout:new f.a(0)}}render(){let{removePopStatus:e}=this.state,{liqToken:t,exchangeInfo:s,percentNum:a}=this.props.sunSwapPool;const{fromToken:n,toToken:o}=t,i=(e,t)=>e.isNaN()||e.eq(1/0)?"--":e._toFixed(Number(t),1);let c=i(s.myExTokenTwo.div(s.myExTokenOne),o.tokenDecimal),p=i(s.myExTokenOne.div(s.myExTokenTwo),n.tokenDecimal);return Object(C.jsxs)("section",{children:[Object(C.jsx)(de,{}),Object(C.jsx)(B.a,{styleName:"mt-40",type:"single",disabled:a<=0||s.pairTokens.lte(0),info:l.a.get("sunSwap.pool.remove_confirm_btn"),onClick:this.showRemoveModal}),Object(C.jsxs)(r.a,{title:null,closable:"success"!==this.state.actionState,open:e,onCancel:this.beforeHideRemoveModal,className:"pool-modal remove-modal sun-swap-modal",footer:null,width:630,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:["info"===this.state.actionState&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"title big",children:l.a.get("sunSwap.pool.popup_remove_title")}),Object(C.jsxs)("div",{className:"amount ib-parent center pb25",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("p",{className:"add-value",children:s.myExTokenOne.times(a).div(100).lt(1e-4)?"<0.0001":s.myExTokenOne.times(a).div(100)._toFixed(4,1)}),Object(C.jsxs)("p",{className:"add-token",children:[Object(C.jsx)("img",{src:n.tokenLogoUrl||H.a,alt:""}),Object(C.jsx)("span",{children:n.tokenSymbol})]})]}),Object(C.jsx)("span",{className:"plus",children:"+"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("p",{className:"add-value",children:s.myExTokenTwo.times(a).div(100).lt(1e-4)?"<0.0001":s.myExTokenTwo.times(a).div(100)._toFixed(4,1)}),Object(C.jsxs)("p",{className:"add-token",children:[Object(C.jsx)("img",{src:o.tokenLogoUrl||H.a,alt:""}),Object(C.jsx)("span",{children:o.tokenSymbol})]})]})]}),Object(C.jsxs)("div",{className:"price",children:[Object(C.jsxs)("p",{className:"flex param",children:[Object(C.jsx)("span",{className:"price-key",children:l.a.get("sunSwap.pool.popup_burned_text")}),Object(C.jsxs)("span",{className:"price-value",children:[Object(C.jsx)("img",{src:n.tokenLogoUrl||H.a,alt:""}),Object(C.jsx)("img",{src:o.tokenLogoUrl||H.a,alt:""}),Object(C.jsx)("span",{children:s.pairTokens.times(a).div(100).lt(1e-4)?"<0.0001":s.pairTokens.times(a).div(100)._toFixed(4,1)})]})]}),Object(C.jsxs)("div",{className:"flex param",children:[Object(C.jsx)("span",{className:"price-key",children:l.a.get("sunSwap.pool.popup_price_text")}),Object(C.jsxs)("div",{className:"price-value ib right",children:[Object(C.jsxs)("p",{children:["1 ",n.tokenSymbol," = ",c," ",o.tokenSymbol]}),Object(C.jsxs)("p",{className:"mb20",children:["1 ",o.tokenSymbol," = ",p," ",n.tokenSymbol]})]})]})]}),this.state.removeErrorInfo&&Object(C.jsx)("div",{className:"errorMsg",children:this.state.removeErrorInfo}),Object(C.jsx)(B.a,{type:"single",disabled:this.state.removePopBtnDisabled,info:this.state.removePopBtn,onClick:()=>this.beforeRemoveLiq()})]}),"success"===this.state.actionState&&Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"modal-success",children:[Object(C.jsx)("img",{src:U.a,alt:""}),Object(C.jsx)("div",{className:"title green",children:l.a.get("sunSwap.action.removeSuccessTitle")}),Object(C.jsxs)("div",{className:"ib-parent center mb25",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{className:"remove-value",children:s.myExTokenOne.times(a).div(100).lt(1e-4)?"<0.0001":s.myExTokenOne.times(a).div(100)._toFixed(4,1)}),Object(C.jsx)("span",{className:"remove-token",children:n.tokenSymbol})]}),Object(C.jsx)("span",{className:"plus",children:"+"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{className:"remove-value",children:s.myExTokenTwo.times(a).div(100).lt(1e-4)?"<0.0001":s.myExTokenTwo.times(a).div(100)._toFixed(4,1)}),Object(C.jsx)("span",{className:"remove-token",children:o.tokenSymbol})]})]}),Object(C.jsx)(B.a,{type:"single",info:l.a.get("sunSwap.action.closeBtn"),onClick:this.gotoPool}),Object(C.jsx)("div",{className:"endTip",children:l.a.get("sunSwap.action.removeDescTitle")})]})})]}),Object(C.jsx)(M.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}})||pe)||pe)||pe)||pe,he=s(1969),me=s(223),be=s(336),je=s.n(be);class ke{constructor(e,t,s){je()(e.length>0,"PAIRS"),je()(e[0].t0.tokenAddress===t.tokenAddress||e[0].t1.tokenAddress===t.tokenAddress,"INPUT"),je()("undefined"===typeof s||e[e.length-1].t0.tokenAddress===s.tokenAddress||e[e.length-1].t1.tokenAddress===s.tokenAddress,"OUTPUT");const a=[t];e.map(((e,t)=>{const s=a[t];je()(s.tokenAddress===e.t0.tokenAddress||s===e.t1.tokenAddress,"PATH");const n=s.tokenAddress===e.t0.tokenAddress?e.t1:e.t0;a.push(n)})),this.pairs=e,this.path=a,this.input=t,this.output=s,this.midPrice=this.getMidPrice()}getMidPrice(){const e=[];this.pairs.map((t=>{e.push(we(t))}));return e.reduce(((e,t)=>Object(f.a)(e).times(t.reservePrice)),1)}}const we=e=>({pair:e,reservePrice:Object(f.a)(e.r0).div(e.r1)});var ge=s(482);const Se=1,xe=2,Oe=Object(f.a)(.005),_e=(e,t)=>{const s=e.r0,a=e.r1;if(!Object(f.a)(s).gt(0)||!Object(f.a)(a).gt(0))return{value:Object(f.a)(0)};const n=Object(f.a)(t).times(997),o=n.times(a),i=s.times(1e3).plus(n);return{numerator:o,denominator:i,value:o.div(i)}},ve=(e,t)=>{const s=e.r0,a=e.r1;if(!Object(f.a)(s).gt(0)||!Object(f.a)(a).gt(0))return{value:Object(f.a)(0)};const n=Object(f.a)(s).times(t).times(1e3),o=Object(f.a)(a).minus(t).times(997);return o.eq(0)?{value:Object(f.a)(0)}:{numerator:n,denominator:o,value:n.div(o).plus(1)}},fe=(e,t,s,a)=>{if(je()(s>0,"MAX_SIZE_ZERO"),je()(e.length<=s,"ITEMS_SIZE"),0===e.length)return e.push(t),null;{const n=e.length===s;if(n&&a(e[e.length-1],t)<=0)return t;let o=0,i=e.length;for(;o<i;){const s=o+i>>>1;a(e[s],t)<=0?o=s+1:i=s}return e.splice(o,0,t),n?e.pop():null}},Ae=(e,t)=>{const s=((e,t)=>e.outputAmount.outputAmount.eq(t.outputAmount.outputAmount)?e.inputAmount.inputAmount.eq(t.inputAmount.inputAmount)?0:e.inputAmount.inputAmount.lt(t.inputAmount.inputAmount)?-1:1:e.outputAmount.outputAmount.lt(t.outputAmount.outputAmount)?1:-1)(e,t);return 0!==s?s:e.priceImpact.lt(t.priceImpact)?-1:e.priceImpact.gt(t.priceImpact)?1:e.route.path.length-t.route.path.length},Te=async function(e,t,s){let{maxNumResults:a=3,maxHops:n=3}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{...t},l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];je()(e.length>0,"PAIRS"),je()(n>0,"MAX_HOPS"),je()(t.tokenAddress===i.tokenAddress||o.length>0,"INVALID_RECURSION");const c={...i},r={...s};for(let d=0;d<e.length;d++){const i=e[d];if(i.t0.tokenAddress!==c.tokenAddress&&i.t1.tokenAddress!==c.tokenAddress)continue;if(i.t1.tokenAddress===c.tokenAddress){let e=null,t=null;e=b.a.cloneDeep(i.t0),i.t0=b.a.cloneDeep(i.t1),i.t1={...e},t=i.r0,i.r0=i.r1,i.r1=t}else i.t0.tokenAddress===c.tokenAddress&&(i.t0={...i.t0,...c});if(!i.r0||!i.r1){const e=await Object(R.q)(i.t0.tokenAddress,i.t1.tokenAddress,i.pairAddress||Object(f.h)(i.t0.tokenAddress,i.t1.tokenAddress));i.r0=e.reserveA,i.r1=e.reserveB}if(!i.r0.gt(0)||!i.r1.gt(0))continue;let u,h=null;try{if(i.t0.value=c.value,h=_e(i,c.value),Object(f.a)(h.value._toFixedNew(Number(i.t1.tokenDecimal),1)).lte(0))continue;u={...i.t1,value:h.value},i.t1.value=h.value,i.numerator=h.numerator,i.denominator=h.denominator}catch(p){throw p}if(u.tokenAddress===r.tokenAddress)fe(l,new Pe(new ke([...o,{...i}],t,s),t,Se),a,Ae);else if(n>1&&e.length>1){const c=e.slice(0,d).concat(e.slice(d+1,e.length));await Te(c,t,s,{maxNumResults:a,maxHops:n-1},[...o,{...i}],u,l)}}return l},ye=async function(e,t,s,a){let{maxNumResults:n=3,maxHops:o=3}=a,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:s,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];je()(e.length>0,"PAIRS"),je()(o>0,"MAX_HOPS"),je()(s.tokenAddress===l.tokenAddress||i.length>0,"INVALID_RECURSION");const r={...l},p={...t};for(let u=0;u<e.length;u++){const a=e[u];if(a.t0.tokenAddress!==r.tokenAddress&&a.t1.tokenAddress!==r.tokenAddress)continue;if(a.t0.tokenAddress===r.tokenAddress){let e=null,t=null;e=b.a.cloneDeep(a.t0),a.t0=b.a.cloneDeep(a.t1),a.t1={...e},t=a.r0,a.r0=a.r1,a.r1=t}else a.t1.tokenAddress===r.tokenAddress&&(a.t1={...a.t1,...r});if(!a.r0||!a.r1){const e=await Object(R.q)(a.t0.tokenAddress,a.t1.tokenAddress,a.pairAddress||Object(f.h)(a.t0.tokenAddress,a.t1.tokenAddress));a.r0=e.reserveA,a.r1=e.reserveB}if(!a.r0.gt(0)||!a.r1.gt(0))continue;let l,h=null;try{if(a.t1.value=r.value,h=ve(a,r.value),Object(f.a)(h.value._toFixedNew(Number(a.t0.tokenDecimal),1)).lte(0)){console.log("input too low");continue}l={...a.t0,value:h.value},a.t0.value=h.value,a.numerator=h.numerator,a.denominator=h.denominator}catch(d){throw d}if(l.tokenAddress===p.tokenAddress)fe(c,new Pe(new ke([{...a},...i],t,s),s,xe),n,Ae);else if(o>1&&e.length>1){const r=e.slice(0,u).concat(e.slice(u+1,e.length));await ye(r,t,s,{maxNumResults:n,maxHops:o-1},[a,...i],l,c)}}return c},Ne=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ge.b;if(e&&!t)return!1;if(t&&!e)return!0;if(e&&t){if(e.tradeType!==t.tradeType||!e.inputAmount.tokenAddress===t.inputAmount.tokenAddress||!e.outputAmount.tokenAddress===t.outputAmount.tokenAddress)throw new Error("Comparing incomparable trades");return s.eq(ge.b)?e.executionPrice.lt(t.executionPrice):e.executionPrice.times(s.plus(ge.a)).lt(t.executionPrice)}};class Pe{constructor(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Se;this.route=e,this.tradeType=s;const a=new Array(e.path.length);if(s===Se){je()(t.tokenAddress===e.input.tokenAddress,"INPUT"),a[0]=t;for(let t=0;t<e.path.length-1;t++){const s=e.pairs[t],n=_e(s,s.t0.value);a[t+1]={...s.t1,value:n.value}}this.inputAmount={...e.input,inputAmount:e.input.value},this.outputAmount={...e.output,numerator:a[a.length-1].numerator,denominator:a[a.length-1].denominator,outputAmount:a[a.length-1].value}}else{je()(t.tokenAddress===e.output.tokenAddress,"OUTPUT"),a[a.length-1]=t;for(let t=e.path.length-1;t>0;t--){const s=e.pairs[t-1],n=ve(s,s.t1.value);a[t-1]={...s.t1,...n}}this.inputAmount={...e.input,numerator:a[0].numerator,denominator:a[0].denominator,inputAmount:a[0].value},this.outputAmount={...e.output,numerator:t.numerator,denominator:t.denominator,outputAmount:e.output.value}}this.executionPrice=Object(f.a)(this.outputAmount.outputAmount).div(this.inputAmount.inputAmount),this.priceImpact=De(e.midPrice,this.inputAmount,this.outputAmount,e.path||[])}}const De=(e,t,s,a)=>{const n=a.length;if(n>0){const a=Object(f.a)(1).minus(Object(f.a)(n-1).times(.003)),o=Object(f.a)(e).times(s.outputAmount).div(t.inputAmount);return a.minus(o).times(100).abs().times(-1)}return null};s(1257);var Ve,Ce=s(1258),qe=s(1259),Le=s(1260),Ie=(s.p,s(1261),s(1366));s.p,s.p;const Fe=Object(j.a)(window.navigator).any;let Be=Object(c.b)("sunSwapNetwork")(Ve=Object(c.b)("sunSwapPool")(Ve=Object(c.b)("network")(Ve=Object(c.c)(Ve=class extends o.a.Component{constructor(e){var t;super(e),t=this,this.componentWillUnmount=()=>{clearInterval(this.timer),clearInterval(this.timer1)},this.isSwapTRX=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).tokenAddress,s=e.tokenAddress,{trxFakeAddress:a,wtrxAddress:n}=h.a;return t===a&&s===n||t===n&&s===a},this.checkInput=()=>{const e=this.props.sunSwapPool.swapToken.fromToken,t=this.props.sunSwapPool.swapToken.toToken,s=e.tokenAddress,a=t.tokenAddress,n=this.state.dependentValue,o=Object(f.a)(e.balance),i=(t.balance,e=>{this.setState({actionError:e})}),{fromValue:c,toValue:r,receivedFlag:p,bestTrade:d,recipientAddr:u,swapTRXState:h}=this.state;if(this.state.miniError)return i(l.a.get("sunSwap.swap.action_zero"));if(!h)if(u){if(!Object(f.t)(u))return this.setState({recipientValid:!1}),i(l.a.get("sunSwap.swap.action_invalid_recipient"));this.setState({recipientValid:!0})}else if(this.setState({recipientValid:!1}),this.state.addRecipient)return i(l.a.get("sunSwap.swap.action_enter_recipient"));if(!s&&!Object(f.q)("t0")||!a&&!Object(f.q)("t1"))return i(l.a.get("sunSwap.swap.action_select_token"));if(!c)return!p&&r?Object(f.a)(r).lte(0)?i(l.a.get("sunSwap.swap.action_enter_amount")):i(l.a.get("sunSwap.swap.action_insufficient_liquidity")):i(l.a.get("sunSwap.swap.action_enter_amount"));if(Object(f.D)(c).lte(0))return i(l.a.get("sunSwap.swap.action_enter_amount"));if(h&&o&&o.lt(Object(f.D)(c)))return i(l.a.get("sunSwap.swap.action_insufficient",{token:e.tokenSymbol}));if(p){if(!r)return i(l.a.get("sunSwap.swap.action_insufficient_liquidity"));if(o&&o.lt(Object(f.D)(c)))return i(l.a.get("sunSwap.swap.action_insufficient",{token:e.tokenSymbol}));if(Object(f.D)(c).gt(e.approvedAmount))return this.setState({actionError:"",needApprove:!0})}else{if(!h&&o.lt(Object(f.D)(n)))return i(l.a.get("sunSwap.swap.action_insufficient",{token:e.tokenSymbol}));if(!h&&Object(f.a)(n).gt(e.approvedAmount))return this.setState({actionError:"",needApprove:!0})}this.setState({actionError:"",needApprove:!1})},this.onFromValueChange=e=>{let t=e.target.value,s=this.state.toValue;if(t){const{valid:e,str:a}=Object(f.w)(t.replace(/,/g,""),this.props.sunSwapPool.swapToken.fromToken.tokenDecimal);if(!e)return;t=a,this.props.sunSwapPool.swapToken.fromToken.tokenAddress&&this.props.sunSwapPool.swapToken.toToken.tokenAddress||(s="")}else s="";this.setState({fromValue:Object(f.b)(t),toValue:Object(f.b)(s),receivedFlag:!0},(async()=>{await this.calcPrice(),this.checkInput()}))},this.onToValueChange=e=>{let t=this.state.fromValue,s=e.target.value;if(s){const{valid:e,str:a}=Object(f.w)(s.replace(/,/g,""),this.props.sunSwapPool.swapToken.toToken.tokenDecimal);if(!e)return;s=a,this.props.sunSwapPool.swapToken.fromToken.tokenAddress&&this.props.sunSwapPool.swapToken.toToken.tokenAddress||(t="")}else t="";this.setState({fromValue:Object(f.b)(t),toValue:Object(f.b)(s),receivedFlag:!1},(async()=>{await this.calcPrice()}))},this.onFromValueBlur=()=>{let e=this.state.fromValue;e&&this.setState({fromValue:Object(f.b)(e)})},this.onToValueBlur=()=>{let e=this.state.toValue;e&&this.setState({toValue:Object(f.b)(e)})},this.calcPriceTRXSwap=(e,t)=>{let{receivedFlag:s,fromValue:a,toValue:n}=this.state;const o=Object(f.a)(10).pow(e.tokenDecimal),i=Object(f.a)(10).pow(t.tokenDecimal);s?n=Object(f.D)(a).gt(0)?Object(f.D)(a).times(o).div(i)._toFixed(Number(t.tokenDecimal),1):"":a=Object(f.D)(n).gt(0)?Object(f.D)(n).times(i).div(o)._toFixed(Number(e.tokenDecimal),1):"",this.setState({fromValue:Object(f.b)(a),toValue:Object(f.b)(n)},(()=>{this.checkInput(),this.calcDependentValue(a,n)}))},this.calcPrice=async()=>{try{const{fromToken:e,toToken:t,pairAddress:s,validPairs:a=[]}=this.props.sunSwapPool.swapToken;let{receivedFlag:n,fromValue:o,toValue:i}=this.state;const l=this.isSwapTRX(e,t);if(l)return this.setState({swapTRXState:l,priceStr:1,priceInverseStr:1},(()=>{this.calcPriceTRXSwap(e,t)}));this.setState({swapTRXState:!1}),this.state.swapTRXState=!1;let c="-",r="-";const p=Object(f.a)(10).pow(e.tokenDecimal),d=Object(f.a)(10).pow(t.tokenDecimal);e.value=Object(f.D)(o).times(p),t.value=Object(f.D)(i).times(d);const u=await async function(e,t,s,a,n){let{maxHops:o=h.a.MAX_HOPS}=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(Object(f.a)(e).gt(0)&&t.tokenAddress&&s.tokenAddress&&a.length>0){if(1===o){const o={maxHops:1,maxNumResults:1};if(n===Se){var i;const n={value:Object(f.a)(e),...t};return null!==(i=(await Te(a,n,s,o))[0])&&void 0!==i?i:null}{var l;const n={value:Object(f.a)(e),...s};return null!==(l=(await ye(a,t,n,o))[0])&&void 0!==l?l:null}}let p=null;for(let i=1;i<=o;i++){const o={maxHops:i,maxNumResults:1};let l=null;if(n===Se){var c;const n={value:Object(f.a)(e),...t};l=null!==(c=(await Te(a,n,s,o))[0])&&void 0!==c?c:null}else{var r;const n={value:Object(f.a)(e),...s};l=null!==(r=(await ye(a,t,n,o))[0])&&void 0!==r?r:null}Ne(p,l,Oe)&&(p=l)}return{bestTrade:p,fromTokenAddress:t.tokenAddress,toTokenAddress:s.tokenAddress,amountSpecified:e}}return{bestTrade:null,fromTokenAddress:t.tokenAddress,toTokenAddress:s.tokenAddress,amountSpecified:e}}(n?Object(f.D)(o).times(p):Object(f.D)(i).times(d),{...e},{...t},[...a],n?1:2),{bestTrade:m,fromTokenAddress:b,toTokenAddress:j,amountSpecified:k}=u;if(b===e.tokenAddress&&j===t.tokenAddress)if(n&&Object(f.D)(this.state.fromValue).times(p).eq(k)||!n&&Object(f.D)(this.state.toValue).times(d).eq(k)){if(this.state.bestTrade=m,this.setState({bestTrade:m}),!m)return void this.initStateData();const{tradeType:s,inputAmount:a,outputAmount:l,route:u,executionPrice:h,priceImpact:b}=m,j=l.outputAmount,k=a.inputAmount;if(n){const e=j.div(d)._toFixed(Number(t.tokenDecimal),1);i=Object(f.a)(e).gt(0)?e:""}else{const t=k.div(p)._toFixed(Number(e.tokenDecimal),1);o=Object(f.a)(t).gt(0)?t:""}c=k.div(j).div(p).times(d),r=h.div(d).times(p),this.calcDependentValue(o,i);let w="-",g=Object(f.D)(o);if(u&&u.path&&u.path.length){const t=u.path.length;g=g.times(.003).times(t-1),w=g._toFixed(Number(e.tokenDecimal),1)}this.setState({priceStr:c,priceInverseStr:r,fromValue:Object(f.b)(o),toValue:Object(f.b)(i),liquidityProviderFee:w},(()=>{this.checkInput()})),this.calcPriceImpact(b)}else this.checkInput()}catch(e){console.error(e)}},this.calcDependentValue=(e,t)=>{const s=this.state.swapTRXState,a=new f.a(this.props.sunSwapNetwork.settingSlippageV2).div(100);let n=new f.a(0),o=h.a.trxDecimal;this.state.receivedFlag?(n=s?Object(f.D)(t):Object(f.D)(t).times(Object(f.a)(1).minus(a)),o=this.props.sunSwapPool.swapToken.toToken.tokenDecimal):(n=s?Object(f.D)(e):Object(f.D)(e).times(Object(f.a)(1).plus(a)),o=this.props.sunSwapPool.swapToken.fromToken.tokenDecimal),this.setState({dependentValue:n,dependentValueSunBig:Object(f.a)(n).times(new f.a(10).pow(o))})},this.calcPriceImpact=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"--",s="",a="--";a=Object(f.a)(e).lte(0)&&Object(f.a)(e).gt(-.01)?"0.00%":"".concat(Object(f.a)(e)._toFixed(2),"%"),s=Object(f.a)(e).lte(-15)?"red":Object(f.a)(e).gt(-15)&&Object(f.a)(e).lte(-5)?"orange":"blue",t.setState({priceImpact:a,priceImpactColor:s})},this.setMaxFrom=()=>{const{swapToken:e}=this.props.sunSwapPool,{fromToken:t}=e,s=Object(f.a)(t.balance);if(!Object(f.a)(s).gte(0))return;let a=s;const n=a.gt(0)?a._toFixed(Number(t.tokenDecimal),1):"0";this.setState({fromValue:Object(f.b)(n),receivedFlag:!0},(async()=>{await this.calcPrice()}))},this.addSolor=e=>{try{e.tokenDecimal=Number(e.tokenDecimal);const{solor:t=[]}=this.props.sunSwapPool,s=b.a.findIndex(t,(t=>t.tokenAddress===e.tokenAddress));s>=0?t.splice(s,1,{...e,cst:2}):t.unshift({...e,cst:2}),this.props.sunSwapPool.setData({solor:t}),window.localStorage.setItem("solor",JSON.stringify(t))}catch(t){console.log(t)}},this.onFromTokenChange=async e=>{try{const{swapToken:t}=this.props.sunSwapPool;if(e.tokenDecimal=Number(e.tokenDecimal),e.tokenAddress===t.fromToken.tokenAddress)return;if(this.props.sunSwapPool.showModal(1,!1),e.cst&&this.addSolor(e),e.tokenAddress===t.toToken.tokenAddress)return this.switchToken();let s=this.state.fromValue;s&&e.tokenDecimal!=t.fromToken.tokenDecimal&&(s=Object(f.D)(s)._toFixed(Number(e.tokenDecimal),1)),t.fromToken={...e},this.props.sunSwapPool.setData({swapToken:t}),this.setState({fromValue:Object(f.b)(s),needApprove:!1},(async()=>{await this.props.sunSwapPool.useAllCurrencyCombinations(),await this.props.sunSwapPool.getBalanceAndApprove(),await this.calcPrice()}))}catch(t){this.props.sunSwapPool.showModal(1,!1),console.log(t)}},this.onToTokenChange=async e=>{const{swapToken:t}=this.props.sunSwapPool;if(e.tokenAddress!==t.toToken.tokenAddress){this.props.sunSwapPool.showModal(2,!1),e.cst&&this.addSolor(e);try{if(e.tokenAddress===t.fromToken.tokenAddress)return this.switchToken();e.tokenDecimal=Number(e.tokenDecimal);let s=this.state.toValue;s&&e.tokenDecimal!=t.toToken.tokenDecimal&&(s=new f.a(s)._toFixed(Number(e.tokenDecimal),1)),t.toToken={...e},this.props.sunSwapPool.setData({swapToken:t}),this.setState({toValue:s},(async()=>{await this.props.sunSwapPool.useAllCurrencyCombinations(),await this.props.sunSwapPool.getBalanceAndApprove(),await this.calcPrice()}))}catch(s){this.props.sunSwapPool.showModal(2,!1),console.error(s)}}},this.showAddRecipient=()=>{this.setState({addRecipient:!0},(()=>{this.checkInput()}))},this.switchPriceInverseFlag=()=>{this.setState({priceInverseFlag:!this.state.priceInverseFlag})},this.initStateData=()=>{let{receivedFlag:e,fromValue:t,toValue:s}=this.state;e?s="":t="";this.setState({fromValue:Object(f.b)(t),toValue:s,priceStr:"-",priceInverseStr:"-",dependentValue:"",priceImpact:"",priceImpactColor:"",liquidityProviderFee:"",actionError:l.a.get("sunSwap.swap.action_insufficient_liquidity")})},this.switchToken=()=>{const e={...this.props.sunSwapPool.swapToken.fromToken},t={...this.props.sunSwapPool.swapToken.toToken};this.props.sunSwapPool.swapToken.fromToken=t,this.props.sunSwapPool.swapToken.toToken=e;const{fromToken:s,toToken:a}=this.props.sunSwapPool.swapToken;let{receivedFlag:n,fromValue:o,toValue:i,priceInverseFlag:l}=this.state;n?(i=this.state.fromValue,o=this.state.toValue):(o=this.state.toValue,i=this.state.fromValue),this.setState({priceInverseFlag:!l,receivedFlag:!n,fromValue:o,toValue:i,needApprove:!1},(async()=>{await this.calcPrice(),await this.props.sunSwapPool.getBalanceAndApprove()}))},this.hideAddRecipient=()=>{this.setState({addRecipient:!1,recipientAddr:""},(()=>{this.checkInput()}))},this.onRecipientChange=e=>{const t=e.target.value;this.setState({recipientAddr:t},(()=>{this.checkInput()}))},this.showSettingModal=()=>{this.props.sunSwapNetwork.setData({settingVisibleV2:!0})},this.initSwapModal=()=>{const{swapTRXState:e}=this.state,t=this.props.sunSwapPool.swapToken.fromToken,s=this.props.sunSwapPool.swapToken.toToken,a=!e&&this.state.needApprove,n=this.state.recipientAddr,o=n?l.a.get("sunSwap.swap.action_swapSend"):l.a.get("sunSwap.swap.action_swap"),i=["orange","red"].includes(this.state.priceImpactColor)?l.a.get("sunSwap.swap.action_swapStill"):n?l.a.get("sunSwap.swap.confirm_swapSend"):l.a.get("sunSwap.swap.confirm_swap"),c=n?l.a.get("sunSwap.action.swapSendAct",{from:t.tokenSymbol,to:s.tokenSymbol}):l.a.get("sunSwap.action.swapAct",{from:t.tokenSymbol,to:s.tokenSymbol}),r=n?l.a.get("sunSwap.action.swapSendActErr"):l.a.get("sunSwap.action.swapActErr");return{swapPopTitle:o,swapPopBtn:i,swapPopBtnDisabled:!1,swapErrorInfo:"",approveActionTitle:l.a.get("sunSwap.action.approveAct",{token:t.tokenSymbol}),approveActionError:l.a.get("sunSwap.action.approveActErr"),approveActionState:"",swapActionTitle:c,swapActionError:r,swapActionState:"",actionInfo:l.a.get("sunSwap.action.startBtn"),actionDisabled:!0,actionRetry:"",actionState:a?"line":"info",actionStarted:!1,successFromValue:"",successToValue:"",miniPopVisible:!1}},this.showSwapModal=()=>{this.setState({...this.initSwapModal(),swapVisible:!0},(()=>{this.onRetryAction()}))},this.beforeHideSwapModal=()=>{this.state.actionStarted?this.setState({miniPopVisible:!0}):this.hideSwapModal()},this.hideSwapModal=()=>{this.setState({swapVisible:!1},(()=>{setTimeout((()=>{this.setState({...this.initSwapModal()})}),1e3)}))},this.approveToken=async()=>{const{fromToken:e,toToken:t}=this.props.sunSwapPool.swapToken;if(e&&t&&(e.tokenAddress===h.a.trxFakeAddress&&t.tokenAddress===h.a.wtrxAddress||t.tokenAddress===h.a.trxFakeAddress&&e.tokenAddress===h.a.wtrxAddress))return;const s=this.props.sunSwapPool.swapToken.fromToken.tokenAddress,a=h.a.v2Contract.router;await Object(R.e)(s,a,{title:"swap.pop_title_approve",obj:{token:this.props.sunSwapPool.swapToken.fromToken.tokenSymbol}})?this.setState({approveActionState:"pending",actionInfo:l.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0,needApprove:!1},(()=>{setTimeout((()=>{this.setState({approveActionState:"success",actionState:"info"})}),5e3)})):this.setState({approveActionState:"error",actionRetry:"approveToken",actionInfo:l.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0})},this.beforeSwapToken=async()=>{this.setState({actionStarted:!0,swapPopBtn:l.a.get("sunSwap.action.startBtn"),swapPopBtnDisabled:!0},(()=>{this.swapToken()}))},this.getSwapFuncType=(e,t)=>{const{receivedFlag:s,swapTRXState:a}=this.state;return a?e.tokenAddress===h.a.trxFakeAddress?"deposit":"withdraw":s?e.tokenAddress===h.a.trxFakeAddress?"swapExactETHForTokens":t.tokenAddress===h.a.trxFakeAddress?"swapExactTokensForETH":"swapExactTokensForTokens":e.tokenAddress===h.a.trxFakeAddress?"swapETHForExactTokens":t.tokenAddress===h.a.trxFakeAddress?"swapTokensForExactETH":"swapTokensForExactTokens"},this.swapToken=async()=>{const e=this.props.sunSwapPool.swapToken.fromToken,t=this.props.sunSwapPool.swapToken.toToken,s=this.state.fromValue,a=this.state.toValue,n=this.state.recipientAddr,{swapTRXState:o,dependentValueSunBig:i}=this.state,c=!o&&this.state.needApprove,r=s,p=a;let d="";const u={title:n&&!o?"swap.pop_title_swap_send":"swap.pop_title_swap",obj:{from:"".concat(Object(f.k)(Object(f.D)(s),e.tokenDecimal)," ").concat(e.tokenSymbol),to:"".concat(Object(f.k)(Object(f.D)(a),t.tokenDecimal)," ").concat(t.tokenSymbol),addr:o?window.defaultAccount:n}},{bestTrade:m}=this.state,b=this.getSwapFuncType(e,t,m);if(o)d=await R.C[b]({amountIn:Object(f.D)(s).times(Object(f.a)(10).pow(e.tokenDecimal))._toIntegerDown()._toHex(),amountOut:Object(f.D)(a).times(Object(f.a)(10).pow(t.tokenDecimal))._toIntegerDown()._toHex(),intlObj:u});else{const{route:o}=this.state.bestTrade,l=(o.path||[]).map((e=>e.tokenAddress===h.a.trxFakeAddress?h.a.wtrxAddress:e.tokenAddress));d=await R.C[b]({amountIn:Object(f.D)(s).times(Object(f.a)(10).pow(e.tokenDecimal))._toIntegerDown()._toHex(),amountOut:Object(f.D)(a).times(Object(f.a)(10).pow(t.tokenDecimal))._toIntegerDown()._toHex(),dependentValueSunBig:Object(f.a)(i)._toIntegerDown()._toHex(),deadline:await Object(R.g)(this.props.sunSwapNetwork.settingDeadlineV2),to:n||window.defaultAccount,path:l,intlObj:u})}if(d){let e={swapErrorInfo:"",swapPopBtn:l.a.get("sunSwap.action.doingBtn"),swapPopBtnDisabled:!0,actionStarted:!0};c&&!o&&(e={actionInfo:l.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,swapActionState:"pending",actionState:"line",actionStarted:!0}),this.setState(e,(()=>{setTimeout((async()=>{this.setState({fromValue:"",toValue:"",successFromValue:r,successToValue:p,actionRetry:"",actionState:"success",actionStarted:!1}),await this.props.sunSwapPool.getBalanceAndApprove(),await this.calcPrice()}),5e3)}))}else{let e={swapErrorInfo:n?l.a.get("sunSwap.action.swapSendActErr"):l.a.get("sunSwap.action.swapActErr"),swapPopBtn:l.a.get("sunSwap.action.retryBtn"),swapPopBtnDisabled:!1,actionStarted:!0};c&&(e={actionState:"line",swapActionState:"error",actionRetry:"swapToken",actionInfo:l.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0}),this.setState(e)}},this.onRetryAction=()=>{let{actionRetry:e,needApprove:t,swapTRXState:s}=this.state;switch(s&&(t=!1),!e&&t&&(e="approveToken"),e){case"approveToken":this.setState({approveActionState:"start",actionInfo:l.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(()=>{this.approveToken()}));break;case"swapToken":this.setState({swapActionState:"start",actionInfo:l.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(()=>{this.swapToken()}))}},this.miniPopOk=()=>{const e=this.state.needApprove;this.setState({miniPopVisible:!1},(async()=>{this.hideSwapModal(),e&&await this.props.sunSwapPool.getBalanceAndApprove()}))},this.miniPopCancel=()=>{this.setState({miniPopVisible:!1})},this.transRouteRender=()=>{const{bestTrade:e={}}=this.state,t=e.route.path||[];t.length;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("ul",{className:"flex wrap",style:{justifyContent:"flex-start"},children:t.map(((e,s)=>Object(C.jsxs)("li",{style:{display:"flex",alignItems:"center"},children:[Object(C.jsx)("img",{className:"mr-4",src:e.tokenLogoUrl||H.a,alt:""}),Object(C.jsx)("span",{children:null===e||void 0===e?void 0:e.tokenSymbol}),s!=t.length-1&&Object(C.jsx)("span",{children:"-0.3%"}),s!=t.length-1&&Object(C.jsx)("div",{className:"tr-arrow ml-8"})]},e.tokenAddress)))})})},this.useSafeMax=e=>{const{swapToken:t}=this.props.sunSwapPool,{fromToken:s,toToken:a}=t;if("from"===e){const e=Object(f.b)(Object(f.D)(s.balance).minus(h.a.swapFeeAmountV2));this.setState({fromValue:e,receivedFlag:!0},(async()=>{await this.calcPrice()}))}else if("to"===e){const e=Object(f.b)(Object(f.D)(a.balance).minus(h.a.swapFeeAmountV2));this.setState({toValue:e},(async()=>{await this.calcPrice()}))}},this.renderTokenRouter=()=>{const{swapTRXState:e,bestTrade:t}=this.state;return Object(C.jsx)(C.Fragment,{children:!e&&t&&t.route&&t.route.path.length>0&&Object(C.jsxs)("div",{className:Fe?"flex a-start end trade-route":"flex a-start trade-route",children:[Fe?"":Object(C.jsx)("span",{style:{paddingRight:10,whiteSpace:"nowrap"},children:l.a.get("sunSwap.migrate.trans_route")}),this.transRouteRender()]})})},this.timer=0,this.timer1=0,this.swapFuncType="",this.state={swapTRXState:!1,bestTrade:null,fromValue:"",toValue:"",priceStr:"-",priceInverseStr:"-",priceInverseFlag:!1,dependentValueSunBig:"",dependentValue:"",priceImpact:"",priceImpactColor:"",liquidityProviderFee:"",receivedFlag:!0,addRecipient:!1,recipientAddr:"",recipientValid:!1,needApprove:!0,actionError:l.a.get("sunSwap.swap.action_enter_amount"),swapInfo:l.a.get("sunSwap.swap.action_swap"),swapVisible:!1,priceChartVisible:!1,swapPopTitle:"",swapPopBtn:"",swapPopBtnDisabled:!1,swapErrorInfo:"",approveActionTitle:"",approveActionError:"",approveActionState:"",swapActionTitle:"",swapActionError:"",swapActionState:"",actionInfo:"",actionDisabled:!1,actionRetry:"",actionState:"",actionStarted:!1,successFromValue:"",successToValue:"",miniPopVisible:!1,betterPrice:!1,notCreatedOfNew:!1,transRouteArr:[{symbol:"trx"},{symbol:"btt"},{symbol:"wbtt"},{symbol:"sunold"},{symbol:"nft"},{symbol:"usdj"}]}}componentDidMount(){this.props.sunSwapPool.getBalanceAndApprove(),this.timer=setInterval((()=>{this.props.sunSwapPool.getBalanceAndApprove()}),6e3),this.timer1=setInterval((()=>{this.props.sunSwapPool.getReservesAll()}),3e3),this.checkInput()}componentDidUpdate(e,t){if(this.props.sunSwapNetwork.changedSetting&&this.state.fromValue&&this.state.toValue){let e=Object(f.D)(this.state.fromValue),t=Object(f.D)(this.state.toValue);this.calcDependentValue(e,t),this.props.sunSwapNetwork.setData({changedSetting:!1})}}render(){const{swapToken:e,modalVisibleInfo:t}=this.props.sunSwapPool,{fromToken:s,toToken:a}=e,{priceStr:n,priceInverseStr:i,dependentValue:c,swapTRXState:p,bestTrade:d}=this.state;return Object(C.jsxs)(he.a,{className:"swap-content swap-and-pool",children:[Object(C.jsxs)(Y.a,{gutter:[{xs:8,sm:16,md:24},10],align:"bottom",children:[Object(C.jsxs)(Z.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},className:"swap-block",children:[Object(C.jsxs)("div",{className:"flex select-token-top",children:[Object(C.jsx)("div",{className:"flex",children:Object(C.jsxs)("div",{className:s.tokenAddress?"flex":"flex sunswap-chose-token",children:[Object(C.jsx)($.a,{showModal:()=>{this.props.sunSwapPool.showModal(1)},token:s}),Object(C.jsx)(F,{modalVisible:t.visible1,onCancel:()=>this.props.sunSwapPool.showModal(1,!1),type:1,onChangeToken:e=>{this.onFromTokenChange(e)}}),Object(C.jsx)(ee.a,{token:s})]})}),Object(C.jsxs)("div",{className:"swap-balance",children:[Object(C.jsx)("span",{children:l.a.get("sunSwap.swap.input_from_balance")}),Object(C.jsx)("span",{children:Object(f.l)(s.balance,{dp:6,cutZero:!0})})]})]}),Object(C.jsx)("div",{className:"flex mt-16",children:Object(C.jsxs)("div",{className:"flex input-block",children:[Object(C.jsx)("div",{className:"flex input-number",children:Object(C.jsx)("input",{value:this.state.fromValue,onChange:this.onFromValueChange,onBlur:this.onFromValueBlur,placeholder:l.a.get("sunSwap.swap.input_placeholder")})}),this.props.network.isConnected?Object(C.jsx)("span",{className:"max-btn",onClick:this.setMaxFrom,children:l.a.get("sunSwapV3.swap.input_from_max")}):null]})})]}),Object(C.jsx)(Z.a,{xs:{span:24},sm:{span:24},md:{span:2},lg:{span:2},style:{textAlign:"center"},children:Object(C.jsxs)("div",{className:"flex center",children:[Object(C.jsx)("span",{className:"swap-arrow",onClick:this.switchToken}),Object(C.jsx)("div",{style:{paddingLeft:32,textAlign:"left",flex:1},className:"sunswap-trade-router media-trade-router-mobile",children:this.renderTokenRouter()})]})}),Object(C.jsxs)(Z.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},className:"swap-block",children:[Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsxs)("div",{className:a.tokenAddress?"flex":"flex sunswap-chose-token",children:[Object(C.jsx)($.a,{showModal:()=>{this.props.sunSwapPool.showModal(2)},token:a}),Object(C.jsx)(F,{modalVisible:t.visible2,onCancel:()=>this.props.sunSwapPool.showModal(2,!1),type:2,onChangeToken:e=>{this.onToTokenChange(e)}}),Object(C.jsx)(ee.a,{token:a})]}),Object(C.jsxs)("div",{className:"swap-balance",children:[Object(C.jsx)("span",{children:l.a.get("sunSwap.swap.input_to_balance")}),Object(C.jsx)("span",{children:Object(f.l)(a.balance,{dp:6,cutZero:!0})})]})]}),Object(C.jsx)("div",{className:"flex mt-16",children:Object(C.jsx)("div",{className:"flex input-block",children:Object(C.jsx)("div",{className:"flex input-number",children:Object(C.jsx)("input",{value:this.state.toValue,onChange:this.onToValueChange,onBlur:this.onToValueBlur,placeholder:l.a.get("sunSwap.swap.input_placeholder")})})})})]})]}),Object(C.jsxs)(Y.a,{gutter:[{xs:8,sm:16,md:24},10],className:"mt-20",children:[Object(C.jsxs)(Z.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},className:"flex-swap-block",children:[!p&&Object(C.jsx)(C.Fragment,{children:this.state.addRecipient?Object(C.jsxs)(o.a.Fragment,{children:[Object(C.jsxs)("div",{className:"add-recipient add-recipient-remove",onClick:this.hideAddRecipient,children:[l.a.get("sunSwap.swap.input_remove_recipient"),Object(C.jsx)("img",{className:"ml-12 recipient-icon",src:Le.a,alt:""})]}),Object(C.jsxs)("div",{className:"recipient-list",children:[Object(C.jsx)("div",{className:"flex",children:this.state.recipientAddr&&this.state.recipientValid?Object(C.jsx)("a",{className:"link",href:"".concat(h.a.tronscanUrl,"/address/").concat(this.state.recipientAddr),target:"_blank",rel:"noreferrer",children:l.a.get("sunSwap.swap.input_recipient_tronscan")}):null}),Object(C.jsx)("input",{className:"mt-15",value:this.state.recipientAddr,onChange:this.onRecipientChange,placeholder:l.a.get("sunSwap.swap.input_recipient_placeholder")})]})]}):Object(C.jsxs)("div",{className:"add-recipient",onClick:this.showAddRecipient,children:[l.a.get("sunSwap.swap.input_add_recipient"),Object(C.jsx)("img",{className:"ml-12 recipient-icon",src:qe.a,alt:""})]})}),s.tokenAddress&&a.tokenAddress?Object(C.jsxs)("div",{className:"flex start rates mt-20",children:[l.a.get("sunSwap.swap.input_from_price"),Object(C.jsx)("span",{className:"swap-token",children:this.state.priceInverseFlag?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("span",{className:"token-rates",children:[Object(f.l)(i,{miniText:h.a.minPrice,miniTextNoZero:!0,separator:!1,dp:a.tokenDecimal,cutZero:!0})," ",a.tokenSymbol]})," ",l.a.get("sunSwapV3.per"),Object(C.jsx)("span",{className:"token-rates",children:s.tokenSymbol})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("span",{className:"token-rates",children:[Object(f.l)(n,{miniText:h.a.minPrice,miniTextNoZero:!0,separator:!1,dp:s.tokenDecimal,cutZero:!0})," ",s.tokenSymbol]})," ",l.a.get("sunSwapV3.per"),Object(C.jsx)("span",{className:"token-rates",children:a.tokenSymbol})]})}),Object(C.jsx)("img",{className:"ml-12",src:Ce.a,alt:"",onClick:this.switchPriceInverseFlag})]}):null,Object(C.jsx)("div",{className:"flex",children:Object(C.jsx)("div",{className:"sunswap-trade-router media-trade-router-pc mt-20",children:this.renderTokenRouter()})})]}),Object(C.jsx)(Z.a,{xs:{span:24},sm:{span:24},md:{span:2},lg:{span:2},style:{textAlign:"center"},children:Object(C.jsx)("span",{})}),Object(C.jsxs)(Z.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},className:"flex-swap-block",children:[!p&&Object(C.jsx)(C.Fragment,{children:"0.5"!=this.props.sunSwapNetwork.settingSlippageV2?Object(C.jsxs)("div",{className:"flex start detail-item",children:[Object(C.jsxs)("div",{children:[l.a.get("sunSwap.swap.detail_slippage")," "]}),Object(C.jsx)("span",{className:"ml-8",children:(Object(f.a)(this.props.sunSwapNetwork.settingSlippageV2).lt(.01)?"<0.01":this.props.sunSwapNetwork.settingSlippageV2)+"%"})]}):null}),!p&&this.state.fromValue&&this.state.toValue&&this.props.sunSwapPool.swapToken.fromToken.tokenAddress&&this.props.sunSwapPool.swapToken.toToken.tokenAddress?Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:"flex start mt-8 detail-item",children:this.state.receivedFlag?Object(C.jsxs)(o.a.Fragment,{children:[Object(C.jsx)(me.a,{tip:l.a.get("sunSwap.swap.detail_min_received_tip"),children:l.a.get("sunSwap.swap.detail_min_received")}),Object(C.jsx)("span",{className:"ml-8",children:Object(f.l)(c,{dp:a.tokenDecimal})+" "+a.tokenSymbol})]}):Object(C.jsxs)(o.a.Fragment,{children:[Object(C.jsx)(me.a,{tip:l.a.get("sunSwap.swap.detail_max_sold_tip"),children:l.a.get("sunSwap.swap.detail_max_sold")}),Object(C.jsx)("span",{className:"ml-8",children:Object(f.l)(c,{dp:s.tokenDecimal})+" "+this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]})}),Object(C.jsxs)("div",{className:"flex start mt-8 detail-item",children:[Object(C.jsx)(me.a,{tip:l.a.get("sunSwap.swap.detail_price_impact_tip"),children:l.a.get("sunSwap.swap.detail_price_impact")}),Object(C.jsx)("span",{className:["orange","red"].includes(this.state.priceImpactColor)?this.state.priceImpactColor+" ml-8":"ml-8",children:this.state.priceImpact.indexOf("NaN")>-1?"--":this.state.priceImpact})]}),Object(C.jsxs)("div",{className:"flex start mt-8 detail-item",children:[Object(C.jsx)(me.a,{tip:l.a.getHTML("swap.detail_liquidity_fee_tip_v2"),children:l.a.get("sunSwap.swap.detail_liquidity_fee")}),Object(C.jsx)("span",{className:"ml-8",children:this.state.liquidityProviderFee+" "+this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]})]}):null,"TRX"===s.tokenSymbol&&this.state.fromValue?Object(f.D)(s.balance).lt(h.a.swapFeeAmountV2)?Object(C.jsx)("div",{className:"safe-amount-tip mt-20",children:l.a.getHTML("list.trx_tip_3",{value:h.a.swapFeeAmountV2})}):Object(f.D)(s.balance).minus(h.a.swapFeeAmountV2).lt(Object(f.D)(this.state.fromValue))?Object(C.jsxs)("div",{className:"safe-amount-tip mt-20",children:[l.a.getHTML("list.trx_tip_1",{value:h.a.swapFeeAmountV2})," ",Object(C.jsx)("span",{className:"safe-amount-set-btn",onClick:()=>this.useSafeMax("from"),children:l.a.get("sunSwap.list.trx_tip_2")})]}):null:null,"TRX"===a.tokenSymbol&&this.state.toValue&&Object(f.D)(a.balance).lt(h.a.swapFeeAmountV2)?Object(C.jsx)("div",{className:"safe-amount-tip mt-20",children:l.a.getHTML("list.trx_tip_3",{value:h.a.swapFeeAmountV2})}):null]})]}),Object(C.jsx)("div",{className:"action-btns",children:this.props.network.isConnected?Object(C.jsx)(C.Fragment,{children:this.state.actionError?Object(C.jsx)(B.a,{type:"single",disabled:!0,info:this.state.actionError}):Object(C.jsx)(B.a,{type:"single",btnColor:this.state.priceImpactColor,info:"red"===this.state.priceImpactColor?l.a.get("sunSwap.swap.action_high"):this.state.swapInfo,onClick:this.showSwapModal})}):Object(C.jsx)(B.a,{type:"single",info:l.a.get("sunSwap.swap.action_connect"),onClick:()=>{this.props.network.setData({loginModalVisible:!0,loginModalStep:1})}})}),Object(C.jsxs)(r.a,{title:null,closable:"success"!==this.state.actionState,open:this.state.swapVisible,onCancel:this.beforeHideSwapModal,footer:null,className:"confirm-swap-modal sun-swap-modal",width:630,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:["line"===this.state.actionState&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"title big",children:this.state.swapPopTitle}),Object(C.jsxs)("div",{className:"ib-parent center trans-modal amount",children:[Object(C.jsxs)("div",{className:"from",children:[Object(C.jsx)("div",{className:"from-value",children:this.state.fromValue}),Object(C.jsx)("div",{className:"from-token",children:this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]}),Object(C.jsx)("img",{src:Ie.a,alt:"",className:"plus w10"}),Object(C.jsxs)("div",{className:"to",children:[Object(C.jsx)("div",{className:"to-value",children:this.state.toValue}),Object(C.jsx)("div",{className:"to-token",children:this.props.sunSwapPool.swapToken.toToken.tokenSymbol})]}),this.state.recipientAddr&&Object(C.jsxs)("div",{className:"recipient",children:[l.a.get("sunSwap.swap.recipient"),this.state.recipientAddr]})]}),Object(C.jsx)("div",{className:"middleTip",children:this.state.recipientAddr?l.a.get("sunSwap.action.swapSendLineTitle"):l.a.get("sunSwap.action.swapLineTitle")}),Object(C.jsxs)(E.a,{children:[Object(C.jsx)("span",{status:this.state.approveActionState,err:this.state.approveActionError,children:this.state.approveActionTitle}),Object(C.jsx)("span",{status:this.state.swapActionState,err:this.state.swapActionError,children:this.state.swapActionTitle})]}),Object(C.jsx)(B.a,{type:"single",disabled:this.state.actionDisabled,info:this.state.actionInfo,onClick:this.onRetryAction})]}),"info"===this.state.actionState&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"title big",children:this.state.swapPopTitle}),Object(C.jsxs)("div",{className:"ib-parent center tokens amount",children:[Object(C.jsxs)("div",{className:"from",children:[Object(C.jsx)("div",{className:"from-value",children:this.state.fromValue}),Object(C.jsxs)("div",{className:"from-token",children:[Object(C.jsx)("img",{src:this.props.sunSwapPool.swapToken.fromToken.tokenLogoUrl,alt:""}),Object(C.jsx)("span",{children:this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]})]}),Object(C.jsx)("img",{src:Ie.a,alt:"",className:"plus w10"}),Object(C.jsxs)("div",{className:"to",children:[Object(C.jsx)("div",{className:"to-value",children:this.state.toValue}),Object(C.jsxs)("div",{className:"to-token",children:[Object(C.jsx)("img",{src:this.props.sunSwapPool.swapToken.toToken.tokenLogoUrl,alt:""}),Object(C.jsx)("span",{children:this.props.sunSwapPool.swapToken.toToken.tokenSymbol})]})]}),this.state.recipientAddr&&!p&&Object(C.jsxs)("div",{className:"recipient",children:[l.a.get("sunSwap.swap.recipient"),this.state.recipientAddr]})]}),Object(C.jsxs)("div",{className:"flex justify-content price",children:[Object(C.jsx)("div",{className:"",children:l.a.get("sunSwap.swap.input_from_price")}),Object(C.jsxs)("div",{className:"right",children:[Object(C.jsx)("div",{children:"1 ".concat(this.props.sunSwapPool.swapToken.toToken.tokenSymbol," =\n                    ").concat(Object(f.l)(this.state.priceStr,{dp:this.props.sunSwapPool.swapToken.fromToken.tokenDecimal,cutZero:!0,miniTextNoZero:!0,miniText:h.a.minPrice}),"\n                    ").concat(this.props.sunSwapPool.swapToken.fromToken.tokenSymbol," ")}),Object(C.jsx)("div",{className:"mt3",children:"1 ".concat(this.props.sunSwapPool.swapToken.fromToken.tokenSymbol," =\n                    ").concat(Object(f.l)(this.state.priceInverseStr,{dp:this.props.sunSwapPool.swapToken.toToken.tokenDecimal,cutZero:!0,miniTextNoZero:!0,miniText:h.a.minPrice}),"\n                    ").concat(this.props.sunSwapPool.swapToken.toToken.tokenSymbol," ")})]})]}),"0.5"!=this.props.sunSwapNetwork.settingSlippageV2?Object(C.jsxs)("div",{className:"flex justify-content detail-slippage",children:[Object(C.jsxs)("div",{children:[l.a.get("sunSwap.swap.detail_slippage")," "]}),Object(C.jsx)("div",{children:(Object(f.a)(this.props.sunSwapNetwork.settingSlippageV2).lt(.01)?"<0.01":this.props.sunSwapNetwork.settingSlippageV2)+"%"})]}):null,!p&&Object(C.jsxs)("div",{className:"detail-list",children:[Object(C.jsx)("div",{className:"flex justify-content detail-item",children:this.state.receivedFlag?Object(C.jsxs)(o.a.Fragment,{children:[Object(C.jsx)(me.a,{tip:l.a.get("sunSwap.swap.detail_min_received_tip"),left:!0,dark:!0,children:l.a.get("sunSwap.swap.detail_min_received")}),Object(C.jsx)("span",{className:"right",children:Object(f.l)(c,{dp:a.tokenDecimal})+" "+this.props.sunSwapPool.swapToken.toToken.tokenSymbol})]}):Object(C.jsxs)(o.a.Fragment,{children:[Object(C.jsx)(me.a,{tip:l.a.get("sunSwap.swap.detail_max_sold_tip"),left:!0,dark:!0,children:l.a.get("sunSwap.swap.detail_max_sold")}),Object(C.jsx)("span",{className:"right",children:Object(f.l)(c,{dp:s.tokenDecimal})+" "+this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]})}),Object(C.jsxs)("div",{className:"flex justify-content detail-item",children:[Object(C.jsx)(me.a,{tip:l.a.get("sunSwap.swap.detail_price_impact_tip"),left:!0,dark:!0,children:l.a.get("sunSwap.swap.detail_price_impact")}),Object(C.jsx)("span",{className:"right "+(["orange","red"].includes(this.state.priceImpactColor)?this.state.priceImpactColor:"normal sun-swap-normal-1"),children:this.state.priceImpact.indexOf("NaN")>-1?"--":this.state.priceImpact})]}),Object(C.jsxs)("div",{className:"flex justify-content detail-item",children:[Object(C.jsx)(me.a,{tip:l.a.getHTML("swap.detail_liquidity_fee_tip_v2"),left:!0,dark:!0,children:l.a.get("sunSwap.swap.detail_liquidity_fee")}),Object(C.jsx)("span",{className:"right",children:this.state.liquidityProviderFee+" "+this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]})]}),Object(C.jsx)("div",{className:"warning",children:this.state.receivedFlag?Object(C.jsx)("div",{children:l.a.get("sunSwap.swap.confirm_warning_output",{amount:Object(f.l)(c,{dp:a.tokenDecimal}),token:this.props.sunSwapPool.swapToken.toToken.tokenSymbol})}):Object(C.jsx)("div",{children:l.a.get("sunSwap.swap.confirm_warning_input",{amount:Object(f.l)(c,{dp:s.tokenDecimal}),token:this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})})}),this.state.swapErrorInfo&&Object(C.jsx)("div",{className:"errorMsg",children:this.state.swapErrorInfo}),Object(C.jsx)(B.a,{styleName:"mt-40",type:"single",btnColor:this.state.priceImpactColor,disabled:this.state.swapPopBtnDisabled,info:this.state.swapPopBtn,onClick:this.beforeSwapToken})]}),"success"===this.state.actionState&&Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"modal-success",children:[Object(C.jsx)("img",{src:U.a,alt:""}),this.state.recipientAddr?Object(C.jsx)("div",{className:"title green",children:l.a.get("sunSwap.action.swapSendSuccessTitle")}):Object(C.jsx)("div",{className:"title green",children:l.a.get("sunSwap.action.swapSuccessTitle")}),Object(C.jsxs)("div",{className:"ib-parent center trans-modal mb25",children:[Object(C.jsxs)("div",{className:"from",children:[Object(C.jsx)("div",{className:"from-value",children:this.state.successFromValue}),Object(C.jsx)("div",{className:"from-token",children:this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]}),Object(C.jsx)("img",{src:Ie.a,alt:"",className:"plus w10"}),Object(C.jsxs)("div",{className:"to",children:[Object(C.jsx)("div",{className:"to-value",children:this.state.successToValue}),Object(C.jsx)("div",{className:"to-token",children:this.props.sunSwapPool.swapToken.toToken.tokenSymbol})]}),this.state.recipientAddr&&Object(C.jsxs)("div",{className:"recipient",children:[l.a.get("sunSwap.swap.recipient"),Object(f.j)(this.state.recipientAddr)]})]}),Object(C.jsx)(B.a,{type:"single",info:l.a.get("sunSwap.action.closeBtn"),onClick:this.hideSwapModal}),this.state.recipientAddr?Object(C.jsx)("div",{className:"endTip",children:l.a.get("sunSwap.action.swapSendDescTitle")}):Object(C.jsx)("div",{className:"endTip",children:l.a.get("sunSwap.action.swapDescTitle")})]})})]}),Object(C.jsx)(M.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}})||Ve)||Ve)||Ve)||Ve;var Ee=Be,Me=s(13),Re=s.n(Me),Ue=s(48),He=s.n(Ue);const{swapServiceV2:We,swapApiPathV2:ze}=h.a,{statusinfo:Je,allLiquidityVolume:Xe,topTokenList:Ye,tokenInfo:Ze,topPairList:Qe,pairInfo:Ke,pairListByToken:Ge,transactions:$e,searchTokenList:et,searchPairList:tt,liquidityuser:st}=ze;var at,nt=new class{async getStatusInfo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.z)((async()=>{const{data:t}=await Re.a.get("".concat(We).concat(Je),{params:e});return t.data||{}}))}async getAllLiquidityVolume(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.z)((async()=>{const{data:t}=await Re.a.get("".concat(We).concat(Xe),{params:e});let s=t.data||[];return s.map((e=>{e.time=1e3*e.time,e.newTime=He()(e.time).format("YYYY/M/D"),e.volume=Object(f.E)(e.volume),e.liquidity=Object(f.E)(e.liquidity)})),s}))}async getTopTokenList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.z)((async()=>{const{data:t}=await Re.a.get("".concat(We).concat(Ye),{params:e}),s=t.data||[];return s.map((e=>{e.symbol=Object(f.r)(e.symbol,e.tokenAddress)})),s}))}async getTokenInfo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.z)((async()=>{const{data:t}=await Re.a.get("".concat(We).concat(Ze),{params:e}),s=t.data||{};return s.symbol=Object(f.r)(s.symbol,s.tokenAddress),s}))}async getTopPairList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.z)((async()=>{const{data:t}=await Re.a.get("".concat(We).concat(Qe),{params:e}),s=t.data||[];return s.map((e=>{e.token0Symbol=Object(f.r)(e.token0Symbol,e.token0Address),e.token1Symbol=Object(f.r)(e.token1Symbol,e.token1Address)})),s}))}async getPairInfo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.z)((async()=>{const{data:t}=await Re.a.get("".concat(We).concat(Ke),{params:e}),s=t.data||{};return s.token0Symbol=Object(f.r)(s.token0Symbol,s.token0Address),s.token1Symbol=Object(f.r)(s.token1Symbol,s.token1Address),s}))}async getPairListByToken(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.z)((async()=>{const{data:t}=await Re.a.get("".concat(We).concat(Ge),{params:e}),s=t.data||[];return s.map((e=>{e.token0Symbol=Object(f.r)(e.token0Symbol,e.token0Address),e.token1Symbol=Object(f.r)(e.token1Symbol,e.token1Address)})),s}))}async getTransactions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.z)((async()=>{const{data:t}=await Re.a.get("".concat(We).concat($e),{params:e}),s=t.data||[];return s.map((e=>{e.fromSymbol=Object(f.r)(e.fromSymbol,e.fromTokenAddr),e.toSymbol=Object(f.r)(e.toSymbol,e.toTokenAddr)})),s}))}async searchTokenList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.z)((async()=>{var t;const{data:s}=await Re.a.get("".concat(We).concat(et),{params:e});return((null===(t=s.data)||void 0===t?void 0:t.list)||[]).map((e=>{e.symbol=Object(f.r)(e.symbol,e.tokenAddress)})),s.data||{hasMore:!1,list:[]}}))}async searchPairList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(f.z)((async()=>{var t;const{data:s}=await Re.a.get("".concat(We).concat(tt),{params:e});return((null===(t=s.data)||void 0===t?void 0:t.list)||[]).map((e=>{e.token0Symbol=Object(f.r)(e.token0Symbol,e.token0Address),e.token1Symbol=Object(f.r)(e.token1Symbol,e.token1Address)})),s.data||{hasMore:!1,list:[]}}))}async getLiquidityUserListV2(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(f.z)((async()=>{const t=await Re.a.get("".concat(We).concat(st),{params:{address:e}});if(0===t.data.code){const e=t.data.data.liquidityList||[];return e.map((e=>{e.token0Symbol=Object(f.r)(e.token0Symbol,e.token0Address),e.token1Symbol=Object(f.r)(e.token1Symbol,e.token1Address)})),e}return[]}))}},ot=s(333),it=s(1058),lt=s(1272),ct=s(1136),rt=s(1102),pt=s(513),dt=s(1090),ut=s(1369),ht=s(1367),mt=s(1262),bt=s(332),jt=s(1370),kt=(s(1373),s(1197)),wt=s(1271);const gt=Object(j.a)(window.navigator).any;var St,xt=Object(c.b)("sunSwapNetwork")(at=Object(c.b)("sunSwapPool")(at=Object(c.b)("network")(at=Object(c.c)(at=class extends o.a.Component{constructor(e){super(e),this.componentDidMount=async()=>{this.unmount=!1,setTimeout((()=>{this.getLiquidityUserData()}),500)},this.componentWillUnmount=()=>{this.unmount=!0},this.addLiq=e=>{let{liqToken:t}=this.props.sunSwapPool;t.fromToken={tokenSymbol:e.token0Address===h.a.wtrxAddress?"TRX":e.token0Symbol,tokenAddress:e.token0Address===h.a.wtrxAddress?h.a.trxFakeAddress:e.token0Address,tokenDecimal:e.token0Address===h.a.wtrxAddress?h.a.trxDecimal:e.token0Decimal,tokenLogoUrl:e.token0Address===h.a.wtrxAddress?ot.a:e.token0Logo},t.toToken={tokenSymbol:e.token1Address===h.a.wtrxAddress?"TRX":e.token1Symbol,tokenAddress:e.token1Address===h.a.wtrxAddress?h.a.trxFakeAddress:e.token1Address,tokenDecimal:e.token1Address===h.a.wtrxAddress?h.a.trxDecimal:e.token1Decimal,tokenLogoUrl:e.token1Address===h.a.wtrxAddress?ot.a:e.token1Logo},Object(f.p)(t),this.props.sunSwapPool.setData({actionLiqV2:bt.a.ADD_TYPE,addLiqFromPools:!0,liqToken:t})},this.removeLiq=e=>{if(!(e.tokens.times(h.a.defaultTokenPrecision).integerValue(f.a.ROUND_DOWN).gt(0)&&e.trx.times(e.token1Precision).integerValue(f.a.ROUND_DOWN).gt(0)&&e.value.times(e.token0Precision).integerValue(f.a.ROUND_DOWN).gt(0)))return!1;const t={tokenSymbol:e.token0Symbol,tokenAddress:e.token0Address,tokenDecimal:e.token0Decimal,tokenLogoUrl:e.token0Logo},s={tokenSymbol:e.token1Symbol,tokenAddress:e.token1Address,tokenDecimal:e.token1Decimal,tokenLogoUrl:e.token1Logo};let{liqToken:a}=this.props.sunSwapPool;a.fromToken=t,a.toToken=s,this.props.sunSwapPool.setData({actionLiqV2:2,liqToken:a})},this.liqAddBtnClicked=()=>{let{liqToken:e}=this.props.sunSwapPool;e.toToken={tokenAddress:"",tokenSymbol:""},e.fromToken={tokenSymbol:"TRX",tokenAddress:h.a.trxFakeAddress,tokenDecimal:h.a.trxDecimal,trxBalance:new f.a(0),tokenBalance:new f.a(0),approvedAmount:new f.a(R.a),tokenLogoUrl:h.a.trxLogoUrl},e.toBalance=new f.a(-1),this.props.sunSwapPool.setData({actionLiqV2:1,addLiqFromPools:!1,liqToken:e,tokenDetailV2:{trx:new f.a(0),value:new f.a(0),tokens:new f.a(0),price1:"--",price2:"--",exTrx:new f.a(0)}})},this.getContractData=async()=>{try{const e=this.state.currentPage,t=this.props.sunSwapPool.originLiquidityListNew.slice(gt?0:(e-1)*this.pageSize,(e-1)*this.pageSize+this.pageSize);if(t.length>0){if(this.props.sunSwapPool.originLiquidityListNew.map((e=>{const s=t.filter((t=>{t.tokenAddress,e.tokenAddress}));s.length>0&&Object.assign(e,s[0])})),this.unmount)return;e===this.state.currentPage&&this.setState({liquidityList:t})}}catch(e){console.log(e)}},this.onChange=async e=>{this.setState({currentPage:e},(()=>{this.getContractData()}))},this.showLoginModal=e=>{this.props.network.setData({loginModalVisible:!0,loginModalStep:1})},this.getColumn=()=>[{title:l.a.get("sunSwap.liquidity_table.name"),dataIndex:"name",key:"name",fixed:!!gt&&"left",width:gt?"100px":void 0,render:(e,t)=>{const{token0Logo:s,token1Logo:a,token0Symbol:n,token1Symbol:o,token0Address:i,token1Address:l,address:c}=t,r=l===h.a.wtrxAddress||l===h.a.trxFakeAddress;return Object(C.jsxs)("div",{children:[Object(C.jsx)(ct.a,{url:s,className:ut.pool_list_logo}),Object(C.jsx)(ct.a,{url:r?ot.a:a,className:ut.pool_list_logo_right}),Object(C.jsxs)(rt.a,{target:"_blank",href:Object(pt.b)({pathname:"#/scan/pairDetail",search:{version:"v2",pairAddress:c,token0Address:i,token1Address:l}}),children:[n,"/",o]})]})}},{title:l.a.get("sunSwap.liquidity_table.token"),dataIndex:"token0Amount",key:"token0Amount",render:(e,t)=>(t.value?t.value._toFixed(4,1):"-")+" "+t.token0Symbol},{title:l.a.get("sunSwap.liquidity_table.token"),dataIndex:"token1Amount",key:"token1Amount",render:(e,t)=>(t.trx?t.trx._toFixed(4,1):"-")+" "+t.token1Symbol},{title:l.a.get("sunSwap.liquidity_table.lp"),dataIndex:"lp",key:"lp",render:(e,t)=>t.value?Object(f.l)(t.tokens,{miniText:1e-4,cutZero:!0,dp:4}):"-"},{title:l.a.get("sunSwap.liquidity_table.share"),dataIndex:"share",key:"share",render:(e,t)=>t.value?Object(C.jsxs)("span",{children:[t.share.gt(0)&&t.share.lt(.01)?"<0.01":isNaN(t.share._toFixed(2,1))?"--":t.share._toFixed(2,1),"%"]}):"-"},{title:Object(C.jsx)("span",{}),dataIndex:"btn",key:"btn",width:200,render:(e,t)=>{const s=!(t.tokens.times(h.a.defaultTokenPrecision).integerValue(f.a.ROUND_DOWN).gt(0)&&t.trx.times(t.token1Precision).integerValue(f.a.ROUND_DOWN).gt(0)&&t.value.times(t.token0Precision).integerValue(f.a.ROUND_DOWN).gt(0));return Object(C.jsx)(mt.a,{showRemove:!0,showAdd:!0,onAdd:()=>this.addLiq(t),onRemove:()=>this.removeLiq(t),removeDisabled:s})}}],this.formatLiquidityList=()=>this.state.liquidityList.map((e=>{const{token0Logo:t,token1Logo:s,token0Symbol:a,token1Symbol:n,token0Address:o,token1Address:i,address:l,value:c,trx:r,tokens:p,token1Precision:d,token0Precision:u}=e,m=i===h.a.wtrxAddress||i===h.a.trxFakeAddress,b=!(p.times(h.a.defaultTokenPrecision).integerValue(f.a.ROUND_DOWN).gt(0)&&r.times(d).integerValue(f.a.ROUND_DOWN).gt(0)&&c.times(u).integerValue(f.a.ROUND_DOWN).gt(0));return{token0:{tokenLogo:t,tokenSymbol:a,amount:c?c._toFixed(4,1):"-"},token1:{tokenLogo:m?ot.a:s,tokenSymbol:n,amount:r?r._toFixed(4,1):"-"},pool_share:(e.share.gt(0)&&e.share.lt(.01)?"<0.01":isNaN(e.share._toFixed(2,1))?"--":e.share._toFixed(2,1))+"%",pool_tokens:c?Object(f.l)(p,{miniText:1e-4,cutZero:!0,dp:4}):"-",originItem:e,disableRemove:b,toScan:Object(pt.b)({pathname:"#/scan/pairDetail",search:{version:"v2",pairAddress:l,token0Address:o,token1Address:i}})}})),this.timer=0,this.unmount=!1,this.pageSize=gt?3:10,this.isConnected=e.network.isConnected,this.state={currentPage:1,liquidityList:[],version:"v2.0",loading:!1}}componentDidUpdate(e,t){e.sunSwapPool.version!==t.version&&this.setState({currentPage:1,liquidityList:[],version:e.sunSwapPool.version},(()=>{this.getLiquidityUserData()}))}getLiqData(){this.setState({currentPage:1,liquidityList:[]},(()=>{this.getLiquidityUserData()}))}async getLiquidityUserData(){const e=this.props.network.defaultAccount;if(!e)return;this.setState({loading:!0});const{originLiquidityListNew:t=[]}=this.props.sunSwapPool;const s=(await nt.getLiquidityUserListV2(e)).filter((e=>new f.a(e.jswapBalance).gt(0)));s.map((e=>{const s=t.filter((t=>t.tokenAddress===e.tokenAddress));if(s.length>0){const{value:t,tokens:a,trx:n,share:o}=s[0];Object.assign(e,{value:t,tokens:a,trx:n,share:o,version:"v2.0"})}else Object.assign(e,{value:new f.a(0),tokens:new f.a(0),trx:new f.a(0),share:new f.a(0),version:"v2.0"})}));let a=[];for(let c of s)a.push(c.address);const{defaultAccount:n}=this.props.network;let o=await Object(R.p)(n,a);for(let c=0;c<(null===(i=o._trx)||void 0===i?void 0:i.length);c++){var i;const e=new f.a(10).pow(s[c].token0Decimal),t=new f.a(10).pow(s[c].token1Decimal);s[c].trx=new f.a(o._trx[c]._hex).div(t),s[c].value=new f.a(o._token[c]._hex).div(e),s[c].tokens=new f.a(o._uniToken[c]._hex).div(h.a.defaultTokenPrecision),s[c].share=new f.a(o._uniToken[c]._hex).times(100).div(new f.a(o._totalsupply[c]._hex)),s[c].token0Precision=e,s[c].token1Precision=t}this.props.sunSwapPool.setData({originLiquidityListNew:s});const{currentPage:l}=this.state;1===l&&await this.getContractData(),this.setState({loading:!1})}render(){const{liquidityList:e,loading:t,currentPage:s}=this.state,{isConnected:a}=this.props.network,{originLiquidityListNew:n=[]}=this.props.sunSwapPool,o=this.formatLiquidityList(),i=n.length||0,c=i>s*this.pageSize;return a!==this.isConnected&&a&&(this.isConnected=a,this.getLiquidityUserData()),Object(C.jsxs)("section",{className:ut.pool_list,children:[Object(C.jsx)(ht.a,{tip:l.a.get("sunSwap.pool.base_list_title_tip"),title:"".concat(l.a.get("sunSwap.pool.base_list_title")).concat(t||!e.length?"":" ("+i+") ")}),a?t||0!==e.length?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"hide-for-mobile",id:"scrollableDiv",style:{maxHeight:430,overflow:"auto"},children:Object(C.jsx)(kt.a,{scrollableTarget:"scrollableDiv",next:()=>{if(!t)return this.onChange(this.state.currentPage+1)},hasMore:!!t||c,loader:Object(C.jsx)(wt.a,{}),endMessage:t?null:Object(C.jsx)("div",{className:"sun-swap-empty-text",children:l.a.get("sunSwapV3.pool.base_allLiquidity_tip")}),dataLength:o.length,children:o.map((e=>Object(C.jsx)(jt.a,{...e,onAdd:this.addLiq,onRemove:this.removeLiq})))})}),Object(C.jsx)("div",{className:"hide-for-pc",children:Object(C.jsx)(dt.a,{dataSource:e,columns:this.getColumn(),loading:{spinning:t},pagination:{current:this.state.currentPage,pageSize:this.pageSize,onChange:this.onChange,total:n.length},locale:{emptyText:t?Object(C.jsx)("span",{}):Object(C.jsx)("span",{style:{color:"#fff"},children:l.a.get("sunSwap.pool.base_noLiquidity_tip")})},scroll:{x:700}})})]}):Object(C.jsx)(lt.a,{}):Object(C.jsx)(it.a,{})]})}})||at)||at)||at)||at,Ot=s(0),_t=s(1372),vt=s(1269);s(1267),s(1147);const{tokenBrief:ft}=A.a,At=[{textKey:"swap",key:bt.a.SWAP_TYPE},{textKey:"pools",key:bt.a.ADD_TYPE,tips:l.a.get("sunSwap.pool.add_addLiq_title_tip")}];let Tt=Object(c.b)("sunSwapNetwork")(St=Object(c.b)("sunSwapPool")(St=Object(c.c)(St=class extends o.a.Component{constructor(e){var t;super(e),t=this,this.componentDidMount=async()=>{window.scrollTo(0,0),Object(Ot.Z)(),this.setVersion(),this.props.sunSwapNetwork.setData({defaultSelectedKeys:"1"}),this.props.sunSwapNetwork.getSettingsDataForV2();try{this.props.sunSwapPool.getTokensDataFromLocal();const e=Object(Ot.G)("type"),t=Object(Ot.G)("addLiqFromPools");this.state.type=e,this.props.sunSwapPool.setTokenList("add"===e?3:1);const s=Object(Ot.G)("t0"),a=Object(Ot.G)("t1"),n=Object(Ot.G)("from");let{liqToken:o,swapToken:i}=this.props.sunSwapPool;if("add"===e){const{tokenMap:e}=o;e[s]?(o.fromToken=e[s],a||(o.toToken={tokenAddress:"",tokenSymbol:"",approvedAmount:new Ot.a(0)})):this.showSolorModal(s,0),a&&(e[a]?o.toToken=e[a]:this.showSolorModal(a,1)),Object(f.p)(o),this.props.sunSwapPool.setData({actionLiqV2:bt.a.ADD_TYPE,liqToken:o,addLiqFromPools:t}),this.setState({activeKey:bt.a.ADD_TYPE})}else if("swap"===e){const{tokenMap:e}=i;if(s?e[s]?i.fromToken=e[s]:this.showSolorModal(s,0):i.fromToken={tokenAddress:"",tokenSymbol:"",approvedAmount:new Ot.a(0)},a?e[a]?i.toToken=e[a]:this.showSolorModal(a,1):i.toToken={tokenAddress:"",tokenSymbol:"",approvedAmount:new Ot.a(0)},"scan"===n&&(e[s]||e[a])&&(Object.keys(h.a.deflationToken).includes(i.fromToken.tokenAddress)||Object.keys(h.a.deflationToken).includes(i.toToken.tokenAddress)))return void this.setState({dealWarningVisible:!0,callbacks:this.setTokenAddressCallback,dealWarningSymbol:Object.keys(h.a.deflationToken).includes(i.fromToken.tokenAddress)?i.fromToken.tokenAddress:i.toToken.tokenAddress});i.fromToken.tokenAddress&&i.toToken.tokenAddress&&await this.props.sunSwapPool.useAllCurrencyCombinations(),Object(f.p)(i),this.props.sunSwapPool.setData({actionLiqV2:9,swapToken:i}),this.setState({activeKey:bt.a.SWAP_TYPE})}else"pool"===e?(this.props.sunSwapPool.setData({actionLiqV2:0}),this.setState({activeKey:bt.a.SWAP_TYPE})):this.props.sunSwapPool.setData({actionLiqV2:9});await this.props.sunSwapPool.getTokensCategory()}catch(e){console.log(e)}this.setState({visible:!window.localStorage.getItem("noRemind"),version:window.localStorage.getItem("swapVersion")})},this.setVersion=()=>{window.localStorage.setItem("swapVersion",_t.b),this.props.sunSwapPool.setData({version:_t.b})},this.setTokenAddressCallback=async()=>{let{swapToken:e}=this.props.sunSwapPool;e.fromToken.tokenAddress&&e.toToken.tokenAddress&&await this.props.sunSwapPool.useAllCurrencyCombinations(),Object(f.p)(e),this.props.sunSwapPool.setData({actionLiqV2:bt.a.SWAP_TYPE,swapToken:e}),this.setState({activeKey:bt.a.SWAP_TYPE,dealWarningVisible:!1})},this.showSolorModal=async(e,t)=>{const s=await ft(e);if(s.success){const a=s.data;if(a.tokenAddr){const s=window.localStorage.getItem("swapVersion"),n={tokenAddress:e,address:a.exchangeAddr,addressV1:"v1.0"===s?a.exchangeAddr:null,addressV2:"v1.5"===s?a.exchangeAddr:null,tokenSymbol:a.tokenSymbol,tokenLogoUrl:a.tokenLogo,tokenName:a.tokenName,tokenDecimal:a.tokenDecimal,cst:1,balance:"-"},o=await this.calcItem(n);0===t&&this.props.sunSwapPool.setData({tokenBrief:o}),1===t&&this.props.sunSwapPool.setData({tokenBriefAnother:o}),this.props.sunSwapPool.setData({solorModalVisible:!0})}}},this.calcItem=async e=>{const{allExchanges:t={}}=this.props.sunSwapPool,s=h.a.contract.factory;if(!(t[0]&&t[0][e.tokenAddress]&&t[0][e.tokenAddress].e||null)){const t=await Object(R.l)(e.tokenAddress,s);t&&(e.addressV1=t)}return e},this.changeTab=async e=>{try{this.setState({activeKey:e}),e===bt.a.SWAP_TYPE?this.props.sunSwapPool.setData({actionLiqV2:bt.a.SWAP_TYPE}):this.props.sunSwapPool.setData({actionLiqV2:bt.a.ADD_TYPE})}catch(t){console.log(t)}},this.closeModal=()=>{this.setState({visible:!1})},this.mountedActions=()=>{this.props.sunSwapPool.getBalanceAndApprove()},this.addSolorTokens=async(e,t,s)=>{try{const{solor:a=[],swapToken:n,liqToken:o}=this.props.sunSwapPool;t?"from"===s?n.fromToken={...e}:n.toToken={...e}:"from"===s?o.fromToken={...e}:o.toToken={...e};if(b.a.findIndex(a,(t=>t.tokenAddress===e.tokenAddress))>=0)return;a.unshift({...e,cst:2}),this.props.sunSwapPool.setData({solor:a,swapToken:n,liqToken:o}),await this.props.sunSwapPool.setTokenList(this.props.type),window.localStorage.setItem("solor",JSON.stringify(a)),t&&this.props.sunSwapPool.getBalanceAndApprove()}catch(a){console.log(a)}},this.confirmContinue=async()=>{try{const{checkStatus:e,type:t}=this.state,{tokenBrief:s,tokenBriefAnother:a}=this.props.sunSwapPool;if(!e)return;if(Object.keys(h.a.deflationToken).includes(s.tokenAddress)||Object.keys(h.a.deflationToken).includes(a.tokenAddress))return this.props.sunSwapPool.setData({solorModalVisible:!1}),void this.setState({dealWarningVisible:!0,callbacks:this.dealWarningCallback,dealWarningSymbol:s.tokenAddress||a.tokenAddress});Object.keys(s).length>0&&await this.addSolorTokens(s,"swap"===t,"from"),Object.keys(a).length>0&&await this.addSolorTokens(a,"swap"===t,"to"),this.props.sunSwapPool.setData({solorModalVisible:!1}),"swap"===t&&this.props.sunSwapPool.useAllCurrencyCombinations(),Object.keys(s).length>0&&"swap"!==t&&this.addRef.current.onChangeToken&&this.addRef.current.onChangeToken(s,3,!0),Object.keys(a).length>0&&"swap"!==t&&this.addRef.current.onChangeToken&&this.addRef.current.onChangeToken(a,4,!0)}catch(e){console.log(e),this.props.sunSwapPool.setData({solorModalVisible:!1})}},this.dealWarningCallback=async()=>{try{this.setState({dealWarningVisible:!1});const{checkStatus:e,type:t}=this.state,{tokenBrief:s,tokenBriefAnother:a}=this.props.sunSwapPool;Object.keys(s).length>0&&await this.addSolorTokens(s,"swap"===t,"from"),Object.keys(a).length>0&&await this.addSolorTokens(a,"swap"===t,"to"),this.props.sunSwapPool.setData({solorModalVisible:!1}),"swap"===t&&this.props.sunSwapPool.useAllCurrencyCombinations(),Object.keys(s).length>0&&"swap"!==t&&this.addRef.current.onChangeToken&&this.addRef.current.onChangeToken(s,3,!0),Object.keys(a).length>0&&"swap"!==t&&this.addRef.current.onChangeToken&&this.addRef.current.onChangeToken(a,4,!0)}catch(e){console.log(e),this.props.sunSwapPool.setData({solorModalVisible:!1})}},this.changeCheckStatus=e=>{this.setState({checkStatus:e.target.checked})},this.renderBrief=e=>Object(C.jsxs)("div",{className:"token-info flex",children:[Object(C.jsx)("div",{className:"logo",children:Object(C.jsx)("img",{src:e.tokenLogoUrl?e.tokenLogoUrl:H.a})}),Object(C.jsxs)("div",{className:"info",children:[Object(C.jsxs)("div",{className:"symbol",children:[e.tokenName,"(",e.tokenSymbol,")"]}),Object(C.jsxs)("div",{className:"addr",children:[Object(C.jsx)("span",{children:e.tokenAddress}),Object(C.jsx)("span",{className:"pointer",title:e.tokenAddress,id:"copySpan",onClick:e=>{Object(f.i)(e,"5px","copySpan")},children:Object(C.jsx)(d.a,{})})]})]})]}),this.onVersionChange=e=>{const{route:t}=e,{actionLiqV2:s,swapToken:a={},liqToken:n={}}=this.props.sunSwapPool;if(t&&t.includes("sun_swap/v2"))return;const o=b.a.get(a,"fromToken.tokenAddress"),i=b.a.get(a,"toToken.tokenAddress"),l=b.a.get(n,"fromToken.tokenAddress"),c=b.a.get(n,"toToken.tokenAddress"),r=9===s?o:l,p=9===s?i:c,d={};!p||1===s&&p===h.a.trxFakeAddress||(d.t1=p),!r||1===s&&r===h.a.trxFakeAddress||(d.t0=r),9===s?d.type="swap":0===s&&(d.type="pool"),1===s&&(d.type="add"),this.props.history.push(Object(pt.b)({pathname:t,search:d}))},this.onSettingChange=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.props.sunSwapNetwork.setData({settingVisibleV2:!1}),t.props.sunSwapNetwork.saveSettingsForV2(e,s),t.swapRef.current&&t.swapRef.current.calcPrice()},this.onBack=()=>{this.props.sunSwapPool.setData({actionLiqV2:bt.a.ADD_TYPE,addLiqFromPools:!1})},this.handleSuccess=e=>{const{sunSwapPool:t}=this.props;switch(e){case bt.a.ADD_TYPE:t.addLiqFromPools?(t.setData({addLiqFromPools:!1,tokenTwoFixed:!1}),this.updatePoolList()):this.updatePoolList();break;case bt.a.REMOVE_TYPE:t.setData({addLiqFromPools:!1,actionLiqV2:bt.a.ADD_TYPE});break;default:t.setData({actionLiqV2:bt.a.ADD_TYPE,addLiqFromPools:!1})}},this.updatePoolList=()=>{this.poolRef&&this.poolRef.current&&this.poolRef.current.getLiqData()},this.settingsRef=o.a.createRef(),this.swapRef=o.a.createRef(),this.addRef=o.a.createRef(),this.poolRef=o.a.createRef(),this.state={lang:window.localStorage.getItem("lang")||l.a.options.currentLocale,activeKey:bt.a.ADD_TYPE,visible:!1,checkStatus:!1,type:"add",version:_t.b,dealWarningVisible:!1,selectSearchItem:""}}render(){const{checkStatus:e,dealWarningVisible:t,callbacks:s,dealWarningSymbol:a}=this.state,{tokenBrief:n,tokenBriefAnother:o,solorModalVisible:i,actionLiqV2:c,addLiqFromPools:d}=this.props.sunSwapPool,u=c===bt.a.ADD_TYPE&&d,h=c===bt.a.REMOVE_TYPE,m=u||h;return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{children:[Object(C.jsxs)(vt.a,{version:"V2",onVersionChange:this.onVersionChange,routeName:"sun_swap/v2",pageList:At,activePage:c,onPageChange:(e,t)=>{let{key:s}=t;return this.changeTab(s)},isDetailPage:m,detailPage:{title:l.a.get(u?"sunSwapV3.pool.add_addLiq_title":"sunSwapV3.pool.remove_liq_title"),tip:l.a.get(u?"sunSwapV3.pool.add_addLiq_title_tip":"sunSwapV3.pool.remove_liq_title_tip"),onBack:this.onBack,showSetting:u,onSettingChange:this.onSettingChange,network:this.props.sunSwapNetwork,version:"V2"},network:this.props.sunSwapNetwork,onSettingChange:this.onSettingChange,children:[c===bt.a.ADD_TYPE&&!u&&Object(C.jsx)(ne,{ref:this.addRef,onSuccess:()=>this.handleSuccess(bt.a.ADD_TYPE)}),u&&Object(C.jsx)(ne,{ref:this.addRef,onSuccess:()=>this.handleSuccess(bt.a.ADD_TYPE)}),c===bt.a.SWAP_TYPE&&!m&&Object(C.jsx)(Ee,{ref:this.swapRef}),h&&Object(C.jsx)(ue,{onSuccess:()=>this.handleSuccess(bt.a.REMOVE_TYPE)})]}),!m&&Object(C.jsx)(xt,{ref:this.poolRef}),Object(C.jsx)(r.a,{title:l.a.get("sunSwap.list.add_token"),closable:!1,open:i,footer:null,width:500,className:"list-addtoken-modal sun-swap-modal",centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:Object(C.jsxs)("div",{className:"solor-modal-body",children:[Object(C.jsxs)("div",{className:"tips",children:[Object(C.jsx)("div",{className:"tips1",children:l.a.get("sunSwap.list.add_token_tip1")}),Object(C.jsx)("div",{className:"tips1",children:l.a.get("sunSwap.list.add_token_tip2")}),Object(C.jsx)("div",{className:"tips1",children:l.a.get("sunSwap.list.add_token_tip3")})]}),Object.keys(n).length>0&&this.renderBrief(n),Object.keys(o).length>0&&this.renderBrief(o),Object(C.jsx)("div",{className:"check-box"+(e?" checked":""),children:Object(C.jsx)(p.a,{onChange:this.changeCheckStatus,children:l.a.get("sunSwap.list.add_token_tip4")})}),Object(C.jsx)("div",{className:"btns",children:Object(C.jsx)("button",{onClick:this.confirmContinue,className:e?"button-active":"",children:l.a.get("sunSwap.list.continue")})})]})}),Object(C.jsx)(T.a,{visible:t,cb:s,dealWarningSymbol:a})]})})}})||St)||St)||St;t.default=Object(u.j)(Tt)}}]);