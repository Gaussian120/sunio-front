(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[22,27],{1e3:function(e,t,a){"use strict";var n=a(5),c=a(4),r=a(0),s=a(2),o=a(14),i=a(3),u=a(20),l=a.n(u),b=a(21),j=a(80),p=a(1775),d=a(1777),O=a(1348),f=a(884),x=a(195),v=a(271),g=(a(948),a(920),a(27)),m=a(1),h=a(6),w=a(136),k=a(899),_=a(909),y=(a(917),a(944)),S=a(320),N=a(908),P=a(901),C=a(15),L=a(138),D=a(42),I=a(956),A=a(900),U=a(903),T=a(904),B=a(912),F=a(318),V=a(10),K=h.a.usdcInfo,E=h.a.defaultSlippage,H=h.a.busdCommonPools,q=h.a.tokens,M=K.ALL_FEE,R=function(e){var t={};return e.map((function(e){t[e]=""})),t};t.a=function(e){var t=Object(j.d)((function(){return w.a.network})),a=Object(j.d)((function(){return w.a.system})),u=e.curveConfig,K=e.initParams,J=e.pageList,Z=e.tabPaneKey,Q=u.busd2PoolPools,G=u.busdusdPools,W=u.busd2PoolKeys,z=u.busdusdPoolKeys,X=u.busd2PoolContracts,Y=u.curveSymbol,$=u.curveLPSymbol,ee=u.twoPoolUsdLpKey,te=void 0===ee?"2usdlp":ee,ae=u.busd2Pool_2CommonPools,ne=X.USDCDepositer,ce=X.usdcSwap,re=X.stablePool,se=(q[te].symbol,q[te].token,"2Pool_2"===te),oe=Object(j.d)((function(){return Object(D.d)({Stores:w.a,poolType:te,baseStoreName:"busdPool"})})),ie=Object(j.d)((function(){return Object(D.d)({Stores:w.a,poolType:te,baseStoreName:"usd2Pool"})})),ue=Object(i.useState)(!1),le=Object(o.a)(ue,2),be=le[0],je=le[1],pe=Object(i.useState)(!0),de=Object(o.a)(pe,2),Oe=de[0],fe=de[1],xe=Object(i.useState)(!1),ve=Object(o.a)(xe,2),ge=ve[0],me=ve[1],he=Object(i.useState)(!0),we=Object(o.a)(he,2),ke=we[0],_e=we[1],ye=Object(i.useState)(!1),Se=Object(o.a)(ye,2),Ne=Se[0],Pe=Se[1],Ce=Object(i.useState)("--"),Le=Object(o.a)(Ce,2),De=Le[0],Ie=Le[1],Ae=Object(i.useState)("--"),Ue=Object(o.a)(Ae,2),Te=Ue[0],Be=Ue[1],Fe=Object(i.useState)(!1),Ve=Object(o.a)(Fe,2),Ke=Ve[0],Ee=Ve[1],He=Object(i.useState)(!1),qe=Object(o.a)(He,2),Me=qe[0],Re=qe[1],Je=Object(i.useState)(!1),Ze=Object(o.a)(Je,2),Qe=Ze[0],Ge=Ze[1],We=Object(i.useState)(oe),ze=Object(o.a)(We,2),Xe=ze[0],Ye=ze[1],$e=Object(i.useState)(W),et=Object(o.a)($e,2),tt=et[0],at=et[1],nt=Object(i.useState)(Q),ct=Object(o.a)(nt,2),rt=ct[0],st=ct[1],ot=Object(i.useState)((function(){return R(W)})),it=Object(o.a)(ot,2),ut=it[0],lt=it[1],bt=Object(i.useState)((function(){return R(z)})),jt=Object(o.a)(bt,2),pt=jt[0],dt=jt[1],Ot=Object(i.useState)(ut),ft=Object(o.a)(Ot,2),xt=ft[0],vt=ft[1],gt=null,mt=null,ht=(window.localStorage.getItem("lang"),se?ae:H);Object(i.useEffect)((function(){ge?(Ye(ie),at(z),vt(pt),st(G)):(Ye(oe),at(W),vt(ut),st(Q))}),[ge]),Object(i.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Lt(xt),yt()]);case 2:Ke&&Pt(xt);case 3:case"end":return e.stop()}}),e)}))),[xt]);var wt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(){var t,a,n,c,s,o;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ge){e.next=2;break}return e.abrupt("return",{success:!0,value:xt[te]?Object(m.fb)(xt[te]).times(rt[te].precision):Object(m.a)(0)});case 2:for(a in e.prev=2,t=[],ht)n=ht[a],c=n.index,s=n.precision,t[c]=Object(m.fb)(xt[a]).isNaN()?0:Object(m.fb)(xt[a]).times(s)._toIntegerDown()._toHex();return e.next=7,Object(C.g)(re,t);case 7:return o=e.sent,e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",{success:!1});case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),kt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Ne){e.next=5;break}if(!Pt(t)){e.next=5;break}return e.abrupt("return");case 5:if(!Ne){e.next=7;break}return e.abrupt("return");case 7:if(!Object(m.a)(De).abs().gt(10)){e.next=9;break}return e.abrupt("return",Re(!0));case 9:return e.next=11,_t(t);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),_t=function(){var n=Object(s.a)(Object(r.a)().mark((function n(s){var o,i,u,l,b,j,p,d,O,f,x,v,g,h,w,k,_,y,S,N,P,A;return Object(r.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,e.onSubmit&&e.onSubmit(),o=[],tt.map((function(e){o.push(Object(c.a)(Object(c.a)({},Xe.poolData[e]),{},{inputValue:s[e]?Object(m.fb)(s[e]).times(rt[e].precision):Object(m.a)(0)}))})),i="".concat(Object(D.a)({poolType:te}),"/getBalanceInfo"),u=ne,ge&&(i="".concat(Object(D.f)({poolType:te}),"/getBalanceInfo"),u=ce),l=0;case 8:if(!(l<o.length)){n.next=24;break}if(b=o[l],j=b.allowance,p=void 0===j?Object(m.a)(0):j,d=b.inputValue,O=b.token,f=b.symbol,x=b.approveStatus,v=b.id,console.log("approveAddress",v,p,"allowance",d,p.toFixed(),x,o),Object(L.a)({txid:"".concat(v,"_").concat(p.toFixed(),"_").concat(d.toFixed(),"_").concat(x),category:"debug_busd",waddr:t.defaultAccount}),!Object(m.a)(p).lt(d)||x){n.next=21;break}return n.next=15,a.approveToken(O,u,{title:"deposit.approve_token",obj:{value:f},continuous:!0},[[i]]);case 15:if(!n.sent){n.next=20;break}Xe.poolData[v].approveStatus=2,n.next=21;break;case 20:return n.abrupt("return");case 21:l++,n.next=8;break;case 24:if(g=o.sort((function(e,t){return e.index-t.index})),h=g.length,w=g.map((function(e){return e.inputValue._toIntegerDown()._toHex()}))||[],k=null,!Xe.lpTotalSupply.lte(0)){n.next=31;break}return n.next=31,Xe.getSwapBalance();case 31:if(!Xe.lpTotalSupply.lte(0)){n.next=40;break}return n.next=34,wt();case 34:if((_=n.sent).success){n.next=37;break}return n.abrupt("return");case 37:k=_.value.div(1e18).plus(Object(m.fb)(s[Y]||0)),n.next=53;break;case 40:if(y={},!ge){n.next=47;break}return n.next=44,Object(C.f)(w,!0,ce);case 44:y=n.sent,n.next=50;break;case 47:return n.next=49,Object(C.e)(w,!0,ne);case 49:y=n.sent;case 50:if(y.success){n.next=52;break}return n.abrupt("return");case 52:k=y.value;case 53:if(k=k.times(Object(m.a)(1).minus(Object(m.a)(M).times(h).div(Object(m.a)(4).times(h-1)).div(1e10))),S=k.times(1-E)._toIntegerDown()._toHex(),!ge){n.next=62;break}return P={title:"actions.addLiq",obj:{detail:se?Object(I.a)(s,$):Object(m.A)(s,$)}},n.next=59,a.addLiquidityBUSDBy2USD(w,ce,S,P,[["".concat(Object(D.f)({poolType:te}),"/updateCurrencyData")]]);case 59:N=n.sent,n.next=66;break;case 62:return A={title:"actions.addLiq",obj:{detail:se?Object(I.a)(s,Y+"lp"):Object(m.A)(s,Y+"lp")}},n.next=65,a.addLiquidityBUSD(w,ne,S,A,[["".concat(Object(D.a)({poolType:te}),"/updateCurrencyData")]]);case 65:N=n.sent;case 66:N&&Tt(),n.next=72;break;case 69:n.prev=69,n.t0=n.catch(0),console.log("deposit err: ",n.t0);case 72:case"end":return n.stop()}}),n,null,[[0,69]])})));return function(e){return n.apply(this,arguments)}}(),yt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(){var t,a,n,c,s,o,i,u,l;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in e.prev=0,t=[],a=!1,xt)c=rt[n],s=c.index,o=c.precision,t[s]=Object(m.fb)(xt[n]).isNaN()?0:Object(m.fb)(xt[n]).times(o)._toIntegerDown()._toHex(),Object(m.a)(t[s]).gt(0)&&(a=!0);if(a){e.next=7;break}return Be(Object(m.a)(0)),e.abrupt("return");case 7:if(i=null,!Xe.lpTotalSupply.lte(0)){e.next=11;break}return e.next=11,Xe.getSwapBalance();case 11:if(!Xe.lpTotalSupply.lte(0)){e.next=20;break}return e.next=14,wt();case 14:if((u=e.sent).success){e.next=17;break}return e.abrupt("return");case 17:i=u.value.div(1e18).plus(Object(m.fb)(xt[Y])),e.next=33;break;case 20:if(l={},!ge){e.next=27;break}return e.next=24,Object(C.f)(t,!0,ce);case 24:l=e.sent,e.next=30;break;case 27:return e.next=29,Object(C.e)(t,!0,ne);case 29:l=e.sent;case 30:if(l.success){e.next=32;break}return e.abrupt("return");case 32:i=l.value.div(1e18);case 33:Be(i),e.next=39;break;case 36:e.prev=36,e.t0=e.catch(0),console.log(e.t0);case 39:case"end":return e.stop()}}),e,null,[[0,36]])})));return function(){return e.apply(this,arguments)}}(),St=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(ie.getSwapBalance(),ie.getVirtualPriceBUSD(ce),ie.getVolData(),ie.getPoolInfo()):(oe.getSwapBalance(),oe.getVirtualPriceBUSD(ce),oe.getVolData(),oe.getPoolInfo())},Nt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(){var a,n=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},!(n.length>0&&void 0!==n[0]&&n[0])){e.next=12;break}return e.next=5,ie.getSwapBalance();case 5:return ie.getUserLp(),e.next=8,ie.getBalanceInfo();case 8:z.map((function(e){var t=ie.poolData[e],n=t.precision,c=t.balance,r=t.decimal;a[e]=Object(m.c)(Object(m.a)(c).div(n)._toFixed(r,1))})),dt(a),e.next=20;break;case 12:return e.next=14,oe.getSwapBalance();case 14:return oe.getUserLp(),e.next=17,oe.getBalanceInfo();case 17:W.map((function(e){var t=oe.poolData[e],n=t.precision,c=t.balance,r=t.decimal;a[e]=Object(m.c)(Object(m.a)(c).div(n)._toFixed(r,1))})),lt(a),vt(a);case 20:_e(!1),vt(a),!Ke&&Ee(!0),gt||(gt=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:St(),oe.getUserLp();case 2:case"end":return e.stop()}}),e)}))),t.defaultIntervalSec));case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){!mt&&ge&&(mt=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return St(!0),e.next=3,ie.getUserLp();case 3:case"end":return e.stop()}}),e)}))),t.defaultIntervalSec))}),[ge]),Object(i.useEffect)((function(){var e=Object(b.p)((function(){return t.defaultAccount}),(function(){Nt(),St()}));return function(){e()}}),[]),Object(i.useEffect)((function(){oe.resetData(),ie.resetData()}),[]),Object(i.useEffect)((function(){return oe.initPage(K),ie.initPage(K),Nt(),St(),function(){clearInterval(gt),clearInterval(mt)}}),[t.defaultAccount]);var Pt=function(e){var t=Object.keys(e),a=t.length;if(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),a=t.filter((function(t){return Object(m.fb)(e[t]).eq(0)||!e[t]}));return t.length===a.length}(e))return Pe(l.a.get("error.e1")),!0;for(var n=0;n<a;n++){var c=t[n],r=e[c];if(!r&&(be||Oe))return Pe(l.a.get("error.e1")),!0;if(Xe.poolData[c]){var s=Xe.poolData[c],o=s.balance,i=s.precision,u=s.symbol;if(Object(m.a)(o).div(i).lt(Object(m.fb)(r)))return Pe(l.a.get("error.e2",{token:u})),!0}}return Pe(!1),!1},Ct=function(e){Ge(e.target.checked)},Lt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe.calcInclPrice(t);case 2:a=e.sent,Ie(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Dt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var s,o,i,u,l,b,j,p,d,O,f,x,v,g,w,k,_,y,S,N,P,L,D,I,A,U,T;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=a,(o={})[t]=Object(m.c)(s),i=Xe.poolData[t],i.precision,u=i.swapBalance,i.balance,l=Xe.swapBalanceInfo,b=l.sun3LpBalance,j=l.sun3TotalSupply,p=l.balancesUsdc,d=Object(m.fb)(s).div(u).isNaN()?Object(m.a)(0):Object(m.fb)(s).div(u),t!==Y){e.next=17;break}if(!ge){e.next=12;break}return O=Xe.poolData[te],f=O.swapBalance,x=O.decimal,o[te]=Object(m.c)(f.times(d)._toFixed(x,1)),e.abrupt("return",vt(o));case 12:return v=tt.filter((function(e){return e!==t})),g=d.times(b),w=g.div(j),v.map((function(e){var t=Xe.poolData[e],a=t.balance,n=void 0===a?Object(m.a)(0):a,c=t.swapBalance,r=t.precision,s=t.decimal;o[e]=Object(m.c)(w.times(c)._toFixed(s,1)),n.div(r).lt(Object(m.fb)(o[e]))&&(o[e]=Object(m.c)(n.div(r)._toFixed(s,1)))})),e.abrupt("return",vt(o));case 17:if(k=tt.filter((function(e){return e!==t&&e!==Y})),_=Object(n.a)({},t,Object(m.c)(s)),k.map((function(e){var t=Xe.poolData[e],a=t.balance,n=void 0===a?Object(m.a)(0):a,c=t.swapBalance,r=t.precision,s=t.decimal;_[e]=Object(m.c)(d.times(c)._toFixed(s,1)),n.div(r).lt(_[e])&&(_[e]=Object(m.c)(n.div(r)._toFixed(s,1)))})),y=Object(m.a)(0),!ge){e.next=25;break}a&&(y=Object(m.fb)(a).times(rt[te].precision)),e.next=33;break;case 25:for(N in S=[],_)P=ht[N],L=P.index,D=P.precision,S[L]=Object(m.fb)(_[N]).isNaN()?0:Object(m.fb)(_[N]).times(D)._toIntegerDown()._toHex();return e.next=29,Object(C.g)(re,S);case 29:if((I=e.sent).success){e.next=32;break}return e.abrupt("return");case 32:y=I.value;case 33:A=Object(m.a)(y).div(Object(m.a)(b).times(h.a.defaultVotePrecision)),U=Xe.poolData[Y],T=A.isNaN()?0:A.times(p)._toFixed(U.decimal,1),o[Y]=U.balance.div(U.precision).lt(T)?Object(m.c)(U.balance.div(U.precision)._toFixed(U.decimal,1)):Object(m.c)(T),vt(Object(c.a)(Object(c.a)({},o),_)),e.next=43;break;case 40:e.prev=40,e.t0=e.catch(0),console.log(e.t0);case 43:case"end":return e.stop()}}),e,null,[[0,40]])})));return function(t,a){return e.apply(this,arguments)}}(),It=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,je(a),Oe&&fe(!a),a&&Dt(tt[0],Object(m.fb)(xt[tt[0]]))}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),At=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,fe(a),be&&je(!a),n={},tt.map((function(e){var t=Xe.poolData[e],a=t.balance,c=void 0===a?Object(m.a)(0):a,r=t.precision,s=t.decimal;n[e]=Object(m.a)(c).isNaN()?0:Object(m.c)(c.div(r)._toFixed(s,1))})),vt(n)}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ut=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,me(a),je(!1),fe(!0),t.target.checked?clearInterval(gt):clearInterval(mt),St(t.target.checked),Nt(t.target.checked)}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tt=function(){Ge(!1),Re(!1)},Bt=Object(F.b)();return Object(V.jsx)(j.a,{children:function(){return Object(V.jsxs)(p.a,Object(c.a)(Object(c.a)({},U.a.row),{},{children:[Object(V.jsxs)(d.a,Object(c.a)(Object(c.a)({},U.a.colLeft),{},{children:[Object(V.jsx)(A.a,{list:J,activeKey:Z[0]}),Object(V.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(k.a,{routeName:"usdc/deposit",mountedActions:Nt,instantActions:St}),Object(V.jsx)(_.a,{title:l.a.get("buysell.busd_2pool")+" "+l.a.get("banner.title_deposit"),desc:l.a.get("banner.desc_deposit")}),Object(V.jsx)(N.a,{})]}):null,t.isConnected?Object(V.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(V.jsxs)("div",{className:"add-liq",children:[Object(V.jsxs)("fieldset",{className:"currencies",children:[Object(V.jsx)("legend",{children:l.a.get("deposit.currencies")}),Object(V.jsx)("ul",{children:tt.map((function(e){var t=Xe.poolData[e],a=t.symbol,r=void 0===a?"":a,s=t.balance,o=void 0===s?"--":s,i=t.precision,u=t.decimal;return o=Object(m.a)(o).div(i),Object(V.jsxs)("li",{children:[Object(V.jsxs)("div",{className:"cur-label",children:[Object(V.jsxs)("span",{className:"icon",children:[e===te?Object(V.jsx)("img",{src:g.a[$]?g.a[$]:v.default,alt:"",className:"token-logo"}):Object(V.jsx)("img",{src:g.a[e]?g.a[e]:v.default,alt:"",className:"token-logo"})," ",r]}),Object(V.jsx)("span",{className:"token-max",children:l.a.getHTML("deposit.token_max",{balance:Object(m.u)(o)})})]}),Object(V.jsx)(B.a,{value:xt[e],onChange:function(t){return function(e,t){Oe&&fe(!1);var a=rt[t].decimal,r=Object(m.V)((""+e.target.value).replace(/,/g,""),a),s=r.valid,o=r.str;s&&(vt(Object(c.a)(Object(c.a)({},xt),{},Object(n.a)({},t,Object(m.c)(o)))),be&&Dt(t,o))}(t,e)},onMaxClick:function(){!function(e,t,a){if(!Object(m.a)(t).isNaN()){var r=Object(m.a)(t)._toFixed(a,1);vt(Object(c.a)(Object(c.a)({},xt),{},Object(n.a)({},e,Object(m.c)(r)))),be&&Dt(e,r)}}(e,o,u)}})]},e)}))})]}),!Object(m.a)(De).isNaN()&&Object(m.ab)(De,!0),Object(V.jsxs)("div",{className:"deposit-check",children:[Object(V.jsx)(O.a,{checked:be,disabled:ke,onChange:It,children:l.a.get("deposit.ch1")}),Object(V.jsx)("br",{}),Object(V.jsx)(O.a,{checked:Oe,disabled:ke,onChange:At,children:l.a.get("deposit.ch2")}),Object(V.jsx)("br",{}),Object(V.jsx)(O.a,{checked:ge,disabled:ke,onChange:Ut,children:l.a.get("2usdlp"===te?"deposit.ch5":"deposit.ch6")})]}),Ne?Object(V.jsx)(P.a,{styleName:"mt-40",type:"single",disabled:!0,info:l.a.get("deposit.action")}):Object(V.jsx)(P.a,{styleName:"mt-40",type:"single",info:Bt?l.a.get("not_available"):l.a.get("deposit.action"),onClick:function(){return kt(xt)},disabled:Bt}),Ne&&Object(V.jsx)("div",{className:"error-content mt-12",children:Object(V.jsx)("div",{className:"error-tip",children:Ne})}),Object(m.a)(Te).gt(0)&&Object(V.jsxs)("div",{className:"error-content mt-12",children:[Object(V.jsxs)("div",{className:"error-tip",children:[l.a.getHTML("deposit.swap_detail",{value:Object(m.u)(Te,2),symbol:"".concat(Y.toUpperCase()," ").concat("2Pool_2"===te?"2Pool_2":"2USD"," LP")})," "]}),Object(V.jsx)("div",{className:"error-tip",children:l.a.get("deposit.exchange_rate",{value:Object(m.u)(Xe.virtualPrice,6),symbol:"".concat(Y.toUpperCase()," ").concat("2Pool_2"===te?"2Pool_2":"2USD"," LP")})})]})]})}):Object(V.jsx)(T.a,{}),Object(V.jsx)(S.a,{}),Object(V.jsx)(f.a,{title:l.a.get("deposit.high_slippage_title"),open:Me,closable:!0,icon:null,onCancel:Tt,footer:null,width:400,className:"common-modal common-bg slippage-modal",children:Object(V.jsxs)("div",{className:"center",children:[Object(V.jsxs)("div",{className:"common-err-bg",children:[Object(V.jsx)("div",{children:l.a.get("deposit.high_tip1")}),Object(V.jsx)("div",{children:l.a.get("deposit.high_tip2",{value:Object(m.u)(Object(m.a)(De).abs(),3)})})]}),Object(V.jsx)(O.a,{checked:Qe,onChange:Ct,children:l.a.get("deposit.confirm_slippage",{value:Object(m.u)(Object(m.a)(De).abs(),3)})}),Object(V.jsx)("br",{}),Object(V.jsxs)("div",{className:"btns flex",children:[Object(V.jsx)(x.a,{onClick:function(){return Re(!1)},type:"primary",children:l.a.get("cancel")}),Object(V.jsx)(x.a,{onClick:function(){return _t(xt)},disabled:!Qe,children:l.a.get("deposit.anyway")})]})]})})]})]})),Object(V.jsx)(d.a,Object(c.a)(Object(c.a)({},U.a.colRight),{},{children:Object(V.jsx)(y.a,{type:ge?"2usdlp":Y,curveConfig:u})}))]}))}})}},1001:function(e,t,a){"use strict";var n=a(5),c=a(4),r=a(0),s=a(2),o=a(14),i=a(3),u=a(20),l=a.n(u),b=a(1775),j=a(1777),p=a(324),d=a(882),O=a(271),f=a(80),x=a(136),v=a(27),g=a(6),m=a(15),h=a(1),w=a(944),k=a(899),_=a(909),y=(a(917),a(908)),S=a(42),N=a(956),P=a(905),C=a(901),L=a(906),D=a(900),I=a(904),A=a(912),U=a(10),T=g.a.usdcInfo,B=g.a.tokens,F=T.ALL_FEE,V="---",K="CUSTOM";t.a=function(e){var t=Object(f.d)((function(){return x.a.system})),a=Object(f.d)((function(){return x.a.network})),u=e.curveConfig,g=e.initParams,T=e.pageList,E=e.tabPaneKey,H=u.busd2PoolPools,q=u.busdusdPools,M=u.busd2PoolKeys,R=u.busdusdPoolKeys,J=u.busd2PoolContracts,Z=u.curveSymbol,Q=u.curveLPSymbol,G=u.twoPoolUsdLpKey,W=void 0===G?"2usdlp":G,z=Object(f.d)((function(){return Object(S.d)({Stores:x.a,poolType:W,baseStoreName:"busdPool"})})),X=Object(f.d)((function(){return Object(S.d)({Stores:x.a,poolType:W,baseStoreName:"usd2Pool"})})),Y=Object(S.f)({poolType:W}),$=Object(S.a)({poolType:W}),ee="2Pool_2"===W,te=J.USDCDepositer,ae=J.usdcSwap,ne=(J.stablePool,B["".concat(Z).concat("2Pool_2"===W?"2Pool_2":"2poollp")].token),ce="2Pool_2"===W?"2Pool_2LP":"2USDLP",re="".concat(Z).concat(ce),se=B["2Pool_2"===W?"2Pool_2":"2usdlp"].symbol,oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={};return M.map((function(a){t[a]=e})),t},ie=Object(i.useState)(),ue=Object(o.a)(ie,2),le=ue[0],be=void 0===le?oe("--"):le,je=ue[1],pe=Object(i.useState)("100.00"),de=Object(o.a)(pe,2),Oe=de[0],fe=de[1],xe=Object(i.useState)(.2),ve=Object(o.a)(xe,2),ge=ve[0],me=ve[1],he=Object(i.useState)(""),we=Object(o.a)(he,2),ke=we[0],_e=we[1],ye=Object(i.useState)(!0),Se=Object(o.a)(ye,2),Ne=Se[0],Pe=Se[1],Ce=Object(i.useState)(!1),Le=Object(o.a)(Ce,2),De=Le[0],Ie=Le[1],Ae=Object(i.useState)("--"),Ue=Object(o.a)(Ae,2),Te=Ue[0],Be=Ue[1],Fe=Object(i.useState)(!1),Ve=Object(o.a)(Fe,2),Ke=Ve[0],Ee=Ve[1],He=Object(i.useState)(),qe=Object(o.a)(He,2),Me=qe[0],Re=void 0===Me?oe(!1):Me,Je=qe[1],Ze=Object(i.useState)(!1),Qe=Object(o.a)(Ze,2),Ge=Qe[0],We=Qe[1],ze=Object(i.useState)(!1),Xe=Object(o.a)(ze,2),Ye=Xe[0],$e=Xe[1],et=Object(i.useState)(M),tt=Object(o.a)(et,2),at=tt[0],nt=tt[1],ct=Object(i.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={};return R.map((function(a){t[a]=e})),t}("--")),rt=Object(o.a)(ct,2),st=rt[0],ot=rt[1],it=null,ut=null;Object(i.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ye&&lt();case 1:case"end":return e.stop()}}),e)}))),[be,Oe,ge,ke,Re]),Object(i.useEffect)((function(){Dt(be,De)}),[be]),Object(i.useEffect)((function(){It(st,De)}),[st]);var lt=function(){return Oe!==V&&Object(h.fb)(Oe).gt(100)?(We(l.a.get("error.e3")),!0):function(){var e=Ke?st:be;for(var t in e)if(Object(h.fb)(e[t]).gt(0)||"--"===e[t])return!1;return!0}()?(We(l.a.get("error.e4")),!0):ge===K&&(dt()||Oe===V)&&(Object(h.a)(ke).lt(.1)||Object(h.a)(ke).gt(50)||Object(h.a)(ke).isNaN())?(We(l.a.get("error.e5")),!0):(We(!1),!1)},bt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(a,n){var c,s,o,i,u,l,b,j,p,d,O,f,x,v;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=a.length,s=a.map((function(e){return e.inputValue.isNaN()?0:e.inputValue._toIntegerDown()._toHex()}))||[],!Ke){e.next=29;break}return e.next=6,Object(m.f)(s,!1,ae);case 6:if((o=e.sent).success){e.next=9;break}return e.abrupt("return");case 9:if(i=o.value,u=i.times(Object(h.a)(1).plus(Object(h.a)(F).times(c).div(4*(c-1)).div(1e10))),l=Object(h.a)(100).plus(n).div(100),u=u.times(l)._toIntegerDown(),Object(h.a)(u).gt(z.swapBalanceInfo.userUsdcLpBalance)&&(u=z.swapBalanceInfo.userUsdcLpBalance),!Ne||!Object(h.a)(z.userLpAllowance).lt(u)){e.next=23;break}return e.next=17,t.approveToken(ne,ae,{title:"deposit.approve_token",obj:{value:re},continuous:!0},[["".concat(Y,"/getUserLp")]]);case 17:if(!e.sent){e.next=22;break}Pe(!1),e.next=23;break;case 22:return e.abrupt("return");case 23:return b=u._toHex(),j={title:"actions.remove",obj:{detail:ee?Object(N.a)(st,Q):Object(h.A)(st,Q)}},e.next=27,t.removeLiqImBalanceBUSD2USD(ae,s,b,j,[["".concat(Y,"/updateCurrencyData")]]);case 27:return e.sent,e.abrupt("return");case 29:return e.next=31,Object(m.e)(s,!1,te);case 31:if((p=e.sent).success){e.next=34;break}return e.abrupt("return");case 34:if(d=p.value,O=d.times(Object(h.a)(1).plus(Object(h.a)(F).times(c).div(4*(c-1)).div(1e10))),f=Object(h.a)(100).plus(n).div(100),O=O.times(f)._toIntegerDown(),Object(h.a)(O).gt(z.swapBalanceInfo.userUsdcLpBalance)&&(O=z.swapBalanceInfo.userUsdcLpBalance),!Ne||!Object(h.a)(z.userLpAllowance).lt(O)){e.next=48;break}return e.next=42,t.approveToken(ne,te,{title:"deposit.approve_token",obj:{value:se},continuous:!0},[["".concat($,"/getUserLp")]]);case 42:if(!e.sent){e.next=47;break}Pe(!1),e.next=48;break;case 47:return e.abrupt("return");case 48:return x=O._toHex(),v={title:"actions.remove",obj:{detail:ee?Object(N.a)(be,Z+"lp"):Object(h.A)(be,Z+"lp")}},e.next=52,t.removeLiqImBalanceBUSD(te,s,x,v,[["".concat($,"/updateCurrencyData")]]);case 52:e.sent,e.next=58;break;case 55:e.prev=55,e.t0=e.catch(0),console.log("removeLiqImBalance",e.t0);case 58:case"end":return e.stop()}}),e,null,[[0,55]])})));return function(t,a){return e.apply(this,arguments)}}(),jt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(a,n){var c,s,o,i,u,l,b,j,p,d,O,f,x,v;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Ke){e.next=25;break}return e.next=4,gt(n,a,Oe);case 4:if(c=e.sent){e.next=7;break}return e.abrupt("return");case 7:if(s=c.userLpBalance,o=c.userLpAllowanceUsdcSwap,i=c.minAmounts,u=Object(h.fb)(Oe).div(100).times(s)._toIntegerDown(),!Ne||!Object(h.a)(o).lt(u._toIntegerDown())){e.next=18;break}return e.next=12,t.approveToken(ne,ae,{title:"deposit.approve_token",obj:{value:re},continuous:!0},[["".concat(Y,"/getUserLp")]]);case 12:if(!e.sent){e.next=17;break}Pe(!1),e.next=18;break;case 17:return e.abrupt("return");case 18:return l={title:"actions.remove",obj:{detail:ee?Object(N.a)(st,Q):Object(h.A)(st,Q)}},b=u._toHex(),e.next=22,t.removeLiquidityBUSD2USD(ae,b,i,l,[["".concat(Y,"/updateCurrencyData")]]);case 22:e.sent,e.next=46;break;case 25:return e.next=27,vt(n,a,Oe);case 27:if(j=e.sent){e.next=30;break}return e.abrupt("return");case 30:if(p=j.userLpBalance,d=j.userLpAllowance,O=j.minAmounts,f=Object(h.fb)(Oe).div(100).times(p)._toIntegerDown(),!Ne||!Object(h.a)(d).lt(f._toIntegerDown())){e.next=41;break}return e.next=35,t.approveToken(ne,te,{title:"deposit.approve_token",obj:{value:se},continuous:!0},[["".concat($,"/getUserLp")]]);case 35:if(!e.sent){e.next=40;break}Pe(!1),e.next=41;break;case 40:return e.abrupt("return");case 41:return x={title:"actions.remove",obj:{detail:ee?Object(N.a)(be,Z+"lp"):Object(h.A)(be,Z+"lp")}},v=f._toHex(),e.next=45,t.removeLiquidityBUSD(te,v,O,x,[["".concat($,"/updateCurrencyData")]]);case 45:e.sent;case 46:e.next=51;break;case 48:e.prev=48,e.t0=e.catch(0),console.log(e.t0);case 51:case"end":return e.stop()}}),e,null,[[0,48]])})));return function(t,a){return e.apply(this,arguments)}}(),pt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(a,n,c){var s,o,i,u,l,b,j,p,d,O,f,x,v,g,w,k,_,y,S,P,C,L,D,I,A,U,T,B,V,K,E,M,R,G,z,X,ce,oe;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!Ke){e.next=37;break}return e.next=4,Object(m.rb)(J,n,a,"2Pool_2"===W?W:"2poollp",Z);case 4:if((s=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:if(o=s.balances3pool,i=s.balancesUsdc,u=s.sun3LpBalance,l=s.sun3TotalSupply,b=s.usdcLpTotalSupply,j=s.userLpAllowance,p=s.userUsdcLpBalance,xt({balances3pool:o,balancesUsdc:i,sun3LpBalance:u,sun3TotalSupply:l,usdcLpTotalSupply:b,userLpAllowance:j,userUsdcLpBalance:p,coins:a}),d=Object(h.fb)(Oe).div(100).times(p)._toIntegerDown(),!Ne||!Object(h.a)(j).lt(d._toIntegerDown())){e.next=19;break}return e.next=13,t.approveToken(ne,ae,{title:"deposit.approve_token",obj:{value:re},continuous:!0},[["".concat(Y,"/getUserLp")]]);case 13:if(!e.sent){e.next=18;break}Pe(!1),e.next=19;break;case 18:return e.abrupt("return");case 19:for(x in O=d._toHex(),f=!1,Re)!0===Re[x]&&(f=q[x].index);return e.next=24,Object(m.r)(O,f,ae);case 24:if((v=e.sent).success){e.next=27;break}return e.abrupt("return");case 27:return g=v.value,w=a.length,k=g.times(Object(h.a)(1).minus(Object(h.a)(F).times(w).div(4*(w-1)).div(1e10))),_=Object(h.a)(100).div(Object(h.a)(100).plus(c)),y=k.times(_)._toIntegerDown()._toHex(),S={title:"actions.remove",obj:{detail:ee?Object(N.a)(st,Q):Object(h.A)(st,Q)}},e.next=35,t.removeLiqOneCoinBUSD2USD(ae,O,f,y,S,[["".concat(Y,"/updateCurrencyData")]]);case 35:return e.sent,e.abrupt("return");case 37:return e.next=39,Object(m.rb)(J,n,a,"2Pool_2"===W?W:"2poollp",Z);case 39:if((P=e.sent).success){e.next=42;break}return e.abrupt("return");case 42:if(C=P.balances3pool,L=P.balancesUsdc,D=P.sun3LpBalance,I=P.sun3TotalSupply,A=P.usdcLpTotalSupply,U=P.userLpAllowance,T=P.userUsdcLpBalance,ft({balances3pool:C,balancesUsdc:L,sun3LpBalance:D,sun3TotalSupply:I,usdcLpTotalSupply:A,userLpAllowance:U,userUsdcLpBalance:T,coins:a}),B=Object(h.fb)(Oe).div(100).times(T)._toIntegerDown(),!Ne||!Object(h.a)(U).lt(B._toIntegerDown())){e.next=54;break}return e.next=48,t.approveToken(ne,te,{title:"deposit.approve_token",obj:{value:se},continuous:!0},[["".concat($,"/getUserLp")]]);case 48:if(!e.sent){e.next=53;break}Pe(!1),e.next=54;break;case 53:return e.abrupt("return");case 54:for(E in V=B._toHex(),K=!1,Re)!0===Re[E]&&(K=H[E].index);return e.next=59,Object(m.q)(V,K,te);case 59:if((M=e.sent).success){e.next=62;break}return e.abrupt("return");case 62:return R=M.value,G=a.length,z=R.times(Object(h.a)(1).minus(Object(h.a)(F).times(G).div(4*(G-1)).div(1e10))),X=Object(h.a)(100).div(Object(h.a)(100).plus(c)),ce=z.times(X)._toIntegerDown()._toHex(),oe={title:"actions.remove",obj:{detail:ee?Object(N.a)(be,Z+"lp"):Object(h.A)(be,Z+"lp")}},e.next=70,t.removeLiqOneCoinBUSD(te,V,K,ce,oe,[["".concat($,"/updateCurrencyData")]]);case 70:e.sent,e.next=76;break;case 73:e.prev=73,e.t0=e.catch(0),console.log(e.t0);case 76:case"end":return e.stop()}}),e,null,[[0,73]])})));return function(t,a,n){return e.apply(this,arguments)}}(),dt=function(){for(var e in Re)if(Re[e])return e;return!1},Ot=function(){var t=Object(s.a)(Object(r.a)().mark((function t(n){var s,o,i,u;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a.defaultAccount){t.next=3;break}return t.abrupt("return");case 3:if(!Ye&&$e(!0),Ge){t.next=8;break}if(!lt(n)){t.next=8;break}return t.abrupt("return");case 8:if(!Ge){t.next=10;break}return t.abrupt("return");case 10:if(s=a.defaultAccount,o=[],Ke?R.map((function(e){o.push(Object(c.a)(Object(c.a)({},q[e]),{},{inputValue:Object(h.fb)(n[e]).times(q[e].precision)}))})):M.map((function(e){o.push(Object(c.a)(Object(c.a)({},H[e]),{},{inputValue:Object(h.fb)(n[e]).times(H[e].precision)}))})),i=o.sort((function(e,t){return e.index-t.index})),u=ge===K?ke:ge,e.onSubmit&&e.onSubmit(),!De){t.next=20;break}return t.next=19,pt(i,s,u);case 19:return t.abrupt("return",t.sent);case 20:if(Oe===V){t.next=24;break}return t.next=23,jt(i,s);case 23:return t.abrupt("return",t.sent);case 24:return t.next=26,bt(i,u);case 26:return t.abrupt("return",t.sent);case 29:t.prev=29,t.t0=t.catch(0),console.log("\u63d0\u73b0\u5931\u8d25",t.t0);case 32:case"end":return t.stop()}}),t,null,[[0,29]])})));return function(e){return t.apply(this,arguments)}}(),ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.balances3pool,a=e.balancesUsdc,n=e.sun3LpBalance,c=e.sun3TotalSupply,r=e.usdcLpTotalSupply,s=(e.userLpAllowance,e.userUsdcLpBalance),o=e.coins;try{var i=[],u=Object(h.a)(s).div(r),l=Object(h.a)(u).times(a),b=Object(h.a)(u).times(n).div(c);return o.map((function(e){var a=e.index,n=e.precision,c=(e.symbol,e.id),r=Object(h.a)(0);r=c===Z?l.div(n):b.times(t[c]).div(n),i[a]=r||Object(h.a)(0)})),i}catch(j){return console.log(j),[]}},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.balances3pool,e.balancesUsdc),a=e.sun3LpBalance,n=(e.sun3TotalSupply,e.usdcLpTotalSupply),c=(e.userLpAllowance,e.userUsdcLpBalance),r=e.coins;try{var s=[],o=Object(h.a)(c).div(n),i=Object(h.a)(o).times(t),u=Object(h.a)(o).times(a);return r.map((function(e){var t=e.index,a=e.precision,n=(e.symbol,e.id),c=Object(h.a)(0);c=n===Z?i.div(a):u.div(a),s[t]=c||Object(h.a)(0)})),s}catch(l){return console.log(l),[]}},vt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a,n){var c,s,o,i,u,l,b,j,p,d,O,f,x=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=x.length>3&&void 0!==x[3]&&x[3],e.prev=1,e.next=4,Object(m.rb)(J,t,a,"2Pool_2"===W?W:"2poollp",Z);case 4:if((s=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:return o=s.balances3pool,i=s.balancesUsdc,u=s.sun3LpBalance,l=s.sun3TotalSupply,b=s.usdcLpTotalSupply,j=s.userLpAllowance,p=s.userUsdcLpBalance,d=ft({balances3pool:o,balancesUsdc:i,sun3LpBalance:u,sun3TotalSupply:l,usdcLpTotalSupply:b,userLpAllowance:j,userUsdcLpBalance:p,coins:a}),O=[],f={},a.map((function(e){var t=e.index,a=e.id,r=e.decimal,s=(e.precision,Object(h.fb)(n).div(100).times(d[t]));c||(s=Object(h.a)(.98).times(s)),O[t]=s._toIntegerDown()._toHex(),f[a]=Object(h.c)(s._toFixed(r,1))})),e.abrupt("return",{balances:d,userLpAllowance:j,minAmounts:O,amountsStr:f,userLpBalance:p});case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,a,n){return e.apply(this,arguments)}}(),gt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a,n){var c,s,o,i,u,l,b,j,p,d,O,f,x,v=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=v.length>3&&void 0!==v[3]&&v[3],e.prev=1,e.next=4,Object(m.rb)(J,t,a,"2Pool_2"===W?W:"2poollp",Z);case 4:if((s=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:return o=s.balances3pool,i=s.balancesUsdc,u=s.sun3LpBalance,l=s.sun3TotalSupply,b=s.usdcLpTotalSupply,j=s.userLpAllowance,p=s.userUsdcLpBalance,d=s.userLpAllowanceUsdcSwap,O=xt({balances3pool:o,balancesUsdc:i,sun3LpBalance:u,sun3TotalSupply:l,usdcLpTotalSupply:b,userLpAllowance:j,userUsdcLpBalance:p,coins:a}),f=[],x={},a.map((function(e){var t=e.index,a=e.id,r=e.decimal,s=(e.precision,Object(h.fb)(n).div(100).times(O[t]));c||(s=Object(h.a)(.98).times(s)),f[t]=s._toIntegerDown()._toHex(),x[a]=s._toFixed(r,1)})),e.abrupt("return",{balances:O,userLpAllowance:j,minAmounts:f,amountsStr:x,userLpBalance:p,userLpAllowanceUsdcSwap:d});case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,a,n){return e.apply(this,arguments)}}(),mt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,o,i,u,l,b,j,p;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.getUserLp();case 3:return n=z.swapBalanceInfo.userUsdcLpBalance,c=H[t],s=c.precision,o=c.decimal,i=Object(h.fb)(a).div(100).times(n)._toIntegerDown(),u=H[t].index,l=i._toHex(),e.next=10,Object(m.q)(l,u,te);case 10:if((b=e.sent).success){e.next=13;break}return e.abrupt("return",!1);case 13:return j=b.value,p=Object(h.a)(j).div(s)._toFixed(o,1),e.abrupt("return",p);case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,a){return e.apply(this,arguments)}}(),ht=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,o,i,u,l,b,j,p;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.getUserLp();case 3:return n=X.swapBalanceInfo.userUsdcLpBalance,c=q[t],s=c.precision,o=c.decimal,i=Object(h.fb)(a).div(100).times(n)._toIntegerDown(),u=q[t].index,l=i._toHex(),e.next=10,Object(m.r)(l,u,ae);case 10:if((b=e.sent).success){e.next=13;break}return e.abrupt("return",!1);case 13:return j=b.value,p=Object(h.a)(j).div(s)._toFixed(o,1),e.abrupt("return",p);case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,a){return e.apply(this,arguments)}}(),wt=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(X.getSwapBalance(),X.getVirtualPriceBUSD(ae),X.getVolData()):(z.getSwapBalance(),z.getVirtualPriceBUSD(ae),z.getVolData())},kt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(){var t,n,c=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.length>0&&void 0!==c[0]&&c[0]){e.next=9;break}return e.next=4,Promise.all([z.getUserLp(),z.getBalanceInfo()]);case 4:t={},M.map((function(e){var a=z.poolData[e],n=a.userSwapBalance,c=a.decimal;t[e]=Object(h.c)(Object(h.a)(n)._toFixed(c,1))})),je(t),e.next=14;break;case 9:return e.next=11,Promise.all([X.getSwapBalance(),X.getUserLp(),X.getBalanceInfo()]);case 11:n={},R.map((function(e){var t=X.poolData[e],a=t.userSwapBalance,c=t.decimal;n[e]=Object(h.c)(Object(h.a)(a)._toFixed(c,1))})),ot(n);case 14:!Ye&&$e(!0),it||(it=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wt(!1),e.next=3,z.getUserLp();case 3:case"end":return e.stop()}}),e)}))),a.defaultIntervalSec));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){!ut&&Ke&&(ut=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wt(!0),e.next=3,X.getUserLp();case 3:case"end":return e.stop()}}),e)}))),a.defaultIntervalSec))}),[Ke]),Object(i.useEffect)((function(){return z.initPage(g),kt(),wt(),function(){clearInterval(it),clearInterval(ut)}}),[]);var _t=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var s,o,i,u,l,b,j,p;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ye&&$e(!0),s=Oe,o={},i={},u={},!Ke){e.next=22;break}if(!t){e.next=18;break}for(l in Ie(!0),st)l!==a&&(o[l]=!1,u[l]=0);return Je(Object(c.a)(Object(c.a)(Object(c.a)({},st),o),{},Object(n.a)({},a,t))),(Oe===V||Object(h.fb)(Oe).lte(0))&&fe(s="100.00"),Object(h.fb)(s).gt(100)&&(s=100),e.next=14,ht(a,s);case 14:(b=e.sent)&&ot(Object(c.a)(Object(c.a)(Object(c.a)({},st),u),{},Object(n.a)({},a,Object(h.c)(b)))),e.next=21;break;case 18:fe(V),Ie(!1),Je(Object(c.a)(Object(c.a)({},Re),{},Object(n.a)({},a,t)));case 21:return e.abrupt("return");case 22:if(!t){e.next=34;break}for(j in Ie(!0),Re)j!==a&&(o[j]=!1,i[j]=0);return Je(Object(c.a)(Object(c.a)(Object(c.a)({},Re),o),{},Object(n.a)({},a,t))),(Oe===V||Object(h.fb)(Oe).lte(0))&&fe(s="100.00"),Object(h.fb)(s).gt(100)&&(s=100),e.next=30,mt(a,s);case 30:(p=e.sent)&&je(Object(c.a)(Object(c.a)(Object(c.a)({},be),i),{},Object(n.a)({},a,Object(h.c)(p)))),e.next=37;break;case 34:fe(V),Ie(!1),Je(Object(c.a)(Object(c.a)({},Re),{},Object(n.a)({},a,t)));case 37:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),yt=function(e){fe("100"),e?(nt(R),clearInterval(it)):(nt(M),clearInterval(ut)),Ee(e),Ie(!1),Je(oe(!1)),wt(e),kt(e)},St=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var s,o,i,u,l,b,j,p,d,O,f,x;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ye&&$e(!0),!Ke){e.next=11;break}for(b in s=q[a].decimal,o=Object(h.V)((""+t.target.value).replace(/,/g,""),s),i=o.valid,u=o.str,i&&ot(Object(c.a)(Object(c.a)({},st),{},Object(n.a)({},a,Object(h.c)(u)))),fe(V),Ie(!1),l={},Re)l[b]=!1;return Je(l),e.abrupt("return");case 11:for(x in j=H[a].decimal,p=Object(h.V)((""+t.target.value).replace(/,/g,""),j),d=p.valid,O=p.str,d&&je(Object(c.a)(Object(c.a)({},be),{},Object(n.a)({},a,Object(h.c)(O)))),fe(V),Ie(!1),f={},Re)f[x]=!1;Je(f);case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Nt=function(){var e={},t={};M.map((function(a){e[a]=0,t[0]=!1})),je(e),Je(Re),fe(0)},Pt=function(){var e={},t={};R.map((function(a){e[a]=0,t[0]=!1})),ot(e),Je(Re),fe(0)},Ct=function(){var e={};M.map((function(t){e[t]=0})),je(e)},Lt=function(){var e={};R.map((function(t){e[t]=0})),ot(e)},Dt=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.calcInclPrice(t,!1,a);case 2:n=e.sent,Be(n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),It=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.calcInclPrice(t,!1,a);case 2:n=e.sent,Be(n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),At=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var s,o,i,u,l,b,j,p,d,O,f,x,v,g,m,w,k,_,y,S,N;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ye&&$e(!0),o=t.target.value,i=o.split("."),(null===(s=i[1])||void 0===s?void 0:s.length)>2&&(o="".concat(i[0]+"."+i[1].substr(0,2))),!Object(h.a)(o).gt(100)){e.next=6;break}return e.abrupt("return");case 6:if(u=Object(h.V)(o,10),l=u.valid,b=u.str,Oe!==V){e.next=9;break}return e.abrupt("return",Ke?Pt():Nt());case 9:if(""!==o){e.next=12;break}return fe(""),e.abrupt("return",Ke?Lt():Ct());case 12:if(!l){e.next=50;break}if(fe(b),!(j=Object(h.a)(b).gt(100)?Object(h.a)(100):Object(h.a)(b)).isNaN()){e.next=17;break}return e.abrupt("return");case 17:if(a.defaultAccount){e.next=19;break}return e.abrupt("return");case 19:if(p=a.defaultAccount,d=dt(),!Ke){e.next=37;break}if(!d){e.next=27;break}return e.next=25,ht(d,j);case 25:return O=e.sent,e.abrupt("return",O&&ot(Object(c.a)(Object(c.a)({},st),{},Object(n.a)({},d,Object(h.c)(O)))));case 27:if(b===V){e.next=36;break}return f=[],R.map((function(e){f.push(Object(c.a)({},q[e]))})),x=f.sort((function(e,t){return e.index-t.index})),e.next=33,gt(p,x,b,!0);case 33:v=e.sent,g=v.amountsStr,m=void 0===g?{}:g,v&&ot(m);case 36:return e.abrupt("return");case 37:if(!d){e.next=42;break}return e.next=40,mt(d,j);case 40:return w=e.sent,e.abrupt("return",w&&je(Object(c.a)(Object(c.a)({},be),{},Object(n.a)({},d,Object(h.c)(w)))));case 42:if(b===V){e.next=50;break}return k=[],M.map((function(e){k.push(Object(c.a)({},H[e]))})),_=k.sort((function(e,t){return e.index-t.index})),e.next=48,vt(p,_,b,!0);case 48:y=e.sent,o===t.target.value&&(S=y.amountsStr,N=void 0===S?{}:S,y&&je(N));case 50:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ut=function(e){!Ye&&$e(!0),me(e),e!==V&&_e("")},Tt=function(e){var t=Object(h.V)(e,10),a=t.valid,n=t.str;if(a)if(""===n)_e("");else if(Object(h.a)(n).lte(100)){var c,r=n,s=n.split(".");(null===(c=s[1])||void 0===c?void 0:c.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),_e(r)}},Bt=function(e){return dt()||Oe===V?Object(U.jsx)("div",{className:"flex start mt-20",children:Object(U.jsx)(L.a,{slippage:e,customSlippage:ke,CUSTOM_SLIPPAGE:K,onChangeSlippage:Ut,onChangeCustomSlippage:Tt})}):Object(U.jsx)(U.Fragment,{})};return Object(U.jsx)(f.a,{children:function(){return Object(U.jsxs)(b.a,{gutter:[{xs:8,sm:16,md:32},20],children:[Object(U.jsxs)(j.a,{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:15},children:[Object(U.jsx)(D.a,{list:T,activeKey:E[0]}),Object(U.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(k.a,{routeName:"usdc/withdraw",mountedActions:kt,instantActions:wt}),Object(U.jsx)(_.a,{title:l.a.get("buysell.usdc_pool")+" "+l.a.get("banner.title_withdraw"),desc:l.a.get("banner.desc_withdraw")}),Object(U.jsx)(y.a,{})]}):null,a.isConnected?Object(U.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(U.jsxs)("div",{className:"add-liq withdraw-liq",children:[Object(U.jsxs)("div",{className:"flex",children:[l.a.get("withdraw.share_of_liq"),Object(U.jsx)(A.a,{className:"flex-1 ml-20",showMax:!1,placeholder:"100.00",value:Oe,onChange:At})]}),Object(U.jsxs)("fieldset",{className:"currencies mt-35",children:[Object(U.jsx)("legend",{children:l.a.get("deposit.currencies")}),Object(U.jsx)("ul",{children:at.map((function(e){var t=(Ke?q[e]:H[e]).symbol,a=void 0===t?"":t;return Object(U.jsxs)("li",{children:[Object(U.jsx)("div",{className:"cur-label",children:Object(U.jsxs)("span",{className:"icon",children:[e===W?Object(U.jsx)("img",{src:v.a[Q]?v.a[Q]:O.default,alt:"",className:"token-logo"}):Object(U.jsx)("img",{src:v.a[e]?v.a[e]:O.default,alt:"",className:"token-logo"}),a]})}),Object(U.jsx)(A.a,{showMax:!1,value:Ke?st[e]:be[e],onChange:function(t){St(t,e)}})]},e)}))})]}),Object(h.ab)(Te),Object(U.jsxs)("fieldset",{children:[Object(U.jsxs)("legend",{className:"flex aic jcs pt20",children:[Object(U.jsx)("span",{className:"mr-10",children:l.a.get("withdraw.withdraw_text")}),Object(U.jsx)(p.a,{title:l.a.get("withdraw.tip"),children:Object(U.jsx)(d.a,{})})]}),Object(U.jsxs)("div",{className:"withdraw-one mt-10",children:[at.map((function(e){var t=(Ke?q[e]:H[e]).symbol,a=void 0===t?"":t,n=e===W?v.a[Q]?v.a[Q]:O.default:v.a[e]?v.a[e]:O.default;return Object(U.jsx)(P.a,{id:e,checked:Re[e],tokenLogo:n,symbol:a,onChange:_t})})),Object(U.jsx)(P.a,{checked:Ke,symbol:l.a.get("withdraw.".concat(ee?"as_2Pool_2_LP":"as_2usd_LP")),onChange:yt})]})]}),Bt(ge),Ge?Object(U.jsx)(C.a,{styleName:"mt-40",type:"single",disabled:!0,info:l.a.get("withdraw.action")}):Object(U.jsx)(C.a,{styleName:"mt-40",type:"single",info:l.a.get("withdraw.action"),onClick:function(){return Ot(Ke?st:be)}}),Ge&&Object(U.jsx)("div",{className:"error-content mt-12",children:Object(U.jsx)("div",{className:"error-tip",children:Ge})})]})}):Object(U.jsx)(I.a,{})]})]}),Object(U.jsx)(j.a,{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:9},children:Object(U.jsx)(w.a,{type:Ke?"2usdlp":Z,className:a.isConnected?null:"window-for-tabs-pane",curveConfig:u})})]})}})}},1783:function(e,t,a){"use strict";a.r(t);var n=a(14),c=a(0),r=a(2),s=a(4),o=a(1775),i=a(1777),u=a(1797),l=a(80),b=a(3),j=a.n(b),p=a(62),d=a(20),O=a.n(d),f=(a(918),a(921),a(6),a(136)),x=a(965),v=a(899),g=a(999),m=a(944),h=a(1e3),w=a(1001),k=a(923),_=a(61),y=a(42),S=a(910),N=a(903),P=a(900),C=a(904),L=a(10),D={curveSymbol:"usdd",curveLPSymbol:"usdd2pool",busd2PoolKeys:Object(y.c)("2PoolKeys"),busd2PoolPools:Object(y.c)("2PoolPools"),busd2PoolIndex:Object(y.c)("2PoolIndex"),busd2PoolContracts:Object(y.c)("2PoolContracts"),busdusdPoolKeys:Object(y.c)("usdPoolKeys"),busdusdPools:Object(y.c)("usdPools"),busdUsdPoolIndex:Object(y.c)("UsdPoolIndex"),currencyBUSDKeys:Object(y.g)()},I=D.busd2PoolContracts,A=Object(k.a)({childPage:_.h.liquidity_busd2pool}),U=A.tabChangeLog,T=A.tabSubmitLog,B=function(e){var t=e.onSubmit,a=e.curveConfig,n=e.pageList,c=e.tabPaneKey,r=e.isConnected;return Object(L.jsxs)(o.a,Object(s.a)(Object(s.a)({},N.a.row),{},{children:[Object(L.jsxs)(i.a,Object(s.a)(Object(s.a)({},N.a.colLeft),{},{children:[Object(L.jsx)(P.a,{list:n,activeKey:c[0]}),r?Object(L.jsx)("div",{className:"window-for-tabs-pane",children:Object(L.jsx)(g.a,{curveConfig:a,onSubmit:t})}):Object(L.jsx)(C.a,{})]})),Object(L.jsx)(i.a,Object(s.a)(Object(s.a)({},N.a.colRight),{},{children:Object(L.jsx)(m.a,{curveConfig:a})}))]}))},F={1:{title:O.a.get("banner.title_deposit"),content:O.a.get("banner.desc_deposit"),tabTitle:O.a.get("header.deposit")},2:{title:O.a.get("banner.title_withdraw"),content:O.a.get("banner.desc_withdraw"),tabTitle:O.a.get("header.withdraw")},3:{title:O.a.get("banner.title_1"),content:O.a.get("banner.desc_1"),tabTitle:O.a.get("header.swap")}};t.default=function(){var e=Object(p.h)().pathname,t=Object(x.usePoolTab)(),a=t.title,o=t.tabKey,i=Object(l.d)((function(){return f.a.busdPool})),d=Object(l.d)((function(){return f.a.usd2Pool})),g=j.a.useState(o),m=Object(n.a)(g,2),k=m[0],_=m[1],y=function(){var e=null,t=Object(l.d)((function(){return f.a.busdPool})),a=Object(l.d)((function(){return f.a.usd2Pool})),n=Object(l.d)((function(){return f.a.network})),s=function(){var e=Object(r.a)(Object(c.a)().mark((function e(n){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n||(t.initPage(),a.initPage()),t.getSwapBalance(),t.getVirtualPriceBUSD(I.usdcSwap),t.getVolData();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var a=Object(r.a)(Object(c.a)().mark((function a(){return Object(c.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.getUserLp(),a.next=3,t.getBalanceInfo(I.usdcSwap);case 3:return a.next=5,t.getBalanceInfo(I.USDCDepositer);case 5:e||(e=setInterval(Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),t.getUserLp(),e.next=4,t.getBalanceInfo(I.usdcSwap);case 4:return e.next=6,t.getBalanceInfo(I.USDCDepositer);case 6:case"end":return e.stop()}}),e)}))),n.defaultIntervalSec));case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return j.a.useEffect((function(){return function(){clearInterval(e)}}),[]),{mountedActions:o,instantActions:s}}(),P=y.mountedActions,C=y.instantActions,A=window.localStorage.getItem("lang");Object(b.useEffect)((function(){return console.log("pathname usdd",e),i.initPage(),d.initPage(),function(){i.initPage(),d.initPage()}}),[e]);var V=Object(b.useCallback)((function(e){var t=e.value;_(t),U(t)}),[]),K=function(){var e=window.localStorage.getItem("lang")||O.a.options.currentLocale,t=window.location.origin+window.location.pathname;window.location.href=t+"?lang=".concat(e,"#/sunCurve")},E=Object(b.useMemo)((function(){return{shouldScroll:!0,navRightMoreShow:!0,navRightMoreClick:K}}),[]),H=Object(b.useMemo)((function(){return N.b.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{handler:V})}))}),[V]),q=Object(l.d)((function(){return f.a.network}));return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(v.a,{mountedActions:P,instantActions:C,subNavProps:E}),Object(L.jsxs)("div",{className:"main-page-content",children:[Object(L.jsx)(S.a,{title:"".concat(a).concat("en-US"===A?" ":"").concat(O.a.get("buysell.Pool")).concat("en-US"===A?" ":"").concat(F[k[0]].title),subTitle:F[k[0]].content}),Object(L.jsx)("div",{className:"pool-tabs",children:Object(L.jsxs)(u.a,{activeKey:k[0],centered:!0,onChange:V,renderTabBar:function(){return null},children:[Object(L.jsx)(u.a.TabPane,{tab:Object(x.renderTab)("1"),children:Object(L.jsx)(h.a,{curveConfig:D,onSubmit:function(){return T("1")},pageList:H,tabPaneKey:k})},"1"),Object(L.jsx)(u.a.TabPane,{tab:Object(x.renderTab)("2"),children:Object(L.jsx)(w.a,{curveConfig:D,onSubmit:function(){return T("2")},pageList:H,tabPaneKey:k})},"2"),Object(L.jsx)(u.a.TabPane,{tab:Object(x.renderTab)("3"),children:Object(L.jsx)(B,{curveConfig:D,onSubmit:function(e){return T("3",{event_label:e,txid:e})},pageList:H,tabPaneKey:k,isConnected:q.isConnected})},"3")]})})]})]})}},900:function(e,t,a){"use strict";a(913);var n=a(26),c=a.n(n),r=a(10);t.a=function(e){return Object(r.jsx)("div",{className:"tempalte-pageTab-nav",children:e.list.map((function(t){return Object(r.jsx)("div",{className:c()("tempalte-pageTab-nav-item",{"tempalte-pageTab-nav-active":e.activeKey===t.value}),onClick:function(){return t.handler(t)},children:t.label},t.value)}))})}},903:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var n=a(20),c=a.n(n),r={row:{gutter:[{xs:8,sm:16,md:32},20]},colLeft:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:15}},colRight:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:9}}},s={1:{title:c.a.get("banner.title_deposit"),content:c.a.get("banner.desc_deposit"),tabTitle:c.a.get("header.deposit")},2:{title:c.a.get("banner.title_withdraw"),content:c.a.get("banner.desc_withdraw"),tabTitle:c.a.get("header.withdraw")},3:{title:c.a.get("banner.title_1"),content:c.a.get("banner.desc_1"),tabTitle:c.a.get("header.swap")}},o=[{label:s[1].tabTitle,value:"1"},{label:s[2].tabTitle,value:"2"},{label:s[3].tabTitle,value:"3"}]},905:function(e,t,a){"use strict";var n=a(5),c=a(26),r=a.n(c),s=a(927),o=a(10);t.a=function(e){var t,a=e.checked,c=e.tokenLogo,i=e.symbol,u=void 0===i?"":i,l=e.onChange,b=e.id,j=void 0===b?"":b;return Object(o.jsxs)("div",{className:r()((t={},Object(n.a)(t,s.sun_check_button,!0),Object(n.a)(t,s.sun_check_active_button,a),t)),onClick:function(){l&&l(!a,j)},children:[c&&Object(o.jsx)("img",{src:c,alt:"",className:"token-logo"}),Object(o.jsx)("span",{children:u})]})}},906:function(e,t,a){"use strict";var n=a(20),c=a.n(n),r=a(26),s=a.n(r),o=a(1758),i=a(916),u=a(10),l=[{key:.2,label:"0.2%"},{key:3,label:"3%"}],b=[{key:.005,label:"0.5%"},{key:.01,label:"1%"}];t.a=function(e){var t=e.slippage,a=e.customSlippage,n=e.CUSTOM_SLIPPAGE,r=e.type,j="withdraw"===(void 0===r?"withdraw":r)?l:b;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"mr-10",children:c.a.get("withdraw.slippage")}),Object(u.jsxs)("div",{className:s()(i.setting_btns),children:[Object(u.jsx)("div",{className:i.setting_btn_wrap,children:j.map((function(a){return Object(u.jsx)("button",{className:s()(t===a.key?i.active:""),onClick:function(){return t=a.key,void(e.onChangeSlippage&&e.onChangeSlippage(t));var t},children:a.label})}))}),Object(u.jsx)(o.a,{className:s()(i.setting_input,i.module_important,["ml-20"]),suffix:"%",value:a,onFocus:function(){a||e.onChangeSlippage&&e.onChangeSlippage(n)},onBlur:function(){a||e.onChangeSlippage&&e.onChangeSlippage(String(j[0].key))},onChange:function(t){e.onChangeCustomSlippage&&e.onChangeCustomSlippage(t.target.value)}})]})]})}},910:function(e,t,a){"use strict";var n=a(5),c=a(3),r=a(26),s=a.n(r),o=a(914),i=a(10),u=function(e){var t,a=e.title,c=e.subTitle,r=e.isRevert,u="string"===typeof a;return Object(i.jsxs)("div",{className:o.page_title_wrap,children:[r&&c&&Object(i.jsx)("div",{className:o.page_title_sub,children:c}),a&&Object(i.jsx)("div",{className:s()((t={},Object(n.a)(t,o.page_title,!0),Object(n.a)(t,o.page_title_revert,r),Object(n.a)(t,o.page_title_ele,!u),t)),children:u?a.split("").map((function(e,t){return Object(i.jsx)("span",{className:o.page_title_ele,children:e},t)})):a}),c&&!r&&Object(i.jsx)("div",{className:o.page_title_sub,children:c})]})};t.a=Object(c.memo)(u)},913:function(e,t,a){},914:function(e,t,a){e.exports={page_title:"style_page_title__dfZPh",page_title_wrap:"style_page_title_wrap__7dtV_",page_title_ele:"style_page_title_ele__Tktf1",page_title_sub:"style_page_title_sub__1IUsF",page_title_revert:"style_page_title_revert__18HMS"}},916:function(e,t,a){e.exports={setting_wrap:"style_setting_wrap__L7ld9",setting_label:"style_setting_label__3qQrG",setting_btns:"style_setting_btns__zH_61",setting_btn_wrap:"style_setting_btn_wrap__uxT1B",setting_input:"style_setting_input__kvJzs",active:"style_active__10VTC",module_important:"style_module_important__PuwNO",info_text:"style_info_text__3K73H",setting_minutes:"style_setting_minutes__1mIXw"}},918:function(e,t,a){},919:function(e,t,a){"use strict";a(3);var n=a(20),c=a.n(n),r=a(80),s=a(6),o=a(136),i=a(1),u=(a(920),a(934)),l=a(931),b=a(10),j=s.a.Fee,p=s.a.A,d=s.a.ADMIN_FEE,O=s.a.poolKeys;s.a.pools;t.a=function(e){var t=Object(r.d)((function(){return o.a.pool})),a=Object(r.d)((function(){return o.a.network})),n=function(e,t){var a=Object(i.a)(e).times(t).div(1e18);return a.isNaN()?"--":Object(i.u)(a,2)},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var a=Object(i.a)(0);for(var n in e){var c=e[n],r=c.userSwapBalance,s=c.priceKey,o=t?t[s]:"--";a=a.plus(Object(i.a)(r).times(o))}return Object(i.u)(a)}catch(u){return console.log(u),"--"}},x=O.map((function(e){return t.poolData[e]})).filter((function(e){return e})),v=t.volData?t.volData["3pvol24Hours"]:"",g="Old 3Pool ".concat(c.a.get("pool.pool2_contract")),m="3SUN ".concat(c.a.get("pool.token_contract2"));return Object(b.jsx)(r.a,{children:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(u.a,{poolTokens:x,totalSwapBalance:t.totalSwapBalance,adminFee:d,fee:j,virtualPrice:t.virtualPrice,dailyVol:v,poolContract:s.a.stablePool,poolName:g,lpTokenAddress:s.a.stableLp,lpTokenName:m,aValue:p}),a.isConnected&&Object(i.a)(t.sharePer).gt(0)&&Object(b.jsx)(l.a,{sharePer:t.sharePer,usdBalance:f(t.poolData,t.volData),avgUsdBalance:n(t.userLpBalance,t.virtualPrice),userTotalBalance:t.userTotalBalance,myPoolTokens:x})]})}})}},921:function(e,t,a){},922:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAA/JJREFUWEfVWctqFUEQPeX7/X5tXIkIouBa/AkxgkYXgrhwIQiufaCuxYXoQsSNGkHFnxDXgiKIuHJlTIwmMYmJ8ci5Voe+k3tneuaOIVMwhCTT3aerTlWdnjb0YCQNwHIAKwEsA7AEwFL/qZn/AJj1n78B/AIwY2asuqwWLG0kBXCVPwJZxrSJKT1mpg2UslKASa4AsMG9GhaSBwVgJuNR/T/2uCKhTSoCwTRm1MymU1EnASapcK/3BUOoJ9xLWjTZSAbgayLqaMNjZiba5FohYA//ZgB6V9z7qcfMFNrKRlLeX+tPmHukiCa5gElqQlFAJi8ofKJAbUZSFNEaootMa8gpHa0rYJIbAShssnE9vWR33g692qwDoEc2YWY/Oo3pCDjj2e9mNlmbS3MmIrkawKY8T88D7Jzd4oMWDGzYRwb0tyyn2wB7NdjmCSYKjC2EZ7NrkFRFEj2U5ENx9cgCVjUQ+ZVg8m6pjkTyMIA9AAZSSlQ3ZzinRY0WFjMbCe/OAfamsNV39bVMNSCp5LwN4JxPfMPMrvQSHa8e2z3aw6G5xIBFBRX1UlQgeRDAUwD7I4A9A9ZcETWkP4b0txbgKNHUDOTdpKZA8jyAW1EN1XQDAM7WUVm8ucjLajKtBAyAxReVlCTvkhTXHwA4GnlVxf6CmT3shQo5CdiqzeYE3+G7UEbmagOSRwA8AbA7mvwNgBNm9qFOsB590VR0VdQHBVgKTMk2a2aDBR3pMoCrGcWljnTPtW4VvB/lgLyKRFIOVQsfFuBQ8yRoRnNKzTEAz6sgShhz2swe56wtrSFdMy7AofbmdjWSfQCeJSxe5ZUiwKFlTwmw6CBazGuDHRJAoA9UQZQzJoUSOuFILkwLcOCHylmhgK4ZbNJ0LhlU3mYFeJfX4y+p9TdplRpf8nq8Uy2jkYAbR4mkpPMG0w9gb43R1lTvzCy3XEbSoZV0qWXtFIBHNYMN0x3PAx2J+lZZS20c/xNwn5m9SG0cSa25Bkqolkrd6XAbTCfwa2Z2s0AStLVmKbZk8VOFEiT3uWY+FI3/DKDfzF4VgG0XP66IwpE+SV6WAU3yDIA7rgXC0JeumeeOPjl0CJT9Jy8dcGh9pQR8gWfU/6WZT0bv6ax4yczupmy6q4B30JWOSDmeuQ5AcjTYe9fMb1PAOqbg3fYjkv8zJJ9OyqUOoZ0AkIwB3wdw0cz0ATHJCg+hDrqnY36MxAWL6PDJzF4nofSXko75DlifVZvzISWTgPp1cX+qCmFr1MfACHRzPrd28fTi/qAdgVZTacaVQQS6OZcymdrajGuvbNH3E4C0guhS5WJRF4qTRTdGnZpN4bVXgcBZ8Kvbv7gRNO3rhp7CAAAAAElFTkSuQmCC"},923:function(e,t,a){"use strict";var n=a(4),c=a(61);t.a=function(e){var t=e.childPage,a=["deposit","withdraw","swap"],r=function(e,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a[e-1],i=c.g[r?"".concat(r,"_").concat(o):o];i&&Object(c.a)(Object(n.a)({action:i(t),event_category:t},s))};return{tabChangeLog:function(e){return r(e,"tab")},tabSubmitLog:function(e,t){return r(e,null,t)}}}},927:function(e,t,a){e.exports={sun_check_button:"style_sun_check_button__5diEB",sun_check_active_button:"style_sun_check_active_button__28IzL"}},941:function(e,t,a){"use strict"},944:function(e,t,a){"use strict";var n=a(14),c=a(80),r=a(3),s=a(20),o=a.n(s),i=(a(920),a(6)),u=a(136),l=a(1),b=a(42),j=a(934),p=a(931),d=a(10);t.a=function(e){var t=e.curveConfig,a=e.type,s=t.busd2PoolContracts,O=t.currencyBUSDKeys,f=t.curveSymbol,x=t.curveLPSymbol,v=t.busdusdPoolKeys,g=t.twoPoolUsdLpKey,m=void 0===g?"2poollp":g,h=Object(c.d)((function(){return u.a.network})),w=Object(c.d)((function(){return Object(b.d)({Stores:u.a,poolType:m,baseStoreName:"busdPool"})})),k=Object(c.d)((function(){return Object(b.d)({Stores:u.a,poolType:m,baseStoreName:"usd2Pool"})})),_=Object(r.useState)(w),y=Object(n.a)(_,2),S=y[0],N=y[1];Object(r.useEffect)((function(){N("2usdlp"===a?k:w)}));var P=function(e,t){var a=Object(l.a)(e).times(t).div(1e18);return a.isNaN()?"--":Object(l.u)(a,2)},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var a=Object(l.a)(0);for(var n in e)if(v.includes(n)){var c=e[n],r=c.userSwapBalance,s=c.priceKey,o=t?t[s]:"--";a=a.plus(Object(l.a)(r).times(o))}return Object(l.u)(a)}catch(i){return console.log(i),"--"}},L=window.localStorage.getItem("lang"),D=O.map((function(e){return S.currencyData[e]})).filter((function(e){return e})),I="".concat("2poollp"===m?"Old ":"").concat(f.toUpperCase()," ").concat("en-US"===L?"":"Pool"," ").concat(o.a.get("pool.pool_contract")),A="".concat(f.toUpperCase()," ").concat("2poollp"===m?" 2pool ":" 2Pool_2 "," ").concat(o.a.get("pool.token_contract2")),U=O.map((function(e){return S.currencyData[e]})).filter((function(e){return e})),T=S.volData?S.volData["".concat(f).concat("2Pool_2"===m?"UsdtTusdPool24hourVol":"2UsdPool24hourVol")]:"";return Object(d.jsx)(c.a,{children:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(j.a,{curveLPSymbol:x,poolTokens:D,totalSwapBalance:S.totalSwapBalance,adminFee:S.poolInfo.ADMIN_FEE,fee:S.poolInfo.Fee,virtualPrice:S.virtualPrice,dailyVol:T,poolContract:s.usdcSwap,poolName:I,lpTokenAddress:i.a.tokens["".concat(f).concat(m)].token,lpTokenName:A,aValue:S.poolInfo.A}),h.isConnected&&Object(l.a)(S.sharePer).gt(0)&&Object(d.jsx)(p.a,{sharePer:S.sharePer,usdBalance:C(S.currencyData,S.volData),avgUsdBalance:P(S.swapBalanceInfo.userUsdcLpBalance,S.virtualPrice),userTotalBalance:S.swapBalanceInfo.userTotalBalance,myPoolTokens:U})]})}})}},948:function(e,t,a){},952:function(e,t,a){"use strict";var n=a(5),c=a(4),r=a(0),s=a(2),o=a(14),i=a(3),u=a(20),l=a.n(u),b=a(80),j=a(1775),p=a(1777),d=a(1348),O=a(884),f=a(195),x=a(271),v=a(27),g=a(1),m=a(6),h=a(136),w=a(899),k=a(909),_=(a(917),a(919)),y=a(320),S=a(908),N=a(901),P=a(15),C=a(900),L=a(903),D=a(904),I=a(912),A=a(318),U=a(10),T=m.a.pools,B=m.a.poolKeys,F=m.a.ALL_FEE,V=m.a.defaultSlippage,K=m.a.stablePool;t.a=function(e){var t=e.pageList,a=e.tabPaneKey,u=Object(b.d)((function(){return h.a.network})),m=Object(b.d)((function(){return h.a.system})),E=Object(b.d)((function(){return h.a.pool})),H=Object(i.useState)(function(){var e={};return B.map((function(t){e[t]=""})),e}()),q=Object(o.a)(H,2),M=q[0],R=q[1],J=Object(i.useState)(!1),Z=Object(o.a)(J,2),Q=Z[0],G=Z[1],W=Object(i.useState)(!0),z=Object(o.a)(W,2),X=z[0],Y=z[1],$=Object(i.useState)(!1),ee=Object(o.a)($,2),te=ee[0],ae=ee[1],ne=Object(i.useState)("--"),ce=Object(o.a)(ne,2),re=ce[0],se=ce[1],oe=Object(i.useState)("--"),ie=Object(o.a)(oe,2),ue=ie[0],le=ie[1],be=Object(i.useState)(!1),je=Object(o.a)(be,2),pe=je[0],de=je[1],Oe=Object(i.useState)(!1),fe=Object(o.a)(Oe,2),xe=fe[0],ve=fe[1],ge=Object(i.useState)(!1),me=Object(o.a)(ge,2),he=me[0],we=me[1],ke=null;Object(i.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([De(M),Se()]);case 2:pe&&Ce(M);case 3:case"end":return e.stop()}}),e)}))),[M]);var _e=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,te){e.next=5;break}if(!Ce(t)){e.next=5;break}return e.abrupt("return");case 5:if(!te){e.next=7;break}return e.abrupt("return");case 7:if(!Object(g.a)(re).abs().gt(10)){e.next=9;break}return e.abrupt("return",ve(!0));case 9:return e.next=11,ye(t);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var t=Object(s.a)(Object(r.a)().mark((function t(a){var n,s,o,i,u,l,b,j,p,d,O,f,x,v,h,w,k;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,n=[],e.onSubmit&&e.onSubmit(),B.map((function(e){n.push(Object(c.a)(Object(c.a)({},E.poolData[e]),{},{inputValue:a[e]?Object(g.fb)(a[e]).times(T[e].precision):Object(g.a)(0)}))})),s=0;case 5:if(!(s<n.length)){t.next=19;break}if(o=n[s],i=o.allowance,u=void 0===i?Object(g.a)(0):i,l=o.inputValue,b=o.token,j=o.symbol,p=o.approveStatus,d=o.id,!Object(g.a)(u).lt(l)||p){t.next=16;break}return t.next=10,m.approveToken(b,K,{title:"deposit.approve_token",obj:{value:j},continuous:!0},[["pool/getBalanceInfo"]]);case 10:if(!t.sent){t.next=15;break}E.poolData[d].approveStatus=2,t.next=16;break;case 15:return t.abrupt("return");case 16:s++,t.next=5;break;case 19:if(O=n.sort((function(e,t){return e.index-t.index})),f=O.length,x=O.map((function(e){return e.inputValue._toIntegerDown()._toHex()}))||[],v=null,!E.lpTotalSupply.lte(0)){t.next=26;break}return t.next=26,E.getUserLp();case 26:if(!E.lpTotalSupply.lte(0)){t.next=30;break}v=Object(g.a)(1),t.next=36;break;case 30:return t.next=32,Object(P.d)(x);case 32:if((h=t.sent).success){t.next=35;break}return t.abrupt("return");case 35:v=h.value;case 36:return v=v.times(Object(g.a)(1).minus(Object(g.a)(F).times(f).div(Object(g.a)(4).times(f-1)).div(1e10))),w=v.times(1-V)._toFixed(0,1),k={title:"actions.addLiq",obj:{detail:Object(g.A)(a)}},t.next=41,m.addLiquidity(x,w,k,[["pool/updateCurrencyData"]]);case 41:t.sent&&Te(),t.next=48;break;case 45:t.prev=45,t.t0=t.catch(0),console.log("deposit err: ",t.t0);case 48:case"end":return t.stop()}}),t,null,[[0,45]])})));return function(e){return t.apply(this,arguments)}}(),Se=function(){var e=Object(s.a)(Object(r.a)().mark((function e(){var t,a,n,c,s,o,i,u;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in t=[],M)n=T[a],c=n.index,s=n.precision,o=M[a].replace(/,/g,""),t[c]=Object(g.a)(o).isNaN()?0:Object(g.a)(o).times(s)._toIntegerDown()._toHex();if(i=null,!E.lpTotalSupply.lte(0)){e.next=6;break}return e.next=6,E.getUserLp();case 6:if(!E.lpTotalSupply.lte(0)){e.next=10;break}i=Object(g.a)(1),e.next=16;break;case 10:return e.next=12,Object(P.d)(t);case 12:if((u=e.sent).success){e.next=15;break}return e.abrupt("return");case 15:i=u.value.div(1e18);case 16:le(i);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([E.getSwapBalance(),E.getVirtualPrice(),E.getVolData()]);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(s.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([E.getUserLp(),E.getBalanceInfo()]);case 2:t={},B.map((function(e){var a=E.poolData[e],n=a.precision,c=a.balance,r=a.decimal;t[e]=Object(g.c)(Object(g.a)(c).div(n)._toFixed(r,1))})),R(t),!pe&&de(!0),ke||(ke=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ne(),E.getUserLp();case 2:case"end":return e.stop()}}),e)}))),u.defaultIntervalSec));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Pe(),Ne()]);case 2:return e.abrupt("return",(function(){clearInterval(ke)}));case 3:case"end":return e.stop()}}),e)}))),[u.defaultAccount]);var Ce=function(e){var t=Object.keys(e),a=t.length;if(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),a=t.filter((function(t){return Object(g.fb)(e[t]).eq(0)||!e[t]}));return t.length===a.length}(e))return ae(l.a.get("error.e1")),!0;for(var n=0;n<a;n++){var c=t[n],r=e[c];if(!r&&(Q||X))return ae(l.a.get("error.e1")),!0;var s=E.poolData[c],o=s.balance,i=s.precision,u=s.symbol;if(Object(g.a)(o).div(i).lt(Object(g.fb)(r)))return ae(l.a.get("error.e2",{token:u})),!0}return ae(!1),!1},Le=function(e){we(e.target.checked)},De=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.calcInclPrice(t);case 2:a=e.sent,se(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(e,t){var a=t,n={};n[e]=Object(g.c)(String(a).replace(/,/g,""));var c=E.poolData[e],r=(c.precision,c.swapBalance),s=(c.balance,Object(g.fb)(a).div(r).isNaN()?Object(g.a)(0):Object(g.fb)(a).div(r));B.filter((function(t){return t!==e})).map((function(e){var t=E.poolData[e],a=t.balance,c=void 0===a?Object(g.a)(0):a,r=t.swapBalance,o=t.precision,i=t.decimal;n[e]=Object(g.c)(s.times(r)._toFixed(i,1)),c.div(o).lt(Object(g.fb)(n[e]))&&(n[e]=Object(g.c)(c.div(o)._toFixed(i,1)))})),R(n)},Ae=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,G(a),X&&Y(!a),a&&Ie(B[0],M[B[0]])}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,Y(a),Q&&G(!a),n={},B.map((function(e){var t=E.poolData[e],a=t.balance,c=t.precision,r=t.decimal;n[e]=Object(g.a)(a).isNaN()?0:Object(g.c)(a.div(c)._toFixed(r,1))})),R(n)}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){we(!1),ve(!1)},Be=Object(A.b)();return Object(U.jsx)(b.a,{children:function(){return Object(U.jsxs)(j.a,Object(c.a)(Object(c.a)({},L.a.row),{},{children:[Object(U.jsx)(p.a,Object(c.a)(Object(c.a)({},L.a.colLeft),{},{children:Object(U.jsxs)("div",{className:"pool-deposit",children:[Object(U.jsx)(C.a,{list:t,activeKey:a[0]}),e.isSinglePage?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(w.a,{routeName:"3pool/deposit",mountedActions:Pe,instantActions:Ne}),Object(U.jsx)(k.a,{title:"3pool "+l.a.get("banner.title_deposit"),desc:l.a.get("banner.desc_deposit")}),Object(U.jsx)(S.a,{})]}):null,u.isConnected?Object(U.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(U.jsxs)("div",{className:"add-liq",children:[Object(U.jsxs)("fieldset",{className:"currencies",children:[Object(U.jsx)("legend",{children:l.a.get("deposit.currencies")}),Object(U.jsx)("ul",{children:B.map((function(e){var t=E.poolData[e],a=t.symbol,r=void 0===a?"":a,s=t.balance,o=void 0===s?"--":s,i=t.precision,u=t.decimal;return o=Object(g.a)(o).div(i),Object(U.jsxs)("li",{children:[Object(U.jsxs)("div",{className:"cur-label",children:[Object(U.jsxs)("span",{className:"icon",children:[Object(U.jsx)("img",{src:v.a[e]?v.a[e]:x.default,alt:"",className:"token-logo"})," ",r]}),Object(U.jsx)("span",{className:"token-max",children:l.a.getHTML("deposit.token_max",{balance:Object(g.u)(o)})})]}),Object(U.jsx)(I.a,{onMaxClick:function(){!function(e,t,a){if(!Object(g.a)(t).isNaN()){var r=Object(g.a)(t)._toFixed(a,1);R(Object(c.a)(Object(c.a)({},M),{},Object(n.a)({},e,Object(g.c)(r)))),Q&&Ie(e,r)}}(e,o,u)},value:M[e],onChange:function(t){return function(e,t){X&&Y(!1);var a=T[t].decimal,r=Object(g.V)((""+e.target.value).replace(/,/g,""),a),s=r.valid,o=r.str;s&&(R(Object(c.a)(Object(c.a)({},M),{},Object(n.a)({},t,Object(g.c)(o)))),Q&&Ie(t,o))}(t,e)}})]},e)}))})]}),!Object(g.a)(re).isNaN()&&Object(g.ab)(re,!0),Object(U.jsxs)("div",{className:"deposit-check",children:[Object(U.jsx)(d.a,{checked:Q,onChange:Ae,children:l.a.get("deposit.ch1")}),Object(U.jsx)("br",{}),Object(U.jsx)(d.a,{checked:X,onChange:Ue,children:l.a.get("deposit.ch2")})]}),te?Object(U.jsx)(N.a,{styleName:"mt-40",type:"single",disabled:!0,info:l.a.get("deposit.action")}):Object(U.jsx)(N.a,{styleName:"mt-40",type:"single",info:Be?l.a.get("not_available"):l.a.get("deposit.action"),onClick:function(){return _e(M)},disabled:Be}),te&&Object(U.jsx)("div",{className:"error-content mt-12",children:Object(U.jsx)("div",{className:"error-tip",children:te})}),Object(g.a)(ue).gt(0)&&Object(U.jsxs)("div",{className:"error-content mt-12",children:[Object(U.jsxs)("div",{className:"error-tip",children:[l.a.getHTML("deposit.swap_detail",{value:Object(g.u)(ue,2),symbol:"Old 3pool LP"})," "]}),Object(U.jsx)("div",{className:"error-tip",children:l.a.get("deposit.exchange_rate",{value:Object(g.u)(E.virtualPrice,6),symbol:"Old 3pool LP"})})]})]})}):Object(U.jsx)(D.a,{}),Object(U.jsx)(y.a,{}),Object(U.jsx)(O.a,{title:l.a.get("deposit.high_slippage_title"),open:xe,closable:!0,icon:null,onCancel:Te,footer:null,width:400,className:"common-modal common-bg slippage-modal",children:Object(U.jsxs)("div",{className:"center",children:[Object(U.jsxs)("div",{className:"common-err-bg",children:[Object(U.jsx)("div",{children:l.a.get("deposit.high_tip1")}),Object(U.jsx)("div",{children:l.a.get("deposit.high_tip2",{value:Object(g.u)(Object(g.a)(re).abs(),3)})})]}),Object(U.jsx)(d.a,{checked:he,onChange:Le,children:l.a.get("deposit.confirm_slippage",{value:Object(g.u)(Object(g.a)(re).abs(),3)})}),Object(U.jsx)("br",{}),Object(U.jsxs)("div",{className:"btns flex",children:[Object(U.jsx)(f.a,{onClick:function(){return ve(!1)},type:"primary",children:l.a.get("cancel")}),Object(U.jsx)(f.a,{onClick:function(){return ye(M)},disabled:!he,children:l.a.get("deposit.anyway")})]})]})})]})})),Object(U.jsx)(p.a,Object(c.a)(Object(c.a)({},L.a.colRight),{},{children:Object(U.jsx)(_.a,{className:u.isConnected?null:"window-for-tabs-pane"})}))]}))}})}},953:function(e,t,a){"use strict";var n=a(5),c=a(4),r=a(0),s=a(2),o=a(14),i=a(3),u=a(20),l=a.n(u),b=a(1775),j=a(1777),p=a(324),d=a(882),O=a(271),f=a(80),x=a(136),v=a(27),g=a(6),m=a(15),h=a(1),w=a(919),k=a(899),_=a(909),y=(a(917),a(908)),S=(a(43),a(905)),N=a(901),P=a(906),C=a(903),L=a(900),D=a(904),I=a(912),A=a(10),U=g.a.pools,T=g.a.poolKeys,B=g.a.stableLp,F=g.a.ALL_FEE,V=g.a.stablePool,K=g.a.tokens,E="---",H="CUSTOM",q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={};return T.map((function(a){t[a]=e})),t};t.a=function(e){var t=e.pageList,a=e.tabPaneKey,u=Object(i.useState)(),g=Object(o.a)(u,2),M=g[0],R=void 0===M?q("--"):M,J=g[1],Z=Object(i.useState)("100.00"),Q=Object(o.a)(Z,2),G=Q[0],W=Q[1],z=Object(i.useState)(.2),X=Object(o.a)(z,2),Y=X[0],$=X[1],ee=Object(i.useState)(""),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],ce=Object(i.useState)(!0),re=Object(o.a)(ce,2),se=re[0],oe=re[1],ie=Object(i.useState)(!1),ue=Object(o.a)(ie,2),le=ue[0],be=ue[1],je=Object(i.useState)("--"),pe=Object(o.a)(je,2),de=pe[0],Oe=pe[1],fe=Object(i.useState)(),xe=Object(o.a)(fe,2),ve=xe[0],ge=void 0===ve?q(!1):ve,me=xe[1],he=Object(i.useState)(!1),we=Object(o.a)(he,2),ke=we[0],_e=we[1],ye=Object(i.useState)(!1),Se=Object(o.a)(ye,2),Ne=Se[0],Pe=Se[1],Ce=Object(f.d)((function(){return x.a.system})),Le=Object(f.d)((function(){return x.a.pool})),De=Object(f.d)((function(){return x.a.network})),Ie=null;Object(i.useEffect)(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ne&&Ae();case 1:case"end":return e.stop()}}),e)}))),[R,G,Y,ae,ge]),Object(i.useEffect)((function(){Qe(R,le)}),[R]);var Ae=function(){return G!==E&&Object(h.fb)(G).gt(100)?(_e(l.a.get("error.e3")),!0):function(){for(var e in R)if(Object(h.fb)(R[e]).gt(0)||"--"===R[e])return!1;return!0}()?(_e(l.a.get("error.e4")),!0):Y===H&&(Fe()||G===E)&&(Object(h.a)(ae).lt(.1)||Object(h.a)(ae).gt(50)||Object(h.a)(ae).isNaN())?(_e(l.a.get("error.e5")),!0):(_e(!1),!1)},Ue=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,o,i,u,l,b;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.length,c=t.map((function(e){return e.inputValue.isNaN()?0:e.inputValue._toIntegerDown()._toHex()}))||[],e.next=5,Object(m.d)(c,!1);case 5:if((s=e.sent).success){e.next=8;break}return e.abrupt("return");case 8:if(o=s.value,i=o.times(Object(h.a)(1).plus(Object(h.a)(F).times(n).div(4*(n-1)))),u=Object(h.a)(100).plus(a).div(100),i=i.times(u)._toIntegerDown(),!se||!Object(h.a)(Le.userLpAllowance).lt(i)){e.next=21;break}return e.next=15,Ce.approveToken(B,V,{title:"deposit.approve_token",obj:{value:K.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]);case 15:if(!e.sent){e.next=20;break}oe(!1),e.next=21;break;case 20:return e.abrupt("return");case 21:return l=i._toHex(),b={title:"actions.remove",obj:{detail:Object(h.A)(R)}},e.next=25,Ce.removeLiqImBalance(c,l,b,[["pool/updateCurrencyData"]]);case 25:e.sent,e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.log(e.t0);case 31:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(t,a){return e.apply(this,arguments)}}(),Te=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,o,i,u,l;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke(a,t,Object(h.fb)(G));case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return");case 6:if(c=n.userLpBalance,n.lpTotalSupply,n.balances,s=n.userLpAllowance,o=n.minAmounts,i=Object(h.fb)(G).div(100).times(c)._toIntegerDown(),!se||!Object(h.a)(s).lt(i._toIntegerDown())){e.next=17;break}return e.next=11,Ce.approveToken(B,V,{title:"deposit.approve_token",obj:{value:K.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]);case 11:if(!e.sent){e.next=16;break}oe(!1),e.next=17;break;case 16:return e.abrupt("return");case 17:return u={title:"actions.remove",obj:{detail:Object(h.A)(R)}},l=i._toHex(),e.next=21,Ce.removeLiquidity(l,o,u,[["pool/updateCurrencyData"]]);case 21:e.sent,e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t,a){return e.apply(this,arguments)}}(),Be=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a,n){var c,s,o,i,u,l,b,j,p,d,O,f,x,v;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(m.qb)(a,t);case 3:if((c=e.sent).success){e.next=6;break}return e.abrupt("return");case 6:if(s=c.userLpBalance,o=c.userLpAllowance,i=Object(h.fb)(G).div(100).times(s)._toIntegerDown(),!se||!Object(h.a)(o).lt(i._toIntegerDown())){e.next=17;break}return e.next=11,Ce.approveToken(B,V,{title:"deposit.approve_token",obj:{value:K.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]);case 11:if(!e.sent){e.next=16;break}oe(!1),e.next=17;break;case 16:return e.abrupt("return");case 17:for(b in u=i._toHex(),l=!1,ge)!0===ge[b]&&(l=U[b].index);return e.next=22,Object(m.p)(u,l);case 22:if((j=e.sent).success){e.next=25;break}return e.abrupt("return");case 25:return p=j.value,d=t.length,O=p.times(Object(h.a)(1).minus(Object(h.a)(F).times(d).div(4*(d-1)).div(1e10))),f=Object(h.a)(100).div(Object(h.a)(100).plus(n)),x=O.times(f)._toIntegerDown()._toHex(),v={title:"actions.remove",obj:{detail:Object(h.A)(R)}},e.next=33,Ce.removeLiqOneCoin(u,l,x,v,[["pool/updateCurrencyData"]]);case 33:e.sent,e.next=39;break;case 36:e.prev=36,e.t0=e.catch(0),console.log(e.t0);case 39:case"end":return e.stop()}}),e,null,[[0,36]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Fe=function(){for(var e in ge)if(ge[e])return e;return!1},Ve=function(){var t=Object(s.a)(Object(r.a)().mark((function t(a){var n,s,o,i;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,De.defaultAccount){t.next=3;break}return t.abrupt("return");case 3:if(!Ne&&Pe(!0),ke){t.next=8;break}if(!Ae(a)){t.next=8;break}return t.abrupt("return");case 8:if(!ke){t.next=10;break}return t.abrupt("return");case 10:if(n=De.defaultAccount,s=[],T.map((function(e){s.push(Object(c.a)(Object(c.a)({},U[e]),{},{inputValue:Object(h.fb)(a[e]).times(U[e].precision)}))})),o=s.sort((function(e,t){return e.index-t.index})),i=Y===H?ae:Y,e.onSubmit&&e.onSubmit(),!le){t.next=20;break}return t.next=19,Be(o,n,i);case 19:return t.abrupt("return",t.sent);case 20:if(G===E){t.next=24;break}return t.next=23,Te(o,n);case 23:return t.abrupt("return",t.sent);case 24:return t.next=26,Ue(o,i);case 26:return t.abrupt("return",t.sent);case 29:t.prev=29,t.t0=t.catch(0),console.log(t.t0);case 32:case"end":return t.stop()}}),t,null,[[0,29]])})));return function(e){return t.apply(this,arguments)}}(),Ke=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a,n){var c,s,o,i,u,l,b,j,p=arguments;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=p.length>3&&void 0!==p[3]&&p[3],e.prev=1,e.next=4,Object(m.qb)(t,a);case 4:if((s=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:return o=s.userLpBalance,i=s.lpTotalSupply,u=s.balances,l=s.userLpAllowance,b=[],j={},a.map((function(e){var t=e.index,a=e.id,r=e.decimal,s=e.precision,l=Object(h.fb)(n).div(100).times(u[t]);c||(l=Object(h.a)(.98).times(l)),b[t]=l.times(o).div(i)._toIntegerDown()._toHex(),j[a]=Object(h.c)(l.times(o).div(i).div(s)._toFixed(r,1))})),e.abrupt("return",{userLpBalance:o,lpTotalSupply:i,balances:u,userLpAllowance:l,minAmounts:b,amountsStr:j});case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n,c,s,o,i,u,l,b,j,p;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Le.getUserLp();case 3:return n=Le.userLpBalance,c=U[t],s=c.precision,o=c.decimal,i=Object(h.fb)(a).div(100).times(n)._toIntegerDown(),u=U[t].index,l=i._toHex(),e.next=10,Object(m.p)(l,u);case 10:if((b=e.sent).success){e.next=13;break}return e.abrupt("return",!1);case 13:return j=b.value,p=Object(h.a)(j).div(s)._toFixed(o,1),e.abrupt("return",p);case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,a){return e.apply(this,arguments)}}(),He=function(){Le.getSwapBalance(),Le.getVirtualPrice(),Le.getVolData()},qe=function(){var e=Object(s.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Le.getUserLp(),Le.getBalanceInfo()]);case 2:t={},T.map((function(e){var a=Le.poolData[e],n=a.userSwapBalance,c=a.decimal;t[e]=Object(h.c)(Object(h.a)(n)._toFixed(c,1))})),J(t),Ie||(Ie=setInterval(Object(s.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return He(),e.next=3,Le.getUserLp();case 3:case"end":return e.stop()}}),e)}))),De.defaultIntervalSec));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){return qe(),He(),function(){clearInterval(Ie)}}),[]);var Me=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var s,o,i,u,l;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ne&&Pe(!0),s=Object(h.fb)(G),o={},i={},!t){e.next=16;break}for(u in be(!0),ge)u!==a&&(o[u]=!1,i[u]=0);return me(Object(c.a)(Object(c.a)(Object(c.a)({},ge),o),{},Object(n.a)({},a,t))),(G===E||Object(h.fb)(G).lte(0))&&W(s="100.00"),Object(h.a)(s).gt(100)&&(s=100),e.next=12,Ee(a,s);case 12:(l=e.sent)&&J(Object(c.a)(Object(c.a)(Object(c.a)({},R),i),{},Object(n.a)({},a,Object(h.c)(l)))),e.next=19;break;case 16:W(E),be(!1),me(Object(c.a)(Object(c.a)({},ge),{},Object(n.a)({},a,t)));case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Re=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var s,o,i,u,l,b;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(b in!Ne&&Pe(!0),s=U[a].decimal,o=Object(h.V)((""+t.target.value).replace(/,/g,""),s),i=o.valid,u=o.str,i&&J(Object(c.a)(Object(c.a)({},R),{},Object(n.a)({},a,Object(h.c)(u)))),W(E),be(!1),l={},ge)l[b]=!1;me(l);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Je=function(){var e={},t={};T.map((function(a){e[a]=0,t[0]=!1})),J(e),me(ge),W(0)},Ze=function(){var e={};T.map((function(t){e[t]=0})),J(e)},Qe=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t,a){var n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.calcInclPrice(t,!1,a);case 2:n=e.sent,Oe(n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(s.a)(Object(r.a)().mark((function e(t){var a,s,o,i,u,l,b,j,p,d,O,f,x,v,g;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ne&&Pe(!0),s=t.target.value,o=s.split("."),(null===(a=o[1])||void 0===a?void 0:a.length)>2&&(s="".concat(o[0]+"."+o[1].substr(0,2))),!Object(h.a)(s).gt(100)){e.next=6;break}return e.abrupt("return");case 6:if(i=Object(h.V)(s,10),u=i.valid,l=i.str,G!==E){e.next=9;break}return e.abrupt("return",Je());case 9:if(""!==s){e.next=12;break}return W(""),e.abrupt("return",Ze());case 12:if(!u){e.next=34;break}if(W(Object(h.c)(l)),!(b=Object(h.a)(l).gt(100)?Object(h.a)(100):Object(h.a)(l)).isNaN()){e.next=17;break}return e.abrupt("return");case 17:if(De.defaultAccount){e.next=19;break}return e.abrupt("return");case 19:if(j=De.defaultAccount,!(p=Fe())){e.next=26;break}return e.next=24,Ee(p,b);case 24:return d=e.sent,e.abrupt("return",d&&J(Object(c.a)(Object(c.a)({},R),{},Object(n.a)({},p,Object(h.c)(d)))));case 26:if(l===E){e.next=34;break}return O=[],T.map((function(e){O.push(Object(c.a)({},U[e]))})),f=O.sort((function(e,t){return e.index-t.index})),e.next=32,Ke(j,f,l,!0);case 32:x=e.sent,s===t.target.value&&(v=x.amountsStr,g=void 0===v?{}:v,x&&J(g));case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(e){!Ne&&Pe(!0),$(e),e!==E&&ne("")},ze=function(e){var t=Object(h.V)(e,10),a=t.valid,n=t.str;if(a)if(""===n)ne("");else if(Object(h.a)(n).lte(100)){var c,r=n,s=n.split(".");(null===(c=s[1])||void 0===c?void 0:c.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),ne(r)}},Xe=function(e){return Fe()||G===E?Object(A.jsx)("div",{className:"flex start mt-20",children:Object(A.jsx)(P.a,{slippage:e,customSlippage:ae,CUSTOM_SLIPPAGE:H,onChangeSlippage:We,onChangeCustomSlippage:ze})}):Object(A.jsx)(A.Fragment,{})};return Object(A.jsx)(f.a,{children:function(){return Object(A.jsxs)(b.a,Object(c.a)(Object(c.a)({},C.a.row),{},{children:[Object(A.jsxs)(j.a,Object(c.a)(Object(c.a)({},C.a.colLeft),{},{children:[Object(A.jsx)(L.a,{list:t,activeKey:a[0]}),Object(A.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(k.a,{routeName:"3pool/withdraw",mountedActions:qe,instantActions:He}),Object(A.jsx)(_.a,{title:"3pool "+l.a.get("banner.title_withdraw"),desc:l.a.get("banner.desc_withdraw")}),Object(A.jsx)(y.a,{})]}):null,De.isConnected?Object(A.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(A.jsxs)("div",{className:"add-liq withdraw-liq",children:[Object(A.jsxs)("div",{className:"flex",children:[l.a.get("withdraw.share_of_liq"),Object(A.jsx)(I.a,{className:"flex-1 ml-20",showMax:!1,placeholder:"100.00",value:G,onChange:Ge})]}),Object(A.jsxs)("fieldset",{className:"currencies mt-35",children:[Object(A.jsx)("legend",{children:l.a.get("deposit.currencies")}),Object(A.jsx)("ul",{children:T.map((function(e){var t=U[e].symbol,a=void 0===t?"":t;return Object(A.jsxs)("li",{children:[Object(A.jsx)("div",{className:"cur-label",children:Object(A.jsxs)("span",{className:"icon",children:[Object(A.jsx)("img",{src:v.a[e]?v.a[e]:O.default,alt:"",className:"token-logo"}),a]})}),Object(A.jsx)(I.a,{showMax:!1,value:R[e],onChange:function(t){Re(t,e)}})]},e)}))})]}),Object(h.ab)(de),Object(A.jsxs)("fieldset",{children:[Object(A.jsxs)("legend",{className:"flex aic jcs pt20",children:[Object(A.jsx)("span",{className:"mr-10",children:l.a.get("withdraw.withdraw_text")}),Object(A.jsx)(p.a,{title:l.a.get("withdraw.tip"),children:Object(A.jsx)(d.a,{})})]}),Object(A.jsx)("div",{className:"withdraw-one",children:T.map((function(e){var t=U[e].symbol,a=void 0===t?"":t;return Object(A.jsx)(S.a,{id:e,checked:ge[e],tokenLogo:v.a[e]?v.a[e]:O.default,symbol:a,onChange:Me})}))})]}),Xe(Y),ke?Object(A.jsx)(N.a,{styleName:"mt-40",type:"single",disabled:!0,info:l.a.get("withdraw.action")}):Object(A.jsx)(N.a,{styleName:"mt-40",type:"single",info:l.a.get("withdraw.action"),onClick:function(){return Ve(R)},disabled:ke}),ke&&Object(A.jsx)("div",{className:"error-content mt-12",children:Object(A.jsx)("div",{className:"error-tip",children:ke})})]})}):Object(A.jsx)(D.a,{})]})]})),Object(A.jsx)(j.a,Object(c.a)(Object(c.a)({},C.a.colRight),{},{children:Object(A.jsx)(w.a,{className:De.isConnected?null:"window-for-tabs-pane"})}))]}))}})}},956:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(1),c=a(70),r={usdd2Pool_2:{keys:c.e.usdd2Pool_2UsdPoolKeys,poolsInfo:c.e.usdd2Pool_2UsdPools},usdj2Pool_2:{keys:c.e.usdj2Pool_2UsdPoolKeys,poolsInfo:c.e.usdj2Pool_2UsdPools},usdc2Pool_2:{keys:c.e.usdc2Pool_2UsdPoolKeys,poolsInfo:c.e.usdc2Pool_2UsdPools},busd2Pool_2:{keys:c.e.busd2Pool_2UsdPoolKeys,poolsInfo:c.e.busd2Pool_2UsdPools},usddlp:{keys:c.e.usdd2Pool_2Keys,poolsInfo:c.e.usdd2Pool_2Pools},usdjlp:{keys:c.e.usdj2Pool_2Keys,poolsInfo:c.e.usdj2Pool_2Pools},usdclp:{keys:c.e.usdc2Pool_2Keys,poolsInfo:c.e.usdc2Pool_2Pools},busdlp:{keys:c.e.busd2Pool_2Keys,poolsInfo:c.e.busd2Pool_2Pools}};var s=function(e,t){return function(e,t,a){try{var c=e[a]||{},r=c.keys,s=c.poolsInfo,o=[];return r.map((function(e){var a=Object(n.u)(Object(n.fb)(t[e]).isNaN()?0:Object(n.fb)(t[e])),c=s[e].symbol;o.push("".concat(a," ").concat(c))})),o.join(" + ")}catch(i){return console.error("getApproveDetail",i),""}}(r,e,t)}},965:function(e,t,a){"use strict";a.r(t),a.d(t,"renderTab",(function(){return H})),a.d(t,"usePoolTab",(function(){return Z}));var n=a(14),c=a(0),r=a(2),s=a(4),o=a(1775),i=a(1777),u=a(1797),l=a(80),b=a(3),j=a.n(b),p=a(20),d=a.n(p),O=(a(918),a(921),a(136)),f=a(899),x=a(938),v=(a(1759),a(1758)),g=(a(1344),a.p,a(271)),m=a(922),h=a(6),w=a(15),k=a(27),_=a(1),y=a(905),S=a(906),N=a(901),P=a(273),C=a(10);function L(e){var t=Object(b.useState)(2),a=Object(n.a)(t,2),o=a[0],i=a[1],u=Object(b.useState)(1),j=Object(n.a)(u,2),p=j[0],f=j[1],L=Object(b.useState)(0),D=Object(n.a)(L,2),I=D[0],A=D[1],U=Object(b.useState)(1),T=Object(n.a)(U,2),B=T[0],F=T[1],V=Object(b.useState)(-1),K=Object(n.a)(V,2),E=K[0],H=K[1],q=Object(b.useState)(1),M=Object(n.a)(q,2),R=M[0],J=M[1],Z=Object(b.useState)(.005),Q=Object(n.a)(Z,2),G=Q[0],W=Q[1],z=Object(b.useState)(""),X=Object(n.a)(z,2),Y=X[0],$=X[1],ee=Object(b.useState)(!0),te=Object(n.a)(ee,2),ae=(te[0],te[1],Object(b.useState)("")),ne=Object(n.a)(ae,2),ce=ne[0],re=ne[1],se=Object(b.useState)(!1),oe=Object(n.a)(se,2),ie=oe[0],ue=oe[1],le=h.a.pools,be=h.a.poolIndex,je=h.a.stablePool,pe=h.a.poolKeys,de=Object(l.d)((function(){return O.a.network})),Oe=Object(l.d)((function(){return O.a.system})),fe=Object(l.d)((function(){return O.a.pool})),xe=Object(b.useState)(!1),ve=Object(n.a)(xe,2),ge=ve[0],me=ve[1];Object(b.useEffect)((function(){ke({i:o,j:I,dx:p})}),[]);var he=function(){!ge&&me(!0);var e=o,t=I,a=B;e!==t&&(i(t),A(e),f(a),ke({i:t,j:e,dx:a,notChangeRate:!0}),_e({no:1,i:t,j:e,dx:a}))},we=function(e){var t=Object.assign({},(Object(x.a)(e),e));ue(!ie),_e(Object(s.a)(Object(s.a)({},t),{},{exchangeFlags:!ie}))},ke=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){var a,n,r,s,i,u,l;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},(Object(x.a)(t),t)),e.prev=1,n=void 0===a.i?o:a.i,r=void 0===a.j?I:a.j,s=void 0===a.dx?Object(_.fb)(p):Object(_.fb)(a.dx),Object(_.a)(s).gt(0)){e.next=8;break}return F(0),e.abrupt("return");case 8:return i=Object(_.a)(s).times(le[be[n]].precision)._toIntegerDown()._toHex(),u=null,e.next=12,Object(w.Q)(n,r,i);case 12:(u=e.sent).success?(l=Object(_.a)(u.value).div(le[be[r]].precision),F(Object(_.c)(Object(_.a)(l)._toFixed(le[be[r]].decimal,1))),J(Object(_.a)(u.value))):(F(0),J(1)),a.notChangeRate||_e({i:n,j:r,dx:s}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("getDyData: ",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(r.a)(Object(c.a)().mark((function e(t){var a,n,r,s,i,u,l,b;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},(Object(x.a)(t),t)),e.prev=1,n=void 0===a.i?o:a.i,r=void 0===a.j?I:a.j,s=void 0===a.dx?Object(_.fb)(p):Object(_.fb)(a.dx),i=void 0===a.exchangeFlags?ie:a.exchangeFlags,u=Object(_.a)(s).times(le[be[n]].precision)._toIntegerDown()._toHex(),l=null,Object(_.a)(s).gt(0)){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Object(w.Q)(n,r,u);case 12:(l=e.sent).success&&(b=Object(_.a)(l.value).div(le[be[r]].precision).div(s),H(i?Object(_.a)(1).div(Object(_.a)(b)._toFixed(4,1))._toFixed(4,1):b._toFixed(4,1))),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log("getRateData: ",e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(e){var t=o;Number(e)!==Number(I)&&(t=I),A(t),i(e);var a=Object(_.fb)(p)._toFixed(le[be[e]].decimal,1);f(Object(_.c)(a)),ke({i:e,j:t,dx:a})},Se=function(e){var t=I;Number(e)!==Number(o)&&(t=o),i(t),A(e);var a=Object(_.fb)(p)._toFixed(le[be[t]].decimal,1);f(Object(_.c)(a)),ke({j:e,i:t,dx:a})},Ne=function(e){!ge&&me(!0);var t=Object(_.V)((""+e).replace(/,/g,""),le[be[o]].decimal),a=t.valid,n=t.str,c=fe.poolData&&Object(_.a)(fe.poolData[be[o]].balance).div(le[be[o]].precision)._toFixed(2,1);if(a){if(Object(_.a)(n).lte(0))return f(Object(_.c)(n)),F(0),void re(d.a.get("buysell.error_msg_1"));Object(_.a)(n).gt(c)&&re(d.a.get("buysell.error_msg_2")),f(Object(_.c)(n)),ke({dx:n})}},Pe=function(e){var t="--";return t=fe.poolData[be[o]].balance,t=Object(_.a)(t).isNaN()?"--":fe.poolData[be[o]].balance.div(fe.poolData[be[o]].precision),Object(C.jsx)("span",{children:fe.poolData&&Object(_.u)(t)})},Ce=function(){var e=fe.poolData[be[o]],t=e.precision,a=e.balance,n=e.symbol;return a=Object(_.a)(a).div(t),Object(_.fb)(p).eq(0)||Object(_.fb)(p).isNaN()?(re(d.a.get("error.e1")),!0):Object(_.fb)(p).gt(a)?(re(d.a.get("error.e2",{token:n})),!0):2===G&&(!Y||Number(Y)<.1||Number(Y)>50)?(re(d.a.get("error.e5")),!0):(re(""),!1)};Object(b.useEffect)((function(){ge&&Ce()}),[o,I,p,G,Y]);var Le=function(){var e=fe.poolData&&Object(_.a)(fe.poolData[be[o]].balance).div(le[be[o]].precision);Ne(e)},De=function(e){!ge&&me(!0),W(e),2!==e&&$("")},Ie=function(e){!ge&&me(!0);var t=Object(_.V)(e,10),a=t.valid,n=t.str;if(a)if(""===n)$("");else if(Object(_.a)(n).lte(100)){var c,r=n,s=n.split(".");(null===(c=s[1])||void 0===c?void 0:c.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),$(r)}},Ae=function(){var e=function(){var e=o,t=I;if(ie){var a=[t,e];e=a[0],t=a[1]}return Object(C.jsx)(C.Fragment,{children:be[e].toUpperCase()+"/"+be[t].toUpperCase()})};return Object(C.jsxs)("p",{className:"exchang-rate-text mt-20",children:[Object(C.jsxs)("span",{className:"en-US"===window.localStorage.getItem("lang")?"er-en":"",children:[d.a.get("buysell.exchange_rate",{symbol:"3pool LP"})+" ",Object(C.jsx)(e,{})]}),Object(C.jsx)("img",{style:{cursor:"pointer",margin:"0 6px"},className:"exchange-img",alt:"",src:m.a,onClick:we}),Object(C.jsxs)("span",{children:["(",d.a.get("buysell.including_fees"),"): ",-1===E?d.a.get("buysell.not_available"):E]})]})},Ue=function(){var t=function(){var t=Object(r.a)(Object(c.a)().mark((function t(){var a,n,r,s,i,u,l;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!ce){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,a=2!==G?G:Y?Object(_.a)(Y).div(100):0,n=Object(_.a)(R).times(Object(_.a)(1).minus(Object(_.a)(a)))._toIntegerDown()._toHex(),r=o,s=I,i=Object(_.fb)(p).times(le[be[r]].precision)._toIntegerDown()._toHex(),u={title:"notification.tip1",title2:"notification.tip1",title3:"notification.tip1",title4:"notification.tip1",obj:{fromValue:Object(_.u)(Object(_.fb)(p)),fromToken:be[r].toUpperCase(),toValue:Object(_.u)(Object(_.fb)(B)),toToken:be[s].toUpperCase()}},t.next=11,Oe.toExchange(r,s,i,n,u,[["pool/updateCurrencyData"]]);case 11:(l=t.sent)&&(setTimeout((function(){fe.getBalanceInfo()}),5e3),e.onSubmit&&e.onSubmit(l)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),console.log("sellSubmit: ",t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(){return t.apply(this,arguments)}}(),a=function(){var e=Object(r.a)(Object(c.a)().mark((function e(){var a,n,r,s;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(de.isConnected){e.next=3;break}return re(d.a.get("buysell.error_msg_3")),e.abrupt("return");case 3:if(!ge&&me(!0),ce){e.next=8;break}if(!Ce()){e.next=8;break}return e.abrupt("return");case 8:if(!ce){e.next=10;break}return e.abrupt("return");case 10:return e.prev=10,e.next=13,Object(w.Sb)(window.defaultAccount,[le[be[o]].token],[je]);case 13:if(a=e.sent,n=a[je].allowance,r=fe.poolData[be[o]].approveStatus,n.gt(0)||r){e.next=29;break}return s={action:"approve",title:"deposit.approve_token",obj:{value:pe[o].toUpperCase()},continuous:!0},e.next=20,Oe.approveToken(le[be[o]].token,je,s,[["pool/getBalanceInfo"]]);case 20:if(!e.sent){e.next=26;break}fe.poolData[be[o]].approveStatus=2,t(),e.next=27;break;case 26:return e.abrupt("return");case 27:e.next=30;break;case 29:t();case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(10),console.log("exchangeBefore: ",e.t0);case 35:case"end":return e.stop()}}),e,null,[[10,32]])})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)(C.Fragment,{children:ce?Object(C.jsx)(N.a,{styleName:"mt-40",type:"single",disabled:!0,info:d.a.get("sell_btn")}):Object(C.jsx)(N.a,{styleName:"mt-40",type:"single",info:d.a.get("sell_btn"),onClick:a})})},Te=function(e){var t=e.direction,a=void 0===t?"left":t,n=pe;return Object(C.jsx)("div",{className:"flex start mb-16 pc-input-box",children:n.map((function(e){var t=k.a[e]||g.default,n="left"===a?o:I;return Object(C.jsx)(y.a,{id:e,checked:n===le[e].index,tokenLogo:t,symbol:le[e].symbol,onChange:function(t,n){"left"===a?ye(le[e].index):Se(le[e].index)}})}))})},Be=function(){return Object(C.jsx)("span",{className:"exchange-alt",onClick:function(){return he()}})},Fe=Object(P.a)(P.b);return Object(C.jsx)(l.a,{children:function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"exchange-box",children:[Object(C.jsx)(Te,{direction:"left"},"left"),Object(C.jsxs)("div",{className:"input-block",children:[Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)("div",{className:"input-number",children:Object(C.jsx)(v.a,{className:"input",value:p,onChange:function(e){return Ne(e.target.value)}})}),Object(C.jsx)("span",{className:"max-btn",onClick:Le,children:d.a.get("sunSwapV3.swap.input_from_max")})]}),Object(C.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(C.jsx)("span",{children:d.a.get("sunSwapV3.swap.input_from_balance")})," ",Pe(fe.poolData)]})]}),Object(C.jsxs)("div",{className:"flex",children:[Object(C.jsx)(Be,{}),!Fe&&Object(C.jsx)("div",{className:"flex start",children:Object(C.jsx)(S.a,{type:"exchange",slippage:G,customSlippage:Y,CUSTOM_SLIPPAGE:2,onChangeSlippage:function(e){De(Number(e))},onChangeCustomSlippage:function(e){W(2),Ie(e)}})})]}),Object(C.jsx)(Te,{direction:"right"},"right"),Object(C.jsxs)("div",{className:"input-block",children:[Object(C.jsx)("div",{className:"input-number",children:Object(C.jsx)(v.a,{disabled:!0,className:"input",value:B})}),Object(C.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(C.jsx)("span",{children:d.a.get("sunSwapV3.swap.input_from_balance")})," ",Pe(fe.poolData)]})]}),Object(C.jsx)(Ae,{}),Fe&&Object(C.jsx)("div",{className:"flex start",children:Object(C.jsx)(S.a,{type:"exchange",slippage:G,customSlippage:Y,CUSTOM_SLIPPAGE:2,onChangeSlippage:function(e){De(Number(e))},onChangeCustomSlippage:function(e){W(2),Ie(e)}})})]}),Object(C.jsx)(Ue,{}),ce&&Object(C.jsx)("div",{className:"error-content mt-12",children:Object(C.jsx)("div",{className:"error-tip",children:ce})})]})}})}var D=a(919),I=a(952),A=a(953),U=a(923),T=a(61),B=a(910),F=a(903),V=a(900),K=a(904),E=function(e){var t=e.onSubmit,a=e.pageList,n=e.tabPaneKey,c=e.isConnected;return Object(C.jsxs)(o.a,Object(s.a)(Object(s.a)({},F.a.row),{},{children:[Object(C.jsxs)(i.a,Object(s.a)(Object(s.a)({},F.a.colLeft),{},{children:[Object(C.jsx)(V.a,{list:a,activeKey:n[0]}),c?Object(C.jsx)("div",{className:"window-for-tabs-pane",children:Object(C.jsx)(L,{onSubmit:t})}):Object(C.jsx)(K.a,{})]})),Object(C.jsx)(i.a,Object(s.a)(Object(s.a)({},F.a.colRight),{},{children:Object(C.jsx)(D.a,{})}))]}))},H=function(e){return Object(C.jsx)("span",{children:J[e].tabTitle})},q=Object(U.a)({childPage:T.h.liquidity_old3pool}),M=q.tabChangeLog,R=q.tabSubmitLog,J={1:{title:d.a.get("banner.title_deposit"),content:d.a.get("banner.desc_deposit"),tabTitle:d.a.get("header.deposit")},2:{title:d.a.get("banner.title_withdraw"),content:d.a.get("banner.desc_withdraw"),tabTitle:d.a.get("header.withdraw")},3:{title:d.a.get("banner.title_1"),content:d.a.get("banner.desc_1"),tabTitle:d.a.get("header.swap")}},Z=function(e){var t=window.location.hash.split("/"),a=Object(n.a)(t,3),c=a[1],r=a[2],s=window.localStorage.getItem("lang");return c.includes("usdc")&&(c="en-US"===s?"USDC Old":"Old USDC"),c.includes("3pool")&&(c="Old 3pool"),c.includes("busd")&&(c="en-US"===s?"Old BUSD":d.a.get("buysell.busd_2pool")),c.includes("usdd_usd_2pool")&&(c="en-US"===s?"Old USDD":d.a.get("buysell.usdd_2pool")),c.includes("usdj_2pool")&&(c="en-US"===s?"Old USDJ":d.a.get("buysell.usdj_2pool")),c.includes("tusd_2pool")&&(c="en-US"===s?"Old TUSD":d.a.get("buysell.tusd_2pool")),{title:c,tabKey:[{deposit:"1",withdraw:"2",swap:"3"}[r]||"1"]}};t.default=function(){var e=Z(),t=e.title,a=e.tabKey,o=j.a.useState(a),i=Object(n.a)(o,2),p=i[0],x=i[1],v=function(){var e=null,t=Object(l.d)((function(){return O.a.pool})),a=Object(l.d)((function(){return O.a.network})),n=function(){t.getSwapBalance(),t.getVirtualPrice(),t.getVolData()},s=function(){var s=Object(r.a)(Object(c.a)().mark((function s(){return Object(c.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t.getUserLp(),s.next=3,t.getBalanceInfo();case 3:e||(e=setInterval(Object(r.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),t.getUserLp(),e.next=4,t.getBalanceInfo();case 4:case"end":return e.stop()}}),e)}))),a.defaultIntervalSec));case 4:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}();return j.a.useEffect((function(){return function(){clearInterval(e)}}),[]),{mountedActions:s,instantActions:n}}(),g=v.mountedActions,m=v.instantActions,h=Object(b.useCallback)((function(e){var t=e.value;x(t),M(t)}),[]),w=function(){var e=window.localStorage.getItem("lang")||d.a.options.currentLocale,t=window.location.origin+window.location.pathname;window.location.href=t+"?lang=".concat(e,"#/sunCurve")},k=Object(b.useMemo)((function(){return{shouldScroll:!0,navRightMoreShow:!0,navRightMoreClick:w}}),[]),_=Object(b.useMemo)((function(){return F.b.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{handler:h})}))}),[h]),y=Object(l.d)((function(){return O.a.network}));return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(f.a,{mountedActions:g,instantActions:m,subNavProps:k}),Object(C.jsxs)("div",{className:"main-page-content",children:[Object(C.jsx)(B.a,{title:"".concat(t," ").concat(J[p[0]].title),subTitle:J[p[0]].content}),Object(C.jsx)("div",{className:"pool-tabs",children:Object(C.jsxs)(u.a,{activeKey:p[0],centered:!0,onChange:h,renderTabBar:function(){return null},children:[Object(C.jsx)(u.a.TabPane,{tab:H("1"),children:Object(C.jsx)(I.a,{onSubmit:function(){return R("1")},pageList:_,tabPaneKey:p})},"1"),Object(C.jsx)(u.a.TabPane,{tab:H("2"),children:Object(C.jsx)(A.a,{onSubmit:function(){return R("2")},pageList:_,tabPaneKey:p})},"2"),Object(C.jsx)(u.a.TabPane,{tab:H("3"),children:Object(C.jsx)(E,{onSubmit:function(e){return R("3",{event_label:e,txid:e})},pageList:_,tabPaneKey:p,isConnected:y.isConnected})},"3")]})})]})]})}},999:function(e,t,a){"use strict";a.d(t,"a",(function(){return L}));var n=a(0),c=a(2),r=a(4),s=a(938),o=a(14),i=a(1348),u=a(1758),l=a(106),b=a(80),j=a(3),p=a(20),d=a.n(p),O=(a(941),a(271)),f=a(922),x=a(6),v=a(136),g=a(15),m=a(27),h=a(1),w=a(42),k=a(905),_=a(906),y=a(901),S=a(273),N=a(10),P=x.a.tokens,C=2;function L(e){var t=e.curveConfig,a=e.initParams,p=t.busd2PoolPools,x=t.busd2PoolIndex,L=t.busdUsdPoolIndex,D=t.busdusdPools,I=t.busd2PoolKeys,A=t.busdusdPoolKeys,U=t.busd2PoolContracts,T=t.curveLPSymbol,B=t.twoPoolUsdLpKey,F=U.usdcSwap,V=Object(j.useState)(0),K=Object(o.a)(V,2),E=K[0],H=K[1],q=Object(j.useState)(1),M=Object(o.a)(q,2),R=M[0],J=M[1],Z=Object(j.useState)(1),Q=Object(o.a)(Z,2),G=Q[0],W=Q[1],z=Object(j.useState)(1),X=Object(o.a)(z,2),Y=X[0],$=X[1],ee=Object(j.useState)(-1),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],ce=Object(j.useState)(1),re=Object(o.a)(ce,2),se=re[0],oe=re[1],ie=Object(j.useState)(.005),ue=Object(o.a)(ie,2),le=ue[0],be=ue[1],je=Object(j.useState)(""),pe=Object(o.a)(je,2),de=pe[0],Oe=pe[1],fe=Object(j.useState)(!0),xe=Object(o.a)(fe,2),ve=(xe[0],xe[1],Object(j.useState)("")),ge=Object(o.a)(ve,2),me=ge[0],he=ge[1],we=Object(j.useState)(!1),ke=Object(o.a)(we,2),_e=ke[0],ye=ke[1],Se=(Object(l.a)(window.navigator).any,Object(b.d)((function(){return v.a.network}))),Ne=Object(b.d)((function(){return v.a.system})),Pe=Object(b.d)((function(){return Object(w.d)({Stores:v.a,poolType:B,baseStoreName:"busdPool"})})),Ce=Object(j.useState)(!1),Le=Object(o.a)(Ce,2),De=Le[0],Ie=Le[1],Ae=Object(j.useState)(!1),Ue=Object(o.a)(Ae,2),Te=Ue[0],Be=Ue[1],Fe=Object(j.useState)(Pe.poolData1),Ve=Object(o.a)(Fe,2),Ke=Ve[0],Ee=Ve[1],He=Object(j.useState)(x),qe=Object(o.a)(He,2),Me=qe[0],Re=qe[1];Object(j.useEffect)((function(){Pe.initPage(a),Qe({i:E,j:G,dx:R,checked:Te})}),[]),Object(j.useEffect)((function(){Te?(Ee(Pe.poolData2),Re(L)):(Ee(Pe.poolData1),Re(x))}),[Te,Pe.poolData1,Pe.poolData2]);var Je=function(){try{var e=E,t=G;if(_e){var a=[t,e];e=a[0],t=a[1]}return Object(N.jsx)(N.Fragment,{children:P[Me[e]].symbol+"/"+P[Me[t]].symbol})}catch(n){return Object(N.jsx)(N.Fragment,{})}},Ze=function(e){var t=Object.assign({},(Object(s.a)(e),e));ye(!_e),Ge(Object(r.a)(Object(r.a)({},t),{},{exchangeFlags:!_e,checked:Te}))},Qe=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var a,c,r,o,i,u,l,b,j;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},(Object(s.a)(t),t)),e.prev=1,c=void 0===a.i?E:a.i,r=void 0===a.j?G:a.j,o=void 0===a.dx?R:a.dx,i=a.checked?L:x,u=a.checked?D:p,Object(h.fb)(o).gt(0)){e.next=10;break}return $(0),e.abrupt("return");case 10:if(l=Object(h.fb)(o).times(u[i[c]].precision)._toIntegerDown()._toHex(),b=null,!a.checked){e.next=18;break}return e.next=15,Object(g.R)(c,r,l,F);case 15:b=e.sent,e.next=21;break;case 18:return e.next=20,Object(g.mb)(c,r,l,F);case 20:b=e.sent;case 21:b.success?(j=Object(h.a)(b.value).div(u[i[r]].precision),$(Object(h.c)(Object(h.a)(j)._toFixed(u[i[r]].decimal,1))),oe(Object(h.a)(b.value))):($(0),oe(1)),a.notChangeRate||Ge({i:c,j:r,dx:o,checked:a.checked}),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(1),console.log("getDyData: ",e.t0);case 28:case"end":return e.stop()}}),e,null,[[1,25]])})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var a,c,r,o,i,u,l,b,j,d;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},(Object(s.a)(t),t)),e.prev=1,c=void 0===a.i?E:a.i,r=void 0===a.j?G:a.j,o=void 0===a.dx?R:a.dx,i=void 0===a.exchangeFlags?_e:a.exchangeFlags,u=a.checked?L:x,l=a.checked?D:p,b=Object(h.fb)(o).times(l[u[c]].precision)._toIntegerDown()._toHex(),j=null,Object(h.fb)(o).gt(0)){e.next=12;break}return e.abrupt("return");case 12:if(!a.checked){e.next=18;break}return e.next=15,Object(g.R)(c,r,b,F);case 15:j=e.sent,e.next=21;break;case 18:return e.next=20,Object(g.mb)(c,r,b,F);case 20:j=e.sent;case 21:j.success&&(d=Object(h.a)(j.value).div(l[u[r]].precision).div(Object(h.fb)(o)),ne(i?Object(h.a)(1).div(Object(h.a)(d)._toFixed(4,1))._toFixed(4,1):d._toFixed(4,1))),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(1),console.log("getRateData: ",e.t0);case 27:case"end":return e.stop()}}),e,null,[[1,24]])})));return function(t){return e.apply(this,arguments)}}(),We=function(e){var t=Te?D:p,a=E;Number(e)!==Number(G)&&(a=G),W(a),H(e);var n=Object(h.fb)(R)._toFixed(t[Me[e]].decimal,1);J(Object(h.c)(n)),Qe({i:e,j:a,dx:n,checked:Te})},ze=function(e){var t=Te?D:p,a=G;Number(e)!==Number(E)&&(a=E),H(a),W(e);var n=Object(h.fb)(R)._toFixed(t[Me[a]].decimal,1);J(Object(h.c)(n)),Qe({j:e,i:a,dx:n,checked:Te})},Xe=function(e){!De&&Ie(!0);var t=Te?D:p,a=Object(h.V)((""+e).replace(/,/g,""),t[Me[E]].decimal),n=a.valid,c=a.str,r=Ke&&Ke[Me[E]]&&Object(h.a)(Ke[Me[E]].balance).div(t[Me[E]].precision)._toFixed(2,1);if(n){if(Object(h.a)(c).lte(0))return J(Object(h.c)(c)),$(0),void he(d.a.get("buysell.error_msg_1"));Object(h.a)(c).gt(r)&&he(d.a.get("buysell.error_msg_2")),J(Object(h.c)(c)),Qe({dx:c,checked:Te})}},Ye=function(e){try{var t="--";return t=e[Me[E]].balance,t=Object(h.a)(t).isNaN()?"--":e[Me[E]].balance.div(e[Me[E]].precision),Object(N.jsx)("span",{children:e&&Object(h.u)(t)})}catch(a){}},$e=function(){try{var e=Ke[Me[E]],t=e.precision,a=e.balance,n=e.symbol;return a=Object(h.a)(a).div(t),Object(h.fb)(R).eq(0)||Object(h.fb)(R).isNaN()?(he(d.a.get("error.e1")),!0):Object(h.fb)(R).gt(a)?(he(d.a.get("error.e2",{token:n})),!0):2===le&&(!de||Number(de)<.1||Number(de)>50)?(he(d.a.get("error.e5")),!0):(he(""),!1)}catch(c){return!1}};Object(j.useEffect)((function(){De&&$e()}),[E,G,R,le,de]);var et=function(){var e=Te?D:p,t=Ke&&Object(h.a)(Ke[Me[E]].balance).div(e[Me[E]].precision);Xe(t)},tt=function(){var e=function(){var e=Object(c.a)(Object(n.a)().mark((function e(t){var a,c,r,s,o,i,u;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.checked,c=a?L:x,Be(a),r=0,s=1,o=Object(h.fb)(R),a||(r=2,s=0),!a){e.next=15;break}if("--"!==(null===(i=Pe.poolData2[c[r]])||void 0===i?void 0:i.balance)){e.next=13;break}return e.next=11,Pe.getBalanceInfo(F,A,"2usdlp");case 11:Ee(Pe.poolData2),Re(L);case 13:e.next=20;break;case 15:if("--"!==(null===(u=Pe.poolData1[c[r]])||void 0===u?void 0:u.balance)){e.next=20;break}return e.next=18,Pe.getBalanceInfo(F);case 18:Ee(Pe.poolData1),Re(x);case 20:H(r),W(s),J(Object(h.c)(o)),Qe({i:r,j:s,dx:o,checked:a,notChangeRate:!0}),Ge({no:1,i:r,j:s,dx:o,checked:a});case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{children:Object(N.jsx)(i.a,{checked:Te,onChange:e,children:d.a.get("buysell.".concat("2Pool_2"===B?"2Pool_2lp_swap":"2usdlp_swap"))})}),Object(N.jsxs)("div",{className:"exchang-rate-text mt-20",children:[Object(N.jsxs)("span",{className:"en-US"===window.localStorage.getItem("lang")?"er-en":"",children:[d.a.get("buysell.exchange_rate",{symbol:"3Pool LP"})+" ",Object(N.jsx)(Je,{})]}),Object(N.jsx)("img",{style:{cursor:"pointer",margin:"0 6px"},alt:"",src:f.a,onClick:Ze}),"(",Object(N.jsxs)("span",{children:[d.a.get("buysell.including_fees"),"): ",-1===ae?d.a.get("buysell.not_available"):ae]})]})]})},at=function(){var t=function(){var t=Object(c.a)(Object(n.a)().mark((function t(){var a,r,s,o,i,u,l;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=function(){var t=Object(c.a)(Object(n.a)().mark((function t(){var a,c,r,s,o,i,u,l,b,j;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!me){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,r=2!==le?le:de?Object(h.a)(de).div(100):0,s=Object(h.a)(se).times(Object(h.a)(1).minus(Object(h.a)(r)))._toIntegerDown()._toHex(),o=E,i=G,u=Te?D:p,l=Object(h.fb)(R).times(u[Me[o]].precision)._toIntegerDown()._toHex(),b={title:"notification.tip1",title2:"notification.tip1",title3:"notification.tip1",title4:"notification.tip1",obj:{fromValue:Object(h.u)(Object(h.fb)(R)),fromToken:null===(a=P[Me[o]])||void 0===a?void 0:a.symbol,toValue:Object(h.u)(Object(h.fb)(Y)),toToken:null===(c=P[Me[i]])||void 0===c?void 0:c.symbol}},j="",!Te){t.next=17;break}return t.next=14,Ne.toExchangeUsdcNew(o,i,l,s,b,[["pool/updateCurrencyData"]],F);case 14:j=t.sent,t.next=20;break;case 17:return t.next=19,Ne.toUsdcExchange(o,i,l,s,b,[["pool/updateCurrencyData"]],F);case 19:j=t.sent;case 20:j&&(setTimeout((function(){Te?Pe.getBalanceInfo(F,A,"2usdlp"):Pe.getBalanceInfo(F)}),5e3),e.onSubmit&&e.onSubmit(j)),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(2),console.log("sellSubmit: ",t.t0);case 26:case"end":return t.stop()}}),t,null,[[2,23]])})));return function(){return t.apply(this,arguments)}}(),Se.isConnected){t.next=4;break}return he(d.a.get("buysell.error_msg_3")),t.abrupt("return");case 4:if(!De&&Ie(!0),me){t.next=9;break}if(!$e()){t.next=9;break}return t.abrupt("return");case 9:if(!me){t.next=11;break}return t.abrupt("return");case 11:return r=Te?D:p,t.prev=12,t.next=15,Object(g.Sb)(window.defaultAccount,[r[Me[E]].token],[F]);case 15:if(s=t.sent,o=s[F].allowance,i=Ke[Me[E]].approveStatus,o.gt(0)||i){t.next=33;break}return u={action:"approve",title:"deposit.approve_token",obj:{value:P[(Te?A:I)[E]].symbol},continuous:!0},l=r[Me[E]].token,t.next=24,Ne.approveToken(l,F,u,[["pool/getBalanceInfo"]]);case 24:if(!t.sent){t.next=30;break}Ke[Me[E]].approveStatus=2,a(),t.next=31;break;case 30:return t.abrupt("return");case 31:t.next=34;break;case 33:a();case 34:t.next=39;break;case 36:t.prev=36,t.t0=t.catch(12),console.log("exchangeBefore: ",t.t0);case 39:case"end":return t.stop()}}),t,null,[[12,36]])})));return function(){return t.apply(this,arguments)}}();return Object(N.jsx)(N.Fragment,{children:me?Object(N.jsx)(y.a,{styleName:"mt-40",type:"single",disabled:!0,info:d.a.get("sell_btn")}):Object(N.jsx)(y.a,{styleName:"mt-40",type:"single",info:d.a.get("sell_btn"),onClick:t})})},nt=function(e){!De&&Ie(!0),be(e),2!==e&&Oe("")},ct=function(e){!De&&Ie(!0);var t=Object(h.V)(e,10),a=t.valid,n=t.str;if(a)if(""===n)Oe("");else if(Object(h.a)(n).lte(100)){var c,r=n,s=n.split(".");(null===(c=s[1])||void 0===c?void 0:c.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),Oe(r)}},rt=function(e){var t=e.direction,a=void 0===t?"left":t,n=Te?A:I,c=Te?D:p;return Object(N.jsx)("div",{className:"flex start mb-16 pc-input-box",children:n.map((function(e){var t="2usdlp"===e||"2Pool_2"===e?m.a[T]?m.a[T]:O.default:m.a[e]?m.a[e]:O.default,n="left"===a?E:G;return Object(N.jsx)(k.a,{id:e,checked:n===c[e].index,tokenLogo:t,symbol:c[e].symbol,onChange:function(t,n){"left"===a?We(c[e].index):ze(c[e].index)}})}))})},st=function(){return Object(N.jsx)("span",{className:"exchange-alt",onClick:function(){return function(){!De&&Ie(!0);var e=E,t=G,a=Y;e!==t&&(H(t),W(e),J(a),Qe({i:t,j:e,dx:a,notChangeRate:!0,checked:Te}),Ge({no:1,i:t,j:e,dx:a,checked:Te}))}()}})},ot=Object(S.a)(S.b);return Object(N.jsx)(b.a,{children:function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"exchange-box",children:[Object(N.jsx)(rt,{direction:"left"},"left"),Object(N.jsxs)("div",{className:"input-block",children:[Object(N.jsxs)("div",{className:"flex",children:[Object(N.jsx)("div",{className:"input-number",children:Object(N.jsx)(u.a,{className:"input",value:R,onChange:function(e){return Xe(e.target.value)}})}),Object(N.jsx)("span",{className:"max-btn",onClick:et,children:d.a.get("sunSwapV3.swap.input_from_max")})]}),Object(N.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(N.jsx)("span",{children:d.a.get("sunSwapV3.swap.input_from_balance")})," ",Ye(Ke)]})]}),Object(N.jsxs)("div",{className:"flex",children:[Object(N.jsx)(st,{}),!ot&&Object(N.jsx)("div",{className:"flex start",children:Object(N.jsx)(_.a,{type:"exchange",slippage:le,customSlippage:de,CUSTOM_SLIPPAGE:C,onChangeSlippage:function(e){nt(Number(e))},onChangeCustomSlippage:function(e){be(2),ct(e)}})})]}),Object(N.jsx)(rt,{direction:"right"},"right"),Object(N.jsxs)("div",{className:"input-block",children:[Object(N.jsx)("div",{className:"input-number",children:Object(N.jsx)(u.a,{disabled:!0,className:"input",value:Y})}),Object(N.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(N.jsx)("span",{children:d.a.get("sunSwapV3.swap.input_from_balance")})," ",Ye(Ke)]})]}),Object(N.jsx)(tt,{}),ot&&Object(N.jsx)("div",{className:"flex start",children:Object(N.jsx)(_.a,{type:"exchange",slippage:le,customSlippage:de,CUSTOM_SLIPPAGE:C,onChangeSlippage:function(e){nt(Number(e))},onChangeCustomSlippage:function(e){be(2),ct(e)}})})]}),Object(N.jsx)(at,{}),me&&Object(N.jsx)("div",{className:"error-content mt-12",children:Object(N.jsx)("div",{className:"error-tip",children:me})})]})}})}}}]);