/*! For license information please see 28.dd335f72.chunk.js.LICENSE.txt */
(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[28],{1033:function(e,t,r){"use strict";var a=r(5),n=r(1),c=r(44),o=r(2),i=r(52),s=r.n(i),l=r(269),u=r(778),d=r(18),f=r.n(d),h=r(75),j=r(187),b=r(3),m=r(0),p=r(822),v=r(973),g=r(815),O=r(6);function x(){x=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(E){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new _(n||[]);return a(o,"_invoke",{value:y(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(E){return{type:"throw",arg:E}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(L([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function y(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return S()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=w(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function w(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(O.prototype),s(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new O(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;N(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}t.a=function(e){var t=Object(h.d)((function(){return j.a.network})),r=Object(h.d)((function(){return j.a.system})),i=Object(h.d)((function(){return j.a.pool})),d=t.modalShow,y=t.closeModal,w=t.setData,k=t.stakeVersion,N=b.a.tokens,_=b.a.defaultId,L=Object(o.useState)(i.stakePoolData2),S=Object(c.a)(L,2),E=S[0],C=S[1],D=Object(o.useState)({available:"--",amount:"--",penaltyAmount:"--"}),T=Object(c.a)(D,2),A=T[0],P=T[1];Object(o.useEffect)((function(){var e=i["stakePoolData"+k];P(e.withdrawable)}),[]);var M=function(){var t=Object(n.a)(x().mark((function t(n){var c,o,s;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("button"===n.target.tagName.toLowerCase()&&-1==n.target.className.indexOf("disabled")){t.next=2;break}return t.abrupt("return");case 2:return E.claimable,c=i["stakePoolData"+k].claimable,C(Object(a.a)({},i["stakePoolData"+k])),o={title:"actions.claim_all",obj:{value1:Object(m.t)(Object(m.a)(c[1]).div(N[_].precision)),symbol1:N[_].symbol,value2:Object(m.t)(Object(m.a)(c[3]).div(N.tusd.precision)),symbol2:N.tusd.symbol}},s="1"===k?"stake":"stake2",t.next=9,r.getReward(N[_][s],o);case 9:t.sent&&(w({modalShow:"TopModal"}),setTimeout((function(){var t=r.withdrawExpiredLocks({title:"newStake.stake_pool.withdraw",obj:{}});t&&(y(),setTimeout((function(){e.cb()}),5e3)),console.log(t),e.cb()}),b.a.confirmTime));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=Object(n.a)(x().mark((function t(a){var n,c;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(m.a)(a).gt(0)){t.next=7;break}return n={title:"actions.claim_lp",obj:{value:Object(m.t)(a),symbol:_.toUpperCase()}},t.next=4,r.withdrawSSP(Object(m.a)(a).times(N[_].precision)._toHex(),n);case 4:(c=t.sent)&&(y(),setTimeout((function(){e.cb()}),5e3)),console.log(c);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=function(){var t=Object(n.a)(x().mark((function t(a){var n,c;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(m.a)(a).gt(0)){t.next=7;break}return n={title:"actions.claim_lp",obj:{value:Object(m.t)(a),symbol:_.toUpperCase()}},t.next=4,r.exitSSP(n);case 4:(c=t.sent)&&(y(),setTimeout((function(){e.cb()}),5e3)),console.log(c);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Y=function(){var e=i["stakePoolData"+k].lockData,t=Object(m.a)(s()().format("X")).gt(e.lastLockTimeStamp);return Object(O.jsx)(O.Fragment,{children:"1"===k?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"flex jcsb",children:[Object(O.jsx)("span",{className:"fs-12 c-999",children:f.a.get("newStake.stake_pool.lock_expired")}),Object(O.jsx)("span",{className:"fs-14 c-333 fw-500",children:Object(m.t)(Object(m.a)(e.unlockable).div(N[_].precision))})]}),Object(O.jsxs)("button",{disabled:Object(m.a)(e.unlockable).lte(0),className:"common-btn mt-30 flex aic jcc",onClick:M,children:[f.a.get("newStake.stake_pool.withdraw"),Object(O.jsx)(l.a,{title:f.a.getHTML("newStake.stake_pool.withdraw_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(m.a)(e.unlockable).lte(0)?Object(O.jsx)("img",{src:p.a,className:"ml-2"}):Object(O.jsx)("img",{src:v.a,className:"ml-2"})})]})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"flex jcsb",children:[Object(O.jsx)("span",{className:"fs-12 c-999",children:f.a.get("newStake.stake_pool.lock_expired")}),Object(O.jsx)("span",{className:"fs-14 c-333 fw-500",children:t?Object(m.t)(Object(m.a)(e.lockData).div(N[_].precision)):"0.00"})]}),Object(O.jsxs)("button",{disabled:!t||Object(m.a)(e.lockData).lte(0),className:"common-btn mt-30 flex aic jcc",onClick:M,children:[f.a.get("newStake.stake_pool.withdraw"),Object(O.jsx)(l.a,{title:f.a.getHTML("newStake.stake_pool.withdraw_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:!t||Object(m.a)(e.lockData).lte(0)?Object(O.jsx)("img",{src:p.a,className:"ml-2"}):Object(O.jsx)("img",{src:v.a,className:"ml-2"})})]})]})})};return Object(O.jsx)(h.a,{children:function(){return Object(O.jsx)(u.a,{visible:"WithdrawModal"===d,title:_.toUpperCase()+" "+f.a.get("newStake.stake_pool.withdraw"),width:430,zIndex:999,footer:null,className:"lock-modal stake-token",onCancel:y,closeIcon:Object(O.jsx)("img",{src:g.a}),wrapClassName:"vertical-center-modal",children:Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"flex jcsb",children:[Object(O.jsxs)("p",{className:"stake-tooltip flex jcfe aic fs-12 c-999",children:[f.a.get("newStake.stake_pool.claim_free")," "+_.toUpperCase()," ",Object(O.jsx)(l.a,{title:f.a.getHTML("newStake.stake_pool.claim_free_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(O.jsx)("img",{src:p.a,className:"ml-2"})})]}),Object(O.jsx)("span",{className:"fs-14 c-333 fw-500",children:Object(m.t)(A.available)})]}),Object(O.jsx)("button",{disabled:Object(m.a)(A.available).lte(0),className:"common-btn mt-30",onClick:function(){return I(Object(m.a)(A.available))},children:f.a.get("newStake.stake_pool.withdraw")}),Object(O.jsx)("div",{className:"line"}),Object(O.jsxs)("div",{className:"flex jcsb",children:[Object(O.jsxs)("p",{className:"stake-tooltip flex jcfe aic fs-12 c-999",children:[f.a.get("newStake.stake_pool.withdraw_all"),Object(O.jsx)(l.a,{title:f.a.getHTML("newStake.stake_pool.withdraw_all_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(O.jsx)("img",{src:p.a,className:"ml-2"})})]}),Object(O.jsx)("span",{className:"fs-14 c-333 fw-500",children:Object(m.t)(A.amount)})]}),Object(O.jsxs)("div",{className:"flex jcsb mt-16",children:[Object(O.jsxs)("span",{className:"fs-12 c-999",children:[f.a.get("newStake.stake_pool.quit_claimed")," "+_.toUpperCase()," "]}),Object(O.jsx)("span",{className:"fs-14 c-333 fw-500",children:Object(m.t)(A.penaltyAmount)})]}),Object(O.jsx)("button",{disabled:Object(m.a)(A.amount).lte(0)&&Object(m.a)(A.penaltyAmount).lte(0),className:"common-btn mt-30",onClick:function(){return F(Object(m.a)(A.amount))},children:f.a.get("newStake.stake_pool.claim_withdraw")}),Object(O.jsx)("div",{className:"line"}),Object(O.jsx)(Y,{})]})})}})}},1113:function(e,t,r){},1116:function(e,t,r){},1117:function(e,t,r){},1118:function(e,t,r){},1119:function(e,t,r){},1120:function(e,t,r){},1165:function(e,t,r){"use strict";var a=r(2),n=r(75),c=r(1),o=r(44),i=r(778),s=r(1926),l=r(18),u=r.n(l),d=r(115),f=r(187),h=r(3),j=r(0),b=r(11),m=r(815),p=r(6);function v(){v=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(E){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new _(n||[]);return a(o,"_invoke",{value:y(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(E){return{type:"throw",arg:E}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(L([])));p&&p!==t&&r.call(p,c)&&(b=p);var g=j.prototype=f.prototype=Object.create(b);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function y(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return S()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=w(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function w(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=j,a(g,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},O(x.prototype),s(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new x(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(g),s(g,i,"Generator"),s(g,c,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;N(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var g=function(e){var t=Object(n.d)((function(){return f.a.network})),r=Object(n.d)((function(){return f.a.system})),l=Object(n.d)((function(){return f.a.pool})),d=t.modalShow,g=t.closeModal,O=t.poolId,x=t.stakeVersion,y=l["stakeData"+x],w=y[O],k=w.balance,N=w.symbol,_=w.allowance,L=w.token,S=w.index,E=w.precision,C=w.id,D=w.tokenAddress,T=w.tokenAddress2,A=w.decimal,P=w.currentSpeed,M=w.stakedBalanceNew,I=w.version,F=Object(a.useState)(""),Y=Object(o.a)(F,2),G=Y[0],H=Y[1],R=Object(a.useState)(0),U=Object(o.a)(R,2),q=U[0],B=U[1],V=Object(a.useState)(""),W=Object(o.a)(V,2),z=W[0],Q=W[1],Z=Object(a.useState)(!1),K=Object(o.a)(Z,2),X=K[0],J=K[1],$=window.localStorage.getItem("lang"),ee=!1,te=h.a.tokens;Object(a.useEffect)((function(){X&&re()}),[G,X]),Object(a.useEffect)((function(){oe()}),[G]);var re=function(){return!G||Object(j.bb)(G).lte(0)?(Q(u.a.get("error.e1")),!1):Object(j.bb)(G).gt(k)?(Q(u.a.get("error.e2",{token:N})),!1):(Q(""),!0)},ae=function(){!X&&J(!0),H(Object(j.c)(k))},ne=function(){var e=Object(c.a)(v().mark((function e(){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X&&J(!0),re()){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,!_.lt(Object(j.bb)(G))||ee){e.next=13;break}return t={action:"approve",title:"deposit.approve_token",obj:{value:"USDC Old LP"===N&&"zh-CN"===$?"Old USDC LP":N},continuous:!0},e.next=9,r.toApproveLP(L,"3"===x?te[C].lpStaker:"1"===x?h.a.lpStablePool:h.a.lpStablePool2,t);case 9:e.sent&&(ee=!0,ce()),e.next=14;break;case 13:ce();case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(3);case 18:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var t=Object(c.a)(v().mark((function t(){var a,n;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(re()){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,a={title:"actions.stake_lp",obj:{value:Object(j.t)(Object(j.bb)(G)),symbol:"USDC Old LP"===N&&"zh-CN"===$?"Old USDC LP":N}},n="","3"!==x){t.next=11;break}return t.next=8,r.depositLPNew(te[C].lpStaker,Object(j.bb)(G).times(E)._toIntegerDown()._toHex(),a,[["pool/getStakeData"]]);case 8:n=t.sent,t.next=14;break;case 11:return t.next=13,r.depositLP("1"===x?h.a.lpStablePool:h.a.lpStablePool2,S-1,Object(j.bb)(G).times(E)._toIntegerDown()._toHex(),a,[["pool/getStakeData"]]);case 13:n=t.sent;case 14:n&&(g(),setTimeout((function(){e.cb()}),5e3)),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[2,17]])})));return function(){return t.apply(this,arguments)}}(),oe=function(){var e=Object(c.a)(v().mark((function e(){var r,a,n,c,o,i,s,l,u,d,f,h,m,p,g,x,y,w,k,N;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j.a.config({DECIMAL_PLACES:30}),e.next=4,Object(b.U)(te[O].lpStaker,t.defaultAccount,E);case 4:r=e.sent,a=r.votingBalance,n=r.votingTotal,c=r.workingBalance,o=r.workingSupply,i=r.gaugeBalance,s=r.gaugeTotalsupply,r.success&&(l=Object(j.a)(.4),u=Object(j.a)(.6),d=Object(j.bb)(G).isNaN()?Object(j.a)(0):Object(j.bb)(G),f=i.plus(d),h=Object(j.a)(s).plus(f),m=Object(j.a)(n),p=(p=f.times(l)).plus(h.times(a).div(m).times(u)),p=Object(j.a)(Math.min(f,p)),g=f.times(l),x=o.plus(g).minus(c),y=o.plus(p).minus(c),w=p.div(y),k=g.div(x),N=w.div(k).isNaN()?Object(j.a)(0):w.div(k),B(N)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)(n.a,{children:function(){return Object(p.jsx)(i.a,{visible:"AddLiqModal"===d,title:u.a.getHTML("newStake.liquidity.stake_token",{symbol:"USDC Old LP"===N&&"zh-CN"===$?"Old USDC LP":N}),width:430,zIndex:999,footer:null,className:"lock-modal stake-token "+("3"===x&&"v3-stake-token v3-"+O),onCancel:g,closeIcon:Object(p.jsx)("img",{src:m.a}),wrapClassName:"vertical-center-modal",children:Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"flex jcsb",children:[Object(p.jsx)("span",{className:"fs-12 c-333",children:u.a.get("newStake.stake_pool.deposit")}),Object(p.jsxs)("span",{className:"fs-12 c-333",children:[Object(p.jsxs)("span",{className:"c-999",children:[u.a.get("newStake.stake_pool.balance"),":"]})," ",2===y[O].version?Object(j.a)(k).eq(0)?"0.00":Object(j.t)(k,{dp:18,cutZero:2}):Object(j.t)(k)]})]}),Object(p.jsxs)("div",{className:"",children:[Object(p.jsx)(s.a,{className:"mt-8",suffix:Object(p.jsx)("span",{className:"max-btn",onClick:ae,children:u.a.get("deposit.max")}),value:G,onChange:function(e){return function(e){!X&&J(!0);var t=Object(j.S)((""+e).replace(/,/g,""),A),r=t.valid,a=t.str;r&&H(Object(j.c)(a))}(e.target.value)}}),z&&Object(p.jsx)("div",{className:"common-error",children:z})]}),"3"===x&&Object(p.jsxs)("div",{children:[Object(p.jsxs)("p",{className:"c-666 flex jcsb fs-12 mt-16 lh-12",children:[u.a.get("stakes.current_speed"),Object(p.jsx)("span",{className:"fs-14 c-333 mr-8",children:Object(j.a)(M).gt(0)?Object(j.a)(P)._toFixed(2):"--"})]}),Object(p.jsxs)("p",{className:"c-666 flex jcsb fs-12 mt-8",children:[u.a.get("stakes.deposited_speed"),Object(p.jsx)("span",{className:"fs-14 c-333 mr-8",children:Object(j.a)(q)._toFixed(2)})]})]}),Object(p.jsx)("button",{disabled:!!z,className:"common-btn ",onClick:ne,children:u.a.get("newStake.stake_pool.deposit")}),Object(p.jsx)("div",{className:"mt-12 c-5915e1 fs-12 tac",children:Object(j.D)({id:C,symbol:N,tokenAddress:D,tokenAddress2:T,lang:$,version:I})})]})})}})};function O(){O=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(E){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new _(n||[]);return a(o,"_invoke",{value:y(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(E){return{type:"throw",arg:E}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(L([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function y(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return S()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=w(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function w(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(x.prototype),s(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new x(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;N(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var x=function(e){var t=Object(n.d)((function(){return f.a.network})),r=Object(n.d)((function(){return f.a.system})),l=Object(n.d)((function(){return f.a.pool})),d=t.modalShow,b=t.closeModal,v=t.poolId,g=t.stakeVersion,x=l["stakeData"+g],y=x[v],w=y.symbol,k=y.index,N=y.precision,_=y.stakedBalance,L=y.stakedBalanceNew,S=y.id,E=y.tokenAddress,C=y.tokenAddress2,D=y.decimal,T=y.version,A=Object(a.useState)(""),P=Object(o.a)(A,2),M=P[0],I=P[1],F=Object(a.useState)(""),Y=Object(o.a)(F,2),G=Y[0],H=Y[1],R=Object(a.useState)(!1),U=Object(o.a)(R,2),q=U[0],B=U[1],V=Object(a.useState)("3"===g?L:_),W=Object(o.a)(V,2),z=W[0],Q=(W[1],window.localStorage.getItem("lang"));Object(a.useEffect)((function(){q&&Z()}),[M,q]);var Z=function(){return!M||Object(j.bb)(M).lte(0)?(H(u.a.get("error.e1")),!1):Object(j.bb)(M).gt(z)?(H(u.a.get("error.e2",{token:w})),!1):(H(""),!0)},K=function(e){!q&&B(!0);var t=Object(j.S)((""+e).replace(/,/g,""),D),r=t.valid,a=t.str;r&&I(Object(j.c)(a))},X=function(){!q&&B(!0),K(z)},J=function(){var t=Object(c.a)(O().mark((function t(){var a,n;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!q&&B(!0),Z()){t.next=3;break}return t.abrupt("return");case 3:if(!Object(j.bb)(M).gt(0)){t.next=16;break}if(a={title:"actions.withdraw_lp",obj:{value:Object(j.t)(Object(j.bb)(M)),symbol:"USDC Old LP"===w&&"zh-CN"===Q?"Old USDC LP":w}},n="","3"!==g){t.next=12;break}return t.next=9,r.withdrawLPNew(h.a.tokens[S].lpStaker,Object(j.bb)(M).times(N)._toHex(),a);case 9:n=t.sent,t.next=15;break;case 12:return t.next=14,r.withdrawLP("1"===g?h.a.lpStablePool:h.a.lpStablePool2,k-1,Object(j.bb)(M).times(N)._toHex(),a);case 14:n=t.sent;case 15:n&&(b(),setTimeout((function(){e.cb()}),5e3));case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(p.jsx)(n.a,{children:function(){return Object(p.jsx)(i.a,{visible:"RemoveLiqModal"===d,title:u.a.getHTML("newStake.liquidity.stake_token_cancel",{symbol:"USDC Old LP"===w&&"zh-CN"===Q?"Old USDC LP":w}),width:430,zIndex:999,footer:null,className:"lock-modal stake-token"+("3"===g&&" v3-stake-token v3-"+v),onCancel:b,closeIcon:Object(p.jsx)("img",{src:m.a}),wrapClassName:"vertical-center-modal",children:Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"flex jcsb",children:[Object(p.jsx)("span",{className:"fs-12 c-333",children:u.a.get("newStake.stake_pool.withdraw")}),Object(p.jsxs)("span",{className:"fs-12 c-333",children:[Object(p.jsxs)("span",{className:"c-999",children:[u.a.get("newStake.liquidity.staked"),":"]}),2===x[v].version?Object(j.a)(z).eq(0)?"0.00":Object(j.t)(z,{dp:18,cutZero:2}):Object(j.t)(z)]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)(s.a,{className:"mt-8",suffix:Object(p.jsx)("span",{className:"max-btn",onClick:X,children:u.a.get("deposit.max")}),value:M,onChange:function(e){return K(e.target.value)}}),G&&Object(p.jsx)("div",{className:"common-error",children:G})]}),Object(p.jsx)("button",{disabled:!!G,className:"common-btn",onClick:J,children:u.a.get("newStake.stake_pool.withdraw")}),Object(p.jsx)("div",{className:"mt-12 c-5915e1 fs-12 tac",children:Object(j.D)({id:S,symbol:w,tokenAddress:E,tokenAddress2:C,lang:Q,version:T})})]})})}})},y=r(52),w=r.n(y),k=r(1920),N=r(269),_=r(1916),L=r(822);function S(){S=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(E){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new N(n||[]);return a(o,"_invoke",{value:x(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(E){return{type:"throw",arg:E}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(_([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function x(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return L()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=y(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function y(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(O.prototype),s(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new O(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;k(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var E=k.a.TabPane,C=function(e){Object(d.a)(window.navigator).any;var t=Object(n.d)((function(){return f.a.network})),r=Object(n.d)((function(){return f.a.system})),l=Object(n.d)((function(){return f.a.pool})),v=t.modalShow,g=t.closeModal,O=t.setData,x=t.stakeVersion,y=(l.stakePoolData1,l.stakePoolData2,l.getVoteInfo),C=l["stakePoolData"+x],D=C.totalStaked,T=C.totalLocked,A=C.balance,P=C.lockData,M=h.a.tokens,I=h.a.defaultId,F=h.a.date,Y=Object(a.useState)(t.defaultTabValue),G=Object(o.a)(Y,2),H=G[0],R=G[1],U=Object(a.useState)(""),q=Object(o.a)(U,2),B=q[0],V=q[1],W=Object(a.useState)(""),z=Object(o.a)(W,2),Q=z[0],Z=z[1],K=Object(a.useState)(""),X=Object(o.a)(K,2),J=X[0],$=X[1],ee=Object(a.useState)(w()()),te=Object(o.a)(ee,2),re=te[0],ae=te[1],ne=Object(a.useState)(""),ce=Object(o.a)(ne,2),oe=ce[0],ie=ce[1],se=Object(a.useState)(""),le=Object(o.a)(se,2),ue=le[0],de=le[1],fe=Object(a.useState)(w()()),he=Object(o.a)(fe,2),je=he[0],be=he[1],me=Object(a.useState)(w()().add(F.four_year,"days")),pe=Object(o.a)(me,2),ve=pe[0],ge=pe[1],Oe=Object(a.useState)("--"),xe=Object(o.a)(Oe,2),ye=xe[0],we=xe[1],ke=Object(a.useState)("--"),Ne=Object(o.a)(ke,2),_e=Ne[0],Le=Ne[1],Se=Object(a.useState)(!1),Ee=Object(o.a)(Se,2),Ce=Ee[0],De=Ee[1],Te=Object(a.useState)(!1),Ae=Object(o.a)(Te,2),Pe=Ae[0],Me=Ae[1],Ie=Object(a.useState)(!1),Fe=Object(o.a)(Ie,2),Ye=Fe[0],Ge=Fe[1],He=Object(a.useState)(!1),Re=Object(o.a)(He,2),Ue=Re[0],qe=Re[1],Be=Object(a.useState)(!1),Ve=Object(o.a)(Be,2),We=Ve[0],ze=Ve[1],Qe=!1;Object(a.useEffect)(Object(c.a)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"2"===x&&!C.isNeedRender&&Ze();case 1:case"end":return e.stop()}}),e)}))),[C]);var Ze=function(){var e=Object(c.a)(S().mark((function e(){var t,r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(t=C.lockData).lastLockTimeStamp&&(C.isNeedRender=!0),r=!1,t.lastLockTimeStamp&&Object(j.a)(t.lastLockTimeStamp).eq(0)&&(r=!0),De(r),Ke(r,w()(1e3*Object(j.a)(t.lastLockTimeStamp)))}catch(a){console.log("getLockData error: "+a)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(e,t){try{if(e)ae(w()().add(F.six_month,"days")),be(w()().add(F.six_month,"days")),ge(w()().add(F.four_year,"days"));else{var r=604800*parseInt((new Date).getTime()/1e3/604800);w()(t).diff(w()(1e3*r).add(F.six_month,"days"),"days")<=0?(ae(w()(1e3*r).add(F.six_month,"days")),be(w()(1e3*r).add(F.six_month,"days")),ge(w()(1e3*r).add(F.four_year,"days"))):(ae(t),be(t),ge(w()().add(F.four_year,"days")))}}catch(a){console.log("getLockDateRange error: "+a)}},Xe=function(){var e=l["stakePoolData"+x].stakeApy;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("p",{className:"fw-500 c-333 fs-14",children:u.a.get("newStake.stake_pool.lock_desc")}),Object(p.jsxs)("div",{className:"lc-info",children:[Object(p.jsxs)("p",{children:[Object(p.jsxs)("span",{className:"stake-tooltip flex jcfe aic",children:[Object(p.jsxs)("span",{className:"opa-5",children:[u.a.get("stake.apy")," "]}),Object(p.jsx)(N.a,{title:u.a.getHTML("newStake.stake_pool.lock_apy_tip",{per1:e.unlocked&&"-"!==e.unlocked&&Object(j.a)(e.unlocked).gte(0)?"".concat(Object(j.s)(Object(j.a)(e.unlocked)),"%"):"--",symbol1:"TUSD",per2:e.locked&&"-"!==e.locked&&Object(j.a)(e.locked).gte(0)?"".concat(Object(j.s)(Object(j.a)(e.locked)),"%"):"--",symbol2:"SUN"}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(p.jsx)("img",{src:L.a,className:"ml-2"})})]}),Object(p.jsx)("span",{children:e.unlocked&&"-"!==e.unlocked&&Object(j.a)(e.unlocked).gte(0)&&e.locked&&"-"!==e.locked&&Object(j.a)(e.locked).gte(0)?"".concat(Object(j.s)(Object(j.a)(e.unlocked).plus(Object(j.a)(e.locked))),"%"):"--"})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{className:"opa-5",children:u.a.get("newStake.stake_pool.lock_total")}),Object(p.jsxs)("span",{children:[Object(j.t)(Object(j.a)(T).div(M[I].precision))," ",I.toUpperCase()]})]})]}),Object(p.jsx)("div",{className:"line"}),Object(p.jsxs)("p",{className:"flex jcsb mb-8",children:[Object(p.jsx)("span",{className:"fs-12 c-333",children:u.a.getHTML("newStake.stake_pool.lock_sun",{symbol:I.toUpperCase()})}),Object(p.jsxs)("span",{className:"fs-12 c-333",children:[Object(p.jsxs)("span",{className:"c-999",children:[u.a.get("newStake.stake_pool.balance"),":"]})," ",A&&Object(j.t)(A.balance)]})]})]})},Je=function(){var e=C.lockData,t=!Object(j.a)(e.lastLockTimeStamp).eq(0)&&Object(j.a)(w()().format("X")).gt(e.lastLockTimeStamp);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"lc-date mt-24",children:[Object(p.jsxs)("div",{className:"flex jcsb aic",children:[Object(p.jsx)("span",{className:"fs-12 c-333",children:u.a.get("newStake.stake_pool.choose_lock_date")}),Object(p.jsx)("span",{children:re&&Object(p.jsx)(_.a,{className:Ye?"active":"",disabledDate:ct,onChange:at,value:re,allowClear:!1,disabled:t})})]}),Object(p.jsx)("div",{className:"lc-date-eles mt-16",children:Object.keys(F).map((function(e){return w()(je).diff(w()(),"days")<F[e]&&Object(p.jsx)("span",{onClick:function(t){return nt(e)},className:J!==e||Ye?"":"current",children:u.a.get("newStake.stake_pool.".concat(e))},e)}))})]}),Object(j.a)(e.unlockable).gt(0)?Object(p.jsx)("p",{className:"fs-12 c-999 lh-22 mt-6",children:u.a.get("newStake.stake_pool.date_expired")}):Object(p.jsx)("p",{className:"fs-12 c-999 lh-22 mt-6",children:u.a.getHTML("newStake.stake_pool.date_desc",{start:je.format("YYYY-MM-DD"),end:ve.format("YYYY-MM-DD"),symbol:I.toUpperCase()})}),Object(p.jsx)("div",{className:"line"}),Object(p.jsxs)("p",{className:"flex jcsb",children:[Object(p.jsx)("span",{className:"fs-12 c-666",children:u.a.get("newStake.stake_pool.lock_vote")}),Object(p.jsx)("span",{className:"fs-14 c-333 bold",children:Object(j.a)(_e).gte(0)?Object(j.t)(_e):"0.00"})]}),Object(p.jsxs)("p",{className:"flex jcsb",children:[Object(p.jsx)("span",{className:"fs-12 c-666",children:u.a.get("newStake.stake_pool.current_vote")}),Object(p.jsx)("span",{className:"fs-14 c-333 bold",children:Object(j.a)(ye).gte(0)?Object(j.t)(ye):"0.00"})]})]})},$e=function(e){!Ue&&qe(!0);var t=Object(j.S)((""+e).replace(/,/g,""),M[I].decimal),r=t.valid,a=t.str;r&&V(Object(j.c)(a))},et=function(){!Ue&&qe(!0);try{$e(A.balance)}catch(e){console.log("setLockMax error: "+e)}},tt=function(){var e=l["stakePoolData"+x].stakeApy;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("p",{className:"fw-500 c-333 fs-14",children:u.a.get("newStake.stake_pool.stake_desc")}),Object(p.jsxs)("div",{className:"lc-info",children:[Object(p.jsxs)("p",{children:[Object(p.jsxs)("span",{className:"stake-tooltip flex jcfe aic",children:[Object(p.jsx)("span",{className:"opa-5",children:u.a.get("stake.apy")}),Object(p.jsx)(N.a,{title:u.a.getHTML("newStake.stake_pool.stake_apy_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(p.jsx)("img",{src:L.a,className:"ml-2"})})]}),Object(p.jsx)("span",{children:e.unlocked&&"-"!==e.unlocked&&Object(j.a)(e.unlocked).gte(0)?"".concat(Object(j.s)(e.unlocked),"%"):"--"})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{className:"opa-5",children:u.a.get("newStake.stake_pool.stake_total")}),Object(p.jsxs)("span",{children:[Object(j.t)(Object(j.a)(D).div(Object(j.a)(10).pow(M[I].decimal)))," ",I.toUpperCase()]})]})]}),Object(p.jsx)("div",{className:"line"}),Object(p.jsxs)("p",{className:"flex jcsb mb-8",children:[Object(p.jsx)("span",{className:"fs-12 c-333",children:u.a.getHTML("newStake.stake_pool.stake_sun",{symbol:I.toUpperCase()})}),Object(p.jsxs)("span",{className:"fs-12 c-333",children:[Object(p.jsxs)("span",{className:"c-999",children:[u.a.get("newStake.stake_pool.balance"),":"]})," ",A&&Object(j.t)(A.balance)]})]})]})},rt=function(){!We&&ze(!0);try{Z(Object(j.c)(A.balance))}catch(e){console.log("setLockMax error: "+e)}},at=function(e){ae(e),Ge(!0)},nt=function(e){$(e),Ge(!1);var t=C.lockData,r=w()(1e3*Object(j.a)(t.lastLockTimeStamp));if(Ce)ae(w()().add(F[e],"days"));else{var a=604800*parseInt((new Date).getTime()/1e3/604800);w()(r).diff(w()(1e3*a).add(F.six_month,"days"),"days"),ae(w()(1e3*a).add(F[e],"days"))}},ct=function(e){return e&&(e.diff(w()(je),"hours")<0||e.diff(w()(ve),"hours")>0)},ot=function(){var e=Object(c.a)(S().mark((function e(){var a,n,c,o,i,s;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("1"!==H){e.next=6;break}if(!Ue&&qe(!0),ut()){e.next=4;break}return e.abrupt("return");case 4:e.next=9;break;case 6:if(!We&&ze(!0),dt()){e.next=9;break}return e.abrupt("return");case 9:if(e.prev=9,a=t.stakeVersion,n=l["stakePoolData"+a].balance,c=n.allowance,o=n.symbol,i="1"===H?B:Q,!c.lt(Object(j.bb)(i))||Qe){e.next=23;break}return s={action:"approve",title:"deposit.approve_token",obj:{value:o},continuous:!0},e.next=19,r.toApproveLP(n.token,"1"===t.stakeVersion?n.stake:n.stake2,s);case 19:e.sent&&(Qe=!0,it()),e.next=24;break;case 23:it();case 24:e.next=28;break;case 26:e.prev=26,e.t0=e.catch(9);case 28:case"end":return e.stop()}}),e,null,[[9,26]])})));return function(){return e.apply(this,arguments)}}(),it=function(){var a=Object(c.a)(S().mark((function a(){var n,c,o,i,s;return S().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if("2"!==(n=t.stakeVersion)||"1"!==H||Ce){a.next=4;break}return st(),a.abrupt("return");case 4:if(c="1"===H?B:Q,Object(j.bb)(c).gt(0)){a.next=7;break}return a.abrupt("return");case 7:if(a.prev=7,o={title:"1"===H?"actions.lock_lp":"actions.stake_lp",obj:{value:Object(j.t)(Object(j.bb)(c)),symbol:A.symbol}},i="","1"!==n){a.next=16;break}return a.next=13,r.stakeSSP(Object(j.bb)(c).times(A.precision)._toIntegerDown()._toHex(),"1"===H,o);case 13:i=a.sent,a.next=21;break;case 16:if("2"!==n){a.next=21;break}return s="1"===H?new Date(w()(re).format("YYYY-MM-DD")).getTime()/1e3:0,a.next=20,r.stakeSSP2(Object(j.bb)(c).times(A.precision)._toIntegerDown()._toHex(),"1"===H,Object(j.a)(s)._toHex(),o);case 20:i=a.sent;case 21:i&&(ht(),setTimeout((function(){e.cb()}),5e3)),a.next=27;break;case 24:a.prev=24,a.t0=a.catch(7),console.log(a.t0);case 27:case"end":return a.stop()}}),a,null,[[7,24]])})));return function(){return a.apply(this,arguments)}}(),st=function(){var t=Object(c.a)(S().mark((function t(){var a,n,c,o;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=C.lockData,n=Object(j.bb)(B||0),c=0===w()(re).diff(w()(1e3*Object(j.a)(a.lastLockTimeStamp)),"days")?0:parseInt(new Date(w()(re).format("YYYY-MM-DD")).getTime()/1e3),n.eq(0)&&0===c&&ie(u.a.get("error.e1")),o={title:"1"===H?"actions.lock_lp":"actions.stake_lp",obj:{value:Object(j.t)(n),symbol:A.symbol}},t.next=8,r.increaseLock(n.eq(0)?0:Object(j.a)(n).times(A.precision)._toIntegerDown()._toHex(),0===c?0:c+86400,o);case 8:t.sent&&(ht(),setTimeout((function(){e.cb()}),5e3)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log("redeposit error:"+t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}(),lt=function(e){O({defaultTabValue:e}),R(e)};Object(a.useEffect)((function(){var e=C.lockData,t=!Object(j.a)(e.lastLockTimeStamp).eq(0)&&Object(j.a)(w()().format("X")).gt(e.lastLockTimeStamp);Me(!!t),Ue&&ut()}),[B,x,Ue,P]);var ut=function(){try{var e=C.lockData;!Object(j.a)(e.lastLockTimeStamp).eq(0)&&Object(j.a)(w()().format("X")).gt(e.lastLockTimeStamp);if("1"===x){if(!B||Object(j.bb)(B).lte(0))return ie(u.a.get("error.e1")),!1}else if("2"===x){if(0===w()(re).diff(w()(1e3*Object(j.a)(e.lastLockTimeStamp)),"days")&&!B)return ie(u.a.get("error.e1")),!1;if(e.lastLockTimeStamp&&Object(j.a)(e.lastLockTimeStamp).eq(0)&&!Object(j.bb)(B).gt(0))return ie(u.a.get("error.e1")),!1}return Object(j.bb)(B).gt(A.balance)?(ie(u.a.get("error.e2",{token:I.toUpperCase()})),!1):(ie(""),!0)}catch(t){}};Object(a.useEffect)((function(){We&&dt()}),[Q,We]);var dt=function(){try{return!Q||Object(j.bb)(Q).lte(0)?(de(u.a.get("error.e1")),!1):Object(j.bb)(Q).gt(A.balance)?(de(u.a.get("error.e2",{token:I.toUpperCase()})),!1):(de(""),!0)}catch(e){}};Object(a.useEffect)(Object(c.a)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w()(re).diff(w()(),"days")>0&&ft();case 1:case"end":return e.stop()}}),e)}))),[B,re,P]);var ft=function(){var e=Object(c.a)(S().mark((function e(){var r,a,n,c,o;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("0x0000000000000000000000".concat(b.ec.tronWeb.address.toHex(t.defaultAccount)));case 3:(r=e.sent).success&&(a=r.value,n=new Date(w()(re)).getTime(),c=Object(j.a)(P.lockData).div(M[I].precision),Object(j.bb)(B).gt(0)&&(c=c.plus(Object(j.bb)(B))),126144e3,o=c.times((n-Date.now())/1e3).div(126144e3),Object(j.a)(o).lte(0)||Object(j.a)(o).minus(a).abs().lte(.01)?Le(a):Le(o.toFixed(2)),we(a)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ht=function(){C.isNeedRender=!1,g()};return Object(p.jsx)(n.a,{children:function(){return Object(p.jsx)(i.a,{visible:"LockStakeModal"===v,width:430,zIndex:999,footer:null,className:"lock-modal",maskClosable:!1,onCancel:ht,closeIcon:Object(p.jsx)("img",{src:m.a}),children:Object(p.jsxs)(k.a,{activeKey:H,type:"line",onChange:lt,children:[Object(p.jsx)(E,{tab:u.a.getHTML("newStake.stake_pool.lock_sun",{symbol:I.toUpperCase()}),children:Object(p.jsxs)("div",{className:"lock-content",children:[Object(p.jsx)(Xe,{}),Object(p.jsx)(s.a,{suffix:Object(p.jsx)("span",{className:"max-btn",onClick:et,children:u.a.get("deposit.max")}),value:B,onChange:function(e){return $e(e.target.value)}}),oe&&Object(p.jsx)("div",{className:"common-error",children:oe}),"2"===t.stakeVersion&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(Je,{})}),Object(p.jsx)("div",{className:"flex jcc",children:Object(p.jsx)("button",{disabled:oe||Pe,className:"common-btn mt-24",onClick:ot,children:u.a.get("newStake.stake_pool.deposit")})})]})},"1"),Object(p.jsx)(E,{tab:u.a.getHTML("newStake.stake_pool.stake_sun",{symbol:I.toUpperCase()}),children:Object(p.jsxs)("div",{className:"lc-content",children:[Object(p.jsx)(tt,{}),Object(p.jsx)(s.a,{suffix:Object(p.jsx)("span",{className:"max-btn",onClick:rt,children:u.a.get("deposit.max")}),value:Q,onChange:function(e){return function(e){!We&&ze(!0);var t=Object(j.S)((""+e).replace(/,/g,""),M[I].decimal),r=t.valid,a=t.str;r&&Z(Object(j.c)(a))}(e.target.value)}}),ue&&Object(p.jsx)("div",{className:"common-error",children:ue}),Object(p.jsx)("div",{className:"flex jcc",children:Object(p.jsx)("button",{disabled:ue,className:"common-btn mt-24",onClick:ot,children:u.a.get("newStake.stake_pool.deposit")})})]})},"2")]})})}})},D=r(1033),T=r(1917),A=function(e){var t=Object(n.d)((function(){return f.a.network})),r=Object(n.d)((function(){return f.a.pool})),c=t.modalShow,s=t.closeModal,l=t.stakeVersion,d=h.a.defaultId,m=h.a.tokens,v=Object(a.useState)(""),g=Object(o.a)(v,2),O=g[0],x=g[1];Object(a.useEffect)((function(){y()}),[]);var y=function(){var e=r["stakePoolData"+l].earned.list.map((function(e,t){return e.key=t,e}));x(e)};return Object(p.jsx)(n.a,{children:function(){return Object(p.jsx)(i.a,{visible:"VestDetailModal"===c,title:Object(p.jsxs)("div",{className:"flex aic jcc",children:[u.a.getHTML("newStake.stake_pool.vested_sun",{symbol:d.toUpperCase()}),Object(p.jsx)(N.a,{title:u.a.get("newStake.rule.rule".concat(l,".a5")),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(p.jsx)("img",{src:L.a,className:"tooltip-img ml-2"})})]}),width:430,zIndex:999,footer:null,className:"lock-modal detail-modal",onCancel:s,wrapClassName:"vertical-center-modal",children:Object(p.jsx)(T.a,{className:"vest-table",dataSource:O,pagination:!1,size:"small",columns:[{title:u.a.get("newStake.stake_pool.amount"),dataIndex:"amount",key:"amount",render:function(e,t){return Object(j.t)(Object(j.a)(t.amount).div(m[d].precision),{miniText:.01})}},{title:u.a.get("newStake.stake_pool.penalty"),dataIndex:"claim",key:"claim",render:function(e,t){return Object(j.t)(Object(j.a)(t.amount).div(2*m[d].precision),{miniText:.01})}},{title:u.a.get("newStake.stake_pool.expiry"),dataIndex:"time",key:"time",render:function(e,t){var r=w()(1e3*b.ec.tronWeb.toDecimal(t.time));return Object(j.a)(w()().format("X")).gt(b.ec.tronWeb.toDecimal(t.time))?u.a.get("newStake.stake_pool.expired"):r.format("YYYY-MM-DD")}}]})})}})};function P(){P=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new N(n||[]);return a(o,"_invoke",{value:x(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(_([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function x(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return L()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=y(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function y(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(O.prototype),s(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new O(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;k(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var M=function(e){var t=Object(n.d)((function(){return f.a.network})),r=Object(n.d)((function(){return f.a.pool})),s=Object(a.useState)([]),l=Object(o.a)(s,2),d=l[0],b=l[1],v=t.modalShow,g=t.closeModal,O=t.stakeVersion,x=h.a.defaultId,y=h.a.tokens;Object(a.useEffect)(Object(c.a)(P().mark((function e(){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(),e.abrupt("return",(function(){b([])}));case 2:case"end":return e.stop()}}),e)}))),[]);var k=function(){var e=r["stakePoolData"+O].lockData,t=[{amount:e.lockData,time:e.lastLockTimeStamp,key:1e3}];"1"===O&&(t=e.list.map((function(e,t){return e.key=t,e})),Object(j.a)(e.unlockable).gt(0)&&t.unshift({amount:e.unlockable,time:1594540800,key:1e4})),b(t)};return Object(p.jsx)(n.a,{children:function(){return Object(p.jsx)(i.a,{visible:"LockDetailModal"===v,title:Object(p.jsxs)("div",{className:"flex aic jcc",children:[u.a.getHTML("newStake.stake_pool.locked_sun",{symbol:x.toUpperCase()}),"1"===O&&Object(p.jsx)(N.a,{title:u.a.get("newStake.rule.rule".concat(O,".a6")),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(p.jsx)("img",{src:L.a,className:"tooltip-img ml-2"})})]}),width:430,zIndex:999,footer:null,className:"lock-modal detail-modal",onCancel:g,closeIcon:Object(p.jsx)("img",{src:m.a}),wrapClassName:"vertical-center-modal",children:Object(p.jsx)(T.a,{className:"vest-table lock-table",dataSource:d,pagination:!1,size:"small",columns:[{title:u.a.get("newStake.stake_pool.amount"),dataIndex:"amount",key:"amount",render:function(e,t){return Object(j.t)(Object(j.a)(t.amount).div(y[x].precision),{miniText:.01})}},{title:u.a.get("newStake.stake_pool.expiry"),dataIndex:"time",key:"time",render:function(e,t){return Object(j.a)(w()().format("X")).gt(t.time)?u.a.get("newStake.stake_pool.expired"):w()(1e3*t.time).format("YYYY-MM-DD")}}]})})}})},I=r(23),F=r(5),Y=r(994),G=r(49),H=r(124),R=r(32);function U(){U=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new N(n||[]);return a(o,"_invoke",{value:x(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(_([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function x(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return L()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=y(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function y(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(O.prototype),s(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new O(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;k(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var q=Y.a.Option,B=h.a.tokens,V=h.a.stakeKeys3,W=h.a.defaultVotePrecision,z=h.a.voteKeys,Q=G.a.farmPoolKeys,Z=G.a.farmPools,K=G.a.flexibleKeys,X="lp",J="veSun",$=Object(j.a)(.4),ee=Object(j.a)(.6),te=function(e){var t=Object(n.d)((function(){return f.a.network})),r=Object(n.d)((function(){return f.a.pool})),l=Object(n.d)((function(){return f.a.farmStore})),h=t.modalShow,v=t.closeModal,g=t.poolId,O=t.isConnected,x=Object(F.a)(Object(F.a)({},l.farmData),r.stakeData3),y=Object(a.useState)(Object(j.a)(0)),w=Object(o.a)(y,2),k=w[0],N=w[1],_=Object(a.useState)(Object(j.a)(0)),L=Object(o.a)(_,2),S=L[0],E=L[1],C=Object(a.useState)(""),D=Object(o.a)(C,2),T=D[0],A=D[1],P=Object(a.useState)(""),M=Object(o.a)(P,2),G=M[0],te=M[1],re=Object(a.useState)(!1),ae=Object(o.a)(re,2),ne=ae[0],ce=ae[1],oe=Object(a.useState)("--"),ie=Object(o.a)(oe,2),se=ie[0],le=ie[1],ue=Object(a.useState)(Object(j.a)(0)),de=Object(o.a)(ue,2),fe=de[0],he=de[1],je=Object(a.useState)("--"),be=Object(o.a)(je,2),me=be[0],pe=be[1],ve=Object(a.useState)(Object(j.a)(0)),ge=Object(o.a)(ve,2),Oe=ge[0],xe=ge[1],ye=Object(a.useState)(Object(j.a)(0)),we=Object(o.a)(ye,2),ke=we[0],Ne=we[1],_e=Object(a.useState)(Object(j.a)(0)),Le=Object(o.a)(_e,2),Se=Le[0],Ee=Le[1],Ce=Object(a.useState)(Object(j.a)(0)),De=Object(o.a)(Ce,2),Te=De[0],Ae=De[1],Pe=Object(a.useState)(g),Me=Object(o.a)(Pe,2),Ie=Me[0],Fe=Me[1],Ye=Object(a.useState)("--"),Ge=Object(o.a)(Ye,2),He=Ge[0],Re=Ge[1],Ue=Object(a.useState)("--"),qe=Object(o.a)(Ue,2),Be=qe[0],Ve=qe[1],We=Object(a.useState)("--"),ze=Object(o.a)(We,2),Qe=ze[0],Ze=ze[1];Object(a.useEffect)((function(){ne&&et()}),[S]),Object(a.useEffect)((function(){ne&&$e()}),[k]),Object(a.useEffect)((function(){O?Ke(Ie)?st():it():(ct(),ot())}),[Ie]),Object(a.useEffect)((function(){lt()}),[Ie,k,S]);var Ke=function(e){return Q.includes(e)},Xe=function(e,t,r){""===e&&(e=0);var a=Object(j.S)((""+e).replace(/,/g,""),t),n=a.valid,c=a.str;n&&r(Object(j.c)(c))},Je=function(e){!ne&&ce(!0),Fe(e)},$e=function(){return!k||Object(j.bb)(k).lt(0)?(A(u.a.get("error.e1")),!1):(A(""),!0)},et=function(){return!S||Object(j.bb)(S).lt(0)?(te(u.a.get("error.e1")),!1):(te(""),!0)},tt=function(){var e=V.map((function(e){var t=B[e].voteSymbol+(z.includes(B[e].voteSymbol)?"\uff08Flexible\uff09":"");return Object(p.jsx)(q,{value:e,disabled:e===Ie,style:e===Ie?{backgroundColor:"#d9d9d9",color:"#666666"}:{},children:t},e)})),t=Q.map((function(e){var t=Z[e].id,r=K.includes(t)?"\uff08Flexible\uff09":"\uff08Fixed+Flexible\uff09",a=B[t].voteSymbol+r;return Object(p.jsx)(q,{value:e,disabled:e===Ie,style:e===Ie?{backgroundColor:"#d9d9d9",color:"#666666"}:{},children:a},e)}));return[].concat(Object(I.a)(t),Object(I.a)(e))},rt=function(e){return Object(p.jsx)("span",{className:"max-btn",onClick:function(){at(e)},children:u.a.get("deposit.max")})},at=function(e){!ne&&ce(!0),Ie&&(e===X?Xe(Oe,x[Ie].decimal,N):Xe(fe,18,E))},nt=function(e,t){!ne&&ce(!0),Ie&&(e===X?Xe(t,x[Ie].decimal,N):Xe(t,18,E))},ct=function(){Ie&&(pe(x[Ie].totalStakeNew),Ae(x[Ie].workingSupply),N(Object(j.a)(0)),E(Object(j.a)(0)))},ot=function(){var e=Object(c.a)(U().mark((function e(){var t;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(R.e)();case 3:(t=e.sent).success&&t.data&&le(Object(j.a)(t.data.totalVe).div(W)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),it=function(){var e=Object(c.a)(U().mark((function e(){var r,a,n,c,o,i,s;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ie){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(b.U)(Ke(Ie)?Z[Ie].lpStaker:B[Ie].lpStaker,t.defaultAccount,x[Ie].precision);case 5:r=e.sent,a=r.votingBalance,n=r.votingTotal,c=r.workingBalance,o=r.workingSupply,i=r.gaugeBalance,s=r.gaugeTotalsupply,r.success&&(he(a),le(n),Ne(i),pe(s),xe(x[Ie].balance),Ee(c),Ae(o),Xe(x[Ie].balance,x[Ie].decimal,N),Xe(a,18,E)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}(),st=function(){var e=Object(c.a)(U().mark((function e(){var r,a,n,c,o,i,s;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ie){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(H.b)(Z[Ie].lpStaker,t.defaultAccount,x[Ie].precision);case 5:r=e.sent,a=r.votingBalance,n=r.votingTotal,c=r.workingBalance,o=r.workingSupply,i=r.gaugeBalance,s=r.gaugeTotalsupply,r.success&&(he(a),le(n),Ne(i),pe(s),xe(x[Ie].balance),Ee(c),Ae(o),Xe(x[Ie].balance,x[Ie].decimal,N),Xe(a,18,E)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}(),lt=function(){try{if(Ie){var e=1;Ke(Ie)&&(e=Object(j.a)(x[Ie].multiple).gt(0)?Object(j.a)(x[Ie].multiple):1);var t=(Object(j.a)(ke).isNaN()?Object(j.a)(0):Object(j.a)(ke)).plus(Object(j.bb)(k).times(e)),r=Object(j.bb)(S),a=Object(j.a)(me).plus(Object(j.bb)(k).times(e)),n=Object(j.a)(se),c=n.times(t.div(a));c=c.isNaN()?Object(j.a)(0):c,Ze(c);var o=ut(t,r,a,n);Re(o);var i=ut(t,c,a,n);Ve(i)}}catch(s){console.log(s)}},ut=function(e,t,r,a){try{j.a.config({DECIMAL_PLACES:30});var n=e.times($);n=n.plus(r.times(t).div(a).times(ee)),n=Object(j.a)(Math.min(e,n));var c=e.times($),o=Te.plus(c).minus(Se),i=Te.plus(n).minus(Se),s=n.div(i),l=c.div(o);return s.div(l).isNaN()?Object(j.a)(0):s.div(l)}catch(u){console.log(u)}},dt=Object(j.a)(ke).plus(Object(j.bb)(k));return Object(p.jsx)(n.a,{children:function(){var e;return Object(p.jsxs)(i.a,{visible:"CalculatorModal"===h,title:u.a.get("newStake.calculator.boost_calculator"),width:430,zIndex:999,footer:null,className:"calculator-modal lock-modal",onCancel:v,closeIcon:Object(p.jsx)("img",{src:m.a,alt:""}),wrapClassName:Object(d.a)(window.navigator).any?"":"vertical-center-modal",children:[Object(p.jsxs)("section",{className:"flex jcsb aic",children:[Object(p.jsx)("span",{className:"fs-14 c-333",children:u.a.get("newStake.calculator.choose_lp")}),Object(p.jsxs)(Y.a,{dropdownClassName:"calculator-selector",defaultValue:Ie,placeholder:u.a.get("newStake.calculator.choose_lp"),style:{width:140},onChange:Je,dropdownMatchSelectWidth:!1,placement:"bottomRight",dropdownAlign:{overflow:{adjustY:0}},children:[tt(),Object(p.jsx)(q,{disabled:!0})]})]}),Object(p.jsxs)("section",{className:"flex jcsb",children:[Object(p.jsx)("span",{className:"fs-14 c-333",children:u.a.get("newStake.calculator.total_lp")}),Object(p.jsx)("span",{className:"fs-14 c-333 number",children:2===(null===(e=x[Ie])||void 0===e?void 0:e.version)?Object(j.a)(me).eq(0)?"0.00":Object(j.t)(me,{dp:6,miniText:1e-6,cutZero:2}):Object(j.t)(me)})]}),Object(p.jsxs)("section",{className:"flex jcsb",children:[Object(p.jsx)("span",{className:"fs-14 c-333",children:u.a.get("newStake.calculator.total_ve")}),Object(p.jsx)("span",{className:"fs-14 c-333 number",children:Object(j.t)(se)})]}),Object(p.jsxs)("section",{children:[Object(p.jsxs)("p",{className:"flex jcsb fs-14 c-333",children:[u.a.get("newStake.calculator.user_total_lp"),Object(p.jsx)("span",{className:"number",children:Ie?2===x[Ie].version?Object(j.a)(dt).eq(0)?"0.00":Object(j.t)(dt,{dp:6,miniText:1e-6,cutZero:2}):Object(j.t)(dt):"--"})]}),Object(p.jsxs)("p",{className:"flex jcsb fs-12 c-666 mt-8",children:[u.a.get("newStake.calculator.deposited_lp"),Object(p.jsx)("span",{children:Ie?2===x[Ie].version?Object(j.a)(ke).eq(0)?"0.00":Object(j.t)(ke,{dp:6,miniText:1e-6,cutZero:2}):Object(j.t)(ke):"--"})]}),Object(p.jsxs)("p",{className:"flex jcsb fs-12 c-666 mt-12",children:[u.a.get("newStake.calculator.deposit_lp"),Object(p.jsxs)("span",{children:[u.a.get("newStake.stake_pool.balance"),":"," ",Object(p.jsx)("i",{children:Ie?2===x[Ie].version?Object(j.a)(Oe).eq(0)?"0.00":Object(j.t)(Oe,{dp:18,cutZero:2}):Object(j.t)(Oe):"--"})]})]}),Object(p.jsx)(s.a,{className:"mt-8",suffix:rt(X),value:k,onChange:function(e){return nt(X,e.target.value)}}),T&&Object(p.jsx)("div",{className:"common-error",children:T})]}),Object(p.jsxs)("section",{children:[Object(p.jsxs)("div",{className:"flex jcsb aic",children:[u.a.get("newStake.calculator.balance_ve"),Object(p.jsxs)("p",{className:"fs-12 c-666",children:[u.a.get("newStake.calculator.holding"),": ",Object(p.jsx)("span",{children:Ie?Object(j.t)(fe):"--"})]})]}),Object(p.jsx)(s.a,{className:"mt-8",suffix:rt(J),value:S,onChange:function(e){return nt(J,e.target.value)}}),G&&Object(p.jsx)("div",{className:"common-error",children:G})]}),Object(p.jsxs)("section",{children:[Object(p.jsxs)("p",{children:[" ",u.a.get("newStake.calculator.calculate_result")]}),Object(p.jsxs)("div",{className:"flex jcsb mt-16",children:[Object(p.jsx)("span",{className:"fs-12 c-666",children:u.a.get("newStake.calculator.boost")}),Object(p.jsx)("span",{className:"fs-12 c-666 number",children:Object(j.a)(He).eq(0)||Object(j.a)(He).isNaN()?"--":Object(j.a)(He)._toFixed(2,1)})]}),Object(p.jsxs)("div",{className:"flex jcsb mt-12",children:[Object(p.jsx)("span",{className:"fs-12 c-666",children:u.a.get("newStake.calculator.max_boost")}),Object(p.jsx)("span",{className:"fs-12 c-666 number",children:Object(j.a)(Be).eq(0)||Object(j.a)(Be).isNaN()?"--":Object(j.a)(Be)._toFixed(2,1)})]}),Object(p.jsxs)("div",{className:"flex jcsb mt-12",children:[Object(p.jsx)("span",{className:"fs-12 c-666",children:u.a.get("newStake.calculator.max_boost_ve")}),Object(p.jsx)("span",{className:"fs-12 c-666 number",children:Object(j.a)(Qe).eq(0)||Object(j.a)(Qe).isNaN()?"--":Object(j.t)(Qe)})]})]})]})}})},re=r(1924),ae=r(1479),ne=re.a.Countdown,ce=function(e){var t=Object(n.d)((function(){return f.a.network})),r=(Object(n.d)((function(){return f.a.pool})),t.modalShow),c=t.closeModal,o=Date.now()+h.a.confirmTime;Object(a.useEffect)((function(){}),[]);return Object(p.jsx)(n.a,{children:function(){return Object(p.jsx)(i.a,{visible:"TopModal"===r,title:Object(p.jsx)(ne,{title:u.a.get("top_modal.comfirm"),value:o,format:"ss",suffix:u.a.get("top_modal.second")}),width:320,zIndex:999999,footer:null,className:"lock-modal detail-modal top-modal",onCancel:c,closable:!1,maskClosable:!1,wrapClassName:"vertical-center-modal",children:Object(p.jsx)(ae.a,{})})}})},oe=r(161),ie=function(e){var t=Object(n.d)((function(){return f.a.network})),r=t.setData,a=t.modalShow,c=t.closeModal,o=t.isConnected,s=function(){r(o?{modalShow:"LockModal"}:{loginModalVisible:!0,loginModalStep:1})},l=function(){r({modalShow:"CalculatorModal",poolId:void 0})},d=function(){window.open("/?lang=".concat(window.localStorage.getItem("lang"),"#/governance"),"governance")};return Object(p.jsx)(n.a,{children:function(){return Object(p.jsx)(i.a,{visible:"TipsModal"===a,title:u.a.get("newStake.mint_tips.title"),width:430,zIndex:999,footer:null,className:"tips-modal  lock-modal",onCancel:c,closeIcon:Object(p.jsx)("img",{src:m.a}),wrapClassName:"vertical-center-modal",children:Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"step step_1",children:[Object(p.jsx)("div",{className:"icon",children:"Step.1"}),Object(p.jsx)("p",{children:u.a.get("newStake.mint_tips.tips1")}),Object(p.jsx)(oe.a,{onClick:s,children:u.a.get("newStake.mint_tips.to_lock")})]}),Object(p.jsxs)("div",{className:"step step_2",children:[Object(p.jsx)("div",{className:"icon",children:"Step.2"}),Object(p.jsx)("p",{children:u.a.get("newStake.mint_tips.tips2")}),Object(p.jsx)(oe.a,{onClick:d,children:u.a.get("newStake.mint_tips.to_vote")})]}),Object(p.jsxs)("div",{className:"step step_3",children:[Object(p.jsx)("div",{className:"icon",children:"Step.3"}),Object(p.jsx)("p",{children:u.a.get("newStake.mint_tips.tips3")}),Object(p.jsx)(oe.a,{onClick:l,children:u.a.get("newStake.mint_tips.to_calculator")})]})]})})}})},se=r(906),le=r(56);function ue(){ue=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new N(n||[]);return a(o,"_invoke",{value:x(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(_([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function x(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return L()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=y(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function y(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(O.prototype),s(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new O(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;k(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var de=function(e){var t=Object(n.d)((function(){return f.a.network})),r=Object(n.d)((function(){return f.a.system})),l=Object(n.d)((function(){return f.a.pool})),d=t.modalShow,v=t.closeModal,g=(t.setData,l.stakePoolData3),O=l.getVoteInfo,x=g.totalLocked,y=g.balance,k=g.lockData,S=h.a.tokens,E=h.a.defaultId,C=h.a.date,D=Object(a.useState)(""),T=Object(o.a)(D,2),A=T[0],P=T[1],M=Object(a.useState)(""),I=Object(o.a)(M,2),F=I[0],Y=I[1],G=Object(a.useState)(w()()),H=Object(o.a)(G,2),R=H[0],U=H[1],q=Object(a.useState)(""),B=Object(o.a)(q,2),V=B[0],W=B[1],z=Object(a.useState)(w()()),Q=Object(o.a)(z,2),Z=Q[0],K=Q[1],X=Object(a.useState)(w()().add(C.four_year,"days")),J=Object(o.a)(X,2),$=J[0],ee=J[1],te=Object(a.useState)("--"),re=Object(o.a)(te,2),ae=re[0],ne=re[1],ce=Object(a.useState)("--"),oe=Object(o.a)(ce,2),ie=oe[0],de=oe[1],fe=Object(a.useState)(!1),he=Object(o.a)(fe,2),je=he[0],be=he[1],me=Object(a.useState)(!1),pe=Object(o.a)(me,2),ve=pe[0],ge=pe[1],Oe=Object(a.useState)(!1),xe=Object(o.a)(Oe,2),ye=xe[0],we=xe[1],ke=Object(a.useState)(!1),Ne=Object(o.a)(ke,2),_e=Ne[0],Le=Ne[1],Se=!1;Object(a.useEffect)(Object(c.a)(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!g.isNeedRender&&Ee();case 1:case"end":return e.stop()}}),e)}))),[g]);var Ee=function(){var e=Object(c.a)(ue().mark((function e(){var t,r;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(t=g.lockData).lastLockTimeStamp&&(g.isNeedRender=!0),r=!1,t.lastLockTimeStamp&&Object(j.a)(t.lastLockTimeStamp).eq(0)&&(r=!0),be(r),Ce(r,w()(1e3*Object(j.a)(t.lastLockTimeStamp)))}catch(a){console.log("getLockData error: "+a)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(e,t){try{if(e)U(w()().add(C.six_month,"days")),K(w()().add(C.six_month,"days")),ee(w()().add(C.four_year,"days"));else{var r=604800*parseInt((new Date).getTime()/1e3/604800);w()(t).diff(w()(1e3*r).add(C.six_month,"days"),"days")<=0?(U(w()(1e3*r).add(C.six_month,"days")),K(w()(1e3*r).add(C.six_month,"days")),ee(w()(1e3*r).add(C.four_year,"days"))):(U(t),K(t),ee(w()().add(C.four_year,"days")))}}catch(a){console.log("getLockDateRange error: "+a)}},De=function(){var e=g.stakeApy;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("p",{className:"fw-500 c-333 fs-14",children:u.a.get("newStake.stake_pool.lock_desc2")}),Object(p.jsxs)("div",{className:"lc-info",children:[Object(p.jsxs)("p",{children:[Object(p.jsxs)("span",{className:"stake-tooltip flex jcfe aic",children:[Object(p.jsxs)("span",{className:"opa-5",children:[u.a.get("stake.apy")," "]}),Object(p.jsx)(N.a,{title:u.a.getHTML("newStake.stake_pool.lock_apy_tip",{per1:e.unlocked&&"-"!==e.unlocked&&Object(j.a)(e.unlocked).gte(0)?"".concat(Object(j.s)(Object(j.a)(e.unlocked)),"%"):"--",symbol1:"TUSD",per2:e.locked&&"-"!==e.locked&&Object(j.a)(e.locked).gte(0)?"".concat(Object(j.s)(Object(j.a)(e.locked)),"%"):"--",symbol2:"SUN"}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(p.jsx)("img",{src:L.a,className:"ml-2"})})]}),Object(p.jsx)("span",{children:e.unlocked&&"-"!==e.unlocked&&Object(j.a)(e.unlocked).gte(0)&&e.locked&&"-"!==e.locked&&Object(j.a)(e.locked).gte(0)?"".concat(Object(j.s)(Object(j.a)(e.unlocked).plus(Object(j.a)(e.locked))),"%"):"--"})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{className:"opa-5",children:u.a.get("newStake.stake_pool.lock_total")}),Object(p.jsxs)("span",{children:[Object(j.t)(Object(j.a)(x).div(S[E].precision))," ",E.toUpperCase()]})]})]}),Object(p.jsx)("div",{className:"line"}),Object(p.jsxs)("p",{className:"flex jcsb mb-8",children:[Object(p.jsx)("span",{className:"fs-12 c-333",children:u.a.getHTML("newStake.stake_pool.lock_sun",{symbol:E.toUpperCase()})}),Object(p.jsxs)("span",{className:"fs-12 c-333",children:[Object(p.jsxs)("span",{className:"c-999",children:[u.a.get("newStake.stake_pool.balance"),":"]})," ",y&&Object(j.t)(y.balance)]})]})]})},Te=function(){var e=g.lockData,t=!Object(j.a)(e.lastLockTimeStamp).eq(0)&&Object(j.a)(w()().format("X")).gt(e.lastLockTimeStamp);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"lc-date mt-10",children:[Object(p.jsxs)("div",{className:"flex jcsb aic",children:[Object(p.jsx)("span",{className:"fs-12 c-333",children:u.a.get("newStake.stake_pool.choose_lock_date")}),Object(p.jsx)("span",{children:e.lastLockTimeStamp&&Object(p.jsx)(_.a,{className:ye?"active":"",disabledDate:Fe,onChange:Me,value:R,allowClear:!1,disabled:t,suffixIcon:Object(p.jsx)("img",{src:se.a})})})]}),Object(p.jsx)("div",{className:"lc-date-eles mt-16",children:Object.keys(C).map((function(e){return w()(Z).diff(w()(),"days")<C[e]&&Object(p.jsx)("span",{onClick:function(t){return Ie(e)},className:F!==e||ye?"":"current",children:u.a.get("newStake.stake_pool.".concat(e))},e)}))})]}),e.lastLockTimeStamp?Object(j.a)(e.unlockable).gt(0)?Object(p.jsx)("p",{className:"fs-12 c-999 lh-22 mt-6",children:u.a.get("newStake.stake_pool.date_expired")}):Object(p.jsx)("p",{className:"fs-12 c-999 lh-22 mt-6",children:u.a.getHTML("newStake.stake_pool.date_desc",{start:Z.format("YYYY-MM-DD"),end:$.format("YYYY-MM-DD"),symbol:E.toUpperCase()})}):"",Object(p.jsx)("div",{className:"line mb-10"}),Object(p.jsxs)("p",{className:"flex jcsb",children:[Object(p.jsx)("span",{className:"fs-12 c-666",children:u.a.get("newStake.stake_pool.lock_vote")}),Object(p.jsx)("span",{className:"fs-14 c-333 bold",children:Object(j.a)(ie).gte(0)?Object(j.t)(ie):"0.00"})]}),Object(p.jsxs)("p",{className:"flex jcsb",children:[Object(p.jsx)("span",{className:"fs-12 c-666",children:u.a.get("newStake.stake_pool.current_vote")}),Object(p.jsx)("span",{className:"fs-14 c-333 bold",children:Object(j.a)(ae).gte(0)?Object(j.t)(ae):"0.00"})]})]})},Ae=function(e){!_e&&Le(!0);var t=Object(j.S)((""+e).replace(/,/g,""),S[E].decimal),r=t.valid,a=t.str;r&&P(Object(j.c)(a))},Pe=function(){!_e&&Le(!0);try{Ae(y.balance)}catch(e){console.log("setLockMax error: "+e)}},Me=function(e){U(e),we(!0)},Ie=function(e){Y(e),we(!1);var t=g.lockData,r=w()(1e3*Object(j.a)(t.lastLockTimeStamp));if(je)U(w()().add(C[e],"days"));else{var a=604800*parseInt((new Date).getTime()/1e3/604800);w()(r).diff(w()(1e3*a).add(C.six_month,"days"),"days")<=0?U(w()(1e3*a).add(C[e],"days")):U(w()().add(C[e],"days"))}},Fe=function(e){return e&&(e.diff(w()(Z),"hours")<0||e.diff(w()($),"hours")>0)},Ye=function(){var e=Object(c.a)(ue().mark((function e(){var t,a,n,c,o;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_e&&Le(!0),Re()){e.next=3;break}return e.abrupt("return");case 3:if(Object(le.a)({action:le.b.deposit,event_category:le.h.farm}),e.prev=4,t=g.balance,a=t.allowance,n=t.symbol,c=Object(j.bb)(A),!a.lt(Object(j.a)(c))||Se){e.next=17;break}return o={action:"approve",title:"deposit.approve_token",obj:{value:n},continuous:!0},e.next=13,r.toApproveLP(t.token,t.stake2,o);case 13:e.sent&&(Se=!0,Ge()),e.next=18;break;case 17:Ge();case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(4);case 22:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var t=Object(c.a)(ue().mark((function t(){var a,n,c;return ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(je){t.next=3;break}return He(),t.abrupt("return");case 3:if(a=Object(j.bb)(A),Object(j.a)(a).gt(0)){t.next=6;break}return t.abrupt("return");case 6:return t.prev=6,n={title:"actions.lock_lp",obj:{value:Object(j.t)(a),symbol:y.symbol}},"",c=new Date(w()(R).format("YYYY-MM-DD")).getTime()/1e3,t.next=12,r.stakeSSP2(Object(j.a)(a).times(y.precision)._toIntegerDown()._toHex(),!0,Object(j.a)(c)._toHex(),n);case 12:t.sent&&(qe(),setTimeout((function(){e.cb()}),5e3)),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[6,16]])})));return function(){return t.apply(this,arguments)}}(),He=function(){var t=Object(c.a)(ue().mark((function t(){var a,n,c,o;return ue().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=g.lockData,n=Object(j.bb)(A)||Object(j.a)(0),c=0===w()(R).diff(w()(1e3*Object(j.a)(a.lastLockTimeStamp)),"days")?0:parseInt(new Date(w()(R).format("YYYY-MM-DD")).getTime()/1e3),n.eq(0)&&0===c&&W(u.a.get("error.e1")),o={title:"actions.lock_lp",obj:{value:Object(j.t)(n),symbol:y.symbol}},t.next=8,r.increaseLock(n.eq(0)?0:Object(j.bb)(n).times(y.precision)._toIntegerDown()._toHex(),0===c?0:c+86400,o);case 8:t.sent&&(qe(),setTimeout((function(){e.cb()}),5e3)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log("redeposit error:"+t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=g.lockData,t=!Object(j.a)(e.lastLockTimeStamp).eq(0)&&Object(j.a)(w()().format("X")).gt(e.lastLockTimeStamp);ge(!!t),_e&&Re()}),[A,_e,k]);var Re=function(){try{var e=g.lockData;!Object(j.a)(e.lastLockTimeStamp).eq(0)&&Object(j.a)(w()().format("X")).gt(e.lastLockTimeStamp);return 0!==w()(R).diff(w()(1e3*Object(j.a)(e.lastLockTimeStamp)),"days")||A?e.lastLockTimeStamp&&Object(j.a)(e.lastLockTimeStamp).eq(0)&&!Object(j.bb)(A).gt(0)?(W(u.a.get("error.e1")),!1):Object(j.bb)(A).gt(y.balance)?(W(u.a.get("error.e2",{token:E.toUpperCase()})),!1):(W(""),!0):(W(u.a.get("error.e1")),!1)}catch(t){}};Object(a.useEffect)(Object(c.a)(ue().mark((function e(){return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w()(R).diff(w()(),"days")>0&&Ue();case 1:case"end":return e.stop()}}),e)}))),[A,R,k]);var Ue=function(){var e=Object(c.a)(ue().mark((function e(){var r,a,n,c,o;return ue().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("0x0000000000000000000000".concat(b.ec.tronWeb.address.toHex(t.defaultAccount)));case 3:(r=e.sent).success&&(a=r.value,n=new Date(w()(R)).getTime(),c=Object(j.a)(k.lockData).div(S[E].precision),Object(j.bb)(A).gt(0)&&(c=c.plus(Object(j.bb)(A))),126144e3,o=c.times((n-Date.now())/1e3).div(126144e3),Object(j.a)(o).lte(0)||Object(j.a)(o).minus(a).abs().lte(.01)?de(a):de(o.toFixed(2)),ne(a)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),qe=function(){g.isNeedRender=!1,v()};return Object(p.jsx)(n.a,{children:function(){return Object(p.jsx)(i.a,{visible:"LockModal"===d,title:u.a.getHTML("newStake.stake_pool.lock_sun",{symbol:E.toUpperCase()}),width:430,zIndex:999,footer:null,className:"new-lock-modal lock-modal",maskClosable:!1,onCancel:qe,closeIcon:Object(p.jsx)("img",{src:m.a}),wrapClassName:"vertical-center-modal",children:Object(p.jsxs)("div",{className:"lock-content",children:[Object(p.jsx)(De,{}),Object(p.jsx)(s.a,{suffix:Object(p.jsx)("span",{className:"max-btn",onClick:Pe,children:u.a.get("deposit.max")}),value:A,onChange:function(e){return Ae(e.target.value)}}),V&&Object(p.jsx)("div",{className:"common-error",children:V}),Object(p.jsx)(Te,{}),Object(p.jsx)("div",{className:"flex jcc",children:Object(p.jsx)("button",{disabled:V||ve,className:"common-btn mt-10 lock-common-btn",onClick:Ye,children:u.a.get("newStake.stake_pool.deposit")})})]})})}})};function fe(){fe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new N(n||[]);return a(o,"_invoke",{value:x(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(_([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function x(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return L()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=y(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function y(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(O.prototype),s(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new O(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;k(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var he=function(e){var t=Object(n.d)((function(){return f.a.network})),r=(Object(n.d)((function(){return f.a.system})),Object(n.d)((function(){return f.a.pool}))),l=t.modalShow,d=t.closeModal,b=(t.setData,e.poolData),v=e.poolExpiredTime,g=e.isOutdate,O=(b.balance,b.extraSymbol),x=b.nextWeekApyV3,y=(b.extraRewardApy,b.extraRewardPrice),w=(b.extraContract,b.name),k=b.totalStake,N=b.price,_=b.lpStaker,L=b.nextWeekWeight,S=b.thisWeekWeight,E=b.flag,C=Object(a.useState)(""),D=Object(o.a)(C,2),T=D[0],A=D[1],P=Object(a.useState)(""),M=Object(o.a)(P,2),I=M[0],F=M[1],Y=Object(a.useState)(0),G=Object(o.a)(Y,2),H=G[0],R=G[1],U=Object(a.useState)("--"),q=Object(o.a)(U,2),B=q[0],V=q[1],W=Object(a.useState)("--"),z=Object(o.a)(W,2),Q=z[0],Z=z[1],K=Object(a.useState)("--"),X=Object(o.a)(K,2),J=X[0],$=X[1],ee=Object(a.useState)("--"),te=Object(o.a)(ee,2),re=te[0],ae=te[1],ne=Object(a.useState)("--"),ce=Object(o.a)(ne,2),oe=ce[0],ie=ce[1],se=Object(a.useState)("--"),le=Object(o.a)(se,2),ue=le[0],de=le[1];r.calculatorObj.config;Object(a.useEffect)(Object(c.a)(fe().mark((function e(){var t,a,n;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.calculatorObj.config){e.next=7;break}Z(r.calculatorObj.sunApy),A(1e6),F(Object(j.c)(1e6)),R(Object(j.c)(5e6)),e.next=18;break;case 7:if(0!=v){e.next=12;break}A(Object(j.c)(1e6)),F(1e6),e.next=18;break;case 12:if(k){e.next=15;break}return e.next=15,r.getTotalStakePoolConfig(w,[_]);case 15:n=null===(t=Object(j.a)(null===(a=r.myPoolMap[w])||void 0===a?void 0:a.totalStake))||void 0===t?void 0:t.times(N),A(Object(j.c)(n)),F(Object(j.c)(Object(j.t)(n,{dp:0})));case 18:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){r.sunPrice;var e=r.sunRatePerSecond,t=r.totalVote,a=(r.currentVotes,e),n=Object(j.a)(t).div(h.a.defaultVotePrecision),c=Object(j.a)(L).div(1e16).div(100),o=Object(j.a)(n).times(c),i=Object(j.a)(a).times(86400),s=Object(j.a)(o).plus(Object(j.bb)(H||0)),l=Object(j.a)(n).plus(Object(j.bb)(H||0)),u=Object(j.a)(i).times(s).div(l);ae(u),ie(o)}),[H,r.sunRatePerSecond,E]),Object(a.useEffect)((function(){if(Object(j.bb)(T).eq(0))Z("--");else{var e=r.sunPrice,t=(r.sunRatePerSecond,r.totalVote),a=(r.currentVotes,Object(j.a)(0));if(Object(j.a)(S).eq(0)||Object(j.bb)(r.calculatorObj.stakeValue).eq(0))a=Object(j.a)(re).times(e).times(365).div(Object(j.bb)(T)).times(100).toFixed(2,1);else{var n=Object(j.a)(t).div(h.a.defaultVotePrecision),c=Object(j.a)(L).div(1e16).div(100),o=Object(j.a)(n).times(c),i=Object(j.a)(o).plus(Object(j.bb)(H||0)),s=Object(j.a)(n).plus(Object(j.bb)(H||0));a=Object(j.a)(Object(j.a)(i).div(s).div(o).times(n)).times(x).div(Object(j.bb)(T).div(Object(j.bb)(r.calculatorObj.stakeValue))).times(100).toFixed(2,1)}Z(a)}}),[re,T,H,x,oe,r.calculatorObj,E]),Object(a.useEffect)((function(){r.calculatorObj.config&&he()}),[J,T,E,g]),Object(a.useEffect)((function(){r.calculatorObj.config||V(r.calculatorObj.tokenApy)}),[]);var he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;if(Object(j.bb)(e).eq(0))V("--");else{var t=Object(j.a)(J).times(y).times(365).div(Object(j.bb)(e)).times(100).toFixed(2,1);V(t)}};Object(a.useEffect)((function(){$(r.calculatorObj.miningSpeed)}),[r.calculatorObj,E]),Object(a.useEffect)((function(){var e,t=Object(j.r)(h.a.tokens,w,"token"),r=null===(e=h.a.tokens[t])||void 0===e?void 0:e.symbol;de(r)}),[w]);var je=function(){d()};return Object(p.jsx)(n.a,{children:function(){return Object(p.jsx)(i.a,{visible:"ApyCalculatorModal"===l,title:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{children:u.a.get("pool_config.apy_calc")}),Object(p.jsx)("div",{className:"header-subtitle",children:u.a.get("pool_config.lp_to_apy")})]}),width:430,zIndex:999,footer:null,className:"new-lock-modal apy-calculator-modal",maskClosable:!1,onCancel:je,closeIcon:Object(p.jsx)("img",{src:m.a}),wrapClassName:"vertical-center-modal",children:Object(p.jsxs)("div",{className:"calculate-content",children:[Object(p.jsxs)("div",{className:"ce-content flex",children:[Object(p.jsxs)("div",{className:"ce-bold",children:[ue," ",u.a.get("pool_config.current_stake_lp")]}),Object(p.jsx)("div",{className:"ce-bold ce-hn",children:Object(p.jsx)(s.a,{className:"ce-hn c-333 fs-14 fw-500 tar",value:I,onChange:function(e){return function(e){var t=Object(j.S)((""+e).replace(/,/g,"")),r=t.valid,a=t.str;r&&(a.indexOf(".")>-1&&(a=a.split(".")[0]),A(Object(j.c)(a)),F(Object(j.c)(a)),he(a))}(e.target.value)}})})]}),Object(p.jsx)("div",{className:"ce-content pb-0",children:Object(p.jsxs)("div",{className:"ce-fisrt flex h-80",children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("span",{className:"ce-bold",children:[ue," ",u.a.get("pool_config.veVotes")]}),Object(p.jsx)("span",{className:"ce-subtext",children:u.a.get("pool_config.total_vote")}),Object(p.jsx)("span",{className:"ce-subtext",children:u.a.get("pool_config.add_vote")})]}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("span",{className:"ce-bold ce-hn",children:[" ",Object(j.t)(Object(j.a)(oe).plus(Object(j.bb)(H||0)),{dp:0})]}),Object(p.jsx)("span",{className:"ce-hn c-666 fs-12 mt-12",children:Object(j.t)(oe,{dp:0})}),Object(p.jsx)("span",{children:Object(p.jsx)(s.a,{className:"ce-hn c-999 fs-12 tar add-vote",value:H,onChange:function(e){return function(e){var t=Object(j.S)((""+e).replace(/,/g,"")),r=t.valid,a=t.str;r&&(a.indexOf(".")>-1&&(a=a.split(".")[0]),R(Object(j.c)(a)))}(e.target.value)}})})]})]})}),Object(p.jsx)("div",{className:"line"}),Object(p.jsx)("div",{className:"ce-title",children:u.a.get("pool_config.data_estimate")}),Object(p.jsxs)("div",{className:"ce-content cc-content",children:[Object(p.jsxs)("div",{className:"ce-fisrt flex",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{className:"ce-bold",children:u.a.get("pool_config.total_apy")}),Object(p.jsxs)("span",{className:"ce-subtext",children:[O,u.a.get("pool_config.mining"),"APY"]}),Object(p.jsxs)("span",{className:"ce-subtext",children:["SUN",u.a.get("pool_config.mining"),"APY"]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{className:"ce-bold ce-hn c-5915e1",children:"".concat(Object(j.s)(Object(j.a)(B).plus(Object(j.a)(Q).times(.4))),"%~").concat(Object(j.s)(Object(j.a)(B).plus(Q)),"%")}),Object(p.jsx)("span",{className:"ce-hn fs-12 c-333 fw-500",children:"".concat(Object(j.s)(B),"%")}),Object(p.jsx)("span",{className:"ce-hn fs-12 c-333 fw-500",children:"".concat(Object(j.s)(Object(j.a)(Q).times(.4)),"%~").concat(Object(j.s)(Q),"%")})]})]}),Object(p.jsx)("div",{className:"ce-content-tip",children:u.a.get("pool_config.depend_estimate")})]}),Object(p.jsxs)("div",{className:"ce-content flex ais",children:[Object(p.jsxs)("div",{className:"c-666 fs-12",children:[O," ",u.a.get("pool_config.mining_speed")]}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:" ce-hn fs-12 c-333 fw-500",children:[Object(j.t)(Object(j.bb)(J),{dp:6,cutZero:!0})," ",O]}),Object(p.jsxs)("div",{className:"ce-value c-666 fs-12",children:["~$ ",Object(j.t)(Object(j.bb)(J).times(y),{miniText:.01})]})]})]}),Object(p.jsxs)("div",{className:"ce-content flex pb-6 ais ",children:[Object(p.jsxs)("div",{className:"c-666 fs-12",children:["SUN ",u.a.get("pool_config.mining_speed")]}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:" ce-hn fs-12 c-333 fw-500",children:[Object(j.t)(Object(j.bb)(re),{dp:6,cutZero:!0})," SUN"]}),Object(p.jsxs)("div",{className:"ce-value c-666 fs-12",children:["~$"," ",Object(j.t)(Object(j.bb)(re).times(r.sunPrice),{miniText:.01})]})]})]})]})})}})};t.a=function(e){return Object(p.jsx)(n.a,{children:function(){return Object(p.jsxs)(p.Fragment,{children:["AddLiqModal"===e.modalShow&&Object(p.jsx)(g,{cb:e.cb}),"RemoveLiqModal"===e.modalShow&&Object(p.jsx)(x,{cb:e.cb}),"WithdrawModal"===e.modalShow&&Object(p.jsx)(D.a,{cb:e.cb}),"LockDetailModal"===e.modalShow&&Object(p.jsx)(M,{}),"VestDetailModal"===e.modalShow&&Object(p.jsx)(A,{}),"LockStakeModal"===e.modalShow&&Object(p.jsx)(C,{cb:e.cb}),"TopModal"===e.modalShow&&Object(p.jsx)(ce,{cb:e.cb}),"CalculatorModal"===e.modalShow&&Object(p.jsx)(te,{cb:e.cb}),"TipsModal"===e.modalShow&&Object(p.jsx)(ie,{cb:e.cb}),"LockModal"===e.modalShow&&Object(p.jsx)(de,{cb:e.cb}),"ApyCalculatorModal"===e.modalShow&&Object(p.jsx)(he,{cb:e.cb,poolData:e.poolData,poolExpiredTime:e.poolExpiredTime,isOutdate:e.isOutdate})]})}})}},1171:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var a=r(1),n=r(44),c=r(2),o=r(75),i=r(18),s=r.n(i),l=(r(781),r(32)),u=r(49),d=(r(1116),r(187)),f=(r(1117),r(6));function h(e){var t=Object(c.useState)(!1),r=Object(n.a)(t,2),a=r[0],i=r[1],s=function(t,r){var a=e.reverse,n="next"==r,c=e[a?"min":"max"],o=e[a?"max":"min"];return n?t==c?o:t+(a?-1:1):t==o?c:t+(a?1:-1)};Object(c.useEffect)((function(){i(!a)}),[e.now]);var l=function(e){var t=s(e,"prev"),r=[e,t,s(t,"prev")];return r[a?"push":"unshift"](a?s(t,"prev"):s(e,"next")),r};return Object(f.jsx)(o.a,{children:function(){return Object(f.jsx)("div",{className:"cards",children:l(e.now).map((function(t,r){return Object(f.jsx)("div",{className:"card".concat(t==e.now?" now":""),children:Object(f.jsx)("div",{className:"sides",children:["front","back"].map((function(e){return Object(f.jsx)("div",{className:"side ".concat(e),children:Object(f.jsx)("div",{className:"side-num",children:"front"==e?t:s(t,"next")})},"side".concat(e))}))})},"flip-card".concat(r))}))})}})}r(1118);var j=r(0),b=null;function m(e){var t=Object(o.d)((function(){return d.a.network})),r=Object(o.d)((function(){return d.a.farmStore})),a=Object(c.useState)(r.farmData[e.id].start||e.start),i=Object(n.a)(a,2),s=i[0],l=i[1],u=Object(c.useState)(r.farmData[e.id].diff||{}),m=Object(n.a)(u,2),p=m[0],v=m[1],g=Object(c.useState)(r.farmData[e.id].end||e.end),O=Object(n.a)(g,2),x=O[0];O[1];Object(c.useEffect)((function(){k(p)?y():b=window.setTimeout((function(){w(),k()&&y()}),1e3)}),[s]);var y=function(){window.clearTimeout(b),t.setData({isTimeOver:!0}),e.onStop&&e.onStop()},w=function(){var t=Math.abs(x-s),a=Math.floor(t/1e3),n=Math.floor(a/60),c=Math.floor(n/60),o=(Math.floor(c/24),{hours:c%24,minutes:n%60,seconds:a%60}),i=s+1e3;Object(j.a)(x).isNaN()||Object(j.a)(s).isNaN()||(v(o),l(i),r.farmData[e.id].diff=o,r.farmData[e.id].start=i)},k=function(){return x&&s>x},N={days:[[0,9],[0,9]],hours:[[0,2],[0,4]],minutes:[[0,5],[0,9]],seconds:[[0,5],[0,9]]};return Object(f.jsx)(o.a,{children:function(){return Object(f.jsx)("div",{className:"countdown",children:Object.keys(p).map((function(e){return Object(f.jsx)("div",{className:"countdown-".concat(e),children:Array(2).fill(0).map((function(t,r){return Object(f.jsx)(h,{reverse:!0,now:+(a=p[e],(a<10?"0"+a:a)+"")[r],min:N[e][r][0],max:N[e][r][1]},"".concat(e).concat(r));var a}))},e)}))})}})}r(3);function p(){p=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(E){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new _(n||[]);return a(o,"_invoke",{value:y(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(E){return{type:"throw",arg:E}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,c)&&(b=v);var g=j.prototype=f.prototype=Object.create(b);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function y(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return S()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=w(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function w(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=j,a(g,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},O(x.prototype),s(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new x(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},O(g),s(g,i,"Generator"),s(g,c,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;N(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function v(e){Object(o.d)((function(){return d.a.pool})),Object(o.d)((function(){return d.a.network}));var t,r,i=Object(o.d)((function(){return d.a.farmStore})),h=Object(c.useState)((new Date).getTime()),j=Object(n.a)(h,2),b=j[0],v=j[1],g=Object(c.useState)(1e3*(null===(t=i.farmData[e.id])||void 0===t?void 0:t.remainingTime)+1e3*u.a.unfreezeTime),O=Object(n.a)(g,2),x=O[0],y=O[1],w=1e3*(null===(r=i.farmData[e.id])||void 0===r?void 0:r.remainingTime)+1e3*u.a.unfreezeTime;Object(c.useEffect)((function(){k()}),[]);var k=function(){var t=Object(a.a)(p().mark((function t(){var r,a;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(l.w)();case 3:(r=t.sent).success&&(a=r.time,v(a),y(w),i.farmData[e.id].start=a,i.farmData[e.id].end=x),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("get time error",t.t0),setTimeout((function(){k()}),3e3);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(f.jsx)(o.a,{children:function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"count-down-wrap",children:[Object(f.jsx)("div",{className:"count",children:Object(f.jsx)(m,{start:b,end:x,id:e.id,onStop:e.stopCount})}),Object(f.jsxs)("div",{className:"countdesc",children:[Object(f.jsx)("span",{className:"cd-hour",children:s.a.get("century.h")}),Object(f.jsxs)("span",{className:"cd-minute",children:[s.a.get("century.m")," "]}),Object(f.jsx)("span",{className:"cd-second",children:s.a.get("century.s")})]})]})})}})}},1918:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return Kt}));var a=r(5),n=r(2),c=r(75),o=r(23),i=r(1),s=r(13),l=r(44),u=r(18),d=r.n(u),f=r(1920),h=r(269),j=r(14),b=r(31),m=r(29),p=r(62),v=r(34),g=r.n(v),O=r(263),x=r(226),y=n.forwardRef((function(e,t){var r,a=e.prefixCls,c=void 0===a?"rc-switch":a,o=e.className,i=e.checked,s=e.defaultChecked,l=e.disabled,u=e.loadingIcon,d=e.checkedChildren,f=e.unCheckedChildren,h=e.onClick,j=e.onChange,v=e.onKeyDown,y=Object(p.a)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),w=Object(O.a)(!1,{value:i,defaultValue:s}),k=Object(m.a)(w,2),N=k[0],_=k[1];function L(e,t){var r=N;return l||(_(r=e),null===j||void 0===j||j(r,t)),r}var S=g()(c,o,(r={},Object(b.a)(r,"".concat(c,"-checked"),N),Object(b.a)(r,"".concat(c,"-disabled"),l),r));return n.createElement("button",Object.assign({},y,{type:"button",role:"switch","aria-checked":N,disabled:l,className:S,ref:t,onKeyDown:function(e){e.which===x.a.LEFT?L(!1,e):e.which===x.a.RIGHT&&L(!0,e),null===v||void 0===v||v(e)},onClick:function(e){var t=L(!N,e);null===h||void 0===h||h(t,e)}}),u,n.createElement("span",{className:"".concat(c,"-inner")},N?d:f))}));y.displayName="Switch";var w=y,k=r(172),N=r(277),_=r(145),L=r(160),S=r(107),E=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r},C=n.forwardRef((function(e,t){var r,a=e.prefixCls,c=e.size,o=e.loading,i=e.className,s=void 0===i?"":i,l=e.disabled,u=E(e,["prefixCls","size","loading","className","disabled"]);Object(S.a)("checked"in u||!("value"in u),"Switch","`value` is not a valid prop, do you mean `checked`?");var d=n.useContext(_.b),f=d.getPrefixCls,h=d.direction,m=n.useContext(L.b),p=f("switch",a),v=n.createElement("div",{className:"".concat(p,"-handle")},o&&n.createElement(k.a,{className:"".concat(p,"-loading-icon")})),O=g()((r={},Object(b.a)(r,"".concat(p,"-small"),"small"===(c||m)),Object(b.a)(r,"".concat(p,"-loading"),o),Object(b.a)(r,"".concat(p,"-rtl"),"rtl"===h),r),s);return n.createElement(N.a,{insertExtraNode:!0},n.createElement(w,Object(j.a)({},u,{prefixCls:p,className:O,disabled:l||o,ref:t,loadingIcon:v})))}));C.__ANT_SWITCH=!0,C.displayName="Switch";var D=C,T=r(260);function A(e){var t=e.className,r=e.direction,a=e.index,c=e.marginDirection,o=e.children,i=e.split,s=e.wrap,l=n.useContext(M),u=l.horizontalSize,d=l.verticalSize,f=l.latestIndex,h={};return"vertical"===r?a<f&&(h={marginBottom:u/(i?2:1)}):h=Object(j.a)(Object(j.a)({},a<f&&Object(b.a)({},c,u/(i?2:1))),s&&{paddingBottom:d}),null===o||void 0===o?null:n.createElement(n.Fragment,null,n.createElement("div",{className:t,style:h},o),a<f&&i&&n.createElement("span",{className:"".concat(t,"-split"),style:h},i))}var P=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r},M=n.createContext({latestIndex:0,horizontalSize:0,verticalSize:0}),I={small:8,middle:16,large:24};var F=function(e){var t,r=n.useContext(_.b),a=r.getPrefixCls,c=r.space,o=r.direction,i=e.size,s=void 0===i?(null===c||void 0===c?void 0:c.size)||"small":i,l=e.align,u=e.className,d=e.children,f=e.direction,h=void 0===f?"horizontal":f,p=e.prefixCls,v=e.split,O=e.style,x=e.wrap,y=void 0!==x&&x,w=P(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),k=n.useMemo((function(){return(Array.isArray(s)?s:[s,s]).map((function(e){return function(e){return"string"===typeof e?I[e]:e||0}(e)}))}),[s]),N=Object(m.a)(k,2),L=N[0],S=N[1],E=Object(T.a)(d,{keepEmpty:!0});if(0===E.length)return null;var C=void 0===l&&"horizontal"===h?"center":l,D=a("space",p),F=g()(D,"".concat(D,"-").concat(h),(t={},Object(b.a)(t,"".concat(D,"-rtl"),"rtl"===o),Object(b.a)(t,"".concat(D,"-align-").concat(C),C),t),u),Y="".concat(D,"-item"),G="rtl"===o?"marginLeft":"marginRight",H=0,R=E.map((function(e,t){return null!==e&&void 0!==e&&(H=t),n.createElement(A,{className:Y,key:"".concat(Y,"-").concat(t),direction:h,index:t,marginDirection:G,split:v,wrap:y},e)}));return n.createElement("div",Object(j.a)({className:F,style:Object(j.a)(Object(j.a)({},y&&{flexWrap:"wrap",marginBottom:-S}),O)},w),n.createElement(M.Provider,{value:{horizontalSize:L,verticalSize:S,latestIndex:H}},R))},Y=r(1926),G=r(115),H=r(48),R=r.n(H),U=r(11),q=r(781),B=r(187),V=r(3),W=r(0),z=r(25),Q=r(822),Z=r(386),K=(r(389),r(388),r(385)),X=r(384),J=r.p+"static/media/slideDown.bf884657.svg",$=r.p+"static/media/slideUp.d1f5274d.svg",ee=r(56),te=r(6);function re(){re=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new N(n||[]);return a(o,"_invoke",{value:x(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(_([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function x(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return L()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=y(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function y(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(O.prototype),s(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new O(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;k(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var ae=function(e){Object(G.a)(window.navigator).any;var t=Object(c.d)((function(){return B.a.network})),r=Object(c.d)((function(){return B.a.system})),a=(Object(c.d)((function(){return B.a.pool})),V.a.tokens),o=V.a.defaultId,s=t.setData,u=t.isConnected,f=e.data,j=Object(n.useState)(""),b=Object(l.a)(j,2),m=(b[0],b[1],window.localStorage.getItem("lang"));Object(n.useEffect)((function(){}),[]);var p=function(){var a=Object(i.a)(re().mark((function a(){var n,c;return re().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(u){a.next=3;break}return s({loginModalVisible:!0,loginModalStep:1}),a.abrupt("return");case 3:return n={title:"actions.vest_lp",obj:{value:Object(W.t)(f.stakeReward),symbol:o.toUpperCase()}},c="2"===t.stakeVersion?V.a.lpStablePool2:V.a.lpStablePool,a.next=7,r.claimLPReward(c,f.index-1,n);case 7:a.sent&&setTimeout((function(){e.cb()}),5e3);case 9:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),v=function(){s(u?{modalShow:"AddLiqModal",poolId:f.id}:{loginModalVisible:!0,loginModalStep:1}),Object(ee.a)({action:ee.b.staking_lp,event_category:ee.h.farm})},g=function(){s({modalShow:"RemoveLiqModal",poolId:f.id})},O=function(e){try{return e?e.split(" ")[0].split("-"):[]}catch(t){console.log("transferSymbolToToken error")}},x=function(e){return"thrpoollp"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool3-img",src:Z.default,alt:""})}):"thrsunlp"===e.id?Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("img",{src:K.default,alt:""}),Object(te.jsx)("img",{src:X.default,alt:""})]}):e.symbol&&O(e.symbol).length?O(e.symbol).map((function(e){return Object(te.jsx)("img",{src:z.a[e.toLowerCase()],alt:""},e)})):void Object(z.c)("default")},y=function(){var r=t.stakeVersion;return Object(te.jsx)(te.Fragment,{children:Object(te.jsxs)("div",{className:"liquidity-ele "+e.myClass,children:[Object(te.jsxs)("div",{className:"cp",onClick:function(){return e.slide(f.id)},children:[Object(te.jsxs)("div",{className:"liq-logo",children:[Object(te.jsx)("span",{children:x(f)}),Object(te.jsxs)("span",{className:"flex fdc ais",children:[Object(te.jsx)("span",{children:f.id&&("USDC Old LP"===a[f.id].symbol&&"zh-CN"===m?"Old USDC LP":a[f.id].symbol)}),Object(te.jsx)("span",{className:"c-999 fs-12 earn-subtitle",children:f.id&&a[f.id].subtitle})]})]}),Object(te.jsxs)("div",{className:"liq-ele",children:[Object(te.jsxs)("div",{children:[Object(te.jsx)("span",{children:d.a.get("newStake.liquidity.earned")}),Object(te.jsxs)("span",{children:[Object(W.t)(f.stakeReward,{miniText:.01})," ",o.toUpperCase()]})]}),Object(te.jsxs)("div",{children:[Object(te.jsx)("span",{children:d.a.get("stake.apy")}),"1"===t.stakeVersion?Object(te.jsxs)("span",{className:"c-5915e1 fs-14 fw-bold",children:[f.apy?f.apy.gt(0)?"".concat(Object(W.s)(f.apy),"%"):"<0.00%":"--"," "]}):Object(te.jsxs)("span",{className:"c-5915e1 fs-14 fw-bold",children:[f.thisWeekApy?Object(W.a)(f.thisWeekApy).gt(0)?"".concat(Object(W.s)(f.thisWeekApy),"%"):"<0.00%":"--"," "]})]}),Object(te.jsxs)("div",{children:[Object(te.jsx)("span",{children:d.a.get("newStake.liquidity.stake_total")}),Object(te.jsx)("span",{children:f.totalStakePrice&&f.totalStakePrice.gte(0)?"".concat(Object(W.t)(Object(W.a)(f.totalStakePrice),{dp:0,rm:1,miniText:1,needDolar:!0})):"--"})]}),Object(te.jsxs)("div",{children:[Object(te.jsx)("span",{children:d.a.get("farm.gov_weight")}),Object(te.jsx)("span",{children:0==f.thisWeekWeight?"0.00":f.thisWeekWeight<.01?"<0.01":f.thisWeekWeight})]})]}),Object(te.jsx)("div",{className:"flex liq-slide",children:Object(te.jsx)("img",{src:e.myClass?$:J,className:"liq-arrow"})})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("div",{className:"flex jcsb liq-earned",children:[Object(te.jsxs)("div",{children:[Object(te.jsx)("div",{className:"title",children:d.a.get("newStake.liquidity.earned")}),Object(te.jsxs)("div",{className:"amount",children:[Object(W.t)(f.stakeReward,{miniText:.01})," ",o.toUpperCase()]})]}),Object(te.jsxs)("div",{children:[Object(te.jsx)(h.a,{title:3!=r?d.a.get("newStake.rule.rule".concat(r,".a1")):"",overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"tooltip-img mr-5"})}),Object(te.jsx)("button",{className:"liq-claim"+(Object(W.a)(f.stakeReward).gt(0)?"":" btn-disabled"),disabled:!Object(W.a)(f.stakeReward).gt(0),onClick:p,children:d.a.get("newStake.liquidity.vest")})]})]}),Object(te.jsxs)("div",{className:"flex jcsb liq-staked",children:[Object(te.jsxs)("div",{children:[Object(te.jsxs)("div",{className:"title",children:[d.a.get("newStake.liquidity.staked"),"thrpoollp"===f.id?Object(te.jsx)("a",{className:"c-5915e1 ml-10",href:"/?lang=".concat(m,"#/3pool"),target:"Old3poolLP",children:d.a.get("newStake.liquidity.get_lp")}):"thrsunlp"===f.id?Object(te.jsx)("a",{className:"c-5915e1 ml-10",href:"/?lang=".concat(m,"#/usdc"),target:"usdcLP",children:d.a.get("newStake.liquidity.get_lp")}):Object(te.jsx)("a",{className:"c-5915e1 ml-10",href:"".concat(V.a.sunSwap,"?lang=").concat(m,"&tokenAddress=").concat(f.tokenAddress,"&type=add&s=1#/"),target:"sunswap",children:d.a.get("newStake.liquidity.get_lp")})]}),Object(te.jsxs)("div",{className:"amount",children:[Object(W.t)(f.stakedBalance,{miniText:.01})," ","USDC Old LP"===f.symbol&&"zh-CN"===m?"Old USDC LP":f.symbol]})]}),Object(te.jsx)("div",{children:Object(W.a)(f.stakedBalance).gt(0)?Object(te.jsxs)("p",{className:"get-lp",children:[Object(te.jsx)("span",{onClick:g,children:"-"}),Object(te.jsx)("span",{onClick:v,children:"+"})]}):Object(te.jsx)("button",{className:"stake-lock-btn",onClick:v,children:d.a.get("newStake.liquidity.stake_lp")})})]})]})]})})};return Object(te.jsx)(c.a,{children:function(){return f?Object(te.jsx)(y,{}):Object(te.jsx)(te.Fragment,{})}})},ne=r(973),ce=r(390),oe=r(391),ie=r(392),se=r(393),le=r(394),ue=(r(399),r(397),r.p+"static/media/slideDownNew.aa65396d.svg"),de=r.p+"static/media/slideUpNew.9674f080.svg",fe=r.p+"static/media/slideDownNewMobile.f0e78115.svg",he=r.p+"static/media/slideUpNewMobile.544a8cdd.svg",je=r(974);r.p,r(1113);function be(){be=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new N(n||[]);return a(o,"_invoke",{value:x(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(_([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function x(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return L()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=y(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function y(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(O.prototype),s(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new O(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;k(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var me=function(e){var t=Object(G.a)(window.navigator).any,r=Object(c.d)((function(){return B.a.network})),a=Object(c.d)((function(){return B.a.system})),o=Object(c.d)((function(){return B.a.pool})),s=V.a.tokens,u=V.a.defaultId,f=r.setData,j=r.isConnected,b=e.data,m=Object(n.useState)(""),p=Object(l.a)(m,2),v=(p[0],p[1]),g=window.localStorage.getItem("lang"),O=function(){var t=Object(i.a)(be().mark((function t(r,n){var c;return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("img"!==r.target.tagName.toLowerCase()){t.next=2;break}return t.abrupt("return");case 2:if(j){t.next=5;break}return f({loginModalVisible:!0,loginModalStep:1}),t.abrupt("return");case 5:return Object(ee.a)({action:ee.b.claim,event_category:ee.h.farm}),c={title:"actions.claim_lp",obj:{value:Object(W.t)(b.stakeRewardNew),symbol:u.toUpperCase()}},"",t.next=10,a.claimLPRewardNew1(V.a.minter,"0x0000000000000000000000".concat(W.eb.address.toHex(b.lpStaker)),c);case 10:t.sent&&("fly"===n&&v("active"),setTimeout((function(){e.cb(),v("")}),5e3));case 12:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),x=function(){var t=Object(i.a)(be().mark((function t(){var r,n,c;return be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j){t.next=3;break}return f({loginModalVisible:!0,loginModalStep:1}),t.abrupt("return");case 3:return n={title:"actions.claim_lp",obj:{value:Object(W.t)(b.stakeRewardNew1),symbol:null===(r=b.gift[0])||void 0===r?void 0:r.toUpperCase()}},c="",t.next=7,a.claimLPRewardNew3(V.a.tokens[null===b||void 0===b?void 0:b.id].lpStaker,n);case 7:c=t.sent,Object(ee.a)({action:ee.b.claim,event_category:ee.h.farm}),c&&setTimeout((function(){e.cb()}),5e3);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){j?(f({modalShow:"AddLiqModal",poolId:b.id}),Object(ee.a)({action:ee.b.staking_lp,event_category:ee.h.farm})):f({loginModalVisible:!0,loginModalStep:1})},w=function(){f({modalShow:"RemoveLiqModal",poolId:b.id})},k=function(e){try{return e?e.split(" ")[0].split("-"):[]}catch(t){console.log("transferSymbolToToken error")}},N=function(e){return"twopoollpNew"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:oe.default,alt:""})}):"twopoollp"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:ce.default,alt:""})}):"thrpoollp"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool3-img",src:Z.default,alt:""})}):"thrpoollpNew"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool3-img",src:ie.default,alt:""})}):"thrsunlp"===e.id?Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("img",{src:K.default,alt:""}),Object(te.jsx)("img",{src:X.default,alt:""})]}):"usddtrx"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:se.default,alt:""})}):"usddusdt"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:le.default,alt:""})}):e.symbol&&k(e.symbol).length?k(e.symbol).map((function(t){return Object(te.jsx)("img",{src:2==e.version?z.b[t.toLowerCase()]:z.a[t.toLowerCase()],alt:""},t)})):void Object(z.c)("default")},_=function(e){e.stopPropagation(),r.setData({modalShow:"CalculatorModal",poolId:b.id})},L=function(){f(j?{modalShow:"LockModal"}:{loginModalVisible:!0,loginModalStep:1})},S=function(){return Object(te.jsxs)("div",{className:"liq-title",children:[Object(te.jsxs)("div",{className:"liq-logo",children:[Object(te.jsx)("span",{children:N(b)}),Object(te.jsx)("span",{className:"flex fdc ais",children:Object(te.jsxs)("span",{className:"c-333 earn-title",children:[Object(te.jsxs)("span",{children:[Object(te.jsxs)("div",{children:[b.id&&("USDC Old LP"===s[b.id].symbol&&"zh-CN"===g?"Old USDC LP":s[b.id].symbol)," ",s[b.id].lpTokens&&(e=s[b.id].lpTokens,"  ( "+e.join(" + ")+" )")]}),Object(te.jsx)("div",{children:Object(te.jsx)("span",{className:"earn-subtitle",children:b.id&&s[b.id].subtitle})})]}),Object(te.jsxs)("span",{children:[(1===b.version||2===b.version)&&Object(te.jsx)("span",{className:"liq-version v"+b.version,children:"V"+b.version}),Object(te.jsx)("span",{className:"flexible-icon",children:d.a.get("farm.flex")})]})]})})]}),Object(te.jsx)(C,{})]});var e},E=function(){var e=b.currentSpeed,t=b.futureSpeed;return r.isConnected&&Object(W.a)(b.stakedBalanceNew).gt(0)?Object(W.a)(e).lt(1.01)&&Object(W.a)(t).lt(1.01)?Object(te.jsxs)("div",{children:[Object(te.jsx)("span",{className:"lock-speed-tip",onClick:function(e){return f({modalShow:"LockModal"})},children:d.a.get("farm.lock_speed_tip1")})," ",d.a.get("farm.lock_speed_tip2")]}):Object(W.a)(t).gt(e)?Object(te.jsxs)("div",{children:[d.a.get("farm.current_speed_tip"),Object(te.jsx)("span",{className:"speed-to",children:d.a.getHTML("farm.repeed1",{future_boost:Object(W.a)(t)._toFixed(2,1)})})]}):Object(W.a)(t).lt(e)?Object(te.jsxs)("div",{children:[d.a.get("farm.current_speed_tip"),Object(te.jsx)("span",{className:"speed-to",children:d.a.getHTML("farm.repeed2",{future_boost:Object(W.a)(t)._toFixed(2,1)})})]}):void 0:d.a.get("farm.current_speed_tip")},C=function(){var e=Object(W.a)(b.currentSpeed).toFixed(2);Object(W.a)(b.futureSpeed).toFixed(2);return Object(te.jsx)("div",{className:"liq-speed flex",children:Object(te.jsxs)("div",{className:"speed-basic speed-gov",onClick:L,children:[Object(te.jsx)("span",{onClick:function(e){e.stopPropagation()},children:Object(te.jsx)(h.a,{title:E(),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(te.jsx)("img",{className:"tooltip-img",src:Q.a})})}),Object(te.jsxs)("span",{className:"ml-4",children:[d.a.get("farm.gov_speed_up"),": "]}),Object(te.jsxs)("span",{className:"ff-hn",children:[Object(W.a)(b.stakedBalanceNew).gt(0)?e:"--"," ",Object(te.jsx)("img",{className:"calculator ml-18",src:je.a,onClick:_,alt:""})]})]})})},D=function(){var r,a,n,c,i,s,l,f=Object(W.a)(b.stakeRewardNew).times(o.sunPrice).plus(b.stakedBalancePrice);(null===(r=b.gift)||void 0===r?void 0:r.length)>0&&(f=Object(W.a)(f).plus(Object(W.a)(b.stakeRewardNew1).times(b.extraRewardPrice)));var j=b.thisWeekApy?Object(W.a)(b.thisWeekApy).gte(0)?"".concat(Object(W.s)(Object(W.a)(b.thisWeekApy).times(.4)),"%~").concat(Object(W.s)(b.thisWeekApy),"%"):"<0.00%":"--",m=b.extraRewardApy?Object(W.a)(b.extraRewardApy).gte(0)?"".concat(Object(W.s)(b.extraRewardApy),"%"):"<0.00%":"--",p=j;if(!Object(W.a)(b.extraRewardApy).isNaN()&&!Object(W.a)(b.thisWeekApy).isNaN()){var v=Object(W.a)(b.extraRewardApy).plus(Object(W.a)(b.thisWeekApy).times(.4)),g=Object(W.a)(b.extraRewardApy).plus(b.thisWeekApy);p=Object(W.a)(v).gte(0)?"".concat(Object(W.s)(v),"%~").concat(Object(W.s)(g),"%"):"<0.00%"}return Object(te.jsxs)("div",{className:"liq-info cp",onClick:T,children:[Object(te.jsxs)("div",{className:"liq-ele",children:[Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"flex aic jcs",children:[d.a.get("stakes.my_position"),Object(te.jsx)(h.a,{title:d.a.get("stakes.total_value"),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(te.jsx)("img",{src:Q.a,className:"ml-4"})})]}),Object(te.jsx)("span",{children:Object(W.t)(f,{dp:0,rm:1,miniText:1,needDolar:!0})})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"flex aic jcs",children:[d.a.get("stake.apy")," ",Object(te.jsx)(h.a,{title:(null===(a=b.gift)||void 0===a?void 0:a.length)>0?V.a.tokens[b.id].giftEndTime?d.a.getHTML("stakes.liq_apy_more_tip_1",{token:null===(n=b.gift[0])||void 0===n?void 0:n.toUpperCase(),apy1:j,apy2:m,time:V.a.tokens[b.id].giftEndTime}):d.a.getHTML("stakes.liq_apy_more_tip",{token:null===(c=b.gift[0])||void 0===c?void 0:c.toUpperCase(),apy1:j,apy2:m}):d.a.get("stakes.liq_apy_tip"),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(te.jsx)("img",{src:Q.a,className:"ml-4"})})]}),Object(te.jsx)("span",{className:"c-5915e1",children:p})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"flex aic jcs",children:[d.a.get("newStake.liquidity.earn"),Object(te.jsx)(h.a,{title:V.a.tokens[b.id].giftEndTime?d.a.getHTML("stakes.earned_tip",{token:null===(i=b.gift[0])||void 0===i?void 0:i.toUpperCase(),time:V.a.tokens[b.id].giftEndTime}):d.a.get("stakes.earned_tip_1"),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(te.jsx)("img",{src:Q.a,className:"ml-4"})})]}),Object(te.jsxs)("span",{children:[u.toUpperCase(),(null===(s=b.gift)||void 0===s?void 0:s.length)>0?" + "+(null===(l=b.gift[0])||void 0===l?void 0:l.toUpperCase()):""]})]}),Object(te.jsxs)("div",{children:[Object(te.jsx)("span",{children:d.a.get("newStake.liquidity.stake_total")}),Object(te.jsx)("span",{children:b.totalStakePriceNew&&b.totalStakePriceNew.gte(0)?"".concat(Object(W.t)(Object(W.a)(b.totalStakePriceNew),{dp:0,rm:1,miniText:1,needDolar:!0})):"--"})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"flex aic jce",children:[d.a.get("farm.gov_weight")," ",Object(te.jsx)(h.a,{title:d.a.get("governance.pool_weight_tips"),overlayClassName:"stake-tooltip",placement:"topRight",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(te.jsx)("img",{src:Q.a,className:"ml-4"})})]}),Object(te.jsx)("span",{children:0==b.thisWeekWeight?"0.00":b.thisWeekWeight<.01?"<0.01":b.thisWeekWeight})]})]}),Object(te.jsx)("div",{className:"flex liq-slide",children:t?Object(te.jsx)("img",{src:e.myClass?he:fe,className:"liq-arrow liq-arrow-m"}):Object(te.jsx)("img",{src:e.myClass?de:ue,className:"liq-arrow"})})]})},T=function(t){"img"===t.target.tagName.toLowerCase()&&"liq-arrow"!==t.target.classList[0]||e.slide(b.id)},A=function(){var e,t=(null===(e=b.gift)||void 0===e?void 0:e.length)>0,r=Object(W.a)(b.stakeRewardNew).times(o.sunPrice),a=Object(W.a)(b.stakeRewardNew1).times(b.extraRewardPrice);return Object(te.jsxs)("div",{className:"flex jcsb liq-earned",children:[Object(te.jsxs)("div",{children:[Object(te.jsx)("div",{className:"title",children:d.a.get("newStake.liquidity.earned")}),Object(te.jsxs)("div",{className:"amount",children:[Object(W.t)(b.stakeRewardNew,{miniText:.01})," ",u.toUpperCase(),Object(te.jsxs)("div",{className:"price",children:[Object(W.a)(r).gt(1)&&"\u2248 ",Object(W.t)(r,{dp:0,rm:1,miniText:1,needDolar:!0})]})]}),t&&Object(te.jsxs)("div",{className:"amount",children:[Object(W.t)(b.stakeRewardNew1,{miniText:.01})," ",b.gift[0].toUpperCase(),Object(te.jsxs)("div",{className:"price",children:[Object(W.a)(a).gt(1)&&"\u2248 ",Object(W.t)(a,{dp:0,rm:1,miniText:1,needDolar:!0})]})]})]}),Object(te.jsxs)("div",{className:t?"double-btns":"",children:[Object(te.jsx)("button",{className:"btn-border claim-btn",disabled:!Object(W.a)(b.stakeRewardNew).gt(0),onClick:O,children:d.a.get("claim.claim_btn")}),t&&Object(te.jsx)("button",{className:"btn-border claim-btn",disabled:!Object(W.a)(b.stakeRewardNew1).gt(0),onClick:x,children:d.a.get("claim.claim_btn")})]})]})},P=function(){return Object(te.jsxs)("div",{className:"flex jcsb liq-staked",children:[Object(te.jsxs)("div",{children:[Object(te.jsxs)("div",{className:"title",children:[Object(te.jsx)("span",{className:"mr-10",children:d.a.get("newStake.liquidity.staked")}),"twopoollpNew"===b.id?Object(te.jsx)("a",{className:"c-5915e1",href:"/?lang=".concat(g,"#/usdd_2pool"),target:"old2poolLP",children:d.a.get("newStake.liquidity.get_lp")}):"twopoollp"===b.id?Object(te.jsx)("a",{className:"c-5915e1",href:"/?lang=".concat(g,"#/usdd_old_2pool"),target:"old2poolLP",children:d.a.get("newStake.liquidity.get_lp")}):"thrpoollp"===b.id?Object(te.jsx)("a",{className:"c-5915e1",href:"/?lang=".concat(g,"#/3pool"),target:"Old3poolLP",children:d.a.get("newStake.liquidity.get_lp")}):"thrpoollpNew"===b.id?Object(te.jsx)("a",{className:"c-5915e1",href:"/?lang=".concat(g,"#/usdd_3pool"),target:"3poolLP",children:d.a.get("newStake.liquidity.get_lp")}):"thrsunlp"===b.id?Object(te.jsx)("a",{className:"c-5915e1",href:"/?lang=".concat(g,"#/usdc"),target:"usdcLP",children:d.a.get("newStake.liquidity.get_lp")}):2===b.version?Object(te.jsx)("a",{className:"c-5915e1",href:"".concat(V.a.sunSwapV2,"?lang=").concat(g,"&t0=").concat(b.tokenAddress,"&t1=").concat(b.tokenAddress2,"&type=add"),target:"_blank",rel:"noreferrer",children:d.a.get("newStake.liquidity.get_lp")}):Object(te.jsx)("a",{className:"c-5915e1",href:"".concat(V.a.sunSwap,"?lang=").concat(g,"&tokenAddress=").concat(b.tokenAddress,"&type=add&s=1#/"),target:"_blank",rel:"noreferrer",children:d.a.get("newStake.liquidity.get_lp")})]}),Object(te.jsxs)("div",{className:"amount",children:[2===b.version?Object(W.a)(b.stakedBalanceNew).eq(0)?"0.00":Object(W.t)(b.stakedBalanceNew,{dp:6,miniText:1e-6,cutZero:2}):Object(W.t)(b.stakedBalanceNew,{miniText:.01})," ","USDC Old LP"===b.symbol&&"zh-CN"===g?"Old USDC LP":b.symbol,Object(te.jsxs)("div",{className:"price",children:[Object(W.a)(b.stakedBalancePrice).gt(1)&&"\u2248 ",Object(W.t)(b.stakedBalancePrice,{dp:0,rm:1,miniText:1,needDolar:!0})]})]})]}),Object(W.a)(b.stakedBalanceNew).gt(0)&&Object(te.jsxs)("div",{className:"flex-apy",children:[Object(te.jsx)("div",{className:"title",children:d.a.get("stake.apy")}),Object(te.jsx)("div",{className:"amount flex-apy-amount",children:Object(te.jsxs)(h.a,{title:M(),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:[b.extraRewardApy?Object(W.s)(Object(W.a)(Object(W.a)(b.extraRewardApy)).plus(Object(W.a)(b.currentSpeed).times(b.thisWeekApy).times(.4))):Object(W.s)(Object(W.a)(b.currentSpeed).times(b.thisWeekApy).times(.4))," ","%"]})})]}),Object(te.jsx)("div",{children:Object(W.a)(b.stakedBalanceNew).gt(0)?Object(te.jsxs)("p",{className:"get-lp",children:[Object(te.jsx)("button",{className:"btn-border mr-10",onClick:w,children:d.a.get("stakes.btn_remove")}),Object(te.jsx)("button",{className:"btn-border btn-bg",onClick:y,children:d.a.get("stakes.btn_add")})]}):Object(te.jsx)("button",{className:"btn-border btn-bg",onClick:y,children:d.a.get("header.stake_lp")})})]})},M=function(){var e=b.thisWeekApy,t=b.currentSpeed,r=b.extraRewardApy,a=b.extraSymbol;return Object(te.jsxs)("div",{children:[a&&Object(te.jsxs)("p",{children:[a," ",d.a.get("farm.flex_apy")," : ",Object(W.s)(r),"%"]}),Object(te.jsxs)("p",{children:["SUN ",d.a.get("farm.gov_apy")," : ",Object(W.s)(Object(W.a)(t).times(e).times(.4)),"%"]})]})},I=function(){return Object(te.jsx)(te.Fragment,{children:Object(te.jsxs)("div",{className:"liquidity-ele liq-ele-new old-farm "+e.myClass,children:[Object(te.jsx)(S,{}),Object(te.jsx)(D,{}),Object(te.jsxs)("div",{className:"liq-earned-staked",children:[Object(te.jsx)(A,{}),Object(te.jsx)(P,{})]})]})})};return Object(te.jsx)(c.a,{children:function(){return b?Object(te.jsx)(I,{}):Object(te.jsx)(te.Fragment,{})}})},pe=r(52),ve=r.n(pe),ge=r.p+"static/media/tooltipPurpleDisabledIcon.6d8a74a5.svg",Oe=r.p+"static/media/tooltipPurpleIcon.fa4c2150.svg";r(400),r(1033);function xe(){xe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new N(n||[]);return a(o,"_invoke",{value:x(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(_([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function x(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return L()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=y(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function y(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(O.prototype),s(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new O(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;k(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var ye=function(e){var t=Object(G.a)(window.navigator).any,r=Object(c.d)((function(){return B.a.network})),a=Object(c.d)((function(){return B.a.system})),n=Object(c.d)((function(){return B.a.pool})),o=V.a.tokens,s=V.a.defaultId,l=r.setData,u=r.isConnected,f=r.closeModal,j=e.stakePoolData,b=j.claimableNew,m=(j.stakeApy,j.lockData),p=(window.localStorage.getItem("lang"),function(){l(u?{modalShow:"LockModal"}:{loginModalVisible:!0,loginModalStep:1})}),v=function(){var t=Object(i.a)(xe().mark((function t(){var r;return xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={title:"actions.claim_lp",obj:{value:Object(W.t)(Object(W.a)(b)),symbol:o.tusd.symbol}},t.next=3,a.claimRewardNew(r);case 3:t.sent&&setTimeout((function(){e.cb()}),5e3),Object(ee.a)({action:ee.b.claim,event_category:ee.h.farm});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(i.a)(xe().mark((function t(n){var c;return xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("button"===n.target.tagName.toLowerCase()&&-1==n.target.className.indexOf("disabled")){t.next=2;break}return t.abrupt("return");case 2:return r.stakeVersion,c={title:"actions.claim_lp",obj:{value:Object(W.t)(Object(W.a)(m.lockData).div(o[s].precision)),symbol:o[s].symbol}},t.next=6,a.getReward(o[s].stake2,c);case 6:t.sent&&(l({modalShow:"TopModal"}),setTimeout((function(){var t=a.withdrawExpiredLocks({title:"newStake.stake_pool.withdraw",obj:{}});t&&(f(),setTimeout((function(){e.cb()}),5e3)),console.log(t),e.cb()}),V.a.confirmTime)),Object(ee.a)({action:ee.b.withdraw,event_category:ee.h.farm});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){l(u?{modalShow:"LockDetailModal"}:{loginModalVisible:!0,loginModalStep:1})},x=function(){return Object(te.jsxs)("div",{className:"liq-title ",children:[Object(te.jsxs)("div",{className:"liq-logo",children:[Object(te.jsx)("span",{children:Object(te.jsx)("img",{src:z.a[V.a.defaultId],alt:""})}),Object(te.jsxs)("span",{className:"",children:[Object(te.jsxs)("span",{className:"c-333 earn-title",children:[d.a.get("stakes.lock_sun"),Object(te.jsx)(h.a,{title:d.a.getHTML("stakes.lock_sun_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(te.jsx)("img",{src:Q.a,className:"tooltip-img ml-4"})})]}),Object(te.jsxs)("span",{className:"fs-12 earn-subtitle",children:[d.a.get("stakes.lock_sun_title"),Object(te.jsx)(h.a,{title:d.a.getHTML("stakes.lock_sun_title_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(te.jsx)("img",{src:Q.a,className:"tooltip-img ml-4"})})]})]})]}),Object(te.jsx)("button",{className:"lock-get-btn",onClick:p,children:d.a.get("stakes.lock_get",{symbol:"veSUN"})})]})},y=function(){return Object(te.jsxs)("div",{className:"flex jcsb lock-item",children:[Object(te.jsxs)("div",{className:t&&"en-US"===localStorage.getItem("lang")?"reward-vesun":"",children:[Object(te.jsxs)("div",{className:"flex aic jcs",children:[d.a.getHTML("stakes.have_reward",{symbol:"veSUN"}),Object(te.jsx)(h.a,{title:d.a.get("stakes.have_reward_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(te.jsx)("img",{src:Q.a,className:"ml-4"})})]}),Object(te.jsxs)("div",{children:[Object(W.t)(Object(W.a)(b),{miniText:.01})," TUSD"]})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("div",{className:"flex aic jcs",children:[d.a.get("stake.apy"),Object(te.jsx)(h.a,{title:d.a.get("stakes.apy_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(te.jsx)("img",{src:Q.a,className:"ml-4"})})]}),Object(te.jsx)("div",{children:n.sunApy?"".concat(Object(W.s)(n.sunApy),"%"):"--"})]}),Object(te.jsx)("button",{className:"btn-border",onClick:v,disabled:!Object(W.a)(b).gt(0),children:d.a.get("claim.claim_btn")})]})},w=function(){return Object(te.jsxs)("div",{className:"flex jcsb lock-item",children:[Object(te.jsxs)("div",{children:[Object(te.jsxs)("div",{children:[d.a.get("newStake.stake_pool.locked"),m&&(Object(W.a)(ve()().format("X")).gt(m.lastLockTimeStamp)&&Object(W.a)(m.lockData).gt(0)?Object(te.jsxs)("span",{className:"cp",children:["(",d.a.get("newStake.stake_pool.expired"),")"]}):Object(W.a)(m.lockData).gt(0)?Object(te.jsx)("span",{className:"cp c-5915e1",onClick:O,children:d.a.get("newStake.stake_pool.check_detail")}):null)]}),Object(te.jsxs)("div",{children:[m?Object(W.t)(Object(W.a)(m.lockData).div(o[s].precision)):"--"," ",s.toUpperCase()]})]}),Object(te.jsxs)("div",{children:[Object(te.jsx)("div",{children:d.a.get("stakes.got_vote_right")}),Object(te.jsxs)("div",{children:[Object(W.a)(e.vesunBalance).gte(0)?Object(W.t)(e.vesunBalance):"0.00"," veSUN"]})]}),Object(te.jsxs)("button",{className:"btn-border flex aic jcc",onClick:g,disabled:!r.isConnected||!Object(W.a)(m.unlockable).gt(0),children:[d.a.get("newStake.stake_pool.withdraw"),Object(te.jsx)(h.a,{title:d.a.getHTML("stakes.withdraw_tip"),overlayClassName:"stake-tooltip",placement:"topRight",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(te.jsx)("img",{src:r.isConnected&&Object(W.a)(m.unlockable).gt(0)?Oe:ge,className:"ml-4 tooltip-img"})})]})]})},k=function(){return Object(te.jsx)(te.Fragment,{children:Object(te.jsxs)("div",{className:"liquidity-ele lock-ele",children:[Object(te.jsx)(x,{}),Object(te.jsxs)("div",{className:"content-l-content new-content flex jcsb",children:[Object(te.jsx)(y,{}),Object(te.jsx)(w,{})]})]})})};return Object(te.jsx)(c.a,{children:function(){return Object(te.jsx)(k,{})}})},we=r.p+"static/media/stakeSUN.8267e1ec.svg",ke=r.p+"static/media/lockSUN.634c7916.svg";function Ne(){Ne=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new N(n||[]);return a(o,"_invoke",{value:x(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(_([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function x(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return L()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=y(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function y(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(O.prototype),s(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new O(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;k(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var _e=function(e){var t=Object(c.d)((function(){return B.a.network})),r=Object(c.d)((function(){return B.a.system})),a=(Object(c.d)((function(){return B.a.pool})),t.setData),o=t.isConnected,s=e.stakePoolData,u=s.earnedAmount,f=s.claimable,j=s.stakeApy,b=s.lockData,m=s.withdrawable,p=V.a.tokens,v=V.a.defaultId,g=Object(n.useState)("--"),O=Object(l.a)(g,2),x=O[0],y=O[1],w=Object(n.useState)("--"),k=Object(l.a)(w,2),N=k[0],_=k[1],L=m.amount,S=m.penaltyAmount;Object(n.useEffect)((function(){if(b){var e=Object(W.a)(L).plus(S).minus(Object(W.a)(u).div(p[v].precision));_(e);var r=e.gt(0)?e:0,a="1"===t.stakeVersion?Object(W.a)(b.unlockable).plus(b.lockData):b.lockData,n=Object(W.a)(u).plus(a).div(p[v].precision).plus(r);y(n)}}),[b,S,L]);var E=function(){return Object(te.jsxs)("div",{className:"sp-title",children:[Object(te.jsxs)("div",{children:[Object(te.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABOCAYAAACOqiAdAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAB66SURBVHgBxVwLdBXVuf73zJwTIAHCQwhS5ISnCuRBrQgKBCRRr1UD0qItVNDai71aQAltV+8V8Nb2LhMX0OpVu1YLEvpQ0eAbgtccVIJaISSIIhCSKK+AkAB5kHPOzL7//++ZOXMgYB4H+6+VzJn37G9//3PvGQH/Iqkrykr2+43JUkBqlxE/SYfktEDLx0sCEiT4h88JGANzoDk4B0Cow/Veo2oSxq2oPxu8u1q2nNgpLNjZ5ZbiciFEPfwLxIBvUc68Pi1L17U7EsavyrUavgyEdhUwLpYFoAv6JW2clOAmSUspoZcEoxf/pkdGdGXX/nzo2Q8X7jTrdu+0IvL57re9E4RvSTS4xCKlzAp/9tyKhjen1SFoJRKsBWCFAsJBSLpHEmhSeLbhuQQawyfol3pg6cIJBK6eDhbM1XRR0hy8pwrPWd1cumgyXGK5ZMBF6r7IbXoruyS8r7BED9yxUPd1TyYgEBoFGYMRhY2hsUBIzxY6FjdIBZo6j4D0Xsc9Hpe+YT8OyObauVbdp8HGN7PL8Li5cIkk7sC1vDntjpbdT1dpiZcXCT0pK1JVhC1KAj0wHaERMaqowIuFj3/b66y8krBzlNY5Rgjvb2Zq1/6gD8yGUHmBYm7XlAzcu7p560NVzW/ceA/EWeIGHNmv5jeySyJSbLAOvhMQCJboPgRkqAEiB14Bg4AzuklkVRQo6WpgDFiO8LFgMzOGm97jJNMuIS0PrBMVYJ4oZzD1/hMA2Qey7vPBFmhrmt7IqUKHFIA4SaeBQ3VINus+W2H4kt7F1k2mRloIlomNoIendZNYhz/0wAwhvGSRHlXjDWrhcJABUgwUsccIL/igf+cmofVJg3B5PtlISapM97YQRMnqzgcOTrr6XrKBSyEO0ingqAfPlswrEwm9FyaML8Bu7i7ANubm0a2gD8rhRlvMuiIwUpF1emLsRWKZxMxSvsALqnQZx0orrZh134g5YB4sBquplhmsdU0BHYGMHCl1EJfG8DnCwONCO/OXxYN9HQYutOW+e/y6r0w2HA60lOaxHUsYn4/qmKRCjNpSSeqq9UnndXNvoYRII+j48I4QUJprvTzu1au2zLgoTcmB0LpztD4wR5B9i3xRKIV9RWIfiXW0lE9BYIVPgQbmV5txhwwk6P6yUGXRQuigdAg4tB1LjWseX4M9m8xkaDoqW7YujgFPNqJ9aaoFrW8aNx5jNRH+Yi34hiDrfIk2IBKihh8bzaB4zdx5rsPd4iBHrDYPbpZWY62wLHVRI2UCdxzt97lMKyDQ3EDGN2J2sm9I7oqWsic7pLrtBq7p1WkrmkvmL5PhBkiYgCB1S1H2GYFqKVXg+ScweMLEHtf7X283GFn35WY24KLHUHUxBs0N2uyl52ZKXUWMa7CP8/rZ8J61jKPNUCGUmjJgxkgbtC+LpWNG/CPV9vDOAml+uXFZ02s5K6Cd0i7gGjfctBobu1CEG2RoK6pnuJHB07r1BzL6sukYtOB2YYNnfV0BWs8hCG5/GwaQ4T2FLihRF2AvPaGI2qJsmwAR1U1bWGVRwl+sY2bbTkSZBgp/eqeDj0Ary+cOs5ksfQ5oZQUQqSnma6DdXWjW7V0N7RDR1gNDnz67IrL/5YXgbaYvSSRcn88sa/kA2Xa2VjUP06GE6wuwVQ0geg6F8K5n2DkwKAiwb/R8BLVcAZs8FPQhM0DvOwZRbeRrsSp7QaLtdC3sgEhlEZho9OH0fumawnCjlLaK+8cuBv2KHPXMCJr15WaOnmndd6XNwDJmoDrZlyj916Njw/tGtv9+pX/SqkXQBmkTcOHt+UuNsYuXRZAt4T3rwEsL4Ud2IXjCBo97X3AAKvw35HNjTQQohDaQA2BfNykG3SSMAeMR1GGov6dBniwD68w+tJ1HQJ49yiA54rvmjyC6Dmj1uQh4AiCCf47qJmQXCrpnaEcBgcZaTvsQMGEgcOEdZOuKCWeBcSUk3FDAnYXPJ1FjKH1Z1nX6O8uhs8CdfTV7gWXCSn1wDvcmg/d5oXO2ei5yChPpARIRvDxyFoqR3VJEgg3e2WLsbWSCPnQGyIa9CNYOMA+/jUAduej9E7K3ftMjcmcRiMRGY2iuDehm1zQy0xzQyNYx7WNBsxpqOcbkBkkxt+uM4ueho8Ah/wPNb9xZBuEzybROKuD/bhQ8FcxyvGmDZ6vt+zbzyPyjKiLzBKOMgJmVfwarrgzaIlr34eC7bg20R+jZIvuLgJwXMdy4anYUtBqbgec8KzQfA8frUFuM1FvrfRkLMrF91Re6z0WBsxoOVUG4ORAiFqFD4OgfwfONXSz4AT8vlE6wyupJToFA8tMD5bHT8CHQsuVwuwBzROuViar6FLRXqNNC2wtAvyxNgba9wGWgRjZtYoEg0MIfINMaj6migY0EaQU9MxKj2vfRXzLFvGCr9T79QjdvKcpZGjm8LdcY8n1MabLA+mqLwBQArFOVFHoIX9oDdJiQX1eoUhDnViFhHtwCBh5vjLwLY6zJYFYTwPnKdrVTRO9M0PtNgvYKdaCBpkXrm26DVsxaoVHHTlKgtbyHHYqgcRkBlJYiaIJAQ0KA+XlhcjjB6PL4i5WbWrtHq+FI89+zAhiwLoOmWhl6b7Hk2IyojbEZp1PYe+FPClAN2Etx0Erhgaqn4TNihgDmGQh/OBePfRE6KqLLAOiskIYIIxE0pw1k097HNmHopKODcryxHguatAP0hWdempbV2nVbBc6f80wJ3YxrXxTYbkE74Fc3FgyejIJ39RwG0C7lCP+NzyKI9QwaecnOCNm4zoqG6krPxKCRCcG2yIZjgjIafdgMoJRPv2IaKNDWychnhXYpC89NHgZJt61vNbM4D7jmt++fK7r0Cvgn5XMvcY8geOEteZLBm6RCD8z30NgWSwc8VF3hn4xxU/12iJT/Gm3iGeis8H3iIOTVyUmFS5cBMY0aRVECgapfiXnsNXlAgEV2rxUqqZOSQKO2mkc/zmp8ISf33Guez7jG6qWhYB44IGn2w1uNRzGxj27nRmHPmNXIvH+iIR4+XYG2+3GIm8RBVb3iu2axE4JKAo2EOp1B+6xQlRMIVQzamQSHtqq26XBeShYDXPOL2XMxdRksCSQHvMkqaWc71sDgyej2ROW/8UZk/M29f4B4yoUC3w5fD1lnpD9AbBN2GsjBtvlZoZ3HopnuMRQ1p0BYh0oZNJUvy8Hnsi4GODxtAVcryGI1HpWh4GIFUpZbLpISA8VQSRRUfTimS1eMR3v3YFzU032WOIPmiDE8F4yMB6IbKMXrm65UlGLOLMw4PKCxY8H9Cd99cEHM8zk/5PFdWWbDkRI6yTxEdSzFaS2pv/RhD1DPEGCcN9KJif3BP0VlBaSe5uG3IJ5ybgxX3dKklmeboD4S5j+SU5GQ+5sk2fBBT8PPS+cvI7HnRe9FDtA6jnnzQCy3Hy6V4bJnhBbALAfXCUzKna3j5TiesWZK1+yVQTrHBS70ycrV+hVT5jq6T+ARiNaxClVlnYKBbUsDhFGFLQqGKVm4lrxtuNN2rV4kQA30hArRD07Rb9ETvuo6Eqr9lzMoNWeboKOSldwX7ugzABYMHNam4wlEIgURhGwctZ9wQOJIDcQq/6xiLgK4wDX/I6cKFwFimLgsTTDa/dIV2nRyfSUYI6bj4EclM08koKreuhZCH8xsU9jhBadC6wf14Ofll7iN9rVV5JFjbTpODOgHk3v2hRXD0r6Rcefdg0A7uBUiZc9iDtegYrrEFGFcfVe9MfRWHhi3xyZlFiJdYn6KwV+1SoJVAkreJ11oqdmgEYiJyqBSD8gQqmxC62wjICpAAfSeNojBqhE9oN3S0AjypTcAdn4KcPQ4/rUNtBhJ6QcZw4bDwp/eD5MnT4ZAIHDBQ61j5ahp20BWFbsmiQoXOhJGHzkD1bIBWrYVoLoWBBm40Mb/WK0Fbpyrj5zOVI0ggFZVsVS5gO2/cYVqZ1r/dM75fJnzY9hGYK3TRsPr2jAG6jwWEQjElv3VCgDnrwHVMKkb/qGHvmEciFumqONxn1zwaMfAuojk5ubC6tWrITk52d1mIlDmjmfJBEVL9VhrJLAIE5LIjmcUJhL+0OVHmxfy3BHr5N4Mq26fNL/AMeTRs8E3DqPr0XNE+KMCkMfKpRoskaymEfzzXbeYnQGBRkx6XL+eAXPBIpD27QP44GMEqkqB1dD4za2i41HFIGOUYlqcQSPZsGEDZGVlwYIFUSdp7lqnNIgFCYJgGWPUoJL5xStg7SliBnINT8jbcfNCo251FkIvMpxxg8hHT4L56To6Ufqn5guzarMwdxVyeCJ5kFJIrV+aiOxfCU/pYxk0BzBZhiq1sUQB0BagWhG5rwqfZpRi4CUSAs8FDtWP2k1C5ohIQaGWtecVHDkr4uEBZbbsWQhSpErEzOhiGBlwbj2/AVOsDzHUQMDoQvrta8E8UCwIUHQWQiQkwmMnI/C4MVUdT4CteQFt0W7otBBDUUTmaJB0zUsgwWAQgns+g6wrr4Z6LQG6USSBauq/Md89RkfG6WPmXOgSWYb/9jUZQm91tldMrU4fksP2LYK0rUJ1fVyfwNtZpZ76C8RdiHXDAkrNL4FsOXUcskDFhWN6D5Xmgc0i8uGTYM/vsbUrOvimaVi74OxAgNlUFzDk5+vTLStsTwaS7oAKS3SSkPqNgyL6kGzx2ElTbXq7JP6geVRU/OA2kL//I1wKWYVlr0Dtl5COoQqFX7CnSJqVxdEhN+HMHlC1ugiV7Wwu4Wq6Edn/ZkDNt+BROHuGkOcOqugtbbCFPnY+lB+zVZLChDiLyBwVXbkZPezb78bHBHgFmUyB9fKaz+HAtTeh2RpKsyoQIE2V1gHsgXJ7LpqlQBPREcyA4cu8P1lGWoR7Atij5RC9glNYZuSS+oPV/A6udbs0BnxYKi8oeN1y6msQv34Iw5L/UnFcvCRjNC/S7cCY4lPf+MXubqV0TmASHQ1350JqRsAQg64PCK3VCvr54xF2iSktVAUV+ii3kXETYhgGrIEu3aBo1HWQuf1dqMF1seq/4wqemDiOl7l9PYUE9KTkYXk//YudDATnKCEYoQ3zkj0zf2LQddhnZxEg+uPgx8SHIV3WwjoYhQ9wLcj/gfgIBsFi3iz+eU//Kzg5L0mfCFPK34+Ct/oFFe50RlIuY8dDnXNHn8vdzZHPMVarrYiaqigAUabZS0GpqfBMl5L2DEkhwVXv1uZ0pEm750lVM0ZBPETMu4vZlixbELjBvI0aR+ANTujG+0htxQvP2sy8DDoi0c4ZzJ3jbnfbq5yqSyYZtfl8jJpHKzkOsVEW9lwN4ZkH47iRGJlkfQUT8e99zEOpwaxGnRBuzMzv8+8Htb1wxckg2JMxYXDvsVD23amwqHIXPF9b4wLIQjEfOg6OIyngbi2f5XQuiTuY0zm0b9QhCwYOjTnMSJ+D8etR2wPIaIu9MYlaV/Y+vHGxFR1VFOfR0g1JCMU+w0AffTvnqIVo435m3KIO+SOGJOvfgHYLq+ddLmi3mfvhxciG2AaN+g3ol/8b/6aYa3nNHgjWH4ealo6Vmgi0d9Mm8tIrsu4AUNnsfADOEVuFiXlcToK2SgQrBCU38c8r/fdz7Yxz0/sebp/xRnVjpiGDSIjFLyBopKpe8dPckV5jzzs9WP81B7HljacYUKfAea44AGUk9UQvmsxM86qo26zXfo4D5pVs1XiES9hKyKJeJZDuPlFnhF6ZB8Iyvddwp5qdI1RGF77b/5cHamiKwZ8iG+Em3yy2dW3yfKRmpC7EME8o86C5A/Ij70J7hAqU9Bcv4XzVM6lRxbXSidIgGpJx0FtjiNNHqmmOiIpdpPROGxX25AZpK72EWq4i0ECxDO9jljxhvgtL9KkKFATPtTmOEKjDU5UTsdnlCJ3/G7OUlxcUoztccqFE/2xDVA3tKiVYnpneyrtygIGRbb0hu/SqAd3HozZCvY8BzhWcawhnrjjtwwIAdMcy9Jl9fL2HIjt4+TsNqyQEzM0I4M1TLviMpIo/tnbD7da+iwPmiBGfsdWLCQ5Qg5aSFrvNwc/rHITyn8LoWk1A0WTBdk3lpFrcuZVfqsv9FktM72vfUXbPlsHyNKRZtTBJfsVhTJvAome0NJoTDL4x+eo3Ml2eQY/Z0si/+a/huFpmzkJWT4FvURaJlqIHc0XoVJEQbqDrqqtsJXwWfXBscvIjroNoTag+dwoSGDSvEAAijFlKRGUqgpY0BGIJ9du0t2tYZvcnqr+ky9QSS1mCfuNYB/gpxOjH22XNRwheE+a4s6CjEnl7CVanK1Qg67Q12mxvgMF7LGlNMZrqPw12M/3RvQxQNGx2wHNwldjjEhtKw3cXmrZF6pgMLedt1850Bd0YA9A7gOqOKk0AnAMEL9sjoY6PgKnzG3AMpRzOnesu3SGDaJ7uYNjFiOw0es0L1rf8Oaca1SIQ3WdPFrS9SpSMuGxpENbeYqyWTmr3fDdpoPcegIHouHshbnICK8ajb4OOilWzzSUFV3m795MQnTIJbs7l0C1ydqeY/VI9Zw7GD//2qpARpwjvDUXU71CDiLy5JDo398tSqecsFeaBP3NY0uaH7Ios3FcCEC/gGmjAB0tO034FHRW5r1jyDHbCJ2UMGLfmi284ZSfMFupFX63hyAbzUJkCzskSuqeANiJbXfxIrfIsUpHPOoyj3scPgDZoFhB4bRaNzGcdg9cuY45OQAafPn/7SYzdU6+Fjoo8cQDVtMINGQRGDKhNQhuhZq2bO3AQ53D5ueWR5+lfdCT/uZyTuNaL7Iw2ZgZoo3BYrOEomNueZcPpyUWk6p00Ydy8FNOvO9vFOhEywNd4FYjcJ5VN66gg2+Rbj4L4t8fabxdtMbcUIFCb3WzBaaLWo7/UMmczgBJVOVz6DBCoeEC1/2ebUvkY5yKi+2XPa2PngO+uQtCGZ4P14bMQefnnBJptJe0yAcFGL+Qe2QXSZl17RPojYBqV3GgIdWwkzAVt0oMdBk2eqATri80QDfOdyhCunq4FM/gkRP7+E+5c/91rQZ+Mhc4+w4LO+Z4UQ2ZhjISj+a+A/LQInUCjsoqetENcjoPRh3eqTI429h4GxsynefalZQfEbRX9dBLoZmr7GXP0U5Af/gXEKHQInYjdCBR5ptZ2DKitA9JszfJmnKqqpo/MBu27c5Bc/afgkUGAc3LS8NpZJbKpPstRaJofAhi3aYHrQIy4CWhY0CzFEe9dG8Bxv/o1c4QYMQ7C2x9sl8qSaI0YnjRjWHLlHcrmXQxAAmxvCTsDMe2XGNKkQkfF2r4OzE/4XQ1GSRuZA3rWIwykRPttVW8FII1qsdujKrw7/fM3ZTrXiBkXFA11q6BLUhYEJjDKBBqBBXhBCkAB6S2/KAZPLVTI00d5rq425D4c9V4F7WpAYjPIhIOg710DouJvNNqE4cpoCgl4P8WMcMb2nH7KebMwwX0IOitWVanLDaZcdamUJ6YL0WcIalUaaCMdp1gB5h5sL5ortHErvdc4z/VSmQkfOACMfCnIrw+AfjPaE3pZ97Ul3AtOtRhvIPQpi5GBRSAQbPP4m/w+Q0dFa/Gj3TNUJkEZRZ8M0K7ADCVlVIdtWUzbiADYHnH5GIi8voTbRsIZui9JGHfkcweZm5YDgaihaaJ2IWmqUUVjKH4ecC3rH8zVTh0qot4WPVLAuP0Jjq4jr+VhBaHRjYb1K1HvCbR/KtqTJ9JnPiMih17oFHheMUb8AvTBHU+lYgTbE3npASpSSC1rsdBSxzMRAEMSt6yRkCiN2zCOI5NEJEFt4hdfhkyaZ9z0n897L3fe5OmEmU9twDQmSHGcC9qrBFoTOC/Zag5on6zjP7qtdbpWmK8uAWPgLNCH3gdxEV/8SkqkPWhyONg1SzAMqdqm2kfqyZkSOruzqq3k7XXch86AXGDNuaCRtPqeQyRlzHL9jie4lBxBMBRo6uLayGmgO0z7mAys81UVPOLMUf4zhtyLNnIBdFZEPEpKqJ7mPwvZbmnkyOz02yopkA54WLhwvgEgBIJmvponiaE6qq7Pp2e1dtlWges6vSAomk6uZCqTetJGdNnMtKkKNPrjZNayx//RNhi5T7AnjmzIA73bNeC/YT2IrinQUensew7kIelZ+HnffRK0781m8MBuj4nbCDxil9Z3GIAzonW2EbUHtezUkeXip2/VtHbtC77LtWzg7o+kZc7C6/TiqV1XThP61CjTnPITg9YFQSOGMmhL2ADL3W9iGQjV/XtLlTtvwDjPCkF7hAZpOjr7XO7ZDOZbj5HWKBN2AscTTh8T2g3zlXYcLlfxafU2bOEg0K+bhzn4dpBNdSoYNsNVxrS86Re6/gVfLReLgvXhsDYVfVsdeU+HaeZHhRD9xAD2D5aEXNCK8tig8na0DyJ1AljYAL1HFvjGrVFAtIdFHSiby0MVylsOxNCmO029tTsXy+D0LOY7NvO+N8eeLYm7/s9mHmqMhjYPC2714ZCYerH76Bfb+fim/fWPPnRvrZ7zy1zrY6Q7/gm3+I5PlIAufHq+CxqcruU38aBHf6HjdmqE+U4BZiJvgWhuBG3YD0FP/QEa3eHqbcLQSbjowwVmI9BtA09iTQ0BkNbHfxVyXxDTxiwcyrwVrAOl5ODseTD4bF/bzJs4n0EldebY6gAyrzcybzzGoycO/LrL3NUbL3a/byqhsCDLllkfFz7qFN0tBRroM57gV8vNDXlSnjqman3YywZul4d2SYtAAxkdPaK+pwDzqmwQQyZgQfQ01/RknXq1HM4eick+/FM2XdxBoAG3dr4CVsUGtsXqHnYFkp5vOr07i6FFEZqPM0fdYQQSttfTHmEyWB+tc1NL7cZFy/VRtyyDb5A2Acfg/SFnBQ4BLORTMM5xQStawkkxC0b8+p3ItIMYPCNoQg2QgWcWtgDvrBRUJ23IeIDvYKDZdwhfQkbO8NgtP1wr73KxKlZuQ3WsZJZFM8tWmsLgPcHPaxVh5zrPaT+HdnW21G58RLjgAaz0/WJT/D5m4EhoVc4aLSHpHv3OJ3h2j/nKEgo/1HyB7imCtlsKNDVuYVdOHdzcRjqze5xxjKuzQcfeN/90J11HpVddkkC79VGw3nsOpFI30H/2MpgvL2HAVLbkjpJEh++cuzkTAbmT81WeXbQENaPWHWQm0a7OYeaZH6973hg3Zy60Udr13RH/guK5eu5vVyrQ7B6kdzu9oBUXQPQbcZKB0Cf+O6uwM8FCOAV9yz7ImatC6nZ8v3QNPMnX+/k+0lZF/igaRC/vps1kESwptGvR8N/1tFC1PsnqzM9Kcdn0J4TKg51ew8D9s80Qee+5Ve0Brd3A8YOnXL0osn7JcrZpVDXtoWyaC5rdCGYSpWwzUaUzpoPWM0VFSVKN1EYnskSn8LmfDAIGwd5kM8qdCKRewlUThKL73OmTNBp22VA2GcKfqDqF4rKX87howNsxPQRndpIll/smz2/3N5Y69G0l331rl0lhLRQ9BtRrDmibCDQBrvaTvcN9HBIQY76qEA4TBTmHgenqOEtGZ0U5XGLvo5AV0TdUXHEDclLx7EfUboflleqbStRp2p356MS6qTPJkbxsM28Gbu85oB7PmudbVLwMOiAd/pqXf8HmVfrcNWPh8O5qWVwQbRwzDVk40576TqAdrACHJZT/adhYarQ9OTnmutIeY5Le6Qde0Jz4kaBD50L2kb20fW+qShNI8rNizmIYPH83no/LzFuPYVNTfbU+d3WmseDi3xa5mHTq+3H0XQ7tqhtTMYN9zAkmCTR2HijW68slxnTIgm3Ku2J6puU8Er2ABKcc765zTmx5Rzg89tL+Yauv+1kqcd1sVNFuKvJpbhTyIDoPVFdrfZ5k8GZSxaObMhUtjavgH/Mv+k2RtkhcPvXoW7RxWRgDC5F8ebU+U4FmvoTer7v65Kz5VTm7WPJg4jtpzEKS1ly6A5Tw8FF4mOl+gdCxeccrmVkic4Y9zwW3VX6Idm4IORRBz8Hg3bZ0i4xoU32LNi2krAg6KXH7RmbXRRurjXtXpyLD5pnrf1UtMIvQhk5gNRUqXwRt/GzMYYtV3Oc0XkYnM6qpomq7ZXlmRdpT373r9gALVzGsHUWgZeayY+CPGe4v5RiOnAR2UrX55m+na4MypvjyNgYhThL3r7IiH9YY961B9ZXzxOVX7ZS7N6vRI7JpqLbWtr/GHq8Wrs90tgnvHu/MUlq1op+25f1lRazkInO6YirW1eTBXUE5fOJ04+FNqcaPntoAcZZL9h1g4+Hi50XvQZlW3dEppinXinF3VxOIcKo2elDU0Mc6Ai+71DHgmZfsSZzsbWjXmHVjc+tx9yoEdoo2KG2KkXl73AFz5JJ/stt3d0EQF0HIGwjhvy/OwjbfIzQjAxuYwQd4v/Hr/Ramd7a7hBh1pk98u0ca/mp0Jq/KrX/doE+YE4RvSb7Vb527IC4eBXJZVrJM7JKhCYmJqkEgBhDBZNS+AAKVHPOpZSlq7PVq9I7ViF05jU2J9b8LimWdN/Qdkf8H5GaR5zQXlJ8AAAAASUVORK5CYII="}),Object(te.jsx)("span",{children:v.toUpperCase()})]}),Object(te.jsxs)("div",{children:[Object(te.jsx)("div",{children:d.a.get("stake.apy")}),Object(te.jsx)("div",{children:j&&j.unlocked&&"--"!==j.unlocked&&j.locked&&"--"!==j.locked?"".concat(Object(W.s)(Object(W.a)(j.unlocked).plus(Object(W.a)(j.locked))),"%"):"--"})]}),Object(te.jsx)("button",{onClick:A,children:d.a.get("newStake.stake_pool.deposit")})]})},C=function(){a(o?{modalShow:"VestDetailModal"}:{loginModalVisible:!0,loginModalStep:1})},D=function(){a(o?{modalShow:"LockDetailModal"}:{loginModalVisible:!0,loginModalStep:1})},T=function(){var r=e.stakePoolData.withdrawable;r.amount,r.penaltyAmount;return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("div",{className:"sp-content",children:[Object(te.jsxs)("p",{className:"title",children:[Object(te.jsx)("span",{children:d.a.getHTML("newStake.stake_pool.fill_sun")}),Object(te.jsxs)("span",{children:["--"!==x?Object(W.t)(x):"--"," ",v.toUpperCase()]})]}),Object(te.jsxs)("p",{children:[Object(te.jsxs)("span",{children:[d.a.getHTML("newStake.stake_pool.vest_sun"),Object(W.a)(u).gt(0)&&Object(te.jsx)("em",{className:"cp",onClick:C,children:d.a.get("newStake.stake_pool.check_detail")})]}),Object(te.jsxs)("span",{children:[t.isConnected?Object(W.t)(Object(W.a)(u).div(p[v].precision),{miniText:.01}):"--"," ",v.toUpperCase()]})]}),Object(te.jsxs)("p",{children:[Object(te.jsxs)("span",{className:"flex aic",children:[d.a.getHTML("newStake.stake_pool.stake_sun_only",{symbol:v.toUpperCase()}),Object(te.jsx)(h.a,{title:d.a.getHTML("newStake.stake_pool.staked_tooltip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2"})})]}),Object(te.jsxs)("span",{children:[t.isConnected?Object(W.t)(N,{miniText:.01}):"--"," ",v.toUpperCase()]})]}),"1"===t.stakeVersion&&b?Object(te.jsxs)("p",{children:[Object(te.jsxs)("span",{children:[d.a.getHTML("newStake.stake_pool.locked",{symbol:v.toUpperCase()}),b&&Object(W.a)(b.unlockable).plus(b.lockData).gt(0)&&Object(te.jsx)("em",{className:"cp",onClick:D,children:d.a.get("newStake.stake_pool.check_detail")})]}),Object(te.jsxs)("span",{children:[b?Object(W.t)(Object(W.a)(b.unlockable).plus(b.lockData).div(p[v].precision),{miniText:.01}):"--"," ",v.toUpperCase()]})]}):Object(te.jsxs)("p",{children:[Object(te.jsxs)("span",{children:[d.a.getHTML("newStake.stake_pool.locked",{symbol:v.toUpperCase()}),b&&Object(W.a)(b.lockData).gt(0)&&Object(te.jsx)("em",{className:"cp",onClick:D,children:d.a.get("newStake.stake_pool.check_detail")})]}),Object(te.jsxs)("span",{children:[b?Object(W.t)(Object(W.a)(b.lockData).div(p[v].precision)):"--"," ",v.toUpperCase()]})]})]}),Object(te.jsxs)("div",{className:"sp-content stake-sun",children:[Object(te.jsxs)("div",{children:[Object(te.jsx)("img",{src:we}),d.a.getHTML("newStake.stake_pool.stake_sun",{symbol:v.toUpperCase()})]}),Object(te.jsxs)("div",{children:[Object(te.jsx)("p",{children:d.a.get("stake.apy")}),Object(te.jsx)("p",{children:j&&j.unlocked&&"-"!==j.unlocked&&Object(W.a)(j.unlocked).gte(0)?"".concat(Object(W.s)(j.unlocked),"%"):"--"})]}),Object(te.jsxs)("div",{children:[Object(te.jsx)("p",{children:d.a.get("newStake.stake_pool.get_anytime")}),Object(te.jsx)("p",{children:Object(te.jsx)("button",{className:"stake-lock-btn",onClick:P,children:d.a.get("header.stake")})})]})]}),Object(te.jsxs)("div",{className:"sp-content lock-sun",children:[Object(te.jsxs)("div",{children:[Object(te.jsx)("img",{src:ke}),d.a.getHTML("newStake.stake_pool.lock_sun",{symbol:v.toUpperCase()})]}),Object(te.jsxs)("div",{children:[Object(te.jsx)("p",{children:d.a.get("stake.apy")}),Object(te.jsx)("p",{children:j&&j.unlocked&&"--"!==j.unlocked&&j.locked&&"--"!==j.locked?"".concat(Object(W.s)(Object(W.a)(j.unlocked).plus(Object(W.a)(j.locked))),"%"):"--"})]}),Object(te.jsxs)("div",{children:["1"===e.stakeVersion?Object(te.jsx)("p",{className:"",children:d.a.get("newStake.stake_pool.lock_time")}):Object(te.jsxs)("p",{className:"stake-tooltip",children:[Object(te.jsx)(h.a,{title:d.a.get("newStake.stake_pool.vote_right_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"mr-5"})}),d.a.get("newStake.stake_pool.vote_right")]}),Object(te.jsx)("p",{children:Object(te.jsx)("button",{className:"stake-lock-btn",onClick:A,children:d.a.get("newStake.stake_pool.lock")})})]})]})]})},A=function(){a(o?{modalShow:"LockStakeModal",defaultTabValue:"1"}:{loginModalVisible:!0,loginModalStep:1})},P=function(){a(o?{modalShow:"LockStakeModal",defaultTabValue:"2"}:{loginModalVisible:!0,loginModalStep:1}),Object(ee.a)({action:ee.b.staking_sun,event_category:ee.h.farm})},M=function(){a(o?{modalShow:"WithdrawModal"}:{loginModalVisible:!0,loginModalStep:1})},I=function(){return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("div",{className:"line"}),Object(te.jsxs)("div",{className:"sp-reward",children:[Object(te.jsx)("button",{onClick:F,className:"common-btn",disabled:!Object(W.a)(f[1]).div(p[v].precision).gt(0)&&!Object(W.a)(f[3]).div(p.tusd.precision).gt(0),children:d.a.getHTML("newStake.stake_pool.claim_all",{value1:Object(W.t)(Object(W.a)(f[1]).div(p[v].precision),{miniText:.01}),symbol1:v.toUpperCase(),value2:Object(W.t)(Object(W.a)(f[3]).div(p.tusd.precision),{miniText:.01}),symbol2:" TUSD"})}),Object(te.jsx)("button",{className:"common-btn border",onClick:M,children:d.a.get("newStake.stake_pool.withdraw")})]})]})},F=function(){var a=Object(i.a)(Ne().mark((function a(){var n,c;return Ne().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={title:"actions.claim_all",obj:{value1:Object(W.t)(Object(W.a)(f[1]).div(p[v].precision)),symbol1:p[v].symbol,value2:Object(W.t)(Object(W.a)(f[3]).div(p.tusd.precision)),symbol2:p.tusd.symbol}},c="1"===t.stakeVersion?"stake":"stake2",a.next=4,r.getReward(p[v][c],n);case 4:a.sent&&setTimeout((function(){e.cb()}),5e3);case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(te.jsx)(c.a,{children:function(){return Object(te.jsx)(te.Fragment,{children:Object(te.jsxs)("div",{children:[Object(te.jsx)(E,{}),Object(te.jsx)(T,{}),Object(W.a)(x).gt(0)&&Object(te.jsx)(I,{})]})})}})},Le=r(1165),Se=r(778),Ee=r(49),Ce=r(124),De=r(815);function Te(){Te=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new N(n||[]);return a(o,"_invoke",{value:x(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(_([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function x(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return L()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=y(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function y(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(O.prototype),s(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new O(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;k(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var Ae=function(e){var t=Object(c.d)((function(){return B.a.network})),r=Object(c.d)((function(){return B.a.system})),a=Object(c.d)((function(){return B.a.farmStore})),o=t.modalShow,s=t.closeModal,u=t.poolId,f=t.stakeVersion,h=a.farmData,j=h[u],b=j.balance,m=j.symbol,p=j.allowance,v=j.token,g=j.precision,O=j.id,x=j.tokenAddress,y=j.tokenAddress2,w=j.decimal,k=(j.currentSpeed,j.stakedBalanceNew,j.version),N=j.priceNew,_=Ee.a.farmPools,L=Object(n.useState)(""),S=Object(l.a)(L,2),E=S[0],C=S[1],D=Object(n.useState)(0),T=Object(l.a)(D,2),A=(T[0],T[1]),P=Object(n.useState)(""),M=Object(l.a)(P,2),I=M[0],F=M[1],G=Object(n.useState)(!1),H=Object(l.a)(G,2),R=H[0],U=H[1],q=Object(n.useState)(""),V=Object(l.a)(q,2),z=V[0],Q=V[1],Z=window.localStorage.getItem("lang"),K=!1;Object(n.useEffect)((function(){R&&X()}),[E,R]),Object(n.useEffect)((function(){re()}),[E]);var X=function(){return!E||Object(W.bb)(E).lte(0)?(F(d.a.get("error.e1")),Q(""),!1):Object(W.bb)(E).gt(b)?(F(d.a.get("error.e2",{token:m})),Q(""),!1):(F(""),!0)},J=function(){!R&&U(!0),C(Object(W.c)(b));var e="\u2248 $ "+Object(W.t)(Object(W.bb)(b*N));Q(e)},$=function(){var e=Object(i.a)(Te().mark((function e(){var t,a;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R&&U(!0),X()){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,console.warn("token: ",v),!p.lt(Object(W.bb)(E))||K){e.next=15;break}return t={action:"approve",title:"deposit.approve_token",obj:{value:m},continuous:!0},e.next=10,r.toApproveLP(v,_[u].lpStaker,t);case 10:a=e.sent,console.warn("txID: ",a),a&&(K=!0,ee()),e.next=16;break;case 15:ee();case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(3);case 20:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(i.a)(Te().mark((function e(){var n,c;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X()){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n={title:"actions.stake_lp",obj:{value:Object(W.t)(Object(W.bb)(E)),symbol:m}},c=Ee.a.flexibleKeys.includes(_[u].id)?"depositLPFarmNoflexible":"depositLPFarm",e.next=7,r[c](_[u].lpStaker,t.defaultAccount,Object(W.bb)(E).times(g)._toIntegerDown()._toHex(),0,n);case 7:e.sent&&(s(),setTimeout((function(){a.updateData(u)}),5e3)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(i.a)(Te().mark((function e(){var r,a,n,c,o,i,s,l,d,f,h,j,b,m,p,v,O,x,y,w;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,W.a.config({DECIMAL_PLACES:30}),e.next=4,Object(Ce.b)(_[u].lpStaker,t.defaultAccount,g);case 4:r=e.sent,a=r.votingBalance,n=r.votingTotal,c=r.workingBalance,o=r.workingSupply,i=r.gaugeBalance,s=r.gaugeTotalsupply,r.success&&(l=Object(W.a)(.4),d=Object(W.a)(.6),f=Object(W.bb)(E).isNaN()?Object(W.a)(0):Object(W.bb)(E),h=i.plus(f),j=Object(W.a)(s).plus(h),b=Object(W.a)(n),m=(m=h.times(l)).plus(j.times(a).div(b).times(d)),m=Object(W.a)(Math.min(h,m)),p=h.times(l),v=o.plus(p).minus(c),O=o.plus(m).minus(c),x=m.div(O),y=p.div(v),w=x.div(y).isNaN()?Object(W.a)(0):x.div(y),A(w)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();return Object(te.jsx)(c.a,{children:function(){return Object(te.jsx)(Se.a,{visible:"Sun3AddLiqModal"===o,title:d.a.getHTML("newStake.liquidity.stake_token",{symbol:m}),width:430,zIndex:999,footer:null,className:"lock-modal stake-token sun3-add-liq "+("3"===f&&"v3-stake-token v3-"+u),onCancel:s,closeIcon:Object(te.jsx)("img",{src:De.a,alt:""}),wrapClassName:"vertical-center-modal",children:Object(te.jsxs)("div",{children:[Object(te.jsxs)("div",{className:"flex jcsb",children:[Object(te.jsx)("span",{className:"fs-12 c-333",children:d.a.get("newStake.stake_pool.deposit")}),Object(te.jsxs)("span",{className:"fs-12 c-333",children:[Object(te.jsxs)("span",{className:"c-999",children:[d.a.get("newStake.stake_pool.balance"),":"]})," ",2===h[u].version?Object(W.a)(b).eq(0)?"0.00":Object(W.t)(b,{dp:w,cutZero:!0}):Object(W.t)(b)]})]}),Object(te.jsx)("div",{className:"",children:Object(te.jsx)(Y.a,{className:"mt-8",suffix:Object(te.jsx)("span",{className:"max-btn",onClick:J,children:d.a.get("deposit.max")}),value:E,onChange:function(e){return function(e){!R&&U(!0);var t=Object(W.S)((""+e).replace(/,/g,""),w),r=t.valid,a=t.str;if(r){C(Object(W.c)(a));var n="\u2248 $ "+Object(W.t)(Object(W.bb)(a*N));Q(n)}}(e.target.value)}})}),Object(te.jsxs)("div",{className:"flex jcsb aic lock-price",children:[Object(te.jsxs)("span",{className:I?"error":"",children:[z,I]}),Object(W.D)({id:O,symbol:m,tokenAddress:x,tokenAddress2:y,lang:Z,version:k})]}),Object(te.jsx)("button",{disabled:!!I,className:"common-btn ",onClick:$,children:d.a.get("newStake.stake_pool.deposit")})]})})}})};function Pe(){Pe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new N(n||[]);return a(o,"_invoke",{value:x(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(_([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function x(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return L()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=y(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function y(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(O.prototype),s(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new O(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;k(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var Me=function(e){var t=Object(c.d)((function(){return B.a.network})),r=Object(c.d)((function(){return B.a.system})),a=Object(c.d)((function(){return B.a.farmStore})),o=t.modalShow,s=t.closeModal,u=t.poolId,f=t.stakeVersion,h=Ee.a.farmPools,j=a.farmData[u],b=(j.balance,j.symbol),m=(j.allowance,j.token,j.index,j.precision),p=j.id,v=j.tokenAddress,g=j.tokenAddress2,O=j.decimal,x=(j.currentSpeed,j.stakedBalanceNew),y=j.version,w=j.lockRewards,k=j.gift,N=j.governanceRewards,_=Object(n.useState)(""),L=Object(l.a)(_,2),S=L[0],E=L[1],C=Object(n.useState)(""),D=Object(l.a)(C,2),T=D[0],A=D[1],P=Object(n.useState)(!1),M=Object(l.a)(P,2),I=M[0],F=M[1],G=Object(n.useState)(x),H=Object(l.a)(G,2),R=H[0],U=(H[1],window.localStorage.getItem("lang"));Object(n.useEffect)((function(){I&&q()}),[S,I]);var q=function(){return!S||Object(W.bb)(S).lte(0)?(A(d.a.get("error.e1")),!1):Object(W.bb)(S).gt(R)?(A(d.a.get("error.e2",{token:b})),!1):(A(""),!0)},V=function(e){!I&&F(!0);var t=Object(W.S)((""+e).replace(/,/g,""),O),r=t.valid,a=t.str;r&&E(Object(W.c)(a))},z=function(){!I&&F(!0),V(R)},Q=function(){var e=Object(i.a)(Pe().mark((function e(){var t,n;return Pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I&&F(!0),q()){e.next=3;break}return e.abrupt("return");case 3:if(!Object(W.bb)(S).gt(0)){e.next=11;break}return t={title:"actions.withdraw_lp",obj:{value:Object(W.t)(Object(W.bb)(S)),symbol:b}},n=Ee.a.flexibleKeys.includes(h[u].id)?"withdrawLPFarmNoflexible":"withdrawLPFarm","",e.next=9,r[n](h[u].lpStaker,Object(W.bb)(S).times(m)._toHex(),0,t);case 9:e.sent&&(s(),setTimeout((function(){a.updateData(u)}),5e3));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(te.jsx)(c.a,{children:function(){var e;return Object(te.jsx)(Se.a,{visible:"Sun3RemoveLiqModal"===o,title:d.a.getHTML("newStake.liquidity.stake_token_cancel",{symbol:"USDC Old LP"===b&&"zh-CN"===U?"Old USDC LP":b}),width:430,zIndex:999,footer:null,className:"lock-modal stake-token sun3-remove-liq"+("3"===f&&" v3-stake-token v3-"+u),onCancel:s,closeIcon:Object(te.jsx)("img",{src:De.a,alt:""}),wrapClassName:"vertical-center-modal",children:Object(te.jsxs)("div",{children:[Object(te.jsxs)("div",{className:"flex jcsb",children:[Object(te.jsx)("span",{className:"fs-12 c-333",children:d.a.get("newStake.stake_pool.withdraw")}),Object(te.jsxs)("span",{className:"fs-12 c-333",children:[Object(te.jsxs)("span",{className:"c-999",children:[d.a.get("newStake.liquidity.staked"),":"]}),Object(W.t)(R,{dp:18,cutZero:18})]})]}),Object(te.jsxs)("div",{children:[Object(te.jsx)(Y.a,{className:"mt-8",suffix:Object(te.jsx)("span",{className:"max-btn",onClick:z,children:d.a.get("deposit.max")}),value:S,onChange:function(e){return V(e.target.value)}}),T&&Object(te.jsx)("div",{className:"common-error",children:T})]}),Object(te.jsx)("button",{disabled:!!T,className:"common-btn",onClick:Q,children:d.a.get("newStake.stake_pool.withdraw")}),!Ee.a.flexibleKeys.includes(p)&&Object(te.jsx)("div",{className:" mt-10",style:{color:"#FF9933"},children:d.a.getHTML("farm.text_38",{Reward_amount:Object(W.t)(Object(W.a)(w).plus(N),{miniText:.01}),Reward_token:null===(e=k[0])||void 0===e?void 0:e.toUpperCase()})}),Object(te.jsx)("div",{className:"mt-12 c-5915e1 fs-12 tac",children:Object(W.D)({id:p,symbol:b,tokenAddress:v,tokenAddress2:g,lang:U,version:y})})]})})}})},Ie=r(1369),Fe=r.p+"static/media/warning.c82b87cb.svg",Ye=r.p+"static/media/right-arrow.34e14d19.svg",Ge=function(e){var t=e.speedRate,r=e.oldSpeedRate,a=e.data,n=a.flexApy,c=a.minGovApy,o=a.currentSpeed,i=Object(W.a)(n).times(t).plus(Object(W.a)(o).times(c).times(t))._toFixed(2,1),s=0;return Object(W.a)(r).gt(0)&&(s=Object(W.a)(n).times(r).plus(Object(W.a)(o).times(c).times(r))._toFixed(2,1)),Object(te.jsx)(te.Fragment,{children:Object(W.a)(r).gt(0)?Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("span",{className:"old-data",children:[Object(te.jsx)(h.a,{placement:"bottom",overlayClassName:"stake-tooltip",trigger:"['hover','click']",title:Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("div",{children:["USDD ",d.a.get("farm.fixed_apy")," : ",Object(W.s)(Object(W.a)(n).times(r)),"%"]}),Object(te.jsxs)("div",{children:["USDD ",d.a.get("farm.gov_apy")," :",Object(W.s)(Object(W.a)(o).times(c).times(r)),"%"]})]}),children:Object(te.jsxs)("span",{className:"apy",children:[Object(W.s)(s),"%"]})}),"(",Object(W.t)(r),"x)",Object(te.jsx)("img",{src:Ye,alt:""})]}),Object(te.jsxs)("span",{className:"new-data",children:[Object(te.jsx)(h.a,{overlayClassName:"stake-tooltip",trigger:"['hover','click']",placement:"bottom",title:Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("div",{children:["USDD ",d.a.get("farm.fixed_apy")," : ",Object(W.s)(Object(W.a)(n).times(t)),"%"]}),Object(te.jsxs)("div",{children:["USDD ",d.a.get("farm.gov_apy")," :",Object(W.s)(Object(W.a)(o).times(c).times(t)),"%"]})]}),children:Object(te.jsxs)("span",{className:"apy",children:[Object(W.s)(i),"%"]})}),"(",Object(W.t)(t),"x)"]})]}):Object(te.jsx)(te.Fragment,{children:Object(te.jsxs)("span",{className:"old-data",children:[Object(te.jsx)(h.a,{overlayClassName:"stake-tooltip",trigger:"['hover','click']",placement:"bottom",title:Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("div",{children:["USDD ",d.a.get("farm.fixed_apy")," : ",Object(W.s)(Object(W.a)(n).times(t)),"%"]}),Object(te.jsxs)("div",{children:["USDD ",d.a.get("farm.gov_apy")," :",Object(W.s)(Object(W.a)(o).times(c).times(t)),"%"]})]}),children:Object(te.jsxs)("span",{className:"apy apy-new-type1",children:[Object(W.s)(i),"%"]})}),"(",Object(W.t)(t),"x)"]})})})};function He(){He=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new N(n||[]);return a(o,"_invoke",{value:x(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(_([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function x(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return L()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=y(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function y(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(O.prototype),s(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new O(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;k(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var Re=function(e){var t=Object(c.d)((function(){return B.a.network})),r=Object(c.d)((function(){return B.a.system})),a=Object(c.d)((function(){return B.a.farmStore})),o=t.modalShow,s=t.closeModal,u=t.poolId,f=Object(n.useState)(""),j=Object(l.a)(f,2),b=j[0],m=j[1],p=Object(n.useState)(""),v=Object(l.a)(p,2),g=v[0],O=v[1],x=Object(n.useState)(""),y=Object(l.a)(x,2),w=y[0],k=y[1],N=Object(n.useState)(!1),_=Object(l.a)(N,2),L=_[0],S=_[1],E=Object(n.useState)(1),C=Object(l.a)(E,2),D=C[0],T=C[1],A=Object(n.useState)(""),P=Object(l.a)(A,2),M=P[0],I=P[1],F=Object(n.useState)(-2),H=Object(l.a)(F,2),R=H[0],U=H[1],q=Object(n.useState)(-2),V=Object(l.a)(q,2),z=V[0],Z=V[1],K=Object(n.useState)(""),X=Object(l.a)(K,2),J=X[0],$=X[1],ee=Object(n.useState)(""),re=Object(l.a)(ee,2),ae=re[0],ne=re[1],ce=Object(n.useState)("--"),oe=Object(l.a)(ce,2),ie=oe[0],se=oe[1],le=Object(n.useState)("month"),ue=Object(l.a)(le,2),de=ue[0],fe=ue[1],he=window.localStorage.getItem("lang"),je=Ee.a.farmPools,be=Ee.a.kRate,me=Ee.a.monthTime,pe=Ee.a.dayTime,ge=!1,Oe=a.farmData,xe=Oe[u],ye=xe.balance,we=xe.symbol,ke=xe.allowance,Ne=xe.token,_e=xe.precision,Le=xe.id,Ce=xe.tokenAddress,Te=xe.tokenAddress2,Ae=xe.decimal,Pe=xe.version,Me=xe.priceNew,Ye=!b||!Object(W.a)(b).gt(0)||ae,Re=L||!w&&!g||R<0&&!w&&"month"===de||z<0&&!w&&"day"===de,Ue=function(){s()},qe=function(){try{if(Be(Object(W.c)(ye)),Object(W.a)(ye).eq(0))$(""),ne(d.a.get("error.e1"));else if(Object(W.a)(ye).gt(ye))$(""),ne(d.a.get("error.e2",{token:we}));else{var e="\u2248 $ "+Object(W.t)(Object(W.bb)(ye*Me));$(e),ne()}}catch(t){console.log("setLockMax error: "+t)}},Be=function(e){var t=Object(W.S)((""+e).replace(/,/g,""),Ae),r=t.valid,a=t.str;if(console.log(e,r,a),r)if(m(a),Object(W.a)(a).eq(0))$(""),ne(d.a.get("error.e1"));else if(Object(W.a)(a).gt(ye))$(""),ne(d.a.get("error.e2",{token:we}));else{var n="\u2248 $ "+Object(W.t)(Object(W.bb)(a*Me));$(n),ne()}},Ve=function(e,t){"month"===t&&(U(e),-1===e&&O(w),O(e),-1!==e&&e<Ee.a.minLockDuration?(S(!0),T(2),k("")):-1!==e&&e>Ee.a.maxLockDuration?(S(!0),T(1),k("")):-1!==e&&(S(!1),k(""))),"day"===t&&(Z(e),-1===e&&O(w),O(e),-1!==e&&e<Ee.a.minLockDayDuration||-1===e&&w<Ee.a.minLockDayDuration?(S(!0),T(2),k("")):-1!==e&&e>Ee.a.maxLockDaysDuration||-1===e&&w>Ee.a.maxLockDaysDuration?(S(!0),T(1),k("")):-1!==e&&(S(!1),k("")))},We=function(e){var t=e.replace(/^[^1-9]+|[^0-9]/g,"");k(t),"month"===de?t<Ee.a.minLockDuration&&t?(S(!0),T(2)):t>Ee.a.maxLockDuration?(S(!0),T(1)):S(!1):"day"===de&&(t<Ee.a.minLockDaysDuration&&t?(S(!0),T(2)):t>Ee.a.maxLockDaysDuration?(S(!0),T(1)):S(!1))};Object(n.useEffect)((function(){ze(-1===R||-1===z?w:g)}),[w,g,b,de]);var ze=function(e){if(Ye&&Re)I("--");else if("month"===de){var r=t.nowTime+e*me*1e3;I(ve()(r).format("YYYY-MM-DD HH:mm")),se(1+be*e*30)}else if("day"===de){var a=t.nowTime+e*pe*1e3;I(ve()(a).format("YYYY-MM-DD HH:mm")),se(1+be*e)}},Qe=function(){var e=Object(i.a)(He().mark((function e(){var t;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!ke.lt(Object(W.bb)(b))||ge){e.next=10;break}return t={action:"approve",title:"deposit.approve_token",obj:{value:we},continuous:!0},e.next=6,r.toApproveLP(Ne,je[u].lpStaker,t);case 6:e.sent&&(ge=!0,Ze()),e.next=11;break;case 10:Ze();case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(i.a)(He().mark((function e(){var n,c,o,i;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={title:"actions.stake_lp",obj:{value:Object(W.t)(Object(W.bb)(b)),symbol:we}},"",c=-1===R||-1===z?w:g,o="month"===de?c*me:c*pe,i=Ee.a.flexibleKeys.includes(je[u].id)?"depositLPFarmNoflexible":"depositLPFarm",e.next=8,r[i](je[u].lpStaker,t.defaultAccount,Object(W.bb)(b).times(_e)._toIntegerDown()._toHex(),o,n);case 8:e.sent&&(s(),setTimeout((function(){a.updateData(u)}),5e3)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(te.jsx)(c.a,{children:function(){return Object(te.jsx)(Se.a,{visible:"Sun3LockModal"===o,title:d.a.getHTML("newStake.stake_pool.lock_sun",{symbol:we}),width:430,zIndex:999,footer:null,className:"new-lock-modal lock-modal",maskClosable:!1,onCancel:Ue,closeIcon:Object(te.jsx)("img",{src:De.a,alt:""}),wrapClassName:Object(G.a)(window.navigator).any?"":"vertical-center-modal",children:Object(te.jsxs)("div",{className:"lock-extend-content",children:[Object(te.jsxs)("div",{className:"flex jcsb aic lock-amount",children:[Object(te.jsx)("span",{children:d.a.get("farm.lock_amount")}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"balance",children:[d.a.get("pool_config.balance"),": "]}),Object(te.jsx)("span",{children:Object(W.t)(ye,{dp:Ae,cutZero:!0})})]})]}),Object(te.jsx)(Y.a,{suffix:Object(te.jsx)("span",{className:"max-btn",onClick:qe,children:d.a.get("deposit.max")}),value:b,onChange:function(e){return Be(e.target.value)}}),Object(te.jsxs)("div",{className:"flex jcsb aic lock-price",children:[Object(te.jsxs)("span",{className:ae?"error":"",children:[J,ae]}),Object(W.D)({id:Le,symbol:we,tokenAddress:Ce,tokenAddress2:Te,lang:he,version:Pe})]}),Object(te.jsx)("div",{className:"line-gray"}),Object(te.jsxs)("div",{className:"lock-time flex aic jcsb",children:[Object(te.jsx)("div",{children:d.a.get("farm.lock_duration_week")}),Object(te.jsx)("div",{children:Object(te.jsxs)(Ie.a.Group,{onChange:function(e){return t=e.target.value,k(),U(-2),Z(-2),S(!1),void fe(t);var t},defaultValue:de,children:[Object(te.jsx)(Ie.a,{value:"month",children:Object(te.jsx)(h.a,{title:d.a.get("farm.text_49"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover']",children:d.a.get("farm.by_month")})}),Object(te.jsx)(Ie.a,{value:"day",children:d.a.get("farm.by_day")})]})})]}),Object(te.jsxs)("div",{className:"lc-date mt-10",children:["month"===de&&Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("div",{className:"mt-20 lm-date jcsb",children:[Object(te.jsxs)("span",{className:1===R?"current":"",onClick:function(){return Ve(1,"month")},children:["1 ",d.a.get("farm.suffix_month")]}),Object(te.jsxs)("span",{className:6===R?"current":"",onClick:function(){return Ve(6,"month")},children:["6 ",d.a.get("farm.suffix_month")]}),Object(te.jsxs)("span",{className:12===R?"current":"",onClick:function(){return Ve(12,"month")},children:["12 ",d.a.get("farm.suffix_month")]}),Object(te.jsxs)("span",{className:24===R?"current":"",onClick:function(){return Ve(24,"month")},children:["24 ",d.a.get("farm.suffix_month")]}),Object(te.jsxs)("span",{className:36===R?"current":"",onClick:function(){return Ve(36,"month")},children:["36 ",d.a.get("farm.suffix_month")]})]}),Object(te.jsx)("div",{className:"lm-date jcsb",children:Object(te.jsx)("span",{className:"".concat(-1===R?"current last":"last"," ").concat(L?"errorWeek":""),onClick:function(e){return Ve(-1,"month")},children:Object(te.jsx)(Y.a,{value:w,onChange:function(e){return We(e.target.value)},placeholder:d.a.get("farm.define_myself"),suffix:d.a.get("farm.suffix_input_month")})})})]}),"day"===de&&Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("div",{className:"mt-20 lm-date jcsb",children:[Object(te.jsxs)("span",{className:30===z?"current":"",onClick:function(){return Ve(30,"day")},children:["30 ",d.a.get("farm.suffix_day")]}),Object(te.jsxs)("span",{className:60===z?"current":"",onClick:function(){return Ve(60,"day")},children:["60 ",d.a.get("farm.suffix_day")]}),Object(te.jsxs)("span",{className:90===z?"current":"",onClick:function(){return Ve(90,"day")},children:["90 ",d.a.get("farm.suffix_day")]}),Object(te.jsxs)("span",{className:120===z?"current":"",onClick:function(){return Ve(120,"day")},children:["120 ",d.a.get("farm.suffix_day")]}),Object(te.jsxs)("span",{className:150===z?"current":"",onClick:function(){return Ve(150,"day")},children:["150 ",d.a.get("farm.suffix_day")]})]}),Object(te.jsx)("div",{className:"lm-date jcsb",children:Object(te.jsx)("span",{className:"".concat(-1===z?"current last":"last"," ").concat(L?"errorWeek":""),onClick:function(e){return Ve(-1,"day")},children:Object(te.jsx)(Y.a,{value:w,onChange:function(e){return We(e.target.value)},placeholder:d.a.get("farm.define_myself"),suffix:d.a.get("farm.suffix_input_day")})})})]}),L&&Object(te.jsx)("div",{className:"error",children:"month"===de?1===D?d.a.getHTML("farm.text_9",{max_lock_duration:Ee.a.maxLockDuration}):d.a.getHTML("farm.text_10",{min_lock_duration:Ee.a.minLockDuration}):1===D?d.a.getHTML("farm.text_9_day",{max_lock_duration_d:Ee.a.maxLockDaysDuration}):d.a.getHTML("farm.text_10_day",{min_lock_duration_d:Ee.a.minLockDaysDuration})})]}),Object(te.jsx)("div",{className:"lock-overview mt-20",children:d.a.get("farm.lock_overview")}),Object(te.jsxs)("div",{className:"overview-content",children:[Object(te.jsxs)("div",{children:[Object(te.jsx)("span",{children:d.a.get("farm.lock_amount")}),Object(te.jsx)("div",{children:Ye?Object(te.jsx)("span",{className:"old-data",children:"--"}):Object(te.jsx)("span",{className:"old-data",children:Object(W.t)(b,{dp:je[u].showDp,cutZero:!0,miniText:je[u].miniText})})})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"flex jcfe aic",children:[d.a.get("farm.lock_duration"),Object(te.jsx)(h.a,{title:d.a.getHTML("farm.text_11"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(te.jsx)("div",{children:Re?Object(te.jsx)("span",{className:"old-data",children:"--"}):Object(te.jsxs)("span",{className:"old-data",children:["month"===de?-1===R?w:g:-1===z?w:g," ","month"===de?d.a.get("farm.month_unit"):d.a.get("farm.extend_day")]})})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"flex jcfe aic",children:["APY",Object(te.jsx)(h.a,{title:Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("p",{children:d.a.get("farm.text_12")}),Object(te.jsx)("p",{children:d.a.get("farm.text_13")})]}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(te.jsx)("div",{children:Re?Object(te.jsx)("span",{className:"old-data",children:"--"}):Object(te.jsx)("span",{className:"new-data",children:Object(te.jsx)(Ge,{speedRate:ie,data:Oe[u]})})})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{children:[d.a.get("farm.unlock_time")," ",Object(te.jsx)(h.a,{title:d.a.get("farm.unlock_time_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(te.jsx)("div",{children:Re?Object(te.jsx)("span",{className:"old-data",children:"--"}):Object(te.jsx)("span",{className:"old-data",children:M})})]})]}),Object(te.jsxs)("div",{className:"warning",children:[Object(te.jsxs)("div",{className:"flex aic warning-title ",children:[Object(te.jsx)("img",{src:Fe,alt:""}),Object(te.jsx)("span",{children:d.a.get("farm.note")})]}),Object(te.jsxs)("div",{className:"warning-content",children:[d.a.getHTML("farm.text_7"),Object(te.jsx)("br",{}),d.a.getHTML("farm.text_8",{time_window:Ee.a.windowDuration})]})]}),Object(te.jsx)("div",{className:"flex jcc",children:Object(te.jsx)("button",{className:"common-btn mt-20 lock-common-btn",disabled:Ye||Re,onClick:Qe,children:d.a.get("farm.confirm_lock")})})]})})}})},Ue=r(1389);function qe(){qe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new N(n||[]);return a(o,"_invoke",{value:x(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(_([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function x(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return L()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=y(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function y(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(O.prototype),s(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new O(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;k(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var Be=function(e){var t=Object(c.d)((function(){return B.a.network})),r=Object(c.d)((function(){return B.a.system})),a=Object(c.d)((function(){return B.a.farmStore})),o=t.modalShow,s=t.closeModal,u=t.poolId,f=Object(n.useState)(""),j=Object(l.a)(f,2),b=j[0],m=j[1],p=Object(n.useState)(!1),v=Object(l.a)(p,2),g=(v[0],v[1],window.localStorage.getItem("lang")),O=Ee.a.farmPools,x=Ee.a.kRate,y=Ee.a.monthTime,w=Ee.a.dayTime,k=Object(n.useState)(""),N=Object(l.a)(k,2),_=N[0],L=N[1],S=Object(n.useState)(""),E=Object(l.a)(S,2),C=E[0],D=E[1],T=Object(n.useState)(!1),A=Object(l.a)(T,2),P=A[0],M=A[1],I=Object(n.useState)("--"),F=Object(l.a)(I,2),H=F[0],R=F[1],U=Object(n.useState)("--"),q=Object(l.a)(U,2),V=q[0],z=q[1],Z=Object(n.useState)(""),K=Object(l.a)(Z,2),X=K[0],J=K[1],$=Object(n.useState)(!1),ee=Object(l.a)($,2),re=ee[0],ae=ee[1],ne=Object(n.useState)(1),ce=Object(l.a)(ne,2),oe=ce[0],ie=ce[1],se=Object(n.useState)(""),le=Object(l.a)(se,2),ue=le[0],de=le[1],fe=Object(n.useState)(""),he=Object(l.a)(fe,2),je=he[0],be=he[1],me=Object(n.useState)("--"),pe=Object(l.a)(me,2),ge=pe[0],Oe=pe[1],xe=Object(n.useState)(2),ye=Object(l.a)(xe,2),we=ye[0],ke=ye[1],Ne=Object(n.useState)(""),_e=Object(l.a)(Ne,2),Le=_e[0],Ce=_e[1],Te=Object(n.useState)("--"),Ae=Object(l.a)(Te,2),Pe=Ae[0],Me=Ae[1],He=Object(n.useState)(!1),Re=Object(l.a)(He,2),Be=Re[0],Ve=Re[1],We=Object(n.useState)("month"),ze=Object(l.a)(We,2),Qe=ze[0],Ze=ze[1],Ke=!1,Xe=a.farmData,Je=Xe[u],$e=Je.balance,et=Je.symbol,tt=Je.allowance,rt=Je.token,at=Je.precision,nt=Je.id,ct=Je.tokenAddress,ot=Je.tokenAddress2,it=Je.decimal,st=Je.stakedBalanceNew,lt=Je.version,ut=Je.remainingTime,dt=Je.priceNew,ft=Je.lockDuration,ht=Je.multiple,jt=function(){s()};Object(n.useEffect)((function(){ut-t.nowTime/1e3<y&&(Ve(!0),M(!0),ke(2),J(Ee.a.minLockDuration))}),[ut]);var bt=!b||!Object(W.a)(b).gt(0)||C,mt=re||P&&!X&&2===we,pt=function(){try{if(vt(Object(W.c)($e)),Object(W.a)($e).eq(0))L(""),D(d.a.get("error.e1"));else if(Object(W.a)($e).gt($e))L(""),D(d.a.get("error.e2",{token:et}));else{var e="\u2248 $ "+Object(W.t)(Object(W.bb)($e*dt));L(e),D()}}catch(t){console.log("setLockMax error: "+t)}},vt=function(e){var t=Object(W.S)((""+e).replace(/,/g,""),it),r=t.valid,a=t.str;if(r)if(m(a),Object(W.a)(a).eq(0))L(""),D(d.a.get("error.e1"));else if(Object(W.a)(a).gt($e))L(""),D(d.a.get("error.e2",{token:et}));else{var n="\u2248 $ "+Object(W.t)(Object(W.bb)(a*dt));L(n),D()}},gt=function(){var e=Object(i.a)(qe().mark((function e(t){var r;return qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r=t.target.checked,t.target.checked||(J(""),ae(!1)),J(1),Ze("month"),M(r)}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){Ot()}),[P,b,we,X,Qe]);var Ot=function(){var e=Object(i.a)(qe().mark((function e(){var r,a,n,c,o,i,s,l,u,d,f,h,j,b,m,p,v,g,O,k;return qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:mt?(de("--"),Ce("--")):P?1===we?(ae(!1),J(""),o=Object(W.t)(ft/y),i=1e3*parseInt(ut),s=t.nowTime,de(ve()(i).format("YYYY-MM-DD HH:mm")),l=s+o*y*1e3,Me(ve()(l).format("YYYY-MM-DD HH:mm")),Oe(Object(W.t)(o)),R(1+x*o*30)):"month"===Qe?(u=t.nowTime,d=1e3*parseInt(ut),h=(f=d-u)/1e3/y,console.log("week: ",h),be(f/1e3/y),Number(X)<Ee.a.minLockDuration&&X?(ae(!0),ie(2),de("--"),Ce("--"),Me("--")):Number(X)+Number(h)>Ee.a.maxLockDuration?(ae(!0),ie(1),de("--"),Ce("--"),Me("--")):(ae(!1),Oe(f>0?Object(W.t)(Number(X)+Number(h)):Object(W.t)(Number(X))),j=1e3*parseInt(ut),de(ve()(j).format("YYYY-MM-DD HH:mm")),b=j+Number(X*y*1e3),Me(ve()(b).format("YYYY-MM-DD HH:mm")),z(ht),R(1+x*(Number(X)+Number(h))*30))):(m=t.nowTime,p=1e3*parseInt(ut),g=(v=p-m)/1e3/w,be(v/1e3/w),Number(X)<Ee.a.minLockDaysDuration&&X?(ae(!0),ie(2),de("--"),Ce("--"),Me("--")):Number(X)+Number(g)>Ee.a.maxLockDaysDuration?(ae(!0),ie(1),de("--"),Ce("--"),Me("--")):(ae(!1),Oe(v>0?Object(W.t)(Number(X)+Number(g)):Object(W.t)(Number(X))),O=1e3*parseInt(ut),de(ve()(O).format("YYYY-MM-DD HH:mm")),k=O+Number(X*w*1e3),Me(ve()(k).format("YYYY-MM-DD HH:mm")),z(ht),R(1+x*(Number(X)+Number(g))))):(r=1e3*parseInt(ut),Ce(ve()(r).format("YYYY-MM-DD HH:mm")),a=t.nowTime,r>a&&(n=r-a,c=Object(W.t)(n/1e3/y,{curZero:!0}),be(c),Oe(c),z(ht),R(1+x*c*30)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xt=function(){var e=Object(i.a)(qe().mark((function e(){var t,a;return qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!tt.lt(Object(W.bb)(st))||Ke){e.next=11;break}return t={action:"approve",title:"deposit.approve_token",obj:{value:et},continuous:!0},e.next=6,r.toApproveLP(rt,O[u].lpStaker,t);case 6:a=e.sent,console.warn("txID: ",a),a&&(Ke=!0,yt()),e.next=12;break;case 11:yt();case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),yt=function(){var e=Object(i.a)(qe().mark((function e(){var n,c,o;return qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={title:"actions.stake_lp",obj:{value:Object(W.t)(Object(W.bb)(b)),symbol:et}},"",c=P?1===we?ft:"month"===Qe?X*y:X*w:0,o=Ee.a.flexibleKeys.includes(O[u].id)?"depositLPFarmNoflexible":"depositLPFarm",e.next=7,r[o](O[u].lpStaker,t.defaultAccount,Object(W.bb)(b).times(at)._toIntegerDown()._toHex(),c,n);case 7:e.sent&&(s(),setTimeout((function(){a.updateData(u)}),5e3)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(te.jsx)(c.a,{children:function(){return Object(te.jsx)(Se.a,{visible:"Sun3LockExtendModal"===o,title:d.a.getHTML("farm.add_lp_token",{lp_token:et}),width:450,zIndex:999,footer:null,className:"new-lock-modal lock-modal",maskClosable:!1,onCancel:jt,closeIcon:Object(te.jsx)("img",{src:De.a,alt:""}),wrapClassName:Object(G.a)(window.navigator).any?"":"vertical-center-modal",children:Object(te.jsxs)("div",{className:"lock-extend-content",children:[Object(te.jsxs)("div",{className:"flex jcsb aic lock-amount",children:[Object(te.jsx)("span",{children:d.a.get("farm.lock_amount")}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"balance",children:[d.a.get("pool_config.balance"),": "]}),Object(te.jsx)("span",{children:Object(W.t)($e,{dp:it,cutZero:!0})})]})]}),Object(te.jsx)(Y.a,{suffix:Object(te.jsx)("span",{className:"max-btn",onClick:pt,children:d.a.get("deposit.max")}),value:b,onChange:function(e){return vt(e.target.value)}}),Object(te.jsxs)("div",{className:"flex jcsb aic lock-price",children:[Object(te.jsxs)("span",{className:C?"error":"",children:[_,C]}),Object(W.D)({id:nt,symbol:et,tokenAddress:ct,tokenAddress2:ot,lang:g,version:lt})]}),Object(te.jsx)("div",{className:"line-gray"}),Object(te.jsxs)("div",{className:"extend-check flex aic jcsb",children:[Object(te.jsx)("div",{children:Be?Object(te.jsx)(h.a,{title:d.a.getHTML("farm.text_24",{min_lock_duration:Ee.a.minLockDuration}),children:Object(te.jsx)(Ue.a,{checked:!0,disabled:!0,children:d.a.get("farm.text_23")})}):Object(te.jsx)(Ue.a,{onChange:gt,children:d.a.get("farm.text_23")})}),Object(te.jsx)("div",{children:P&&Object(te.jsxs)(Ie.a.Group,{onChange:function(e){return"month"===(t=e.target.value)?J(1):"day"===t&&J(30),ae(!1),void Ze(t);var t},defaultValue:Qe,children:[Object(te.jsx)(Ie.a,{value:"month",children:Object(te.jsx)(h.a,{title:d.a.get("farm.text_49"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover']",children:d.a.get("farm.by_month")})}),Object(te.jsx)(Ie.a,{value:"day",children:d.a.get("farm.by_day")})]})})]}),P&&Object(te.jsxs)("div",{className:"extend-btns",children:[Object(te.jsx)("div",{className:(2===we?"current":"")+(re?" errors":""),onClick:function(){return ke(2)},children:Object(te.jsx)(Y.a,{prefix:d.a.get("farm.extend_week1"),suffix:"month"===Qe?Object(te.jsx)("div",{className:"flex aic jcs",children:d.a.get("farm.month_unit")}):Object(te.jsxs)("div",{className:"flex aic jcs",children:[d.a.get("farm.extend_day")," "]}),value:X,placeholder:d.a.get("farm.define_myself"),onChange:function(e){return function(e){var r=e.replace(/^[^1-9]+|[^0-9]/g,"");if(J(r),"month"===Qe){var a=t.nowTime,n=1e3*parseInt(ut)-a,c=Object(W.t)(n/1e3/y);be(n/1e3/y),Number(r)<Ee.a.minLockDuration&&r?(ae(!0),ie(2)):Number(r)+Number(c)>Ee.a.maxLockDuration?(ae(!0),ie(1)):ae(!1)}else if("day"===Qe){var o=t.nowTime,i=1e3*parseInt(ut)-o,s=Object(W.t)(i/1e3/w);be(i/1e3/w),Number(r)<Ee.a.minLockDaysDuration&&r?(ae(!0),ie(2)):Number(r)+Number(s)>Ee.a.maxLockDaysDuration?(ae(!0),ie(1)):ae(!1)}}(e.target.value)}})}),re&&Object(te.jsx)("span",{className:"error",children:"month"===Qe?1===oe?d.a.getHTML("farm.prolong_warning",{max_lock_duration:Ee.a.maxLockDuration,prolong:Object(W.t)(Object(W.a)(je).plus(X),{cutZero:!0})}):d.a.getHTML("farm.prolong_warning_min",{min_lock_duration:Ee.a.minLockDuration}):1===oe?d.a.getHTML("farm.prolong_warning_day",{max_lock_duration_d:Ee.a.maxLockDaysDuration,prolong_d:Object(W.t)(Object(W.a)(je).plus(X),{cutZero:!0})}):d.a.getHTML("farm.prolong_warning_min_day",{min_lock_duration_d:Ee.a.minLockDaysDuration})})]}),Object(te.jsx)("div",{className:"lock-overview",children:d.a.get("farm.lock_overview")}),Object(te.jsxs)("div",{className:"overview-content",children:[Object(te.jsxs)("div",{children:[Object(te.jsx)("span",{children:d.a.get("farm.lock_amount")}),Object(te.jsx)("div",{children:bt?Object(te.jsx)("span",{className:"old-data",children:"--"}):Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("span",{className:"old-data",children:[Object(W.t)(st,{dp:O[u].showDp,cutZero:!0,miniText:O[u].miniText}),Object(te.jsx)("img",{src:Ye,alt:""})]}),Object(te.jsx)("span",{className:"new-data",children:Object(W.t)(Object(W.a)(st).plus(b),{dp:O[u].showDp,cutZero:!0,miniText:O[u].miniText})})]})})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"flex jcfe aic",children:[d.a.get("farm.lock_duration"),Object(te.jsx)(h.a,{title:d.a.getHTML("farm.text_11"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(te.jsx)("div",{children:mt?Object(te.jsx)("span",{className:"old-data",children:"--"}):P&&1===we?Object(te.jsxs)("span",{className:"new-data",children:[ge," ",d.a.get("farm.extend_week2")]}):"month"===Qe?Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("span",{className:"old-data",children:[Object(W.t)(ft/y,{cutZero:!0})," ",d.a.get("farm.month_unit"),Object(te.jsx)("img",{src:Ye,alt:""})]}),Object(te.jsxs)("span",{className:"new-data "+(re?"red":""),children:[ge," ",d.a.get("farm.month_unit")]})]}):Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("span",{className:"old-data",children:[Object(W.t)(ft/w,{cutZero:!0})," ",d.a.get("farm.extend_day"),Object(te.jsx)("img",{src:Ye,alt:""})]}),Object(te.jsxs)("span",{className:"new-data "+(re?"red":""),children:[ge," ",d.a.get("farm.extend_day")]})]})})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"flex jcfe aic",children:["APY",Object(te.jsx)(h.a,{title:Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("p",{children:d.a.get("farm.text_12")}),Object(te.jsx)("p",{children:d.a.get("farm.text_13")})]}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(te.jsx)("div",{children:mt?Object(te.jsx)("span",{className:"old-data",children:"--"}):P&&1===we?Object(te.jsx)(Ge,{speedRate:H,data:Xe[u]}):Object(te.jsx)(Ge,{speedRate:H,oldSpeedRate:V,data:Xe[u]})})]}),P?Object(te.jsxs)("div",{children:[Object(te.jsx)("span",{children:d.a.get("farm.old_unlock_time")}),Object(te.jsx)("div",{children:mt?Object(te.jsx)("div",{children:Object(te.jsx)("span",{className:"old-data",children:"--"})}):Object(te.jsx)("span",{className:"old-data",children:ue})})]}):null,P?Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{children:[d.a.get("farm.new_unlock_time"),Object(te.jsx)(h.a,{title:d.a.get("farm.unlock_time_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(te.jsx)("div",{children:mt?Object(te.jsx)("span",{className:"old-data",children:"--"}):Object(te.jsx)("span",{className:"new-data",children:Pe})})]}):Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{children:[d.a.get("farm.unlock_time")," ",Object(te.jsx)(h.a,{title:d.a.get("farm.unlock_time_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(te.jsx)("div",{children:Object(te.jsx)("span",{className:"new-data",children:Le})})]})]}),Object(te.jsxs)("div",{className:"warning",children:[Object(te.jsxs)("div",{className:"flex aic warning-title ",children:[Object(te.jsx)("img",{src:Fe,alt:""}),Object(te.jsx)("span",{children:d.a.get("farm.note")})]}),Object(te.jsxs)("div",{className:"warning-content",children:[d.a.get("farm.text_21"),P?2===we?d.a.get("farm.text_27"):d.a.get("farm.text_25"):d.a.get("farm.text_22")]})]}),Object(te.jsx)("div",{className:"flex jcc",children:Object(te.jsx)("button",{className:"common-btn mt-20 lock-common-btn",disabled:bt||mt,onClick:xt,children:d.a.get("farm.confirm_add")})})]})})}})},Ve=function(e){var t=Object(c.d)((function(){return B.a.network})),r=t.modalShow,a=t.closeModal,n=function(){a()};return Object(te.jsx)(c.a,{children:function(){return Object(te.jsx)(Se.a,{visible:"Sun3AutoExtendModal"===r,title:d.a.get("farm.auto_extend"),width:430,zIndex:999,footer:null,className:"new-lock-modal lock-modal auto-extend",maskClosable:!1,onCancel:n,closeIcon:Object(te.jsx)("img",{src:De.a,alt:""}),wrapClassName:Object(G.a)(window.navigator).any?"":"vertical-center-modal",children:Object(te.jsxs)("div",{className:"auto-ex-content",children:[Object(te.jsx)("p",{className:"common-text",children:d.a.getHTML("farm.text_28",{time_window:3})}),Object(te.jsxs)("div",{className:"modal-text unlock-text mt-20",children:[Object(te.jsx)("div",{className:"title",children:d.a.get("farm.text_29")}),Object(te.jsx)("div",{className:"detail",children:d.a.get("farm.text_30")})]}),Object(te.jsxs)("div",{className:"modal-text claim-text mt-20",children:[Object(te.jsx)("div",{className:"title",children:d.a.get("farm.text_48")}),Object(te.jsx)("div",{className:"detail",children:d.a.get("farm.text_31")})]}),Object(te.jsxs)("div",{className:"warning",children:[Object(te.jsxs)("div",{className:"flex aic warning-title ",children:[Object(te.jsx)("img",{src:Fe,alt:""}),Object(te.jsx)("span",{children:d.a.get("farm.note")})]}),Object(te.jsx)("div",{className:"warning-content",children:d.a.get("farm.text_32")})]}),Object(te.jsx)("div",{className:"flex jcc",children:Object(te.jsx)("button",{className:"common-btn lock-common-btn",onClick:n,children:d.a.get("farm.got_it")})})]})})}})},We=function(e){var t=Object(c.d)((function(){return B.a.network})),r=t.modalShow,a=t.closeModal,n=function(){a()};return Object(te.jsx)(c.a,{children:function(){return Object(te.jsx)(Se.a,{visible:"Sun3DiffModal"===r,title:d.a.get("farm.text_16"),width:430,zIndex:999,footer:null,className:"new-lock-modal lock-modal diff-modal",maskClosable:!1,onCancel:n,closeIcon:Object(te.jsx)("img",{src:De.a}),wrapClassName:Object(G.a)(window.navigator).any?"":"vertical-center-modal",children:Object(te.jsxs)("div",{className:"lock-content",children:[Object(te.jsxs)("div",{className:"modal-text flexible-text",children:[Object(te.jsx)("div",{className:"title",children:d.a.get("farm.text_17")}),Object(te.jsx)("div",{className:"detail",children:d.a.get("farm.text_18")})]}),Object(te.jsxs)("div",{className:"modal-text lock-text mt-20",children:[Object(te.jsx)("div",{className:"title",children:d.a.get("farm.text_19")}),Object(te.jsx)("div",{className:"detail",children:d.a.get("farm.text_20")})]}),Object(te.jsx)("div",{className:"flex jcc",children:Object(te.jsx)("button",{className:"common-btn lock-common-btn",onClick:n,children:d.a.get("farm.got_it")})})]})})}})},ze=r.p+"static/media/edit-icon.115763ae.svg";function Qe(){Qe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new N(n||[]);return a(o,"_invoke",{value:x(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(_([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function x(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return L()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=y(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function y(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(O.prototype),s(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new O(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;k(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var Ze=function(e){var t=Object(c.d)((function(){return B.a.system})),r=Object(c.d)((function(){return B.a.network})),a=Object(c.d)((function(){return B.a.farmStore})),o=r.modalShow,s=r.closeModal,u=r.poolId,f=Object(n.useState)(-2),j=Object(l.a)(f,2),b=j[0],m=j[1],p=Object(n.useState)(-2),v=Object(l.a)(p,2),g=v[0],O=v[1],x=Object(n.useState)(""),y=Object(l.a)(x,2),w=y[0],k=y[1],N=Object(n.useState)(!1),_=Object(l.a)(N,2),L=_[0],S=_[1],E=Object(n.useState)(1),C=Object(l.a)(E,2),D=C[0],T=C[1],A=Object(n.useState)(!0),P=Object(l.a)(A,2),M=P[0],I=P[1],F=Object(n.useState)(""),H=Object(l.a)(F,2),R=H[0],U=H[1],q=Object(n.useState)(""),V=Object(l.a)(q,2),z=V[0],Z=V[1],K=Object(n.useState)(""),X=Object(l.a)(K,2),J=X[0],$=X[1],ee=Object(n.useState)("month"),re=Object(l.a)(ee,2),ae=re[0],ne=re[1],ce=Object(n.useState)(!1),oe=Object(l.a)(ce,2),ie=(oe[0],oe[1],Ee.a.farmPools),se=Ee.a.kRate,le=Ee.a.monthTime,ue=Ee.a.dayTime,de=a.farmData,fe=de[u],he=fe.symbol,je=fe.precision,be=fe.decimal,me=fe.stakedBalanceNew,pe=fe.lockRewards,ge=fe.lockDuration,Oe=fe.remainingTime,xe=fe.governanceRewards,ye=Object(n.useState)(0),we=Object(l.a)(ye,2),ke=we[0],Ne=we[1],_e=Object(n.useState)(""),Le=Object(l.a)(_e,2),Ce=Le[0],Te=Le[1],Ae=Object(n.useState)(""),Pe=Object(l.a)(Ae,2),Me=Pe[0],Ye=Pe[1],He=!Ce||!Object(W.a)(Ce).gt(0)||Object(W.a)(Ce).gt(me),Re=L||!w&&!R&&!M;Object(n.useEffect)((function(){Ye(Object(W.t)(me,{dp:ie[u].showDp,cutZero:!0,miniText:ie[u].miniText}))}),[de[u]]);var Ue=function(){s()},qe=function(){var e=Object(i.a)(Qe().mark((function e(){var r,n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(W.bb)(me).gt(0)){e.next=8;break}return r={title:"actions.withdraw_lp",obj:{value:Object(W.t)(Object(W.bb)(me)),symbol:he}},"",n=Ee.a.flexibleKeys.includes(ie[u].id)?"withdrawLPFarmNoflexible":"withdrawLPFarm",e.next=6,t[n](ie[u].lpStaker,Object(W.bb)(me).times(je)._toHex(),0,r);case 6:e.sent&&(s(),setTimeout((function(){a.updateData(u)}),5e3));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=Object(i.a)(Qe().mark((function e(){var r,n;return Qe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(W.bb)(Ce).gt(0)){e.next=8;break}return r={title:"actions.withdraw_lp",obj:{value:Object(W.t)(Object(W.bb)(Ce)),symbol:he}},"",n="month"===ae?R*le:R*ue,e.next=6,t.withdrawLPFarm(ie[u].lpStaker,Object(W.bb)(Ce).times(je)._toHex(),n,r);case 6:e.sent&&(s(),setTimeout((function(){a.updateData(u)}),5e3));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(){return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("div",{className:"unlock-ele",children:[Object(te.jsx)("div",{className:"title",children:d.a.get("farm.unlock_amount")}),Object(te.jsx)("div",{className:"detail",children:Object(te.jsx)(Y.a,{value:Me,suffix:Ze(),disabled:!0})})]}),Object(te.jsxs)("div",{className:"unlock-ele",children:[Object(te.jsxs)("div",{className:"title flex aic",children:[d.a.get("farm.withdraw")," ",Object(te.jsx)(h.a,{title:d.a.getHTML("farm.text_37"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(te.jsxs)("div",{className:"detail",children:[Object(te.jsx)("span",{className:"amount",children:Object(W.t)(Object(W.a)(pe).plus(xe),{cutZero:!0,miniText:.01})}),Object(te.jsx)("span",{className:"token",children:"USDD"})]})]}),Object(te.jsx)("div",{className:"flex jcc",children:Object(te.jsx)("button",{className:"common-btn lock-common-btn",onClick:qe,children:d.a.get("farm.unlock_all")})})]})};Object(n.useEffect)((function(){We()}),[M,Ce,w,R,ae]);var We=function(){if(Re)Z("--");else if(M){U(Object(W.t)(ge/le,{cutZero:!0})),$(1+se*(ge/le)*30);var e=1e3*parseInt(Oe);Z(ve()(e).format("YYYY-MM-DD HH:mm"))}else{var t=-1===b||-1===g?w:R;if(U(t),"month"===ae)if(t<Ee.a.minLockDuration&&t)S(!0),T(2),Z("--");else if(t>Ee.a.maxLockDuration)S(!0),T(1),Z("--");else{S(!1);var a=r.nowTime,n=Number(a)+Number(t*le*1e3);Z(ve()(n).format("YYYY-MM-DD HH:mm")),$(1+se*t*30)}else if("day"===ae)if(t<Ee.a.minLockDaysDuration&&t)S(!0),T(2),Z("--");else if(t>Ee.a.maxLockDaysDuration)S(!0),T(1),Z("--");else{S(!1);var c=r.nowTime,o=Number(c)+Number(t*ue*1e3);Z(ve()(o).format("YYYY-MM-DD HH:mm")),$(1+se*t)}}},Ze=function(){return Object(te.jsxs)("div",{className:"flex aic unlock-suffix",children:[Object(te.jsx)("span",{children:he}),Object(te.jsx)("button",{className:"common-btn unlock-part-btn",onClick:function(){return U("--"),$(1+se*(ge/le)*30),Z(ve()(R).format("YYYY-MM-DD HH:mm")),$("--"),Z("--"),Te(),void Ne(1)},children:d.a.get("farm.custom_amount")})]})},Ke=function(e){"month"===ae?(m(e),-1===e?U(w):e<Ee.a.minLockDuration?(S(!0),T(2),k("")):e>Ee.a.maxLockDuration?(S(!0),T(1),k("")):(S(!1),k("")),U(e)):"day"===ae&&(O(e),-1===e?U(w):e<Ee.a.minLockDaysDuration?(S(!0),T(2),k("")):e>Ee.a.maxLockDaysDuration?(S(!0),T(1),k("")):(S(!1),k("")),U(e))},Xe=function(e){var t=e.replace(/^[^1-9]+|[^0-9]/g,"");k(t),"month"===ae?t<Ee.a.minLockDuration&&t?(S(!0),T(2)):t>Ee.a.maxLockDuration?(S(!0),T(1)):S(!1):"day"===ae&&(t<Ee.a.minLockDaysDuration&&t?(S(!0),T(2)):t>Ee.a.maxLockDaysDuration?(S(!0),T(1)):S(!1))};return Object(te.jsx)(c.a,{children:function(){return Object(te.jsx)(Se.a,{visible:"Sun3UnlockToClaimModal"===o,title:d.a.get("farm.unlock_claim"),width:430,zIndex:999,footer:null,className:"new-lock-modal lock-modal unlock-modal unlock-claim-modal",maskClosable:!1,onCancel:Ue,closeIcon:Object(te.jsx)("img",{src:De.a,alt:""}),wrapClassName:Object(G.a)(window.navigator).any?"":"vertical-center-modal",children:Object(te.jsx)("div",{className:"unlock-content",children:0===ke?Object(te.jsx)(Ve,{}):Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("div",{className:"unlock-ele",children:[Object(te.jsx)("div",{className:"title",children:d.a.get("farm.unlock_amount")}),Object(te.jsx)("div",{className:"detail",children:Object(te.jsx)(Y.a,{className:"unlock-claim-input",value:Ce,placeholder:d.a.get("farm.enter_unlock_amount"),onChange:function(e){return function(e){var t=Object(W.S)((""+e).replace(/,/g,""),be),r=t.valid,a=t.str;r&&Te(a),Object(W.a)(a).eq(Object(W.a)(me))&&Ne(0)}(e.target.value)},suffix:Object(te.jsxs)("div",{className:"flex aic unlock-suffix",children:[Object(te.jsx)("span",{children:he}),Object(te.jsx)("button",{className:"common-btn unlock-part-btn",onClick:function(){return Ne(0)},children:d.a.get("didi_dao.max")})]})})})]}),Object(te.jsxs)("div",{className:"unlock-ele",children:[Object(te.jsxs)("div",{className:"title flex aic",children:[d.a.get("farm.withdraw")," ",Object(te.jsx)(h.a,{title:d.a.getHTML("farm.text_37"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(te.jsxs)("div",{className:"detail",children:[Object(te.jsx)("span",{className:"amount",children:Object(W.t)(Object(W.a)(pe).plus(xe),{dp:ie[u].showDp,cutZero:!0,miniText:.01})}),Object(te.jsx)("span",{className:"token",children:"USDD"})]})]}),Object(te.jsxs)("div",{className:"unlock-ele claim-extend-ele",children:[Object(te.jsxs)("div",{className:"detail",children:[Object(te.jsxs)("div",{className:"title lock-time flex jcsb aic",children:[Object(te.jsxs)("div",{children:[d.a.get("farm.lock_asset_duration_left"),!M&&Object(te.jsx)("span",{className:"c-5915e1 cp ml-8",onClick:function(e){I(!0),S(!1),k("")},children:d.a.get("farm.default")})]}),!M&&Object(te.jsx)("div",{children:Object(te.jsxs)(Ie.a.Group,{onChange:function(e){return t=e.target.value,k(),U(),m(-2),O(-2),S(!1),void ne(t);var t},defaultValue:ae,children:[Object(te.jsx)(Ie.a,{value:"month",children:Object(te.jsx)(h.a,{title:d.a.get("farm.text_49"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover']",children:d.a.get("farm.by_month")})}),Object(te.jsx)(Ie.a,{value:"day",children:d.a.get("farm.by_day")})]})})]}),M&&Object(te.jsxs)("div",{className:"detail ",children:[Object(te.jsx)("span",{className:"amount",children:Object(W.t)(ge/le,{cutZero:!0})}),Object(te.jsx)("span",{className:"token",children:d.a.get("farm.extend_week2")}),M&&Object(te.jsx)("img",{className:"cp edit-icon",src:ze,onClick:function(e){return t=!1,k(),U(),m(-2),O(-2),S(!1),void I(t);var t},alt:""})]}),!M&&Object(te.jsx)("div",{className:"detail",children:Object(te.jsxs)("div",{className:"lc-date mt-10",children:["month"===ae&&Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("div",{className:"mt-20 lm-date jcsb",children:[Object(te.jsxs)("span",{className:1===b?"current":"",onClick:function(){return Ke(1)},children:["1 ",d.a.get("farm.suffix_month")]}),Object(te.jsxs)("span",{className:6===b?"current":"",onClick:function(){return Ke(6)},children:["6 ",d.a.get("farm.suffix_month")]}),Object(te.jsxs)("span",{className:12===b?"current":"",onClick:function(){return Ke(12)},children:["12 ",d.a.get("farm.suffix_month")]}),Object(te.jsxs)("span",{className:24===b?"current":"",onClick:function(){return Ke(24)},children:["24 ",d.a.get("farm.suffix_month")]}),Object(te.jsxs)("span",{className:36===b?"current":"",onClick:function(){return Ke(36)},children:["36 ",d.a.get("farm.suffix_month")]})]}),Object(te.jsx)("div",{className:"lm-date jcsb",children:Object(te.jsx)("span",{className:"".concat(-1===b?"current last":"last"," ").concat(L?"errorWeek":""),onClick:function(e){return Ke(-1)},children:Object(te.jsx)(Y.a,{value:w,onChange:function(e){return Xe(e.target.value)},placeholder:d.a.get("farm.define_myself"),suffix:d.a.get("farm.suffix_input_month")})})})]}),"day"===ae&&Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("div",{className:"mt-20 lm-date jcsb",children:[Object(te.jsxs)("span",{className:30===g?"current":"",onClick:function(){return Ke(30)},children:["30 ",d.a.get("farm.suffix_day")]}),Object(te.jsxs)("span",{className:60===g?"current":"",onClick:function(){return Ke(60)},children:["60 ",d.a.get("farm.suffix_day")]}),Object(te.jsxs)("span",{className:90===g?"current":"",onClick:function(){return Ke(90)},children:["90 ",d.a.get("farm.suffix_day")]}),Object(te.jsxs)("span",{className:120===g?"current":"",onClick:function(){return Ke(120)},children:["120 ",d.a.get("farm.suffix_day")]}),Object(te.jsxs)("span",{className:150===g?"current":"",onClick:function(){return Ke(150)},children:["150 ",d.a.get("farm.suffix_day")]})]}),Object(te.jsx)("div",{className:"lm-date jcsb",children:Object(te.jsx)("span",{className:"".concat(-1===g?"current last":"last"," ").concat(L?"errorWeek":""),onClick:function(e){return Ke(-1)},children:Object(te.jsx)(Y.a,{value:w,onChange:function(e){return Xe(e.target.value)},placeholder:d.a.get("farm.define_myself"),suffix:d.a.get("farm.suffix_input_day")})})})]}),L&&Object(te.jsx)("div",{className:"error",children:"month"===ae?1===D?d.a.getHTML("farm.text_9",{max_lock_duration:Ee.a.maxLockDuration}):d.a.getHTML("farm.text_10",{min_lock_duration:Ee.a.minLockDuration}):1===D?d.a.getHTML("farm.text_9_day",{max_lock_duration_d:Ee.a.maxLockDaysDuration}):d.a.getHTML("farm.text_10_day",{min_lock_duration_d:Ee.a.minLockDaysDuration})})]})})]}),Object(te.jsx)("div",{className:"lock-overview mt-32",children:d.a.get("farm.lock_overview")}),Object(te.jsxs)("div",{className:"overview-content",children:[Object(te.jsxs)("div",{children:[Object(te.jsx)("span",{children:d.a.get("farm.lock_amount")}),Object(te.jsx)("div",{children:He?Object(te.jsx)("span",{className:"old-data",children:"--"}):Object(te.jsx)("span",{className:"old-data",children:Object(W.t)(Object(W.a)(me).minus(Object(W.a)(Ce)),{dp:ie[u].showDp,cutZero:!0,miniText:ie[u].miniText})})})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"flex jcfe aic",children:[d.a.get("farm.lock_duration"),Object(te.jsx)(h.a,{title:d.a.getHTML("farm.text_11"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(te.jsx)("div",{children:Re?Object(te.jsx)("span",{className:"old-data",children:"--"}):Object(te.jsxs)("span",{className:"old-data",children:[R," ","month"===ae?d.a.get("farm.month_unit"):d.a.get("farm.extend_day")]})})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"flex jcfe aic",children:["APY",Object(te.jsx)(h.a,{title:Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("p",{children:d.a.get("farm.text_12")}),Object(te.jsx)("p",{children:d.a.get("farm.text_13")})]}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(te.jsx)("div",{children:Re?Object(te.jsx)("span",{className:"old-data",children:"--"}):Object(te.jsx)("span",{className:"new-data",children:Object(te.jsx)(Ge,{speedRate:J,data:de[u]})})})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{children:[d.a.get("farm.unlock_time"),Object(te.jsx)(h.a,{title:d.a.get("farm.unlock_time_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(te.jsx)("div",{children:Object(te.jsx)("span",{className:"old-data",children:z})})]})]}),Object(te.jsxs)("div",{className:"warning",children:[Object(te.jsxs)("div",{className:"flex aic warning-title ",children:[Object(te.jsx)("img",{src:Fe,alt:""}),Object(te.jsx)("span",{children:d.a.get("farm.note")})]}),Object(te.jsx)("div",{className:"warning-content",children:d.a.get("farm.text_33")})]}),Object(te.jsx)("div",{className:"flex jcc",children:Object(te.jsx)("button",{className:"common-btn lock-common-btn",disabled:He||Re,onClick:Be,children:!Object(W.a)(Ce).gt(0)||Object(W.a)(Ce).gt(me)?d.a.get("farm.valid_amount"):d.a.get("farm.unlock_asset_extend")})})]})]})})})}})},Ke=r(32);function Xe(){Xe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new N(n||[]);return a(o,"_invoke",{value:x(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(_([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function x(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return L()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=y(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function y(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(O.prototype),s(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new O(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;k(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var Je=function(e){var t=Object(c.d)((function(){return B.a.network})),r=Object(c.d)((function(){return B.a.system})),a=Object(c.d)((function(){return B.a.farmStore})),o=t.modalShow,s=t.closeModal,u=t.poolId,f=(t.stakeVersion,Object(n.useState)(-2)),j=Object(l.a)(f,2),b=j[0],m=j[1],p=Object(n.useState)(-2),v=Object(l.a)(p,2),g=v[0],O=v[1],x=Object(n.useState)("--"),y=Object(l.a)(x,2),w=y[0],k=y[1],N=Object(n.useState)(""),_=Object(l.a)(N,2),L=_[0],S=_[1],E=Object(n.useState)("--"),C=Object(l.a)(E,2),D=C[0],T=C[1],A=Object(n.useState)("--"),P=Object(l.a)(A,2),M=P[0],I=P[1],F=Object(n.useState)(!1),H=Object(l.a)(F,2),R=H[0],U=H[1],q=Object(n.useState)(1),V=Object(l.a)(q,2),z=V[0],Z=V[1],K=Object(n.useState)("--"),X=Object(l.a)(K,2),J=X[0],$=X[1],ee=Object(n.useState)("--"),re=Object(l.a)(ee,2),ae=re[0],ne=re[1],ce=Object(n.useState)("--"),oe=Object(l.a)(ce,2),ie=oe[0],se=oe[1],le=Object(n.useState)("month"),ue=Object(l.a)(le,2),de=ue[0],fe=ue[1],he=Object(n.useState)(!1),je=Object(l.a)(he,2),be=(je[0],je[1],Ee.a.farmPools),me=Ee.a.kRate,pe=Ee.a.monthTime,ge=Ee.a.dayTime,Oe=!1,xe=a.farmData,ye=xe[u],we=ye.symbol,ke=ye.allowance,Ne=ye.token,_e=ye.stakedBalanceNew,Le=ye.remainingTime,Ce=ye.lockDuration,Te=ye.multiple,Ae=R||b<0&&!L&&"month"===de||g<0&&!L&&"day"===de,Pe=function(){s()},Me=function(e,t){if("month"===t){m(e),-1===e&&(console.log(L),L||U(!1),console.log(L,222),k(L)),k(e);var r=Object(W.t)(Ce/pe),a=Object(W.t)(Number(e)+Number(r));-1!==e&&e<Ee.a.minLockDuration?(U(!0),Z(2),S("")):-1!==e&&a>Ee.a.maxLockDuration?(U(!0),Z(1),S("")):-1!==e&&(U(!1),S(""))}if("day"===t){O(e),-1===e&&(L||U(!1),k(L)),k(e);var n=Ce/ge,c=Object(W.t)(Number(e)+Number(n));-1!==e&&e<Ee.a.minLockDaysDuration?(U(!0),Z(2),S("")):-1!==e&&c>Ee.a.maxLockDaysDuration?(U(!0),Z(1),S("")):-1!==e&&(U(!1),S(""))}},Fe=function(e){var t=e.replace(/^[^1-9]+|[^0-9]/g,"");if(S(t),"month"===de){var r=Object(W.t)(Ce/pe),a=Object(W.a)(Number(t)+Number(r))._toFixed(2,1);t<Ee.a.minLockDuration&&t?(U(!0),Z(2)):a>Ee.a.maxLockDuration?(U(!0),Z(1)):U(!1)}else if("day"===de){var n=Ce/ge,c=Object(W.a)(Number(t)+Number(n))._toFixed(2,1);t<Ee.a.minLockDaysDuration&&t?(U(!0),Z(2)):c>Ee.a.maxLockDaysDuration?(U(!0),Z(1)):U(!1)}};Object(n.useEffect)((function(){He()}),[b,w,L,de]);var He=function(){if(Ae)T("--"),I("--");else{var e=-1===b||-1===g?L:w;if("month"===de){var t=Object(W.t)(Ce/pe),r=Object(W.a)(Number(e)+Number(t))._toFixed(2,1);if(se(r),e<Ee.a.minLockDuration&&e)U(!0),Z(2),T("--"),I("--");else if(r>Ee.a.maxLockDuration)U(!0),Z(1),T("--"),I("--");else{U(!1);var a=1e3*parseInt(Le);T(ve()(a).format("YYYY-MM-DD HH:mm"));var n=Number(a)+Number(e*pe*1e3);I(ve()(n).format("YYYY-MM-DD HH:mm")),ne(Te),$(1+me*r*30)}}else if("day"===de){var c=Ce/ge,o=Object(W.a)(Number(e)+Number(c))._toFixed(2,1);if(se(o),e<Ee.a.minLockDaysDuration&&e)U(!0),Z(2),T("--"),I("--");else if(o>Ee.a.maxLockDaysDuration)U(!0),Z(1),T("--"),I("--");else{U(!1);var i=1e3*parseInt(Le);T(ve()(i).format("YYYY-MM-DD HH:mm"));var s=Number(i)+Number(e*ge*1e3);I(ve()(s).format("YYYY-MM-DD HH:mm")),ne(Te),$(1+me*o)}}}},Re=function(){var e=Object(i.a)(Xe().mark((function e(){var t;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!ke.lt(Object(W.bb)(_e))||Oe){e.next=10;break}return t={action:"approve",title:"deposit.approve_token",obj:{value:we},continuous:!0},e.next=6,r.toApproveLP(Ne,be[u].lpStaker,t);case 6:e.sent&&(Oe=!0,Ue()),e.next=11;break;case 10:Ue();case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(i.a)(Xe().mark((function e(){var n,c,o,i;return Xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={title:"actions.stake_lp",obj:{value:Object(W.t)(Object(W.bb)(_e)),symbol:we}},"",c=-1===b||-1===g?L:w,o="month"===de?c*pe:c*ge,i=Ee.a.flexibleKeys.includes(be[u].id)?"depositLPFarmNoflexible":"depositLPFarm",e.next=8,r[i](be[u].lpStaker,t.defaultAccount,0,o,n);case 8:e.sent&&(s(),setTimeout((function(){a.updateData(u)}),5e3)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return Object(te.jsx)(c.a,{children:function(){return Object(te.jsxs)(Se.a,{visible:"Sun3ExtendTimeModal"===o,title:d.a.get("farm.extened"),width:430,zIndex:999,footer:null,className:"new-lock-modal lock-modal",maskClosable:!1,onCancel:Pe,closeIcon:Object(te.jsx)("img",{src:De.a,alt:""}),wrapClassName:Object(G.a)(window.navigator).any?"":"vertical-center-modal",children:[Object(te.jsxs)("div",{className:"unlock-ele",children:[Object(te.jsx)("div",{className:"title",children:d.a.get("farm.amount_locked")}),Object(te.jsxs)("div",{className:"detail",children:[Object(te.jsx)("span",{className:"amount",children:Object(W.t)(_e,{dp:18,cutZero:18})}),Object(te.jsx)("span",{className:"token",children:we})]})]}),Object(te.jsxs)("div",{className:"lock-extend-content",children:[Object(te.jsxs)("div",{className:"lock-time flex aic jcsb",children:[Object(te.jsx)("div",{children:d.a.get("farm.extend_for")}),Object(te.jsx)("div",{children:Object(te.jsxs)(Ie.a.Group,{onChange:function(e){return t=e.target.value,S(),m(-2),O(-2),U(!1),void fe(t);var t},defaultValue:de,children:[Object(te.jsx)(Ie.a,{value:"month",children:Object(te.jsx)(h.a,{title:d.a.get("farm.text_49"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover']",children:d.a.get("farm.by_month")})}),Object(te.jsx)(Ie.a,{value:"day",children:d.a.get("farm.by_day")})]})})]}),Object(te.jsxs)("div",{className:"lc-date mt-10",children:["month"===de&&Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("div",{className:"mt-20 lm-date jcsb",children:[Object(te.jsxs)("span",{className:1===b?"current":"",onClick:function(){return Me(1,"month")},children:["1 ",d.a.get("farm.suffix_month")]}),Object(te.jsxs)("span",{className:6===b?"current":"",onClick:function(){return Me(6,"month")},children:["6 ",d.a.get("farm.suffix_month")]}),Object(te.jsxs)("span",{className:12===b?"current":"",onClick:function(){return Me(12,"month")},children:["12 ",d.a.get("farm.suffix_month")]}),Object(te.jsxs)("span",{className:24===b?"current":"",onClick:function(){return Me(24,"month")},children:["24 ",d.a.get("farm.suffix_month")]}),Object(te.jsxs)("span",{className:36===b?"current":"",onClick:function(){return Me(36,"month")},children:["36 ",d.a.get("farm.suffix_month")]})]}),Object(te.jsx)("div",{className:"lm-date jcsb",children:Object(te.jsx)("span",{className:"".concat(-1===b?"current last":"last"," ").concat(R?"errorWeek":""),onClick:function(e){return Me(-1,"month")},children:Object(te.jsx)(Y.a,{value:L,onChange:function(e){return Fe(e.target.value)},placeholder:d.a.get("farm.define_myself"),suffix:d.a.get("farm.suffix_input_month")})})})]}),"day"===de&&Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("div",{className:"mt-20 lm-date jcsb",children:[Object(te.jsxs)("span",{className:30===g?"current":"",onClick:function(){return Me(30,"day")},children:["30 ",d.a.get("farm.suffix_day")]}),Object(te.jsxs)("span",{className:60===g?"current":"",onClick:function(){return Me(60,"day")},children:["60 ",d.a.get("farm.suffix_day")]}),Object(te.jsxs)("span",{className:90===g?"current":"",onClick:function(){return Me(90,"day")},children:["90 ",d.a.get("farm.suffix_day")]}),Object(te.jsxs)("span",{className:120===g?"current":"",onClick:function(){return Me(120,"day")},children:["120 ",d.a.get("farm.suffix_day")]}),Object(te.jsxs)("span",{className:150===g?"current":"",onClick:function(){return Me(150,"day")},children:["150 ",d.a.get("farm.suffix_day")]})]}),Object(te.jsx)("div",{className:"lm-date jcsb",children:Object(te.jsx)("span",{className:"".concat(-1===g?"current last":"last"," ").concat(R?"errorWeek":""),onClick:function(e){return Me(-1,"day")},children:Object(te.jsx)(Y.a,{value:L,onChange:function(e){return Fe(e.target.value)},placeholder:d.a.get("farm.define_myself"),suffix:d.a.get("farm.suffix_input_day")})})})]}),R&&Object(te.jsx)("div",{className:"error",children:"month"===de?1===z?d.a.getHTML("farm.extend_warning",{max_lock_duration:Ee.a.maxLockDuration,extend:-1===b?Object(W.t)(Object(W.a)(L).plus(Ce/pe),{cutZero:!0}):Object(W.t)(Object(W.a)(w).plus(Ce/pe),{cutZero:!0})}):d.a.getHTML("farm.text_10",{min_lock_duration:Ee.a.minLockDuration}):1===z?d.a.getHTML("farm.extend_warning_day",{max_lock_duration_d:Ee.a.maxLockDaysDuration,extend_d:-1===g?Object(W.t)(Object(W.a)(L).plus(Ce/ge),{cutZero:!0}):Object(W.t)(Object(W.a)(w).plus(Ce/ge),{cutZero:!0})}):d.a.getHTML("farm.extend_warning_min_day",{min_lock_duration_d:Ee.a.minLockDaysDuration})})]}),Object(te.jsx)("div",{className:"lock-overview mt-30",children:d.a.get("farm.lock_overview")}),Object(te.jsxs)("div",{className:"overview-content",children:[Object(te.jsxs)("div",{children:[Object(te.jsx)("span",{children:d.a.get("farm.lock_amount")}),Object(te.jsx)("div",{children:Object(te.jsx)("span",{className:"old-data",children:Object(W.t)(_e,{dp:be[u].showDp,cutZero:!0,miniText:be[u].miniText})})})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"flex jcfe aic",children:[d.a.get("farm.lock_duration"),Object(te.jsx)(h.a,{title:d.a.getHTML("farm.text_11"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(te.jsx)("div",{children:Ae?Object(te.jsx)("span",{className:"old-data",children:"--"}):"month"===de?Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("span",{className:"old-data",children:[Object(W.t)(Ce/pe,{cutZero:!0})," ",d.a.get("farm.month_unit"),Object(te.jsx)("img",{src:Ye,alt:""})]}),Object(te.jsxs)("span",{className:"new-data c-5915e1"+(R?"red":""),children:[ie," ",d.a.get("farm.month_unit")]})]}):Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("span",{className:"old-data",children:[Object(W.t)(Ce/ge,{cutZero:!0})," ",d.a.get("farm.extend_day"),Object(te.jsx)("img",{src:Ye,alt:""})]}),Object(te.jsxs)("span",{className:"new-data c-5915e1"+(R?"red":""),children:[ie," ",d.a.get("farm.extend_day")]})]})})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"flex jcfe aic",children:["APY",Object(te.jsx)(h.a,{title:Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("p",{children:d.a.get("farm.text_12")}),Object(te.jsx)("p",{children:d.a.get("farm.text_13")})]}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(te.jsx)("div",{children:Ae?Object(te.jsx)("span",{className:"old-data",children:"--"}):Object(te.jsx)(Ge,{speedRate:J,oldSpeedRate:ae,data:xe[u]})})]}),Object(te.jsxs)("div",{children:[Object(te.jsx)("span",{children:d.a.get("farm.old_unlock_time")}),Object(te.jsx)("div",{children:Object(te.jsx)("span",{className:"old-data",children:D})})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{children:[d.a.get("farm.new_unlock_time"),Object(te.jsx)(h.a,{title:d.a.get("farm.unlock_time_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(te.jsx)("div",{children:Object(te.jsx)("span",{className:"--"===M?"old-data":"new-data",children:M})})]})]}),Object(te.jsx)("div",{className:"flex jcc",children:Object(te.jsx)("button",{className:"common-btn mt-20 lock-common-btn",disabled:Ae,onClick:Re,children:d.a.get("farm.confirm_extend")})})]})]})}})};function $e(){$e=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new N(n||[]);return a(o,"_invoke",{value:x(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(_([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function x(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return L()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=y(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function y(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(O.prototype),s(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new O(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;k(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var et=function(e){var t=Object(c.d)((function(){return B.a.system})),r=Object(c.d)((function(){return B.a.network})),a=Object(c.d)((function(){return B.a.farmStore})),o=r.modalShow,s=r.closeModal,u=r.poolId,f=Object(n.useState)(-2),j=Object(l.a)(f,2),b=j[0],m=j[1],p=Object(n.useState)(-2),v=Object(l.a)(p,2),g=v[0],O=v[1],x=Object(n.useState)(""),y=Object(l.a)(x,2),w=y[0],k=y[1],N=Object(n.useState)(!1),_=Object(l.a)(N,2),L=_[0],S=_[1],E=Object(n.useState)(1),C=Object(l.a)(E,2),D=C[0],T=C[1],A=Object(n.useState)(!0),P=Object(l.a)(A,2),M=P[0],I=P[1],F=Object(n.useState)(""),H=Object(l.a)(F,2),R=H[0],U=H[1],q=Object(n.useState)(""),V=Object(l.a)(q,2),z=V[0],Z=V[1],K=Object(n.useState)(""),X=Object(l.a)(K,2),J=X[0],$=X[1],ee=Object(n.useState)(!1),re=Object(l.a)(ee,2),ae=(re[0],re[1],Ee.a.farmPools),ne=Ee.a.kRate,ce=Ee.a.monthTime,oe=Ee.a.dayTime,ie=a.farmData,se=ie[u],le=(se.symbol,se.precision,se.decimal),ue=se.stakedBalanceNew,de=se.lockRewards,fe=se.lockDuration,he=se.remainingTime,je=se.governanceRewards,be=Object(n.useState)(""),me=Object(l.a)(be,2),pe=me[0],ge=(me[1],Object(n.useState)("")),Oe=Object(l.a)(ge,2),xe=(Oe[0],Oe[1]),ye=Object(n.useState)("month"),we=Object(l.a)(ye,2),ke=we[0],Ne=we[1],_e=L||!w&&!R&&!M;Object(n.useEffect)((function(){xe(Object(W.t)(ue,{dp:le,cutZero:!0}))}),[ie[u]]);var Le=function(){s()},Ce=function(e,t){"month"===t?(m(e),-1===e?U(w):e<Ee.a.minLockDuration?(S(!0),T(2),k("")):e>Ee.a.maxLockDuration?(S(!0),T(1),k("")):(S(!1),k("")),U(e)):"day"===t&&(O(e),-1===e?U(w):e<Ee.a.minLockDaysDuration?(S(!0),T(2),k("")):e>Ee.a.maxLockDaysDuration?(S(!0),T(1),k("")):(S(!1),k("")),U(e))},Te=function(e){var t=e.replace(/^[^1-9]+|[^0-9]/g,"");k(t),"month"===ke?t<Ee.a.minLockDuration&&t?(S(!0),T(2)):t>Ee.a.maxLockDuration?(S(!0),T(1)):S(!1):"day"===ke&&(t<Ee.a.minLockDaysDuration&&t?(S(!0),T(2)):t>Ee.a.maxLockDaysDuration?(S(!0),T(1)):S(!1))};Object(n.useEffect)((function(){Ae()}),[M,pe,w,R,ke]);var Ae=function(){if(_e)Z("--");else if(M){U(Object(W.t)(fe/ce)),$(1+ne*(fe/ce)*30);var e=1e3*parseInt(he);Z(ve()(e).format("YYYY-MM-DD HH:mm"))}else{var t=-1===b||-1===g?w:R;if(U(t),"month"===ke)if(t<Ee.a.minLockDuration&&t)S(!0),T(2),Z("--");else if(t>Ee.a.maxLockDuration)S(!0),T(1),Z("--");else{S(!1);var a=r.nowTime,n=Number(a)+Number(t*ce*1e3);Z(ve()(n).format("YYYY-MM-DD HH:mm")),$(1+ne*t*30)}else if("day"===ke)if(t<Ee.a.minLockDaysDuration&&t)S(!0),T(2),Z("--");else if(t>Ee.a.maxLockDaysDuration)S(!0),T(1),Z("--");else{S(!1);var c=r.nowTime,o=Number(c)+Number(t*oe*1e3);Z(ve()(o).format("YYYY-MM-DD HH:mm")),$(1+ne*t)}}},Pe=function(){var e=Object(i.a)($e().mark((function e(){var r,n,c;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(W.bb)(de).plus(je).gt(0)){e.next=9;break}return r={title:"actions.claim_lp",obj:{value:Object(W.t)(Object(W.bb)(Object(W.a)(de).plus(je))),symbol:"USDD"}},"",n="month"===ke?R*ce:R*oe,c=Ee.a.flexibleKeys.includes(ae[u].id)?"withdrawLPFarmNoflexible":"withdrawLPFarm",e.next=7,t[c](ae[u].lpStaker,0,n,r);case 7:e.sent&&(s(),setTimeout((function(){a.updateData(u)}),5e3));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(te.jsx)(c.a,{children:function(){return Object(te.jsx)(Se.a,{visible:"Sun3ClaimAndExtendModal"===o,title:d.a.get("farm.claim_extend"),width:430,zIndex:999,footer:null,className:"new-lock-modal lock-modal unlock-modal unlock-claim-modal claim-extend-modal",maskClosable:!1,onCancel:Le,closeIcon:Object(te.jsx)("img",{src:De.a,alt:""}),wrapClassName:Object(G.a)(window.navigator).any?"":"vertical-center-modal",children:Object(te.jsx)("div",{className:"unlock-content",children:Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("div",{className:"unlock-ele claim-extend-ele",children:[Object(te.jsxs)("div",{className:"title flex aic",children:[d.a.get("farm.withdraw")," ",Object(te.jsx)(h.a,{title:d.a.get("farm.text_47"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(te.jsxs)("div",{className:"detail",children:[Object(te.jsx)("span",{className:"amount",children:Object(W.t)(Object(W.a)(de).plus(je),{cutZero:!0,miniText:.01})})," ",Object(te.jsx)("span",{className:"token",children:"USDD"})]})]}),Object(te.jsxs)("div",{className:"unlock-ele claim-extend-ele",children:[Object(te.jsxs)("div",{className:"title lock-time flex jcsb aic",children:[Object(te.jsxs)("div",{children:[d.a.get("farm.lock_duration_week"),!M&&Object(te.jsx)("span",{className:"c-5915e1 cp ml-8",onClick:function(e){I(!0),S(!1),k("")},children:d.a.get("farm.default")})]}),!M&&Object(te.jsx)("div",{children:Object(te.jsxs)(Ie.a.Group,{onChange:function(e){return t=e.target.value,k(),U(),m(-2),O(-2),S(!1),void Ne(t);var t},defaultValue:ke,children:[Object(te.jsx)(Ie.a,{value:"month",children:Object(te.jsx)(h.a,{title:d.a.get("farm.text_49"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover']",children:d.a.get("farm.by_month")})}),Object(te.jsx)(Ie.a,{value:"day",children:d.a.get("farm.by_day")})]})})]}),M&&Object(te.jsxs)("div",{className:"detail ",children:[Object(te.jsx)("span",{className:"amount",children:Object(W.t)(fe/ce)})," ",Object(te.jsx)("span",{className:"token",children:d.a.get("farm.extend_week2")}),M&&Object(te.jsx)("img",{className:"cp edit-icon",src:ze,onClick:function(e){return t=!1,k(),U(),m(-2),O(-2),S(!1),void I(t);var t},alt:""})]}),!M&&Object(te.jsx)("div",{className:"detail",children:Object(te.jsxs)("div",{className:"lc-date mt-10",children:["month"===ke&&Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("div",{className:"mt-20 lm-date jcsb",children:[Object(te.jsxs)("span",{className:1===b?"current":"",onClick:function(){return Ce(1,"month")},children:["1 ",d.a.get("farm.suffix_month")]}),Object(te.jsxs)("span",{className:6===b?"current":"",onClick:function(){return Ce(6,"month")},children:["6 ",d.a.get("farm.suffix_month")]}),Object(te.jsxs)("span",{className:12===b?"current":"",onClick:function(){return Ce(12,"month")},children:["12 ",d.a.get("farm.suffix_month")]}),Object(te.jsxs)("span",{className:24===b?"current":"",onClick:function(){return Ce(24,"month")},children:["24 ",d.a.get("farm.suffix_month")]}),Object(te.jsxs)("span",{className:36===b?"current":"",onClick:function(){return Ce(36,"month")},children:["36 ",d.a.get("farm.suffix_month")]})]}),Object(te.jsx)("div",{className:"lm-date jcsb",children:Object(te.jsx)("span",{className:"".concat(-1===b?"current last":"last"," ").concat(L?"errorWeek":""),onClick:function(e){return Ce(-1,"month")},children:Object(te.jsx)(Y.a,{value:w,onChange:function(e){return Te(e.target.value)},placeholder:d.a.get("farm.define_myself"),suffix:d.a.get("farm.suffix_input_month")})})})]}),"day"===ke&&Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("div",{className:"mt-20 lm-date jcsb",children:[Object(te.jsxs)("span",{className:30===g?"current":"",onClick:function(){return Ce(30,"day")},children:["30 ",d.a.get("farm.suffix_day")]}),Object(te.jsxs)("span",{className:60===g?"current":"",onClick:function(){return Ce(60,"day")},children:["60 ",d.a.get("farm.suffix_day")]}),Object(te.jsxs)("span",{className:90===g?"current":"",onClick:function(){return Ce(90,"day")},children:["90 ",d.a.get("farm.suffix_day")]}),Object(te.jsxs)("span",{className:120===g?"current":"",onClick:function(){return Ce(120,"day")},children:["120 ",d.a.get("farm.suffix_day")]}),Object(te.jsxs)("span",{className:150===g?"current":"",onClick:function(){return Ce(150,"day")},children:["150 ",d.a.get("farm.suffix_day")]})]}),Object(te.jsx)("div",{className:"lm-date jcsb",children:Object(te.jsx)("span",{className:"".concat(-1===g?"current last":"last"," ").concat(L?"errorWeek":""),onClick:function(e){return Ce(-1,"day")},children:Object(te.jsx)(Y.a,{value:w,onChange:function(e){return Te(e.target.value)},placeholder:d.a.get("farm.define_myself"),suffix:d.a.get("farm.suffix_input_day")})})})]}),L&&Object(te.jsx)("div",{className:"error",children:"month"===ke?1===D?d.a.getHTML("farm.text_9",{max_lock_duration:Ee.a.maxLockDuration}):d.a.getHTML("farm.text_10",{min_lock_duration:Ee.a.minLockDuration}):1===D?d.a.getHTML("farm.text_9_day",{max_lock_duration_d:Ee.a.maxLockDaysDuration}):d.a.getHTML("farm.text_10_day",{min_lock_duration_d:Ee.a.minLockDaysDuration})})]})})]}),Object(te.jsx)("div",{className:"lock-overview mt-32",children:d.a.get("farm.lock_overview")}),Object(te.jsxs)("div",{className:"overview-content",children:[Object(te.jsxs)("div",{children:[Object(te.jsx)("span",{children:d.a.get("farm.lock_amount")}),Object(te.jsx)("div",{children:Object(te.jsx)("span",{className:"old-data",children:Object(W.t)(ue,{dp:ae[u].showDp,cutZero:!0,miniText:ae[u].miniText})})})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"flex jcfe aic",children:[d.a.get("farm.lock_duration"),Object(te.jsx)(h.a,{title:d.a.getHTML("farm.text_11"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(te.jsx)("div",{children:_e?Object(te.jsx)("span",{className:"old-data",children:"--"}):Object(te.jsxs)("span",{className:"old-data",children:[R," ","month"===ke?d.a.get("farm.month_unit"):d.a.get("farm.extend_day")]})})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"flex jcfe aic",children:["APY",Object(te.jsx)(h.a,{title:Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("p",{children:d.a.get("farm.text_12")}),Object(te.jsx)("p",{children:d.a.get("farm.text_13")})]}),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(te.jsx)("div",{children:_e?Object(te.jsx)("span",{className:"old-data",children:"--"}):Object(te.jsx)("span",{className:"old-data",children:Object(te.jsx)(Ge,{speedRate:J,data:ie[u]})})})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{children:[d.a.get("farm.unlock_time"),Object(te.jsx)(h.a,{title:d.a.get("farm.unlock_time_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]}),Object(te.jsx)("div",{children:Object(te.jsx)("span",{className:"old-data",children:z})})]})]}),Object(te.jsxs)("div",{className:"warning",children:[Object(te.jsxs)("div",{className:"flex aic warning-title ",children:[Object(te.jsx)("img",{src:Fe,alt:""}),Object(te.jsx)("span",{children:d.a.get("farm.note")})]}),Object(te.jsxs)("div",{className:"warning-content",children:[d.a.get("farm.text_34")," ",d.a.get("farm.text_35"),Object(te.jsx)("span",{onClick:function(){r.setData({modalShow:"Sun3UnlockToClaimModal",poolId:u})},style:{color:"#5915E1",cursor:"pointer"},children:d.a.get("farm.text_36")})]})]}),Object(te.jsx)("div",{className:"flex jcc",children:Object(te.jsx)("button",{className:"common-btn lock-common-btn",disabled:_e,onClick:Pe,children:d.a.get("farm.claim_extend")})})]})})})}})};function tt(){tt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new N(n||[]);return a(o,"_invoke",{value:x(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(_([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function x(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return L()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=y(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function y(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(O.prototype),s(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new O(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;k(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var rt=function(e){var t=Object(c.d)((function(){return B.a.system})),r=Object(c.d)((function(){return B.a.network})),a=Object(c.d)((function(){return B.a.farmStore})),n=r.modalShow,o=r.closeModal,s=r.poolId,l=a.farmData[s],u=(l.symbol,l.id,l.tokenAddress,l.tokenAddress2,l.version,l.lpStaker),f=(window.localStorage.getItem("lang")||d.a.options.currentLocale,function(){o()}),h=function(){var e=Object(i.a)(tt().mark((function e(){var n;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={title:"farm.emergency_withdrawal"},"",e.next=4,t.emergencyWithdraw(u,r.defaultAccount,n);case 4:e.sent&&(o(),setTimeout((function(){a.updateData(s)}),5e3));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(te.jsx)(c.a,{children:function(){return Object(te.jsx)(Se.a,{visible:"Sun3EmergencyWithdrawModal"===n,title:d.a.get("farm.emergency_withdrawal"),width:430,zIndex:999,footer:null,className:"new-lock-modal lock-modal unlock-claim-modal emer-modal",maskClosable:!1,onCancel:f,closeIcon:Object(te.jsx)("img",{src:De.a,alt:""}),centered:!0,children:Object(te.jsxs)("div",{className:"",children:[Object(te.jsxs)("div",{className:"emer-text",children:[Object(te.jsx)("div",{className:"title",children:d.a.get("farm.withdraw_amount")}),Object(te.jsxs)("div",{className:"detail",children:[Object(te.jsx)("span",{className:"claim-amount",children:Object(W.t)(l.stakedBalanceNew,{dp:Ee.a.farmPools[s].showDp,cutZero:!0,miniText:Ee.a.farmPools[s].miniText})})," ",l.symbol]})]}),Object(te.jsxs)("div",{className:"emer-text",children:[Object(te.jsx)("div",{className:"title",children:d.a.get("farm.lock_rewards")}),Object(te.jsxs)("div",{className:"detail",children:[Object(te.jsx)("span",{className:"lock-rewards",children:Object(W.t)(l.lockRewards,{dp:Ee.a.farmPools[s].showDp,cutZero:!0,miniText:.01})})," ","USDD"]})]}),Object(te.jsxs)("div",{className:"warning emer-warning",children:[Object(te.jsx)("img",{src:Fe,alt:""}),d.a.get("farm.withdraw_warn")]}),Object(te.jsx)("div",{className:"flex jcc",children:Object(te.jsx)("button",{className:"common-btn emer-btn",onClick:h,children:d.a.get("farm.withdraw_btn_text")})})]})})}})},at=function(e){return Object(te.jsx)(c.a,{children:function(){return Object(te.jsxs)(te.Fragment,{children:["Sun3AddLiqModal"===e.modalShow&&Object(te.jsx)(Ae,{cb:e.cb}),"Sun3RemoveLiqModal"===e.modalShow&&Object(te.jsx)(Me,{cb:e.cb}),"Sun3LockModal"===e.modalShow&&Object(te.jsx)(Re,{cb:e.cb}),"Sun3LockExtendModal"===e.modalShow&&Object(te.jsx)(Be,{cb:e.cb}),"Sun3AutoExtendModal"===e.modalShow&&Object(te.jsx)(Ve,{cb:e.cb}),"Sun3DiffModal"===e.modalShow&&Object(te.jsx)(We,{cb:e.cb}),"Sun3UnlockToClaimModal"===e.modalShow&&Object(te.jsx)(Ze,{cb:e.cb}),"Sun3ExtendTimeModal"===e.modalShow&&Object(te.jsx)(Je,{cb:e.cb}),"Sun3ClaimAndExtendModal"===e.modalShow&&Object(te.jsx)(et,{cb:e.cb}),"Sun3EmergencyWithdrawModal"===e.modalShow&&Object(te.jsx)(rt,{cb:e.cb})]})}})},nt=r.p+"static/media/newHot.96a01f83.svg",ct=r.p+"static/media/celebrate.a6713eb7.svg",ot=r(403),it=r(398),st=r(405),lt=r(407),ut=r(401),dt=r(408),ft=r(411),ht=r(404),jt=r(406),bt=r(402),mt=r(410),pt=r(418),vt=r(422),gt=r(416),Ot=r(413),xt=r(415),yt=function(e){var t=Object(c.d)((function(){return B.a.network})),r=Object(c.d)((function(){return B.a.farmStore})),a=Object(n.useState)((function(){var a,n=null===(a=r.farmData[e.id])||void 0===a?void 0:a.remainingTime;return parseInt(n)-parseInt(t.nowTime/1e3)})),o=Object(l.a)(a,2),i=o[0],s=o[1];!function(e,t){var r=Object(n.useRef)();Object(n.useEffect)((function(){r.current=e}),[e]),Object(n.useEffect)((function(){function e(){r.current()}if(null!==t){var a=setInterval(e,t);return function(){return clearInterval(a)}}}),[t])}((function(){var a=r.farmData[e.id],n=null===a||void 0===a?void 0:a.remainingTime,c=parseInt(n),o=parseInt(t.nowTime/1e3),i=c-o>0?c-o:0;0==i&&r.updateData(e.id),s(i)}),1e3);return Object(te.jsx)("span",{className:"flex aic jcs",children:function(e){if(e>=0){if(e>=Ee.a.monthTime){var t=Object(W.t)(e/Ee.a.monthTime);return Object(te.jsxs)("div",{className:"flex aic jcs",children:[t," ",d.a.get("farm.countdown_month")," ",Object(te.jsx)(h.a,{title:d.a.get("farm.text_49"),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(te.jsx)("img",{className:"tooltip-img",src:Q.a,alt:""})})]})}if(e>=86400){var r=Object(W.t)(e/86400);return Object(te.jsxs)(te.Fragment,{children:[r," ",d.a.get("farm.countdown_days")]})}var a=1e3*e;return Object(te.jsxs)(te.Fragment,{children:[ve.a.duration(a).hours(),":",String(ve.a.duration(a).minutes()).padStart(2,"0"),":",String(ve.a.duration(a).seconds()).padStart(2,"0")]})}return""}(i)})};var wt=r(1171);function kt(){kt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new N(n||[]);return a(o,"_invoke",{value:x(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(_([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function x(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return L()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=y(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function y(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(O.prototype),s(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new O(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;k(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var Nt=function(e){var t=Object(G.a)(window.navigator).any,r=Object(c.d)((function(){return B.a.network})),a=Object(c.d)((function(){return B.a.system})),s=Object(c.d)((function(){return B.a.farmStore})),u=V.a.tokens,f=r.setData,j=r.isConnected,b=e.data,m=window.localStorage.getItem("lang"),p=e.id,v=Object(n.useState)(1),g=Object(l.a)(v,2),O=g[0],x=g[1],y=Object(n.useState)(""),w=Object(l.a)(y,2),k=w[0],N=w[1],_=null;Object(n.useEffect)((function(){Object(W.a)(b.stakedBalanceNew).isNaN()||Object(W.a)(b.stakedBalanceNew).lte(0)?x(1):Object(W.a)(b.stakedBalanceNew).gt(0)&&0!==b.lockDuration&&b.remainingTime>=r.nowTime/1e3?x(2):Object(W.a)(b.stakedBalanceNew).gt(0)&&0!==b.lockDuration&&b.remainingTime<r.nowTime/1e3?x(3):Object(W.a)(b.stakedBalanceNew).gt(0)&&0===b.lockDuration&&x(4)}),[b.stakedBalanceNew,b.lockDuration,b.remainingTime]);var L=Object(W.a)(b.balance).isNaN(),S=function(){var t=Object(i.a)(kt().mark((function t(r,n){var c,o;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("img"!==r.target.tagName.toLowerCase()){t.next=2;break}return t.abrupt("return");case 2:if(j){t.next=5;break}return f({loginModalVisible:!0,loginModalStep:1}),t.abrupt("return");case 5:return c={title:"actions.claim_lp",obj:{value:Object(W.t)(Object(W.a)(b.lockRewards).plus(b.governanceRewards)),symbol:b.gift[0].toUpperCase()}},o=Ee.a.flexibleKeys.includes(b.id)?"withdrawLPFarmNoflexible":"withdrawLPFarm","",t.next=10,a[o](b.lpStaker,0,0,c);case 10:t.sent&&setTimeout((function(){s.updateData(e.id)}),5e3),Object(ee.a)({action:ee.b.claim,event_category:ee.h.farm});case 13:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),E=function(){var t=Object(i.a)(kt().mark((function t(){var n,c;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j){t.next=3;break}return f({loginModalVisible:!0,loginModalStep:1}),t.abrupt("return");case 3:return c={title:"actions.claim_lp",obj:{value:Object(W.t)(b.governanceRewards),symbol:null===(n=b.gift[0])||void 0===n?void 0:n.toUpperCase()}},t.next=6,a.claimGovernanceRewards(b.lpStaker,r.defaultAccount,c);case 6:t.sent&&setTimeout((function(){s.getGovernanceRewradsForSingle(e.id)}),5e3),Object(ee.a)({action:ee.b.claim,event_category:ee.h.farm});case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),C=function(){f(j?{modalShow:"Sun3AddLiqModal",poolId:b.farmId}:{loginModalVisible:!0,loginModalStep:1}),Object(ee.a)({action:ee.b.flexible_staking,event_category:ee.h.farm})},D=function(){f(j?{modalShow:"Sun3ClaimAndExtendModal",poolId:b.farmId}:{loginModalVisible:!0,loginModalStep:1})},T=function(){f(j?{modalShow:"Sun3EmergencyWithdrawModal",poolId:b.farmId}:{loginModalVisible:!0,loginModalStep:1})},A=function(){f(j?{modalShow:"Sun3LockModal",poolId:b.farmId}:{loginModalVisible:!0,loginModalStep:1}),Object(ee.a)({action:ee.b.fixed_staking,event_category:ee.h.farm})},P=function(){f({modalShow:"Sun3ExtendTimeModal",poolId:b.farmId})},M=function(){f({modalShow:"Sun3RemoveLiqModal",poolId:b.farmId})},I=function(){f({modalShow:"Sun3LockExtendModal",poolId:b.farmId}),Object(ee.a)({action:ee.b.more_staking,event_category:ee.h.farm})},F=function(){f({modalShow:"Sun3UnlockToClaimModal",poolId:b.farmId})},Y=function(e){try{return e?e.split(" ")[0].split("-"):[]}catch(t){console.log("transferSymbolToToken error")}},H=function(e){return"twopoollpNew"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:oe.default,alt:""})}):"twopoollp"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:ce.default,alt:""})}):"thrpoollp"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool3-img",src:Z.default,alt:""})}):"thrpoollpNew"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool3-img",src:ie.default,alt:""})}):"thrsunlp"===e.id?Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("img",{src:K.default,alt:""}),Object(te.jsx)("img",{src:X.default,alt:""})]}):"usddtrx"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:se.default,alt:""})}):"usdcusdt"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:ot.default,alt:""})}):"busd2poollp"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:it.default,alt:""})}):"usdd2poollp"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:st.default,alt:""})}):"usdj2poollp"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:lt.default,alt:""})}):"tusd2poollp"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:ut.default,alt:""})}):"usdttusd"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:dt.default,alt:""})}):"busd2Pool_2"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:ft.default,alt:""})}):"usdd2Pool_2"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:ht.default,alt:""})}):"usdj2Pool_2"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:jt.default,alt:""})}):"usdc2Pool_2"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:bt.default,alt:""})}):"usddusdt"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:le.default,alt:""})}):"bttusdt2"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:mt.default,alt:""})}):"trxusdt"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:pt.default,alt:""})}):"winusdt2"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:vt.default,alt:""})}):"sunusdt2"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:gt.default,alt:""})}):"jstusdt2"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:Ot.default,alt:""})}):"nftusdt2"===e.id?Object(te.jsx)(te.Fragment,{children:Object(te.jsx)("img",{className:"pool2-img",src:xt.default,alt:""})}):e.symbol&&Y(e.symbol).length?Y(e.symbol).map((function(t){return Object(te.jsx)("img",{src:2==e.version?z.b[t.toLowerCase()]:z.a[t.toLowerCase()],alt:""},t)})):void Object(z.c)("default")},R=function(e){e.stopPropagation(),r.setData({modalShow:"CalculatorModal",poolId:b.farmId})},U=function(){f(j?{modalShow:"LockModal"}:{loginModalVisible:!0,loginModalStep:1})},q=function(){return Object(te.jsxs)("div",{className:"liq-title"+([2].includes(O)?" speed-up":""),children:[Object(te.jsxs)("div",{className:"liq-logo",children:[Object(te.jsx)("span",{children:H(b)}),Object(te.jsx)("span",{className:"flex fdc ais",children:Object(te.jsxs)("span",{className:"c-333 earn-title",children:[Object(te.jsxs)("span",{children:[Object(te.jsxs)("div",{children:[b.id&&u[b.id].symbol,u[b.id].lpTokens&&(e=u[b.id].lpTokens,"  ( "+e.join(" + ")+" )")]}),Object(te.jsx)("div",{children:Object(te.jsx)("span",{className:"earn-subtitle",children:b.id&&u[b.id].subtitle})})]}),Object(te.jsxs)("span",{children:[(1===b.version||2===b.version)&&Object(te.jsx)("span",{className:"liq-version v"+b.version,children:"V"+b.version}),Object(te.jsx)("span",{className:"flexible-icon",children:d.a.get("farm.flex")}),!Ee.a.flexibleKeys.includes(b.id)&&Object(te.jsx)("span",{className:"locked-icon",children:d.a.get("farm.lock")})]})]})})]}),Object(te.jsx)($,{})]});var e},J=function(){var e=b.currentSpeed,t=b.futureSpeed;return r.isConnected&&1!==O?Object(W.a)(e).lt(1.01)&&Object(W.a)(t).lt(1.01)?Object(te.jsxs)("div",{children:[Object(te.jsx)("span",{className:"lock-speed-tip",onClick:function(e){return f({modalShow:"LockModal"})},children:d.a.get("farm.lock_speed_tip1")})," ",d.a.get("farm.lock_speed_tip2")]}):Object(W.a)(t).gt(e)?Object(te.jsxs)("div",{children:[d.a.get("farm.current_speed_tip"),Object(te.jsx)("span",{className:"speed-to",children:d.a.getHTML("farm.repeed1",{future_boost:Object(W.a)(t)._toFixed(2,1)})})]}):Object(W.a)(t).lte(e)?Object(te.jsxs)("div",{children:[d.a.get("farm.current_speed_tip"),Object(te.jsx)("span",{className:"speed-to",children:d.a.getHTML("farm.repeed2",{future_boost:Object(W.a)(t)._toFixed(2,1)})})]}):void 0:d.a.get("farm.current_speed_tip")},$=function(){var e=Object(W.a)(b.multiple),t=Object(W.a)(b.currentSpeed);Object(W.a)(b.futureSpeed).toFixed(2);return Object(te.jsxs)("div",{className:"liq-speed flex",children:[[2].includes(O)&&!Ee.a.flexibleKeys.includes(b.id)&&Object(te.jsxs)("div",{className:"speed-basic speed-fix",children:[Object(te.jsx)(h.a,{title:d.a.getHTML("farm.text_2",{max_boost:Ee.a.maxBoost}),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(te.jsx)("img",{className:"tooltip-img",src:Q.a,alt:""})}),Object(te.jsxs)("span",{className:"ml-4",children:[d.a.get("farm.fixed_speed_up"),": \xa0"]}),Object(te.jsx)("span",{className:"flex-inline aic ff-hn stake-balance",children:Object(W.a)(b.stakedBalanceNew).gt(0)?Object(W.t)(e,{dp:2}):"--"})]}),Object(te.jsxs)("div",{className:"speed-basic speed-gov",onClick:U,children:[Object(te.jsx)("span",{onClick:function(e){e.stopPropagation()},children:Object(te.jsx)(h.a,{title:J(),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(te.jsx)("img",{className:"tooltip-img",src:Q.a,alt:""})})}),Object(te.jsxs)("span",{className:"ml-4",children:[d.a.get("farm.gov_speed_up"),": \xa0"]}),Object(te.jsxs)("span",{className:"flex-inline aic ff-hn",children:[Object(W.a)(b.stakedBalanceNew).gt(0)?Object(W.t)(t,{dp:2}):"--"," ",Object(te.jsx)("img",{className:"calculator ml-18",src:je.a,onClick:R,alt:""})]})]})]})},re=function(){var r,a,n,c,o=Object(W.a)(b.lockRewards).times(b.usddPrice).plus(b.stakedBalancePrice);(null===(r=b.gift)||void 0===r?void 0:r.length)>0&&(o=Object(W.a)(o).plus(Object(W.a)(b.governanceRewards).times(b.usddPrice)));var i=b.thisWeekApyV3?Object(W.a)(b.thisWeekApyV3).gte(0)?"".concat(Object(W.s)(Object(W.a)(b.thisWeekApyV3).times(.4)),"%~").concat(Object(W.s)(b.thisWeekApyV3),"%"):"<0.00%":"--",s=(b.extraRewardApy&&(Object(W.a)(b.extraRewardApy).gte(0)&&"".concat(Object(W.s)(b.extraRewardApy),"%")),i);if(!Object(W.a)(b.extraRewardApy).isNaN()&&!Object(W.a)(b.thisWeekApyV3).isNaN()){var l=Object(W.a)(b.extraRewardApy).plus(Object(W.a)(b.thisWeekApyV3).times(.4)),u=Object(W.a)(b.extraRewardApy).plus(b.thisWeekApyV3);s=Object(W.a)(l).gte(0)?"".concat(Object(W.s)(l),"%~").concat(Object(W.s)(u),"%"):"<0.00%"}return Object(te.jsxs)("div",{className:"liq-info cp"+(3===O?" lock-end-bg":""),onClick:ae,children:[Object(te.jsxs)("div",{className:"liq-ele",children:[Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"flex aic jcs",children:[d.a.get("stakes.my_position"),Object(te.jsx)(h.a,{title:d.a.get("stakes.total_value"),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(te.jsx)("img",{src:Q.a,className:"ml-4",alt:""})})]}),Object(te.jsx)("span",{children:Object(W.t)(o,{dp:0,rm:1,miniText:1,needDolar:!0})})]}),Ee.a.flexibleKeys.includes(b.id)?Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"flex aic jcs",children:[d.a.get("stake.apy")," ",Object(te.jsx)(h.a,{title:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=b.thisWeekApyV3?Object(W.a)(b.thisWeekApyV3).gte(0)?"".concat(Object(W.s)(Object(W.a)(b.minGovApy)),"%~").concat(Object(W.s)(b.thisWeekApyV3),"%"):"<0.00%":"--";return Object(te.jsxs)("div",{className:"apy-summary",children:[Object(te.jsxs)("div",{children:["USDD ",d.a.get("farm.flex_apy")," :"," ",Object(te.jsx)("span",{className:"tip-flex-apy",children:Object(W.a)(t).gte(0)?"".concat(Object(W.s)(t),"%"):"<0.00%"})]}),Object(te.jsxs)("div",{children:["USDD ",d.a.get("farm.gov_apy")," : ",Object(te.jsx)("span",{className:"tip-gov-apy",children:r})]})]})}(null===b||void 0===b?void 0:b.fixApy,null===b||void 0===b?void 0:b.flexApy),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(te.jsx)("img",{src:Q.a,className:"ml-4"})})]}),Object(te.jsx)("span",{className:"c-5915e1",children:s})]}):Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"flex aic jcs",children:[d.a.get("farm.highest_apy")," ",Object(te.jsx)(h.a,{title:d.a.get("farm.text_1"),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(te.jsx)("img",{src:Q.a,className:"ml-4",alt:""})})]}),Object(te.jsx)("span",{className:" c-5915e1 flex aic jcs",children:Object(te.jsxs)(h.a,{title:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0;return Object(te.jsxs)("div",{className:"apy-summary",children:[!Ee.a.flexibleKeys.includes(b.id)&&Object(te.jsxs)("div",{children:["USDD ",d.a.get("farm.fixed_apy")," :"," ",Object(te.jsx)("span",{className:"tip-fix-apy",children:Object(W.a)(e).gte(0)?"".concat(Object(W.s)(n),"% ~ ").concat(Object(W.s)(e),"%"):"<0.00%"})]}),Object(te.jsxs)("div",{children:["USDD ",d.a.get("farm.flex_apy")," :"," ",Object(te.jsx)("span",{className:"tip-flex-apy",children:Object(W.a)(t).gte(0)?"".concat(Object(W.s)(t),"%"):"<0.00%"})]}),Object(te.jsxs)("div",{children:["USDD ",d.a.get("farm.gov_apy")," :"," ",Object(te.jsx)("span",{className:"tip-gov-apy",children:Object(W.a)(r).gte(0)?"".concat(Object(W.s)(a),"% ~ ").concat(Object(W.s)(r),"%"):"<0.00%"})]}),!Ee.a.flexibleKeys.includes(b.id)&&Object(te.jsxs)("div",{children:[d.a.getHTML("farm.text_3")," "]})]})}(null===b||void 0===b?void 0:b.fixApy,null===b||void 0===b?void 0:b.flexApy,null===b||void 0===b?void 0:b.govApy,null===b||void 0===b?void 0:b.minGovApy,null===b||void 0===b?void 0:b.minFixApy),className:"highest-apy",overlayClassName:"stake-tooltip max-apy-tooltip "+("en-US"===m?" tooltip-en":""),placement:t?"bottomLeft":"bottom",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:[Object(W.s)(b.totalApy)," ","% ",Object(te.jsx)("img",{src:nt,className:"ml-4",alt:""})]})})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"flex aic jcs",children:[d.a.get("newStake.liquidity.earn"),Object(te.jsx)(h.a,{title:V.a.tokens[b.id].giftEndTime?d.a.getHTML("stakes.earned_tip",{token:null===(a=b.gift[0])||void 0===a?void 0:a.toUpperCase(),time:V.a.tokens[b.id].giftEndTime}):d.a.get("stakes.earned_tip_1"),overlayClassName:"stake-tooltip",placement:"topLeft",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(te.jsx)("img",{src:Q.a,className:"ml-4",alt:""})})]}),Object(te.jsx)("span",{children:(null===(n=b.gift)||void 0===n?void 0:n.length)>0?null===(c=b.gift[0])||void 0===c?void 0:c.toUpperCase():""})]}),Object(te.jsxs)("div",{children:[Object(te.jsx)("span",{children:d.a.get("newStake.liquidity.stake_total")}),Object(te.jsx)("span",{children:"".concat(Object(W.t)(Object(W.a)(b.totalStakePriceNew),{dp:0,rm:1,miniText:1,needDolar:!0}))})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("span",{className:"flex aic jce",children:[d.a.get("farm.gov_weight")," ",Object(te.jsx)(h.a,{title:d.a.get("governance.pool_weight_tips"),overlayClassName:"stake-tooltip",placement:"topRight",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",arrowPointAtCenter:!0,children:Object(te.jsx)("img",{src:Q.a,className:"ml-4",alt:""})})]}),Object(te.jsx)("span",{children:0==b.thisWeekWeight?"0.00":b.thisWeekWeight<.01?"<0.01":b.thisWeekWeight})]})]}),Object(te.jsx)("div",{className:"flex liq-slide",children:t?Object(te.jsx)("img",{src:e.myClass?he:fe,className:"liq-arrow liq-arrow-m",alt:""}):Object(te.jsx)("img",{src:e.myClass?de:ue,className:"liq-arrow",alt:""})})]})},ae=function(t){"img"===t.target.tagName.toLowerCase()&&"liq-arrow"!==t.target.classList[0]||Object(o.a)(t.target.classList).includes("highest-apy")||e.slide(b.farmId)},ne=function(){s.updateData(p),x(2)};Object(n.useEffect)((function(){var e=new Date(ve()(1e3*b.remainingTime+1e3*Ee.a.unfreezeTime).format("YYYY-MM-DD HH:mm:ss")).getTime(),t=e-r.nowTime;t<8646e4&&t>=864e5?_=setInterval(Object(i.a)(kt().mark((function t(){var r,a;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Ke.w)();case 2:r=t.sent,a=e-r.time,N(a/864e5);case 6:case"end":return t.stop()}}),t)}))),1e3):(clearInterval(_),N(t/864e5));return function(){clearInterval(_)}}),[b.remainingTime,r.nowTime]);var be=function(e){var t,r=(null===(t=b.gift)||void 0===t?void 0:t.length)>0,a=Object(W.a)(b.lockRewards).times(b.usddPrice),n=Object(W.a)(Object(W.a)(b.lockRewards).plus(b.governanceRewards)).times(b.usddPrice),c=Object(W.a)(b.governanceRewards).times(b.usddPrice);return 1===O||4===O?Object(te.jsxs)("div",{className:"flex jcsb liq-earned",children:[Object(te.jsxs)("div",{children:[Object(te.jsx)("div",{className:"title",children:d.a.get("newStake.liquidity.earned")}),Object(te.jsxs)("div",{className:"amount",children:[Object(W.t)(Object(W.a)(b.lockRewards).plus(b.governanceRewards),{miniText:.01}),b.gift[0].toUpperCase(),Object(te.jsxs)("div",{className:"price",children:[Object(W.a)(n).gt(1)&&"\u2248 ",Object(W.t)(n,{dp:0,rm:1,miniText:1,needDolar:!0})]})]})]}),Object(te.jsx)("div",{children:Object(W.a)(b.lockRewards).gt(0)||Object(W.a)(b.governanceRewards).gt(0)?b.flexibleCanClaim?Object(te.jsx)(h.a,{title:d.a.getHTML("farm.total_claim"),children:Object(te.jsx)("button",{className:"btn-border claim-btn",onClick:S,children:d.a.get("claim.claim_btn")})}):Object(te.jsx)(h.a,{title:d.a.getHTML("farm.text_41"),children:Object(te.jsx)("button",{className:"btn-border-disable mt-20 claim-btn",disabled:!0,children:d.a.get("claim.claim_btn")})}):Object(te.jsx)("button",{className:"btn-border claim-btn",disabled:!Object(W.a)(b.lockRewards).gt(0)&&!Object(W.a)(b.governanceRewards).gt(0),onClick:S,children:d.a.get("claim.claim_btn")})})]}):2===O?Object(te.jsxs)("div",{className:"flex jcsb liq-earned status-two",children:[Object(te.jsxs)("div",{children:[Object(te.jsx)("div",{className:"title lsc-claim-title",children:d.a.get("newStake.liquidity.earned")}),Object(te.jsxs)("div",{className:"price",children:[Object(te.jsx)("div",{className:"lsc-claim-subtitle",children:d.a.get("farm.gov_mining_rewards")}),Object(te.jsxs)("div",{className:"amount flex jcs",children:[Object(te.jsxs)("div",{className:"lsc-token-amount",children:[Object(W.t)(b.governanceRewards,{miniText:.01})," ",b.gift[0].toUpperCase()]}),Object(te.jsxs)("div",{className:"lsc-token-price",children:[Object(W.a)(c).gt(1)&&"\u2248 ",Object(W.t)(c,{dp:0,rm:1,miniText:1,needDolar:!0})]})]})]}),r&&Object(te.jsxs)("div",{className:"price",children:[Object(te.jsx)("div",{className:"lsc-claim-subtitle mt-10",children:d.a.get("farm.lock_rewards")}),Object(te.jsxs)("div",{className:"amount flex jcs",children:[Object(te.jsxs)("div",{className:"lsc-token-amount",children:[Object(W.t)(b.lockRewards,{miniText:.01})," ",b.gift[0].toUpperCase()]}),Object(te.jsx)("div",{className:"lsc-token-price",children:Object(W.t)(a,{dp:0,rm:1,miniText:1,needDolar:!0})})]})]})]}),Object(te.jsxs)("div",{children:[b.fixCanClaim?Object(te.jsx)("button",{className:"btn-border claim-btn",disabled:!Object(W.a)(b.governanceRewards).gt(0),onClick:E,children:d.a.get("claim.claim_btn")}):Object(te.jsx)(h.a,{title:d.a.getHTML("farm.text_39",{time_window:Ee.a.windowDuration}),children:Object(te.jsx)("button",{className:"btn-border-disable mt-20 claim-btn",disabled:!0,children:d.a.get("claim.claim_btn")})}),Object(te.jsx)(h.a,{title:d.a.getHTML("farm.text_39",{time_window:Ee.a.windowDuration}),children:Object(te.jsx)("button",{className:"btn-border-disable mt-20 claim-btn",disabled:!0,children:d.a.get("claim.claim_btn")})})]})]}):3===O?Object(te.jsx)("div",{className:"flex jcsb liq-earned  status-three",children:Object(te.jsxs)("div",{children:[Object(te.jsxs)("div",{className:"title",children:[Object(te.jsx)("img",{src:ct,alt:""}),Object(te.jsx)("span",{className:"c-333 fw-500",children:d.a.getHTML("farm.lock_end")})]}),Object(te.jsxs)("div",{className:"flex aic jcc mt-15",children:[Object(te.jsx)("span",{className:"count-time-left"+(k>1?" mr-5":" mr-15"),children:d.a.get("farm.time_left")}),k>1?Object(W.t)(k)+" "+d.a.get("pool_config.day"):Object(te.jsx)(wt.a,{id:p,stopCount:ne},p)]}),Object(te.jsxs)("div",{className:"unlock-asset-text",children:[Object(te.jsx)("span",{children:d.a.getHTML("farm.unclock_your_asset",{unlock_time:ve()(1e3*b.remainingTime+1e3*Ee.a.unfreezeTime).format("YYYY-MM-DD HH:mm")})}),Object(te.jsx)("span",{className:"auto-extend-text",onClick:function(){f({modalShow:"Sun3AutoExtendModal"})},children:d.a.get("farm.unclock_your_asset1")}),Object(te.jsx)("span",{children:d.a.get("farm.unclock_your_asset2")})]})]})}):Object(te.jsx)(te.Fragment,{})},me=function(e){var r=Object(W.C)(b,m),a=Object(W.a)(b.governanceRewards).times(b.usddPrice),n=Object(W.a)(b.lockRewards).times(b.usddPrice);if(1===O)return Object(te.jsxs)("div",{className:"cardRightContainer liq-staked status-one",children:[Object(te.jsxs)("div",{className:"flex jcsb aic",children:[Object(te.jsxs)("div",{className:"title",children:[Object(te.jsx)("span",{className:"mr-10",children:d.a.getHTML("farm.stale_lp",{LP_Name:null===b||void 0===b?void 0:b.symbol})}),r]}),Object(te.jsxs)("div",{className:"actions",children:[Object(te.jsx)("button",{className:"btn-border btn-width mt-2",onClick:C,disabled:L,children:d.a.get("farm.flexible_stake")}),!Ee.a.flexibleKeys.includes(b.id)&&Object(te.jsxs)("button",{className:"btn-border btn-bg  ml-20  btn-width mt-2",onClick:A,disabled:L,children:[d.a.get("farm.lock_mining"),Object(te.jsx)("img",{src:nt,className:"newHot",alt:""})]})]})]}),!Ee.a.flexibleKeys.includes(b.id)&&Object(te.jsxs)("div",{className:"stakeTips",children:[Object(te.jsxs)("span",{className:"stakeTip1",children:["\u203b ",d.a.getHTML("farm.stake_tip1")]}),Object(te.jsx)("span",{className:"stakeTip2",onClick:function(){f({modalShow:"Sun3DiffModal"})},children:d.a.get("farm.stake_tip2")})]})]});if(2===O){var c=b.multiple,o=b.currentSpeed,i=b.flexApy,s=(b.fixApy,b.minGovApy),l=Object(W.a)(c).times(i)._toFixed(2,1),u=Object(W.a)(o).times(s).times(c)._toFixed(2,1),j=Object(W.a)(l).plus(u);return Object(te.jsxs)("div",{className:"flex jcsb liq-staked status-two",children:[Object(te.jsxs)("div",{children:[Object(te.jsxs)("div",{className:"title",children:[Object(te.jsxs)("span",{children:[Object(te.jsx)("span",{className:"mr-10",children:d.a.get("farm.available_fixed")}),r]}),t&&Object(te.jsx)("div",{className:"emergencyWithdrawText",onClick:T,children:d.a.get("farm.emergency_withdrawal")})]}),Object(te.jsxs)("div",{className:"amount lsc-amount",children:[2===b.version?Object(W.a)(b.stakedBalanceNew).eq(0)?"0.00":Object(W.t)(b.stakedBalanceNew,{dp:6,miniText:1e-6,cutZero:2}):Object(W.t)(b.stakedBalanceNew,{miniText:.01})," ","USDC Old LP"===b.symbol&&"zh-CN"===m?"Old USDC LP":b.symbol,Object(te.jsx)("div",{className:"price lsc-price flex",children:Object(te.jsxs)("span",{children:[Object(W.a)(b.stakedBalancePrice).gt(1)&&"\u2248 ",Object(W.t)(b.stakedBalancePrice,{dp:0,rm:1,miniText:1,needDolar:!0})]})}),Object(te.jsxs)("div",{className:"get-lp flex aic jcsb",children:[Object(te.jsx)("button",{className:"btn-border add-lock-btn add-btn-status2",onClick:I,children:d.a.get("farm.add")}),!t&&Object(te.jsx)("div",{className:"emergencyWithdrawText",onClick:T,children:d.a.get("farm.emergency_withdrawal")})]})]})]}),Object(te.jsxs)("div",{className:"lockStakeContainer",children:[Object(te.jsxs)("div",{className:"flex jcsb",children:[Object(te.jsxs)("div",{children:[Object(te.jsx)("div",{className:"lsc-title",children:d.a.get("farm.lock_duration_left")}),Object(te.jsx)("div",{className:"lsc-content",children:Object(te.jsx)(yt,{id:p},p)})]}),Object(te.jsxs)("div",{children:[Object(te.jsxs)("div",{className:"lsc-title flex aic jcs",children:["APY",Object(te.jsx)(h.a,{title:d.a.get("farm.text_12"),className:"ml-8",overlayClassName:"stake-tooltip",trigger:"['hover','click']",children:Object(te.jsx)("img",{className:"tooltip-img",src:Q.a,alt:""})})]}),Object(te.jsx)("div",{className:"lsc-content lsc-apy",children:Object(te.jsxs)(h.a,{title:pe(),className:"apy-new-type",overlayClassName:"stake-tooltip",trigger:"['hover','click']",children:[Object(W.s)(j),"%"]})})]})]}),Object(te.jsx)("div",{className:"lsc-tip",children:d.a.getHTML("farm.unlock_on",{unlock_time:b.remainingTime>0?ve()(1e3*b.remainingTime).format("YYYY-MM-DD HH:mm"):"--"})}),Object(te.jsx)("div",{className:"btns",children:Object(te.jsx)("button",{className:"btn-border btn-bg extend-btn",onClick:P,children:d.a.get("farm.extened")})})]})]})}return 3===O?Object(te.jsxs)("div",{className:"flex jcsb liq-staked status-three",children:[Object(te.jsxs)("div",{children:[Object(te.jsx)("div",{className:"title",children:Object(te.jsx)("span",{className:"mr-10",children:d.a.get("farm.available_asset")})}),Object(te.jsxs)("div",{className:"amount lsc-amount",children:[2===b.version?Object(W.a)(b.stakedBalanceNew).eq(0)?"0.00":Object(W.t)(b.stakedBalanceNew,{dp:6,miniText:1e-6,cutZero:2}):Object(W.t)(b.stakedBalanceNew,{miniText:.01})," ","USDC Old LP"===b.symbol&&"zh-CN"===m?"Old USDC LP":b.symbol,Object(te.jsxs)("div",{className:"price lsc-price",children:[Object(W.a)(b.stakedBalancePrice).gt(1)&&"\u2248 ",Object(W.t)(b.stakedBalancePrice,{dp:0,rm:1,miniText:1,needDolar:!0})]}),Object(te.jsx)("div",{className:"get-lp",children:Object(te.jsx)("button",{className:"btn-border add-lock-btn add-btn-status2",onClick:F,children:d.a.get("farm.unlocked")})})]})]}),Object(te.jsxs)("div",{className:"lockStakeContainer"+("en-US"===m?" en":""),children:[Object(te.jsxs)("div",{className:"flex jcsb",children:[Object(te.jsxs)("div",{children:[Object(te.jsxs)("div",{className:"lsc-title flex aic jcs",children:[d.a.get("farm.lock_rewards"),Object(te.jsx)(h.a,{title:d.a.get("farm.lock_rewards_tip"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{className:"tooltip-img",src:Q.a,alt:""})})]}),Object(te.jsxs)("div",{className:"lsc-content",children:[Object(W.t)(b.lockRewards,{miniText:.01})," ",b.gift[0].toUpperCase()]}),Object(te.jsx)("div",{className:"lsc-tip",children:Object(te.jsxs)("div",{className:"price",children:[Object(W.a)(n).gt(1)&&"\u2248 ",Object(W.t)(n,{dp:0,rm:1,miniText:1,needDolar:!0})]})})]}),Object(te.jsxs)("div",{children:[Object(te.jsx)("div",{className:"lsc-title",children:d.a.get("farm.gov_mining_rewards")}),Object(te.jsxs)("div",{className:"lsc-content flex jcs",children:[Object(te.jsxs)("span",{children:[Object(W.t)(b.governanceRewards,{miniText:.01})," ",b.gift[0].toUpperCase()]}),b.fixCanClaim?Object(te.jsx)("span",{className:"lsc-claim fs-12",onClick:E,children:d.a.get("header.claim")}):Object(te.jsx)(h.a,{title:d.a.getHTML("farm.text_41"),children:Object(te.jsx)("span",{className:"lsc-claim fs-12",style:{opacity:.3},children:d.a.get("header.claim")})})]}),Object(te.jsxs)("div",{className:"lsc-tip",children:[Object(W.a)(a).gt(1)&&"\u2248 ",Object(W.t)(a,{dp:0,rm:1,miniText:1,needDolar:!0})]})]})]}),Object(te.jsx)("div",{className:"btns",children:b.fixCanClaim?Object(te.jsx)("button",{className:"btn-border btn-bg extend-btn claim-btn",onClick:D,children:d.a.get("farm.claim_locked_rewards")}):Object(te.jsx)(h.a,{title:d.a.getHTML("farm.text_41"),children:Object(te.jsx)("button",{className:"btn-border-disable extend-btn claim-btn",disabled:!0,children:d.a.get("farm.claim_locked_rewards")})})})]})]}):4===O?Object(te.jsxs)("div",{className:"flex jcsb liq-staked status-four",children:[Object(te.jsxs)("div",{children:[Object(te.jsxs)("div",{className:"title",children:[Object(te.jsx)("span",{className:"mr-10",children:d.a.get("farm.available_flexible")}),r]}),Object(te.jsxs)("div",{className:"amount",children:[2===b.version?Object(W.a)(b.stakedBalanceNew).eq(0)?"0.00":Object(W.t)(b.stakedBalanceNew,{dp:6,miniText:1e-6,cutZero:2}):Object(W.t)(b.stakedBalanceNew,{miniText:.01})," ","USDC Old LP"===b.symbol&&"zh-CN"===m?"Old USDC LP":b.symbol,Object(te.jsxs)("div",{className:"price",children:[Object(W.a)(b.stakedBalancePrice).gt(1)&&"\u2248 ",Object(W.t)(b.stakedBalancePrice,{dp:0,rm:1,miniText:1,needDolar:!0})]})]})]}),Object(te.jsxs)("div",{className:"flex-apy",children:[Object(te.jsx)("div",{className:"title",children:Object(te.jsxs)("span",{className:"mr-10 flex aic jcs",children:[d.a.get("stake.apy"),Object(te.jsx)(h.a,{title:d.a.get("farm.text_12"),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:Q.a,className:"ml-2",alt:""})})]})}),Object(te.jsx)("div",{className:"amount flex-apy-amount",children:Object(te.jsxs)(h.a,{title:ge(),overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:[Object(W.s)(Object(W.a)(Object(W.a)(b.flexApy)._toFixed(2,1)).plus(Object(W.a)(Object(W.a)(b.currentSpeed).times(b.minGovApy)._toFixed(2,1))))," ","%"]})})]}),Object(te.jsx)("div",{className:"btns",children:Object(te.jsxs)("div",{className:"get-lp",children:[Object(te.jsx)("button",{className:"btn-border mr-10",onClick:M,children:d.a.get("stakes.btn_remove")}),Object(te.jsx)("button",{className:"btn-border btn-bg",onClick:C,children:d.a.get("stakes.btn_add")})]})})]}):Object(te.jsx)(te.Fragment,{})},pe=function(){var e=b.multiple,t=b.currentSpeed,r=b.flexApy,a=(b.fixApy,b.minGovApy),n=Object(W.a)(e).times(r),c=Object(W.a)(t).times(a).times(e);return Object(te.jsxs)("div",{children:[Object(te.jsxs)("p",{children:["USDD ",d.a.get("farm.fixed_apy")," : ",Object(W.s)(n),"%"]}),Object(te.jsxs)("p",{children:["USDD ",d.a.get("farm.gov_apy")," : ",Object(W.s)(c),"%"]})]})},ge=function(){b.multiple;var e=b.currentSpeed,t=b.flexApy,r=(b.fixApy,b.minGovApy);return Object(te.jsxs)("div",{children:[Object(te.jsxs)("p",{children:["USDD ",d.a.get("farm.flex_apy")," : ",Object(W.s)(t),"%"]}),Object(te.jsxs)("p",{children:["USDD ",d.a.get("farm.gov_apy")," : ",Object(W.s)(Object(W.a)(e).times(r)),"%"]})]})},Oe=function(){return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(be,{}),Object(te.jsx)(me,{})]})},xe=function(){return Object(te.jsx)(c.a,{children:function(){return Object(te.jsx)(te.Fragment,{children:Object(te.jsxs)("div",{className:"liquidity-ele liq-ele-new new-farm "+e.myClass+([2].includes(O)?" speed-up-height":""),children:[Object(te.jsx)(q,{}),Object(te.jsx)(re,{}),Object(te.jsx)("div",{className:"liq-earned-staked liq-earned-staked-new status"+O,children:Object(te.jsx)(Oe,{})})]})})}})};return Object(te.jsx)(c.a,{children:function(){return b?Object(te.jsx)(xe,{}):Object(te.jsx)(te.Fragment,{})}})},_t=r(918),Lt=r.p+"static/media/liq-logo.348bc0a6.svg",St=r.p+"static/media/increase-mining-logo.958cf441.svg",Et=r.p+"static/media/pool_config.2c276705.svg",Ct=r.p+"static/media/search-icon.64d170dc.svg",Dt=(r.p,r.p+"static/media/loading-3.53c3e327.png"),Tt=(r(1119),r(1120),r(912)),At=r(911),Pt=r(914),Mt=r(915),It=r(913),Ft=r.p+"static/media/wallet_unconnected.96ce1f27.png",Yt=(r.p,r(821));function Gt(){Gt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},n="function"==typeof Symbol?Symbol:{},c=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var c=t&&t.prototype instanceof f?t:f,o=Object.create(c.prototype),i=new N(n||[]);return a(o,"_invoke",{value:x(e,r,i)}),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var d={};function f(){}function h(){}function j(){}var b={};s(b,c,(function(){return this}));var m=Object.getPrototypeOf,p=m&&m(m(_([])));p&&p!==t&&r.call(p,c)&&(b=p);var v=j.prototype=f.prototype=Object.create(b);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,c,o,i){var s=u(e[a],e,c);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var c;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return c=c?c.then(a,a):a()}})}function x(e,t,r){var a="suspendedStart";return function(n,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw c;return L()}for(r.method=n,r.arg=c;;){var o=r.delegate;if(o){var i=y(o,r);if(i){if(i===d)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}function y(e,t){var r=t.method,a=e.iterator[r];if(void 0===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var c=n.arg;return c?c.done?(t[e.resultName]=c.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):c:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=j,a(v,"constructor",{value:j,configurable:!0}),a(j,"constructor",{value:h,configurable:!0}),h.displayName=s(j,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,s(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(O.prototype),s(O.prototype,o,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,a,n,c){void 0===c&&(c=Promise);var o=new O(l(t,r,a,n),c);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(v),s(v,i,"Generator"),s(v,c,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var a in t)r.push(a);return r.reverse(),function e(){for(;r.length;){var a=r.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=_,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return o.type="throw",o.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n],o=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var i=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(i&&s){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var c=n;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var o=c?c.completion:{};return o.type=e,o.arg=t,c?(this.method="next",this.next=c.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;k(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}var Ht=f.a.TabPane,Rt=R.a.concat(V.a.newFarmKeysShow,V.a.stakeKeys3Show),Ut=V.a.stakeKeys,qt=V.a.defaultId,Bt=V.a.stakeKeys3,Vt=V.a.tokens,Wt=null,zt=null,Qt={one:"2",two:"3",genesis:"1"};function Zt(e){var t=null,r=Object(G.a)(window.navigator).any,u=Object(c.d)((function(){return B.a.pool})),j=Object(c.d)((function(){return B.a.network})),b=Object(c.d)((function(){return B.a.farmStore})),m=Object(n.useState)(function(e){var t=e.tab;return t&&Qt[t]||"3"}(e)),p=Object(l.a)(m,2),v=p[0],g=p[1],O=Object(n.useState)(Object(z.i)()),x=Object(l.a)(O,2),y=x[0],w=x[1],k=Object(n.useState)(u.stakePoolData2),N=Object(l.a)(k,2),_=N[0],L=N[1],S=Object(n.useState)("--"),E=Object(l.a)(S,2),C=E[0],T=E[1],A=Object(n.useState)(Rt),P=Object(l.a)(A,2),M=P[0],I=P[1],H=Object(n.useState)(V.a.morePoolsKeys),Q=Object(l.a)(H,2),Z=Q[0],K=Q[1],X=Object(n.useState)(!1),J=Object(l.a)(X,2),$=J[0],re=J[1],ce=Object(n.useState)(!0),oe=Object(l.a)(ce,2),ie=oe[0],se=oe[1],le=Object(n.useState)(!1),je=Object(l.a)(le,2),be=je[0],pe=je[1],ve=Object(n.useState)(!1),ge=Object(l.a)(ve,2),Oe=ge[0],xe=ge[1],we=Object(n.useState)(u.stakeSwitch),ke=Object(l.a)(we,2),Ne=ke[0],Se=ke[1],Ce=Object(n.useState)(u.stakeSwitchLocking),De=Object(l.a)(Ce,2),Te=De[0],Ae=De[1],Pe=Object(n.useState)(u.stakeTabIndex),Me=Object(l.a)(Pe,2),Ie=Me[0],Fe=Me[1],Ye=u.getLockStakeData,Ge=u.getStakeData,He=u.getStakeApyData,Re=u.getStakePoolData,Ue=u.getStakeApyDataNew,qe=u.getClaimableRewardNew,Be=u.getClaimableRewardNew1,Ve=u.getTotalStakeNotLogin,We=u.getTotalStakeLogin,ze=u.getClaimReward,Qe=u.getApyDataV2New,Ze=window.location.hash.slice(window.location.hash.indexOf("?")+1).split("&").reduce((function(e,t){return Object(a.a)(Object(a.a)({},e),{},Object(s.a)({},t.split("=")[0],t.split("=")[1]))}),{}),Xe=Object(n.useState)(Ze.search||u.stakeSearch),Je=Object(l.a)(Xe,2),$e=Je[0],et=Je[1],tt=Bt.map((function(e){return Vt[e]})).sort((function(e,t){return e.index-t.index})).map((function(e){return e.lpStaker})),rt=function(){var e=Object(i.a)(Gt().mark((function e(){return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ot();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){return function(){u.setData({stakeSwitch:!1}),u.setData({stakeTabIndex:"-1"})}}),[]),Object(n.useEffect)((function(){Ne&&ft(!1)}),[Ne]),Object(n.useEffect)((function(){Te&&dt(!1)}),[Te]),Object(n.useEffect)((function(){var e=[],t=[],r=Object(a.a)(Object(a.a)({},b.farmData),u.stakeData3);"-1"===Ie?(e=Object(o.a)(Rt),t=Object(o.a)(V.a.morePoolsKeys)):"1"===Ie?(e=Object(o.a)(Ee.a.fixedKeys),t=[]):"2"===Ie&&(e=Object(o.a)(V.a.stakeKeys3Show),t=Object(o.a)(V.a.morePoolsKeys)),Ne&&(e=e.filter((function(e){return Object(W.i)(r[e])})),t=t.filter((function(e){return Object(W.i)(r[e])}))),Oe&&Te&&(e=e.filter((function(e){return Object(W.k)(r[e],j.nowTime)})),t=[]),$e&&(e=e.filter((function(e){var t,a,n;return R.a.includes(R.a.toUpper(null===(t=r[e])||void 0===t?void 0:t.symbol),R.a.toUpper($e))||R.a.includes(R.a.toUpper(null===(a=r[e])||void 0===a?void 0:a.token),R.a.toUpper($e))||R.a.includes(R.a.toUpper(null===(n=r[e])||void 0===n?void 0:n.lpStaker),R.a.toUpper($e))})),t=t.filter((function(e){var t,a,n;return R.a.includes(R.a.toUpper(null===(t=r[e])||void 0===t?void 0:t.symbol),R.a.toUpper($e))||R.a.includes(R.a.toUpper(null===(a=r[e])||void 0===a?void 0:a.token),R.a.toUpper($e))||R.a.includes(R.a.toUpper(null===(n=r[e])||void 0===n?void 0:n.lpStaker),R.a.toUpper($e))}))),I(e),K(t)}),[Ie,Ne,Te,be,Oe,$e,b.farmData,u.stakeData3]),Object(n.useEffect)((function(){var e=Object(W.j)(b.farmData,j.nowTime);xe(e);var t=Object(W.h)(Object(a.a)(Object(a.a)({},b.farmData),u.stakeData3));pe(t)}),[b.farmData,u.stakeData3]);var nt=function(){var e=Object(i.a)(Gt().mark((function e(){return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:it(),t||(t=setInterval(Object(i.a)(Gt().mark((function e(){return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:it(),ot();case 2:case"end":return e.stop()}}),e)}))),j.defaultIntervalSec));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){return function(){clearInterval(t)}}),[]),Object(n.useEffect)((function(){return Object(i.a)(Gt().mark((function e(){var t,r;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.w)();case 2:t=e.sent,r=t.time,j.setData({nowTime:r}),ct();case 6:case"end":return e.stop()}}),e)})))(),function(){clearInterval(Wt),clearInterval(zt)}}),[]);var ct=function(){var e=Object(i.a)(Gt().mark((function e(){return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==j.nowTime){e.next=5;break}return e.next=3,Object(Ke.w)();case 3:e.next=6;break;case 5:j.setData({nowTime:j.nowTime+1e3});case 6:null===Wt&&(Wt=setInterval(Object(i.a)(Gt().mark((function e(){return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ct();case 1:case"end":return e.stop()}}),e)}))),1e3)),null===zt&&(zt=setInterval(Object(i.a)(Gt().mark((function e(){var t,r;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.w)();case 2:t=e.sent,r=t.time,j.setData({nowTime:r});case 5:case"end":return e.stop()}}),e)}))),3e4));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ot=function(){var e=Object(i.a)(Gt().mark((function e(){var t,r=arguments;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("3"!==(t=r.length>0&&void 0!==r[0]?r[0]:j.stakeVersion)){e.next=8;break}return e.next=4,b.getFarmStakeApyData();case 4:return e.next=6,b.getTotalSupply();case 6:return e.next=8,Ve(tt);case 8:return e.next=10,Ue();case 10:return e.next=12,He();case 12:return e.next=14,Ye();case 14:w(Object(a.a)({},u["stakeData"+t])),L(Object(a.a)({},u["stakePoolData"+t]));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),it=function(){var e=Object(i.a)(Gt().mark((function e(){var t,r,n=arguments;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:j.stakeVersion,r=j.isConnected,j.stakeVersion,r){e.next=4;break}return e.abrupt("return");case 4:if("3"!==t){e.next=13;break}return e.next=7,b.getUserInfo();case 7:return e.next=9,b.getStakeBalanceInfo();case 9:return e.next=11,b.calculateBoosted();case 11:return e.next=13,b.getGovernanceRewrads();case 13:return e.next=15,Ge(t);case 15:return e.next=17,Re(t);case 17:if("3"!==t){e.next=30;break}return e.next=20,Qe();case 20:return e.next=22,st();case 22:return e.next=24,ze();case 24:return e.next=26,qe();case 26:return e.next=28,Be();case 28:return e.next=30,We(tt);case 30:w(Object(a.a)({},u["stakeData"+t])),L(Object(a.a)({},u["stakePoolData"+t]));case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),st=function(){var e=Object(i.a)(Gt().mark((function e(){var t,r;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j.defaultAccount){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,u.getVoteInfo("0x0000000000000000000000".concat(U.ec.tronWeb.address.toHex(j.defaultAccount)));case 5:(t=e.sent).success&&(r=t.value,T(r)),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){lt()}),[]);var lt=function(){var e=Object(W.F)("modalShow"),t=Object(W.F)("tab")||v;t&&j.setData({modalShow:e,tabValue:t,stakeVersion:t})},ut=function(){var e=j.stakeVersion,t="1"===e?Ut:V.a["stakeKeys"+e];return Object(te.jsxs)("div",{className:"tab-content",children:[Object(te.jsxs)("div",{className:"content-l",children:[Object(te.jsxs)("div",{className:"content-l-title tab-title flex jcsb",children:[Object(te.jsx)("span",{children:d.a.get("newStake.liquidity.title")}),Object(te.jsx)("a",{href:"/?lang=".concat(window.localStorage.getItem("lang"),"#/governance"),children:d.a.get("newStake.liquidity.get_lp_weight")})]}),Object(te.jsx)("div",{className:"content-l-content",children:t.map((function(e){return Object(te.jsx)(ae,{myClass:y[e]&&(r?y[e].mobileShow:y[e].show)?"current":"",id:e,data:y[e],cb:wt,slide:gt},e)}))})]}),Object(te.jsxs)("div",{className:"content-r",children:[Object(te.jsxs)("div",{className:"content-r-title tab-title flex aic jcs",children:[Object(te.jsx)("span",{children:d.a.getHTML("newStake.stake_pool.stake_pool",{symbol:qt.toUpperCase()})}),Object(te.jsx)(h.a,{title:3!=e?d.a.get("newStake.rule.rule".concat(e,".a2")):"",overlayClassName:"stake-tooltip",placement:"top",color:"rgba(27,31,38,0.90)",trigger:"['hover','click']",children:Object(te.jsx)("img",{src:ne.a,className:"ml-2"})})]}),Object(te.jsx)("div",{className:"content-r-content common-block",children:Object(te.jsx)(_e,{stakeVersion:v,stakePoolData:_,cb:wt})})]})]})},dt=function(e){Se(e),u.setData({stakeSwitch:e})},ft=function(e){Ae(e),u.setData({stakeSwitchLocking:e})},ht=function(e){Fe(e),u.setData({stakeTabIndex:e})};Object(n.useEffect)((function(){Te||Ne||$e?(se(!1),re(!0)):(se(!0),re(!1))}),[Te,Ne,$e]);var jt=function(){return Object(te.jsxs)("div",{className:"no-data",children:[Object(te.jsx)("img",{className:"no-data-spin",src:Dt,alt:""}),Object(te.jsx)("div",{children:d.a.get("loading")})]})},bt=function(){return Object(te.jsx)(_t.a,{onClick:function(){ht("-1"),dt(!1)},emptyText:d.a.get("stake.has_no_stake"),btnText:d.a.get("stake.to_stake"),img:Ft})},mt=function(){return Object(te.jsx)(_t.a,{onClick:function(){return j.setData({loginModalVisible:!0,loginModalStep:1})},emptyText:d.a.get("stake.not_connect_wallet"),btnText:d.a.get("stake.to_connect"),img:Ft})},pt=function(){se(!1),re(!0)},vt=function(){j.setData({modalShow:"TipsModal"})},gt=function(e){try{var t=j.stakeVersion;r?u["stakeData"+t][e].mobileShow=!u["stakeData"+t][e].mobileShow:u["stakeData"+t][e].show=!u["stakeData"+t][e].show,w(Object(a.a)({},u["stakeData"+t]))}catch(n){console.log(n)}},Ot=function(e){try{r?b.farmData[e].mobileShow=!b.farmData[e].mobileShow:b.farmData[e].show=!b.farmData[e].show,w(Object(a.a)({},b.farmData))}catch(t){console.log(t)}},xt=function e(t){var r={1:"tab_genesis",2:"tab_phase_one",3:"tab_phase_two"};r[t]&&Object(ee.a)({action:ee.b[r[t]],event_category:ee.h.farm}),"-1"!==t?(j.setData({stakeVersion:t}),g(t),"--"===u["stakePoolData"+t].unlockData&&(it(t),ot(t)),w(Object(a.a)({},u["stakeData"+t])),L(Object(a.a)({},u["stakePoolData"+t]))):e("3")},yt=function(e){return Object(te.jsxs)("div",{className:"stake-tab sub-tab",children:[d.a.get("stakes.phase_".concat(e))," ","two"===e&&Object(te.jsx)("span",{className:"tab-hot"})]})},wt=function(){var e=Object(i.a)(Gt().mark((function e(){var t;return Gt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge();case 2:return e.next=4,Re();case 4:if("3"!==(t=j.stakeVersion)){e.next=18;break}return e.next=8,st();case 8:return e.next=10,ze();case 10:return e.next=12,qe();case 12:return e.next=14,Be();case 14:return e.next=16,We(tt);case 16:return e.next=18,Ue();case 18:w(Object(a.a)({},u["stakeData"+t])),L(Object(a.a)({},u["stakePoolData"+t]));case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),kt=Object(n.useCallback)((function(e){window.location.href=Object(Yt.e)(e)}),[]),Zt=Object(n.useMemo)((function(){return{navList:[{text:d.a.get("newStake.tab.tab_1"),id:"-1",subIcon:At.a,subIconActive:Tt.a,route:"stake/two"},{text:d.a.get("stakes.phase_two"),id:"3",corner:It.a,cornerActive:It.a,route:"stake/two"},{text:d.a.get("stakes.phase_one"),id:"2",route:"stake/one"},{text:d.a.get("newStake.tab.tab_2"),id:"1",subIcon:Pt.a,subIconActive:Mt.a,route:"stake/genesis"}],isCustom:!0,onItemClick:kt,itemActive:function(e){return e.id===v||"-1"===e.id&&"1"!==v},cls:"new-stake-sub-nav",shouldScroll:!0}}),[v]),Kt=Object(n.useMemo)((function(){return Object(te.jsxs)("a",{className:"stake-rule",href:"".concat(V.a.learnMoreLink,"/hc/").concat("en-US"===window.localStorage.getItem("lang")?"en-us":"zh-cn","/articles/4403359171481"),target:"stakeRules",children:[d.a.get("newStake.tab.tab_3"),Object(te.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABRSURBVHgBpZDRCQAgCEQdoREaoZEapQ0awTZrFFMwMJEgOjjw5HkfArCIKIHKzmCWmT3ZRXNnYwQWB45vsAposhzVWxNK2xOQHNAOwL4hmrcWKV2DASTdu+wAAAAASUVORK5CYII="})]})}),[]);return Object(te.jsx)(c.a,{children:function(){var e;return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(q.a,{routeName:"stake",mountedActions:nt,instantActions:rt,subNavProps:Zt}),Object(te.jsxs)("div",{className:"page-head",children:[Object(te.jsx)("div",{className:"gradient-title",children:Object(te.jsx)("span",{className:"stake-hide-for-mobile",children:d.a.get("header.farm")})}),Object(te.jsxs)("div",{className:"dim-content",children:[d.a.get("newStake.banner.desc"),Object(te.jsx)("span",{className:"stake-rule-mobile",children:Kt})]})]}),Object(te.jsx)("div",{className:"wrap"+(r?" wrap-mobile":"")+("en-US"===window.localStorage.getItem("lang")?" wrap-english":""),children:Object(te.jsxs)("div",{className:"stake-tabs stake-tabs-mobile",children:[Object(te.jsxs)(f.a,{activeKey:v,type:"line",onChange:xt,children:[Object(te.jsx)(Ht,{tab:Object(te.jsxs)("div",{className:"stake-tab stake-tab2"+(["2","3"].includes(v)?" tab-active":""),children:[Object(te.jsx)("span",{className:"v-icon"}),Object(te.jsx)("span",{children:d.a.get("newStake.tab.tab_1")})]})},"-1"),Object(te.jsx)(Ht,{tab:yt("two"),children:Object(te.jsxs)("div",{className:"tab-content-new",children:[Object(te.jsx)(ye,{stakePoolData:u.stakePoolData3,vesunBalance:C,cb:wt}),Object(te.jsxs)("div",{className:"content",children:[Object(te.jsxs)("div",{className:"content-l-title tab-title flex jcsb lp-title",children:[Object(te.jsxs)("div",{className:" aic",children:[Object(te.jsx)("img",{className:"liq-pool-img",src:Lt}),Object(te.jsxs)("div",{children:[Object(te.jsx)("div",{className:"liq-pool-title",children:d.a.get("newStake.liquidity.title")}),Object(te.jsx)("div",{className:"liq-pool-subtitle",children:d.a.get("stakes.liquidity_title")})]})]}),Object(te.jsxs)("div",{className:"",children:[(null===(e=u.myPoolList)||void 0===e?void 0:e.length)>0&&Object(te.jsxs)("a",{className:"inrease-reward pool-config",href:"/?lang=".concat(window.localStorage.getItem("lang"),"#/pool_settings"),children:[Object(te.jsx)("img",{src:Et}),d.a.get("pool_config.my_pool_config")]}),Object(te.jsxs)("span",{className:"inrease-reward",onClick:vt,children:[Object(te.jsx)("img",{src:St}),d.a.get("stakes.increase_reward")]})]})]}),Object(te.jsxs)("div",{className:"tab-list",children:[Object(te.jsx)("div",{className:"tab-items",children:Object(te.jsxs)("ul",{children:[Object(te.jsx)("li",{className:"-1"===Ie?"current":"",onClick:function(){return ht("-1")},children:d.a.get("stakes.all")}),Object(te.jsx)("li",{className:"1"===Ie?"current":"",onClick:function(){return ht("1")},children:d.a.get("farm.only_locked")})]})}),Object(te.jsxs)("div",{className:"search-items",children:[Object(te.jsxs)("div",{className:"stake-switch"+(be&&!Object(W.a)(be).isNaN()||Oe&&!Object(W.a)(Oe).isNaN()?"":" mb-0"),children:[Object(te.jsx)(D,{className:Ne?"":"init-switch",checked:Ne,onChange:dt}),Object(te.jsx)("span",{className:Ne?"":"init-switch",children:d.a.get("stakes.only_stake")}),Oe&&Object(te.jsxs)("div",{className:"switchLockingContainer",children:[Object(te.jsx)(D,{className:Te?"":"init-switch",checked:Te,onChange:ft}),Object(te.jsx)("span",{className:Te?"":"init-switch",children:d.a.get("farm.only_locking")})]})]}),Object(te.jsx)(F,{children:Object(te.jsx)(Y.a,{className:"search-lp",addonBefore:Object(te.jsx)("img",{src:Ct}),placeholder:d.a.get("stakes.input_token"),onChange:function(e){return t=e.target.value,t=R.a.trim(t),et(t),void u.setData({stakeSearch:t});var t},value:$e})})]})]}),Object(te.jsx)("div",{className:"content-l-content",children:M.length>0?M.map((function(e){return Ee.a.farmPoolKeys.includes(e)?Object(te.jsx)(Nt,{myClass:b.farmData[e]&&(r?b.farmData[e].mobileShow:b.farmData[e].show)||1===M.length?"current":"",id:e,data:b.farmData[e],slide:Ot},e):Object(te.jsx)(me,{myClass:u.stakeData3[e]&&(r?u.stakeData3[e].mobileShow:u.stakeData3[e].show)||1===M.length?"current":"",id:e,data:u.stakeData3[e],cb:wt,slide:gt},e)})):Z.length>0?Object(te.jsx)(te.Fragment,{}):j.isConnected?Object(W.g)(u.stakeData3,b.farmData)?Object(te.jsx)(bt,{}):Object(te.jsx)(jt,{}):Object(te.jsx)(mt,{})})]}),ie&&Z.length>0&&Object(te.jsxs)("div",{className:"more-pool",onClick:pt,children:[d.a.get("header.more"),Object(te.jsx)("div",{className:"flex liq-slide",children:r?Object(te.jsx)("img",{src:$?he:fe,className:"liq-arrow liq-arrow-m",alt:""}):Object(te.jsx)("img",{src:$?de:ue,className:"liq-arrow",alt:""})})]}),$&&Object(te.jsx)("div",{className:"content-l-content",children:Z.length>0&&Z.map((function(e){return Object(te.jsx)(me,{myClass:u.stakeData3[e]&&(r?u.stakeData3[e].mobileShow:u.stakeData3[e].show)||1===Z.length?"current":"",id:e,data:u.stakeData3[e],cb:wt,slide:gt},e)}))}),Object(te.jsxs)("div",{className:"sun-apply",children:[Object(te.jsxs)("div",{className:"sa-title",children:[Object(te.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJUSURBVHgBbVJLaBNRFL1vZpJJTBoT07SaxEi1gkmK2FoVQkEouKh0IyUbade6KF3ERXaaTV1IRaUgbgQXBaWRggsVXLhSBGnAP4Ya8NNoak0nv5nM773nS+poKn2rezn33HvPuQ+g42nF6UNWbLy9cMp8OTH5F/s6NdBZy1mBXJi6CIh+oGsziTbQFbzOhceuUbpsU16NhwjRXqvFszcozbQ5gkXUpQ2JNBoVgxMTdCVdBf+xGNj8gPPZMayrDio1CTjsa45QhmyZ6Bt+OI8r5aOk/qNARE8KXAcBxF7gPP5pTKhEVTLiiT6+bNWj1aXjfn9475y994TAOXeKYPe4QQyeBEd0B4OZuIIJcv4JqJJM1Kqu194ZVcVMCy6fjjXkHOW8QxFbVwQQ4v8somy2FgMC2H2nAeuA1QroSmPdTj5fQi2s9Px8j9PVvGrfk5gU/XFAnO2fCoqBEg202io0S2+e2UQ80dU/9xNZO1Oa5Gu5yhVXKJ7ifcx55N4kEwVIfQWUYuGuKg+eC4yk621XaYahsSRrkKWCNPAU8xspBB8B8Q5G5thAA/D6LyDF6ovu5XsyXQQekkAFyACFTJZpA1K53xjnhDqYpAYGRmxFABtHAbFLEEkfRRmYpyxteYY6f0N5IfieR0bMAF4DwTnLC6RMZH2WI6aXanx9l+YOoJlP2pY7flsMO5kPB8wmf8fU3EPeaFx27u/rMWQ6aCjCLRMT93ck98F2r7zQ77Hi6oPDuepSPG/lX25GfJ21aLsGLR2l2/sesRDvPtJ9Bg3njP9rfgOh0gNrRbz08wAAAABJRU5ErkJggg=="}),Object(te.jsx)("span",{children:d.a.get("v2.des_1")})]}),Object(te.jsx)("div",{children:Object(te.jsx)("span",{children:d.a.getHTML("v2.des_2",{href1:V.a.applyForm,href2:"en-US"===window.localStorage.getItem("lang")?V.a.howToApplyEN:V.a.howToApplyCN})})})]})]})},"3"),Object(te.jsx)(Ht,{tab:yt("one"),children:Object(te.jsx)(ut,{})},"2"),Object(te.jsx)(Ht,{tab:Object(te.jsxs)("div",{className:"stake-tab stake-tab1",children:[Object(te.jsx)("span",{className:"v-icon"}),Object(te.jsx)("span",{children:d.a.get("newStake.tab.tab_2")})]}),children:Object(te.jsx)(ut,{})},"1")]}),Object(te.jsx)("span",{className:"stake-rule-pc",children:Kt})]})}),Object(te.jsx)(Le.a,{modalShow:j.modalShow,cb:wt}),Object(te.jsx)(at,{modalShow:j.modalShow,cb:wt})]})}})}r(799);function Kt(e){return Object(te.jsx)(c.a,{children:function(){return Object(te.jsx)(Zt,Object(a.a)({},e))}})}},799:function(e,t,r){},815:function(e,t,r){"use strict";t.a=r.p+"static/media/CloseForModal.52a9fef9.svg"},822:function(e,t,r){"use strict";t.a=r.p+"static/media/tooltipIcon.4bfb19ca.svg"},906:function(e,t,r){"use strict";t.a=r.p+"static/media/gray-drop.cdc278f0.svg"},973:function(e,t,r){"use strict";t.a=r.p+"static/media/tooltipWhiteIcon.29faa0dd.svg"},974:function(e,t,r){"use strict";t.a=r.p+"static/media/calculator.9bfb3572.svg"}}]);