(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[22,30],{1050:function(e,t,a){"use strict";a.d(t,"a",(function(){return N}));var c=a(1424),s=a(1953),n=a(99),o=a(70),l=a(1),i=a(11),r=a.n(i),b=(a(961),a(269)),d=a(937),j=a(938),u=a(4),p=a(68),O=a(8),g=a(18),m=a(0),h=a(35),f=a(917),x=a(918),v=a(912),w=a(169),y=a(98),S=a(3);let{tokens:_}=u.default;const A=2;function N(e){const{curveConfig:t,initParams:a}=e,{busd2PoolPools:i,busd2PoolIndex:u,busdUsdPoolIndex:N,busdusdPools:P,busd2PoolKeys:k,busdusdPoolKeys:L,busd2PoolContracts:C,curveLPSymbol:T,twoPoolUsdLpKey:D}=t,{usdcSwap:B}=C,[U,I]=Object(l.useState)(0),[F,z]=Object(l.useState)(1),[M,V]=Object(l.useState)(1),[H,E]=Object(l.useState)(1),[R,K]=Object(l.useState)(-1),[J,Z]=Object(l.useState)(1),[Y,q]=Object(l.useState)(.005),[W,X]=Object(l.useState)(""),[Q,G]=Object(l.useState)(!0),[$,ee]=Object(l.useState)(""),[te,ae]=Object(l.useState)(!1),ce=(Object(n.a)(window.navigator).any,Object(o.d)((()=>p.default.network))),se=Object(o.d)((()=>p.default.system)),ne=Object(o.d)((()=>Object(h.d)({Stores:p.default,poolType:D,baseStoreName:"busdPool"}))),[oe,le]=Object(l.useState)(!1),[ie,re]=Object(l.useState)(!1),[be,de]=Object(l.useState)(ne.poolData1),[je,ue]=Object(l.useState)(u);Object(l.useEffect)((()=>{ne.initPage(a),ge({i:U,j:M,dx:F,checked:ie})}),[]),Object(l.useEffect)((()=>{ie?(de(ne.poolData2),ue(N)):(de(ne.poolData1),ue(u))}),[ie,ne.poolData1,ne.poolData2]);const pe=()=>{try{let e=U,t=M;return te&&([e,t]=[t,e]),Object(S.jsx)(S.Fragment,{children:_[je[e]].symbol+"/"+_[je[t]].symbol})}catch(e){return Object(S.jsx)(S.Fragment,{})}},Oe=e=>{let{...t}=e;ae(!te),me({...t,exchangeFlags:!te,checked:ie})},ge=async e=>{let{...t}=e;try{let e=void 0===t.i?U:t.i,a=void 0===t.j?M:t.j,c=void 0===t.dx?F:t.dx,s=t.checked?N:u,n=t.checked?P:i;if(!Object(m.db)(c).gt(0))return void E(0);let o=Object(m.db)(c).times(n[s[e]].precision)._toIntegerDown()._toHex(),l=null;if(l=t.checked?await Object(O.S)(e,a,o,B):await Object(O.nb)(e,a,o,B),l.success){let e=Object(m.a)(l.value).div(n[s[a]].precision);E(Object(m.c)(Object(m.a)(e)._toFixed(n[s[a]].decimal,1))),Z(Object(m.a)(l.value))}else E(0),Z(1);t.notChangeRate||me({i:e,j:a,dx:c,checked:t.checked})}catch(a){console.log("getDyData: ",a)}},me=async e=>{let{...t}=e;try{let e=void 0===t.i?U:t.i,a=void 0===t.j?M:t.j,c=void 0===t.dx?F:t.dx,s=void 0===t.exchangeFlags?te:t.exchangeFlags,n=t.checked?N:u,o=t.checked?P:i,l=Object(m.db)(c).times(o[n[e]].precision)._toIntegerDown()._toHex(),r=null;if(!Object(m.db)(c).gt(0))return;if(r=t.checked?await Object(O.S)(e,a,l,B):await Object(O.nb)(e,a,l,B),r.success){let e=Object(m.a)(r.value).div(o[n[a]].precision).div(Object(m.db)(c));K(s?Object(m.a)(1).div(Object(m.a)(e)._toFixed(4,1))._toFixed(4,1):e._toFixed(4,1))}}catch(a){console.log("getRateData: ",a)}},he=e=>{let t=ie?P:i,a=U;Number(e)!==Number(M)&&(a=M),V(a),I(e);let c=Object(m.db)(F)._toFixed(t[je[e]].decimal,1);z(Object(m.c)(c)),ge({i:e,j:a,dx:c,checked:ie})},fe=e=>{let t=ie?P:i,a=M;Number(e)!==Number(U)&&(a=U),I(a),V(e);let c=Object(m.db)(F)._toFixed(t[je[a]].decimal,1);z(Object(m.c)(c)),ge({j:e,i:a,dx:c,checked:ie})},xe=e=>{!oe&&le(!0);let t=ie?P:i;const{valid:a,str:c}=Object(m.T)((""+e).replace(/,/g,""),t[je[U]].decimal);let s=be&&be[je[U]]&&Object(m.a)(be[je[U]].balance).div(t[je[U]].precision)._toFixed(2,1);if(a){if(Object(m.a)(c).lte(0))return z(Object(m.c)(c)),E(0),void ee(r.a.get("buysell.error_msg_1"));Object(m.a)(c).gt(s)&&ee(r.a.get("buysell.error_msg_2")),z(Object(m.c)(c)),ge({dx:c,checked:ie})}},ve=e=>{try{let t="--";return t=e[je[U]].balance,t=Object(m.a)(t).isNaN()?"--":e[je[U]].balance.div(e[je[U]].precision),Object(S.jsx)("span",{children:e&&Object(m.u)(t)})}catch(t){}},we=()=>{try{let{precision:e,balance:t,symbol:a}=be[je[U]];return t=Object(m.a)(t).div(e),Object(m.db)(F).eq(0)||Object(m.db)(F).isNaN()?(ee(r.a.get("error.e1")),!0):Object(m.db)(F).gt(t)?(ee(r.a.get("error.e2",{token:a})),!0):2===Y&&(!W||Number(W)<.1||Number(W)>50)?(ee(r.a.get("error.e5")),!0):(ee(""),!1)}catch(e){return!1}};Object(l.useEffect)((()=>{oe&&we()}),[U,M,F,Y,W]);const ye=()=>{let e=ie?P:i,t=be&&Object(m.a)(be[je[U]].balance).div(e[je[U]].precision);xe(t)},Se=()=>{const e=Object(y.useCurrentTheme)();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{children:Object(S.jsx)(c.a,{checked:ie,onChange:async e=>{let t=e.target.checked,a=t?N:u;re(t);let c=0,s=1,n=Object(m.db)(F);var o,l;(t||(c=2,s=0),t)?"--"===(null===(o=ne.poolData2[a[c]])||void 0===o?void 0:o.balance)&&(await ne.getBalanceInfo(B,L,"2usdlp"),de(ne.poolData2),ue(N)):"--"===(null===(l=ne.poolData1[a[c]])||void 0===l?void 0:l.balance)&&(await ne.getBalanceInfo(B),de(ne.poolData1),ue(u));I(c),V(s),z(Object(m.c)(n)),ge({i:c,j:s,dx:n,checked:t,notChangeRate:!0}),me({no:1,i:c,j:s,dx:n,checked:t})},children:r.a.get("buysell.".concat("2Pool_2"===D?"2Pool_2lp_swap":"2usdlp_swap"))})}),Object(S.jsxs)("div",{className:"exchang-rate-text mt-20",children:[Object(S.jsxs)("span",{className:"en-US"===window.localStorage.getItem("lang")?"er-en":"",children:[r.a.get("buysell.exchange_rate",{symbol:"3Pool LP"})+" ",Object(S.jsx)(pe,{})]}),Object(S.jsx)("img",{style:{cursor:"pointer",margin:"0 6px"},alt:"",src:"dark"===e?d.a:j.a,onClick:Oe}),"(",Object(S.jsxs)("span",{children:[r.a.get("buysell.including_fees"),"): ",-1===R?r.a.get("buysell.not_available"):R]})]})]})},_e=()=>Object(S.jsx)(S.Fragment,{children:$?Object(S.jsx)(v.a,{styleName:"mt-40",type:"single",disabled:!0,info:r.a.get("sell_btn")}):Object(S.jsx)(v.a,{styleName:"mt-40",type:"single",info:r.a.get("sell_btn"),onClick:async()=>{const t=async()=>{if(!$)try{var t,a;let c=2!==Y?Y:W?Object(m.a)(W).div(100):0,s=Object(m.a)(J).times(Object(m.a)(1).minus(Object(m.a)(c)))._toIntegerDown()._toHex(),n=U,o=M,l=ie?P:i,r=Object(m.db)(F).times(l[je[n]].precision)._toIntegerDown()._toHex();const b={title:"notification.tip1",title2:"notification.tip1",title3:"notification.tip1",title4:"notification.tip1",obj:{fromValue:Object(m.u)(Object(m.db)(F)),fromToken:null===(t=_[je[n]])||void 0===t?void 0:t.symbol,toValue:Object(m.u)(Object(m.db)(H)),toToken:null===(a=_[je[o]])||void 0===a?void 0:a.symbol}};let d="";d=ie?await se.toExchangeUsdcNew(n,o,r,s,b,[["pool/updateCurrencyData"]],B):await se.toUsdcExchange(n,o,r,s,b,[["pool/updateCurrencyData"]],B),d&&(setTimeout((()=>{ie?ne.getBalanceInfo(B,L,"2usdlp"):ne.getBalanceInfo(B)}),5e3),e.onSubmit&&e.onSubmit(d))}catch(c){console.log("sellSubmit: ",c)}};if(!ce.isConnected)return void ee(r.a.get("buysell.error_msg_3"));if(!oe&&le(!0),!$){if(we())return}if($)return;let a=ie?P:i;try{let e=(await Object(O.Tb)(window.defaultAccount,[a[je[U]].token],[B]))[B].allowance;const{approveStatus:c}=be[je[U]];if(e.gt(0)||c)t();else{const e={action:"approve",title:"deposit.approve_token",obj:{value:_[(ie?L:k)[U]].symbol},continuous:!0};let c=a[je[U]].token;if(!await se.approveToken(c,B,e,[["pool/getBalanceInfo"]]))return;be[je[U]].approveStatus=2,t()}}catch(c){console.log("exchangeBefore: ",c)}}})}),Ae=e=>{!oe&&le(!0),q(e),2!==e&&X("")},Ne=e=>{!oe&&le(!0);const{valid:t,str:a}=Object(m.T)(e,10);if(t)if(""===a)X("");else if(Object(m.a)(a).lte(100)){var c;let e=a,t=a.split(".");(null===(c=t[1])||void 0===c?void 0:c.length)>2&&(e="".concat(t[0]+"."+t[1].substr(0,2))),X(e)}},Pe=e=>{let{direction:t="left"}=e,a=ie?L:k,c=ie?P:i;return Object(S.jsx)("div",{className:"flex start mb-16 pc-input-box",children:a.map((e=>{const a="2usdlp"===e||"2Pool_2"===e?g.b[T]?g.b[T]:b.default:g.b[e]?g.b[e]:b.default,s="left"===t?U:M;return Object(S.jsx)(f.a,{id:e,checked:s===c[e].index,tokenLogo:a,symbol:c[e].symbol,onChange:(a,s)=>{"left"===t?he(c[e].index):fe(c[e].index)}})}))})},ke=()=>Object(S.jsx)("span",{className:"exchange-alt",onClick:()=>(()=>{!oe&&le(!0);let e=U,t=M,a=H;e!==t&&(I(t),V(e),z(a),ge({i:t,j:e,dx:a,notChangeRate:!0,checked:ie}),me({no:1,i:t,j:e,dx:a,checked:ie}))})()}),Le=Object(w.default)(w.isMobileOnlyMedia);return Object(S.jsx)(o.a,{children:()=>Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"exchange-box",children:[Object(S.jsx)(Pe,{direction:"left"},"left"),Object(S.jsxs)("div",{className:"input-block",children:[Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)("div",{className:"input-number",children:Object(S.jsx)(s.a,{className:"input",value:F,onChange:e=>xe(e.target.value)})}),Object(S.jsx)("span",{className:"max-btn",onClick:ye,children:r.a.get("sunSwapV3.swap.input_from_max")})]}),Object(S.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(S.jsx)("span",{children:r.a.get("sunSwapV3.swap.input_from_balance")})," ",ve(be)]})]}),Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)(ke,{}),!Le&&Object(S.jsx)("div",{className:"flex start",children:Object(S.jsx)(x.a,{type:"exchange",slippage:Y,customSlippage:W,CUSTOM_SLIPPAGE:A,onChangeSlippage:e=>{Ae(Number(e))},onChangeCustomSlippage:e=>{q(2),Ne(e)}})})]}),Object(S.jsx)(Pe,{direction:"right"},"right"),Object(S.jsxs)("div",{className:"input-block",children:[Object(S.jsx)("div",{className:"input-number",children:Object(S.jsx)(s.a,{disabled:!0,className:"input",value:H})}),Object(S.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(S.jsx)("span",{children:r.a.get("sunSwapV3.swap.input_from_balance")})," ",ve(be)]})]}),Object(S.jsx)(Se,{}),Le&&Object(S.jsx)("div",{className:"flex start",children:Object(S.jsx)(x.a,{type:"exchange",slippage:Y,customSlippage:W,CUSTOM_SLIPPAGE:A,onChangeSlippage:e=>{Ae(Number(e))},onChangeCustomSlippage:e=>{q(2),Ne(e)}})})]}),Object(S.jsx)(_e,{}),$&&Object(S.jsx)("div",{className:"error-content mt-12",children:Object(S.jsx)("div",{className:"error-tip",children:$})})]})})}},1051:function(e,t,a){"use strict";var c=a(1),s=a(11),n=a.n(s),o=a(12),l=a(70),i=a(1317),r=a(1319),b=a(1424),d=a(269),j=(a(968),a(933),a(18)),u=a(0),p=a(4),O=a(68),g=a(910),m=a(921),h=(a(929),a(964)),f=a(310),x=a(916),v=a(912),w=a(8),y=a(109),S=a(35),_=a(971),A=a(911),N=a(915),P=a(914),k=a(924),L=a(930),C=a(306),T=a(3);const{usdcInfo:D,defaultSlippage:B,busdCommonPools:U,tokens:I}=p.default,{ALL_FEE:F}=D,z=e=>{const t={};return e.map((e=>{t[e]=""})),t};t.a=e=>{const t=Object(l.d)((()=>O.default.network)),a=Object(l.d)((()=>O.default.system)),{curveConfig:s,initParams:D,pageList:M,tabPaneKey:V}=e;let{busd2PoolPools:H,busdusdPools:E,busd2PoolKeys:R,busdusdPoolKeys:K,busd2PoolContracts:J,curveSymbol:Z,curveLPSymbol:Y,twoPoolUsdLpKey:q="2usdlp",busd2Pool_2CommonPools:W}=s,{USDCDepositer:X,usdcSwap:Q,stablePool:G}=J;I[q].symbol,I[q].token;const $="2Pool_2"===q,ee=Object(l.d)((()=>Object(S.d)({Stores:O.default,poolType:q,baseStoreName:"busdPool"}))),te=Object(l.d)((()=>Object(S.d)({Stores:O.default,poolType:q,baseStoreName:"usd2Pool"}))),[ae,ce]=Object(c.useState)(!1),[se,ne]=Object(c.useState)(!0),[oe,le]=Object(c.useState)(!1),[ie,re]=Object(c.useState)(!0),[be,de]=Object(c.useState)(!1),[je,ue]=Object(c.useState)("--"),[pe,Oe]=Object(c.useState)("--"),[ge,me]=Object(c.useState)(!1),[he,fe]=Object(c.useState)(!1),[xe,ve]=Object(c.useState)(!1),[we,ye]=Object(c.useState)(ee),[Se,_e]=Object(c.useState)(R),[Ae,Ne]=Object(c.useState)(H),[Pe,ke]=Object(c.useState)((()=>z(R))),[Le,Ce]=Object(c.useState)((()=>z(K))),[Te,De]=Object(c.useState)(Pe);let Be=null,Ue=null;window.localStorage.getItem("lang");const Ie=$?W:U;Object(c.useEffect)((()=>{oe?(ye(te),_e(K),De(Le),Ne(E)):(ye(ee),_e(R),De(Pe),Ne(H))}),[oe]),Object(c.useEffect)((async()=>{await Promise.all([Ke(Te),Me()]),ge&&Ee(Te)}),[Te]);const Fe=async()=>{if(oe)return{success:!0,value:Te[q]?Object(u.db)(Te[q]).times(Ae[q].precision):Object(u.a)(0)};try{const e=[];for(let t in Ie){const{index:a,precision:c}=Ie[t];e[a]=Object(u.db)(Te[t]).isNaN()?0:Object(u.db)(Te[t]).times(c)._toIntegerDown()._toHex()}return await Object(w.h)(G,e)}catch(e){return{success:!1}}},ze=async c=>{try{e.onSubmit&&e.onSubmit();const s=[];Se.map((e=>{s.push({...we.poolData[e],inputValue:c[e]?Object(u.db)(c[e]).times(Ae[e].precision):Object(u.a)(0)})}));let n="".concat(Object(S.a)({poolType:q}),"/getBalanceInfo"),o=X;oe&&(n="".concat(Object(S.f)({poolType:q}),"/getBalanceInfo"),o=Q);for(let e=0;e<s.length;e++){let{allowance:c=Object(u.a)(0),inputValue:l,token:i,symbol:r,approveStatus:b,id:d}=s[e];if(console.log("approveAddress",d,c,"allowance",l,c.toFixed(),b,s),Object(y.a)({txid:"".concat(d,"_").concat(c.toFixed(),"_").concat(l.toFixed(),"_").concat(b),category:"debug_busd",waddr:t.defaultAccount}),Object(u.a)(c).lt(l)&&!b){if(!await a.approveToken(i,o,{title:"deposit.approve_token",obj:{value:r},continuous:!0},[[n]]))return;we.poolData[d].approveStatus=2}}const l=s.sort(((e,t)=>e.index-t.index)),i=l.length,r=l.map((e=>e.inputValue._toIntegerDown()._toHex()))||[];let b=null;if(we.lpTotalSupply.lte(0)&&await we.getSwapBalance(),we.lpTotalSupply.lte(0)){const e=await Fe();if(!e.success)return;b=e.value.div(1e18).plus(Object(u.db)(c[Z]||0))}else{let e={};if(e=oe?await Object(w.g)(r,!0,Q):await Object(w.f)(r,!0,X),!e.success)return;b=e.value}b=b.times(Object(u.a)(1).minus(Object(u.a)(F).times(i).div(Object(u.a)(4).times(i-1)).div(1e10)));const d=b.times(1-B)._toIntegerDown()._toHex();let j;if(oe){const e={title:"actions.addLiq",obj:{detail:$?Object(_.a)(c,Y):Object(u.A)(c,Y)},forTransitionModal:{title:"banner.title_deposit",symbols:$?Object(_.a)(c,Y):Object(u.A)(c,Y)}};j=await a.addLiquidityBUSDBy2USD(r,Q,d,e,[["".concat(Object(S.f)({poolType:q}),"/updateCurrencyData")]])}else{const e={title:"actions.addLiq",obj:{detail:$?Object(_.a)(c,Z+"lp"):Object(u.A)(c,Z+"lp")},forTransitionModal:{title:"banner.title_deposit",symbols:$?Object(_.a)(c,Z+"lp"):Object(u.A)(c,Z+"lp")}};j=await a.addLiquidityBUSD(r,X,d,e,[["".concat(Object(S.a)({poolType:q}),"/updateCurrencyData")]])}j&&We()}catch(s){console.log("deposit err: ",s)}},Me=async()=>{try{const e=[];let t=!1;for(let c in Te){const{index:a,precision:s}=Ae[c];e[a]=Object(u.db)(Te[c]).isNaN()?0:Object(u.db)(Te[c]).times(s)._toIntegerDown()._toHex(),Object(u.a)(e[a]).gt(0)&&(t=!0)}if(!t)return void Oe(Object(u.a)(0));let a=null;if(we.lpTotalSupply.lte(0)&&await we.getSwapBalance(),we.lpTotalSupply.lte(0)){const e=await Fe();if(!e.success)return;a=e.value.div(1e18).plus(Object(u.db)(Te[Z]))}else{let t={};if(t=oe?await Object(w.g)(e,!0,Q):await Object(w.f)(e,!0,X),!t.success)return;a=t.value.div(1e18)}Oe(a)}catch(e){console.log(e)}},Ve=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(te.getSwapBalance(),te.getVirtualPriceBUSD(Q),te.getVolData(),te.getPoolInfo()):(ee.getSwapBalance(),ee.getVirtualPriceBUSD(Q),ee.getVolData(),ee.getPoolInfo())},He=async function(){const e={};arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(await te.getSwapBalance(),te.getUserLp(),await te.getBalanceInfo(),K.map((t=>{const{precision:a,balance:c,decimal:s}=te.poolData[t];e[t]=Object(u.c)(Object(u.a)(c).div(a)._toFixed(s,1))})),Ce(e)):(await ee.getSwapBalance(),ee.getUserLp(),await ee.getBalanceInfo(),R.map((t=>{const{precision:a,balance:c,decimal:s}=ee.poolData[t];e[t]=Object(u.c)(Object(u.a)(c).div(a)._toFixed(s,1))})),ke(e),De(e)),re(!1),De(e),!ge&&me(!0),Be||(Be=setInterval((async()=>{Ve(),ee.getUserLp()}),t.defaultIntervalSec))};Object(c.useEffect)((()=>{!Ue&&oe&&(Ue=setInterval((async()=>{Ve(!0),await te.getUserLp()}),t.defaultIntervalSec))}),[oe]),Object(c.useEffect)((()=>{const e=Object(o.p)((()=>t.defaultAccount),(()=>{He(),Ve()}));return()=>{e()}}),[]),Object(c.useEffect)((()=>{ee.resetData(),te.resetData()}),[]),Object(c.useEffect)((()=>(ee.initPage(D),te.initPage(D),He(),Ve(),()=>{clearInterval(Be),clearInterval(Ue)})),[t.defaultAccount]);const Ee=e=>{const t=Object.keys(e),a=t.length;if(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object.keys(e),a=t.filter((t=>Object(u.db)(e[t]).eq(0)||!e[t]));return t.length===a.length}(e))return de(n.a.get("error.e1")),!0;for(let c=0;c<a;c++){const a=t[c],s=e[a];if(!s&&(ae||se))return de(n.a.get("error.e1")),!0;if(we.poolData[a]){const{balance:e,precision:t,symbol:c}=we.poolData[a];if(Object(u.a)(e).div(t).lt(Object(u.db)(s)))return de(n.a.get("error.e2",{token:c})),!0}}return de(!1),!1},Re=e=>{ve(e.target.checked)},Ke=async e=>{const t=await we.calcInclPrice(e);ue(t)},Je=async(e,t)=>{try{const a=t,c={};c[e]=Object(u.c)(a);const{precision:s,swapBalance:n,balance:o}=we.poolData[e],{sun3LpBalance:l,sun3TotalSupply:i,balancesUsdc:r}=we.swapBalanceInfo,b=Object(u.db)(a).div(n).isNaN()?Object(u.a)(0):Object(u.db)(a).div(n);if(e===Z){if(oe){const{swapBalance:e,decimal:t}=we.poolData[q];return c[q]=Object(u.c)(e.times(b)._toFixed(t,1)),De(c)}const t=Se.filter((t=>t!==e)),a=b.times(l).div(i);return t.map((e=>{const{balance:t=Object(u.a)(0),swapBalance:s,precision:n,decimal:o}=we.poolData[e];c[e]=Object(u.c)(a.times(s)._toFixed(o,1)),t.div(n).lt(Object(u.db)(c[e]))&&(c[e]=Object(u.c)(t.div(n)._toFixed(o,1)))})),De(c)}const d=Se.filter((t=>t!==e&&t!==Z)),j={[e]:Object(u.c)(a)};d.map((e=>{const{balance:t=Object(u.a)(0),swapBalance:a,precision:c,decimal:s}=we.poolData[e];j[e]=Object(u.c)(b.times(a)._toFixed(s,1)),t.div(c).lt(j[e])&&(j[e]=Object(u.c)(t.div(c)._toFixed(s,1)))}));let O=Object(u.a)(0);if(oe)t&&(O=Object(u.db)(t).times(Ae[q].precision));else{const e=[];for(let a in j){const{index:t,precision:c}=Ie[a];e[t]=Object(u.db)(j[a]).isNaN()?0:Object(u.db)(j[a]).times(c)._toIntegerDown()._toHex()}const t=await Object(w.h)(G,e);if(!t.success)return;O=t.value}const g=Object(u.a)(O).div(Object(u.a)(l).times(p.default.defaultVotePrecision)),m=we.poolData[Z],h=g.isNaN()?0:g.times(r)._toFixed(m.decimal,1);c[Z]=m.balance.div(m.precision).lt(h)?Object(u.c)(m.balance.div(m.precision)._toFixed(m.decimal,1)):Object(u.c)(h),De({...c,...j})}catch(a){console.log(a)}},Ze=async e=>{try{const t=e.target.checked;ce(t),se&&ne(!t),t&&Je(Se[0],Object(u.db)(Te[Se[0]]))}catch(t){console.log(t)}},Ye=async e=>{try{const t=e.target.checked;ne(t),ae&&ce(!t);const a={};Se.map((e=>{const{balance:t=Object(u.a)(0),precision:c,decimal:s}=we.poolData[e];a[e]=Object(u.a)(t).isNaN()?0:Object(u.c)(t.div(c)._toFixed(s,1))})),De(a)}catch(t){console.log(t)}},qe=async e=>{try{const t=e.target.checked;le(t),ce(!1),ne(!0),e.target.checked?clearInterval(Be):clearInterval(Ue),Ve(e.target.checked),He(e.target.checked)}catch(t){console.log(t)}},We=()=>{ve(!1),fe(!1)},Xe=Object(C.b)();return Object(T.jsx)(l.a,{children:()=>Object(T.jsxs)(i.a,{...N.a.row,children:[Object(T.jsxs)(r.a,{...N.a.colLeft,children:[Object(T.jsx)(A.a,{list:M,activeKey:V[0]}),Object(T.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(g.a,{routeName:"usdc/deposit",mountedActions:He,instantActions:Ve}),Object(T.jsx)(m.a,{title:n.a.get("buysell.busd_2pool")+" "+n.a.get("banner.title_deposit"),desc:n.a.get("banner.desc_deposit")}),Object(T.jsx)(x.a,{})]}):null,t.isConnected?Object(T.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(T.jsxs)("div",{className:"add-liq",children:[Object(T.jsx)("fieldset",{className:"currencies",children:Object(T.jsx)("ul",{children:Se.map((e=>{let{symbol:t="",balance:a="--",precision:c,decimal:s}=we.poolData[e];return a=Object(u.a)(a).div(c),Object(T.jsxs)("li",{children:[Object(T.jsxs)("div",{className:"cur-label",children:[Object(T.jsxs)("span",{className:"icon",children:[e===q?Object(T.jsx)("img",{src:j.b[Y]?j.b[Y]:d.default,alt:"",className:"token-logo"}):Object(T.jsx)("img",{src:j.b[e]?j.b[e]:d.default,alt:"",className:"token-logo"})," ",t]}),Object(T.jsx)("span",{className:"token-max",children:n.a.getHTML("deposit.token_max",{balance:Object(u.u)(a)})})]}),Object(T.jsx)(k.a,{value:Te[e],onChange:t=>((e,t)=>{se&&ne(!1);const{decimal:a}=Ae[t],{valid:c,str:s}=Object(u.T)((""+e.target.value).replace(/,/g,""),a);c&&(De({...Te,[t]:Object(u.c)(s)}),ae&&Je(t,s))})(t,e),onMaxClick:()=>{((e,t,a)=>{if(Object(u.a)(t).isNaN())return;const c=Object(u.a)(t)._toFixed(a,1);De({...Te,[e]:Object(u.c)(c)}),ae&&Je(e,c)})(e,a,s)}})]},e)}))})}),!Object(u.a)(je).isNaN()&&Object(u.Y)(je,!0),Object(T.jsxs)("div",{className:"deposit-check",children:[Object(T.jsx)(b.a,{checked:ae,disabled:ie,onChange:Ze,children:n.a.get("deposit.ch1")}),Object(T.jsx)("br",{}),Object(T.jsx)(b.a,{checked:se,disabled:ie,onChange:Ye,children:n.a.get("deposit.ch2")}),Object(T.jsx)("br",{}),Object(T.jsx)(b.a,{checked:oe,disabled:ie,onChange:qe,children:n.a.get("2usdlp"===q?"deposit.ch5":"deposit.ch6")})]}),be?Object(T.jsx)(v.a,{styleName:"mt-40",type:"single",disabled:!0,info:n.a.get("deposit.action")}):Object(T.jsx)(v.a,{styleName:"mt-40",type:"single",info:Xe?n.a.get("not_available"):n.a.get("deposit.action"),onClick:()=>(async e=>{try{if(!be&&Ee(e))return;if(be)return;if(Object(u.a)(je).abs().gt(10))return fe(!0);await ze(e)}catch(t){console.log(t)}})(Te),disabled:Xe}),be&&Object(T.jsx)("div",{className:"error-content mt-12",children:Object(T.jsx)("div",{className:"error-tip",children:be})}),Object(u.a)(pe).gt(0)&&Object(T.jsxs)("div",{className:"error-content mt-12",children:[Object(T.jsxs)("div",{className:"error-tip",children:[n.a.getHTML("deposit.swap_detail",{value:Object(u.u)(pe,2),symbol:"".concat(Z.toUpperCase()," ").concat("2Pool_2"===q?"2Pool_2":"2USD"," LP")})," "]}),Object(T.jsx)("div",{className:"error-tip",children:n.a.get("deposit.exchange_rate",{value:Object(u.u)(we.virtualPrice,6),symbol:"".concat(Z.toUpperCase()," ").concat("2Pool_2"===q?"2Pool_2":"2USD"," LP")})})]})]})}):Object(T.jsx)(P.a,{}),Object(T.jsx)(f.a,{}),Object(T.jsx)(L.a,{confirmSlippageCheck:xe,onChangeConfirmSlippageCheck:Re,open:he,closable:!0,onCancel:We,onOk:()=>ze(Te),value:Object(u.u)(Object(u.a)(je).abs(),3),okText:n.a.get("deposit.anyway")})]})]}),Object(T.jsx)(r.a,{...N.a.colRight,children:Object(T.jsx)(h.a,{type:oe?"2usdlp":Z,curveConfig:s})})]})})}},1052:function(e,t,a){"use strict";var c=a(1),s=a(11),n=a.n(s),o=a(1317),l=a(1319),i=a(314),r=a(894),b=a(269),d=a(70),j=a(68),u=a(18),p=a(4),O=a(8),g=a(0),m=a(964),h=a(910),f=a(921),x=(a(929),a(916)),v=a(35),w=a(971),y=a(917),S=a(912),_=a(918),A=a(911),N=a(914),P=a(924),k=a(3);let{usdcInfo:L,tokens:C}=p.default;const{ALL_FEE:T}=L,D="---",B="CUSTOM";t.a=e=>{const t=Object(d.d)((()=>j.default.system)),a=Object(d.d)((()=>j.default.network)),{curveConfig:s,initParams:p,pageList:L,tabPaneKey:U}=e;let{busd2PoolPools:I,busdusdPools:F,busd2PoolKeys:z,busdusdPoolKeys:M,busd2PoolContracts:V,curveSymbol:H,curveLPSymbol:E,twoPoolUsdLpKey:R="2usdlp"}=s;const K=Object(d.d)((()=>Object(v.d)({Stores:j.default,poolType:R,baseStoreName:"busdPool"}))),J=Object(d.d)((()=>Object(v.d)({Stores:j.default,poolType:R,baseStoreName:"usd2Pool"}))),Z=Object(v.f)({poolType:R}),Y=Object(v.a)({poolType:R}),q="2Pool_2"===R;let{USDCDepositer:W,usdcSwap:X,stablePool:Q}=V;const G=C["".concat(H).concat("2Pool_2"===R?"2Pool_2":"2poollp")].token,$="2Pool_2"===R?"2Pool_2LP":"2USDLP",ee="".concat(H).concat($),te=C["2Pool_2"===R?"2Pool_2":"2usdlp"].symbol,ae=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t={};return z.map((a=>{t[a]=e})),t},[ce=ae("--"),se]=Object(c.useState)(),[ne,oe]=Object(c.useState)("100.00"),[le,ie]=Object(c.useState)(.2),[re,be]=Object(c.useState)(""),[de,je]=Object(c.useState)(!0),[ue,pe]=Object(c.useState)(!1),[Oe,ge]=Object(c.useState)("--"),[me,he]=Object(c.useState)(!1),[fe=ae(!1),xe]=Object(c.useState)(),[ve,we]=Object(c.useState)(!1),[ye,Se]=Object(c.useState)(!1),[_e,Ae]=Object(c.useState)(z),[Ne,Pe]=Object(c.useState)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t={};return M.map((a=>{t[a]=e})),t}("--"));let ke=null,Le=null;Object(c.useEffect)((async()=>{ye&&Ce()}),[ce,ne,le,re,fe]),Object(c.useEffect)((()=>{Ze(ce,ue)}),[ce]),Object(c.useEffect)((()=>{Ye(Ne,ue)}),[Ne]);const Ce=()=>ne!==D&&Object(g.db)(ne).gt(100)?(we(n.a.get("error.e3")),!0):(()=>{const e=me?Ne:ce;for(let t in e)if(Object(g.db)(e[t]).gt(0)||"--"===e[t])return!1;return!0})()?(we(n.a.get("error.e4")),!0):le===B&&(Ue()||ne===D)&&(Object(g.a)(re).lt(.1)||Object(g.a)(re).gt(50)||Object(g.a)(re).isNaN())?(we(n.a.get("error.e5")),!0):(we(!1),!1),Te=async(e,a)=>{try{const c=e.length,s=e.map((e=>e.inputValue.isNaN()?0:e.inputValue._toIntegerDown()._toHex()))||[];if(me){const e=await Object(O.g)(s,!1,X);if(!e.success)return;let n=e.value.times(Object(g.a)(1).plus(Object(g.a)(T).times(c).div(4*(c-1)).div(1e10)));const o=Object(g.a)(100).plus(a).div(100);if(n=n.times(o)._toIntegerDown(),Object(g.a)(n).gt(K.swapBalanceInfo.userUsdcLpBalance)&&(n=K.swapBalanceInfo.userUsdcLpBalance),de&&Object(g.a)(K.userLpAllowance).lt(n)){if(!await t.approveToken(G,X,{title:"deposit.approve_token",obj:{value:ee},continuous:!0},[["".concat(Z,"/getUserLp")]]))return;je(!1)}const l=n._toHex(),i={title:"actions.remove",obj:{detail:q?Object(w.a)(Ne,E):Object(g.A)(Ne,E)},forTransitionModal:{title:"banner.title_withdraw",symbols:q?Object(w.a)(Ne,E):Object(g.A)(Ne,E)}};await t.removeLiqImBalanceBUSD2USD(X,s,l,i,[["".concat(Z,"/updateCurrencyData")]]);return}const n=await Object(O.f)(s,!1,W);if(!n.success)return;let o=n.value.times(Object(g.a)(1).plus(Object(g.a)(T).times(c).div(4*(c-1)).div(1e10)));const l=Object(g.a)(100).plus(a).div(100);if(o=o.times(l)._toIntegerDown(),Object(g.a)(o).gt(K.swapBalanceInfo.userUsdcLpBalance)&&(o=K.swapBalanceInfo.userUsdcLpBalance),de&&Object(g.a)(K.userLpAllowance).lt(o)){if(!await t.approveToken(G,W,{title:"deposit.approve_token",obj:{value:te},continuous:!0},[["".concat(Y,"/getUserLp")]]))return;je(!1)}const i=o._toHex(),r={title:"actions.remove",obj:{detail:q?Object(w.a)(ce,H+"lp"):Object(g.A)(ce,H+"lp")},forTransitionModal:{title:"banner.title_withdraw",symbols:q?Object(w.a)(ce,H+"lp"):Object(g.A)(ce,H+"lp")}};await t.removeLiqImBalanceBUSD(W,s,i,r,[["".concat(Y,"/updateCurrencyData")]])}catch(c){console.log("removeLiqImBalance",c)}},De=async(e,a)=>{try{if(me){const c=await Me(a,e,ne);if(!c)return;const{userLpBalance:s,userLpAllowanceUsdcSwap:n,minAmounts:o}=c,l=Object(g.db)(ne).div(100).times(s)._toIntegerDown();if(de&&Object(g.a)(n).lt(l._toIntegerDown())){if(!await t.approveToken(G,X,{title:"deposit.approve_token",obj:{value:ee},continuous:!0},[["".concat(Z,"/getUserLp")]]))return;je(!1)}const i={title:"actions.remove",obj:{detail:q?Object(w.a)(Ne,E):Object(g.A)(Ne,E)},forTransitionModal:{title:"banner.title_withdraw",symbols:q?Object(w.a)(Ne,E):Object(g.A)(Ne,E)}},r=l._toHex();await t.removeLiquidityBUSD2USD(X,r,o,i,[["".concat(Z,"/updateCurrencyData")]])}else{const c=await ze(a,e,ne);if(!c)return;const{userLpBalance:s,userLpAllowance:n,minAmounts:o}=c,l=Object(g.db)(ne).div(100).times(s)._toIntegerDown();if(de&&Object(g.a)(n).lt(l._toIntegerDown())){if(!await t.approveToken(G,W,{title:"deposit.approve_token",obj:{value:te},continuous:!0},[["".concat(Y,"/getUserLp")]]))return;je(!1)}const i={title:"actions.remove",obj:{detail:q?Object(w.a)(ce,H+"lp"):Object(g.A)(ce,H+"lp")},forTransitionModal:{title:"banner.title_withdraw",symbols:q?Object(w.a)(ce,H+"lp"):Object(g.A)(ce,H+"lp")}},r=l._toHex();await t.removeLiquidityBUSD(W,r,o,i,[["".concat(Y,"/updateCurrencyData")]])}}catch(c){console.log(c)}},Be=async(e,a,c)=>{try{if(me){const s=await Object(O.sb)(V,a,e,"2Pool_2"===R?R:"2poollp",H);if(!s.success)return;const{balances3pool:n,balancesUsdc:o,sun3LpBalance:l,sun3TotalSupply:i,usdcLpTotalSupply:r,userLpAllowance:b,userUsdcLpBalance:d}=s,j=(Fe({balances3pool:n,balancesUsdc:o,sun3LpBalance:l,sun3TotalSupply:i,usdcLpTotalSupply:r,userLpAllowance:b,userUsdcLpBalance:d,coins:e}),Object(g.db)(ne).div(100).times(d)._toIntegerDown());if(de&&Object(g.a)(b).lt(j._toIntegerDown())){if(!await t.approveToken(G,X,{title:"deposit.approve_token",obj:{value:ee},continuous:!0},[["".concat(Z,"/getUserLp")]]))return;je(!1)}const u=j._toHex();let p=!1;for(let e in fe)!0===fe[e]&&(p=F[e].index);const m=await Object(O.s)(u,p,X);if(!m.success)return;const h=m.value,f=e.length,x=h.times(Object(g.a)(1).minus(Object(g.a)(T).times(f).div(4*(f-1)).div(1e10))),v=Object(g.a)(100).div(Object(g.a)(100).plus(c)),y=x.times(v)._toIntegerDown()._toHex(),S={title:"actions.remove",obj:{detail:q?Object(w.a)(Ne,E):Object(g.A)(Ne,E)},forTransitionModal:{title:"banner.title_withdraw",symbols:q?Object(w.a)(Ne,E):Object(g.A)(Ne,E)}};await t.removeLiqOneCoinBUSD2USD(X,u,p,y,S,[["".concat(Z,"/updateCurrencyData")]]);return}const s=await Object(O.sb)(V,a,e,"2Pool_2"===R?R:"2poollp",H);if(!s.success)return;const{balances3pool:n,balancesUsdc:o,sun3LpBalance:l,sun3TotalSupply:i,usdcLpTotalSupply:r,userLpAllowance:b,userUsdcLpBalance:d}=s,j=(Ie({balances3pool:n,balancesUsdc:o,sun3LpBalance:l,sun3TotalSupply:i,usdcLpTotalSupply:r,userLpAllowance:b,userUsdcLpBalance:d,coins:e}),Object(g.db)(ne).div(100).times(d)._toIntegerDown());if(de&&Object(g.a)(b).lt(j._toIntegerDown())){if(!await t.approveToken(G,W,{title:"deposit.approve_token",obj:{value:te},continuous:!0},[["".concat(Y,"/getUserLp")]]))return;je(!1)}const u=j._toHex();let p=!1;for(let e in fe)!0===fe[e]&&(p=I[e].index);const m=await Object(O.r)(u,p,W);if(!m.success)return;const h=m.value,f=e.length,x=h.times(Object(g.a)(1).minus(Object(g.a)(T).times(f).div(4*(f-1)).div(1e10))),v=Object(g.a)(100).div(Object(g.a)(100).plus(c)),y=x.times(v)._toIntegerDown()._toHex(),S={title:"actions.remove",obj:{detail:q?Object(w.a)(ce,H+"lp"):Object(g.A)(ce,H+"lp")},forTransitionModal:{title:"banner.title_withdraw",symbols:q?Object(w.a)(ce,H+"lp"):Object(g.A)(ce,H+"lp")}};await t.removeLiqOneCoinBUSD(W,u,p,y,S,[["".concat(Y,"/updateCurrencyData")]])}catch(s){console.log(s)}},Ue=()=>{for(let e in fe)if(fe[e])return e;return!1},Ie=function(){let{balances3pool:e,balancesUsdc:t,sun3LpBalance:a,sun3TotalSupply:c,usdcLpTotalSupply:s,userLpAllowance:n,userUsdcLpBalance:o,coins:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const n=[],i=Object(g.a)(o).div(s),r=Object(g.a)(i).times(t),b=Object(g.a)(i).times(a).div(c);return l.map((t=>{const{index:a,precision:c,symbol:s,id:o}=t;let l=Object(g.a)(0);l=o===H?r.div(c):b.times(e[o]).div(c),n[a]=l||Object(g.a)(0)})),n}catch(i){return console.log(i),[]}},Fe=function(){let{balances3pool:e,balancesUsdc:t,sun3LpBalance:a,sun3TotalSupply:c,usdcLpTotalSupply:s,userLpAllowance:n,userUsdcLpBalance:o,coins:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const e=[],c=Object(g.a)(o).div(s),n=Object(g.a)(c).times(t),i=Object(g.a)(c).times(a);return l.map((t=>{const{index:a,precision:c,symbol:s,id:o}=t;let l=Object(g.a)(0);l=o===H?n.div(c):i.div(c),e[a]=l||Object(g.a)(0)})),e}catch(i){return console.log(i),[]}},ze=async function(e,t,a){let c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{const s=await Object(O.sb)(V,e,t,"2Pool_2"===R?R:"2poollp",H);if(!s.success)return;const{balances3pool:n,balancesUsdc:o,sun3LpBalance:l,sun3TotalSupply:i,usdcLpTotalSupply:r,userLpAllowance:b,userUsdcLpBalance:d}=s,j=Ie({balances3pool:n,balancesUsdc:o,sun3LpBalance:l,sun3TotalSupply:i,usdcLpTotalSupply:r,userLpAllowance:b,userUsdcLpBalance:d,coins:t}),u=[],p={};return t.map((e=>{const{index:t,id:s,decimal:n,precision:o}=e;let l=Object(g.db)(a).div(100).times(j[t]);c||(l=Object(g.a)(.98).times(l)),u[t]=l._toIntegerDown()._toHex(),p[s]=Object(g.c)(l._toFixed(n,1))})),{balances:j,userLpAllowance:b,minAmounts:u,amountsStr:p,userLpBalance:d}}catch(s){console.log(s)}},Me=async function(e,t,a){let c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{const s=await Object(O.sb)(V,e,t,"2Pool_2"===R?R:"2poollp",H);if(!s.success)return;const{balances3pool:n,balancesUsdc:o,sun3LpBalance:l,sun3TotalSupply:i,usdcLpTotalSupply:r,userLpAllowance:b,userUsdcLpBalance:d,userLpAllowanceUsdcSwap:j}=s,u=Fe({balances3pool:n,balancesUsdc:o,sun3LpBalance:l,sun3TotalSupply:i,usdcLpTotalSupply:r,userLpAllowance:b,userUsdcLpBalance:d,coins:t}),p=[],m={};return t.map((e=>{const{index:t,id:s,decimal:n,precision:o}=e;let l=Object(g.db)(a).div(100).times(u[t]);c||(l=Object(g.a)(.98).times(l)),p[t]=l._toIntegerDown()._toHex(),m[s]=l._toFixed(n,1)})),{balances:u,userLpAllowance:b,minAmounts:p,amountsStr:m,userLpBalance:d,userLpAllowanceUsdcSwap:j}}catch(s){console.log(s)}},Ve=async(e,t)=>{try{await K.getUserLp();const{userUsdcLpBalance:a}=K.swapBalanceInfo,{precision:c,decimal:s}=I[e],n=Object(g.db)(t).div(100).times(a)._toIntegerDown(),o=I[e].index,l=n._toHex(),i=await Object(O.r)(l,o,W);if(!i.success)return!1;const r=i.value;return Object(g.a)(r).div(c)._toFixed(s,1)}catch(a){console.log(a)}},He=async(e,t)=>{try{await J.getUserLp();const{userUsdcLpBalance:a}=J.swapBalanceInfo,{precision:c,decimal:s}=F[e],n=Object(g.db)(t).div(100).times(a)._toIntegerDown(),o=F[e].index,l=n._toHex(),i=await Object(O.s)(l,o,X);if(!i.success)return!1;const r=i.value;return Object(g.a)(r).div(c)._toFixed(s,1)}catch(a){console.log(a)}},Ee=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(J.getSwapBalance(),J.getVirtualPriceBUSD(X),J.getVolData()):(K.getSwapBalance(),K.getVirtualPriceBUSD(X),K.getVolData())},Re=async function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]){await Promise.all([J.getSwapBalance(),J.getUserLp(),J.getBalanceInfo()]);const e={};M.map((t=>{const{userSwapBalance:a,decimal:c}=J.poolData[t];e[t]=Object(g.c)(Object(g.a)(a)._toFixed(c,1))})),Pe(e)}else{await Promise.all([K.getUserLp(),K.getBalanceInfo()]);const e={};z.map((t=>{const{userSwapBalance:a,decimal:c}=K.poolData[t];e[t]=Object(g.c)(Object(g.a)(a)._toFixed(c,1))})),se(e)}!ye&&Se(!0),ke||(ke=setInterval((async()=>{Ee(!1),await K.getUserLp()}),a.defaultIntervalSec))};Object(c.useEffect)((()=>{!Le&&me&&(Le=setInterval((async()=>{Ee(!0),await J.getUserLp()}),a.defaultIntervalSec))}),[me]),Object(c.useEffect)((()=>(K.initPage(p),Re(),Ee(),()=>{clearInterval(ke),clearInterval(Le)})),[]);const Ke=async(e,t)=>{!ye&&Se(!0);let a=ne;const c={},s={},n={};if(me)if(e){pe(!0);for(let e in Ne)e!==t&&(c[e]=!1,n[e]=0);xe({...Ne,...c,[t]:e}),(ne===D||Object(g.db)(ne).lte(0))&&(a="100.00",oe(a)),Object(g.db)(a).gt(100)&&(a=100);const s=await He(t,a);s&&Pe({...Ne,...n,[t]:Object(g.c)(s)})}else oe(D),pe(!1),xe({...fe,[t]:e});else if(e){pe(!0);for(let e in fe)e!==t&&(c[e]=!1,s[e]=0);xe({...fe,...c,[t]:e}),(ne===D||Object(g.db)(ne).lte(0))&&(a="100.00",oe(a)),Object(g.db)(a).gt(100)&&(a=100);const n=await Ve(t,a);n&&se({...ce,...s,[t]:Object(g.c)(n)})}else oe(D),pe(!1),xe({...fe,[t]:e})},Je=e=>{oe("100"),e?(Ae(M),clearInterval(ke)):(Ae(z),clearInterval(Le)),he(e),pe(!1),xe(ae(!1)),Ee(e),Re(e)},Ze=async(e,t)=>{const a=await K.calcInclPrice(e,!1,t);ge(a)},Ye=async(e,t)=>{const a=await J.calcInclPrice(e,!1,t);ge(a)},qe=async e=>{var t;!ye&&Se(!0);let c=e.target.value,s=c.split(".");if((null===(t=s[1])||void 0===t?void 0:t.length)>2&&(c="".concat(s[0]+"."+s[1].substr(0,2))),Object(g.a)(c).gt(100))return;const{valid:n,str:o}=Object(g.T)(c,10);if(ne===D)return me?(()=>{const e={},t={};M.map((a=>{e[a]=0,t[0]=!1})),Pe(e),xe(fe),oe(0)})():(()=>{const e={},t={};z.map((a=>{e[a]=0,t[0]=!1})),se(e),xe(fe),oe(0)})();if(""===c)return oe(""),me?(()=>{const e={};M.map((t=>{e[t]=0})),Pe(e)})():(()=>{const e={};z.map((t=>{e[t]=0})),se(e)})();if(n){oe(o);const t=Object(g.a)(o).gt(100)?Object(g.a)(100):Object(g.a)(o);if(t.isNaN())return;if(!a.defaultAccount)return;const s=a.defaultAccount,n=Ue();if(me){if(n){const e=await He(n,t);return e&&Pe({...Ne,[n]:Object(g.c)(e)})}if(o!==D){const e=[];M.map((t=>{e.push({...F[t]})}));const t=e.sort(((e,t)=>e.index-t.index)),a=await Me(s,t,o,!0),{amountsStr:c={}}=a;a&&Pe(c)}return}if(n){const e=await Ve(n,t);return e&&se({...ce,[n]:Object(g.c)(e)})}if(o!==D){const t=[];z.map((e=>{t.push({...I[e]})}));const a=t.sort(((e,t)=>e.index-t.index)),n=await ze(s,a,o,!0);if(c===e.target.value){const{amountsStr:e={}}=n;n&&se(e)}}}},We=e=>{!ye&&Se(!0),ie(e),e!==D&&be("")},Xe=e=>{const{valid:t,str:a}=Object(g.T)(e,10);if(t)if(""===a)be("");else if(Object(g.a)(a).lte(100)){var c;let e=a,t=a.split(".");(null===(c=t[1])||void 0===c?void 0:c.length)>2&&(e="".concat(t[0]+"."+t[1].substr(0,2))),be(e)}},Qe=e=>Ue()||ne===D?Object(k.jsx)("div",{className:"flex start mt-20",children:Object(k.jsx)(_.a,{slippage:e,customSlippage:re,CUSTOM_SLIPPAGE:B,onChangeSlippage:We,onChangeCustomSlippage:Xe})}):Object(k.jsx)(k.Fragment,{});return Object(k.jsx)(d.a,{children:()=>Object(k.jsxs)(o.a,{gutter:[{xs:8,sm:16,md:32},20],children:[Object(k.jsxs)(l.a,{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:15},children:[Object(k.jsx)(A.a,{list:L,activeKey:U[0]}),Object(k.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(h.a,{routeName:"usdc/withdraw",mountedActions:Re,instantActions:Ee}),Object(k.jsx)(f.a,{title:n.a.get("buysell.busd_2pool")+" "+n.a.get("banner.title_withdraw"),desc:n.a.get("banner.desc_withdraw")}),Object(k.jsx)(x.a,{})]}):null,a.isConnected?Object(k.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(k.jsxs)("div",{className:"add-liq withdraw-liq",children:[Object(k.jsxs)("div",{className:"flex",children:[n.a.get("withdraw.share_of_liq"),Object(k.jsx)(P.a,{className:"flex-1 ml-20",showMax:!1,placeholder:"100.00",value:ne,onChange:qe})]}),Object(k.jsxs)("fieldset",{className:"currencies mt-35",children:[Object(k.jsx)("legend",{children:n.a.get("deposit.currencies")}),Object(k.jsx)("ul",{children:_e.map((e=>{const t=me?F[e]:I[e],{symbol:a=""}=t;return Object(k.jsxs)("li",{children:[Object(k.jsx)("div",{className:"cur-label",children:Object(k.jsxs)("span",{className:"icon",children:[e===R?Object(k.jsx)("img",{src:u.b[E]?u.b[E]:b.default,alt:"",className:"token-logo"}):Object(k.jsx)("img",{src:u.b[e]?u.b[e]:b.default,alt:"",className:"token-logo"}),a]})}),Object(k.jsx)(P.a,{showMax:!1,value:me?Ne[e]:ce[e],onChange:t=>{(async(e,t)=>{if(!ye&&Se(!0),me){const{decimal:a}=F[t],{valid:c,str:s}=Object(g.T)((""+e.target.value).replace(/,/g,""),a);c&&Pe({...Ne,[t]:Object(g.c)(s)}),oe(D),pe(!1);const n={};for(let e in fe)n[e]=!1;return void xe(n)}const{decimal:a}=I[t],{valid:c,str:s}=Object(g.T)((""+e.target.value).replace(/,/g,""),a);c&&se({...ce,[t]:Object(g.c)(s)}),oe(D),pe(!1);const n={};for(let o in fe)n[o]=!1;xe(n)})(t,e)}})]},e)}))})]}),Object(g.Y)(Oe),Object(k.jsxs)("fieldset",{children:[Object(k.jsxs)("legend",{className:"flex aic jcs pt20",children:[Object(k.jsx)("span",{className:"mr-10",children:n.a.get("withdraw.withdraw_text")}),Object(k.jsx)(i.a,{title:n.a.get("withdraw.tip"),children:Object(k.jsx)(r.a,{})})]}),Object(k.jsxs)("div",{className:"withdraw-one mt-10",children:[_e.map((e=>{const{symbol:t=""}=me?F[e]:I[e],a=e===R?u.b[E]?u.b[E]:b.default:u.b[e]?u.b[e]:b.default;return Object(k.jsx)(y.a,{id:e,checked:fe[e],tokenLogo:a,symbol:t,onChange:Ke})})),Object(k.jsx)(y.a,{checked:me,symbol:n.a.get("withdraw.".concat(q?"as_2Pool_2_LP":"as_2usd_LP")),onChange:Je})]})]}),Qe(le),ve?Object(k.jsx)(S.a,{styleName:"mt-40",type:"single",disabled:!0,info:n.a.get("withdraw.action")}):Object(k.jsx)(S.a,{styleName:"mt-40",type:"single",info:n.a.get("withdraw.action"),onClick:()=>(async t=>{try{if(!a.defaultAccount)return;if(!ye&&Se(!0),!ve&&Ce(t))return;if(ve)return;const c=a.defaultAccount,s=[];me?M.map((e=>{s.push({...F[e],inputValue:Object(g.db)(t[e]).times(F[e].precision)})})):z.map((e=>{s.push({...I[e],inputValue:Object(g.db)(t[e]).times(I[e].precision)})}));const n=s.sort(((e,t)=>e.index-t.index)),o=le===B?re:le;return e.onSubmit&&e.onSubmit(),ue?await Be(n,c,o):ne!==D?await De(n,c):await Te(n,o)}catch(c){console.log("\u63d0\u73b0\u5931\u8d25",c)}})(me?Ne:ce)}),ve&&Object(k.jsx)("div",{className:"error-content mt-12",children:Object(k.jsx)("div",{className:"error-tip",children:ve})})]})}):Object(k.jsx)(N.a,{})]})]}),Object(k.jsx)(l.a,{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:9},children:Object(k.jsx)(m.a,{type:me?"2usdlp":H,className:a.isConnected?null:"window-for-tabs-pane",curveConfig:s})})]})})}},1976:function(e,t,a){"use strict";a.r(t);var c=a(1317),s=a(1319),n=a(1989),o=a(70),l=a(1),i=a.n(l),r=a(11),b=a.n(r),d=(a(931),a(936),a(68)),j=a(996),u=a(910),p=a(1050),O=a(964),g=a(1051),m=a(1052),h=a(939),f=a(52),x=a(35),v=a(63),w=a(920),y=a(911),S=a(915),_=a(914),A=a(940),N=a(3);const{tabChangeLog:P,tabSubmitLog:k}=Object(h.a)({childPage:f.j.liquidity_busd2pool}),L=e=>{let{onSubmit:t,curveConfig:a,initParams:n,pageList:o,tabPaneKey:l,isConnected:i}=e;return Object(N.jsxs)(c.a,{...S.a.row,children:[Object(N.jsxs)(s.a,{...S.a.colLeft,children:[Object(N.jsx)(y.a,{list:o,activeKey:l[0]}),i?Object(N.jsx)("div",{className:"window-for-tabs-pane",children:Object(N.jsx)(p.a,{curveConfig:a,onSubmit:t,initParams:n})}):Object(N.jsx)(_.a,{})]}),Object(N.jsx)(s.a,{...S.a.colRight,children:Object(N.jsx)(O.a,{curveConfig:a,initParams:n})})]})},C={1:{title:b.a.get("banner.title_deposit"),content:b.a.get("banner.desc_deposit"),tabTitle:b.a.get("header.deposit")},2:{title:b.a.get("banner.title_withdraw"),content:b.a.get("banner.desc_withdraw"),tabTitle:b.a.get("header.withdraw")},3:{title:b.a.get("banner.title_1"),content:b.a.get("banner.desc_1"),tabTitle:b.a.get("header.swap")}};t.default=e=>{let{pageType:t}=e;const{title:a,tabKey:c}=(e=>{let[,,t]=window.location.hash.split("/");const a=window.localStorage.getItem("lang"),c={usdd:{us:"USDD",zh:b.a.get("buysell.usdd_2pool_2")},usdj:{us:"USDJ",zh:b.a.get("buysell.usdj_2pool_2")},usdc:{us:"USDC",zh:b.a.get("buysell.usdc_2pool_2")},busd:{us:"BUSD",zh:b.a.get("buysell.busd_2pool_2")}}[e];return{title:"en-US"===a?c.us:c.zh,tabKey:[{deposit:"1",withdraw:"2",swap:"3"}[t]||"1"]}})(t),[s,r]=i.a.useState(c),{mountedActions:p,instantActions:O}=(e=>{let t=null;const a=Object(x.b)(e),c=Object(o.d)((()=>d.default.busdPoolTwo)),s=Object(o.d)((()=>d.default.usd2PoolTwo)),n=Object(o.d)((()=>d.default.network)),{busd2PoolContracts:l}=a,r={poolType:v.a,curveSymbol:e},b=async e=>{e||(c.initPage(r),s.initPage(r)),c.getSwapBalance(),c.getVirtualPriceBUSD(l.usdcSwap),c.getVolData()};return i.a.useEffect((()=>()=>{clearInterval(t)}),[]),{mountedActions:async()=>{c.getUserLp(),await c.getBalanceInfo(l.usdcSwap),await c.getBalanceInfo(l.USDCDepositer),t||(t=setInterval((async()=>{b(!0),c.getUserLp(),await c.getBalanceInfo(l.usdcSwap),await c.getBalanceInfo(l.USDCDepositer)}),n.defaultIntervalSec))},instantActions:b}})(t),h=window.localStorage.getItem("lang"),f=Object(x.b)(t),y={poolType:v.a,curveSymbol:t},S=Object(l.useCallback)((e=>{let{value:t}=e;r(t),P(t)}),[]),_=()=>{const e=window.localStorage.getItem("lang")||b.a.options.currentLocale,t=window.location.origin+window.location.pathname;window.location.href=t+"?lang=".concat(e,"#/sunCurve")},T=Object(l.useMemo)((()=>({shouldScroll:!0,navRightMoreShow:!0,navRightMoreClick:_})),[]),D=Object(l.useMemo)((()=>[{label:C[1].tabTitle,value:"1",handler:S},{label:C[2].tabTitle,value:"2",handler:S},{label:C[3].tabTitle,value:"3",handler:S}]),[]),B=Object(o.d)((()=>d.default.network));return Object(N.jsx)(o.a,{children:()=>Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(u.a,{mountedActions:p,instantActions:O,subNavProps:T}),Object(N.jsxs)("div",{className:"main-page-content",children:[Object(N.jsx)(w.a,{title:"".concat(a).concat("en-US"===h?" ":"").concat(b.a.get("buysell.Pool")).concat("en-US"===h?" ":"").concat(C[s[0]].title),subTitle:C[s[0]].content}),Object(N.jsxs)("div",{className:"pool-tabs",children:[Object(N.jsxs)(n.a,{activeKey:s[0],centered:!0,renderTabBar:()=>null,children:[Object(N.jsx)(n.a.TabPane,{tab:Object(j.renderTab)("1"),children:Object(N.jsx)(g.a,{two:!0,curveConfig:f,onSubmit:()=>k("1"),initParams:y,pageList:D,tabPaneKey:s})},"1"),Object(N.jsx)(n.a.TabPane,{tab:Object(j.renderTab)("2"),children:Object(N.jsx)(m.a,{curveConfig:f,onSubmit:()=>k("2"),initParams:y,pageList:D,tabPaneKey:s})},"2"),Object(N.jsx)(n.a.TabPane,{tab:Object(j.renderTab)("3"),children:Object(N.jsx)(L,{initParams:y,curveConfig:f,onSubmit:e=>k("3",{event_label:e,txid:e}),pageList:D,tabPaneKey:s,isConnected:B.isConnected})},"3")]}),Object(N.jsx)(A.a,{name:"type",cb:S,valueFlag:!0})]})]})]})})}},911:function(e,t,a){"use strict";a(925);var c=a(14),s=a.n(c),n=a(3);t.a=e=>Object(n.jsx)("div",{className:"tempalte-pageTab-nav",children:e.list.map((t=>Object(n.jsx)("div",{className:s()("tempalte-pageTab-nav-item",{"tempalte-pageTab-nav-active":e.activeKey===t.value}),onClick:()=>t.handler(t),children:t.label},t.value)))})},915:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return l}));var c=a(11),s=a.n(c);const n={row:{gutter:[{xs:8,sm:16,md:32},20]},colLeft:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:15}},colRight:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:9}}},o={1:{title:s.a.get("banner.title_deposit"),content:s.a.get("banner.desc_deposit"),tabTitle:s.a.get("header.deposit")},2:{title:s.a.get("banner.title_withdraw"),content:s.a.get("banner.desc_withdraw"),tabTitle:s.a.get("header.withdraw")},3:{title:s.a.get("banner.title_1"),content:s.a.get("banner.desc_1"),tabTitle:s.a.get("header.swap")}},l=[{label:o[1].tabTitle,value:"1"},{label:o[2].tabTitle,value:"2"},{label:o[3].tabTitle,value:"3"}]},917:function(e,t,a){"use strict";var c=a(14),s=a.n(c),n=a(945),o=a(3);t.a=e=>{const{checked:t,tokenLogo:a,symbol:c="",onChange:l,id:i=""}=e;return Object(o.jsxs)("div",{className:s()({[n.sun_check_button]:!0,[n.sun_check_active_button]:t}),onClick:()=>{l&&l(!t,i)},children:[a&&Object(o.jsx)("img",{src:a,alt:"",className:"token-logo"}),Object(o.jsx)("span",{children:c})]})}},918:function(e,t,a){"use strict";var c=a(11),s=a.n(c),n=a(14),o=a.n(n),l=a(1953),i=a(928),r=a(3);const b=[{key:.2,label:"0.2%"},{key:3,label:"3%"}],d=[{key:.005,label:"0.5%"},{key:.01,label:"1%"}];t.a=e=>{const{slippage:t,customSlippage:a,CUSTOM_SLIPPAGE:c,type:n="withdraw"}=e,j="withdraw"===n?b:d;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"mr-10",children:s.a.get("withdraw.slippage")}),Object(r.jsxs)("div",{className:o()(i.setting_btns),children:[Object(r.jsx)("div",{className:i.setting_btn_wrap,children:j.map((a=>Object(r.jsx)("span",{className:o()(i.setting_item,t===a.key?i.active:""),onClick:()=>{return t=a.key,void(e.onChangeSlippage&&e.onChangeSlippage(t));var t},children:a.label})))}),Object(r.jsx)(l.a,{className:o()(i.setting_input,i.module_important,["ml-20"]),suffix:"%",value:a,onFocus:()=>{a||e.onChangeSlippage&&e.onChangeSlippage(c)},onBlur:()=>{a||e.onChangeSlippage&&e.onChangeSlippage(String(j[0].key))},onChange:t=>{e.onChangeCustomSlippage&&e.onChangeCustomSlippage(t.target.value)}})]})]})}},920:function(e,t,a){"use strict";var c=a(1),s=a(14),n=a.n(s),o=a(922),l=a(3);const i=e=>{const{title:t,subTitle:a,isRevert:c}=e,s="string"===typeof t;return Object(l.jsxs)("div",{className:o.page_title_wrap,children:[c&&a&&Object(l.jsx)("div",{className:o.page_title_sub,children:a}),t&&Object(l.jsx)("div",{className:n()({[o.page_title]:!0,[o.page_title_revert]:c,[o.page_title_ele]:!s}),children:s?t.split("").map(((e,t)=>Object(l.jsx)("span",{className:o.page_title_ele,children:e},t))):t}),a&&!c&&Object(l.jsx)("div",{className:o.page_title_sub,children:a})]})};t.a=Object(c.memo)(i)},922:function(e,t,a){e.exports={"page-head":"style_page-head__1_76J",link:"style_link__JVBBX","gradient-title":"style_gradient-title__14115",animateTitle:"style_animateTitle__1W1A5","dim-content":"style_dim-content__1MZ32",uppercase:"style_uppercase__2R_0z","window-for-tabs-pane":"style_window-for-tabs-pane__3S1zF","dark-btn":"style_dark-btn__VnSQD","purple-btn":"style_purple-btn__3Ez4v","cur-input":"style_cur-input__1VPh5","max-btn":"style_max-btn__2ujF3",page_title:"style_page_title__dfZPh",page_title_wrap:"style_page_title_wrap__7dtV_",page_title_ele:"style_page_title_ele__Tktf1",page_title_sub:"style_page_title_sub__1IUsF",page_title_revert:"style_page_title_revert__18HMS"}},925:function(e,t,a){},928:function(e,t,a){e.exports={"page-head":"style_page-head__1vdv7",link:"style_link__1gfSr","gradient-title":"style_gradient-title__UDoMs",animateTitle:"style_animateTitle__2zU_Z","dim-content":"style_dim-content__1LeiT",uppercase:"style_uppercase__Jhzo4","window-for-tabs-pane":"style_window-for-tabs-pane__3E-mr","dark-btn":"style_dark-btn__2vZ_n","purple-btn":"style_purple-btn__3V5jL","cur-input":"style_cur-input__2s9we","max-btn":"style_max-btn__32jEQ",setting_wrap:"style_setting_wrap__L7ld9",setting_label:"style_setting_label__3qQrG",setting_btns:"style_setting_btns__zH_61",setting_btn_wrap:"style_setting_btn_wrap__uxT1B",setting_item:"style_setting_item__1VwnL",setting_input:"style_setting_input__kvJzs",active:"style_active__10VTC",module_important:"style_module_important__PuwNO",info_text:"style_info_text__3K73H",setting_minutes:"style_setting_minutes__1mIXw",flex_right:"style_flex_right__3aanL"}},930:function(e,t,a){"use strict";var c=a(1),s=a(11),n=a.n(s),o=a(1424),l=a(168),i=a(946),r=a.n(i),b=a(3);const d=e=>{const{onCancel:t,open:a,value:c,confirmSlippageCheck:s,onChangeConfirmSlippageCheck:i,onOk:d,okText:j}=e;return Object(b.jsxs)(l.a,{title:n.a.get("deposit.high_slippage_title"),open:a,closable:!0,icon:null,onCancel:t,width:440,onOk:t,okText:n.a.get("cancel"),cancelText:j,cancelButtonProps:{disabled:!s,onClick:d},children:[Object(b.jsx)("div",{className:r.a.warning_img,children:Object(b.jsx)("img",{src:"data:image/png;base64,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",alt:""})}),Object(b.jsxs)("div",{className:r.a.box,children:[Object(b.jsx)("div",{children:n.a.get("deposit.high_tip1")}),Object(b.jsx)("div",{children:n.a.get("deposit.high_tip2",{value:c})})]}),Object(b.jsx)(o.a,{checked:s,onChange:i,children:Object(b.jsx)("span",{className:r.a.checkbox_info,children:n.a.get("deposit.confirm_slippage",{value:c})})})]})};d.defaultProps={};t.a=Object(c.memo)(d)},931:function(e,t,a){},932:function(e,t,a){"use strict";a(1);var c=a(11),s=a.n(c),n=a(70),o=a(4),l=a(68),i=a(0),r=(a(933),a(955)),b=a(953),d=a(3);const{Fee:j,A:u,ADMIN_FEE:p,poolKeys:O,pools:g}=o.default;t.a=e=>{const t=Object(n.d)((()=>l.default.pool)),a=Object(n.d)((()=>l.default.network)),c=(e,t)=>{const a=Object(i.a)(e).times(t).div(1e18);return a.isNaN()?"--":Object(i.u)(a,2)},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let a=Object(i.a)(0);for(let c in e){const{userSwapBalance:s,priceKey:n}=e[c],o=t?t[n]:"--";a=a.plus(Object(i.a)(s).times(o))}return Object(i.u)(a)}catch(a){return console.log(a),"--"}},m=O.map((e=>t.poolData[e])).filter((e=>e)),h=t.volData?t.volData["3pvol24Hours"]:"",f="Old 3Pool ".concat(s.a.get("pool.pool2_contract")),x="3SUN ".concat(s.a.get("pool.token_contract2"));return Object(d.jsx)(n.a,{children:()=>Object(d.jsxs)("div",{children:[Object(d.jsx)(r.a,{poolTokens:m,totalSwapBalance:t.totalSwapBalance,adminFee:p,fee:j,virtualPrice:t.virtualPrice,dailyVol:h,poolContract:o.default.stablePool,poolName:f,lpTokenAddress:o.default.stableLp,lpTokenName:x,aValue:u}),a.isConnected&&Object(i.a)(t.sharePer).gt(0)&&Object(d.jsx)(b.a,{sharePer:t.sharePer,usdBalance:g(t.poolData,t.volData),avgUsdBalance:c(t.userLpBalance,t.virtualPrice),userTotalBalance:t.userTotalBalance,myPoolTokens:m})]})})}},936:function(e,t,a){},937:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAA/JJREFUWEfVWctqFUEQPeX7/X5tXIkIouBa/AkxgkYXgrhwIQiufaCuxYXoQsSNGkHFnxDXgiKIuHJlTIwmMYmJ8ci5Voe+k3tneuaOIVMwhCTT3aerTlWdnjb0YCQNwHIAKwEsA7AEwFL/qZn/AJj1n78B/AIwY2asuqwWLG0kBXCVPwJZxrSJKT1mpg2UslKASa4AsMG9GhaSBwVgJuNR/T/2uCKhTSoCwTRm1MymU1EnASapcK/3BUOoJ9xLWjTZSAbgayLqaMNjZiba5FohYA//ZgB6V9z7qcfMFNrKRlLeX+tPmHukiCa5gElqQlFAJi8ofKJAbUZSFNEaootMa8gpHa0rYJIbAShssnE9vWR33g692qwDoEc2YWY/Oo3pCDjj2e9mNlmbS3MmIrkawKY8T88D7Jzd4oMWDGzYRwb0tyyn2wB7NdjmCSYKjC2EZ7NrkFRFEj2U5ENx9cgCVjUQ+ZVg8m6pjkTyMIA9AAZSSlQ3ZzinRY0WFjMbCe/OAfamsNV39bVMNSCp5LwN4JxPfMPMrvQSHa8e2z3aw6G5xIBFBRX1UlQgeRDAUwD7I4A9A9ZcETWkP4b0txbgKNHUDOTdpKZA8jyAW1EN1XQDAM7WUVm8ucjLajKtBAyAxReVlCTvkhTXHwA4GnlVxf6CmT3shQo5CdiqzeYE3+G7UEbmagOSRwA8AbA7mvwNgBNm9qFOsB590VR0VdQHBVgKTMk2a2aDBR3pMoCrGcWljnTPtW4VvB/lgLyKRFIOVQsfFuBQ8yRoRnNKzTEAz6sgShhz2swe56wtrSFdMy7AofbmdjWSfQCeJSxe5ZUiwKFlTwmw6CBazGuDHRJAoA9UQZQzJoUSOuFILkwLcOCHylmhgK4ZbNJ0LhlU3mYFeJfX4y+p9TdplRpf8nq8Uy2jkYAbR4mkpPMG0w9gb43R1lTvzCy3XEbSoZV0qWXtFIBHNYMN0x3PAx2J+lZZS20c/xNwn5m9SG0cSa25Bkqolkrd6XAbTCfwa2Z2s0AStLVmKbZk8VOFEiT3uWY+FI3/DKDfzF4VgG0XP66IwpE+SV6WAU3yDIA7rgXC0JeumeeOPjl0CJT9Jy8dcGh9pQR8gWfU/6WZT0bv6ax4yczupmy6q4B30JWOSDmeuQ5AcjTYe9fMb1PAOqbg3fYjkv8zJJ9OyqUOoZ0AkIwB3wdw0cz0ATHJCg+hDrqnY36MxAWL6PDJzF4nofSXko75DlifVZvzISWTgPp1cX+qCmFr1MfACHRzPrd28fTi/qAdgVZTacaVQQS6OZcymdrajGuvbNH3E4C0guhS5WJRF4qTRTdGnZpN4bVXgcBZ8Kvbv7gRNO3rhp7CAAAAAElFTkSuQmCC"},938:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAAAXNSR0IArs4c6QAAAKtQTFRFAAAAAAAAAAAAVVVVQEBAMzMzJCQkOTk5MzMzLi4uOzs7LS0tOTk5MTExNTU1MzMzMTExNzc3MzMzMDAwNTU1MDAwNjY2NDQ0NTU1MzMzMjIyMTExNTU1NDQ0MzMzNTU1MzMzNDQ0NDQ0MjIyNDQ0MjIyMjIyMzMzMzMzMzMzMzMzNDQ0MzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzWhra8AAAADh0Uk5TAAECAwQFBwkKCw0REhUYGRocHiAiJSYnKy0uLzAxMjo8U1RbXWBhaWp8fYCCh5qmrs/V4vD09/yQVz75AAABo0lEQVQ4y5VVyZaCMBBsUVFAB0RUkFius7rv/f9fNgcFAgSfqRtJvVBdvREVYHn9QSjicND3LHoJ248gIfLtSqo1BBD2OrZpGKbd6YUAhurnzQAYuy35qOWOgcBUKIghXKN4argCcUlLd4KgqfphM8Ckmz/qAW5VKC7Qy70L4VR75AhIb9sTOK8cdTBJdZtxtYZESZx4EiDIXU1XjSI7pVgQsg/tHfOm5InAIzvDnIjoxAoyuRgSEdkYS7n4vjHzvlUiG2PYROTjIwv7wMzXL3WMPhFFSN+ZnZn5OFIa0kJEZCFMvv/uzHzZrnNY1p63ISzy0lzOWYllWhEe9dF5fi1ekzvo0wBpJhdrBVIZNgYUwqS3YCIkAeM9sgFBMervkeuI9WRkAdaWqgAXJAWYWbdUW7eQrMuSUkGeS0nJ0l2Usb0w8/2XpHTLhZTD6MjM51mukMhXN+DnlZkPTqFE88WfvLNn5ttPqfgLbfXAhplPUbmtig2bkHdtVcOWRgERNVZT9SjQGzJa40tvMOqNXL1hrrcm9BaQ3mrTXJrSOhbKdfwPCZVOWH68U88AAAAASUVORK5CYII="},939:function(e,t,a){"use strict";var c=a(52);t.a=e=>{let{childPage:t}=e;const a=["deposit","withdraw","swap"],s=function(e,s){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=a[e-1],l=c.i[s?"".concat(s,"_").concat(o):o];l&&Object(c.a)({action:l(t),event_category:t,...n})};return{tabChangeLog:e=>s(e,"tab"),tabSubmitLog:(e,t)=>s(e,null,t)}}},940:function(e,t,a){"use strict";var c=a(1),s=a(0),n=a(3);t.a=e=>{let{name:t,cb:a,valueFlag:o}=e;return Object(c.useEffect)((()=>{const e=Object(s.F)(t),c="withdraw"===e?"2":"1";if(console.log("====cbIndex===",c),e){a&&a(o?{value:c}:c)}}),[]),Object(n.jsx)(n.Fragment,{})}},945:function(e,t,a){e.exports={sun_check_button:"style_sun_check_button__5diEB",sun_check_active_button:"style_sun_check_active_button__28IzL"}},946:function(e,t,a){e.exports={warning_img:"style_warning_img__1coIz",box:"style_box__mzd6y",checkbox_info:"style_checkbox_info__3Beyk"}},961:function(e,t,a){"use strict"},964:function(e,t,a){"use strict";var c=a(70),s=a(1),n=a(11),o=a.n(n),l=(a(933),a(4)),i=a(68),r=a(0),b=a(35),d=a(955),j=a(953),u=a(3);t.a=e=>{const{curveConfig:t,type:a}=e;let{busd2PoolContracts:n,currencyBUSDKeys:p,curveSymbol:O,curveLPSymbol:g,busdusdPoolKeys:m,twoPoolUsdLpKey:h="2poollp"}=t;const f=Object(c.d)((()=>i.default.network)),x=Object(c.d)((()=>Object(b.d)({Stores:i.default,poolType:h,baseStoreName:"busdPool"}))),v=Object(c.d)((()=>Object(b.d)({Stores:i.default,poolType:h,baseStoreName:"usd2Pool"}))),[w,y]=Object(s.useState)(x);Object(s.useEffect)((()=>{y("2usdlp"===a?v:x)}));const S=(e,t)=>{const a=Object(r.a)(e).times(t).div(1e18);return a.isNaN()?"--":Object(r.u)(a,2)},_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let a=Object(r.a)(0);for(let c in e)if(m.includes(c)){const{userSwapBalance:s,priceKey:n}=e[c],o=t?t[n]:"--";a=a.plus(Object(r.a)(s).times(o))}return Object(r.u)(a)}catch(a){return console.log(a),"--"}},A=window.localStorage.getItem("lang"),N=p.map((e=>w.currencyData[e])).filter((e=>e)),P="".concat("2poollp"===h?"Old ":"").concat(O.toUpperCase()," ").concat("en-US"===A?"":"Pool"," ").concat(o.a.get("pool.pool_contract")),k="".concat(O.toUpperCase()," ").concat("2poollp"===h?" 2pool ":" 2Pool_2 "," ").concat(o.a.get("pool.token_contract2")),L=p.map((e=>w.currencyData[e])).filter((e=>e)),C=w.volData?w.volData["".concat(O).concat("2Pool_2"===h?"UsdtTusdPool24hourVol":"2UsdPool24hourVol")]:"";return Object(u.jsx)(c.a,{children:()=>Object(u.jsxs)("div",{children:[Object(u.jsx)(d.a,{curveLPSymbol:g,poolTokens:N,totalSwapBalance:w.totalSwapBalance,adminFee:w.poolInfo.ADMIN_FEE,fee:w.poolInfo.Fee,virtualPrice:w.virtualPrice,dailyVol:C,poolContract:n.usdcSwap,poolName:P,lpTokenAddress:l.default.tokens["".concat(O).concat(h)].token,lpTokenName:k,aValue:w.poolInfo.A}),f.isConnected&&Object(r.a)(w.sharePer).gt(0)&&Object(u.jsx)(j.a,{sharePer:w.sharePer,usdBalance:_(w.currencyData,w.volData),avgUsdBalance:S(w.swapBalanceInfo.userUsdcLpBalance,w.virtualPrice),userTotalBalance:w.swapBalanceInfo.userTotalBalance,myPoolTokens:L})]})})}},968:function(e,t,a){},971:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var c=a(0),s=a(63);const n={usdd2Pool_2:{keys:s.e.usdd2Pool_2UsdPoolKeys,poolsInfo:s.e.usdd2Pool_2UsdPools},usdj2Pool_2:{keys:s.e.usdj2Pool_2UsdPoolKeys,poolsInfo:s.e.usdj2Pool_2UsdPools},usdc2Pool_2:{keys:s.e.usdc2Pool_2UsdPoolKeys,poolsInfo:s.e.usdc2Pool_2UsdPools},busd2Pool_2:{keys:s.e.busd2Pool_2UsdPoolKeys,poolsInfo:s.e.busd2Pool_2UsdPools},usddlp:{keys:s.e.usdd2Pool_2Keys,poolsInfo:s.e.usdd2Pool_2Pools},usdjlp:{keys:s.e.usdj2Pool_2Keys,poolsInfo:s.e.usdj2Pool_2Pools},usdclp:{keys:s.e.usdc2Pool_2Keys,poolsInfo:s.e.usdc2Pool_2Pools},busdlp:{keys:s.e.busd2Pool_2Keys,poolsInfo:s.e.busd2Pool_2Pools}};const o=(e,t)=>function(e,t,a){try{const{keys:s,poolsInfo:n}=e[a]||{};let o=[];return s.map((e=>{const a=Object(c.u)(Object(c.db)(t[e]).isNaN()?0:Object(c.db)(t[e])),s=n[e].symbol;o.push("".concat(a," ").concat(s))})),o.join(" + ")}catch(s){return console.error("getApproveDetail",s),""}}(n,e,t)},976:function(e,t,a){"use strict";var c=a(1),s=a(11),n=a.n(s),o=a(70),l=a(1317),i=a(1319),r=a(1424),b=a(269),d=a(18),j=a(0),u=a(4),p=a(68),O=a(910),g=a(921),m=(a(929),a(932)),h=a(310),f=a(916),x=a(912),v=a(8),w=a(911),y=a(915),S=a(914),_=a(924),A=a(930),N=a(306),P=a(3);const{pools:k,poolKeys:L,ALL_FEE:C,defaultSlippage:T,stablePool:D}=u.default;t.a=e=>{const{pageList:t,tabPaneKey:a}=e,s=Object(o.d)((()=>p.default.network)),u=Object(o.d)((()=>p.default.system)),B=Object(o.d)((()=>p.default.pool)),[U,I]=Object(c.useState)((()=>{const e={};return L.map((t=>{e[t]=""})),e})()),[F,z]=Object(c.useState)(!1),[M,V]=Object(c.useState)(!0),[H,E]=Object(c.useState)(!1),[R,K]=Object(c.useState)("--"),[J,Z]=Object(c.useState)("--"),[Y,q]=Object(c.useState)(!1),[W,X]=Object(c.useState)(!1),[Q,G]=Object(c.useState)(!1);let $=null;Object(c.useEffect)((async()=>{await Promise.all([oe(U),te()]),Y&&se(U)}),[U]);const ee=async t=>{try{const a=[];e.onSubmit&&e.onSubmit(),L.map((e=>{a.push({...B.poolData[e],inputValue:t[e]?Object(j.db)(t[e]).times(k[e].precision):Object(j.a)(0)})}));for(let e=0;e<a.length;e++){const{allowance:t=Object(j.a)(0),inputValue:c,token:s,symbol:n,approveStatus:o,id:l}=a[e];if(Object(j.a)(t).lt(c)&&!o){if(!await u.approveToken(s,D,{title:"deposit.approve_token",obj:{value:n},continuous:!0},[["pool/getBalanceInfo"]]))return;B.poolData[l].approveStatus=2}}const c=a.sort(((e,t)=>e.index-t.index)),s=c.length,n=c.map((e=>e.inputValue._toIntegerDown()._toHex()))||[];let o=null;if(B.lpTotalSupply.lte(0)&&await B.getUserLp(),B.lpTotalSupply.lte(0))o=Object(j.a)(1);else{const e=await Object(v.e)(n);if(!e.success)return;o=e.value}o=o.times(Object(j.a)(1).minus(Object(j.a)(C).times(s).div(Object(j.a)(4).times(s-1)).div(1e10)));const l=o.times(1-T)._toFixed(0,1),i={title:"actions.addLiq",obj:{detail:Object(j.A)(t)},forTransitionModal:{title:"banner.title_deposit",symbols:Object(j.A)(t)}};await u.addLiquidity(n,l,i,[["pool/updateCurrencyData"]])&&be()}catch(a){console.log("deposit err: ",a)}},te=async()=>{const e=[];for(let a in U){const{index:t,precision:c}=k[a],s=U[a].replace(/,/g,"");e[t]=Object(j.a)(s).isNaN()?0:Object(j.a)(s).times(c)._toIntegerDown()._toHex()}let t=null;if(B.lpTotalSupply.lte(0)&&await B.getUserLp(),B.lpTotalSupply.lte(0))t=Object(j.a)(1);else{const a=await Object(v.e)(e);if(!a.success)return;t=a.value.div(1e18)}Z(t)},ae=async()=>{await Promise.all([B.getSwapBalance(),B.getVirtualPrice(),B.getVolData()])},ce=async()=>{await Promise.all([B.getUserLp(),B.getBalanceInfo()]);const e={};L.map((t=>{const{precision:a,balance:c,decimal:s}=B.poolData[t];e[t]=Object(j.c)(Object(j.a)(c).div(a)._toFixed(s,1))})),I(e),!Y&&q(!0),$||($=setInterval((async()=>{ae(),B.getUserLp()}),s.defaultIntervalSec))};Object(c.useEffect)((async()=>(await Promise.all([ce(),ae()]),()=>{clearInterval($)})),[s.defaultAccount]);const se=e=>{const t=Object.keys(e),a=t.length;if(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object.keys(e),a=t.filter((t=>Object(j.db)(e[t]).eq(0)||!e[t]));return t.length===a.length}(e))return E(n.a.get("error.e1")),!0;for(let c=0;c<a;c++){const a=t[c],s=e[a];if(!s&&(F||M))return E(n.a.get("error.e1")),!0;const{balance:o,precision:l,symbol:i}=B.poolData[a];if(Object(j.a)(o).div(l).lt(Object(j.db)(s)))return E(n.a.get("error.e2",{token:i})),!0}return E(!1),!1},ne=e=>{G(e.target.checked)},oe=async e=>{const t=await B.calcInclPrice(e);K(t)},le=(e,t)=>{const a=t,c={};c[e]=Object(j.c)(String(a).replace(/,/g,""));const{precision:s,swapBalance:n,balance:o}=B.poolData[e],l=Object(j.db)(a).div(n).isNaN()?Object(j.a)(0):Object(j.db)(a).div(n);L.filter((t=>t!==e)).map((e=>{const{balance:t=Object(j.a)(0),swapBalance:a,precision:s,decimal:n}=B.poolData[e];c[e]=Object(j.c)(l.times(a)._toFixed(n,1)),t.div(s).lt(Object(j.db)(c[e]))&&(c[e]=Object(j.c)(t.div(s)._toFixed(n,1)))})),I(c)},ie=async e=>{try{const t=e.target.checked;z(t),M&&V(!t),t&&le(L[0],U[L[0]])}catch(t){console.log(t)}},re=async e=>{try{const t=e.target.checked;V(t),F&&z(!t);const a={};L.map((e=>{const{balance:t,precision:c,decimal:s}=B.poolData[e];a[e]=Object(j.a)(t).isNaN()?0:Object(j.c)(t.div(c)._toFixed(s,1))})),I(a)}catch(t){console.log(t)}},be=()=>{G(!1),X(!1)},de=Object(N.b)();return Object(P.jsx)(o.a,{children:()=>Object(P.jsxs)(l.a,{...y.a.row,children:[Object(P.jsx)(i.a,{...y.a.colLeft,children:Object(P.jsxs)("div",{className:"pool-deposit",children:[Object(P.jsx)(w.a,{list:t,activeKey:a[0]}),e.isSinglePage?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(O.a,{routeName:"3pool/deposit",mountedActions:ce,instantActions:ae}),Object(P.jsx)(g.a,{title:"3pool "+n.a.get("banner.title_deposit"),desc:n.a.get("banner.desc_deposit")}),Object(P.jsx)(f.a,{})]}):null,s.isConnected?Object(P.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(P.jsxs)("div",{className:"add-liq",children:[Object(P.jsx)("fieldset",{className:"currencies",children:Object(P.jsx)("ul",{children:L.map((e=>{let{symbol:t="",balance:a="--",precision:c,decimal:s}=B.poolData[e];return a=Object(j.a)(a).div(c),Object(P.jsxs)("li",{children:[Object(P.jsxs)("div",{className:"cur-label",children:[Object(P.jsxs)("span",{className:"icon",children:[Object(P.jsx)("img",{src:d.b[e]?d.b[e]:b.default,alt:"",className:"token-logo"})," ",t]}),Object(P.jsx)("span",{className:"token-max",children:n.a.getHTML("deposit.token_max",{balance:Object(j.u)(a)})})]}),Object(P.jsx)(_.a,{onMaxClick:()=>{((e,t,a)=>{if(Object(j.a)(t).isNaN())return;const c=Object(j.a)(t)._toFixed(a,1);I({...U,[e]:Object(j.c)(c)}),F&&le(e,c)})(e,a,s)},value:U[e],onChange:t=>((e,t)=>{M&&V(!1);const{decimal:a}=k[t],{valid:c,str:s}=Object(j.T)((""+e.target.value).replace(/,/g,""),a);c&&(I({...U,[t]:Object(j.c)(s)}),F&&le(t,s))})(t,e)})]},e)}))})}),!Object(j.a)(R).isNaN()&&Object(j.Y)(R,!0),Object(P.jsxs)("div",{className:"deposit-check",children:[Object(P.jsx)(r.a,{checked:F,onChange:ie,children:n.a.get("deposit.ch1")}),Object(P.jsx)("br",{}),Object(P.jsx)(r.a,{checked:M,onChange:re,children:n.a.get("deposit.ch2")})]}),H?Object(P.jsx)(x.a,{styleName:"mt-40",type:"single",disabled:!0,info:n.a.get("deposit.action")}):Object(P.jsx)(x.a,{styleName:"mt-40",type:"single",info:de?n.a.get("not_available"):n.a.get("deposit.action"),onClick:()=>(async e=>{try{if(!H&&se(e))return;if(H)return;if(Object(j.a)(R).abs().gt(10))return X(!0);await ee(e)}catch(t){console.log(t)}})(U),disabled:de}),H&&Object(P.jsx)("div",{className:"error-content mt-12",children:Object(P.jsx)("div",{className:"error-tip",children:H})}),Object(j.a)(J).gt(0)&&Object(P.jsxs)("div",{className:"error-content mt-12",children:[Object(P.jsxs)("div",{className:"error-tip",children:[n.a.getHTML("deposit.swap_detail",{value:Object(j.u)(J,2),symbol:"Old 3pool LP"})," "]}),Object(P.jsx)("div",{className:"error-tip",children:n.a.get("deposit.exchange_rate",{value:Object(j.u)(B.virtualPrice,6),symbol:"Old 3pool LP"})})]})]})}):Object(P.jsx)(S.a,{}),Object(P.jsx)(h.a,{}),Object(P.jsx)(A.a,{confirmSlippageCheck:Q,onChangeConfirmSlippageCheck:ne,open:W,closable:!0,onCancel:be,onOk:()=>ee(U),value:Object(j.u)(Object(j.a)(R).abs(),3),okText:n.a.get("deposit.anyway")})]})}),Object(P.jsx)(i.a,{...y.a.colRight,children:Object(P.jsx)(m.a,{className:s.isConnected?null:"window-for-tabs-pane"})})]})})}},978:function(e,t,a){"use strict";var c=a(1),s=a(11),n=a.n(s),o=a(1317),l=a(1319),i=a(314),r=a(894),b=a(269),d=a(70),j=a(68),u=a(18),p=a(4),O=a(8),g=a(0),m=a(932),h=a(910),f=a(921),x=(a(929),a(916)),v=(a(36),a(917)),w=a(912),y=a(918),S=a(915),_=a(911),A=a(914),N=a(924),P=a(3);const{pools:k,poolKeys:L,stableLp:C,ALL_FEE:T,stablePool:D,tokens:B}=p.default,U="---",I="CUSTOM",F=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t={};return L.map((a=>{t[a]=e})),t};t.a=e=>{const{pageList:t,tabPaneKey:a}=e,[s=F("--"),p]=Object(c.useState)(),[z,M]=Object(c.useState)("100.00"),[V,H]=Object(c.useState)(.2),[E,R]=Object(c.useState)(""),[K,J]=Object(c.useState)(!0),[Z,Y]=Object(c.useState)(!1),[q,W]=Object(c.useState)("--"),[X=F(!1),Q]=Object(c.useState)(),[G,$]=Object(c.useState)(!1),[ee,te]=Object(c.useState)(!1),ae=Object(d.d)((()=>j.default.system)),ce=Object(d.d)((()=>j.default.pool)),se=Object(d.d)((()=>j.default.network));let ne=null;Object(c.useEffect)((async()=>{ee&&oe()}),[s,z,V,E,X]),Object(c.useEffect)((()=>{ge(s,Z)}),[s]);const oe=()=>z!==U&&Object(g.db)(z).gt(100)?($(n.a.get("error.e3")),!0):(()=>{for(let e in s)if(Object(g.db)(s[e]).gt(0)||"--"===s[e])return!1;return!0})()?($(n.a.get("error.e4")),!0):V===I&&(be()||z===U)&&(Object(g.a)(E).lt(.1)||Object(g.a)(E).gt(50)||Object(g.a)(E).isNaN())?($(n.a.get("error.e5")),!0):($(!1),!1),le=async(e,t)=>{try{const a=e.length,c=e.map((e=>e.inputValue.isNaN()?0:e.inputValue._toIntegerDown()._toHex()))||[],n=await Object(O.e)(c,!1);if(!n.success)return;let o=n.value.times(Object(g.a)(1).plus(Object(g.a)(T).times(a).div(4*(a-1))));const l=Object(g.a)(100).plus(t).div(100);if(o=o.times(l)._toIntegerDown(),K&&Object(g.a)(ce.userLpAllowance).lt(o)){if(!await ae.approveToken(C,D,{title:"deposit.approve_token",obj:{value:B.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]))return;J(!1)}const i=o._toHex(),r={title:"actions.remove",obj:{detail:Object(g.A)(s)},forTransitionModal:{title:"banner.title_withdraw",symbols:Object(g.A)(s)}};await ae.removeLiqImBalance(c,i,r,[["pool/updateCurrencyData"]])}catch(a){console.log(a)}},ie=async(e,t)=>{try{const a=await de(t,e,Object(g.db)(z));if(!a)return;const{userLpBalance:c,lpTotalSupply:n,balances:o,userLpAllowance:l,minAmounts:i}=a,r=Object(g.db)(z).div(100).times(c)._toIntegerDown();if(K&&Object(g.a)(l).lt(r._toIntegerDown())){if(!await ae.approveToken(C,D,{title:"deposit.approve_token",obj:{value:B.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]))return;J(!1)}const b={title:"actions.remove",obj:{detail:Object(g.A)(s)},forTransitionModal:{title:"banner.title_withdraw",symbols:Object(g.A)(s)}},d=r._toHex();await ae.removeLiquidity(d,i,b,[["pool/updateCurrencyData"]])}catch(a){console.log(a)}},re=async(e,t,a)=>{try{const c=await Object(O.rb)(t,e);if(!c.success)return;const{userLpBalance:n,userLpAllowance:o}=c,l=Object(g.db)(z).div(100).times(n)._toIntegerDown();if(K&&Object(g.a)(o).lt(l._toIntegerDown())){if(!await ae.approveToken(C,D,{title:"deposit.approve_token",obj:{value:B.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]))return;J(!1)}const i=l._toHex();let r=!1;for(let e in X)!0===X[e]&&(r=k[e].index);const b=await Object(O.q)(i,r);if(!b.success)return;const d=b.value,j=e.length,u=d.times(Object(g.a)(1).minus(Object(g.a)(T).times(j).div(4*(j-1)).div(1e10))),p=Object(g.a)(100).div(Object(g.a)(100).plus(a)),m=u.times(p)._toIntegerDown()._toHex(),h={title:"actions.remove",obj:{detail:Object(g.A)(s)},forTransitionModal:{title:"banner.title_withdraw",symbols:Object(g.A)(s)}};await ae.removeLiqOneCoin(i,r,m,h,[["pool/updateCurrencyData"]])}catch(c){console.log(c)}},be=()=>{for(let e in X)if(X[e])return e;return!1},de=async function(e,t,a){let c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{const s=await Object(O.rb)(e,t);if(!s.success)return;const{userLpBalance:n,lpTotalSupply:o,balances:l,userLpAllowance:i}=s,r=[],b={};return t.map((e=>{const{index:t,id:s,decimal:i,precision:d}=e;let j=Object(g.db)(a).div(100).times(l[t]);c||(j=Object(g.a)(.98).times(j)),r[t]=j.times(n).div(o)._toIntegerDown()._toHex(),b[s]=Object(g.c)(j.times(n).div(o).div(d)._toFixed(i,1))})),{userLpBalance:n,lpTotalSupply:o,balances:l,userLpAllowance:i,minAmounts:r,amountsStr:b}}catch(s){console.log(s)}},je=async(e,t)=>{try{await ce.getUserLp();const{userLpBalance:a}=ce,{precision:c,decimal:s}=k[e],n=Object(g.db)(t).div(100).times(a)._toIntegerDown(),o=k[e].index,l=n._toHex(),i=await Object(O.q)(l,o);if(!i.success)return!1;const r=i.value;return Object(g.a)(r).div(c)._toFixed(s,1)}catch(a){console.log(a)}},ue=()=>{ce.getSwapBalance(),ce.getVirtualPrice(),ce.getVolData()},pe=async()=>{await Promise.all([ce.getUserLp(),ce.getBalanceInfo()]);const e={};L.map((t=>{const{userSwapBalance:a,decimal:c}=ce.poolData[t];e[t]=Object(g.c)(Object(g.a)(a)._toFixed(c,1))})),p(e),ne||(ne=setInterval((async()=>{ue(),await ce.getUserLp()}),se.defaultIntervalSec))};Object(c.useEffect)((()=>(pe(),ue(),()=>{clearInterval(ne)})),[]);const Oe=async(e,t)=>{!ee&&te(!0);let a=Object(g.db)(z);const c={},n={};if(e){Y(!0);for(let e in X)e!==t&&(c[e]=!1,n[e]=0);Q({...X,...c,[t]:e}),(z===U||Object(g.db)(z).lte(0))&&(a="100.00",M(a)),Object(g.a)(a).gt(100)&&(a=100);const o=await je(t,a);o&&p({...s,...n,[t]:Object(g.c)(o)})}else M(U),Y(!1),Q({...X,[t]:e})},ge=async(e,t)=>{const a=await ce.calcInclPrice(e,!1,t);W(a)},me=async e=>{var t;!ee&&te(!0);let a=e.target.value,c=a.split(".");if((null===(t=c[1])||void 0===t?void 0:t.length)>2&&(a="".concat(c[0]+"."+c[1].substr(0,2))),Object(g.a)(a).gt(100))return;const{valid:n,str:o}=Object(g.T)(a,10);if(z===U)return(()=>{const e={},t={};L.map((a=>{e[a]=0,t[0]=!1})),p(e),Q(X),M(0)})();if(""===a)return M(""),(()=>{const e={};L.map((t=>{e[t]=0})),p(e)})();if(n){M(Object(g.c)(o));const t=Object(g.a)(o).gt(100)?Object(g.a)(100):Object(g.a)(o);if(t.isNaN())return;if(!se.defaultAccount)return;const c=se.defaultAccount,n=be();if(n){const e=await je(n,t);return e&&p({...s,[n]:Object(g.c)(e)})}if(o!==U){const t=[];L.map((e=>{t.push({...k[e]})}));const s=t.sort(((e,t)=>e.index-t.index)),n=await de(c,s,o,!0);if(a===e.target.value){const{amountsStr:e={}}=n;n&&p(e)}}}},he=e=>{!ee&&te(!0),H(e),e!==U&&R("")},fe=e=>{const{valid:t,str:a}=Object(g.T)(e,10);if(t)if(""===a)R("");else if(Object(g.a)(a).lte(100)){var c;let e=a,t=a.split(".");(null===(c=t[1])||void 0===c?void 0:c.length)>2&&(e="".concat(t[0]+"."+t[1].substr(0,2))),R(e)}},xe=e=>be()||z===U?Object(P.jsx)("div",{className:"flex start mt-20",children:Object(P.jsx)(y.a,{slippage:e,customSlippage:E,CUSTOM_SLIPPAGE:I,onChangeSlippage:he,onChangeCustomSlippage:fe})}):Object(P.jsx)(P.Fragment,{});return Object(P.jsx)(d.a,{children:()=>Object(P.jsxs)(o.a,{...S.a.row,children:[Object(P.jsxs)(l.a,{...S.a.colLeft,children:[Object(P.jsx)(_.a,{list:t,activeKey:a[0]}),Object(P.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(h.a,{routeName:"3pool/withdraw",mountedActions:pe,instantActions:ue}),Object(P.jsx)(f.a,{title:"3pool "+n.a.get("banner.title_withdraw"),desc:n.a.get("banner.desc_withdraw")}),Object(P.jsx)(x.a,{})]}):null,se.isConnected?Object(P.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(P.jsxs)("div",{className:"add-liq withdraw-liq",children:[Object(P.jsxs)("div",{className:"flex",children:[n.a.get("withdraw.share_of_liq"),Object(P.jsx)(N.a,{className:"flex-1 ml-20",showMax:!1,placeholder:"100.00",value:z,onChange:me})]}),Object(P.jsxs)("fieldset",{className:"currencies mt-35",children:[Object(P.jsx)("legend",{children:n.a.get("deposit.currencies")}),Object(P.jsx)("ul",{children:L.map((e=>{const t=k[e],{symbol:a=""}=t;return Object(P.jsxs)("li",{children:[Object(P.jsx)("div",{className:"cur-label",children:Object(P.jsxs)("span",{className:"icon",children:[Object(P.jsx)("img",{src:u.b[e]?u.b[e]:b.default,alt:"",className:"token-logo"}),a]})}),Object(P.jsx)(N.a,{showMax:!1,value:s[e],onChange:t=>{(async(e,t)=>{!ee&&te(!0);const{decimal:a}=k[t],{valid:c,str:n}=Object(g.T)((""+e.target.value).replace(/,/g,""),a);c&&p({...s,[t]:Object(g.c)(n)}),M(U),Y(!1);const o={};for(let s in X)o[s]=!1;Q(o)})(t,e)}})]},e)}))})]}),Object(g.Y)(q),Object(P.jsxs)("fieldset",{children:[Object(P.jsxs)("legend",{className:"flex aic jcs pt20",children:[Object(P.jsx)("span",{className:"mr-10",children:n.a.get("withdraw.withdraw_text")}),Object(P.jsx)(i.a,{title:n.a.get("withdraw.tip"),children:Object(P.jsx)(r.a,{})})]}),Object(P.jsx)("div",{className:"withdraw-one",children:L.map((e=>{const{symbol:t=""}=k[e];return Object(P.jsx)(v.a,{id:e,checked:X[e],tokenLogo:u.b[e]?u.b[e]:b.default,symbol:t,onChange:Oe})}))})]}),xe(V),G?Object(P.jsx)(w.a,{styleName:"mt-40",type:"single",disabled:!0,info:n.a.get("withdraw.action")}):Object(P.jsx)(w.a,{styleName:"mt-40",type:"single",info:n.a.get("withdraw.action"),onClick:()=>(async t=>{try{if(!se.defaultAccount)return;if(!ee&&te(!0),!G&&oe(t))return;if(G)return;const a=se.defaultAccount,c=[];L.map((e=>{c.push({...k[e],inputValue:Object(g.db)(t[e]).times(k[e].precision)})}));const s=c.sort(((e,t)=>e.index-t.index)),n=V===I?E:V;return e.onSubmit&&e.onSubmit(),Z?await re(s,a,n):z!==U?await ie(s,a):await le(s,n)}catch(a){console.log(a)}})(s),disabled:G}),G&&Object(P.jsx)("div",{className:"error-content mt-12",children:Object(P.jsx)("div",{className:"error-tip",children:G})})]})}):Object(P.jsx)(A.a,{})]})]}),Object(P.jsx)(l.a,{...S.a.colRight,children:Object(P.jsx)(m.a,{className:se.isConnected?null:"window-for-tabs-pane"})})]})})}},996:function(e,t,a){"use strict";a.r(t),a.d(t,"renderTab",(function(){return M})),a.d(t,"usePoolTab",(function(){return R}));var c=a(1317),s=a(1319),n=a(1989),o=a(70),l=a(1),i=a.n(l),r=a(11),b=a.n(r),d=(a(931),a(936),a(68)),j=a(910),u=(a(1954),a(1953)),p=(a(1421),a.p,a(269)),O=a(937),g=a(938),m=a(4),h=a(8),f=a(18),x=a(0),v=a(917),w=a(918),y=a(912),S=a(169),_=a(98),A=a(3);function N(e){const[t,a]=Object(l.useState)(2),[c,s]=Object(l.useState)(1),[n,i]=Object(l.useState)(0),[r,j]=Object(l.useState)(1),[N,P]=Object(l.useState)(-1),[k,L]=Object(l.useState)(1),[C,T]=Object(l.useState)(.005),[D,B]=Object(l.useState)(""),[U,I]=Object(l.useState)(!0),[F,z]=Object(l.useState)(""),[M,V]=Object(l.useState)(!1),{pools:H,poolIndex:E,stablePool:R,poolKeys:K}=m.default,J=Object(o.d)((()=>d.default.network)),Z=Object(o.d)((()=>d.default.system)),Y=Object(o.d)((()=>d.default.pool)),[q,W]=Object(l.useState)(!1);Object(l.useEffect)((()=>{G({i:t,j:n,dx:c})}),[]);const X=()=>{!q&&W(!0);let e=t,c=n,o=r;e!==c&&(a(c),i(e),s(o),G({i:c,j:e,dx:o,notChangeRate:!0}),$({no:1,i:c,j:e,dx:o}))},Q=e=>{let{...t}=e;V(!M),$({...t,exchangeFlags:!M})},G=async e=>{let{...a}=e;try{let e=void 0===a.i?t:a.i,s=void 0===a.j?n:a.j,o=void 0===a.dx?Object(x.db)(c):Object(x.db)(a.dx);if(!Object(x.a)(o).gt(0))return void j(0);let l=Object(x.a)(o).times(H[E[e]].precision)._toIntegerDown()._toHex(),i=null;if(i=await Object(h.R)(e,s,l),i.success){let e=Object(x.a)(i.value).div(H[E[s]].precision);j(Object(x.c)(Object(x.a)(e)._toFixed(H[E[s]].decimal,1))),L(Object(x.a)(i.value))}else j(0),L(1);a.notChangeRate||$({i:e,j:s,dx:o})}catch(s){console.log("getDyData: ",s)}},$=async e=>{let{...a}=e;try{let e=void 0===a.i?t:a.i,s=void 0===a.j?n:a.j,o=void 0===a.dx?Object(x.db)(c):Object(x.db)(a.dx),l=void 0===a.exchangeFlags?M:a.exchangeFlags,i=Object(x.a)(o).times(H[E[e]].precision)._toIntegerDown()._toHex(),r=null;if(!Object(x.a)(o).gt(0))return;if(r=await Object(h.R)(e,s,i),r.success){let e=Object(x.a)(r.value).div(H[E[s]].precision).div(o);P(l?Object(x.a)(1).div(Object(x.a)(e)._toFixed(4,1))._toFixed(4,1):e._toFixed(4,1))}}catch(s){console.log("getRateData: ",s)}},ee=e=>{let o=t;Number(e)!==Number(n)&&(o=n),i(o),a(e);let l=Object(x.db)(c)._toFixed(H[E[e]].decimal,1);s(Object(x.c)(l)),G({i:e,j:o,dx:l})},te=e=>{let o=n;Number(e)!==Number(t)&&(o=t),a(o),i(e);let l=Object(x.db)(c)._toFixed(H[E[o]].decimal,1);s(Object(x.c)(l)),G({j:e,i:o,dx:l})},ae=e=>{!q&&W(!0);const{valid:a,str:c}=Object(x.T)((""+e).replace(/,/g,""),H[E[t]].decimal);let n=Y.poolData&&Object(x.a)(Y.poolData[E[t]].balance).div(H[E[t]].precision)._toFixed(2,1);if(a){if(Object(x.a)(c).lte(0))return s(Object(x.c)(c)),j(0),void z(b.a.get("buysell.error_msg_1"));Object(x.a)(c).gt(n)&&z(b.a.get("buysell.error_msg_2")),s(Object(x.c)(c)),G({dx:c})}},ce=e=>{let a="--";return a=Y.poolData[E[t]].balance,a=Object(x.a)(a).isNaN()?"--":Y.poolData[E[t]].balance.div(Y.poolData[E[t]].precision),Object(A.jsx)("span",{children:Y.poolData&&Object(x.u)(a)})},se=()=>{let{precision:e,balance:a,symbol:s}=Y.poolData[E[t]];return a=Object(x.a)(a).div(e),Object(x.db)(c).eq(0)||Object(x.db)(c).isNaN()?(z(b.a.get("error.e1")),!0):Object(x.db)(c).gt(a)?(z(b.a.get("error.e2",{token:s})),!0):2===C&&(!D||Number(D)<.1||Number(D)>50)?(z(b.a.get("error.e5")),!0):(z(""),!1)};Object(l.useEffect)((()=>{q&&se()}),[t,n,c,C,D]);const ne=()=>{let e=Y.poolData&&Object(x.a)(Y.poolData[E[t]].balance).div(H[E[t]].precision);ae(e)},oe=e=>{!q&&W(!0),T(e),2!==e&&B("")},le=e=>{!q&&W(!0);const{valid:t,str:a}=Object(x.T)(e,10);if(t)if(""===a)B("");else if(Object(x.a)(a).lte(100)){var c;let e=a,t=a.split(".");(null===(c=t[1])||void 0===c?void 0:c.length)>2&&(e="".concat(t[0]+"."+t[1].substr(0,2))),B(e)}},ie=()=>{const e=()=>{let e=t,a=n;return M&&([e,a]=[a,e]),Object(A.jsx)(A.Fragment,{children:E[e].toUpperCase()+"/"+E[a].toUpperCase()})},a=Object(_.useCurrentTheme)();return Object(A.jsxs)("p",{className:"exchang-rate-text mt-20",children:[Object(A.jsxs)("span",{className:"en-US"===window.localStorage.getItem("lang")?"er-en":"",children:[b.a.get("buysell.exchange_rate",{symbol:"3pool LP"})+" ",Object(A.jsx)(e,{})]}),Object(A.jsx)("img",{style:{cursor:"pointer",margin:"0 6px"},className:"exchange-img",alt:"",src:"dark"===a?O.a:g.a,onClick:Q}),Object(A.jsxs)("span",{children:["(",b.a.get("buysell.including_fees"),"): ",-1===N?b.a.get("buysell.not_available"):N]})]})},re=()=>{const a=async()=>{if(!F)try{let a=2!==C?C:D?Object(x.a)(D).div(100):0,s=Object(x.a)(k).times(Object(x.a)(1).minus(Object(x.a)(a)))._toIntegerDown()._toHex(),o=t,l=n,i=Object(x.db)(c).times(H[E[o]].precision)._toIntegerDown()._toHex();const b={title:"notification.tip1",title2:"notification.tip1",title3:"notification.tip1",title4:"notification.tip1",obj:{fromValue:Object(x.u)(Object(x.db)(c)),fromToken:E[o].toUpperCase(),toValue:Object(x.u)(Object(x.db)(r)),toToken:E[l].toUpperCase()}};let d=await Z.toExchange(o,l,i,s,b,[["pool/updateCurrencyData"]]);d&&(setTimeout((()=>{Y.getBalanceInfo()}),5e3),e.onSubmit&&e.onSubmit(d))}catch(a){console.log("sellSubmit: ",a)}};return Object(A.jsx)(A.Fragment,{children:F?Object(A.jsx)(y.a,{styleName:"mt-40",type:"single",disabled:!0,info:b.a.get("sell_btn")}):Object(A.jsx)(y.a,{styleName:"mt-40",type:"single",info:b.a.get("sell_btn"),onClick:async()=>{if(J.isConnected){if(!q&&W(!0),!F){if(se())return}if(!F)try{let e=(await Object(h.Tb)(window.defaultAccount,[H[E[t]].token],[R]))[R].allowance;const{approveStatus:c}=Y.poolData[E[t]];if(e.gt(0)||c)a();else{const e={action:"approve",title:"deposit.approve_token",obj:{value:K[t].toUpperCase()},continuous:!0};if(!await Z.approveToken(H[E[t]].token,R,e,[["pool/getBalanceInfo"]]))return;Y.poolData[E[t]].approveStatus=2,a()}}catch(e){console.log("exchangeBefore: ",e)}}else z(b.a.get("buysell.error_msg_3"))}})})},be=e=>{let{direction:a="left"}=e,c=K;return Object(A.jsx)("div",{className:"flex start mb-16 pc-input-box",children:c.map((e=>{const c=f.b[e]||p.default,s="left"===a?t:n;return Object(A.jsx)(v.a,{id:e,checked:s===H[e].index,tokenLogo:c,symbol:H[e].symbol,onChange:(t,c)=>{"left"===a?ee(H[e].index):te(H[e].index)}})}))})},de=()=>Object(A.jsx)("span",{className:"exchange-alt",onClick:()=>X()}),je=Object(S.default)(S.isMobileOnlyMedia);return Object(A.jsx)(o.a,{children:()=>Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"exchange-box",children:[Object(A.jsx)(be,{direction:"left"},"left"),Object(A.jsxs)("div",{className:"input-block",children:[Object(A.jsxs)("div",{className:"flex",children:[Object(A.jsx)("div",{className:"input-number",children:Object(A.jsx)(u.a,{className:"input",value:c,onChange:e=>ae(e.target.value)})}),Object(A.jsx)("span",{className:"max-btn",onClick:ne,children:b.a.get("sunSwapV3.swap.input_from_max")})]}),Object(A.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(A.jsx)("span",{children:b.a.get("sunSwapV3.swap.input_from_balance")})," ",ce(Y.poolData)]})]}),Object(A.jsxs)("div",{className:"flex",children:[Object(A.jsx)(de,{}),!je&&Object(A.jsx)("div",{className:"flex start",children:Object(A.jsx)(w.a,{type:"exchange",slippage:C,customSlippage:D,CUSTOM_SLIPPAGE:2,onChangeSlippage:e=>{oe(Number(e))},onChangeCustomSlippage:e=>{T(2),le(e)}})})]}),Object(A.jsx)(be,{direction:"right"},"right"),Object(A.jsxs)("div",{className:"input-block",children:[Object(A.jsx)("div",{className:"input-number",children:Object(A.jsx)(u.a,{disabled:!0,className:"input",value:r})}),Object(A.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(A.jsx)("span",{children:b.a.get("sunSwapV3.swap.input_from_balance")})," ",ce(Y.poolData)]})]}),Object(A.jsx)(ie,{}),je&&Object(A.jsx)("div",{className:"flex start",children:Object(A.jsx)(w.a,{type:"exchange",slippage:C,customSlippage:D,CUSTOM_SLIPPAGE:2,onChangeSlippage:e=>{oe(Number(e))},onChangeCustomSlippage:e=>{T(2),le(e)}})})]}),Object(A.jsx)(re,{}),F&&Object(A.jsx)("div",{className:"error-content mt-12",children:Object(A.jsx)("div",{className:"error-tip",children:F})})]})})}var P=a(932),k=a(976),L=a(978),C=a(939),T=a(52),D=a(920),B=a(915),U=a(911),I=a(914),F=a(940);const z=e=>{let{onSubmit:t,pageList:a,tabPaneKey:n,isConnected:o}=e;return Object(A.jsxs)(c.a,{...B.a.row,children:[Object(A.jsxs)(s.a,{...B.a.colLeft,children:[Object(A.jsx)(U.a,{list:a,activeKey:n[0]}),o?Object(A.jsx)("div",{className:"window-for-tabs-pane",children:Object(A.jsx)(N,{onSubmit:t})}):Object(A.jsx)(I.a,{})]}),Object(A.jsx)(s.a,{...B.a.colRight,children:Object(A.jsx)(P.a,{})})]})},M=e=>Object(A.jsx)("span",{children:E[e].tabTitle}),{tabChangeLog:V,tabSubmitLog:H}=Object(C.a)({childPage:T.j.liquidity_old3pool}),E={1:{title:b.a.get("banner.title_deposit"),content:b.a.get("banner.desc_deposit"),tabTitle:b.a.get("header.deposit")},2:{title:b.a.get("banner.title_withdraw"),content:b.a.get("banner.desc_withdraw"),tabTitle:b.a.get("header.withdraw")},3:{title:b.a.get("banner.title_1"),content:b.a.get("banner.desc_1"),tabTitle:b.a.get("header.swap")}},R=e=>{let[,t,a]=window.location.hash.split("/");const c=window.localStorage.getItem("lang");return t.includes("usdc")&&(t="en-US"===c?"USDC Old":"Old USDC"),t.includes("3pool")&&(t="Old 3pool"),t.includes("busd")&&(t="en-US"===c?"Old BUSD":b.a.get("buysell.busd_2pool")),t.includes("usdd_usd_2pool")&&(t="en-US"===c?"Old USDD":b.a.get("buysell.usdd_2pool")),t.includes("usdj_2pool")&&(t="en-US"===c?"Old USDJ":b.a.get("buysell.usdj_2pool")),t.includes("tusd_2pool")&&(t="en-US"===c?"Old TUSD":b.a.get("buysell.tusd_2pool")),{title:t,tabKey:[{deposit:"1",withdraw:"2",swap:"3"}[a]||"1"]}};t.default=()=>{const{title:e,tabKey:t}=R(),[a,c]=i.a.useState(t),{mountedActions:s,instantActions:r}=(()=>{let e=null;const t=Object(o.d)((()=>d.default.pool)),a=Object(o.d)((()=>d.default.network)),c=()=>{t.getSwapBalance(),t.getVirtualPrice(),t.getVolData()};return i.a.useEffect((()=>()=>{clearInterval(e)}),[]),{mountedActions:async()=>{t.getUserLp(),await t.getBalanceInfo(),e||(e=setInterval((async()=>{c(),t.getUserLp(),await t.getBalanceInfo()}),a.defaultIntervalSec))},instantActions:c}})(),u=Object(l.useCallback)((e=>{let{value:t}=e;c(t),V(t)}),[]),p=()=>{const e=window.localStorage.getItem("lang")||b.a.options.currentLocale,t=window.location.origin+window.location.pathname;window.location.href=t+"?lang=".concat(e,"#/sunCurve")},O=Object(l.useMemo)((()=>({shouldScroll:!0,navRightMoreShow:!0,navRightMoreClick:p})),[]),g=Object(l.useMemo)((()=>B.b.map((e=>({...e,handler:u})))),[u]),m=Object(o.d)((()=>d.default.network));return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(j.a,{mountedActions:s,instantActions:r,subNavProps:O}),Object(A.jsxs)("div",{className:"main-page-content",children:[Object(A.jsx)(D.a,{title:"".concat(e," ").concat(E[a[0]].title),subTitle:E[a[0]].content}),Object(A.jsxs)("div",{className:"pool-tabs",children:[Object(A.jsxs)(n.a,{activeKey:a[0],centered:!0,onChange:u,renderTabBar:()=>null,children:[Object(A.jsx)(n.a.TabPane,{tab:M("1"),children:Object(A.jsx)(k.a,{onSubmit:()=>H("1"),pageList:g,tabPaneKey:a})},"1"),Object(A.jsx)(n.a.TabPane,{tab:M("2"),children:Object(A.jsx)(L.a,{onSubmit:()=>H("2"),pageList:g,tabPaneKey:a})},"2"),Object(A.jsx)(n.a.TabPane,{tab:M("3"),children:Object(A.jsx)(z,{onSubmit:e=>H("3",{event_label:e,txid:e}),pageList:g,tabPaneKey:a,isConnected:m.isConnected})},"3")]}),Object(A.jsx)(F.a,{name:"type",cb:u,valueFlag:!0})]})]})]})}}}]);