(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[47],{1872:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var a=n(3),r=n(0),c=n(2),s=n(21),i=n.n(s),o=n(70),u=n(824),l=n(826),d=n(866),p=n(838),f=n(829),b=(n(828),n(168)),j=n(10);function m(){var e=null,t=Object(o.d)((function(){return b.a.pool})),n=Object(o.d)((function(){return b.a.network})),s=function(){t.getSwapBalance(),t.getVirtualPrice(),t.getVolData()},m=function(){var a=Object(c.a)(Object(r.a)().mark((function a(){return Object(r.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.getUserLp(),a.next=3,t.getBalanceInfo();case 3:e||(e=setInterval(Object(c.a)(Object(r.a)().mark((function e(){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(),t.getUserLp(),e.next=4,t.getBalanceInfo();case 4:case"end":return e.stop()}}),e)}))),n.defaultIntervalSec));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(a.useEffect)((function(){return function(){clearInterval(e)}}),[]),Object(j.jsx)(o.a,{children:function(){return Object(j.jsxs)("div",{className:"pool-exchange",children:[Object(j.jsx)(u.a,{routeName:"3pool",mountedActions:m,instantActions:s}),Object(j.jsx)(l.a,{title:i.a.get("banner.title_6")}),Object(j.jsx)(f.a,{}),Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsx)("div",{className:"buy-sell common-bg",children:Object(j.jsx)(d.a,{})}),Object(j.jsx)(p.a,{myClass:"width-per100"})]})]})}})}n(839);function O(){return Object(j.jsx)(m,{})}},832:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(170),r=n(3),c=n(847),s=n(848);function i(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var o=i(a),u=i(r),l=i(c),d=i(s);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a,r,c=m(e);if(t){var s=m(this).constructor;n=Reflect.construct(c,arguments,s)}else n=c.apply(this,arguments);return a=this,!(r=n)||"object"!==typeof r&&"function"!==typeof r?v(a):r}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);s=!0);}catch(o){i=!0,r=o}finally{try{s||null==n.return||n.return()}finally{if(i)throw r}}return c}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var y=function(e,t){var n=t.decimal,a=t.decimals,r=t.duration,c=t.easingFn,s=t.end,i=t.formattingFn,o=t.prefix,u=t.separator,l=t.start,p=t.suffix,f=t.useEasing;return new d.default(e,l,s,a,r,{decimal:n,easingFn:c,formattingFn:i,separator:u,prefix:o,suffix:p,useEasing:f,useGrouping:!!u})},w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(c,e);var t,n,a,r=x(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return j(v(e=r.call.apply(r,[this].concat(n))),"checkProps",(function(t){var n=e.props,a=n.start,r=n.suffix,c=n.prefix,s=n.redraw,i=n.duration,o=n.separator,u=n.decimals,l=n.decimal,d=n.className;return i!==t.duration||a!==t.start||r!==t.suffix||c!==t.prefix||o!==t.separator||u!==t.decimals||l!==t.decimal||d!==t.className||s})),j(v(e),"createInstance",(function(){return"function"===typeof e.props.children&&l.default(e.containerRef.current&&(e.containerRef.current instanceof HTMLElement||e.containerRef.current instanceof SVGTextElement||e.containerRef.current instanceof SVGTSpanElement),'Couldn\'t find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an HTMLElement, eg. <span ref={containerRef} />.'),y(e.containerRef.current,e.props)})),j(v(e),"pauseResume",(function(){var t=v(e),n=t.reset,a=t.restart,r=t.update,c=e.props.onPauseResume;e.instance.pauseResume(),c({reset:n,start:a,update:r})})),j(v(e),"reset",(function(){var t=v(e),n=t.pauseResume,a=t.restart,r=t.update,c=e.props.onReset;e.instance.reset(),c({pauseResume:n,start:a,update:r})})),j(v(e),"restart",(function(){e.reset(),e.start()})),j(v(e),"start",(function(){var t=v(e),n=t.pauseResume,a=t.reset,r=t.restart,c=t.update,s=e.props,i=s.delay,o=s.onEnd,u=s.onStart,l=function(){return e.instance.start((function(){return o({pauseResume:n,reset:a,start:r,update:c})}))};i>0?e.timeoutId=setTimeout(l,1e3*i):l(),u({pauseResume:n,reset:a,update:c})})),j(v(e),"update",(function(t){var n=v(e),a=n.pauseResume,r=n.reset,c=n.restart,s=e.props.onUpdate;e.instance.update(t),s({pauseResume:a,reset:r,start:c})})),j(v(e),"containerRef",u.default.createRef()),e}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.children,n=e.delay;this.instance=this.createInstance(),"function"===typeof t&&0!==n||this.start()}},{key:"shouldComponentUpdate",value:function(e){var t=this.props.end;return this.checkProps(e)||t!==e.end}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.end,a=t.preserveValue;this.checkProps(e)&&(this.instance.reset(),this.instance=this.createInstance(),this.start()),n!==e.end&&(a||this.instance.reset(),this.instance.update(n))}},{key:"componentWillUnmount",value:function(){this.timeoutId&&clearTimeout(this.timeoutId),this.instance.reset()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=e.style,r=this.containerRef,c=this.pauseResume,s=this.reset,i=this.restart,o=this.update;return"function"===typeof t?t({countUpRef:r,pauseResume:c,reset:s,start:i,update:o}):u.default.createElement("span",{className:n,ref:r,style:a})}}])&&b(t.prototype,n),a&&b(t,a),c}(r.Component);j(w,"propTypes",{decimal:o.default.string,decimals:o.default.number,delay:o.default.number,easingFn:o.default.func,end:o.default.number.isRequired,formattingFn:o.default.func,onEnd:o.default.func,onStart:o.default.func,prefix:o.default.string,redraw:o.default.bool,separator:o.default.string,start:o.default.number,startOnMount:o.default.bool,suffix:o.default.string,style:o.default.object,useEasing:o.default.bool,preserveValue:o.default.bool}),j(w,"defaultProps",{decimal:".",decimals:0,delay:null,duration:null,easingFn:null,formattingFn:null,onEnd:function(){},onPauseResume:function(){},onReset:function(){},onStart:function(){},onUpdate:function(){},prefix:"",redraw:!1,separator:"",start:0,startOnMount:!0,suffix:"",style:void 0,useEasing:!0,preserveValue:!1});var N={innerHTML:null};t.default=w,t.useCountUp=function(e){var t=f(f({},w.defaultProps),e),n=t.start,a=t.formattingFn,c=h(r.useState("function"===typeof a?a(n):n),2),s=c[0],i=c[1],o=r.useRef(null),u=r.useRef(null),l=function(){var e=o.current;if(null!==e)return e;var n=function(){var e=y(N,t),n=e.options.formattingFn;return e.options.formattingFn=function(){var e=n.apply(void 0,arguments);i(e)},e}();return o.current=n,n},d=function(){var e=t.onReset;l().reset(),e({pauseResume:b,start:p,update:j})},p=function e(){var n=t.onStart,a=t.onEnd;l().reset(),l().start((function(){a({pauseResume:b,reset:d,start:e,update:j})})),n({pauseResume:b,reset:d,update:j})},b=function(){var e=t.onPauseResume;l().pauseResume(),e({reset:d,start:p,update:j})},j=function(e){var n=t.onUpdate;l().update(e),n({pauseResume:b,reset:d,start:p})};return r.useEffect((function(){var e=t.delay,n=t.onStart,a=t.onEnd;return t.startOnMount&&(u.current=setTimeout((function(){n({pauseResume:b,reset:d,update:j}),l().start((function(){clearTimeout(u.current),a({pauseResume:b,reset:d,start:p,update:j})}))}),1e3*e)),function(){clearTimeout(u.current),d()}}),[]),{countUp:s,start:p,pauseResume:b,reset:d,update:j}}},838:function(e,t,n){"use strict";n(3);var a=n(21),r=n.n(a),c=n(70),s=n(268),i=n(807),o=n(5),u=n(168),l=n(1),d=(n(830),n(833)),p=n(843),f=n(10),b=o.a.Fee,j=(o.a.A,o.a.ADMIN_FEE),m=o.a.poolKeys,O=o.a.pools;t.a=function(e){var t=Object(c.d)((function(){return u.a.pool})),n=Object(c.d)((function(){return u.a.network})),a=function(){return m.map((function(e){return O[e].symbol})).join(" + ")},v=function(e,t){var n=Object(l.a)(e).times(t).div(1e18);return n.isNaN()?"--":Object(l.t)(n,2)},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n=Object(l.a)(0);for(var a in e){var r=e[a],c=r.userSwapBalance,s=r.priceKey,i=t?t[s]:"--";n=n.plus(Object(l.a)(c).times(i))}return Object(l.t)(n)}catch(o){return console.log(o),"--"}},h="";return e.className?h=e.className:(h="cur-reserve-container",e.myClass&&(h+=e.myClass)),h+=" flex wrap top",Object(f.jsx)(c.a,{children:function(){return Object(f.jsxs)("div",{className:h,children:[Object(f.jsxs)("div",{className:"cur-reserve",children:[Object(f.jsx)("div",{className:"title-text",children:r.a.get("pool.cur_reserve")}),Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsxs)("div",{children:[Object(f.jsxs)("ul",{children:[m.map((function(e){var n=t.poolData[e],a=n.symbol,r=n.swapBalance,c=n.per;return Object(f.jsxs)("li",{children:[a,": ",Object(l.t)(r)," (",Object(l.t)(c),"%)"]},"cur_"+e)})),Object(f.jsxs)("li",{children:[a(),": ",Object(l.t)(t.totalSwapBalance)]},"cur_all")]}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"fee",children:r.a.get("pool.fee",{value:b})}),Object(f.jsx)("div",{className:"admin_fee",children:r.a.get("pool.admin_fee",{value1:j,value2:b})}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"virtual_price flex aic jcs",children:[r.a.get("pool.virtual_price",{value:Object(l.t)(t.virtualPrice,{dp:4})}),Object(f.jsx)(s.a,{title:r.a.get("pool.v_tip"),children:Object(f.jsx)(i.a,{})})]}),Object(f.jsx)("br",{}),t.volData&&Object(f.jsx)("div",{className:"d_usd_volume",children:r.a.get("pool.d_usd_volume",{value:"$"+Object(l.t)(t.volData["3pvol24Hours"],2)})}),Object(f.jsxs)("a",{href:"".concat(o.a.tronscanUrl,"/contract/").concat(o.a.stablePool),rel:"noopener noreferrer",target:"_blank",className:"purple-text",children:["Old 3Pool ",r.a.get("pool.pool2_contract")," ",Object(f.jsx)("img",{src:d.a})]}),Object(f.jsxs)("a",{href:"".concat(o.a.tronscanUrl,"/contract/").concat(o.a.stableLp),rel:"noopener noreferrer",target:"_blank",className:"purple-text",children:["3SUN ",r.a.get("pool.token_contract2")," ",Object(f.jsx)("img",{src:d.a})]})]}),!n.isConnected&&Object(f.jsx)(p.a,{})]})]}),n.isConnected&&Object(l.a)(t.sharePer).gt(0)&&Object(f.jsxs)("div",{className:"my-share",children:[Object(f.jsxs)("div",{className:"title-text",children:[r.a.get("pool.my_share")," (",r.a.get("pool.of_pool",{value:Object(l.t)(t.sharePer,{percent:!0})}),")"]}),Object(f.jsxs)("ul",{children:[m.map((function(e){var n=t.poolData[e],a=n.symbol,r=n.userSwapBalance;return Object(f.jsxs)("li",{children:[a,": ",Object(l.t)(r)]},"my_"+e)})),Object(f.jsxs)("li",{children:[a(),": ",Object(l.t)(t.userTotalBalance)]},"my_all")]}),Object(f.jsxs)("div",{className:"usd_balance",children:[r.a.get("pool.usd_balance")," ",x(t.poolData,t.volData)]}),Object(f.jsxs)("div",{className:"avg_usd_balance",children:[r.a.get("pool.avg_usd_balance")," ",v(t.userLpBalance,t.virtualPrice)]})]})]})}})}},843:function(e,t,n){"use strict";var a=n(70),r=(n(3),n(21)),c=n.n(r),s=n(841),i=n(168),o=n(10);t.a=function(){var e=Object(a.d)((function(){return i.a.network}));return Object(o.jsx)(a.a,{children:function(){return Object(o.jsxs)("div",{className:"connect-wallet-container",style:{cursor:"pointer"},onClick:function(){return e.setData({loginModalVisible:!0,loginModalStep:1})},children:[Object(o.jsx)("img",{className:"wallet-image",src:s.a}),Object(o.jsx)("p",{className:"wallet-text",children:c.a.get("buysell.error_msg_3")})]})}})}},847:function(e,t,n){"use strict";var a=function(){};e.exports=a},848:function(e,t,n){var a,r;void 0===(r="function"===typeof(a=function(e,t,n){var a=function(e,t,n,a,r,c){function s(e){var t,n,a,r,c,s,i=e<0;if(e=Math.abs(e).toFixed(u.decimals),n=(t=(e+="").split("."))[0],a=t.length>1?u.options.decimal+t[1]:"",u.options.useGrouping){for(r="",c=0,s=n.length;c<s;++c)0!==c&&c%3===0&&(r=u.options.separator+r),r=n[s-c-1]+r;n=r}return u.options.numerals.length&&(n=n.replace(/[0-9]/g,(function(e){return u.options.numerals[+e]})),a=a.replace(/[0-9]/g,(function(e){return u.options.numerals[+e]}))),(i?"-":"")+u.options.prefix+n+a+u.options.suffix}function i(e,t,n,a){return n*(1-Math.pow(2,-10*e/a))*1024/1023+t}function o(e){return"number"==typeof e&&!isNaN(e)}var u=this;if(u.version=function(){return"1.9.3"},u.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:i,formattingFn:s,prefix:"",suffix:"",numerals:[]},c&&"object"==typeof c)for(var l in u.options)c.hasOwnProperty(l)&&null!==c[l]&&(u.options[l]=c[l]);""===u.options.separator?u.options.useGrouping=!1:u.options.separator=""+u.options.separator;for(var d=0,p=["webkit","moz","ms","o"],f=0;f<p.length&&!window.requestAnimationFrame;++f)window.requestAnimationFrame=window[p[f]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[p[f]+"CancelAnimationFrame"]||window[p[f]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),a=Math.max(0,16-(n-d)),r=window.setTimeout((function(){e(n+a)}),a);return d=n+a,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),u.initialize=function(){return!!u.initialized||(u.error="",u.d="string"==typeof e?document.getElementById(e):e,u.d?(u.startVal=Number(t),u.endVal=Number(n),o(u.startVal)&&o(u.endVal)?(u.decimals=Math.max(0,a||0),u.dec=Math.pow(10,u.decimals),u.duration=1e3*Number(r)||2e3,u.countDown=u.startVal>u.endVal,u.frameVal=u.startVal,u.initialized=!0,!0):(u.error="[CountUp] startVal ("+t+") or endVal ("+n+") is not a number",!1)):(u.error="[CountUp] target is null or undefined",!1))},u.printValue=function(e){var t=u.options.formattingFn(e);"INPUT"===u.d.tagName?this.d.value=t:"text"===u.d.tagName||"tspan"===u.d.tagName?this.d.textContent=t:this.d.innerHTML=t},u.count=function(e){u.startTime||(u.startTime=e),u.timestamp=e;var t=e-u.startTime;u.remaining=u.duration-t,u.options.useEasing?u.countDown?u.frameVal=u.startVal-u.options.easingFn(t,0,u.startVal-u.endVal,u.duration):u.frameVal=u.options.easingFn(t,u.startVal,u.endVal-u.startVal,u.duration):u.countDown?u.frameVal=u.startVal-(u.startVal-u.endVal)*(t/u.duration):u.frameVal=u.startVal+(u.endVal-u.startVal)*(t/u.duration),u.countDown?u.frameVal=u.frameVal<u.endVal?u.endVal:u.frameVal:u.frameVal=u.frameVal>u.endVal?u.endVal:u.frameVal,u.frameVal=Math.round(u.frameVal*u.dec)/u.dec,u.printValue(u.frameVal),t<u.duration?u.rAF=requestAnimationFrame(u.count):u.callback&&u.callback()},u.start=function(e){u.initialize()&&(u.callback=e,u.rAF=requestAnimationFrame(u.count))},u.pauseResume=function(){u.paused?(u.paused=!1,delete u.startTime,u.duration=u.remaining,u.startVal=u.frameVal,requestAnimationFrame(u.count)):(u.paused=!0,cancelAnimationFrame(u.rAF))},u.reset=function(){u.paused=!1,delete u.startTime,u.initialized=!1,u.initialize()&&(cancelAnimationFrame(u.rAF),u.printValue(u.startVal))},u.update=function(e){if(u.initialize()){if(!o(e=Number(e)))return void(u.error="[CountUp] update() - new endVal is not a number: "+e);u.error="",e!==u.frameVal&&(cancelAnimationFrame(u.rAF),u.paused=!1,delete u.startTime,u.startVal=u.frameVal,u.endVal=e,u.countDown=u.startVal>u.endVal,u.rAF=requestAnimationFrame(u.count))}},u.initialize()&&u.printValue(u.startVal)};return a})?a.call(t,n,t,e):a)||(e.exports=r)},866:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(0),r=n(2),c=n(4),s=n(840),i=n(22),o=n(1312),u=n(1308),l=n(1851),d=n(70),p=n(3),f=n(21),b=n.n(f),j=n(835),m=n(834),O=n(215),v=n(836),x=n(5),h=n(168),g=n(16),y=n(27),w=n(1),N=n(10);function _(e){var t=Object(p.useState)(2),n=Object(i.a)(t,2),f=n[0],_=n[1],V=Object(p.useState)(1),k=Object(i.a)(V,2),F=k[0],R=k[1],S=Object(p.useState)(0),C=Object(i.a)(S,2),D=C[0],A=C[1],P=Object(p.useState)(1),T=Object(i.a)(P,2),E=T[0],U=T[1],I=Object(p.useState)(-1),M=Object(i.a)(I,2),B=M[0],q=M[1],z=Object(p.useState)(1),G=Object(i.a)(z,2),H=G[0],L=G[1],K=Object(p.useState)(.005),J=Object(i.a)(K,2),$=J[0],W=J[1],Q=Object(p.useState)(""),X=Object(i.a)(Q,2),Y=X[0],Z=X[1],ee=Object(p.useState)(!0),te=Object(i.a)(ee,2),ne=te[0],ae=te[1],re=Object(p.useState)(""),ce=Object(i.a)(re,2),se=ce[0],ie=ce[1],oe=Object(p.useState)(!1),ue=Object(i.a)(oe,2),le=ue[0],de=ue[1],pe=x.a.pools,fe=x.a.poolIndex,be=x.a.stablePool,je=x.a.poolKeys,me=Object(d.d)((function(){return h.a.network})),Oe=Object(d.d)((function(){return h.a.system})),ve=Object(d.d)((function(){return h.a.pool})),xe=Object(p.useState)(!1),he=Object(i.a)(xe,2),ge=he[0],ye=he[1];Object(p.useEffect)((function(){_e({i:f,j:D,dx:F})}),[]);var we=function(){!ge&&ye(!0);var e=f,t=D,n=E;e!==t&&(_(t),A(e),R(n),_e({i:t,j:e,dx:n,notChangeRate:!0}),Ve({no:1,i:t,j:e,dx:n}))},Ne=function(e){var t=Object.assign({},(Object(s.a)(e),e));de(!le),Ve(Object(c.a)(Object(c.a)({},t),{},{exchangeFlags:!le}))},_e=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r,c,i,o,u,l;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object.assign({},(Object(s.a)(t),t)),e.prev=1,r=void 0===n.i?f:n.i,c=void 0===n.j?D:n.j,i=void 0===n.dx?Object(w.bb)(F):Object(w.bb)(n.dx),Object(w.a)(i).gt(0)){e.next=8;break}return U(0),e.abrupt("return");case 8:return o=Object(w.a)(i).times(pe[fe[r]].precision)._toIntegerDown()._toHex(),u=null,e.next=12,Object(g.V)(r,c,o);case 12:(u=e.sent).success?(l=Object(w.a)(u.value).div(pe[fe[c]].precision),U(Object(w.c)(Object(w.a)(l)._toFixed(pe[fe[c]].decimal,1))),L(Object(w.a)(u.value))):(U(0),L(1)),n.notChangeRate||Ve({i:r,j:c,dx:i}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("getDyData: ",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r,c,i,o,u,l,d;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object.assign({},(Object(s.a)(t),t)),e.prev=1,r=void 0===n.i?f:n.i,c=void 0===n.j?D:n.j,i=void 0===n.dx?Object(w.bb)(F):Object(w.bb)(n.dx),o=void 0===n.exchangeFlags?le:n.exchangeFlags,u=Object(w.a)(i).times(pe[fe[r]].precision)._toIntegerDown()._toHex(),l=null,Object(w.a)(i).gt(0)){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Object(g.V)(r,c,u);case 12:(l=e.sent).success&&(d=Object(w.a)(l.value).div(pe[fe[c]].precision).div(i),q(o?Object(w.a)(1).div(Object(w.a)(d)._toFixed(4,1))._toFixed(4,1):d._toFixed(4,1))),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log("getRateData: ",e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),ke=function(e){var t=f;Number(e)!==Number(D)&&(t=D),A(t),_(e);var n=Object(w.bb)(F)._toFixed(pe[fe[e]].decimal,1);R(Object(w.c)(n)),_e({i:e,j:t,dx:n})},Fe=function(e){var t=D;Number(e)!==Number(f)&&(t=f),_(t),A(e);var n=Object(w.bb)(F)._toFixed(pe[fe[t]].decimal,1);R(Object(w.c)(n)),_e({j:e,i:t,dx:n})},Re=function(){return je.map((function(e){return Object(N.jsxs)(o.a,{className:"bs-radio",value:pe[e].index,children:[Object(N.jsx)("img",{src:y.a[e],alt:"",className:"token-logo"}),pe[e].symbol]},e)}))},Se=function(e){!ge&&ye(!0);var t=Object(w.S)((""+e).replace(/,/g,""),pe[fe[f]].decimal),n=t.valid,a=t.str,r=ve.poolData&&Object(w.a)(ve.poolData[fe[f]].balance).div(pe[fe[f]].precision)._toFixed(2,1);if(n){if(Object(w.a)(a).lte(0))return R(Object(w.c)(a)),U(0),void ie(b.a.get("buysell.error_msg_1"));Object(w.a)(a).gt(r)&&ie(b.a.get("buysell.error_msg_2")),R(Object(w.c)(a)),_e({dx:a})}},Ce=function(e){var t="--";return t=ve.poolData[fe[f]].balance,t=Object(w.a)(t).isNaN()?"--":ve.poolData[fe[f]].balance.div(ve.poolData[fe[f]].precision),Object(N.jsxs)("span",{className:"c-purple fs-12",children:[b.a.get("buysell.max"),": ",ve.poolData&&Object(w.t)(t)]})},De=function(){var e=ve.poolData[fe[f]],t=e.precision,n=e.balance,a=e.symbol;return n=Object(w.a)(n).div(t),Object(w.bb)(F).eq(0)||Object(w.bb)(F).isNaN()?(ie(b.a.get("error.e1")),!0):Object(w.bb)(F).gt(n)?(ie(b.a.get("error.e2",{token:a})),!0):2===$&&(!Y||Number(Y)<.1||Number(Y)>50)?(ie(b.a.get("error.e5")),!0):(ie(""),!1)};Object(p.useEffect)((function(){ge&&De()}),[f,D,F,$,Y]);var Ae=function(){return Object(N.jsxs)("div",{className:"flex",children:[Object(N.jsx)(u.a,{onChange:Fe,value:D,style:{marginRight:"4px"},children:je.map((function(e){return Object(N.jsxs)(u.a.Option,{value:pe[e].index,disabled:pe[e].index===F,children:[Object(N.jsx)("img",{src:y.a[e]?y.a[e]:O.default,alt:"",className:"token-logo"}),pe[e].symbol]},e)}))}),Object(N.jsx)(l.a,{value:E,disabled:!0})]})},Pe=function(){return Object(N.jsx)("div",{style:{margin:"auto"},children:Object(N.jsx)("img",{width:20,height:20,alt:"exchange",src:m.a,onClick:function(){return we()},className:"exchange-alt exchange-alt-new"})})},Te=function(){var e=ve.poolData&&Object(w.a)(ve.poolData[fe[f]].balance).div(pe[fe[f]].precision);Se(e)},Ee=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(o.a.Group,{className:"bs-radios mt-10",onChange:function(e){return ke(e.target.value)},value:f,name:"radiogroup",children:Object(N.jsx)(Re,{value:"left"},"left")})})},Ue=function(){return Object(N.jsx)("img",{width:20,height:20,alt:"exchange",src:j.a,onClick:function(){return we()},className:"exchange-alt exchange-alt-new"})},Ie=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(o.a.Group,{className:"bs-radios mt-10",onChange:function(e){return Fe(e.target.value)},value:D,name:"radiogroup",children:Object(N.jsx)(Re,{value:"right"},"right")})})},Me=function(){return Object(N.jsxs)("fieldset",{children:[Object(N.jsx)("div",{className:"text-part",children:Object(N.jsx)("span",{className:"from-to-text",children:b.a.get("buysell.to")})}),Object(N.jsx)(l.a,{disabled:!0,className:"input",value:E}),Object(N.jsx)(Ie,{})]})},Be=function(){return Object(N.jsx)("div",{className:"advanced-header",children:Object(N.jsxs)("span",{onClick:function(){return ae(!ne)},className:"advanced-btn"+(ne?" current":""),children:[b.a.get("buysell.advanced_options"),Object(N.jsx)("div",{className:"down-icon"})]})})},qe=function(){var e=function(){var e=f,t=D;if(le){var n=[t,e];e=n[0],t=n[1]}return Object(N.jsx)(N.Fragment,{children:fe[e].toUpperCase()+"/"+fe[t].toUpperCase()})};return Object(N.jsxs)("p",{className:"exchange-rate pool3",children:[Object(N.jsxs)("span",{className:"en-US"===window.localStorage.getItem("lang")?"er-en":"",children:[b.a.get("buysell.exchange_rate",{symbol:"3pool LP"})+" ",Object(N.jsx)(e,{})]}),Object(N.jsx)("img",{style:{cursor:"pointer",margin:"0 6px"},className:"exchange-img",alt:"",src:v.a,onClick:Ne}),Object(N.jsxs)("span",{children:["(",b.a.get("buysell.including_fees"),"): ",-1===B?b.a.get("buysell.not_available"):B]})]})},ze=function(){var t=function(){var t=Object(r.a)(Object(a.a)().mark((function t(){var n,r,c,s,i,o,u;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!se){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,n=2!==$?$:Y?Object(w.a)(Y).div(100):0,r=Object(w.a)(H).times(Object(w.a)(1).minus(Object(w.a)(n)))._toIntegerDown()._toHex(),c=f,s=D,i=Object(w.bb)(F).times(pe[fe[c]].precision)._toIntegerDown()._toHex(),o={title:"notification.tip1",title2:"notification.tip1",title3:"notification.tip1",title4:"notification.tip1",obj:{fromValue:Object(w.t)(Object(w.bb)(F)),fromToken:fe[c].toUpperCase(),toValue:Object(w.t)(Object(w.bb)(E)),toToken:fe[s].toUpperCase()}},t.next=11,Oe.toExchange(c,s,i,r,o,[["pool/updateCurrencyData"]]);case 11:(u=t.sent)&&(setTimeout((function(){ve.getBalanceInfo()}),5e3),e.onSubmit&&e.onSubmit(u)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),console.log("sellSubmit: ",t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(){return t.apply(this,arguments)}}(),n=function(){var e=Object(r.a)(Object(a.a)().mark((function e(){var n,r,c,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(me.isConnected){e.next=3;break}return ie(b.a.get("buysell.error_msg_3")),e.abrupt("return");case 3:if(!ge&&ye(!0),se){e.next=8;break}if(!De()){e.next=8;break}return e.abrupt("return");case 8:if(!se){e.next=10;break}return e.abrupt("return");case 10:return e.prev=10,e.next=13,Object(g.ac)(window.defaultAccount,[pe[fe[f]].token],[be]);case 13:if(n=e.sent,r=n[be].allowance,c=ve.poolData[fe[f]].approveStatus,r.gt(0)||c){e.next=29;break}return s={action:"approve",title:"deposit.approve_token",obj:{value:je[f].toUpperCase()},continuous:!0},e.next=20,Oe.approveToken(pe[fe[f]].token,be,s,[["pool/getBalanceInfo"]]);case 20:if(!e.sent){e.next=26;break}ve.poolData[fe[f]].approveStatus=2,t(),e.next=27;break;case 26:return e.abrupt("return");case 27:e.next=30;break;case 29:t();case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(10),console.log("exchangeBefore: ",e.t0);case 35:case"end":return e.stop()}}),e,null,[[10,32]])})));return function(){return e.apply(this,arguments)}}();return Object(N.jsx)("div",{className:"sell-submit-wrapper",children:Object(N.jsx)("button",{className:"tab-btn",onClick:n,disabled:se,children:b.a.get("sell_btn")})})};return Object(N.jsx)(d.a,{children:function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"hide-for-pool-tabs-small",children:Object(N.jsxs)("div",{className:"flex-column-container",children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{onClick:Te,style:{display:"flex",justifyContent:"flex-end"},children:Ce(ve.poolData)}),Object(N.jsxs)("div",{className:"flex",children:[Object(N.jsx)(u.a,{width:"120px",onChange:ke,value:f,style:{marginRight:"4px"},children:je.map((function(e){return Object(N.jsxs)(u.a.Option,{value:pe[e].index,disabled:pe[e].index===E,children:[Object(N.jsx)("img",{src:y.a[e]?y.a[e]:O.default,alt:"",className:"token-logo"}),pe[e].symbol]},e)}))}),Object(N.jsx)(l.a,{value:F,onChange:function(e){return Se(e.target.value)}})]})]}),Object(N.jsx)(Pe,{}),Object(N.jsx)(Ae,{}),Object(N.jsx)(qe,{}),Object(N.jsx)(Be,{})]})}),Object(N.jsxs)("div",{className:"hide-for-pool-tabs-big",children:[Object(N.jsxs)("div",{className:"flex",children:[Object(N.jsxs)("div",{className:"pc-input-box",children:[Object(N.jsxs)("fieldset",{children:[Object(N.jsxs)("div",{className:"text-part",children:[Object(N.jsx)("span",{className:"from-to-text",children:b.a.get("buysell.from")}),Object(N.jsx)("span",{onClick:Te,children:Ce(ve.poolData)})]}),Object(N.jsx)("div",{className:"cur-input",children:Object(N.jsx)(l.a,{className:"input",value:F,onChange:function(e){return Se(e.target.value)}})}),Object(N.jsx)(Ee,{})]})," "]}),Object(N.jsx)(Ue,{}),Object(N.jsx)("div",{className:"pc-input-box",children:Object(N.jsx)(Me,{})})]}),Object(N.jsxs)("div",{className:"flex",style:{margin:"1rem auto"},children:[Object(N.jsx)(Be,{}),Object(N.jsx)(qe,{})]})]}),Object(N.jsx)("div",{className:"fieldset fieldset-slippage",children:ne&&Object(N.jsxs)("fieldset",{className:"advanced",children:[Object(N.jsx)("legend",{}),Object(N.jsxs)("div",{className:"advanced-options",children:[Object(N.jsxs)("span",{className:"mr-10 slippage",children:[b.a.get("buysell.max_slippage"),": "]}),Object(N.jsxs)(o.a.Group,{className:"ad-radios",onChange:function(e){return t=e.target.value,!ge&&ye(!0),W(t),void(2!==t&&Z(""));var t},value:$,name:"radiogroup",children:[Object(N.jsx)(o.a,{className:"ad-radio",value:.005,children:"0.5 %"}),Object(N.jsx)(o.a,{className:"ad-radio",value:.01,children:"1 %"}),Object(N.jsx)(o.a,{className:"ad-radio",value:2,children:Object(N.jsx)(l.a,{className:"input",value:Y,onChange:function(e){return function(e){!ge&&ye(!0);var t=Object(w.S)(e,10),n=t.valid,a=t.str;if(n)if(""===a)Z("");else if(Object(w.a)(a).lte(100)){var r,c=a,s=a.split(".");(null===(r=s[1])||void 0===r?void 0:r.length)>2&&(c="".concat(s[0]+"."+s[1].substr(0,2))),Z(c)}}(e.target.value)},disabled:2!==$,suffix:"%"})})]})]})]})}),se?Object(N.jsx)("div",{className:"red-error mb-8",children:se}):null,Object(N.jsx)(ze,{})]})}})}}}]);