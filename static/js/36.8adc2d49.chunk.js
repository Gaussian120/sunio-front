(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[36],{1782:function(e,t,a){"use strict";a.r(t);a(1),a(890),a(941),a(911);var n=a(947),s=a(3);t.default=()=>Object(s.jsx)("div",{className:"container",children:Object(s.jsx)(n.a,{isSinglePage:!0})})},891:function(e,t,a){"use strict";a(904);var n=a(17),s=a.n(n),c=a(3);t.a=e=>Object(c.jsx)("div",{className:"tempalte-pageTab-nav",children:e.list.map((t=>Object(c.jsx)("div",{className:s()("tempalte-pageTab-nav-item",{"tempalte-pageTab-nav-active":e.activeKey===t.value}),onClick:()=>t.handler(t),children:t.label},t.value)))})},895:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return i}));var n=a(11),s=a.n(n);const c={row:{gutter:[{xs:8,sm:16,md:32},20]},colLeft:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:15}},colRight:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:9}}},l={1:{title:s.a.get("banner.title_deposit"),content:s.a.get("banner.desc_deposit"),tabTitle:s.a.get("header.deposit")},2:{title:s.a.get("banner.title_withdraw"),content:s.a.get("banner.desc_withdraw"),tabTitle:s.a.get("header.withdraw")},3:{title:s.a.get("banner.title_1"),content:s.a.get("banner.desc_1"),tabTitle:s.a.get("header.swap")}},i=[{label:l[1].tabTitle,value:"1"},{label:l[2].tabTitle,value:"2"},{label:l[3].tabTitle,value:"3"}]},896:function(e,t,a){"use strict";var n=a(17),s=a.n(n),c=a(918),l=a(3);t.a=e=>{const{checked:t,tokenLogo:a,symbol:n="",onChange:i,id:o=""}=e;return Object(l.jsxs)("div",{className:s()({[c.sun_check_button]:!0,[c.sun_check_active_button]:t}),onClick:()=>{i&&i(!t,o)},children:[a&&Object(l.jsx)("img",{src:a,alt:"",className:"token-logo"}),Object(l.jsx)("span",{children:n})]})}},897:function(e,t,a){"use strict";var n=a(11),s=a.n(n),c=a(17),l=a.n(c),i=a(1761),o=a(907),r=a(3);const b=[{key:.2,label:"0.2%"},{key:3,label:"3%"}],u=[{key:.005,label:"0.5%"},{key:.01,label:"1%"}];t.a=e=>{const{slippage:t,customSlippage:a,CUSTOM_SLIPPAGE:n,type:c="withdraw"}=e,p="withdraw"===c?b:u;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"mr-10",children:s.a.get("withdraw.slippage")}),Object(r.jsxs)("div",{className:l()(o.setting_btns),children:[Object(r.jsx)("div",{className:o.setting_btn_wrap,children:p.map((a=>Object(r.jsx)("button",{className:l()(t===a.key?o.active:""),onClick:()=>{return t=a.key,void(e.onChangeSlippage&&e.onChangeSlippage(t));var t},children:a.label})))}),Object(r.jsx)(i.a,{className:l()(o.setting_input,o.module_important,["ml-20"]),suffix:"%",value:a,onFocus:()=>{a||e.onChangeSlippage&&e.onChangeSlippage(n)},onBlur:()=>{a||e.onChangeSlippage&&e.onChangeSlippage(String(p[0].key))},onChange:t=>{e.onChangeCustomSlippage&&e.onChangeCustomSlippage(t.target.value)}})]})]})}},904:function(e,t,a){},907:function(e,t,a){e.exports={setting_wrap:"style_setting_wrap__L7ld9",setting_label:"style_setting_label__3qQrG",setting_btns:"style_setting_btns__zH_61",setting_btn_wrap:"style_setting_btn_wrap__uxT1B",setting_input:"style_setting_input__kvJzs",active:"style_active__10VTC",module_important:"style_module_important__PuwNO",info_text:"style_info_text__3K73H",setting_minutes:"style_setting_minutes__1mIXw"}},910:function(e,t,a){"use strict";a(1);var n=a(11),s=a.n(n),c=a(74),l=a(4),i=a(103),o=a(0),r=(a(911),a(926)),b=a(924),u=a(3);const{Fee:p,A:j,ADMIN_FEE:d,poolKeys:g,pools:O}=l.a;t.a=e=>{const t=Object(c.d)((()=>i.a.pool)),a=Object(c.d)((()=>i.a.network)),n=(e,t)=>{const a=Object(o.a)(e).times(t).div(1e18);return a.isNaN()?"--":Object(o.u)(a,2)},O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let a=Object(o.a)(0);for(let n in e){const{userSwapBalance:s,priceKey:c}=e[n],l=t?t[c]:"--";a=a.plus(Object(o.a)(s).times(l))}return Object(o.u)(a)}catch(a){return console.log(a),"--"}},m=g.map((e=>t.poolData[e])).filter((e=>e)),h=t.volData?t.volData["3pvol24Hours"]:"",_="Old 3Pool ".concat(s.a.get("pool.pool2_contract")),v="3SUN ".concat(s.a.get("pool.token_contract2"));return Object(u.jsx)(c.a,{children:()=>Object(u.jsxs)("div",{children:[Object(u.jsx)(r.a,{poolTokens:m,totalSwapBalance:t.totalSwapBalance,adminFee:d,fee:p,virtualPrice:t.virtualPrice,dailyVol:h,poolContract:l.a.stablePool,poolName:_,lpTokenAddress:l.a.stableLp,lpTokenName:v,aValue:j}),a.isConnected&&Object(o.a)(t.sharePer).gt(0)&&Object(u.jsx)(b.a,{sharePer:t.sharePer,usdBalance:O(t.poolData,t.volData),avgUsdBalance:n(t.userLpBalance,t.virtualPrice),userTotalBalance:t.userTotalBalance,myPoolTokens:m})]})})}},918:function(e,t,a){e.exports={sun_check_button:"style_sun_check_button__5diEB",sun_check_active_button:"style_sun_check_active_button__28IzL"}},941:function(e,t,a){},947:function(e,t,a){"use strict";var n=a(1),s=a(11),c=a.n(s),l=a(1777),i=a(1779),o=a(303),r=a(873),b=a(257),u=a(74),p=a(103),j=a(18),d=a(4),g=a(8),O=a(0),m=a(910),h=a(890),_=a(900),v=(a(908),a(899)),f=(a(36),a(896)),w=a(892),x=a(897),y=a(895),S=a(891),N=a(894),k=a(903),C=a(3);const{pools:L,poolKeys:T,stableLp:A,ALL_FEE:P,stablePool:B,tokens:D}=d.a,I="---",F="CUSTOM",U=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t={};return T.map((a=>{t[a]=e})),t};t.a=e=>{const{pageList:t,tabPaneKey:a}=e,[s=U("--"),d]=Object(n.useState)(),[V,E]=Object(n.useState)("100.00"),[H,q]=Object(n.useState)(.2),[K,M]=Object(n.useState)(""),[z,G]=Object(n.useState)(!0),[J,R]=Object(n.useState)(!1),[Q,X]=Object(n.useState)("--"),[W=U(!1),Y]=Object(n.useState)(),[Z,$]=Object(n.useState)(!1),[ee,te]=Object(n.useState)(!1),ae=Object(u.d)((()=>p.a.system)),ne=Object(u.d)((()=>p.a.pool)),se=Object(u.d)((()=>p.a.network));let ce=null;Object(n.useEffect)((async()=>{ee&&le()}),[s,V,H,K,W]),Object(n.useEffect)((()=>{Oe(s,J)}),[s]);const le=()=>V!==I&&Object(O.fb)(V).gt(100)?($(c.a.get("error.e3")),!0):(()=>{for(let e in s)if(Object(O.fb)(s[e]).gt(0)||"--"===s[e])return!1;return!0})()?($(c.a.get("error.e4")),!0):H===F&&(be()||V===I)&&(Object(O.a)(K).lt(.1)||Object(O.a)(K).gt(50)||Object(O.a)(K).isNaN())?($(c.a.get("error.e5")),!0):($(!1),!1),ie=async(e,t)=>{try{const a=e.length,n=e.map((e=>e.inputValue.isNaN()?0:e.inputValue._toIntegerDown()._toHex()))||[],c=await Object(g.d)(n,!1);if(!c.success)return;let l=c.value.times(Object(O.a)(1).plus(Object(O.a)(P).times(a).div(4*(a-1))));const i=Object(O.a)(100).plus(t).div(100);if(l=l.times(i)._toIntegerDown(),z&&Object(O.a)(ne.userLpAllowance).lt(l)){if(!await ae.approveToken(A,B,{title:"deposit.approve_token",obj:{value:D.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]))return;G(!1)}const o=l._toHex(),r={title:"actions.remove",obj:{detail:Object(O.A)(s)}};await ae.removeLiqImBalance(n,o,r,[["pool/updateCurrencyData"]])}catch(a){console.log(a)}},oe=async(e,t)=>{try{const a=await ue(t,e,Object(O.fb)(V));if(!a)return;const{userLpBalance:n,lpTotalSupply:c,balances:l,userLpAllowance:i,minAmounts:o}=a,r=Object(O.fb)(V).div(100).times(n)._toIntegerDown();if(z&&Object(O.a)(i).lt(r._toIntegerDown())){if(!await ae.approveToken(A,B,{title:"deposit.approve_token",obj:{value:D.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]))return;G(!1)}const b={title:"actions.remove",obj:{detail:Object(O.A)(s)}},u=r._toHex();await ae.removeLiquidity(u,o,b,[["pool/updateCurrencyData"]])}catch(a){console.log(a)}},re=async(e,t,a)=>{try{const n=await Object(g.qb)(t,e);if(!n.success)return;const{userLpBalance:c,userLpAllowance:l}=n,i=Object(O.fb)(V).div(100).times(c)._toIntegerDown();if(z&&Object(O.a)(l).lt(i._toIntegerDown())){if(!await ae.approveToken(A,B,{title:"deposit.approve_token",obj:{value:D.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]))return;G(!1)}const o=i._toHex();let r=!1;for(let e in W)!0===W[e]&&(r=L[e].index);const b=await Object(g.p)(o,r);if(!b.success)return;const u=b.value,p=e.length,j=u.times(Object(O.a)(1).minus(Object(O.a)(P).times(p).div(4*(p-1)).div(1e10))),d=Object(O.a)(100).div(Object(O.a)(100).plus(a)),m=j.times(d)._toIntegerDown()._toHex(),h={title:"actions.remove",obj:{detail:Object(O.A)(s)}};await ae.removeLiqOneCoin(o,r,m,h,[["pool/updateCurrencyData"]])}catch(n){console.log(n)}},be=()=>{for(let e in W)if(W[e])return e;return!1},ue=async function(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{const s=await Object(g.qb)(e,t);if(!s.success)return;const{userLpBalance:c,lpTotalSupply:l,balances:i,userLpAllowance:o}=s,r=[],b={};return t.map((e=>{const{index:t,id:s,decimal:o,precision:u}=e;let p=Object(O.fb)(a).div(100).times(i[t]);n||(p=Object(O.a)(.98).times(p)),r[t]=p.times(c).div(l)._toIntegerDown()._toHex(),b[s]=Object(O.c)(p.times(c).div(l).div(u)._toFixed(o,1))})),{userLpBalance:c,lpTotalSupply:l,balances:i,userLpAllowance:o,minAmounts:r,amountsStr:b}}catch(s){console.log(s)}},pe=async(e,t)=>{try{await ne.getUserLp();const{userLpBalance:a}=ne,{precision:n,decimal:s}=L[e],c=Object(O.fb)(t).div(100).times(a)._toIntegerDown(),l=L[e].index,i=c._toHex(),o=await Object(g.p)(i,l);if(!o.success)return!1;const r=o.value;return Object(O.a)(r).div(n)._toFixed(s,1)}catch(a){console.log(a)}},je=()=>{ne.getSwapBalance(),ne.getVirtualPrice(),ne.getVolData()},de=async()=>{await Promise.all([ne.getUserLp(),ne.getBalanceInfo()]);const e={};T.map((t=>{const{userSwapBalance:a,decimal:n}=ne.poolData[t];e[t]=Object(O.c)(Object(O.a)(a)._toFixed(n,1))})),d(e),ce||(ce=setInterval((async()=>{je(),await ne.getUserLp()}),se.defaultIntervalSec))};Object(n.useEffect)((()=>(de(),je(),()=>{clearInterval(ce)})),[]);const ge=async(e,t)=>{!ee&&te(!0);let a=Object(O.fb)(V);const n={},c={};if(e){R(!0);for(let e in W)e!==t&&(n[e]=!1,c[e]=0);Y({...W,...n,[t]:e}),(V===I||Object(O.fb)(V).lte(0))&&(a="100.00",E(a)),Object(O.a)(a).gt(100)&&(a=100);const l=await pe(t,a);l&&d({...s,...c,[t]:Object(O.c)(l)})}else E(I),R(!1),Y({...W,[t]:e})},Oe=async(e,t)=>{const a=await ne.calcInclPrice(e,!1,t);X(a)},me=async e=>{var t;!ee&&te(!0);let a=e.target.value,n=a.split(".");if((null===(t=n[1])||void 0===t?void 0:t.length)>2&&(a="".concat(n[0]+"."+n[1].substr(0,2))),Object(O.a)(a).gt(100))return;const{valid:c,str:l}=Object(O.V)(a,10);if(V===I)return(()=>{const e={},t={};T.map((a=>{e[a]=0,t[0]=!1})),d(e),Y(W),E(0)})();if(""===a)return E(""),(()=>{const e={};T.map((t=>{e[t]=0})),d(e)})();if(c){E(Object(O.c)(l));const t=Object(O.a)(l).gt(100)?Object(O.a)(100):Object(O.a)(l);if(t.isNaN())return;if(!se.defaultAccount)return;const n=se.defaultAccount,c=be();if(c){const e=await pe(c,t);return e&&d({...s,[c]:Object(O.c)(e)})}if(l!==I){const t=[];T.map((e=>{t.push({...L[e]})}));const s=t.sort(((e,t)=>e.index-t.index)),c=await ue(n,s,l,!0);if(a===e.target.value){const{amountsStr:e={}}=c;c&&d(e)}}}},he=e=>{!ee&&te(!0),q(e),e!==I&&M("")},_e=e=>{const{valid:t,str:a}=Object(O.V)(e,10);if(t)if(""===a)M("");else if(Object(O.a)(a).lte(100)){var n;let e=a,t=a.split(".");(null===(n=t[1])||void 0===n?void 0:n.length)>2&&(e="".concat(t[0]+"."+t[1].substr(0,2))),M(e)}},ve=e=>be()||V===I?Object(C.jsx)("div",{className:"flex start mt-20",children:Object(C.jsx)(x.a,{slippage:e,customSlippage:K,CUSTOM_SLIPPAGE:F,onChangeSlippage:he,onChangeCustomSlippage:_e})}):Object(C.jsx)(C.Fragment,{});return Object(C.jsx)(u.a,{children:()=>Object(C.jsxs)(l.a,{...y.a.row,children:[Object(C.jsxs)(i.a,{...y.a.colLeft,children:[Object(C.jsx)(S.a,{list:t,activeKey:a[0]}),Object(C.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(h.a,{routeName:"3pool/withdraw",mountedActions:de,instantActions:je}),Object(C.jsx)(_.a,{title:"3pool "+c.a.get("banner.title_withdraw"),desc:c.a.get("banner.desc_withdraw")}),Object(C.jsx)(v.a,{})]}):null,se.isConnected?Object(C.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(C.jsxs)("div",{className:"add-liq withdraw-liq",children:[Object(C.jsxs)("div",{className:"flex",children:[c.a.get("withdraw.share_of_liq"),Object(C.jsx)(k.a,{className:"flex-1 ml-20",showMax:!1,placeholder:"100.00",value:V,onChange:me})]}),Object(C.jsxs)("fieldset",{className:"currencies mt-35",children:[Object(C.jsx)("legend",{children:c.a.get("deposit.currencies")}),Object(C.jsx)("ul",{children:T.map((e=>{const t=L[e],{symbol:a=""}=t;return Object(C.jsxs)("li",{children:[Object(C.jsx)("div",{className:"cur-label",children:Object(C.jsxs)("span",{className:"icon",children:[Object(C.jsx)("img",{src:j.a[e]?j.a[e]:b.default,alt:"",className:"token-logo"}),a]})}),Object(C.jsx)(k.a,{showMax:!1,value:s[e],onChange:t=>{(async(e,t)=>{!ee&&te(!0);const{decimal:a}=L[t],{valid:n,str:c}=Object(O.V)((""+e.target.value).replace(/,/g,""),a);n&&d({...s,[t]:Object(O.c)(c)}),E(I),R(!1);const l={};for(let s in W)l[s]=!1;Y(l)})(t,e)}})]},e)}))})]}),Object(O.ab)(Q),Object(C.jsxs)("fieldset",{children:[Object(C.jsxs)("legend",{className:"flex aic jcs pt20",children:[Object(C.jsx)("span",{className:"mr-10",children:c.a.get("withdraw.withdraw_text")}),Object(C.jsx)(o.a,{title:c.a.get("withdraw.tip"),children:Object(C.jsx)(r.a,{})})]}),Object(C.jsx)("div",{className:"withdraw-one",children:T.map((e=>{const{symbol:t=""}=L[e];return Object(C.jsx)(f.a,{id:e,checked:W[e],tokenLogo:j.a[e]?j.a[e]:b.default,symbol:t,onChange:ge})}))})]}),ve(H),Z?Object(C.jsx)(w.a,{styleName:"mt-40",type:"single",disabled:!0,info:c.a.get("withdraw.action")}):Object(C.jsx)(w.a,{styleName:"mt-40",type:"single",info:c.a.get("withdraw.action"),onClick:()=>(async t=>{try{if(!se.defaultAccount)return;if(!ee&&te(!0),!Z&&le(t))return;if(Z)return;const a=se.defaultAccount,n=[];T.map((e=>{n.push({...L[e],inputValue:Object(O.fb)(t[e]).times(L[e].precision)})}));const s=n.sort(((e,t)=>e.index-t.index)),c=H===F?K:H;return e.onSubmit&&e.onSubmit(),J?await re(s,a,c):V!==I?await oe(s,a):await ie(s,c)}catch(a){console.log(a)}})(s),disabled:Z}),Z&&Object(C.jsx)("div",{className:"error-content mt-12",children:Object(C.jsx)("div",{className:"error-tip",children:Z})})]})}):Object(C.jsx)(N.a,{})]})]}),Object(C.jsx)(i.a,{...y.a.colRight,children:Object(C.jsx)(m.a,{className:se.isConnected?null:"window-for-tabs-pane"})})]})})}}}]);