(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[30],{891:function(e,t,a){"use strict";a(904);var c=a(17),s=a.n(c),n=a(3);t.a=e=>Object(n.jsx)("div",{className:"tempalte-pageTab-nav",children:e.list.map((t=>Object(n.jsx)("div",{className:s()("tempalte-pageTab-nav-item",{"tempalte-pageTab-nav-active":e.activeKey===t.value}),onClick:()=>t.handler(t),children:t.label},t.value)))})},895:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var c=a(11),s=a.n(c);const n={row:{gutter:[{xs:8,sm:16,md:32},20]},colLeft:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:15}},colRight:{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:9}}},l={1:{title:s.a.get("banner.title_deposit"),content:s.a.get("banner.desc_deposit"),tabTitle:s.a.get("header.deposit")},2:{title:s.a.get("banner.title_withdraw"),content:s.a.get("banner.desc_withdraw"),tabTitle:s.a.get("header.withdraw")},3:{title:s.a.get("banner.title_1"),content:s.a.get("banner.desc_1"),tabTitle:s.a.get("header.swap")}},i=[{label:l[1].tabTitle,value:"1"},{label:l[2].tabTitle,value:"2"},{label:l[3].tabTitle,value:"3"}]},896:function(e,t,a){"use strict";var c=a(17),s=a.n(c),n=a(918),l=a(3);t.a=e=>{const{checked:t,tokenLogo:a,symbol:c="",onChange:i,id:o=""}=e;return Object(l.jsxs)("div",{className:s()({[n.sun_check_button]:!0,[n.sun_check_active_button]:t}),onClick:()=>{i&&i(!t,o)},children:[a&&Object(l.jsx)("img",{src:a,alt:"",className:"token-logo"}),Object(l.jsx)("span",{children:c})]})}},897:function(e,t,a){"use strict";var c=a(11),s=a.n(c),n=a(17),l=a.n(n),i=a(1784),o=a(907),r=a(3);const b=[{key:.2,label:"0.2%"},{key:3,label:"3%"}],j=[{key:.005,label:"0.5%"},{key:.01,label:"1%"}];t.a=e=>{const{slippage:t,customSlippage:a,CUSTOM_SLIPPAGE:c,type:n="withdraw"}=e,d="withdraw"===n?b:j;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"mr-10",children:s.a.get("withdraw.slippage")}),Object(r.jsxs)("div",{className:l()(o.setting_btns),children:[Object(r.jsx)("div",{className:o.setting_btn_wrap,children:d.map((a=>Object(r.jsx)("button",{className:l()(t===a.key?o.active:""),onClick:()=>{return t=a.key,void(e.onChangeSlippage&&e.onChangeSlippage(t));var t},children:a.label})))}),Object(r.jsx)(i.a,{className:l()(o.setting_input,o.module_important,["ml-20"]),suffix:"%",value:a,onFocus:()=>{a||e.onChangeSlippage&&e.onChangeSlippage(c)},onBlur:()=>{a||e.onChangeSlippage&&e.onChangeSlippage(String(d[0].key))},onChange:t=>{e.onChangeCustomSlippage&&e.onChangeCustomSlippage(t.target.value)}})]})]})}},901:function(e,t,a){"use strict";var c=a(1),s=a(17),n=a.n(s),l=a(905),i=a(3);const o=e=>{const{title:t,subTitle:a,isRevert:c}=e,s="string"===typeof t;return Object(i.jsxs)("div",{className:l.page_title_wrap,children:[c&&a&&Object(i.jsx)("div",{className:l.page_title_sub,children:a}),t&&Object(i.jsx)("div",{className:n()({[l.page_title]:!0,[l.page_title_revert]:c,[l.page_title_ele]:!s}),children:s?t.split("").map(((e,t)=>Object(i.jsx)("span",{className:l.page_title_ele,children:e},t))):t}),a&&!c&&Object(i.jsx)("div",{className:l.page_title_sub,children:a})]})};t.a=Object(c.memo)(o)},904:function(e,t,a){},905:function(e,t,a){e.exports={page_title:"style_page_title__dfZPh",page_title_wrap:"style_page_title_wrap__7dtV_",page_title_ele:"style_page_title_ele__Tktf1",page_title_sub:"style_page_title_sub__1IUsF",page_title_revert:"style_page_title_revert__18HMS"}},907:function(e,t,a){e.exports={setting_wrap:"style_setting_wrap__L7ld9",setting_label:"style_setting_label__3qQrG",setting_btns:"style_setting_btns__zH_61",setting_btn_wrap:"style_setting_btn_wrap__uxT1B",setting_input:"style_setting_input__kvJzs",active:"style_active__10VTC",module_important:"style_module_important__PuwNO",info_text:"style_info_text__3K73H",setting_minutes:"style_setting_minutes__1mIXw"}},909:function(e,t,a){},910:function(e,t,a){"use strict";a(1);var c=a(11),s=a.n(c),n=a(74),l=a(4),i=a(103),o=a(0),r=(a(911),a(926)),b=a(924),j=a(3);const{Fee:d,A:u,ADMIN_FEE:p,poolKeys:O,pools:g}=l.a;t.a=e=>{const t=Object(n.d)((()=>i.a.pool)),a=Object(n.d)((()=>i.a.network)),c=(e,t)=>{const a=Object(o.a)(e).times(t).div(1e18);return a.isNaN()?"--":Object(o.u)(a,2)},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let a=Object(o.a)(0);for(let c in e){const{userSwapBalance:s,priceKey:n}=e[c],l=t?t[n]:"--";a=a.plus(Object(o.a)(s).times(l))}return Object(o.u)(a)}catch(a){return console.log(a),"--"}},m=O.map((e=>t.poolData[e])).filter((e=>e)),h=t.volData?t.volData["3pvol24Hours"]:"",x="Old 3Pool ".concat(s.a.get("pool.pool2_contract")),f="3SUN ".concat(s.a.get("pool.token_contract2"));return Object(j.jsx)(n.a,{children:()=>Object(j.jsxs)("div",{children:[Object(j.jsx)(r.a,{poolTokens:m,totalSwapBalance:t.totalSwapBalance,adminFee:p,fee:d,virtualPrice:t.virtualPrice,dailyVol:h,poolContract:l.a.stablePool,poolName:x,lpTokenAddress:l.a.stableLp,lpTokenName:f,aValue:u}),a.isConnected&&Object(o.a)(t.sharePer).gt(0)&&Object(j.jsx)(b.a,{sharePer:t.sharePer,usdBalance:g(t.poolData,t.volData),avgUsdBalance:c(t.userLpBalance,t.virtualPrice),userTotalBalance:t.userTotalBalance,myPoolTokens:m})]})})}},912:function(e,t,a){},913:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAA/JJREFUWEfVWctqFUEQPeX7/X5tXIkIouBa/AkxgkYXgrhwIQiufaCuxYXoQsSNGkHFnxDXgiKIuHJlTIwmMYmJ8ci5Voe+k3tneuaOIVMwhCTT3aerTlWdnjb0YCQNwHIAKwEsA7AEwFL/qZn/AJj1n78B/AIwY2asuqwWLG0kBXCVPwJZxrSJKT1mpg2UslKASa4AsMG9GhaSBwVgJuNR/T/2uCKhTSoCwTRm1MymU1EnASapcK/3BUOoJ9xLWjTZSAbgayLqaMNjZiba5FohYA//ZgB6V9z7qcfMFNrKRlLeX+tPmHukiCa5gElqQlFAJi8ofKJAbUZSFNEaootMa8gpHa0rYJIbAShssnE9vWR33g692qwDoEc2YWY/Oo3pCDjj2e9mNlmbS3MmIrkawKY8T88D7Jzd4oMWDGzYRwb0tyyn2wB7NdjmCSYKjC2EZ7NrkFRFEj2U5ENx9cgCVjUQ+ZVg8m6pjkTyMIA9AAZSSlQ3ZzinRY0WFjMbCe/OAfamsNV39bVMNSCp5LwN4JxPfMPMrvQSHa8e2z3aw6G5xIBFBRX1UlQgeRDAUwD7I4A9A9ZcETWkP4b0txbgKNHUDOTdpKZA8jyAW1EN1XQDAM7WUVm8ucjLajKtBAyAxReVlCTvkhTXHwA4GnlVxf6CmT3shQo5CdiqzeYE3+G7UEbmagOSRwA8AbA7mvwNgBNm9qFOsB590VR0VdQHBVgKTMk2a2aDBR3pMoCrGcWljnTPtW4VvB/lgLyKRFIOVQsfFuBQ8yRoRnNKzTEAz6sgShhz2swe56wtrSFdMy7AofbmdjWSfQCeJSxe5ZUiwKFlTwmw6CBazGuDHRJAoA9UQZQzJoUSOuFILkwLcOCHylmhgK4ZbNJ0LhlU3mYFeJfX4y+p9TdplRpf8nq8Uy2jkYAbR4mkpPMG0w9gb43R1lTvzCy3XEbSoZV0qWXtFIBHNYMN0x3PAx2J+lZZS20c/xNwn5m9SG0cSa25Bkqolkrd6XAbTCfwa2Z2s0AStLVmKbZk8VOFEiT3uWY+FI3/DKDfzF4VgG0XP66IwpE+SV6WAU3yDIA7rgXC0JeumeeOPjl0CJT9Jy8dcGh9pQR8gWfU/6WZT0bv6ax4yczupmy6q4B30JWOSDmeuQ5AcjTYe9fMb1PAOqbg3fYjkv8zJJ9OyqUOoZ0AkIwB3wdw0cz0ATHJCg+hDrqnY36MxAWL6PDJzF4nofSXko75DlifVZvzISWTgPp1cX+qCmFr1MfACHRzPrd28fTi/qAdgVZTacaVQQS6OZcymdrajGuvbNH3E4C0guhS5WJRF4qTRTdGnZpN4bVXgcBZ8Kvbv7gRNO3rhp7CAAAAAElFTkSuQmCC"},914:function(e,t,a){"use strict";var c=a(52);t.a=e=>{let{childPage:t}=e;const a=["deposit","withdraw","swap"],s=function(e,s){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const l=a[e-1],i=c.i[s?"".concat(s,"_").concat(l):l];i&&Object(c.a)({action:i(t),event_category:t,...n})};return{tabChangeLog:e=>s(e,"tab"),tabSubmitLog:(e,t)=>s(e,null,t)}}},915:function(e,t,a){"use strict";var c=a(1),s=a(0),n=a(3);t.a=e=>{let{name:t,cb:a,valueFlag:l}=e;return Object(c.useEffect)((()=>{const e=Object(s.G)(t),c="withdraw"===e?"2":"1";if(console.log("====cbIndex===",c),e){a&&a(l?{value:c}:c)}}),[]),Object(n.jsx)(n.Fragment,{})}},918:function(e,t,a){e.exports={sun_check_button:"style_sun_check_button__5diEB",sun_check_active_button:"style_sun_check_active_button__28IzL"}},945:function(e,t,a){"use strict";var c=a(1),s=a(11),n=a.n(s),l=a(74),i=a(1257),o=a(1259),r=a(1365),b=a(875),j=a(185),d=a(257),u=a(18),p=a(0),O=a(4),g=a(103),m=a(890),h=a(900),x=(a(908),a(910)),f=a(299),v=a(899),_=a(892),w=a(8),y=a(891),S=a(895),N=a(894),A=a(903),C=a(297),k=a(3);const{pools:T,poolKeys:D,ALL_FEE:L,defaultSlippage:I,stablePool:P}=O.a;t.a=e=>{const{pageList:t,tabPaneKey:a}=e,s=Object(l.d)((()=>g.a.network)),O=Object(l.d)((()=>g.a.system)),F=Object(l.d)((()=>g.a.pool)),[U,B]=Object(c.useState)((()=>{const e={};return D.map((t=>{e[t]=""})),e})()),[V,E]=Object(c.useState)(!1),[K,R]=Object(c.useState)(!0),[M,q]=Object(c.useState)(!1),[H,J]=Object(c.useState)("--"),[Z,Q]=Object(c.useState)("--"),[W,G]=Object(c.useState)(!1),[z,X]=Object(c.useState)(!1),[Y,$]=Object(c.useState)(!1);let ee=null;Object(c.useEffect)((async()=>{await Promise.all([ie(U),ae()]),W&&ne(U)}),[U]);const te=async t=>{try{const a=[];e.onSubmit&&e.onSubmit(),D.map((e=>{a.push({...F.poolData[e],inputValue:t[e]?Object(p.fb)(t[e]).times(T[e].precision):Object(p.a)(0)})}));for(let e=0;e<a.length;e++){const{allowance:t=Object(p.a)(0),inputValue:c,token:s,symbol:n,approveStatus:l,id:i}=a[e];if(Object(p.a)(t).lt(c)&&!l){if(!await O.approveToken(s,P,{title:"deposit.approve_token",obj:{value:n},continuous:!0},[["pool/getBalanceInfo"]]))return;F.poolData[i].approveStatus=2}}const c=a.sort(((e,t)=>e.index-t.index)),s=c.length,n=c.map((e=>e.inputValue._toIntegerDown()._toHex()))||[];let l=null;if(F.lpTotalSupply.lte(0)&&await F.getUserLp(),F.lpTotalSupply.lte(0))l=Object(p.a)(1);else{const e=await Object(w.e)(n);if(!e.success)return;l=e.value}l=l.times(Object(p.a)(1).minus(Object(p.a)(L).times(s).div(Object(p.a)(4).times(s-1)).div(1e10)));const i=l.times(1-I)._toFixed(0,1),o={title:"actions.addLiq",obj:{detail:Object(p.A)(t)}};await O.addLiquidity(n,i,o,[["pool/updateCurrencyData"]])&&je()}catch(a){console.log("deposit err: ",a)}},ae=async()=>{const e=[];for(let a in U){const{index:t,precision:c}=T[a],s=U[a].replace(/,/g,"");e[t]=Object(p.a)(s).isNaN()?0:Object(p.a)(s).times(c)._toIntegerDown()._toHex()}let t=null;if(F.lpTotalSupply.lte(0)&&await F.getUserLp(),F.lpTotalSupply.lte(0))t=Object(p.a)(1);else{const a=await Object(w.e)(e);if(!a.success)return;t=a.value.div(1e18)}Q(t)},ce=async()=>{await Promise.all([F.getSwapBalance(),F.getVirtualPrice(),F.getVolData()])},se=async()=>{await Promise.all([F.getUserLp(),F.getBalanceInfo()]);const e={};D.map((t=>{const{precision:a,balance:c,decimal:s}=F.poolData[t];e[t]=Object(p.c)(Object(p.a)(c).div(a)._toFixed(s,1))})),B(e),!W&&G(!0),ee||(ee=setInterval((async()=>{ce(),F.getUserLp()}),s.defaultIntervalSec))};Object(c.useEffect)((async()=>(await Promise.all([se(),ce()]),()=>{clearInterval(ee)})),[s.defaultAccount]);const ne=e=>{const t=Object.keys(e),a=t.length;if(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object.keys(e),a=t.filter((t=>Object(p.fb)(e[t]).eq(0)||!e[t]));return t.length===a.length}(e))return q(n.a.get("error.e1")),!0;for(let c=0;c<a;c++){const a=t[c],s=e[a];if(!s&&(V||K))return q(n.a.get("error.e1")),!0;const{balance:l,precision:i,symbol:o}=F.poolData[a];if(Object(p.a)(l).div(i).lt(Object(p.fb)(s)))return q(n.a.get("error.e2",{token:o})),!0}return q(!1),!1},le=e=>{$(e.target.checked)},ie=async e=>{const t=await F.calcInclPrice(e);J(t)},oe=(e,t)=>{const a=t,c={};c[e]=Object(p.c)(String(a).replace(/,/g,""));const{precision:s,swapBalance:n,balance:l}=F.poolData[e],i=Object(p.fb)(a).div(n).isNaN()?Object(p.a)(0):Object(p.fb)(a).div(n);D.filter((t=>t!==e)).map((e=>{const{balance:t=Object(p.a)(0),swapBalance:a,precision:s,decimal:n}=F.poolData[e];c[e]=Object(p.c)(i.times(a)._toFixed(n,1)),t.div(s).lt(Object(p.fb)(c[e]))&&(c[e]=Object(p.c)(t.div(s)._toFixed(n,1)))})),B(c)},re=async e=>{try{const t=e.target.checked;E(t),K&&R(!t),t&&oe(D[0],U[D[0]])}catch(t){console.log(t)}},be=async e=>{try{const t=e.target.checked;R(t),V&&E(!t);const a={};D.map((e=>{const{balance:t,precision:c,decimal:s}=F.poolData[e];a[e]=Object(p.a)(t).isNaN()?0:Object(p.c)(t.div(c)._toFixed(s,1))})),B(a)}catch(t){console.log(t)}},je=()=>{$(!1),X(!1)},de=Object(C.b)();return Object(k.jsx)(l.a,{children:()=>Object(k.jsxs)(i.a,{...S.a.row,children:[Object(k.jsx)(o.a,{...S.a.colLeft,children:Object(k.jsxs)("div",{className:"pool-deposit",children:[Object(k.jsx)(y.a,{list:t,activeKey:a[0]}),e.isSinglePage?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(m.a,{routeName:"3pool/deposit",mountedActions:se,instantActions:ce}),Object(k.jsx)(h.a,{title:"3pool "+n.a.get("banner.title_deposit"),desc:n.a.get("banner.desc_deposit")}),Object(k.jsx)(v.a,{})]}):null,s.isConnected?Object(k.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(k.jsxs)("div",{className:"add-liq",children:[Object(k.jsxs)("fieldset",{className:"currencies",children:[Object(k.jsx)("legend",{children:n.a.get("deposit.currencies")}),Object(k.jsx)("ul",{children:D.map((e=>{let{symbol:t="",balance:a="--",precision:c,decimal:s}=F.poolData[e];return a=Object(p.a)(a).div(c),Object(k.jsxs)("li",{children:[Object(k.jsxs)("div",{className:"cur-label",children:[Object(k.jsxs)("span",{className:"icon",children:[Object(k.jsx)("img",{src:u.b[e]?u.b[e]:d.default,alt:"",className:"token-logo"})," ",t]}),Object(k.jsx)("span",{className:"token-max",children:n.a.getHTML("deposit.token_max",{balance:Object(p.u)(a)})})]}),Object(k.jsx)(A.a,{onMaxClick:()=>{((e,t,a)=>{if(Object(p.a)(t).isNaN())return;const c=Object(p.a)(t)._toFixed(a,1);B({...U,[e]:Object(p.c)(c)}),V&&oe(e,c)})(e,a,s)},value:U[e],onChange:t=>((e,t)=>{K&&R(!1);const{decimal:a}=T[t],{valid:c,str:s}=Object(p.V)((""+e.target.value).replace(/,/g,""),a);c&&(B({...U,[t]:Object(p.c)(s)}),V&&oe(t,s))})(t,e)})]},e)}))})]}),!Object(p.a)(H).isNaN()&&Object(p.ab)(H,!0),Object(k.jsxs)("div",{className:"deposit-check",children:[Object(k.jsx)(r.a,{checked:V,onChange:re,children:n.a.get("deposit.ch1")}),Object(k.jsx)("br",{}),Object(k.jsx)(r.a,{checked:K,onChange:be,children:n.a.get("deposit.ch2")})]}),M?Object(k.jsx)(_.a,{styleName:"mt-40",type:"single",disabled:!0,info:n.a.get("deposit.action")}):Object(k.jsx)(_.a,{styleName:"mt-40",type:"single",info:de?n.a.get("not_available"):n.a.get("deposit.action"),onClick:()=>(async e=>{try{if(!M&&ne(e))return;if(M)return;if(Object(p.a)(H).abs().gt(10))return X(!0);await te(e)}catch(t){console.log(t)}})(U),disabled:de}),M&&Object(k.jsx)("div",{className:"error-content mt-12",children:Object(k.jsx)("div",{className:"error-tip",children:M})}),Object(p.a)(Z).gt(0)&&Object(k.jsxs)("div",{className:"error-content mt-12",children:[Object(k.jsxs)("div",{className:"error-tip",children:[n.a.getHTML("deposit.swap_detail",{value:Object(p.u)(Z,2),symbol:"Old 3pool LP"})," "]}),Object(k.jsx)("div",{className:"error-tip",children:n.a.get("deposit.exchange_rate",{value:Object(p.u)(F.virtualPrice,6),symbol:"Old 3pool LP"})})]})]})}):Object(k.jsx)(N.a,{}),Object(k.jsx)(f.a,{}),Object(k.jsx)(b.a,{title:n.a.get("deposit.high_slippage_title"),open:z,closable:!0,icon:null,onCancel:je,footer:null,width:400,className:"common-modal common-bg slippage-modal",children:Object(k.jsxs)("div",{className:"center",children:[Object(k.jsxs)("div",{className:"common-err-bg",children:[Object(k.jsx)("div",{children:n.a.get("deposit.high_tip1")}),Object(k.jsx)("div",{children:n.a.get("deposit.high_tip2",{value:Object(p.u)(Object(p.a)(H).abs(),3)})})]}),Object(k.jsx)(r.a,{checked:Y,onChange:le,children:n.a.get("deposit.confirm_slippage",{value:Object(p.u)(Object(p.a)(H).abs(),3)})}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"btns flex",children:[Object(k.jsx)(j.a,{onClick:()=>X(!1),type:"primary",children:n.a.get("cancel")}),Object(k.jsx)(j.a,{onClick:()=>te(U),disabled:!Y,children:n.a.get("deposit.anyway")})]})]})})]})}),Object(k.jsx)(o.a,{...S.a.colRight,children:Object(k.jsx)(x.a,{className:s.isConnected?null:"window-for-tabs-pane"})})]})})}},947:function(e,t,a){"use strict";var c=a(1),s=a(11),n=a.n(s),l=a(1257),i=a(1259),o=a(303),r=a(873),b=a(257),j=a(74),d=a(103),u=a(18),p=a(4),O=a(8),g=a(0),m=a(910),h=a(890),x=a(900),f=(a(908),a(899)),v=(a(36),a(896)),_=a(892),w=a(897),y=a(895),S=a(891),N=a(894),A=a(903),C=a(3);const{pools:k,poolKeys:T,stableLp:D,ALL_FEE:L,stablePool:I,tokens:P}=p.a,F="---",U="CUSTOM",B=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t={};return T.map((a=>{t[a]=e})),t};t.a=e=>{const{pageList:t,tabPaneKey:a}=e,[s=B("--"),p]=Object(c.useState)(),[V,E]=Object(c.useState)("100.00"),[K,R]=Object(c.useState)(.2),[M,q]=Object(c.useState)(""),[H,J]=Object(c.useState)(!0),[Z,Q]=Object(c.useState)(!1),[W,G]=Object(c.useState)("--"),[z=B(!1),X]=Object(c.useState)(),[Y,$]=Object(c.useState)(!1),[ee,te]=Object(c.useState)(!1),ae=Object(j.d)((()=>d.a.system)),ce=Object(j.d)((()=>d.a.pool)),se=Object(j.d)((()=>d.a.network));let ne=null;Object(c.useEffect)((async()=>{ee&&le()}),[s,V,K,M,z]),Object(c.useEffect)((()=>{ge(s,Z)}),[s]);const le=()=>V!==F&&Object(g.fb)(V).gt(100)?($(n.a.get("error.e3")),!0):(()=>{for(let e in s)if(Object(g.fb)(s[e]).gt(0)||"--"===s[e])return!1;return!0})()?($(n.a.get("error.e4")),!0):K===U&&(be()||V===F)&&(Object(g.a)(M).lt(.1)||Object(g.a)(M).gt(50)||Object(g.a)(M).isNaN())?($(n.a.get("error.e5")),!0):($(!1),!1),ie=async(e,t)=>{try{const a=e.length,c=e.map((e=>e.inputValue.isNaN()?0:e.inputValue._toIntegerDown()._toHex()))||[],n=await Object(O.e)(c,!1);if(!n.success)return;let l=n.value.times(Object(g.a)(1).plus(Object(g.a)(L).times(a).div(4*(a-1))));const i=Object(g.a)(100).plus(t).div(100);if(l=l.times(i)._toIntegerDown(),H&&Object(g.a)(ce.userLpAllowance).lt(l)){if(!await ae.approveToken(D,I,{title:"deposit.approve_token",obj:{value:P.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]))return;J(!1)}const o=l._toHex(),r={title:"actions.remove",obj:{detail:Object(g.A)(s)}};await ae.removeLiqImBalance(c,o,r,[["pool/updateCurrencyData"]])}catch(a){console.log(a)}},oe=async(e,t)=>{try{const a=await je(t,e,Object(g.fb)(V));if(!a)return;const{userLpBalance:c,lpTotalSupply:n,balances:l,userLpAllowance:i,minAmounts:o}=a,r=Object(g.fb)(V).div(100).times(c)._toIntegerDown();if(H&&Object(g.a)(i).lt(r._toIntegerDown())){if(!await ae.approveToken(D,I,{title:"deposit.approve_token",obj:{value:P.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]))return;J(!1)}const b={title:"actions.remove",obj:{detail:Object(g.A)(s)}},j=r._toHex();await ae.removeLiquidity(j,o,b,[["pool/updateCurrencyData"]])}catch(a){console.log(a)}},re=async(e,t,a)=>{try{const c=await Object(O.rb)(t,e);if(!c.success)return;const{userLpBalance:n,userLpAllowance:l}=c,i=Object(g.fb)(V).div(100).times(n)._toIntegerDown();if(H&&Object(g.a)(l).lt(i._toIntegerDown())){if(!await ae.approveToken(D,I,{title:"deposit.approve_token",obj:{value:P.thrpoollp.symbol},continuous:!0},[["pool/getUserLp"]]))return;J(!1)}const o=i._toHex();let r=!1;for(let e in z)!0===z[e]&&(r=k[e].index);const b=await Object(O.q)(o,r);if(!b.success)return;const j=b.value,d=e.length,u=j.times(Object(g.a)(1).minus(Object(g.a)(L).times(d).div(4*(d-1)).div(1e10))),p=Object(g.a)(100).div(Object(g.a)(100).plus(a)),m=u.times(p)._toIntegerDown()._toHex(),h={title:"actions.remove",obj:{detail:Object(g.A)(s)}};await ae.removeLiqOneCoin(o,r,m,h,[["pool/updateCurrencyData"]])}catch(c){console.log(c)}},be=()=>{for(let e in z)if(z[e])return e;return!1},je=async function(e,t,a){let c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{const s=await Object(O.rb)(e,t);if(!s.success)return;const{userLpBalance:n,lpTotalSupply:l,balances:i,userLpAllowance:o}=s,r=[],b={};return t.map((e=>{const{index:t,id:s,decimal:o,precision:j}=e;let d=Object(g.fb)(a).div(100).times(i[t]);c||(d=Object(g.a)(.98).times(d)),r[t]=d.times(n).div(l)._toIntegerDown()._toHex(),b[s]=Object(g.c)(d.times(n).div(l).div(j)._toFixed(o,1))})),{userLpBalance:n,lpTotalSupply:l,balances:i,userLpAllowance:o,minAmounts:r,amountsStr:b}}catch(s){console.log(s)}},de=async(e,t)=>{try{await ce.getUserLp();const{userLpBalance:a}=ce,{precision:c,decimal:s}=k[e],n=Object(g.fb)(t).div(100).times(a)._toIntegerDown(),l=k[e].index,i=n._toHex(),o=await Object(O.q)(i,l);if(!o.success)return!1;const r=o.value;return Object(g.a)(r).div(c)._toFixed(s,1)}catch(a){console.log(a)}},ue=()=>{ce.getSwapBalance(),ce.getVirtualPrice(),ce.getVolData()},pe=async()=>{await Promise.all([ce.getUserLp(),ce.getBalanceInfo()]);const e={};T.map((t=>{const{userSwapBalance:a,decimal:c}=ce.poolData[t];e[t]=Object(g.c)(Object(g.a)(a)._toFixed(c,1))})),p(e),ne||(ne=setInterval((async()=>{ue(),await ce.getUserLp()}),se.defaultIntervalSec))};Object(c.useEffect)((()=>(pe(),ue(),()=>{clearInterval(ne)})),[]);const Oe=async(e,t)=>{!ee&&te(!0);let a=Object(g.fb)(V);const c={},n={};if(e){Q(!0);for(let e in z)e!==t&&(c[e]=!1,n[e]=0);X({...z,...c,[t]:e}),(V===F||Object(g.fb)(V).lte(0))&&(a="100.00",E(a)),Object(g.a)(a).gt(100)&&(a=100);const l=await de(t,a);l&&p({...s,...n,[t]:Object(g.c)(l)})}else E(F),Q(!1),X({...z,[t]:e})},ge=async(e,t)=>{const a=await ce.calcInclPrice(e,!1,t);G(a)},me=async e=>{var t;!ee&&te(!0);let a=e.target.value,c=a.split(".");if((null===(t=c[1])||void 0===t?void 0:t.length)>2&&(a="".concat(c[0]+"."+c[1].substr(0,2))),Object(g.a)(a).gt(100))return;const{valid:n,str:l}=Object(g.V)(a,10);if(V===F)return(()=>{const e={},t={};T.map((a=>{e[a]=0,t[0]=!1})),p(e),X(z),E(0)})();if(""===a)return E(""),(()=>{const e={};T.map((t=>{e[t]=0})),p(e)})();if(n){E(Object(g.c)(l));const t=Object(g.a)(l).gt(100)?Object(g.a)(100):Object(g.a)(l);if(t.isNaN())return;if(!se.defaultAccount)return;const c=se.defaultAccount,n=be();if(n){const e=await de(n,t);return e&&p({...s,[n]:Object(g.c)(e)})}if(l!==F){const t=[];T.map((e=>{t.push({...k[e]})}));const s=t.sort(((e,t)=>e.index-t.index)),n=await je(c,s,l,!0);if(a===e.target.value){const{amountsStr:e={}}=n;n&&p(e)}}}},he=e=>{!ee&&te(!0),R(e),e!==F&&q("")},xe=e=>{const{valid:t,str:a}=Object(g.V)(e,10);if(t)if(""===a)q("");else if(Object(g.a)(a).lte(100)){var c;let e=a,t=a.split(".");(null===(c=t[1])||void 0===c?void 0:c.length)>2&&(e="".concat(t[0]+"."+t[1].substr(0,2))),q(e)}},fe=e=>be()||V===F?Object(C.jsx)("div",{className:"flex start mt-20",children:Object(C.jsx)(w.a,{slippage:e,customSlippage:M,CUSTOM_SLIPPAGE:U,onChangeSlippage:he,onChangeCustomSlippage:xe})}):Object(C.jsx)(C.Fragment,{});return Object(C.jsx)(j.a,{children:()=>Object(C.jsxs)(l.a,{...y.a.row,children:[Object(C.jsxs)(i.a,{...y.a.colLeft,children:[Object(C.jsx)(S.a,{list:t,activeKey:a[0]}),Object(C.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(h.a,{routeName:"3pool/withdraw",mountedActions:pe,instantActions:ue}),Object(C.jsx)(x.a,{title:"3pool "+n.a.get("banner.title_withdraw"),desc:n.a.get("banner.desc_withdraw")}),Object(C.jsx)(f.a,{})]}):null,se.isConnected?Object(C.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(C.jsxs)("div",{className:"add-liq withdraw-liq",children:[Object(C.jsxs)("div",{className:"flex",children:[n.a.get("withdraw.share_of_liq"),Object(C.jsx)(A.a,{className:"flex-1 ml-20",showMax:!1,placeholder:"100.00",value:V,onChange:me})]}),Object(C.jsxs)("fieldset",{className:"currencies mt-35",children:[Object(C.jsx)("legend",{children:n.a.get("deposit.currencies")}),Object(C.jsx)("ul",{children:T.map((e=>{const t=k[e],{symbol:a=""}=t;return Object(C.jsxs)("li",{children:[Object(C.jsx)("div",{className:"cur-label",children:Object(C.jsxs)("span",{className:"icon",children:[Object(C.jsx)("img",{src:u.b[e]?u.b[e]:b.default,alt:"",className:"token-logo"}),a]})}),Object(C.jsx)(A.a,{showMax:!1,value:s[e],onChange:t=>{(async(e,t)=>{!ee&&te(!0);const{decimal:a}=k[t],{valid:c,str:n}=Object(g.V)((""+e.target.value).replace(/,/g,""),a);c&&p({...s,[t]:Object(g.c)(n)}),E(F),Q(!1);const l={};for(let s in z)l[s]=!1;X(l)})(t,e)}})]},e)}))})]}),Object(g.ab)(W),Object(C.jsxs)("fieldset",{children:[Object(C.jsxs)("legend",{className:"flex aic jcs pt20",children:[Object(C.jsx)("span",{className:"mr-10",children:n.a.get("withdraw.withdraw_text")}),Object(C.jsx)(o.a,{title:n.a.get("withdraw.tip"),children:Object(C.jsx)(r.a,{})})]}),Object(C.jsx)("div",{className:"withdraw-one",children:T.map((e=>{const{symbol:t=""}=k[e];return Object(C.jsx)(v.a,{id:e,checked:z[e],tokenLogo:u.b[e]?u.b[e]:b.default,symbol:t,onChange:Oe})}))})]}),fe(K),Y?Object(C.jsx)(_.a,{styleName:"mt-40",type:"single",disabled:!0,info:n.a.get("withdraw.action")}):Object(C.jsx)(_.a,{styleName:"mt-40",type:"single",info:n.a.get("withdraw.action"),onClick:()=>(async t=>{try{if(!se.defaultAccount)return;if(!ee&&te(!0),!Y&&le(t))return;if(Y)return;const a=se.defaultAccount,c=[];T.map((e=>{c.push({...k[e],inputValue:Object(g.fb)(t[e]).times(k[e].precision)})}));const s=c.sort(((e,t)=>e.index-t.index)),n=K===U?M:K;return e.onSubmit&&e.onSubmit(),Z?await re(s,a,n):V!==F?await oe(s,a):await ie(s,n)}catch(a){console.log(a)}})(s),disabled:Y}),Y&&Object(C.jsx)("div",{className:"error-content mt-12",children:Object(C.jsx)("div",{className:"error-tip",children:Y})})]})}):Object(C.jsx)(N.a,{})]})]}),Object(C.jsx)(i.a,{...y.a.colRight,children:Object(C.jsx)(m.a,{className:se.isConnected?null:"window-for-tabs-pane"})})]})})}},959:function(e,t,a){"use strict";a.r(t),a.d(t,"renderTab",(function(){return B})),a.d(t,"usePoolTab",(function(){return R}));var c=a(1257),s=a(1259),n=a(1826),l=a(74),i=a(1),o=a.n(i),r=a(11),b=a.n(r),j=(a(909),a(912),a(103)),d=a(890),u=(a(1785),a(1784)),p=(a(1362),a.p,a(257)),O=a(913),g=a(4),m=a(8),h=a(18),x=a(0),f=a(896),v=a(897),_=a(892),w=a(259),y=a(3);function S(e){const[t,a]=Object(i.useState)(2),[c,s]=Object(i.useState)(1),[n,o]=Object(i.useState)(0),[r,d]=Object(i.useState)(1),[S,N]=Object(i.useState)(-1),[A,C]=Object(i.useState)(1),[k,T]=Object(i.useState)(.005),[D,L]=Object(i.useState)(""),[I,P]=Object(i.useState)(!0),[F,U]=Object(i.useState)(""),[B,V]=Object(i.useState)(!1),{pools:E,poolIndex:K,stablePool:R,poolKeys:M}=g.a,q=Object(l.d)((()=>j.a.network)),H=Object(l.d)((()=>j.a.system)),J=Object(l.d)((()=>j.a.pool)),[Z,Q]=Object(i.useState)(!1);Object(i.useEffect)((()=>{z({i:t,j:n,dx:c})}),[]);const W=()=>{!Z&&Q(!0);let e=t,c=n,l=r;e!==c&&(a(c),o(e),s(l),z({i:c,j:e,dx:l,notChangeRate:!0}),X({no:1,i:c,j:e,dx:l}))},G=e=>{let{...t}=e;V(!B),X({...t,exchangeFlags:!B})},z=async e=>{let{...a}=e;try{let e=void 0===a.i?t:a.i,s=void 0===a.j?n:a.j,l=void 0===a.dx?Object(x.fb)(c):Object(x.fb)(a.dx);if(!Object(x.a)(l).gt(0))return void d(0);let i=Object(x.a)(l).times(E[K[e]].precision)._toIntegerDown()._toHex(),o=null;if(o=await Object(m.R)(e,s,i),o.success){let e=Object(x.a)(o.value).div(E[K[s]].precision);d(Object(x.c)(Object(x.a)(e)._toFixed(E[K[s]].decimal,1))),C(Object(x.a)(o.value))}else d(0),C(1);a.notChangeRate||X({i:e,j:s,dx:l})}catch(s){console.log("getDyData: ",s)}},X=async e=>{let{...a}=e;try{let e=void 0===a.i?t:a.i,s=void 0===a.j?n:a.j,l=void 0===a.dx?Object(x.fb)(c):Object(x.fb)(a.dx),i=void 0===a.exchangeFlags?B:a.exchangeFlags,o=Object(x.a)(l).times(E[K[e]].precision)._toIntegerDown()._toHex(),r=null;if(!Object(x.a)(l).gt(0))return;if(r=await Object(m.R)(e,s,o),r.success){let e=Object(x.a)(r.value).div(E[K[s]].precision).div(l);N(i?Object(x.a)(1).div(Object(x.a)(e)._toFixed(4,1))._toFixed(4,1):e._toFixed(4,1))}}catch(s){console.log("getRateData: ",s)}},Y=e=>{let l=t;Number(e)!==Number(n)&&(l=n),o(l),a(e);let i=Object(x.fb)(c)._toFixed(E[K[e]].decimal,1);s(Object(x.c)(i)),z({i:e,j:l,dx:i})},$=e=>{let l=n;Number(e)!==Number(t)&&(l=t),a(l),o(e);let i=Object(x.fb)(c)._toFixed(E[K[l]].decimal,1);s(Object(x.c)(i)),z({j:e,i:l,dx:i})},ee=e=>{!Z&&Q(!0);const{valid:a,str:c}=Object(x.V)((""+e).replace(/,/g,""),E[K[t]].decimal);let n=J.poolData&&Object(x.a)(J.poolData[K[t]].balance).div(E[K[t]].precision)._toFixed(2,1);if(a){if(Object(x.a)(c).lte(0))return s(Object(x.c)(c)),d(0),void U(b.a.get("buysell.error_msg_1"));Object(x.a)(c).gt(n)&&U(b.a.get("buysell.error_msg_2")),s(Object(x.c)(c)),z({dx:c})}},te=e=>{let a="--";return a=J.poolData[K[t]].balance,a=Object(x.a)(a).isNaN()?"--":J.poolData[K[t]].balance.div(J.poolData[K[t]].precision),Object(y.jsx)("span",{children:J.poolData&&Object(x.u)(a)})},ae=()=>{let{precision:e,balance:a,symbol:s}=J.poolData[K[t]];return a=Object(x.a)(a).div(e),Object(x.fb)(c).eq(0)||Object(x.fb)(c).isNaN()?(U(b.a.get("error.e1")),!0):Object(x.fb)(c).gt(a)?(U(b.a.get("error.e2",{token:s})),!0):2===k&&(!D||Number(D)<.1||Number(D)>50)?(U(b.a.get("error.e5")),!0):(U(""),!1)};Object(i.useEffect)((()=>{Z&&ae()}),[t,n,c,k,D]);const ce=()=>{let e=J.poolData&&Object(x.a)(J.poolData[K[t]].balance).div(E[K[t]].precision);ee(e)},se=e=>{!Z&&Q(!0),T(e),2!==e&&L("")},ne=e=>{!Z&&Q(!0);const{valid:t,str:a}=Object(x.V)(e,10);if(t)if(""===a)L("");else if(Object(x.a)(a).lte(100)){var c;let e=a,t=a.split(".");(null===(c=t[1])||void 0===c?void 0:c.length)>2&&(e="".concat(t[0]+"."+t[1].substr(0,2))),L(e)}},le=()=>{const e=()=>{let e=t,a=n;return B&&([e,a]=[a,e]),Object(y.jsx)(y.Fragment,{children:K[e].toUpperCase()+"/"+K[a].toUpperCase()})};return Object(y.jsxs)("p",{className:"exchang-rate-text mt-20",children:[Object(y.jsxs)("span",{className:"en-US"===window.localStorage.getItem("lang")?"er-en":"",children:[b.a.get("buysell.exchange_rate",{symbol:"3pool LP"})+" ",Object(y.jsx)(e,{})]}),Object(y.jsx)("img",{style:{cursor:"pointer",margin:"0 6px"},className:"exchange-img",alt:"",src:O.a,onClick:G}),Object(y.jsxs)("span",{children:["(",b.a.get("buysell.including_fees"),"): ",-1===S?b.a.get("buysell.not_available"):S]})]})},ie=()=>{const a=async()=>{if(!F)try{let a=2!==k?k:D?Object(x.a)(D).div(100):0,s=Object(x.a)(A).times(Object(x.a)(1).minus(Object(x.a)(a)))._toIntegerDown()._toHex(),l=t,i=n,o=Object(x.fb)(c).times(E[K[l]].precision)._toIntegerDown()._toHex();const b={title:"notification.tip1",title2:"notification.tip1",title3:"notification.tip1",title4:"notification.tip1",obj:{fromValue:Object(x.u)(Object(x.fb)(c)),fromToken:K[l].toUpperCase(),toValue:Object(x.u)(Object(x.fb)(r)),toToken:K[i].toUpperCase()}};let j=await H.toExchange(l,i,o,s,b,[["pool/updateCurrencyData"]]);j&&(setTimeout((()=>{J.getBalanceInfo()}),5e3),e.onSubmit&&e.onSubmit(j))}catch(a){console.log("sellSubmit: ",a)}};return Object(y.jsx)(y.Fragment,{children:F?Object(y.jsx)(_.a,{styleName:"mt-40",type:"single",disabled:!0,info:b.a.get("sell_btn")}):Object(y.jsx)(_.a,{styleName:"mt-40",type:"single",info:b.a.get("sell_btn"),onClick:async()=>{if(q.isConnected){if(!Z&&Q(!0),!F){if(ae())return}if(!F)try{let e=(await Object(m.Tb)(window.defaultAccount,[E[K[t]].token],[R]))[R].allowance;const{approveStatus:c}=J.poolData[K[t]];if(e.gt(0)||c)a();else{const e={action:"approve",title:"deposit.approve_token",obj:{value:M[t].toUpperCase()},continuous:!0};if(!await H.approveToken(E[K[t]].token,R,e,[["pool/getBalanceInfo"]]))return;J.poolData[K[t]].approveStatus=2,a()}}catch(e){console.log("exchangeBefore: ",e)}}else U(b.a.get("buysell.error_msg_3"))}})})},oe=e=>{let{direction:a="left"}=e,c=M;return Object(y.jsx)("div",{className:"flex start mb-16 pc-input-box",children:c.map((e=>{const c=h.b[e]||p.default,s="left"===a?t:n;return Object(y.jsx)(f.a,{id:e,checked:s===E[e].index,tokenLogo:c,symbol:E[e].symbol,onChange:(t,c)=>{"left"===a?Y(E[e].index):$(E[e].index)}})}))})},re=()=>Object(y.jsx)("span",{className:"exchange-alt",onClick:()=>W()}),be=Object(w.a)(w.b);return Object(y.jsx)(l.a,{children:()=>Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"exchange-box",children:[Object(y.jsx)(oe,{direction:"left"},"left"),Object(y.jsxs)("div",{className:"input-block",children:[Object(y.jsxs)("div",{className:"flex",children:[Object(y.jsx)("div",{className:"input-number",children:Object(y.jsx)(u.a,{className:"input",value:c,onChange:e=>ee(e.target.value)})}),Object(y.jsx)("span",{className:"max-btn",onClick:ce,children:b.a.get("sunSwapV3.swap.input_from_max")})]}),Object(y.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(y.jsx)("span",{children:b.a.get("sunSwapV3.swap.input_from_balance")})," ",te(J.poolData)]})]}),Object(y.jsxs)("div",{className:"flex",children:[Object(y.jsx)(re,{}),!be&&Object(y.jsx)("div",{className:"flex start",children:Object(y.jsx)(v.a,{type:"exchange",slippage:k,customSlippage:D,CUSTOM_SLIPPAGE:2,onChangeSlippage:e=>{se(Number(e))},onChangeCustomSlippage:e=>{T(2),ne(e)}})})]}),Object(y.jsx)(oe,{direction:"right"},"right"),Object(y.jsxs)("div",{className:"input-block",children:[Object(y.jsx)("div",{className:"input-number",children:Object(y.jsx)(u.a,{disabled:!0,className:"input",value:r})}),Object(y.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(y.jsx)("span",{children:b.a.get("sunSwapV3.swap.input_from_balance")})," ",te(J.poolData)]})]}),Object(y.jsx)(le,{}),be&&Object(y.jsx)("div",{className:"flex start",children:Object(y.jsx)(v.a,{type:"exchange",slippage:k,customSlippage:D,CUSTOM_SLIPPAGE:2,onChangeSlippage:e=>{se(Number(e))},onChangeCustomSlippage:e=>{T(2),ne(e)}})})]}),Object(y.jsx)(ie,{}),F&&Object(y.jsx)("div",{className:"error-content mt-12",children:Object(y.jsx)("div",{className:"error-tip",children:F})})]})})}var N=a(910),A=a(945),C=a(947),k=a(914),T=a(52),D=a(901),L=a(895),I=a(891),P=a(894),F=a(915);const U=e=>{let{onSubmit:t,pageList:a,tabPaneKey:n,isConnected:l}=e;return Object(y.jsxs)(c.a,{...L.a.row,children:[Object(y.jsxs)(s.a,{...L.a.colLeft,children:[Object(y.jsx)(I.a,{list:a,activeKey:n[0]}),l?Object(y.jsx)("div",{className:"window-for-tabs-pane",children:Object(y.jsx)(S,{onSubmit:t})}):Object(y.jsx)(P.a,{})]}),Object(y.jsx)(s.a,{...L.a.colRight,children:Object(y.jsx)(N.a,{})})]})},B=e=>Object(y.jsx)("span",{children:K[e].tabTitle}),{tabChangeLog:V,tabSubmitLog:E}=Object(k.a)({childPage:T.j.liquidity_old3pool}),K={1:{title:b.a.get("banner.title_deposit"),content:b.a.get("banner.desc_deposit"),tabTitle:b.a.get("header.deposit")},2:{title:b.a.get("banner.title_withdraw"),content:b.a.get("banner.desc_withdraw"),tabTitle:b.a.get("header.withdraw")},3:{title:b.a.get("banner.title_1"),content:b.a.get("banner.desc_1"),tabTitle:b.a.get("header.swap")}},R=e=>{let[,t,a]=window.location.hash.split("/");const c=window.localStorage.getItem("lang");return t.includes("usdc")&&(t="en-US"===c?"USDC Old":"Old USDC"),t.includes("3pool")&&(t="Old 3pool"),t.includes("busd")&&(t="en-US"===c?"Old BUSD":b.a.get("buysell.busd_2pool")),t.includes("usdd_usd_2pool")&&(t="en-US"===c?"Old USDD":b.a.get("buysell.usdd_2pool")),t.includes("usdj_2pool")&&(t="en-US"===c?"Old USDJ":b.a.get("buysell.usdj_2pool")),t.includes("tusd_2pool")&&(t="en-US"===c?"Old TUSD":b.a.get("buysell.tusd_2pool")),{title:t,tabKey:[{deposit:"1",withdraw:"2",swap:"3"}[a]||"1"]}};t.default=()=>{const{title:e,tabKey:t}=R(),[a,c]=o.a.useState(t),{mountedActions:s,instantActions:r}=(()=>{let e=null;const t=Object(l.d)((()=>j.a.pool)),a=Object(l.d)((()=>j.a.network)),c=()=>{t.getSwapBalance(),t.getVirtualPrice(),t.getVolData()};return o.a.useEffect((()=>()=>{clearInterval(e)}),[]),{mountedActions:async()=>{t.getUserLp(),await t.getBalanceInfo(),e||(e=setInterval((async()=>{c(),t.getUserLp(),await t.getBalanceInfo()}),a.defaultIntervalSec))},instantActions:c}})(),u=Object(i.useCallback)((e=>{let{value:t}=e;c(t),V(t)}),[]),p=()=>{const e=window.localStorage.getItem("lang")||b.a.options.currentLocale,t=window.location.origin+window.location.pathname;window.location.href=t+"?lang=".concat(e,"#/sunCurve")},O=Object(i.useMemo)((()=>({shouldScroll:!0,navRightMoreShow:!0,navRightMoreClick:p})),[]),g=Object(i.useMemo)((()=>L.b.map((e=>({...e,handler:u})))),[u]),m=Object(l.d)((()=>j.a.network));return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(d.a,{mountedActions:s,instantActions:r,subNavProps:O}),Object(y.jsxs)("div",{className:"main-page-content",children:[Object(y.jsx)(D.a,{title:"".concat(e," ").concat(K[a[0]].title),subTitle:K[a[0]].content}),Object(y.jsxs)("div",{className:"pool-tabs",children:[Object(y.jsxs)(n.a,{activeKey:a[0],centered:!0,onChange:u,renderTabBar:()=>null,children:[Object(y.jsx)(n.a.TabPane,{tab:B("1"),children:Object(y.jsx)(A.a,{onSubmit:()=>E("1"),pageList:g,tabPaneKey:a})},"1"),Object(y.jsx)(n.a.TabPane,{tab:B("2"),children:Object(y.jsx)(C.a,{onSubmit:()=>E("2"),pageList:g,tabPaneKey:a})},"2"),Object(y.jsx)(n.a.TabPane,{tab:B("3"),children:Object(y.jsx)(U,{onSubmit:e=>E("3",{event_label:e,txid:e}),pageList:g,tabPaneKey:a,isConnected:m.isConnected})},"3")]}),Object(y.jsx)(F.a,{name:"type",cb:u,valueFlag:!0})]})]})]})}}}]);