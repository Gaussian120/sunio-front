(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[34],{1063:function(e,t,a){"use strict";var n=a(4),c=a(24),r=a.n(c),s=a(1085),i=a(7);t.a=function(e){var t,a=e.checked,c=e.tokenLogo,o=e.symbol,u=void 0===o?"":o,l=e.onChange,b=e.id,j=void 0===b?"":b;return Object(i.jsxs)("div",{className:r()((t={},Object(n.a)(t,s.sun_check_button,!0),Object(n.a)(t,s.sun_check_active_button,a),t)),onClick:function(){l&&l(!a,j)},children:[c&&Object(i.jsx)("img",{src:c,alt:"",className:"token-logo"}),Object(i.jsx)("span",{children:u})]})}},1064:function(e,t,a){"use strict";var n=a(15),c=a.n(n),r=a(24),s=a.n(r),i=a(1914),o=a(1074),u=a(7),l=[{key:.2,label:"0.2%"},{key:3,label:"3%"}],b=[{key:.005,label:"0.5%"},{key:.01,label:"1%"}];t.a=function(e){var t=e.slippage,a=e.customSlippage,n=e.CUSTOM_SLIPPAGE,r=e.type,j="withdraw"===(void 0===r?"withdraw":r)?l:b;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"mr-10",children:c.a.get("withdraw.slippage")}),Object(u.jsxs)("div",{className:s()(o.setting_btns),children:[Object(u.jsx)("div",{className:o.setting_btn_wrap,children:j.map((function(a){return Object(u.jsx)("button",{className:s()(t===a.key?o.active:""),onClick:function(){return t=a.key,void(e.onChangeSlippage&&e.onChangeSlippage(t));var t},children:a.label})}))}),Object(u.jsx)(i.a,{className:s()(o.setting_input,o.module_important,["ml-20"]),suffix:"%",value:a,onFocus:function(){a||e.onChangeSlippage&&e.onChangeSlippage(n)},onBlur:function(){a||e.onChangeSlippage&&e.onChangeSlippage(String(j[0].key))},onChange:function(t){e.onChangeCustomSlippage&&e.onChangeCustomSlippage(t.target.value)}})]})]})}},1068:function(e,t,a){"use strict";var n=a(4),c=a(3),r=a(24),s=a.n(r),i=a(1072),o=a(7),u=function(e){var t,a=e.title,c=e.subTitle,r=e.isRevert,u="string"===typeof a;return Object(o.jsxs)("div",{className:i.page_title_wrap,children:[r&&c&&Object(o.jsx)("div",{className:i.page_title_sub,children:c}),a&&Object(o.jsx)("div",{className:s()((t={},Object(n.a)(t,i.page_title,!0),Object(n.a)(t,i.page_title_revert,r),Object(n.a)(t,i.page_title_ele,!u),t)),children:u?a.split("").map((function(e,t){return Object(o.jsx)("span",{className:i.page_title_ele,children:e},t)})):a}),c&&!r&&Object(o.jsx)("div",{className:i.page_title_sub,children:c})]})};t.a=Object(c.memo)(u)},1072:function(e,t,a){e.exports={page_title:"style_page_title__dfZPh",page_title_wrap:"style_page_title_wrap__7dtV_",page_title_ele:"style_page_title_ele__Tktf1",page_title_sub:"style_page_title_sub__1IUsF",page_title_revert:"style_page_title_revert__18HMS"}},1074:function(e,t,a){e.exports={setting_wrap:"style_setting_wrap__L7ld9",setting_label:"style_setting_label__3qQrG",setting_btns:"style_setting_btns__zH_61",setting_btn_wrap:"style_setting_btn_wrap__uxT1B",setting_input:"style_setting_input__kvJzs",active:"style_active__10VTC",module_important:"style_module_important__PuwNO",info_text:"style_info_text__3K73H",setting_minutes:"style_setting_minutes__1mIXw"}},1076:function(e,t,a){},1079:function(e,t,a){},1080:function(e,t,a){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAA/JJREFUWEfVWctqFUEQPeX7/X5tXIkIouBa/AkxgkYXgrhwIQiufaCuxYXoQsSNGkHFnxDXgiKIuHJlTIwmMYmJ8ci5Voe+k3tneuaOIVMwhCTT3aerTlWdnjb0YCQNwHIAKwEsA7AEwFL/qZn/AJj1n78B/AIwY2asuqwWLG0kBXCVPwJZxrSJKT1mpg2UslKASa4AsMG9GhaSBwVgJuNR/T/2uCKhTSoCwTRm1MymU1EnASapcK/3BUOoJ9xLWjTZSAbgayLqaMNjZiba5FohYA//ZgB6V9z7qcfMFNrKRlLeX+tPmHukiCa5gElqQlFAJi8ofKJAbUZSFNEaootMa8gpHa0rYJIbAShssnE9vWR33g692qwDoEc2YWY/Oo3pCDjj2e9mNlmbS3MmIrkawKY8T88D7Jzd4oMWDGzYRwb0tyyn2wB7NdjmCSYKjC2EZ7NrkFRFEj2U5ENx9cgCVjUQ+ZVg8m6pjkTyMIA9AAZSSlQ3ZzinRY0WFjMbCe/OAfamsNV39bVMNSCp5LwN4JxPfMPMrvQSHa8e2z3aw6G5xIBFBRX1UlQgeRDAUwD7I4A9A9ZcETWkP4b0txbgKNHUDOTdpKZA8jyAW1EN1XQDAM7WUVm8ucjLajKtBAyAxReVlCTvkhTXHwA4GnlVxf6CmT3shQo5CdiqzeYE3+G7UEbmagOSRwA8AbA7mvwNgBNm9qFOsB590VR0VdQHBVgKTMk2a2aDBR3pMoCrGcWljnTPtW4VvB/lgLyKRFIOVQsfFuBQ8yRoRnNKzTEAz6sgShhz2swe56wtrSFdMy7AofbmdjWSfQCeJSxe5ZUiwKFlTwmw6CBazGuDHRJAoA9UQZQzJoUSOuFILkwLcOCHylmhgK4ZbNJ0LhlU3mYFeJfX4y+p9TdplRpf8nq8Uy2jkYAbR4mkpPMG0w9gb43R1lTvzCy3XEbSoZV0qWXtFIBHNYMN0x3PAx2J+lZZS20c/xNwn5m9SG0cSa25Bkqolkrd6XAbTCfwa2Z2s0AStLVmKbZk8VOFEiT3uWY+FI3/DKDfzF4VgG0XP66IwpE+SV6WAU3yDIA7rgXC0JeumeeOPjl0CJT9Jy8dcGh9pQR8gWfU/6WZT0bv6ax4yczupmy6q4B30JWOSDmeuQ5AcjTYe9fMb1PAOqbg3fYjkv8zJJ9OyqUOoZ0AkIwB3wdw0cz0ATHJCg+hDrqnY36MxAWL6PDJzF4nofSXko75DlifVZvzISWTgPp1cX+qCmFr1MfACHRzPrd28fTi/qAdgVZTacaVQQS6OZcymdrajGuvbNH3E4C0guhS5WJRF4qTRTdGnZpN4bVXgcBZ8Kvbv7gRNO3rhp7CAAAAAElFTkSuQmCC"},1081:function(e,t,a){"use strict";var n=a(5),c=a(64);t.a=function(e){var t=e.childPage,a=["deposit","withdraw","swap"],r=function(e,r){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a[e-1],o=c.g[r?"".concat(r,"_").concat(i):i];o&&Object(c.a)(Object(n.a)({action:o(t),event_category:t},s))};return{tabChangeLog:function(e){return r(e,"tab")},tabSubmitLog:function(e,t){return r(e,null,t)}}}},1085:function(e,t,a){e.exports={sun_check_button:"style_sun_check_button__5diEB",sun_check_active_button:"style_sun_check_active_button__28IzL"}},1129:function(e,t,a){"use strict";a.p},1966:function(e,t,a){"use strict";a.r(t),a.d(t,"renderTab",(function(){return de})),a.d(t,"usePoolTab",(function(){return Oe}));var n=a(0),c=a(2),r=a(11),s=a(1931),i=a(1933),o=a(1954),u=a(78),l=a(3),b=a(15),j=a.n(b),d=(a(1076),a(1079),a(110)),p=a(1057),O=a(5),f=a(1096),x=a(1914),g=a(283),v=a(1080),m=a(6),h=a(12),_=a(25),w=a(1),k=a(1063),y=a(1064),S=a(1059),N=a(285),A=a(7);function C(e){var t,a,s=Object(l.useState)(1),i=Object(r.a)(s,2),o=i[0],b=i[1],p=Object(l.useState)(1),C=Object(r.a)(p,2),P=C[0],T=C[1],D=Object(l.useState)(0),I=Object(r.a)(D,2),L=I[0],F=I[1],B=Object(l.useState)(1),V=Object(r.a)(B,2),U=V[0],E=V[1],M=Object(l.useState)(-1),K=Object(r.a)(M,2),R=K[0],H=K[1],q=Object(l.useState)(1),J=Object(r.a)(q,2),Z=J[0],Q=J[1],W=Object(l.useState)(.005),z=Object(r.a)(W,2),G=z[0],X=z[1],Y=Object(l.useState)(""),$=Object(r.a)(Y,2),ee=$[0],te=$[1],ae=Object(l.useState)(!0),ne=Object(r.a)(ae,2),ce=(ne[0],ne[1],Object(l.useState)("")),re=Object(r.a)(ce,2),se=re[0],ie=re[1],oe=Object(l.useState)(!1),ue=Object(r.a)(oe,2),le=ue[0],be=ue[1],je=m.a.usdttusdPools,de=m.a.usdttusdPoolIndex,pe=m.a.usdttusdPoolKeys,Oe=m.a.usdttusdPoolContracts.stablePool,fe=Object(u.d)((function(){return d.a.network})),xe=Object(u.d)((function(){return d.a.system})),ge=Object(u.d)((function(){return d.a.usdttusdPool})),ve=Object(l.useState)(!1),me=Object(r.a)(ve,2),he=me[0],_e=me[1];console.log(132),Object(l.useEffect)((function(){ke({i:o,j:L,dx:P})}),[]);var we=function(e){var t=Object.assign({},(Object(f.a)(e),e));be(!le),ye(Object(O.a)(Object(O.a)({},t),{},{exchangeFlags:!le}))},ke=function(e){return(t=t||Object(c.a)(Object(n.a)().mark((function e(t){var a,c,r,s,i,u,l;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},(Object(f.a)(t),t)),e.prev=1,c=void 0===a.i?o:a.i,r=void 0===a.j?L:a.j,s=void 0===a.dx?Object(w.fb)(P):Object(w.fb)(a.dx),Object(w.a)(s).gt(0)){e.next=8;break}return E(0),e.abrupt("return");case 8:return i=Object(w.a)(s).times(je[de[c]].precision)._toIntegerDown()._toHex(),u=null,e.next=12,Object(h.S)(c,r,i,Oe);case 12:(u=e.sent).success?(l=Object(w.a)(u.value).div(je[de[r]].precision),E(Object(w.c)(Object(w.a)(l)._toFixed(je[de[r]].decimal,1))),Q(Object(w.a)(u.value))):(E(0),Q(1)),a.notChangeRate||ye({i:c,j:r,dx:s}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("getDyData: ",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)},ye=function(e){return(a=a||Object(c.a)(Object(n.a)().mark((function e(t){var a,c,r,s,i,u,l,b;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object.assign({},(Object(f.a)(t),t)),e.prev=1,c=void 0===a.i?o:a.i,r=void 0===a.j?L:a.j,s=void 0===a.dx?Object(w.fb)(P):Object(w.fb)(a.dx),i=void 0===a.exchangeFlags?le:a.exchangeFlags,u=Object(w.a)(s).times(je[de[c]].precision)._toIntegerDown()._toHex(),l=null,Object(w.a)(s).gt(0)){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Object(h.S)(c,r,u,Oe);case 12:(l=e.sent).success&&(b=Object(w.a)(l.value).div(je[de[r]].precision).div(s),H(i?Object(w.a)(1).div(Object(w.a)(b)._toFixed(4,1))._toFixed(4,1):b._toFixed(4,1))),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log("getRateData: ",e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)},Se=function(e){!he&&_e(!0);var t=Object(w.V)((""+e).replace(/,/g,""),je[de[o]].decimal),a=t.valid,n=t.str,c=ge.poolData&&Object(w.a)(ge.poolData[de[o]].balance).div(je[de[o]].precision)._toFixed(2,1);if(a){if(Object(w.a)(n).lte(0))return T(Object(w.c)(n)),E(0),void ie(j.a.get("buysell.error_msg_1"));Object(w.a)(n).gt(c)&&ie(j.a.get("buysell.error_msg_2")),T(Object(w.c)(n)),ke({dx:n})}},Ne=function(){var e=ge.poolData[de[o]],t=e.precision,a=e.balance,n=e.symbol;return a=Object(w.a)(a).div(t),Object(w.fb)(P).eq(0)||Object(w.fb)(P).isNaN()?(ie(j.a.get("error.e1")),!0):Object(w.fb)(P).gt(a)?(ie(j.a.get("error.e2",{token:n})),!0):2===G&&(!ee||Number(ee)<.1||Number(ee)>50)?(ie(j.a.get("error.e5")),!0):(ie(""),!1)};Object(l.useEffect)((function(){he&&Ne()}),[o,L,P,G,ee]);var Ae=function(){var e=ge.poolData&&Object(w.a)(ge.poolData[de[o]].balance).div(je[de[o]].precision);Se(e)},Ce=function(e){!he&&_e(!0),X(e),2!==e&&te("")},Pe=function(e){!he&&_e(!0);var t=Object(w.V)(e,10),a=t.valid,n=t.str;if(a)if(""===n)te("");else if(Object(w.a)(n).lte(100)){var c,r=n,s=n.split(".");(null===(c=s[1])||void 0===c?void 0:c.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),te(r)}},Te=function(){var e=function(){var e,t,a=o,n=L;if(le){var c=[n,a];a=c[0],n=c[1]}return Object(A.jsx)(A.Fragment,{children:(null===(e=de[a])||void 0===e?void 0:e.toUpperCase())+"/"+(null===(t=de[n])||void 0===t?void 0:t.toUpperCase())})};return Object(A.jsxs)("p",{className:"exchang-rate-text mt-20",children:[Object(A.jsxs)("span",{className:"en-US"===window.localStorage.getItem("lang")?"er-en":"",children:[j.a.get("buysell.exchange_rate")+" ",Object(A.jsx)(e,{})]}),Object(A.jsx)("img",{style:{cursor:"pointer",margin:"0 6px"},className:"exchange-img",alt:"",src:v.a,onClick:we}),Object(A.jsxs)("span",{children:["(",j.a.get("buysell.including_fees"),"): ",-1===R?j.a.get("buysell.not_available"):R]})]})},De=function(){var t,a,r=function(){return(t=t||Object(c.a)(Object(n.a)().mark((function t(){var a,c,r,s,i,u,l;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!se){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,a=2!==G?G:ee?Object(w.a)(ee).div(100):0,c=Object(w.a)(Z).times(Object(w.a)(1).minus(Object(w.a)(a)))._toIntegerDown()._toHex(),r=o,s=L,i=Object(w.fb)(P).times(je[de[r]].precision)._toIntegerDown()._toHex(),u={title:"notification.tip1",title2:"notification.tip1",title3:"notification.tip1",title4:"notification.tip1",obj:{fromValue:Object(w.u)(Object(w.fb)(P)),fromToken:de[r].toUpperCase(),toValue:Object(w.u)(Object(w.fb)(U)),toToken:de[s].toUpperCase()}},t.next=11,xe.toExchange(r,s,i,c,u,[["usdttusdPool/updateCurrencyData"]],Oe);case 11:(l=t.sent)&&(setTimeout((function(){ge.getBalanceInfo()}),5e3),e.onSubmit&&e.onSubmit(l)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),console.log("sellSubmit: ",t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,15]])})))).apply(this,arguments)};return Object(A.jsx)(A.Fragment,{children:se?Object(A.jsx)(S.a,{styleName:"mt-40",type:"single",disabled:!0,info:j.a.get("sell_btn")}):Object(A.jsx)(S.a,{styleName:"mt-40",type:"single",info:j.a.get("sell_btn"),onClick:function(){return(a=a||Object(c.a)(Object(n.a)().mark((function e(){var t,a,c,s;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fe.isConnected){e.next=3;break}return ie(j.a.get("buysell.error_msg_3")),e.abrupt("return");case 3:if(!he&&_e(!0),se){e.next=8;break}if(!Ne()){e.next=8;break}return e.abrupt("return");case 8:if(!se){e.next=10;break}return e.abrupt("return");case 10:return e.prev=10,e.next=13,Object(h.Sb)(window.defaultAccount,[je[de[o]].token],[Oe]);case 13:if(t=e.sent,a=t[Oe].allowance,c=ge.poolData[de[o]].approveStatus,a.gt(0)||c){e.next=29;break}return s={action:"approve",title:"deposit.approve_token",obj:{value:pe[o].toUpperCase()},continuous:!0},e.next=20,xe.approveToken(je[de[o]].token,Oe,s,[["usdttusdPool/getBalanceInfo"]]);case 20:if(!e.sent){e.next=26;break}ge.poolData[de[o]].approveStatus=2,r(),e.next=27;break;case 26:return e.abrupt("return");case 27:e.next=30;break;case 29:r();case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(10),console.log("exchangeBefore: ",e.t0);case 35:case"end":return e.stop()}}),e,null,[[10,32]])})))).apply(this,arguments)}})})},Ie=function(e){var t=e.direction,a=void 0===t?"left":t,n=pe,c=je;return Object(A.jsx)("div",{className:"flex start mb-16 pc-input-box",children:n.map((function(e){var t=_.a[e]||g.default,n="left"===a?o:L;return Object(A.jsx)(k.a,{id:e,checked:n===c[e].index,tokenLogo:t,symbol:c[e].symbol,onChange:function(t,n){"left"===a?function(e){var t=o;Number(e)!==Number(L)&&(t=L),F(t),b(e);var a=Object(w.fb)(P)._toFixed(je[de[e]].decimal,1);T(Object(w.c)(a)),ke({i:e,j:t,dx:a})}(c[e].index):function(e){var t=L;Number(e)!==Number(o)&&(t=o),b(t),F(e);var a=Object(w.fb)(P)._toFixed(je[de[t]].decimal,1);T(Object(w.c)(a)),ke({j:e,i:t,dx:a})}(c[e].index)}})}))})},Le=function(){return Object(A.jsx)("span",{className:"exchange-alt",onClick:function(){return function(){!he&&_e(!0);var e=o,t=L,a=U;e!==t&&(b(t),F(e),T(a),ke({i:t,j:e,dx:a,notChangeRate:!0}),ye({no:1,i:t,j:e,dx:a}))}()}})},Fe=function(e){var t,a="--";return a=null===(t=ge.poolData[de[o]])||void 0===t?void 0:t.balance,a=Object(w.a)(a).isNaN()?"--":ge.poolData[de[o]].balance.div(ge.poolData[de[o]].precision),Object(A.jsx)("span",{children:ge.poolData&&Object(w.u)(a)})},Be=Object(N.a)(N.b);return Object(A.jsx)(u.a,{children:function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"exchange-box",children:[Object(A.jsx)(Ie,{direction:"left"},"left"),Object(A.jsxs)("div",{className:"input-block",children:[Object(A.jsxs)("div",{className:"flex",children:[Object(A.jsx)("div",{className:"input-number",children:Object(A.jsx)(x.a,{className:"input",value:P,onChange:function(e){return Se(e.target.value)}})}),Object(A.jsx)("span",{className:"max-btn",onClick:Ae,children:j.a.get("sunSwapV3.swap.input_from_max")})]}),Object(A.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(A.jsx)("span",{children:j.a.get("sunSwapV3.swap.input_from_balance")})," ",Fe(ge.poolData)]})]}),Object(A.jsxs)("div",{className:"flex",children:[Object(A.jsx)(Le,{}),!Be&&Object(A.jsx)("div",{className:"flex start",children:Object(A.jsx)(y.a,{type:"exchange",slippage:G,customSlippage:ee,CUSTOM_SLIPPAGE:2,onChangeSlippage:function(e){Ce(Number(e))},onChangeCustomSlippage:function(e){X(2),Pe(e)}})})]}),Object(A.jsx)(Ie,{direction:"right"},"right"),Object(A.jsxs)("div",{className:"input-block",children:[Object(A.jsx)("div",{className:"input-number",children:Object(A.jsx)(x.a,{disabled:!0,className:"input",value:U})}),Object(A.jsxs)("div",{className:"mt-12 input-bottom-usd",children:[Object(A.jsx)("span",{children:j.a.get("sunSwapV3.swap.input_from_balance")})," ",Fe(ge.poolData)]})]}),Object(A.jsx)(Te,{}),Be&&Object(A.jsx)("div",{className:"flex start",children:Object(A.jsx)(y.a,{type:"exchange",slippage:G,customSlippage:ee,CUSTOM_SLIPPAGE:2,onChangeSlippage:function(e){Ce(Number(e))},onChangeCustomSlippage:function(e){X(2),Pe(e)}})})]}),Object(A.jsx)(De,{}),se&&Object(A.jsx)("div",{className:"error-content mt-12",children:Object(A.jsx)("div",{className:"error-tip",children:se})})]})}})}a(1078),a(1129),a(1118);var P=a(1092),T=a(1089),D=m.a.usdttusdPoolKeys,I=(m.a.usdttusdPools,function(e){var t=Object(u.d)((function(){return d.a.usdttusdPool})),a=Object(u.d)((function(){return d.a.network})),n=function(e,t){var a=Object(w.a)(e).times(t).div(1e18);return a.isNaN()?"--":Object(w.u)(a,2)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var a=Object(w.a)(0);for(var n in e){var c=e[n],r=c.userSwapBalance,s=c.priceKey,i=t?t[s]:"--";a=a.plus(Object(w.a)(r).times(i))}return Object(w.u)(a)}catch(o){return console.log(o),"--"}},r=Object(l.useMemo)((function(){return D.map((function(e){return t.poolData[e]}))}),[t.poolData]),s="".concat(j.a.get("buysell.usdt_tusd_pool")," ").concat(j.a.get("pool.pool2_contract")),i="2Pool_2 ".concat(j.a.get("pool.token_contract2")),o=Object(l.useMemo)((function(){return D.map((function(e){return t.poolData[e]}))}),[t.poolData]);return Object(A.jsx)(u.a,{children:function(){var e;return Object(A.jsxs)("div",{children:[Object(A.jsx)(P.a,{poolTokens:r,totalSwapBalance:t.totalSwapBalance,adminFee:t.adminFee,fee:t.fee,virtualPrice:t.virtualPrice,dailyVol:null===t||void 0===t||null===(e=t.volData)||void 0===e?void 0:e.usdtTusd2Pool24hourVol,poolContract:m.a.usdttusdPoolContracts.stablePool,poolName:s,lpTokenAddress:m.a.usdttusdPoolContracts.stableLp,lpTokenName:i}),a.isConnected&&Object(w.a)(t.sharePer).gt(0)&&Object(A.jsx)(T.a,{sharePer:t.sharePer,usdBalance:c(t.poolData,t.volData),avgUsdBalance:n(t.userLpBalance,t.virtualPrice),userTotalBalance:t.userTotalBalance,myPoolTokens:o})]})}})}),L=a(4),F=a(18),B=a(1502),V=a(1042),U=a(181),E=a(1067),M=(a(1075),a(340)),K=a(1066),R=a(1070),H=a(338),q=m.a.usdttusdPools,J=m.a.usdttusdPoolKeys,Z=m.a.ALL_FEE,Q=m.a.defaultSlippage,W=m.a.usdttusdPoolContracts.stablePool,z=function(e){var t,a,s,i,o,b,f,x,v=Object(u.d)((function(){return d.a.network})),k=Object(u.d)((function(){return d.a.system})),y=Object(u.d)((function(){return d.a.usdttusdPool})),N=Object(l.useState)(function(){var e={};return J.map((function(t){e[t]=""})),e}()),C=Object(r.a)(N,2),P=C[0],T=C[1],D=Object(l.useState)(!1),I=Object(r.a)(D,2),z=I[0],G=I[1],X=Object(l.useState)(!0),Y=Object(r.a)(X,2),$=Y[0],ee=Y[1],te=Object(l.useState)(!0),ae=Object(r.a)(te,2),ne=ae[0],ce=ae[1],re=Object(l.useState)(!1),se=Object(r.a)(re,2),ie=se[0],oe=se[1],ue=Object(l.useState)("--"),le=Object(r.a)(ue,2),be=le[0],je=le[1],de=Object(l.useState)("--"),pe=Object(r.a)(de,2),Oe=pe[0],fe=pe[1],xe=Object(l.useState)(!1),ge=Object(r.a)(xe,2),ve=ge[0],me=ge[1],he=Object(l.useState)(!1),_e=Object(r.a)(he,2),we=_e[0],ke=_e[1],ye=Object(l.useState)(!1),Se=Object(r.a)(ye,2),Ne=Se[0],Ae=Se[1],Ce=null;Object(l.useEffect)(Object(c.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Be(P),Te()]);case 2:ve&&Le(P);case 3:case"end":return e.stop()}}),e)}))),[P]);var Pe=function(t){return(a=a||Object(c.a)(Object(n.a)().mark((function t(a){var c,r,s,i,o,u,l,b,j,d,p,f,x,g,v,_,S,N;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,e.onSubmit&&e.onSubmit(),r=[],J.map((function(e){r.push(Object(O.a)(Object(O.a)({},y.poolData[e]),{},{inputValue:a[e]?Object(w.fb)(a[e]).times(q[e].precision):Object(w.a)(0)}))})),s=0;case 5:if(!(s<r.length)){t.next=19;break}if(i=r[s],o=i.allowance,u=void 0===o?Object(w.a)(0):o,l=i.inputValue,b=i.token,j=i.symbol,d=i.approveStatus,p=i.id,!Object(w.a)(u).lt(l)||d){t.next=16;break}return t.next=10,k.approveToken(b,W,{title:"deposit.approve_token",obj:{value:j},continuous:!0},[["usdttusdPool/getBalanceInfo"]]);case 10:if(!t.sent){t.next=15;break}y.poolData[p].approveStatus=2,t.next=16;break;case 15:return t.abrupt("return");case 16:s++,t.next=5;break;case 19:if(f=r.sort((function(e,t){return e.index-t.index})),x=f.length,g=f.map((function(e){return e.inputValue._toIntegerDown()._toHex()}))||[],v=null,!y.lpTotalSupply.lte(0)){t.next=26;break}return t.next=26,y.getUserLp();case 26:if(!y.lpTotalSupply.lte(0)){t.next=30;break}v=Object(w.a)(1),t.next=36;break;case 30:return t.next=32,Object(h.j)(g,!0,W);case 32:if((_=t.sent).success){t.next=35;break}return t.abrupt("return");case 35:v=_.value;case 36:return v=v.times(Object(w.a)(1).minus(Object(w.a)(Z).times(x).div(Object(w.a)(4).times(x-1)).div(1e10))),S=v.times(1-Q)._toFixed(0,1),N={title:"actions.addLiq",obj:{detail:Object(w.A)(a,"usdttusd")}},t.next=41,k.addLiquidityTwoKeyPool(g,S,N,[["usdttusdPool/updateCurrencyData"]],{poolAddress:null===m.a||void 0===m.a||null===(c=m.a.usdttusdPoolContracts)||void 0===c?void 0:c.stablePool});case 41:t.sent&&Me(),t.next=48;break;case 45:t.prev=45,t.t0=t.catch(0),console.log("deposit err: ",t.t0);case 48:case"end":return t.stop()}}),t,null,[[0,45]])})))).apply(this,arguments)},Te=function(){return(s=s||Object(c.a)(Object(n.a)().mark((function e(){var t,a,c,r,s,i,o,u;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in t=[],P)c=q[a],r=c.index,s=c.precision,i=P[a].replace(/,/g,""),t[r]=Object(w.a)(i).isNaN()?0:Object(w.a)(i).times(s)._toIntegerDown()._toHex();if(o=null,!y.lpTotalSupply.lte(0)){e.next=6;break}return e.next=6,y.getUserLp();case 6:if(!y.lpTotalSupply.lte(0)){e.next=10;break}o=Object(w.fb)(P.usdd).plus(Object(w.fb)(P.usdt)),e.next=16;break;case 10:return e.next=12,Object(h.j)(t,!0,W);case 12:if((u=e.sent).success){e.next=15;break}return e.abrupt("return");case 15:o=u.value.div(1e18);case 16:fe(o);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)},De=function(){return(i=i||Object(c.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([y.getSwapBalance(),y.getVirtualPrice(),y.getVolData(),y.getFeeInfo(),y.getAdminFeeInfo(),y.getA()]);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Ie=function(){return(o=o||Object(c.a)(Object(n.a)().mark((function e(){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([y.getUserLp(),y.getBalanceInfo()]);case 2:t={},J.map((function(e){var a=y.poolData[e],n=a.precision,c=a.balance,r=a.decimal;t[e]=Object(w.c)(Object(w.a)(c).div(n)._toFixed(r,1))})),T(t),!ve&&me(!0),ce(!1),Ce||(Ce=setInterval(Object(c.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:De(),y.getUserLp();case 2:case"end":return e.stop()}}),e)}))),v.defaultIntervalSec));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)};Object(l.useEffect)((function(){var e=Object(F.p)((function(){return v.defaultAccount}),(function(){Ie(),De()}));return function(){e()}}),[]),Object(l.useEffect)(Object(c.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Ie(),De()]);case 2:return e.abrupt("return",(function(){clearInterval(Ce)}));case 3:case"end":return e.stop()}}),e)}))),[v.defaultAccount]);var Le=function(e){var t=Object.keys(e),a=t.length;if(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),a=t.filter((function(t){return Object(w.fb)(e[t]).eq(0)||!e[t]}));return t.length===a.length}(e))return oe(j.a.get("error.e1")),!0;for(var n=0;n<a;n++){var c=t[n],r=e[c];if(!r&&(z||$))return oe(j.a.get("error.e1")),!0;var s=y.poolData[c],i=s.balance,o=s.precision,u=s.symbol;if(Object(w.a)(i).div(o).lt(Object(w.fb)(r)))return oe(j.a.get("error.e2",{token:u})),!0}return oe(!1),!1},Fe=function(e){Ae(e.target.checked)},Be=function(e){return(b=b||Object(c.a)(Object(n.a)().mark((function e(t){var a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.calcInclPrice(t);case 2:a=e.sent,je(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Ve=function(e,t){var a=t,n={};n[e]=Object(w.c)(String(a).replace(/,/g,""));var c=y.poolData[e],r=(c.precision,c.swapBalance),s=(c.balance,Object(w.fb)(a).div(r).isNaN()?Object(w.a)(0):Object(w.fb)(a).div(r));J.filter((function(t){return t!==e})).map((function(e){var t=y.poolData[e],a=t.balance,c=void 0===a?Object(w.a)(0):a,r=t.swapBalance,i=t.precision,o=t.decimal;n[e]=Object(w.c)(s.times(r)._toFixed(o,1)),c.div(i).lt(Object(w.fb)(n[e]))&&(n[e]=Object(w.c)(c.div(i)._toFixed(o,1)))})),T(n)},Ue=function(e){return(f=f||Object(c.a)(Object(n.a)().mark((function e(t){var a;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,G(a),$&&ee(!a),a&&Ve(J[0],P[J[0]])}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Ee=function(e){return(x=x||Object(c.a)(Object(n.a)().mark((function e(t){var a,c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=t.target.checked,ee(a),z&&G(!a),c={},J.map((function(e){var t=y.poolData[e],a=t.balance,n=t.precision,r=t.decimal;c[e]=Object(w.a)(a).isNaN()?0:Object(w.c)(a.div(n)._toFixed(r,1))})),T(c)}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Me=function(){Ae(!1),ke(!1)},Ke=Object(H.b)();return Object(A.jsx)(u.a,{children:function(){return Object(A.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(p.a,{routeName:"usdc_2pool/deposit",mountedActions:Ie,instantActions:De}),Object(A.jsx)(E.a,{title:"2pool "+j.a.get("banner.title_deposit"),desc:j.a.get("banner.desc_deposit")}),Object(A.jsx)(K.a,{})]}):null,v.isConnected?Object(A.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(A.jsxs)("div",{className:"add-liq",children:[Object(A.jsxs)("fieldset",{className:"currencies",children:[Object(A.jsx)("legend",{children:j.a.get("deposit.currencies")}),Object(A.jsx)("ul",{children:J.map((function(e){var t=y.poolData[e],a=t.symbol,n=void 0===a?"":a,c=t.balance,r=void 0===c?"--":c,s=t.precision,i=t.decimal;return r=Object(w.a)(r).div(s),Object(A.jsxs)("li",{children:[Object(A.jsxs)("div",{className:"cur-label",children:[Object(A.jsxs)("span",{className:"icon",children:[Object(A.jsx)("img",{src:_.a[e]?_.a[e]:g.default,alt:"",className:"token-logo"})," ",n]}),Object(A.jsx)("span",{className:"token-max",children:j.a.getHTML("deposit.token_max",{balance:Object(w.u)(r)})})]}),Object(A.jsx)(R.a,{onMaxClick:function(){!function(e,t,a){if(!Object(w.a)(t).isNaN()){var n=Object(w.a)(t)._toFixed(a,1);T(Object(O.a)(Object(O.a)({},P),{},Object(L.a)({},e,Object(w.c)(n)))),z&&Ve(e,n)}}(e,r,i)},placeholder:"0",value:P[e],onChange:function(t){return function(e,t){$&&ee(!1);var a=q[t].decimal,n=Object(w.V)((""+e.target.value).replace(/,/g,""),a),c=n.valid,r=n.str;c&&(T(Object(O.a)(Object(O.a)({},P),{},Object(L.a)({},t,Object(w.c)(r)))),z&&Ve(t,r))}(t,e)}})]},e)}))})]}),!Object(w.a)(be).isNaN()&&Object(w.ab)(be,!0),Object(A.jsxs)("div",{className:"deposit-check",children:[Object(A.jsx)(B.a,{checked:z,disabled:ne,onChange:Ue,children:j.a.get("deposit.ch1")}),Object(A.jsx)("br",{}),Object(A.jsx)(B.a,{checked:$,disabled:ne,onChange:Ee,children:j.a.get("deposit.ch2")})]}),ie?Object(A.jsx)(S.a,{styleName:"mt-40",type:"single",disabled:!0,info:j.a.get("deposit.action")}):Object(A.jsx)(S.a,{styleName:"mt-40",type:"single",info:Ke?j.a.get("not_available"):j.a.get("deposit.action"),onClick:function(){return function(e){return(t=t||Object(c.a)(Object(n.a)().mark((function e(t){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,ie){e.next=5;break}if(!Le(t)){e.next=5;break}return e.abrupt("return");case 5:if(!ie){e.next=7;break}return e.abrupt("return");case 7:if(!Object(w.a)(be).abs().gt(10)){e.next=9;break}return e.abrupt("return",ke(!0));case 9:return e.next=11,Pe(t);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}(P)},disabled:Ke}),ie&&Object(A.jsx)("div",{className:"error-content mt-12",children:Object(A.jsx)("div",{className:"error-tip",children:ie})}),Object(w.a)(Oe).gt(0)&&Object(A.jsxs)("div",{className:"error-content mt-12",children:[Object(A.jsxs)("div",{className:"error-tip",children:[j.a.getHTML("deposit.swap_detail",{value:Object(w.u)(Oe,2),symbol:j.a.get("buysell.usdt_tusd_pool")+" LP"})," "]}),Object(A.jsx)("div",{className:"error-tip",children:j.a.get("deposit.exchange_rate",{value:Object(w.u)(y.virtualPrice,6),symbol:j.a.get("buysell.usdt_tusd_pool")+" LP"})})]})]})}):null,Object(A.jsx)(M.a,{}),Object(A.jsx)(V.a,{title:j.a.get("deposit.high_slippage_title"),open:we,closable:!0,icon:null,onCancel:Me,footer:null,width:400,className:"common-modal common-bg slippage-modal",children:Object(A.jsxs)("div",{className:"center",children:[Object(A.jsxs)("div",{className:"common-err-bg",children:[Object(A.jsx)("div",{children:j.a.get("deposit.high_tip1")}),Object(A.jsx)("div",{children:j.a.get("deposit.high_tip2",{value:Object(w.u)(Object(w.a)(be).abs(),3)})})]}),Object(A.jsx)(B.a,{checked:Ne,onChange:Fe,children:j.a.get("deposit.confirm_slippage",{value:Object(w.u)(Object(w.a)(be).abs(),3)})}),Object(A.jsx)("br",{}),Object(A.jsxs)("div",{className:"btns flex",children:[Object(A.jsx)(U.a,{onClick:function(){return ke(!1)},type:"primary",children:j.a.get("cancel")}),Object(A.jsx)(U.a,{onClick:function(){return Pe(P)},disabled:!Ne,children:j.a.get("deposit.anyway")})]})]})})]})}})},G=a(344),X=a(1040),Y=m.a.usdttusdPools,$=m.a.usdttusdPoolKeys,ee=m.a.ALL_FEE,te=m.a.usdttusdPoolContracts,ae=(m.a.tokens,te.stablePool),ne=te.stableLp,ce=te.poly,re="---",se="CUSTOM",ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={};return $.map((function(a){t[a]=e})),t},oe=function(e){var t,a,s,i,o,b,f,x,v,N,C,P=Object(l.useState)(),T=Object(r.a)(P,2),D=T[0],I=void 0===D?ie("--"):D,F=T[1],B=Object(l.useState)("100.00"),V=Object(r.a)(B,2),U=V[0],M=V[1],H=Object(l.useState)(.2),q=Object(r.a)(H,2),J=q[0],Z=q[1],Q=Object(l.useState)(""),W=Object(r.a)(Q,2),z=W[0],te=W[1],oe=Object(l.useState)(!0),ue=Object(r.a)(oe,2),le=ue[0],be=ue[1],je=Object(l.useState)(!1),de=Object(r.a)(je,2),pe=de[0],Oe=de[1],fe=Object(l.useState)("--"),xe=Object(r.a)(fe,2),ge=xe[0],ve=xe[1],me=Object(l.useState)(),he=Object(r.a)(me,2),_e=he[0],we=void 0===_e?ie(!1):_e,ke=he[1],ye=Object(l.useState)(!1),Se=Object(r.a)(ye,2),Ne=Se[0],Ae=Se[1],Ce=Object(l.useState)(!1),Pe=Object(r.a)(Ce,2),Te=Pe[0],De=Pe[1],Ie=Object(u.d)((function(){return d.a.system})),Le=Object(u.d)((function(){return d.a.usdttusdPool})),Fe=Object(u.d)((function(){return d.a.network})),Be=null;Object(l.useEffect)(Object(c.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Te&&Ve();case 1:case"end":return e.stop()}}),e)}))),[I,U,J,z,we]),Object(l.useEffect)((function(){ze(I,pe)}),[I]);var Ve=function(){return U!==re&&Object(w.fb)(U).gt(100)?(Ae(j.a.get("error.e3")),!0):function(){for(var e in I)if(Object(w.fb)(I[e]).gt(0)||"--"===I[e])return!1;return!0}()?(Ae(j.a.get("error.e4")),!0):J===se&&(Ke()||U===re)&&(Object(w.a)(z).lt(.1)||Object(w.a)(z).gt(50)||Object(w.a)(z).isNaN())?(Ae(j.a.get("error.e5")),!0):(Ae(!1),!1)},Ue=function(e,a){return(t=t||Object(c.a)(Object(n.a)().mark((function e(t,a){var c,r,s,i,o,u,l,b,d;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.length,s=t.map((function(e){return e.inputValue.isNaN()?0:e.inputValue._toIntegerDown()._toHex()}))||[],e.next=5,Object(h.j)(s,!1,ae);case 5:if((i=e.sent).success){e.next=8;break}return e.abrupt("return");case 8:if(o=i.value,u=o.times(Object(w.a)(1).plus(Object(w.a)(ee).times(r).div(4*(r-1)))),l=Object(w.a)(100).plus(a).div(100),u=u.times(l)._toIntegerDown(),!le||!Object(w.a)(Le.userLpAllowance).lt(u)){e.next=21;break}return e.next=15,Ie.approveToken(ne,ae,{title:"deposit.approve_token",obj:{value:j.a.get("buysell.usdt_tusd_pool")+" LP"},continuous:!0},[["usdttusdPool/getUserLp"]]);case 15:if(!e.sent){e.next=20;break}be(!1),e.next=21;break;case 20:return e.abrupt("return");case 21:return b=u._toHex(),d={title:"actions.remove",obj:{detail:Object(w.A)(I,"usdttusd")}},e.next=25,Ie.removeLiqImBalanceTwoKeyPool(s,b,d,[["usdttusdPool/updateCurrencyData"]],{poolAddress:null===m.a||void 0===m.a||null===(c=m.a.usdttusdPoolContracts)||void 0===c?void 0:c.stablePool});case 25:e.sent,e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.log(e.t0);case 31:case"end":return e.stop()}}),e,null,[[0,28]])})))).apply(this,arguments)},Ee=function(e,t){return(a=a||Object(c.a)(Object(n.a)().mark((function e(t,a){var c,r,s,i,o,u,l,b;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Re(a,t,Object(w.fb)(U));case 3:if(r=e.sent){e.next=6;break}return e.abrupt("return");case 6:if(s=r.userLpBalance,r.lpTotalSupply,r.balances,i=r.userLpAllowance,o=r.minAmounts,u=Object(w.fb)(U).div(100).times(s)._toIntegerDown(),!le||!Object(w.a)(i).lt(u._toIntegerDown())){e.next=17;break}return e.next=11,Ie.approveToken(ne,ae,{title:"deposit.approve_token",obj:{value:j.a.get("buysell.usdt_tusd_pool")+" LP"},continuous:!0},[["usdttusdPool/getUserLp"]]);case 11:if(!e.sent){e.next=16;break}be(!1),e.next=17;break;case 16:return e.abrupt("return");case 17:return l={title:"actions.remove",obj:{detail:Object(w.A)(I,"usdttusd")}},b=u._toHex(),e.next=21,Ie.removeLiquidityTwoKeyPool(b,o,l,[["usdttusdPool/updateCurrencyData"]],{poolAddress:null===m.a||void 0===m.a||null===(c=m.a.usdttusdPoolContracts)||void 0===c?void 0:c.stablePool});case 21:e.sent,e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})))).apply(this,arguments)},Me=function(e,t,a){return(s=s||Object(c.a)(Object(n.a)().mark((function e(t,a,c){var r,s,i,o,u,l,b,d,p,O,f,x,g,v,_;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.tb)(a,t,ce);case 3:if((s=e.sent).success){e.next=6;break}return e.abrupt("return");case 6:if(i=s.userLpBalance,o=s.userLpAllowance,u=Object(w.fb)(U).div(100).times(i)._toIntegerDown(),!le||!Object(w.a)(o).lt(u._toIntegerDown())){e.next=17;break}return e.next=11,Ie.approveToken(ne,ae,{title:"deposit.approve_token",obj:{value:j.a.get("buysell.usdt_tusd_pool")+" LP"},continuous:!0},[["usdttusdPool/getUserLp"]]);case 11:if(!e.sent){e.next=16;break}be(!1),e.next=17;break;case 16:return e.abrupt("return");case 17:for(d in l=u._toHex(),b=!1,we)!0===we[d]&&(b=Y[d].index);return e.next=22,Object(h.t)(l,b,ae);case 22:if((p=e.sent).success){e.next=25;break}return e.abrupt("return");case 25:return O=p.value,f=t.length,x=O.times(Object(w.a)(1).minus(Object(w.a)(ee).times(f).div(4*(f-1)).div(1e10))),g=Object(w.a)(100).div(Object(w.a)(100).plus(c)),v=x.times(g)._toIntegerDown()._toHex(),_={title:"actions.remove",obj:{detail:Object(w.A)(I,"usdttusd")}},e.next=33,Ie.removeLiqOneCoinTwoKeyPool(l,b,v,_,[["usdttusdPool/updateCurrencyData"]],{poolAddress:null===m.a||void 0===m.a||null===(r=m.a.usdttusdPoolContracts)||void 0===r?void 0:r.stablePool});case 33:e.sent,e.next=39;break;case 36:e.prev=36,e.t0=e.catch(0),console.log(e.t0);case 39:case"end":return e.stop()}}),e,null,[[0,36]])})))).apply(this,arguments)},Ke=function(){for(var e in we)if(we[e])return e;return!1},Re=function(e,t,a){return(o=o||Object(c.a)(Object(n.a)().mark((function e(t,a,c){var r,s,i,o,u,l,b,j,d=arguments;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>3&&void 0!==d[3]&&d[3],e.prev=1,e.next=4,Object(h.tb)(t,a,ce);case 4:if((s=e.sent).success){e.next=7;break}return e.abrupt("return");case 7:return i=s.userLpBalance,o=s.lpTotalSupply,u=s.balances,l=s.userLpAllowance,b=[],j={},a.map((function(e){var t=e.index,a=e.id,n=e.decimal,s=e.precision,l=Object(w.fb)(c).div(100).times(u[t]);r||(l=Object(w.a)(.98).times(l)),b[t]=l.times(i).div(o)._toIntegerDown()._toHex(),j[a]=Object(w.c)(l.times(i).div(o).div(s)._toFixed(n,1))})),e.abrupt("return",{userLpBalance:i,lpTotalSupply:o,balances:u,userLpAllowance:l,minAmounts:b,amountsStr:j});case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)},He=function(e,t){return(b=b||Object(c.a)(Object(n.a)().mark((function e(t,a){var c,r,s,i,o,u,l,b,j,d;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Le.getUserLp();case 3:return c=Le.userLpBalance,r=Y[t],s=r.precision,i=r.decimal,o=Object(w.fb)(a).div(100).times(c)._toIntegerDown(),u=Y[t].index,l=o._toHex(),e.next=10,Object(h.t)(l,u,ae);case 10:if((b=e.sent).success){e.next=13;break}return e.abrupt("return",!1);case 13:return j=b.value,d=Object(w.a)(j).div(s)._toFixed(i,1),e.abrupt("return",d);case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)},qe=function(){Le.getSwapBalance(),Le.getVirtualPrice(),Le.getVolData(),Le.getFeeInfo(),Le.getAdminFeeInfo(),Le.getA()},Je=function(){return(f=f||Object(c.a)(Object(n.a)().mark((function e(){var t;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Le.getUserLp(),Le.getBalanceInfo()]);case 2:t={},$.map((function(e){var a=Le.poolData[e],n=a.userSwapBalance,c=a.decimal;t[e]=Object(w.c)(Object(w.a)(n)._toFixed(c,1))})),F(t),Be||(Be=setInterval(Object(c.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qe(),e.next=3,Le.getUserLp();case 3:case"end":return e.stop()}}),e)}))),Fe.defaultIntervalSec));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)};Object(l.useEffect)((function(){return Je(),qe(),function(){clearInterval(Be)}}),[]);var Ze=function(e,t){return(x=x||Object(c.a)(Object(n.a)().mark((function e(t,a){var c,r,s,i,o;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Te&&De(!0),c=Object(w.fb)(U),r={},s={},!t){e.next=16;break}for(i in Oe(!0),we)i!==a&&(r[i]=!1,s[i]=0);return ke(Object(O.a)(Object(O.a)(Object(O.a)({},we),r),{},Object(L.a)({},a,t))),(U===re||Object(w.fb)(U).lte(0))&&M(c="100.00"),Object(w.a)(c).gt(100)&&(c=100),e.next=12,He(a,c);case 12:(o=e.sent)&&F(Object(O.a)(Object(O.a)(Object(O.a)({},I),s),{},Object(L.a)({},a,Object(w.c)(o)))),e.next=19;break;case 16:M(re),Oe(!1),ke(Object(O.a)(Object(O.a)({},we),{},Object(L.a)({},a,t)));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Qe=function(){var e={},t={};$.map((function(a){e[a]=0,t[0]=!1})),F(e),ke(we),M(0)},We=function(){var e={};$.map((function(t){e[t]=0})),F(e)},ze=function(e,t){return(N=N||Object(c.a)(Object(n.a)().mark((function e(t,a){var c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le.calcInclPrice(t,!1,a);case 2:c=e.sent,ve(c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Ge=function(e){return(C=C||Object(c.a)(Object(n.a)().mark((function e(t){var a,c,r,s,i,o,u,l,b,j,d,p,f,x,g;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Te&&De(!0),c=t.target.value,r=c.split("."),(null===(a=r[1])||void 0===a?void 0:a.length)>2&&(c="".concat(r[0]+"."+r[1].substr(0,2))),!Object(w.a)(c).gt(100)){e.next=6;break}return e.abrupt("return");case 6:if(s=Object(w.V)(c,10),i=s.valid,o=s.str,U!==re){e.next=9;break}return e.abrupt("return",Qe());case 9:if(""!==c){e.next=12;break}return M(""),e.abrupt("return",We());case 12:if(!i){e.next=34;break}if(M(Object(w.c)(o)),!(u=Object(w.a)(o).gt(100)?Object(w.a)(100):Object(w.a)(o)).isNaN()){e.next=17;break}return e.abrupt("return");case 17:if(Fe.defaultAccount){e.next=19;break}return e.abrupt("return");case 19:if(l=Fe.defaultAccount,!(b=Ke())){e.next=26;break}return e.next=24,He(b,u);case 24:return j=e.sent,e.abrupt("return",j&&F(Object(O.a)(Object(O.a)({},I),{},Object(L.a)({},b,Object(w.c)(j)))));case 26:if(o===re){e.next=34;break}return d=[],$.map((function(e){d.push(Object(O.a)({},Y[e]))})),p=d.sort((function(e,t){return e.index-t.index})),e.next=32,Re(l,p,o,!0);case 32:f=e.sent,c===t.target.value&&(x=f.amountsStr,g=void 0===x?{}:x,f&&F(g));case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Xe=function(e){!Te&&De(!0),Z(e),e!==re&&te("")},Ye=function(e){var t=Object(w.V)(e,10),a=t.valid,n=t.str;if(a)if(""===n)te("");else if(Object(w.a)(n).lte(100)){var c,r=n,s=n.split(".");(null===(c=s[1])||void 0===c?void 0:c.length)>2&&(r="".concat(s[0]+"."+s[1].substr(0,2))),te(r)}},$e=function(e){return Ke()||U===re?Object(A.jsx)("div",{className:"flex start mt-20",children:Object(A.jsx)(y.a,{slippage:e,customSlippage:z,CUSTOM_SLIPPAGE:se,onChangeSlippage:Xe,onChangeCustomSlippage:Ye})}):Object(A.jsx)(A.Fragment,{})};return Object(A.jsx)(u.a,{children:function(){return Object(A.jsxs)("div",{className:"pool-deposit",children:[e.isSinglePage?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(p.a,{routeName:"usdc_2pool/withdraw",mountedActions:Je,instantActions:qe}),Object(A.jsx)(E.a,{title:"2pool "+j.a.get("banner.title_withdraw"),desc:j.a.get("banner.desc_withdraw")}),Object(A.jsx)(K.a,{})]}):null,Fe.isConnected?Object(A.jsx)("div",{className:e.isSinglePage?"window white":"window-for-tabs-pane",children:Object(A.jsxs)("div",{className:"add-liq withdraw-liq",children:[Object(A.jsxs)("div",{className:"flex",children:[j.a.get("withdraw.share_of_liq"),Object(A.jsx)(R.a,{showMax:!1,placeholder:"100.00",value:U,onChange:Ge,className:"flex-1 ml-20"})]}),Object(A.jsxs)("fieldset",{className:"currencies mt-35",children:[Object(A.jsx)("legend",{children:j.a.get("deposit.currencies")}),Object(A.jsx)("ul",{children:$.map((function(e){var t=Y[e].symbol,a=void 0===t?"":t;return Object(A.jsxs)("li",{children:[Object(A.jsx)("div",{className:"cur-label",children:Object(A.jsxs)("span",{className:"icon",children:[Object(A.jsx)("img",{src:_.a[e]?_.a[e]:g.default,alt:"",className:"token-logo"}),a]})}),Object(A.jsx)(R.a,{showMax:!1,value:I[e],onChange:function(t){!function(e,t){(v=v||Object(c.a)(Object(n.a)().mark((function e(t,a){var c,r,s,i,o,u;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u in!Te&&De(!0),c=Y[a].decimal,r=Object(w.V)((""+t.target.value).replace(/,/g,""),c),s=r.valid,i=r.str,s&&F(Object(O.a)(Object(O.a)({},I),{},Object(L.a)({},a,Object(w.c)(i)))),M(re),Oe(!1),o={},we)o[u]=!1;ke(o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(t,e)}})]},e)}))})]}),Object(w.ab)(ge),Object(A.jsxs)("fieldset",{children:[Object(A.jsxs)("legend",{className:"flex aic jcs pt20",children:[Object(A.jsx)("span",{className:"mr-10",children:j.a.get("withdraw.withdraw_text")}),Object(A.jsx)(G.a,{title:j.a.get("withdraw.tip"),children:Object(A.jsx)(X.a,{})})]}),Object(A.jsx)("div",{className:"withdraw-one mt-10",children:$.map((function(e){var t=Y[e].symbol,a=void 0===t?"":t;return Object(A.jsx)(k.a,{id:e,checked:we[e],tokenLogo:_.a[e]?_.a[e]:g.default,symbol:a,onChange:Ze})}))})]}),$e(J),Ne?Object(A.jsx)(S.a,{styleName:"mt-40",type:"single",disabled:!0,info:j.a.get("withdraw.action")}):Object(A.jsx)(S.a,{styleName:"mt-40",type:"single",info:j.a.get("withdraw.action"),onClick:function(){return function(t){return(i=i||Object(c.a)(Object(n.a)().mark((function t(a){var c,r,s,i;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Fe.defaultAccount){t.next=3;break}return t.abrupt("return");case 3:if(!Te&&De(!0),Ne){t.next=8;break}if(!Ve(a)){t.next=8;break}return t.abrupt("return");case 8:if(!Ne){t.next=10;break}return t.abrupt("return");case 10:if(c=Fe.defaultAccount,r=[],$.map((function(e){r.push(Object(O.a)(Object(O.a)({},Y[e]),{},{inputValue:Object(w.fb)(a[e]).times(Y[e].precision)}))})),s=r.sort((function(e,t){return e.index-t.index})),i=J===se?z:J,e.onSubmit&&e.onSubmit(),!pe){t.next=20;break}return t.next=19,Me(s,c,i);case 19:return t.abrupt("return",t.sent);case 20:if(U===re){t.next=24;break}return t.next=23,Ee(s,c);case 23:return t.abrupt("return",t.sent);case 24:return t.next=26,Ue(s,i);case 26:return t.abrupt("return",t.sent);case 29:t.prev=29,t.t0=t.catch(0),console.log(t.t0);case 32:case"end":return t.stop()}}),t,null,[[0,29]])})))).apply(this,arguments)}(I)}}),Ne&&Object(A.jsx)("div",{className:"error-content mt-12",children:Object(A.jsx)("div",{className:"error-tip",children:Ne})})]})}):null]})}})},ue=a(1068),le=a(64),be=a(1081),je=a(1062),de=function(e){return Object(A.jsx)("span",{children:pe[e].tabTitle})},pe={1:{title:j.a.get("banner.title_deposit"),content:j.a.get("banner.desc_deposit"),tabTitle:j.a.get("header.deposit")},2:{title:j.a.get("banner.title_withdraw"),content:j.a.get("banner.desc_withdraw"),tabTitle:j.a.get("header.withdraw")},3:{title:j.a.get("banner.title_1"),content:j.a.get("banner.desc_1"),tabTitle:j.a.get("header.swap")}},Oe=function(){var e=window.location.hash,t=e.split("/"),a=Object(r.a)(t,3),n=a[1],c=a[2];return n.includes("usdt_tusd")&&(n=j.a.get("buysell.usdt_tusd_pool")),e.indexOf("tab=swap")>-1?{title:n,tabKey:["3"]}:{title:n,tabKey:[{deposit:"1",withdraw:"2",swap:"3"}[c]||"1"]}},fe=Object(be.a)({childPage:le.h.liquidity_2pool}),xe=fe.tabChangeLog,ge=fe.tabSubmitLog;t.default=function(){var e,t=Oe(),a=t.title,b=t.tabKey,O=Object(l.useState)(b),f=Object(r.a)(O,2),x=f[0],g=f[1],v=null,m=Object(u.d)((function(){return d.a.usdttusdPool})),h=Object(u.d)((function(){return d.a.network})),_=function(){m.getSwapBalance(),m.getVirtualPrice(),m.getVolData(),m.getFeeInfo(),m.getAdminFeeInfo(),m.getA()},w=function(){return(e=e||Object(c.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.getUserLp(),e.next=3,m.getBalanceInfo();case 3:v||(v=setInterval(Object(c.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(),m.getUserLp(),e.next=4,m.getBalanceInfo();case 4:case"end":return e.stop()}}),e)}))),h.defaultIntervalSec));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)};Object(l.useEffect)((function(){return window.scrollTo(0,0),function(){clearInterval(v)}}),[]);var k=Object(l.useCallback)((function(e){g(e),xe(e)}),[]),y=function(){var e=window.localStorage.getItem("lang")||j.a.options.currentLocale,t=window.location.origin+window.location.pathname;window.location.href=t+"?lang=".concat(e,"#/sunCurve")},S=Object(l.useMemo)((function(){return{shouldScroll:!0,navRightMoreShow:!0,navRightMoreClick:y}}),[]);return Object(A.jsx)(u.a,{children:function(){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(p.a,{mountedActions:w,instantActions:_,subNavProps:S}),Object(A.jsxs)("div",{className:"main-page-content",children:[Object(A.jsx)(ue.a,{title:"".concat(a," ").concat(pe[x[0]].title),subTitle:pe[x[0]].content}),Object(A.jsxs)(s.a,{gutter:[{xs:8,sm:16,md:32},20],children:[Object(A.jsxs)(i.a,{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:15},children:[Object(A.jsx)("div",{className:"pool-tabs",children:Object(A.jsxs)(o.a,{activeKey:x[0],centered:!0,onChange:k,className:"common-tabs",children:[Object(A.jsx)(o.a.TabPane,{tab:de("1"),children:Object(A.jsx)(z,{onSubmit:function(){return ge("1")}})},"1"),Object(A.jsx)(o.a.TabPane,{tab:de("2"),children:Object(A.jsx)(oe,{onSubmit:function(){return ge("2")}})},"2"),Object(A.jsx)(o.a.TabPane,{tab:de("3"),children:h.isConnected&&Object(A.jsx)("div",{className:" window-for-tabs-pane",children:Object(A.jsx)(C,{onSubmit:function(e){return ge("3",{event_label:e,txid:e})}})})},"3")]})}),Object(A.jsx)("div",{className:"pool-tabs",children:!h.isConnected&&Object(A.jsx)(je.a,{})})]}),Object(A.jsx)(i.a,{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:9},children:Object(A.jsx)(I,{className:h.isConnected?null:"window-for-tabs-pane"})})]})]})]})}})}}}]);