(this["webpackJsonpfront-js"]=this["webpackJsonpfront-js"]||[]).push([[14],{1058:function(e,t,n){"use strict";n(1071);var a=n(24),s=n.n(a),o=n(7);t.a=function(e){return Object(o.jsx)("div",{className:"tempalte-pageTab-nav",children:e.list.map((function(t){return Object(o.jsx)("div",{className:s()("tempalte-pageTab-nav-item",{"tempalte-pageTab-nav-active":e.activeKey===t.value}),onClick:function(){return t.handler(t)},children:t.label},t.value)}))})}},1059:function(e,t,n){"use strict";var a=n(8),s=n(9),o=n(16),r=n(17),i=n(3),c=n.n(i),l=(n(1151),n(7)),p=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(e){var s;Object(a.a)(this,n),(s=t.call(this,e)).onClick=function(){s.props.disabled||s.props.state||s.props.onClick&&s.props.onClick()},s.onLeftClick=function(){s.props.lDisabled||s.props.lState||s.props.onLeftClick&&s.props.onLeftClick()},s.onMiddleClick=function(){s.props.mDisabled||s.props.mState||s.props.onMiddleClick&&s.props.onMiddleClick()},s.onRightClick=function(){s.props.rDisabled||s.props.rState||s.props.onRightClick&&s.props.onRightClick()};e.styleName;return s.state={},s}return Object(s.a)(n,[{key:"render",value:function(){var e=null;switch(this.props.type){case"trisection":e=Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"trisection "+(this.props.lDisabled?"gray":this.props.lState?this.props.lState:"blue"),onClick:this.onLeftClick,children:this.props.lInfo}),Object(l.jsx)("button",{className:"trisection "+(this.props.mDisabled?"gray":this.props.mState?this.props.mState:"blue"),onClick:this.onMiddleClick,children:this.props.mInfo}),Object(l.jsx)("button",{className:"trisection "+(this.props.rDisabled?"gray":this.props.rState?this.props.rState:"blue"),onClick:this.onRightClick,children:this.props.rInfo})]});break;case"half":e=Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{className:"half "+(this.props.lDisabled?"gray":this.props.lState?this.props.lState:"blue"),onClick:this.onLeftClick,children:this.props.lInfo}),Object(l.jsx)("button",{className:"half "+(this.props.rDisabled?"gray":this.props.rState?this.props.rState:"blue"),onClick:this.onRightClick,children:this.props.rInfo})]});break;default:e=Object(l.jsx)("button",{className:"single "+(this.props.disabled?"single-disabled":this.props.state?this.props.state:this.props.btnColor?this.props.btnColor:"blue"),onClick:this.onClick,children:this.props.info})}return Object(l.jsx)("div",{className:"sun-action-btns "+this.props.styleName||!1,children:e})}}]),n}(c.a.Component);t.a=p},1062:function(e,t,n){"use strict";var a=n(3),s=n(1107),o=n(15),r=n.n(o),i=n(78),c=n(110),l=n(1118),p=n(1179),u=n(7),d=function(){var e=Object(i.d)((function(){return c.a.network}));return Object(u.jsx)(s.a,{img:l.a,emptyText:r.a.get("buysell.error_msg_3"),btnText:r.a.get("header.connect_wallet"),onClick:function(){return e.setData({loginModalVisible:!0,loginModalStep:1})},className:p.wallet_not_connect})};t.a=Object(a.memo)(d)},1068:function(e,t,n){"use strict";var a=n(4),s=n(3),o=n(24),r=n.n(o),i=n(1072),c=n(7),l=function(e){var t,n=e.title,s=e.subTitle,o=e.isRevert,l="string"===typeof n;return Object(c.jsxs)("div",{className:i.page_title_wrap,children:[o&&s&&Object(c.jsx)("div",{className:i.page_title_sub,children:s}),n&&Object(c.jsx)("div",{className:r()((t={},Object(a.a)(t,i.page_title,!0),Object(a.a)(t,i.page_title_revert,o),Object(a.a)(t,i.page_title_ele,!l),t)),children:l?n.split("").map((function(e,t){return Object(c.jsx)("span",{className:i.page_title_ele,children:e},t)})):n}),s&&!o&&Object(c.jsx)("div",{className:i.page_title_sub,children:s})]})};t.a=Object(s.memo)(l)},1071:function(e,t,n){},1072:function(e,t,n){e.exports={page_title:"style_page_title__dfZPh",page_title_wrap:"style_page_title_wrap__7dtV_",page_title_ele:"style_page_title_ele__Tktf1",page_title_sub:"style_page_title_sub__1IUsF",page_title_revert:"style_page_title_revert__18HMS"}},1074:function(e,t,n){e.exports={setting_wrap:"style_setting_wrap__L7ld9",setting_label:"style_setting_label__3qQrG",setting_btns:"style_setting_btns__zH_61",setting_btn_wrap:"style_setting_btn_wrap__uxT1B",setting_input:"style_setting_input__kvJzs",active:"style_active__10VTC",module_important:"style_module_important__PuwNO",info_text:"style_info_text__3K73H",setting_minutes:"style_setting_minutes__1mIXw"}},1097:function(e,t,n){"use strict";var a=n(5),s=n(43),o=n(47),r=n(1947),i=n(3),c=n(101),l=n(1115),p=n(1116),u=(n(1120),n(7)),d=["className","pagination","tableTheme"],b=Object(c.a)(window.navigator).any,m=Object(i.memo)((function(e){var t=e.className,n=void 0===t?"":t,i=e.pagination,c=e.tableTheme,m=void 0===c?{}:c,j=Object(s.a)(e,d);return Object(u.jsx)(o.a,{theme:{components:{Spin:{colorPrimary:"#9482f8",colorBgContainer:"#251F32",controlHeightLG:60},Table:Object(a.a)({colorPrimary:"#9482f8",colorFillAlter:"rgba(37,31,50,.3)",colorFillSecondary:"rgba(37,31,50,.3)",colorFillContent:"rgba(37,31,50,.3)",colorBgContainer:"#362D4A",colorBorderSecondary:"rgba(255, 255, 255, .1)",colorText:"#fff",colorTextHeading:"#fff",colorIcon:"#bfbfbf",colorIconHover:"#bfbfbf",padding:b?10:20,borderRadiusLG:20,borderRadius:20},m),Pagination:{borderRadiusLG:5,borderRadius:5,itemSize:24}}},children:Object(u.jsx)(r.a,Object(a.a)({className:n?n+" pure-comp dark-table-container":"pure-comp dark-table-container",pagination:!!i&&Object(a.a)({position:["bottomCenter"],className:"pure-comp",showSizeChanger:!1,itemRender:function(e,t,n){return"prev"===t?Object(u.jsx)("img",{alt:"pre",src:l.a}):"next"===t?Object(u.jsx)("img",{alt:"next",src:p.a}):n}},i)},j))})}));t.a=m},1118:function(e,t,n){"use strict";t.a=n.p+"static/media/big_connect_wallet.8e467f71.svg"},1120:function(e,t,n){},1128:function(e,t,n){"use strict";var a=n(1504),s=n(1920),o=n(1139),r=(n(1177),n(7)),i={V3:"V3",V2:"V2",V1:"",home:"",Migrate:"Migrate"};t.a=function(e){var t=e.onChange,n=e.network,c=void 0===n?{}:n,l=e.version,p=void 0===l?"v1":l,u=e.placement,d=void 0===u?"bottomRight":u,b=c["settingSlippage".concat(i[p])],m=c["settingDeadline".concat(i[p])];return Object(r.jsx)(a.a,{trigger:"click",overlayClassName:"setting_popover",placement:d,content:Object(r.jsx)(o.a,{showType:"popover",slippage:b,deadline:m,onChange:function(e){t(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")}}),title:"",children:Object(r.jsx)(s.a,{className:"new_setting_icon"})})}},1134:function(e,t,n){"use strict";var a=n(19),s=n(1977),o=n(14),r=n(1260),i=n(173),c=n(7);t.a=function(e){var t=e.token,n=e.showTokenName,l=void 0!==n&&n,p=e.styleName,u=void 0===p?"":p,d=e.showTrx,b=void 0!==d&&d;return Object(c.jsxs)("span",{className:u,children:[l?Object(c.jsxs)("span",{className:r.token_logo_icon,children:[Object(c.jsx)("img",{alt:"",src:t.tokenLogoUrl||i.a,onError:function(e){e.target.src!==i.a&&(e.target.src=i.a)}}),t.tokenSymbol]}):"",t.tokenAddress&&(t.tokenAddress!==a.a.trxFakeAddress||b)?Object(c.jsx)(c.Fragment,{children:Object(o.G)(Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(s.a,{className:r.token_view_icon})}),t.tokenAddress)}):null]})}},1139:function(e,t,n){"use strict";var a=n(11),s=n(3),o=n(15),r=n.n(o),i=n(1914),c=n(24),l=n.n(c),p=n(236),u=n(1),d=n(1074),b=n(7);t.a=function(e){var t=e.showType,n=void 0===t?"":t,o=e.slippage,c=e.deadline,m=Object(s.useState)("0.5"),j=Object(a.a)(m,2),k=j[0],f=j[1],h=Object(s.useState)("1"),w=Object(a.a)(h,2),O=w[0],x=w[1],v=Object(s.useState)("0.5"),g=Object(a.a)(v,2),S=g[0],_=g[1],A=Object(s.useState)("1"),T=Object(a.a)(A,2),y=T[0],N=T[1],P=Object(s.useState)(""),D=Object(a.a)(P,2),V=D[0],C=D[1];Object(s.useEffect)((function(){q(o,c)}),[]),Object(s.useEffect)((function(){(S||y)&&L()}),[L,S,y]);var q=function(e,t){f(e),x(t),_(e),N(t),F()},L=function(){f(k),x(O),F(),e.onChange&&e.onChange(S,y)},I=function(e){var t=e.target.value,n=Object(u.V)(t,2),a=n.valid,s=n.str;a&&_(s)},F=function(){S&&(Number(S)<.5?C(r.a.get("settings.slippage_info_1")):Number(S)>5&&Number(S)<50?C(r.a.get("settings.slippage_info_2")):Number(S)>=50?C(r.a.get("settings.slippage_info_3")):C(""))};return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:l()({"flex start wrap":""===n}),children:[Object(b.jsx)(p.a,{toolClass:d.setting_wrap,tip:e.slippate_tip||r.a.get("settings.slippage_tip"),children:Object(b.jsx)("span",{className:d.setting_label,children:r.a.get("settings.slippage")})}),Object(b.jsxs)("div",{className:l()(d.setting_btns),children:[Object(b.jsxs)("div",{className:d.setting_btn_wrap,children:[Object(b.jsx)("button",{className:l()("0.1"===S?d.active:""),onClick:function(){return I({target:{value:"0.1"}})},children:"0.1%"}),Object(b.jsx)("button",{className:l()("0.5"===S?d.active:""),onClick:function(){return I({target:{value:"0.5"}})},children:"0.5%"}),Object(b.jsx)("button",{className:l()("1"===S?d.active:""),onClick:function(){return I({target:{value:"1"}})},children:"1%"})]}),Object(b.jsx)(i.a,{className:l()(d.setting_input,d.module_important,["ml-20"]),suffix:"%",value:S,onChange:I,onBlur:function(){Number(S)>=50?_(S.slice(0,1)):0!==Number(S)||_("0.01")}})]})]}),V?Object(b.jsx)("div",{className:d.info_text,children:V}):null,Object(b.jsxs)("div",{className:l()({"flex start":""===n}),children:[Object(b.jsx)("div",{style:{marginBottom:"popover"===n?"12px":0},children:Object(b.jsx)(p.a,{toolClass:d.setting_wrap,tip:r.a.get("settings.deadline_tip"),children:Object(b.jsx)("span",{className:d.setting_label,children:r.a.get("settings.deadline")})})}),Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)(i.a,{className:l()(d.setting_input,d.module_important),value:y,onChange:function(e){var t=e.target.value,n=Object(u.V)(t,0),a=n.valid,s=n.str;if(t){if(a){var o=s;Number(s)>1e4&&(o=1e4),N(o)}}else N(t)},onBlur:function(){var e=Number(y);0===+y&&(e=1),N(e)}}),Object(b.jsx)("div",{className:l()(d.setting_minutes,["ml-10"]),children:r.a.get("settings.deadline_minutes")})]})]})]})}},1140:function(e,t,n){"use strict";var a=n(5),s=n(43),o=n(3),r=n.n(o),i=n(201),c=n(7),l=["url"],p=function(e){var t=e.url,n=Object(s.a)(e,l);return Object(c.jsx)("img",Object(a.a)({src:t||i.a,onError:function(e){e.target.src!==i.a&&(e.target.src=i.a)},alt:"mint-icon"},n))};t.a=r.a.memo(p)},1145:function(e,t,n){"use strict";var a=n(4),s=n(3),o=n(24),r=n.n(o),i=n(1191),c=n.n(i),l=n(7),p=function(e){var t,n=e.items,s=e.bordered,o=void 0===s||s,p=e.responsive,u=e.responsiveLayout,d=void 0===u?"v":u,b=e.style,m=void 0===b?{}:b;return Object(l.jsx)("div",{className:r()(i.info_box,(t={},Object(a.a)(t,i.info_box_no_border,!o),Object(a.a)(t,i.info_box_responsive,p),Object(a.a)(t,c.a.info_box_responsive_h,"h"===d),Object(a.a)(t,c.a.info_box_responsive_v,"h"!==d),t)),style:m,children:n.map((function(e,t){return Object(l.jsxs)("div",{className:i.info_box_item,children:[Object(l.jsx)("div",{className:i.info_box_label,children:e.label}),Object(l.jsx)("div",{className:i.info_box_value,children:e.value})]},t)}))})};t.a=Object(s.memo)(p)},1146:function(e,t,n){"use strict";t.a=n.p+"static/media/TransactionSuccess.9be097c2.svg"},1151:function(e,t,n){},1152:function(e,t,n){},1153:function(e,t,n){"use strict";var a=n(5),s=n(43),o=n(3),r=n(24),i=n.n(r),c=n(1178),l=n(286),p=n(7),u=["className","fullFilled"],d=function(e){var t=e.className,n=e.fullFilled,o=Object(s.a)(e,u);return n?Object(p.jsx)("img",Object(a.a)({className:i()(c.question_img,t),alt:"",src:l.a},o)):Object(p.jsx)("span",Object(a.a)(Object(a.a)({className:i()(c.question_icon,t)},o),{},{children:"?"}))};t.a=Object(o.memo)(d)},1163:function(e,t,n){},1170:function(e,t,n){"use strict";var a=n(8),s=n(9),o=n(16),r=n(17),i=n(3),c=n.n(i),l=n(101),p=n(15),u=n.n(p),d=n(1042),b=n(14),m=(n(1368),n(7)),j=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).confirm=function(){s.props.confirm&&s.props.confirm()},s.cancel=function(){s.props.cancel&&s.props.cancel()},s.state={},s}return Object(s.a)(n,[{key:"render",value:function(){var e=Object(l.a)(window.navigator).any?0:64;return Object(m.jsxs)(d.a,{footer:null,title:null,closable:!0,maskClosable:!1,open:this.props.visible,className:"unfinished-pop sun-swap-modal",onCancel:this.cancel,style:{marginLeft:Object(b.o)()+e},width:430,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:[Object(m.jsxs)("div",{className:"title",children:[u.a.get("sunSwap.action.popTitle"),Object(m.jsx)("p",{children:u.a.get("sunSwap.action.popDesc")})]}),Object(m.jsxs)("div",{className:"btns",children:[Object(m.jsx)("button",{onClick:this.confirm,children:u.a.get("sunSwap.action.popQuitBtn")}),Object(m.jsx)("button",{onClick:this.cancel,children:u.a.get("sunSwap.action.popCancelBtn")})]})]})}}]),n}(c.a.Component);t.a=j},1175:function(e,t,n){},1176:function(e,t,n){"use strict";var a=n(3),s=n(7);t.a=function(e){var t=e.visible,n=e.onChange;return Object(a.useEffect)((function(){t&&n&&n()}),[t,n]),Object(s.jsx)(s.Fragment,{})}},1177:function(e,t,n){},1178:function(e,t,n){e.exports={question_icon:"style_question_icon__3ZWoP",question_img:"style_question_img__1bgzg"}},1179:function(e,t,n){e.exports={wallet_not_connect:"style_wallet_not_connect__2Qekr"}},1180:function(e,t,n){"use strict";var a=n(284),s=n(24),o=n.n(s),r=(n(1181),n(15)),i=n.n(r),c=n(236),l=n(7);t.a=function(e){var t=e.pageList,n=e.activePage,s=e.onPageChange;return Object(l.jsx)("div",{className:"page-panel-wrap",id:"swap-tab",children:Object(l.jsx)("div",{className:"panel-header",children:t.map((function(e,t){return Object(l.jsxs)("div",{className:o()({"panel-header-item":!0,"panel-header-item-active":e.key===n,flex:!0}),children:[e.path?Object(l.jsx)(a.b,{to:e.path,children:e.textKey?i.a.get("sunSwapV3.panelHeader.".concat(e.textKey)):e.text}):Object(l.jsx)("span",{onClick:function(){return s&&s(t,e)},className:"page-item-text",children:e.textKey?i.a.get("sunSwapV3.panelHeader.".concat(e.textKey)):e.text}),e.tips&&Object(l.jsx)(c.a,{tip:e.tips})]},e.key)}))})})}},1181:function(e,t,n){},1191:function(e,t,n){e.exports={"page-head":"style_page-head__Q5_41",link:"style_link__gpGN-","gradient-title":"style_gradient-title__3TOPy",animateTitle:"style_animateTitle__JszRT","dim-content":"style_dim-content__3_Ul3",uppercase:"style_uppercase__PmEs8","window-for-tabs-pane":"style_window-for-tabs-pane__1V2Lv","dark-btn":"style_dark-btn__DQL_s","purple-btn":"style_purple-btn__2SawB","cur-input":"style_cur-input__37INw","max-btn":"style_max-btn__npQR2",info_box:"style_info_box__1963G",info_box_no_border:"style_info_box_no_border__W8LQy",info_box_item:"style_info_box_item__3JfS2",info_box_label:"style_info_box_label__f3QFH",info_box_value:"style_info_box_value__1v2mN",info_box_responsive:"style_info_box_responsive__3jNYY",info_box_responsive_h:"style_info_box_responsive_h__3eg33"}},1192:function(e,t,n){"use strict";var a=n(1945),s=n(1128),o=n(236),r=(n(1271),n(7));t.a=function(e){var t=e.title,n=e.tip,i=e.onBack,c=e.showSetting,l=void 0!==c&&c,p=e.onSettingChange,u=e.network,d=e.version;return Object(r.jsxs)("div",{className:"v3-sub-nav",children:[Object(r.jsx)(a.a,{className:"v3-sub-nav-left-arrow",onClick:i}),Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsx)("span",{className:"v3-sub-nav-title",children:t}),n&&Object(r.jsx)(o.a,{tip:n})]}),Object(r.jsx)("div",{className:"v3-sub-nav-right",children:l&&Object(r.jsx)(s.a,{onChange:p,network:u,version:d})})]})}},1215:function(e,t,n){"use strict";var a=n(8),s=n(9),o=n(16),r=n(17),i=n(3),c=n.n(i),l=n(15),p=n.n(l),u=n(1918),d=n(1037),b=(n(1367),n(7)),m=Object(b.jsx)(d.a,{style:{fontSize:24},spin:!0}),j=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(e){var s;return Object(a.a)(this,n),(s=t.call(this,e)).state={},s}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.children,t=c.a.Children.toArray(e).map((function(e,t){var n=e.props,a=n.children,s=n.status,o=n.err,r=n.failed,i=a;return"error"===s&&(i=o||a),"pending"===s&&(i=p.a.get("sunSwap.action.doingAct")),"failed"===s&&(i=r||a),Object(b.jsxs)("div",{className:"al_item ".concat(s?"".concat(s):""),children:[Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("span",{className:"al_number",children:t+1}),Object(b.jsx)("span",{className:"al_title".concat(s?" ".concat(s):""),children:i})]}),"pending"===s&&Object(b.jsx)(u.a,{indicator:m,className:"spiny"})]},e.key)}));return Object(b.jsx)("div",{className:"action-line",children:t})}}]),n}(c.a.Component);t.a=j},1255:function(e,t,n){"use strict";var a=n(5),s=n(43),o=n(24),r=n.n(o),i=(n(1256),n(7)),c=["children","className","disabledCanClick","disabled","onClick"];t.a=function(e){var t=e.children,n=e.className,o=e.disabledCanClick,l=e.disabled,p=e.onClick,u=Object(s.a)(e,c);return Object(i.jsx)("div",Object(a.a)(Object(a.a)({onClick:function(e){(o&&l||!l)&&p&&p(e)},className:r()("sun-button-primary",{"sun-button-weak":o&&l},n)},u),{},{children:t}))}},1256:function(e,t,n){},1257:function(e,t,n){"use strict";var a=n(5),s=n(43),o=n(1514),r=n(3),i=(n(1258),n(7)),c=["prefix","showPrefix","suffix","showSuffix","enterButton","value","onSearch"],l=function(e){var t=e.prefix,n=e.showPrefix,l=e.suffix,p=e.showSuffix,u=e.enterButton,d=e.value,b=e.onSearch,m=Object(s.a)(e,c),j=Object(r.useRef)(null);return Object(i.jsxs)("div",{className:"sun-search-input-wrap",children:[n&&Object(i.jsx)("div",{className:"sun-search-input-prefix",children:t||Object(i.jsx)(o.a,{style:{color:"rgba(255, 255, 255, .5)"}})}),Object(i.jsx)("input",Object(a.a)({ref:j,type:"text",className:"sun-search-input",value:d},m)),p&&Object(i.jsx)("div",{className:"sun-search-input-suffix",children:l||(u?Object(i.jsx)("div",{className:"sun-search-input-btn",onClick:function(){var e;return b&&b(null===(e=j.current)||void 0===e?void 0:e.value)},children:u}):null)})]})};l.defaultProps={showPrefix:!0,showSuffix:!0},t.a=Object(r.memo)(l)},1258:function(e,t,n){},1259:function(e,t,n){},1260:function(e,t,n){e.exports={token_view_icon:"style_token_view_icon__2mRa-",token_logo_icon:"style_token_logo_icon__2_bsW"}},1261:function(e,t,n){e.exports={remove_liq_title:"style_remove_liq_title__Nrq_E",remove_liq_fee:"style_remove_liq_fee___gp6i",remove_liq_num:"style_remove_liq_num__XhztX",remove_liq_btn:"style_remove_liq_btn__1wZsk",remove_liq_active_btn:"style_remove_liq_active_btn__Lo8Al",remove_liq_token:"style_remove_liq_token__3J2um",remove_liq_value:"style_remove_liq_value__18eCU",remove_liq_price:"style_remove_liq_price__1uAT9"}},1262:function(e,t,n){},1263:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAA/JJREFUWEfVWctqFUEQPeX7/X5tXIkIouBa/AkxgkYXgrhwIQiufaCuxYXoQsSNGkHFnxDXgiKIuHJlTIwmMYmJ8ci5Voe+k3tneuaOIVMwhCTT3aerTlWdnjb0YCQNwHIAKwEsA7AEwFL/qZn/AJj1n78B/AIwY2asuqwWLG0kBXCVPwJZxrSJKT1mpg2UslKASa4AsMG9GhaSBwVgJuNR/T/2uCKhTSoCwTRm1MymU1EnASapcK/3BUOoJ9xLWjTZSAbgayLqaMNjZiba5FohYA//ZgB6V9z7qcfMFNrKRlLeX+tPmHukiCa5gElqQlFAJi8ofKJAbUZSFNEaootMa8gpHa0rYJIbAShssnE9vWR33g692qwDoEc2YWY/Oo3pCDjj2e9mNlmbS3MmIrkawKY8T88D7Jzd4oMWDGzYRwb0tyyn2wB7NdjmCSYKjC2EZ7NrkFRFEj2U5ENx9cgCVjUQ+ZVg8m6pjkTyMIA9AAZSSlQ3ZzinRY0WFjMbCe/OAfamsNV39bVMNSCp5LwN4JxPfMPMrvQSHa8e2z3aw6G5xIBFBRX1UlQgeRDAUwD7I4A9A9ZcETWkP4b0txbgKNHUDOTdpKZA8jyAW1EN1XQDAM7WUVm8ucjLajKtBAyAxReVlCTvkhTXHwA4GnlVxf6CmT3shQo5CdiqzeYE3+G7UEbmagOSRwA8AbA7mvwNgBNm9qFOsB590VR0VdQHBVgKTMk2a2aDBR3pMoCrGcWljnTPtW4VvB/lgLyKRFIOVQsfFuBQ8yRoRnNKzTEAz6sgShhz2swe56wtrSFdMy7AofbmdjWSfQCeJSxe5ZUiwKFlTwmw6CBazGuDHRJAoA9UQZQzJoUSOuFILkwLcOCHylmhgK4ZbNJ0LhlU3mYFeJfX4y+p9TdplRpf8nq8Uy2jkYAbR4mkpPMG0w9gb43R1lTvzCy3XEbSoZV0qWXtFIBHNYMN0x3PAx2J+lZZS20c/xNwn5m9SG0cSa25Bkqolkrd6XAbTCfwa2Z2s0AStLVmKbZk8VOFEiT3uWY+FI3/DKDfzF4VgG0XP66IwpE+SV6WAU3yDIA7rgXC0JeumeeOPjl0CJT9Jy8dcGh9pQR8gWfU/6WZT0bv6ax4yczupmy6q4B30JWOSDmeuQ5AcjTYe9fMb1PAOqbg3fYjkv8zJJ9OyqUOoZ0AkIwB3wdw0cz0ATHJCg+hDrqnY36MxAWL6PDJzF4nofSXko75DlifVZvzISWTgPp1cX+qCmFr1MfACHRzPrd28fTi/qAdgVZTacaVQQS6OZcymdrajGuvbNH3E4C0guhS5WJRF4qTRTdGnZpN4bVXgcBZ8Kvbv7gRNO3rhp7CAAAAAElFTkSuQmCC"},1264:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAABjJJREFUaEPdW0moXEUUPcd5ivM8gKJBxYUriRsHHHCI4EJQFEGMw8aNbpw2JhuHla6NmoWiKG4ERxwwujELFy5ERUXBIZp5TjSJR07+rU7997v7Vb1+0dAXmub9rqp3T91Td3rvEz2LJAI4GMAhAA6KzwEA/PFvFgH4Jz67APjzN4CdJP1bb5JuONGCAepQAIcD8HfXdQ3uLwDb/d0H2K6KzJhhxlpHAjiqAWp3KJqs42tbLFnH82zRAzMre2N8ncRjtwDYOgnQTgADmK01LxS1Ugbjnd9O0oCqRZIBel1/TG+LN2ZzrFtN32qAkg4LYEmBnVaApKnVm0iyRb2BPs9pA32fHTU3KQYYVvMNTUmLreQb2mr7TCQlpiT6bo37FlmzCKAkn5djw4EYjCkz0dmo2ZHsrHuDLWbLBpKm71hpBSjJVDwuzoR3bX3fdGxTMv0etLUu1ttn3rr4e6SMBRjgTghHUrRgqbJdxzU23BZcOw7kSIBBS4OzBR2EvVutlOiqeM280M2WdDLhjTfIoboNBRic9wL2ZGMXqFGsz7ENA/hM2gBzHM8ogEeHt/SENW0871PxmrWCrifGmbTT29ScPwdgxDlbz7Lu/3IopUDD8Rwf423FWXFyFsCgpnfE584xzqnSfi+SnCo6hPg4mXEDqjYBHgHgmAjiq2tyQEnOOK4AcFHEzNYQ1Ng5K7UBwNcAlpN0hlQkYZiTIpfdSHJbmjhQIgadHCHBQbQ4Q5F0HYClAM4q0qh90C8A7iP5QfvQmRGR8TgZsTddlYyTA0xmdk22pmLhpwE8Ujq+ctwzJB8tnSPJx8tMGhyvPQDDeqeENyp2LJJuAPBupsDvAD4E8HOpUo1xZwO4FsDp2d9vJPleyXqZwzHd/7QVE0BXCPacu0iuLlzMQfanTJk3ASwi6Ty1s0iys1gG4JZYxJt2DkknG60iyWfRTnKPR00ADc4giz1nnLv3446/AriwL68bXvEbAGfG+teXnsfMo+4guZ4NevpwFhWrkh4E8GwosIzkotbtrRgg6SUAd8eUh0g+VzI9imY7yxmaSjLVnHPuJrmqZJE4t4sBPBHjl5D0dW8iKV9/McklpYtLMkDXj2sNMHnPbSQ3liwiydR5GcAlWQHcnLoSwKcAHiZpCldJA2DVBkpyLHdM32yAjh2umjeRdLU8VgLcVwBSetQ2ZR2Ai2tBTgjQXQfn09sNMMWOovAg6VUAt7ehavz+Gsk7auZMCNBVkA2w0wATX52aja2O4+zZbZ8Wyi4kmcfBAQZJCwG8HX9YSTKPba1YJwToMOFwsdsAT40A78DYWtBK2pvIkm0dgaKxkq4GcBuAywGcEehdFZhdltoz6B6SExcZYLLGHyXJdZ8AJc2PHNZJ+jj50seC5Petpt+bmdlw6AIwp+hNJN8ZdtM2ikq6DMBbkUGV6L0ewM0kP28bHLF9ALCWohM7mbDcigycqfwCgBejXDIGl133ALg3eyxgkAvaLBntjAFFa52MY+BEYUKS42OipePlnSQ/GcGEqwC8kjk214pXjrNitDIGTqYqTIQn7Rzow6F8FAractckcJLOBZDyW+efP8b9DNJzklPznI9Hgcyqij1hoirQp0UlOU1L6Vmxl5P0vIvZWGcpyfuzNR8D8GRcP07yqey3kfOaQCXNCvTVqVrsaqdkW9K3AM4PpS4luSIsdysAdwYSdZcDcEX/hi0paQGAL2LedyQvGGPBWala12TbylSXS5JcL3pTLfNcYkmy+z9vhMI/kJwfOXOqNbeQTM8p5kxrJtvmdarma8qlTgXvvgY4p1wKulUXvDGvS8vigSxD6Z2icwreULS6ZZEd/kmaTr07mVEti5ymRVVFTvwJ2oa9homRTaewYqe2YWbJmsbvXQDcQbP0FuhHtg0DoK3YqfE7yl2PceNOsntN1VobvwGyc+u+A8jeku2i1n1mxf/s4UtFueSg71b+0HKp+OFLw6P6strh1Foy7jms4P0NwGcAXi/MO73U+MdnmcOY3gegGVWn9xF2gHRfYzpfQsio6u7UdL5G0gA5nS8CZSCn91WuDKQznel8Ga+RWE/n65QNkLbmdL4QOwTo9L3S3EzHpval9GF55/72bwX/ApHa3TI9wHVxAAAAAElFTkSuQmCC"},1265:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAAAXNSR0IArs4c6QAABn9JREFUaEPdm1usXGMUx3+rp3VtlbpTQWhU+uCF8EJdKi6VtDUTUpGIUi9eeMGbeuOJZ7c+EEJmtE1co2h50YQHD40Kgiil9H6l51jy32ftyT5zzsz+9syUZr5kMpmzv2/t9f/+6/rtfYwBD3c3YAZwHDA9PtMAfXRNw4F/4jMK6PM3cMTMdG1gI79hXwID1PHAiYC+e5UrcH8Bh/Q9CLC9KjJOwzhbJwMz20CNhaI5O/otxnJ2tE6MjhRY1sbodz40dz9woB+gPQEMYGJrVigqpQRGO3/IzASo8nB3AZRcfWTeGtqYfSG3svlWBujuJwSwXIEjUsDMZFoDG+4uRrWB8ud8A3Wfw1VukgwwWNMNZZIaYkk3FGtHbbh7bim5+R6I+yaxmQTQ3eUvp0YAERiZTF++UWVHCr6uDdaQtew2M5lv11EK0N1liqeFT2jXdg3aHMuUzK+H2UoX6S2fly767ji6Agxwp0cgSRKYqmyv89o2XAzu6AayI8AwS4ETg0rC2q1Sk+hV8SrrQjcxqWJCGy+QU+o2JcCweQlQJOsqoIpig5zbRoB8UgRMCjydAJ4S0VIL/iyz80EqXkVWmOsZ4ZMKenvb108CGHlO7Gns/L8CSirQCDxzYr5YnJAnJwAM09SOyO+U41QqHfPD3VUqKoXInWRxLVNtB3gSMDuS+B9VakD/ghn8xEKcBViWM0tTUNvOOc5ujM1cyEa7ElVISSOIOTNq2T1mdjBf2FIiJp0VKUFJNLlC8Qa3YLyAc0GSRmWTjJ9xVlqdD8qm5tej4tHGKppuz8kpAsxpVk/2Z7LgJk/jPJ46v9I84xmr8UTqGneXe6l2bblXBjDYOzvMKjmw+BpuY4x3WwoYv+J8iPFjqlIT5jkXYdyMc17r7yPcbst4L0VeIeDIB38XizlAdQiKnKNm9keSsM0cxxZ+aCljNJjOCluS1ak9D1/HLEZZjVPLhGjT5nOxLciKjdLh7vJFBcksouYABU4gkyNn5nfwfiixlTlcbjdkDWrfwz9hJjv5GmduCLs11R8LEfWwme2yNvOUcyY1q97kEZxnA+Bqq7Gib2QFAd7kZZz7Q/6jVuO5FPnRNCtYjpupu6ueU805ZmbbU4RkfttkFc6TocBTVmNV6tqUeW3yV1mNp1LWZbq5C6D6xx0CmEfPg2a2J0WIN5mL8wpwVaEBnrjU2IazAeMxq7E1RW5xTj8b6O7K5crp+wRQuUNd814zU7fcdQS4r4C8PCpbshPjiqog+wSoUwfV04cEMM8dSenBG7wGLC9D1Xb9datzT5U1fQJUFyQCjghgbq8qzbp2x+F7ynXnhrKLrV7IgxODxGKct8NHt1mtkNsSkPYJUGlC6WJMAM+JBK/EWNrQeqN1tonVu9ebqXN9DTcxxt3AdcD5sSmHcWRdyoWVglj0iipcXABzNn5LKa5Tlc7YLtkMbzAvatiFXUk1vsRZbnW+TSA/r8xEHNUBNrNybHxTjDusxjtT3dSbdDVRX8u1jLEOzyqo8mHsYoQltpTPyiZHbm8BrGqifQeZYG5TC5yhVulFpvMSs9mcAdjDAkZ5AONBPFxBIJ2ry5hsN9GqQUY5sK804U024IybpfKlca/dycdTWsJb3IjzasFqNlqN67uxGEcZrSBTKU1EJO050UdAWR/gxM2iTuByED4Ocn2LyREW2TI+6gSy0FVkaaJSom/dtMmTeJRnFaKcN3geWBlyXrA6D5X5VASs5HXuPiHRVy7VgsWeim1vsAW4LAM1nWtsKZt8DZfwD3cVHg3kmP9iGm/aMr73tVzNKJ/HhW+szvwuDE4o1Xortntsl7yR9YvaVJX4s9RieSML/5d2UPg7qzMva6F2tHrN/VbPDpmmHO3FtnrCvJtPb5d6bHiPNsBJ7VJmbu6VG95sXW9HFg+3KpSjYKKTGt4AWPnIohBs+jl0GniQ6XRkUTTTpK6iaPw9HxsqwQ8wTXQ8dAoWezo2bDFZ7eD3PnSCNuBE3/HYMACKxZ4OflPyWBvjKrIHWqqVHvwGyJ6P7iuDHGCxnXR0X2DxP3v4UqFd2hhH+VO2S8kPX9oiqn5WDjhVmYx0M7nhhV+ATxnhjcS6U6K6Pz5rBQz34X0AWjDV4X2EHSD1bsxwvoRQMFWdTg3nayRtIIfzRaACyOF9lasAUpXOcL6MN6HMGtbXKdtAis3hfCF2CqDD90pzezk2tC+lT1V3Hmv/VvAvO9naMpPiOwsAAAAASUVORK5CYII="},1266:function(e,t,n){"use strict"},1267:function(e,t,n){"use strict";var a=n(3),s=n(47),o=n(181),r=n(1268),i=n(15),c=n.n(i),l=n(7),p=function(e){var t=e.showMigrate,n=e.showAdd,a=e.showRemove,i=e.className,p=e.onMigrate,u=e.onAdd,d=e.onRemove,b=e.removeDisabled;return Object(l.jsxs)("div",{className:i,style:{textAlign:"right"},children:[t&&Object(l.jsx)(s.a,{theme:{token:{colorText:"#5A14E1",colorBgContainer:"#DECDFF",colorPrimary:"#5A14E1",colorPrimaryHover:"#5A14E1",controlHeight:30}},children:Object(l.jsx)(o.a,{style:{border:"none"},className:r.liquidity_btn_migrate+" pure-comp",onClick:function(){return p&&p()},children:c.a.get("sunSwap.migrate.title")})}),n&&Object(l.jsx)(s.a,{theme:{token:{colorText:"#fff",colorBgContainer:"#8C51FF",colorPrimary:"#fff",colorPrimaryHover:"#fff",controlHeight:30}},children:Object(l.jsx)(o.a,{style:{border:"none"},className:"pure-comp",onClick:function(){return u&&u()},children:c.a.get("sunSwap.pool.base_increase_link")})}),a&&Object(l.jsx)(s.a,{theme:{token:{colorText:"#C1A0FF",colorPrimaryHover:"#C1A0FF",controlHeight:30,colorTextDisabled:"rgba(255, 255, 255, 0.5)"}},children:Object(l.jsx)(o.a,{disabled:b,onClick:function(){return d&&d()},className:r.liquidity_btn_remove+" pure-comp",type:"text",children:c.a.get("sunSwap.pool.base_remove_link")})})]})};t.a=Object(a.memo)(p)},1268:function(e,t,n){e.exports={liquidity_btn_remove:"style_liquidity_btn_remove__2AFYU",liquidity_btn_migrate:"style_liquidity_btn_migrate__UEXPP"}},1269:function(e,t,n){e.exports={wallet_not_connect:"style_wallet_not_connect__2Wm9c"}},1270:function(e,t,n){e.exports={"page-head":"style_page-head__1BLAB",link:"style_link__3S1dj","gradient-title":"style_gradient-title__3MHT8",animateTitle:"style_animateTitle__2WZFP","dim-content":"style_dim-content__12T8T",uppercase:"style_uppercase__3-6jb","window-for-tabs-pane":"style_window-for-tabs-pane__4neP4","dark-btn":"style_dark-btn__2oICp","purple-btn":"style_purple-btn__30BiF","cur-input":"style_cur-input__1R2iF","max-btn":"style_max-btn__2xtc9",sun_swap_content:"style_sun_swap_content__1pfSB",sun_swap_content_detail:"style_sun_swap_content_detail__3O12x",page_tab_wrap:"style_page_tab_wrap__3N5Xm",page_tab_nav_wrap:"style_page_tab_nav_wrap__lRKwD",v3_new_icon:"style_v3_new_icon__3xLDJ"}},1271:function(e,t,n){},1272:function(e,t,n){},1274:function(e,t,n){"use strict";var a=n(4),s=n(5),o=n(11),r=n(43),i=n(3),c=n(15),l=n.n(c),p=n(1109),u=n.n(p),d=n(24),b=n.n(d),m=n(1057),j=n(1068),k=n(14),f=n(113),h=n(1058),w=n(1180),O=n(1128),x=n(1270),v=n(1192),g=n.p+"static/media/v3_new.ebab458d.png",S=n(7),_=["routeName","version","onVersionChange","onSettingChange","isDetailPage","children","detailPage","network"],A=function(e){e.routeName;var t,n=e.version,c=e.onVersionChange,p=e.onSettingChange,d=e.isDetailPage,A=e.children,T=e.detailPage,y=void 0===T?{}:T,N=e.network,P=Object(r.a)(e,_),D=Object(i.useState)(0),V=Object(o.a)(D,2),C=V[0],q=V[1];Object(i.useEffect)((function(){Object(f.b)().then((function(e){var t=(e.data||{}).allSwaps;q(t)}))}),[]);var L=Object(i.useMemo)((function(){return Object(S.jsx)(u.a,{start:0,redraw:!0,end:Number(Object(k.a)(C).toFixed(0,1)),duration:1,prefix:"$ ",separator:","})}),[C]);return Object(S.jsxs)("div",{children:[Object(S.jsx)(m.a,{routeName:1321,mountedActions:function(){},instantActions:function(){}}),Object(S.jsxs)("div",{className:"main-page-content",children:[Object(S.jsx)(j.a,{title:L,subTitle:l.a.get("sunSwap.total_stake"),isRevert:!0}),!d&&Object(S.jsxs)("div",{className:x.page_tab_nav_wrap,children:[Object(S.jsx)("img",{src:g,alt:"new",className:x.v3_new_icon}),Object(S.jsx)(h.a,{list:[{label:"V3",value:"V3",route:"v3/swap",handler:c},{label:"V2",value:"V2",route:"sun_swap/v2",handler:c},{label:"V1",value:"V1",route:"sun_swap/v1",handler:c}],activeKey:n?n.toUpperCase():"V3"})]}),!d&&Object(S.jsxs)("div",{className:x.page_tab_wrap,children:[Object(S.jsx)(w.a,Object(s.a)({},P)),Object(S.jsx)(O.a,{onChange:p,network:N,version:n})]}),Object(S.jsxs)("section",{className:b()((t={},Object(a.a)(t,x.sun_swap_content,!0),Object(a.a)(t,x.sun_swap_content_detail,d),t)),children:[d&&Object(S.jsx)(v.a,Object(s.a)({},y)),A]})]})]})};t.a=Object(i.memo)(A)},1276:function(e,t,n){"use strict";var a=n(3),s=n.p+"static/media/loading_chry.cbf82baf.svg",o=n(24),r=n.n(o),i=n(7),c=function(e){var t=e.className,n=e.style,a=e.size,o=void 0===a?20:a;return Object(i.jsx)("div",{className:r()("infinite-loading",t),style:n,children:Object(i.jsx)("img",{className:"infinite-loading-circle",style:{width:o,height:o},src:s,alt:"loading"})})};t.a=Object(a.memo)(c)},1277:function(e,t,n){"use strict";var a=n(3),s=n(1107),o=n(15),r=n.n(o),i=n.p+"static/media/table_no_data.fbf13c8c.png",c=n(1269),l=n(7),p=function(){return Object(l.jsx)(s.a,{img:i,emptyText:r.a.get("sunSwap.pool.base_noLiquidity_tip"),className:c.wallet_not_connect})};t.a=Object(a.memo)(p)},1278:function(e,t,n){"use strict";var a=n(5),s=n(11),o=n(43),r=n(201),i=n.p+"static/media/token_loading.df40235f.svg",c=n(3),l=n(24),p=n.n(l),u=(n(1259),n(7)),d=["src","defaultSrc","className"],b=function(e){var t=e.src,n=e.defaultSrc,l=e.className,b=Object(o.a)(e,d),m=Object(c.useState)(i),j=Object(s.a)(m,2),k=j[0],f=j[1],h=t||n||r.a;return Object(c.useEffect)((function(){var e=new Image;e.src=h,e.onload=function(){f(h),e=null},e.onerror=function(){f(r.a),e=null}}),[h]),Object(u.jsx)("img",Object(a.a)(Object(a.a)({src:k},b),{},{alt:"logo",className:p()("sun-icon-img",l)}))};t.a=Object(c.memo)(b)},1305:function(e,t,n){"use strict";var a,s=n(8),o=n(9),r=n(16),i=n(17),c=n(3),l=n.n(c),p=n(171),u=n(15),d=n.n(u),b=n(1042),m=n(1502),j=n(14),k=n(19),f=n(7),h=Object(p.b)("sunSwapNetwork")(a=Object(p.c)(a=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).changeCheckStatus=function(e){a.setState({checkStatus:e})},a.comfirmContinue=function(){a.state.checkStatus&&a.props.cb()},a.componentDidMount=function(){},a.state={checkStatus:!1},a}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.visible,a=t.dealWarningSymbol,s=this.state.checkStatus,o=a?k.a.deflationToken[a]:{symbol:"",slippage:""},r=o.symbol,i=o.slippage;return Object(f.jsx)(b.a,{title:d.a.getHTML("list.deal_warning_title",{value:r}),closable:!1,open:n,footer:null,style:{marginLeft:Object(j.v)(500)},width:525,className:"list-addtoken-modal deal-warning-modal sun-swap-modal",centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:Object(f.jsxs)("div",{className:"solor-modal-body",children:[Object(f.jsxs)("div",{className:"tips",children:[Object(f.jsx)("div",{className:"tips1",children:d.a.getHTML("list.deal_warning_content_1",{value:r})}),Object(f.jsx)("div",{className:"tips1 yellow",children:d.a.getHTML("list.deal_warning_content_2",{value:i})}),Object(f.jsx)("div",{className:"tips1",children:d.a.getHTML("list.deal_warning_content_3",{value:r})})]}),Object(f.jsx)("div",{className:"check-box"+(s?" checked":""),children:Object(f.jsx)(m.a,{onChange:function(t){return e.changeCheckStatus(t.target.checked)},children:d.a.get("sunSwap.list.i_understand")})}),Object(f.jsx)("div",{className:"btns",children:Object(f.jsx)("button",{onClick:this.comfirmContinue,className:s?"button-active":"",children:d.a.get("sunSwap.list.continue")})})]})})}}]),n}(l.a.Component))||a)||a;t.a=h},1306:function(e,t,n){"use strict";var a=n(3),s=n(1369),o=n(7),r=function(e){var t=e.title,n=e.content;return Object(o.jsxs)("div",{className:s.warning_tip,children:[t&&Object(o.jsx)("h4",{className:s.warning_tip_title,children:t}),n&&Object(o.jsx)("div",{className:s.warning_tip_content,children:n})]})};r.defaultProps={},t.a=Object(a.memo)(r)},1307:function(e,t,n){"use strict";var a=n(8),s=n(9),o=n(16),r=n(17),i=n(3),c=n.n(i),l=n(15),p=n.n(l),u=n(24),d=n.n(u),b=n(342),m=n(7),j=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(e){return Object(a.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.token,a=void 0===n?{}:n,s=t.disabled;return Object(m.jsx)("p",{className:d()({dragDown:!0,"chose-token":!a.tokenAddress,"no-bg":s}),onClick:function(){return e.props.showModal()},children:a.tokenAddress?Object(m.jsxs)(c.a.Fragment,{children:[Object(m.jsx)("img",{src:a.tokenLogoUrl,alt:"",onError:function(e){e.target.onerror=null,e.target.src=b.a}}),Object(m.jsx)("span",{children:a.tokenSymbol})]}):Object(m.jsxs)(m.Fragment,{children:[p.a.get("sunSwap.tokens.add_choose_select")," "]})})}}]),n}(c.a.Component);t.a=j},1367:function(e,t,n){},1368:function(e,t,n){},1369:function(e,t,n){e.exports={warning_tip:"style_warning_tip__3dgbE",warning_tip_title:"style_warning_tip_title__3J0wk",warning_tip_content:"style_warning_tip_content__fTsNT"}},1370:function(e,t,n){e.exports={"swap-block":"style_swap-block__3xRpJ","sunswap-chose-token":"style_sunswap-chose-token__1LIsY","select-token-top":"style_select-token-top__1xNRr",dragDown:"style_dragDown__17tRO","token-detail":"style_token-detail__Bez9o","input-block":"style_input-block__1Jmxi","input-number":"style_input-number__1lhaz","swap-balance":"style_swap-balance__m1Zwe","max-btn":"style_max-btn__1yKnZ","media-trade-router-pc":"style_media-trade-router-pc__3z-07","media-trade-router-mobile":"style_media-trade-router-mobile__1kjoQ",root:"style_root__3pGMk",flex:"style_flex__2Qw9R",pool_info_title:"style_pool_info_title__1py-K",pool_logo:"style_pool_logo__28EZc"}},1371:function(e,t,n){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAANCAMAAAB4p3UoAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEJQTFRFAAAASFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlSFDlDTbkywAAABZ0Uk5TAIDuQFf/9AFYP9cvsf78ImriLWQuePVMmBkAAABCSURBVHicY2DADRiZmNFEWFhZMYXYcAmxIwAHKysnAwMXKyrgZuABkrwQABLg40cxSIBVUIhEAWFWVhFU14hyQQQA99wCt/58bxkAAAAASUVORK5CYII="},1372:function(e,t,n){"use strict";var a=n(3),s=n(1931),o=n(1933),r=n(344),i=n(1373),c=n(1153),l=n(7),p=function(e){var t=e.title,n=e.tip,a=e.value;return Object(l.jsxs)(s.a,{className:i.list_header,align:"middle",justify:"space-between",children:[Object(l.jsxs)(o.a,{span:12,children:[Object(l.jsx)("span",{children:t}),n&&Object(l.jsx)(r.a,{title:n,overlayClassName:"tooltip",color:"rgba(27,31,38,0.90)",children:Object(l.jsx)(c.a,{className:i.list_header_icon})})]}),Object(l.jsx)(o.a,{span:12,style:{textAlign:"right"},children:a&&Object(l.jsx)("div",{children:a})})]})};p.defaultProps={},t.a=Object(a.memo)(p)},1373:function(e,t,n){e.exports={list_header:"style_list_header__3pl6p",list_header_icon:"style_list_header_icon__2amZ7"}},1374:function(e,t,n){e.exports={"page-head":"pool_page-head__3PMYt",link:"pool_link__17GqF","gradient-title":"pool_gradient-title__2-sgq",animateTitle:"pool_animateTitle__aNJp5","dim-content":"pool_dim-content__3yQA5",uppercase:"pool_uppercase__1uPY9","window-for-tabs-pane":"pool_window-for-tabs-pane__2bVrW","dark-btn":"pool_dark-btn__3U_Eu","purple-btn":"pool_purple-btn__1C5ek","cur-input":"pool_cur-input__1dDZC","max-btn":"pool_max-btn__3LEa6",pool_list:"pool_pool_list__2ardF",pool_list_logo:"pool_pool_list_logo__fy9pI",pool_list_logo_right:"pool_pool_list_logo_right__3OXOL",pool_list_btns_add:"pool_pool_list_btns_add__1h9sM",pool_list_btns_remove:"pool_pool_list_btns_remove__1TllO"}},1375:function(e,t,n){"use strict";var a=n(4),s=n(3),o=n(24),r=n.n(o),i=n(1140),c=n(1376),l=n(1108),p=n(7),u=function(e){var t,n=e.token0,s=e.token1,o=e.pool_share,u=e.pool_tokens,d=e.onAdd,b=e.onRemove,m=e.onMigrate,j=e.showMigrate,k=e.disableRemove,f=e.originItem,h=e.toScan;return Object(p.jsxs)("div",{className:c.liquidity_item_wrap,children:[Object(p.jsxs)("div",{className:c.liquidity_item_header,children:[Object(p.jsx)(i.a,{url:null===n||void 0===n?void 0:n.tokenLogo,className:c.liquidity_item_token_icon}),Object(p.jsx)(i.a,{url:null===s||void 0===s?void 0:s.tokenLogo,className:c.liquidity_item_token_icon,style:{marginLeft:-6}}),Object(p.jsx)(l.a,{className:c.liquidity_item_name,href:h,children:"".concat(null===n||void 0===n?void 0:n.tokenSymbol,"/").concat(null===s||void 0===s?void 0:s.tokenSymbol)}),j&&Object(p.jsx)("div",{className:c.liquidity_item_migrate_btn,onClick:function(){return m&&m(f)},children:"Migrate to V2"})]}),Object(p.jsxs)("div",{className:c.liquidity_item_content,children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:c.liquidity_item_info,children:[Object(p.jsx)("div",{className:c.liquidity_item_info_info_label,children:"Pool Share:"}),Object(p.jsx)("div",{className:c.liquidity_item_info_info_value,children:o})]}),Object(p.jsxs)("div",{className:c.liquidity_item_info,children:[Object(p.jsx)("div",{className:c.liquidity_item_info_info_label,children:"Pool Tokens:"}),Object(p.jsx)("div",{className:c.liquidity_item_info_info_value,children:u})]})]}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:c.liquidity_item_info,children:[Object(p.jsx)(i.a,{url:null===n||void 0===n?void 0:n.tokenLogo,className:c.liquidity_item_token_icon,style:{marginRight:8}}),Object(p.jsx)("div",{className:c.liquidity_item_info_info_label,children:Object(p.jsx)("span",{children:null===n||void 0===n?void 0:n.tokenSymbol})}),Object(p.jsx)("div",{className:c.liquidity_item_info_info_value,children:null===n||void 0===n?void 0:n.amount})]}),Object(p.jsxs)("div",{className:c.liquidity_item_info,children:[Object(p.jsx)(i.a,{url:null===s||void 0===s?void 0:s.tokenLogo,className:c.liquidity_item_token_icon,style:{marginRight:8}}),Object(p.jsx)("div",{className:c.liquidity_item_info_info_label,children:Object(p.jsx)("span",{children:null===s||void 0===s?void 0:s.tokenSymbol})}),Object(p.jsx)("div",{className:c.liquidity_item_info_info_value,children:null===s||void 0===s?void 0:s.amount})]})]})]}),Object(p.jsxs)("div",{className:c.liquidity_item_footer,children:[Object(p.jsx)("div",{className:c.liquidity_item_footer_btn,onClick:function(){return d&&d(f)},children:"Add"}),Object(p.jsx)("div",{className:r()((t={},Object(a.a)(t,c.liquidity_item_footer_btn,!0),Object(a.a)(t,c.liquidity_item_footer_btn_disable,k),t)),onClick:function(){return b&&!k&&b(f)},children:"Remove"})]})]})};u.defaultProps={},t.a=Object(s.memo)(u)},1376:function(e,t,n){e.exports={liquidity_item_wrap:"style_liquidity_item_wrap__XXhD-",liquidity_item_header:"style_liquidity_item_header__1R8kN",liquidity_item_name:"style_liquidity_item_name__1puyp",liquidity_item_content:"style_liquidity_item_content__2d0V5",liquidity_item_info:"style_liquidity_item_info__2ncHM",liquidity_item_info_info_label:"style_liquidity_item_info_info_label__1ljmD",liquidity_item_info_info_value:"style_liquidity_item_info_info_value__2zdic",liquidity_item_footer:"style_liquidity_item_footer__2XP79",liquidity_item_footer_btn:"style_liquidity_item_footer_btn__1ADm2",liquidity_item_footer_btn_disable:"style_liquidity_item_footer_btn_disable__Ei6Nu",liquidity_item_migrate_btn:"style_liquidity_item_migrate_btn__2FlCN",liquidity_item_token_icon:"style_liquidity_item_token_icon__DqzHd"}},1377:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var a,s=n(4),o="v1.0",r="v2.0";a={},Object(s.a)(a,o,"V 1"),Object(s.a)(a,"v1.5","V 1.5"),Object(s.a)(a,r,"V 2")},1378:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(1379);var a=n(7),s=function(){return Object(a.jsx)("div",{className:"v3-loading-box",children:Object(a.jsx)("span",{})})}},1379:function(e,t,n){},1865:function(e,t,n){},1957:function(e,t,n){"use strict";n.r(t);var a,s,o,r,i,c,l,p,u,d,b,m,j=n(5),k=n(0),f=n(2),h=n(8),w=n(9),O=n(16),x=n(17),v=n(3),g=n.n(v),S=n(15),_=n.n(S),A=n(171),T=n(1042),y=n(1502),N=n(1921),P=n(65),D=n(19),V=n(1233),C=n(4),q=n(41),L=n.n(q),I=n(101),F=n(1497),B=n(1914),E=n(1498),M=n(344),R=n(24),U=n.n(R),H=n(1040),W=n(1919),z=n(14),J=n(131),X=n(1305),Y=n(1255),Z=n(1257),Q=n(1278),K=n(173),G=n(1176),$=(n(1163),n(1175),n(7)),ee="REMOVE",te=Object(A.b)("sunSwapPool","sunswapHotTokens")(a=Object(A.c)(a=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var a,s,o,r,i,c,l,p;return Object(h.a)(this,n),(p=t.call(this,e)).componentDidMount=function(){var e=window.localStorage.getItem("solor");if(e){var t=JSON.parse(e);window.localStorage.setItem("solor",JSON.stringify(t)),p.props.sunSwapPool.setData({solor:t})}p.props.sunswapHotTokens.getHotCoinList()},p.setInitToken=function(){p.setState({tokenSort:!1})},p.onTokenStrChange=function(e){return(a=a||Object(f.a)(Object(k.a)().mark((function e(t){var n,a,s,o,r,i,c,l,u=arguments;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.length>1&&void 0!==u[1]?u[1]:null,n=p.props.sunSwapPool,a=n.exchanges,void 0===a?{}:a,s=n.allExchanges,void 0===s?{}:s;try{o=p.props.type,r=t.target.value.trim(),i=p.state.tokenSort,p.setState({tokenStr:r}),1===o||2===o?p.props.sunSwapPool.setData({swapToken:Object(j.a)(Object(j.a)({},p.props.sunSwapPool.swapToken),{},(c={},Object(C.a)(c,"tokenStr".concat(o),r),Object(C.a)(c,"tokenSort".concat(o),i),c))}):p.props.sunSwapPool.setData({liqToken:Object(j.a)(Object(j.a)({},p.props.sunSwapPool.liqToken),{},(l={},Object(C.a)(l,"tokenStr".concat(o),r),Object(C.a)(l,"tokenSort".concat(o),i),l))}),p.props.sunSwapPool.searchTokenList(o)}catch(d){console.log("onTokenStrChange: ",d)}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},p.onChange=function(e,t){return(s=s||Object(f.a)(Object(k.a)().mark((function e(t,n){var a,s,o,r,i;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.stopPropagation(),1!==(a=p.props.type)&&2!==a){e.next=11;break}if(s=p.props.sunSwapPool.swapToken,o=t.tokenAddress,r=s.fromToken,i=s.toToken,!(1===a&&o===r.tokenAddress||2===a&&o===i.tokenAddress)){e.next=8;break}return e.abrupt("return");case 8:if(1!==a&&2!==a||!Object.keys(D.a.deflationToken).includes(t.tokenAddress)){e.next=11;break}return p.setState({modalVisible:!1,dealWarningVisible:!0,callbacks:p.selectSearchCallback,selectSearchItem:t}),e.abrupt("return");case 11:p.props.onChangeToken(t);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)},p.selectSearchCallback=function(){var e=p.state.selectSearchItem;p.setState({dealWarningVisible:!1}),p.props.onChangeToken(e)},p.hideModal=function(){1===p.state.defaultStatus?p.setState({modalVisible:!1,customTokenUriLeg:!0,tokenSort:!1}):p.hideListModal()},p.clearStorage=function(){var e=D.a.localStorage;for(var t in e)window.localStorage.removeItem(e[t]);window.location.reload()},p.showListModal=function(){p.setState({defaultStatus:2})},p.hideListModal=function(){p.setState({defaultStatus:1})},p.selectTokenList=function(e){return(o=o||Object(f.a)(Object(k.a)().mark((function e(t){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p.props.sunSwapPool.selectedListUrl,p.props.sunSwapPool.setData({selectedListUrl:t}),p.props.sunSwapPool.setTokensDataIntoLocal(),e.next=6,p.props.sunSwapPool.setTokenList(p.props.type);case 6:p.setState({defaultStatus:1}),p.props.sunSwapPool.handleNotifiction(),p.props.sunSwapPool.setTokensDataIntoLocal(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)},p.backTokensCategory=function(){p.setState({changeStatus:1})},p.onTokenUriChange=function(e){try{var t=e.target.value;p.setState({customTokenUri:t.trim(),errInfo:""})}catch(n){console.log(n)}},p.checkUrl=function(e){return e||(_.a.get("sunSwap.list.err1"),Object(V.a)("errInfo")),""},p.isListsOver=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).length>=D.a.maxLists},p.addCustomTokens=Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s,o,r,i,c,l,u,d;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=p.state.customTokenUri,n="",Object(z.u)(t)){e.next=7;break}return n=_.a.get("sunSwap.list.add_failed_tip"),p.setState({errInfo:n}),e.abrupt("return");case 7:if(a=p.props.sunSwapPool.byUrl,!(s=void 0===a?{}:a)[t]||s[t].rs){e.next=12;break}return n=_.a.get("sunSwap.list.exists"),p.setState({errInfo:n}),e.abrupt("return");case 12:if(!p.isListsOver(s)){e.next=16;break}return n=_.a.getHTML("list.lists_over",{value:D.a.maxLists}),p.setState({errInfo:n}),e.abrupt("return");case 16:return e.next=18,J.a.getTokenListJson(t);case 18:if(o=e.sent,r=o.tokens,!((void 0===r?[]:r).length>D.a.maxTokens)){e.next=24;break}return n=_.a.getHTML("list.tokens_over",{value:D.a.maxTokens}),p.setState({errInfo:n}),e.abrupt("return");case 24:if(i=Object(z.I)(o),c=i.key,l=void 0===c?"":c,u=i.valid,void 0!==u&&u){e.next=29;break}return n=_.a.get("sunSwap.list.add_err_tip",{value:l}),p.setState({errInfo:n}),e.abrupt("return");case 29:return p.props.sunSwapPool.updateTokensData(t,Object(j.a)(Object(j.a)({},o),{},{uri:t,rs:0})),e.next=32,p.props.sunSwapPool.setTokenList(p.props.type);case 32:p.setState({defaultStatus:1}),e.next=40;break;case 35:e.prev=35,e.t0=e.catch(0),d=_.a.get("sunSwap.list.add_failed_retry"),p.setState({errInfo:d}),console.log(e.t0);case 40:case"end":return e.stop()}}),e,null,[[0,35]])}))),p.updateList=function(e){return(r=r||Object(f.a)(Object(k.a)().mark((function e(t){var n,a,s;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.uri,a=p.props.sunSwapPool.byUrlNew,s=(void 0===a?{}:a)[n],Object(z.g)(s,Object(f.a)(Object(k.a)().mark((function e(){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.props.sunSwapPool.updateByUrl(s);case 2:p.setState({});case 3:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},p.hideRemoveModal=function(){p.setState({removeId:"",removeModalVisible:!1,removeText:""})},p.showRemoveModal=function(e){try{p.setState({removeId:e.uri,removeModalVisible:!0})}catch(t){console.log(t)}},p.removeTokens=function(){try{var e=p.state,t=e.removeId,n=e.removeText;if(!t)return;if(n.trim()!=ee)return;var a=p.props.sunSwapPool.byUrl,s=(void 0===a?{}:a)[t],o=s.cst,r=void 0!==o&&o,i=s.uri,c=void 0===i?"":i;r?p.props.sunSwapPool.deleteByUrlById(c):(s.rs=1,p.props.sunSwapPool.updateByUrl(s)),p.hideRemoveModal()}catch(l){console.log(l)}},p.inputRemoveText=function(e){var t=e.target.value;p.setState({removeText:t})},p.addSolor=function(e){return(i=i||Object(f.a)(Object(k.a)().mark((function e(t){var n,a;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=p.props.sunSwapPool.solor,a=void 0===n?[]:n,!(L.a.findIndex(a,(function(e){return e.tokenAddress===t.tokenAddress}))>=0)){e.next=5;break}return e.abrupt("return");case 5:return a.unshift(Object(j.a)(Object(j.a)({},t),{},{cst:2})),p.props.sunSwapPool.setData({solor:a}),e.next=9,p.props.sunSwapPool.setTokenList(p.props.type);case 9:window.localStorage.setItem("solor",JSON.stringify(a)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)},p.removeSolor=function(e){return(c=c||Object(f.a)(Object(k.a)().mark((function e(t){var n,a,s;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=p.props.sunSwapPool.solor,a=void 0===n?[]:n,s=t.tokenAddress,L.a.remove(a,(function(e){return e.tokenAddress===s})),p.props.sunSwapPool.setData({solor:a}),e.next=7,p.props.sunSwapPool.setTokenList(p.props.type);case 7:window.localStorage.setItem("solor",JSON.stringify(a)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)},p.getKeys=function(e){try{return Object.keys(e).sort((function(t,n){return e[t].name>e[n].name?1:-1}))}catch(t){return[]}},p.tokenSortByAsCII=function(e){return(l=l||Object(f.a)(Object(k.a)().mark((function e(t){var n,a,s,o,r,i,c,l,u;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=!t,n=p.props.type,a=[],s={},o=p.props.sunSwapPool,r=o.swapToken,i=o.liqToken,1!==n&&2!==n||(a=r.tokenList,s=r.tokenMap),3!==n&&4!==n||(a=i.tokenList,s=i.tokenMap),r["tokenSort".concat(p.props.type)]=t,i["tokenSort".concat(p.props.type)]=t,p.props.sunSwapPool.setData({swapToken:r,liqToken:i}),!t){e.next=19;break}c=a.sort((function(e,t){var n=s[e].tokenSymbol.toLowerCase(),a=s[t].tokenSymbol.toLowerCase();return n<a?-1:n>a?1:0})),(l=L.a.findIndex(c,(function(e){return e.tokenAddress===D.a.trxFakeAddress})))>=0&&(u=c.splice(l,1),c.unshift(u[0])),1!==n&&2!==n||(r.tokenList=c),3!==n&&4!==n||(i.tokenList=c),e.next=21;break;case 19:return e.next=21,p.props.sunSwapPool.setTokenList(p.props.type);case 21:p.setState({tokenSort:t}),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})))).apply(this,arguments)},p.confirmContinue=Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s,o;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=p.state.checkStatus,n=p.props.sunSwapPool,a=n.tokenBrief,s=n.tokenBriefAnother,o=Object(z.q)("type"),t){e.next=6;break}return e.abrupt("return");case 6:if(!(Object.keys(a).length>0)){e.next=9;break}return e.next=9,p.addSolor(a);case 9:if(!(Object.keys(s).length>0)){e.next=12;break}return e.next=12,p.addSolor(s);case 12:p.props.sunSwapPool.setData({solorModalVisible:!1}),Object.keys(a).length>0&&p.props.onChangeToken&&p.props.onChangeToken(a,"swap"===o?1:3),Object.keys(s).length>0&&p.props.onChangeToken&&p.props.onChangeToken(s,"swap"===o?2:4),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0),p.props.sunSwapPool.setData({solorModalVisible:!1});case 21:case"end":return e.stop()}}),e,null,[[0,17]])}))),p.changeCheckStatus=function(e){p.setState({checkStatus:e.target.checked})},p.getClassName=function(e,t){try{var n=p.props.type,a=e.tokenAddress,s=1===n||2===n?p.props.sunSwapPool.swapToken:p.props.sunSwapPool.liqToken,o=s.fromToken,r=s.toToken;if(a===o.tokenAddress||a===r.tokenAddress||t)return"opac"}catch(i){return""}},p.outInputCheck=function(e){try{var t=p.props.type,n=e.tokenAddress,a=1===t||2===t?p.props.sunSwapPool.swapToken:p.props.sunSwapPool.liqToken,s=a.fromToken,o=a.toToken;if(n===s.tokenAddress)return" (".concat(_.a.get("sunSwap.tokens.selected_as_input"),")");if(n===o.tokenAddress)return" (".concat(_.a.get("sunSwap.tokens.selected_as_output"),")")}catch(r){return""}},p.renderHotCoin=function(){var e=p.props.sunswapHotTokens,t=e.hotTokenList,n=void 0===t?[]:t,a=e.hotTokenMaps;return e.isLoading?Object($.jsxs)("div",{className:"n-hot-coin",children:[Object($.jsx)("div",{className:"n-hot-title",children:_.a.get("account_center.popular")}),Object($.jsx)("div",{className:"loading-hot-list",children:new Array(4).fill(1).map((function(){return Object($.jsx)("div",{className:"loading-hot-item"})}))})]}):n.length?Object($.jsxs)("div",{className:"n-hot-coin",children:[Object($.jsx)("div",{className:"n-hot-title",children:_.a.get("account_center.popular")}),Object($.jsx)("div",{className:"n-hot-list",children:n.map((function(e){var t=a[e];return Object($.jsxs)("div",{className:U()({"n-hot-item":!0,"n-hot-item-selected":p.getClassName(t)}),onClick:function(e){return p.onChange(t,e)},children:[Object($.jsx)("img",{className:"n-hot-icon",src:t.tokenLogoUrl,onError:function(e){e.target.onerror=null,e.target.src=K.a}}),t.tokenSymbol]})}))})]}):null},p.renderSelectedList=function(e,t){var n=p.state.tokenSort,a=p.props.isMobileStatus,s=p.props.sunSwapPool,o=s.swapToken,r=s.liqToken,i=(s.loadingTokenList,r.fromToken,r.toToken,[]),c={},l=[],u=p.props.type,d="";return 1!==u&&2!==u||(l=o.tokenList,i=o.allTokenList,c=o.tokenMap,d=o["tokenStr".concat(u)]),3!==p.props.type&&4!==p.props.type||(l=r.tokenList,i=r.allTokenList,c=r.tokenMap,d=r["tokenStr".concat(u)]),e&&t&&e[t]?Object($.jsxs)($.Fragment,{children:[Object($.jsx)(Z.a,{placeholder:_.a.get("sunSwap.tokens.select_placeholder_text"),onSearch:p.onTokenStrChange,onChange:p.onTokenStrChange,value:d,enterButton:_.a.get("tokens.search"),showSuffix:!a}),p.renderHotCoin(),Object($.jsxs)("div",{className:"n-list-title",children:[Object($.jsx)("span",{className:"n-list-title-text",children:_.a.get("sunSwap.tokens.select_tokenName_title")}),Object($.jsx)("span",{className:U()({"icon-sort":!0,"icon-sort-active":n}),onClick:function(){return p.tokenSortByAsCII(n)}})]}),Object($.jsx)("div",{className:"n-list sun-scroll-bar",children:0===i.length?Object($.jsx)("div",{className:"n-list-empty",children:_.a.get("sunSwap.tokens.loading_tokens")}):l.length?l.map((function(e,t){var n=c[e],a=e===D.a.wtrxAddress&&(3===p.props.type||4===p.props.type);return n&&!a?Object($.jsxs)("div",{className:U()({"n-list-item":!0,"n-list-item-selected":p.getClassName(n)}),onClick:function(e){return p.onChange(n,e)},children:[Object($.jsx)(Q.a,{className:"n-token-icon",src:n.tokenLogoUrl}),Object($.jsxs)("div",{className:"n-item-content",children:[Object($.jsxs)("div",{className:"n-item-title",children:[Object($.jsxs)("span",{className:"item-content",children:[n.tokenSymbol,p.outInputCheck(n)]}),1===n.cst&&Object($.jsxs)("div",{className:"item-content solor-detail",children:[Object($.jsx)("span",{children:_.a.get("sunSwap.list.search_by_addr")}),Object($.jsxs)("span",{className:"ib",onClick:function(e){e.stopPropagation(),p.addSolor(n)},children:["(",_.a.get("sunSwap.list.add"),")"]})]}),2===n.cst&&Object($.jsxs)("div",{className:"item-content solor-detail",children:[Object($.jsx)("span",{children:_.a.get("sunSwap.list.add_by_user")}),Object($.jsxs)("span",{className:"solor-remove ib",onClick:function(e){e.stopPropagation(),p.removeSolor(n)},children:["(",_.a.get("sunSwap.list.remove_token"),")"]})]})]}),Object($.jsx)("div",{className:"n-item-address",children:n.tokenAddress===D.a.trxFakeAddress?null:Object(I.a)(window.navigator).any?Object(z.j)(n.tokenAddress,4,4):Object(z.j)(n.tokenAddress,8,10)})]}),Object($.jsx)("div",{className:"n-item-balance",children:n.tokenAddress===D.a.trxFakeAddress?Object($.jsx)("div",{children:Object($.jsx)("p",{children:Object(z.l)(c[n.tokenAddress]?c[n.tokenAddress].balance:n.balance)})}):Object($.jsx)("div",{children:Object($.jsx)("p",{children:c[n.tokenAddress]&&!isNaN(c[n.tokenAddress].balance)?Object(z.l)(c[n.tokenAddress].balance):"--"})})})]},n.tokenAddress+t):Object($.jsx)($.Fragment,{})})):Object($.jsx)("div",{className:"no-token-fund",children:_.a.getHTML("list.no_token_found")})}),Object($.jsx)("div",{className:"n-list-switch-wrap",children:Object($.jsxs)("div",{className:"n-list-switch",children:[Object($.jsxs)("div",{className:"n-list-switch-name",children:[Object($.jsx)("img",{className:"n-list-switch-icon",src:e[t].logoURI,alt:"",onError:function(e){e.target.onerror=null,e.target.src=K.a}}),Object($.jsx)("span",{children:e[t].name||""})]}),Object($.jsx)("button",{className:"n-list-switch-btn",onClick:function(){return p.showListModal()},children:_.a.get("sunSwap.list.switch")})]})})]}):Object($.jsx)($.Fragment,{})},p.renderUpdateListItem=function(e){var t=p.props.sunSwapPool.byUrlNew,n=void 0===t?{}:t,a=e.version,s=void 0===a?{}:a,o=n[e.uri]||{},r=o.version||{},i=Object(z.f)(s,r),c=Object(z.e)(e,o).success,l=void 0!==c&&c;return!L.a.isEqual(o,{})&&i&&l&&Object($.jsx)(F.a.Item,{onClick:function(){p.updateList(e)},children:_.a.get("sunSwap.list.update")})},p.adjustAndroid=function(e){var t=Object(z.d)(e);p.setState({adjust:t})},p.renderTokensCategory=function(){var e=p.state,t=e.customTokenUri,n=e.lang,a=e.errInfo,s=p.props.sunSwapPool,o=s.byUrl,r=s.selectedListUrl,i=p.getKeys(o);return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)("div",{className:"home-select-url-input-wrap",children:[Object($.jsx)(B.a,{type:"text",className:"home-select-url-input",placeholder:"https://",value:t,onChange:p.onTokenUriChange,onFocus:function(){return p.adjustAndroid(!0)},onBlur:function(){return p.adjustAndroid(!1)}}),Object($.jsx)("button",{className:"home-select-url-btn",onClick:p.addCustomTokens,disabled:!t.trim(),children:_.a.get("sunSwap.list.add_list")})]}),!!a&&Object($.jsxs)("div",{className:"list-add-errTip",children:[Object($.jsx)("span",{className:"icon",children:"!"}),Object($.jsx)("span",{className:"text",children:a})]}),Object($.jsx)("ul",{className:"n-origin-list",children:o&&i.length&&i.map((function(e){var t=o[e];return!t.rs&&Object($.jsxs)("li",{className:"n-origin-list-item",children:[Object($.jsxs)("div",{className:"n-origin-list-item-left",children:[Object($.jsxs)("div",{className:"n-origin-list-item-img-text",children:[Object($.jsx)("img",{src:t.logoURI,alt:"",className:"n-origin-list-item-logo"}),Object($.jsxs)("div",{children:[Object($.jsx)("div",{className:"n-origin-list-item-name",children:t.name}),Object($.jsx)("div",{className:"n-origin-list-item-source",children:Object(z.n)(t.uri)})]})]}),Object($.jsx)(E.a,{trigger:"click",placement:"bottomRight",overlayClassName:"home-select-url-drop",overlay:Object($.jsx)(F.a,{children:Object($.jsxs)(F.a.ItemGroup,{title:Object($.jsxs)("div",{children:[Object($.jsx)("span",{className:"key",children:_.a.get("sunSwap.list.version")}),Object($.jsx)("span",{className:"value",children:Object(z.s)(t.version)})]}),children:[Object($.jsxs)(F.a.Item,{children:[" ",Object($.jsx)("a",{href:"".concat(D.a.justList,"?lang=").concat(n,"#/detail?uri=").concat(t.uri),target:t.uri||"_blank",children:_.a.get("sunSwap.list.view")})]}),p.renderUpdateListItem(t),t.uri!==r&&Object($.jsx)(F.a.Item,{onClick:function(){p.showRemoveModal(t)},children:_.a.get("sunSwap.list.remove")})]})}),children:Object($.jsx)("a",{className:"n-origin-list-item-drop",onClick:function(e){return e.preventDefault()}})})]}),Object($.jsx)("div",{className:"n-origin-list-item-right",children:Object($.jsx)(Y.a,{onClick:function(){return p.selectTokenList(e)},disabledCanClick:!0,disabled:String(r)===String(t.uri),children:String(r)===String(t.uri)?_.a.get("sunSwap.list.selected"):_.a.get("sunSwap.list.select")})})]},t.name+"_"+e)}))}),Object($.jsxs)("div",{className:"home-select-url-links",children:[Object($.jsx)("a",{className:"home-select-url-more",href:"en-US"===n?D.a.moreList.en:D.a.moreList.zh,target:"_blank",children:_.a.get("sunSwap.more.more")}),Object($.jsx)("a",{href:"".concat(D.a.justList,"?lang=").concat(n,"#/home"),className:"home-select-url-home",target:"justList",children:_.a.get("sunSwap.list.view_list_home")})]})]})},p.hideSolorModal=function(){p.props.sunSwapPool.setData({solorModalVisible:!1})},p.state={lang:window.localStorage.getItem("lang")||_.a.options.currentLocale,tokenStr:"",defaultStatus:1,removeModalVisible:!1,removeText:"",removeId:"",solor:JSON.parse(window.localStorage.getItem("solor")||"[]"),customTokenUri:"",customTokenUriLeg:!0,errInfo:"",tokenSort:!1,checkStatus:!1,dealWarningVisible:!1,selectSearchItem:"",tokenList:[],tokenMap:{},originalTokenList:[]},p}return Object(w.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.defaultStatus,a=t.removeText,s=t.removeModalVisible,o=(t.adjust,t.dealWarningVisible),r=t.callbacks,i=t.selectSearchItem,c=this.props.sunSwapPool,l=c.byUrl,p=c.selectedListUrl;return Object($.jsxs)(g.a.Fragment,{children:[Object($.jsx)(G.a,{visible:this.props.modalVisible,onChange:this.setInitToken}),Object($.jsx)(T.a,{title:1===n?Object($.jsxs)("div",{className:"n-token-modal-title",children:[Object($.jsx)("span",{children:_.a.get("sunSwap.tokens.add_choose_select")}),Object($.jsx)(M.a,{zIndex:1e4,placement:"bottomLeft",title:_.a.get("tokens.add_choose_select_tip"),children:Object($.jsx)(H.a,{className:"n-token-modal-title-icon",color:"rgba(255, 255, 255, .5)"})})]}):Object($.jsx)("div",{className:"n-token-modal-title",children:Object($.jsxs)("div",{className:"list-modal-header",children:[Object($.jsx)(W.a,{onClick:function(){return e.hideListModal()},style:{marginRight:10}}),Object($.jsx)("span",{className:"add-title",children:_.a.get("sunSwap.list.select_list")})]})}),closable:!0,open:this.props.modalVisible,onCancel:function(){e.props.onCancel()},className:U()({"dark-modal":!0,"token-select-modal":!0,"token-select-list-modal":1!==n}),footer:null,width:405,centered:!0,children:Object($.jsx)($.Fragment,{children:1===n?this.renderSelectedList(l,p):this.renderTokensCategory()})}),Object($.jsxs)(T.a,{title:"",closable:!1,open:s,footer:null,width:420,className:"list-remove-modal sun-swap-modal",transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:[Object($.jsx)("div",{className:"title",children:_.a.get("sunSwap.list.remove_confirm")}),Object($.jsx)("div",{className:"tips",children:_.a.get("sunSwap.list.remove_confirm_tip")}),Object($.jsx)("input",{type:"text",className:"list-input w-80",value:a,onChange:this.inputRemoveText}),Object($.jsxs)("div",{className:"btns",children:[Object($.jsx)("button",{onClick:this.removeTokens,disabled:a.trim()!==ee,children:_.a.get("sunSwap.list.confirm")}),Object($.jsx)("button",{onClick:this.hideRemoveModal,children:_.a.get("sunSwap.list.cancel")})]})]}),o&&Object($.jsx)(X.a,{visible:o,cb:r,dealWarningSymbol:i.tokenAddress})]})}}]),n}(g.a.Component))||a)||a,ne=te,ae=n(1059),se=n(1215),oe=n(1170),re=n(88),ie=n(1146),ce=n(342),le=(n(1865),Object(A.b)("sunSwapNetwork")(s=Object(A.b)("sunSwapPool")(s=Object(A.b)("network")(s=Object(A.c)(s=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var a,s;return Object(h.a)(this,n),(s=t.call(this,e)).cancel=function(){s.state.actionStarted?s.setState({miniPopVisible:!0}):(s.setState({addVisible:!1}),s.props.hideAddModal())},s.initAddModal=function(){var e=s.props.sunSwapPool.liqToken,t=e.fromToken,n=e.toToken,a=e.tokenOneValue,o=e.tokenTwoValue,r=new z.a(a),i=new z.a(o),c=!0,l=!0;(Object(z.a)(t.approvedAmount).gte(r)||t.tokenAddress===D.a.trxFakeAddress||t.tokenAddress===D.a.wtrxAddress)&&(c=!1),(Object(z.a)(n.approvedAmount).gte(i)||n.tokenAddress===D.a.trxFakeAddress||n.tokenAddress===D.a.wtrxAddress)&&(l=!1),s.setState({needApproveOne:c,needApproveTwo:l,supplyPopBtn:_.a.get("sunSwap.pool.popup_supply_btn"),supplyPopBtnDisabled:!1,supplyErrorInfo:"",createActionTitle:_.a.get("sunSwap.action.createActV2",{token1:t.tokenSymbol,token2:n.tokenSymbol}),createActionError:_.a.get("sunSwap.action.createActErr"),createActionFailed:_.a.get("sunSwap.action.createActFailed"),createActionState:"success",approveActionTwoTitle:_.a.get("sunSwap.action.approveAct",{token:n.tokenSymbol}),approveActionOneTitle:_.a.get("sunSwap.action.approveAct",{token:t.tokenSymbol}),approveActionOneError:_.a.get("sunSwap.action.approveActErr"),approveActionTwoError:_.a.get("sunSwap.action.approveActErr"),approveActionOneState:"",approveActionTwoState:"",supplyActionTitle:_.a.get("sunSwap.action.supplyAct"),supplyActionError:_.a.get("sunSwap.action.supplyActErr"),supplyActionState:"",actionInfo:_.a.get("sunSwap.action.startBtn"),actionDisabled:!0,actionRetry:"",baseActionState:c||l?"line":"info",actionStarted:!1,successOneValueStr:"",successTwoValueStr:"",miniPopVisible:!1},(function(){return s.setState({addVisible:!0},(function(){s.onRetryAction()}))}))},s.onRetryAction=function(){var e=s.state,t=e.needApproveOne,n=e.needApproveTwo,a=e.actionRetry;switch(a||(t?a="setApproveOne":n&&(a="setApproveTwo")),a){case"setApproveOne":s.setState({approveActionOneState:"start",actionInfo:_.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){s.setApprove("one")}));break;case"setApproveTwo":s.setState({approveActionOneState:"success",approveActionTwoState:"start",actionInfo:_.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){s.setApprove("two")}));break;case"supplyLiquidity":s.setState({swapActionState:"start",actionInfo:_.a.get("sunSwap.action.startBtn"),actionDisabled:!1},(function(){s.supplyLiquidity()}))}},s.setApproveBarText=function(e,t){t?("one"===e&&s.setState({approveActionOneState:"pending",actionInfo:_.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0},(function(){setTimeout((function(){s.setState({approveActionOneState:"success",approveActionTwoState:"start"})}),5e3)})),"two"===e&&s.setState({approveActionTwoState:"pending",actionInfo:_.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0},(function(){setTimeout((function(){s.setState({approveActionTwoState:"success",baseActionState:"info"})}),5e3)}))):("one"===e&&s.setState({approveActionOneState:"error"}),"two"===e&&s.setState({approveActionTwoState:"error"}),s.setState({actionRetry:"one"===e?"setApproveOne":"setApproveTwo",actionInfo:_.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0}))},s.setApprove=function(e){return(a=a||Object(f.a)(Object(k.a)().mark((function e(t){var n,a,o,r,i,c,l;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.state.needApproveTwo,a=s.props.sunSwapPool.liqToken,o=a.fromToken,r=a.toToken,i=D.a.v2Contract.router,c=r,"one"===t&&(c=o),l={title:"pool.add_approve_token",obj:{token:c.tokenSymbol}},e.next=9,Object(re.f)(c.tokenAddress,i,l);case 9:e.sent?(s.setApproveBarText(t,!0),"one"===t?s.setState({needApproveOne:!1},(function(){n?s.setState({actionRetry:"setApproveTwo"},(function(){s.onRetryAction()})):s.setState({baseActionState:"info"},(function(){}))})):s.setState({needApproveTwo:!1})):s.setApproveBarText(t,!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s.beforeSupplyLiquidity=Object(f.a)(Object(k.a)().mark((function e(){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({actionStarted:!0,supplyPopBtn:_.a.get("sunSwap.action.startBtn"),supplyPopBtnDisabled:!0},(function(){s.supplyLiquidity()}));case 1:case"end":return e.stop()}}),e)}))),s.supplyLiquidity=Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,o,r,i,c,l,p,u,d,b,m,j,h,w,O,x,v,g,S,A,T,y,N,P,V,C,q,L,I,F,B;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.state,n=t.needApproveOne,a=t.needApproveTwo,o=s.props.sunSwapPool,r=o.liqToken,i=o.exchangeInfo,c=s.props.needCreate,l=r.tokenOneValue,p=r.tokenTwoValue,u=r.fromToken,d=r.toToken,b=s.props.sunSwapNetwork.settingSlippageV2,m=s.props.network.defaultAccount,b=Number(b),w=new z.a(l),O=new z.a(p),x=w.times(new z.a(10).pow(u.tokenDecimal)),v=O.times(new z.a(10).pow(d.tokenDecimal)),i.poolExTokenOne.gt(0)?(j="0x".concat(w.times(1-b/100).times(new z.a(10).pow(u.tokenDecimal)).integerValue(z.a.ROUND_DOWN).toString(16)),h="0x".concat(O.times(1-b/100).times(new z.a(10).pow(d.tokenDecimal)).integerValue(z.a.ROUND_DOWN).toString(16))):(j=x,h=v),g={title:"sunSwap.pair_actions.add",obj:{trxAmount:Object(z.k)(w.toString(),u.tokenDecimal),trx:u.tokenSymbol,tokenAmount:Object(z.k)(O.toString(),d.tokenDecimal),tokenSymbol:d.tokenSymbol}},S=l.toString(),A=p.toString(),T="",u.tokenAddress!==D.a.trxFakeAddress&&d.tokenAddress!==D.a.trxFakeAddress){e.next=36;break}return y=u.tokenAddress===D.a.trxFakeAddress?d:u,N=u.tokenAddress===D.a.trxFakeAddress?O:w,P=new z.a(10).pow(y.tokenDecimal),e.t0=y.tokenAddress,e.t1=N.times(P)._toIntegerDown()._toHex(),e.t2=u.tokenAddress===D.a.trxFakeAddress?Object(z.a)(h)._toIntegerDown()._toHex():Object(z.a)(j)._toIntegerDown()._toHex(),e.t3=u.tokenAddress===D.a.trxFakeAddress?Object(z.a)(j)._toIntegerDown()._toHex():Object(z.a)(h)._toIntegerDown()._toHex(),e.t4=m,e.next=27,Object(re.g)(s.props.sunSwapNetwork.settingDeadlineV2);case 27:return e.t5=e.sent,e.t6=c,V={token:e.t0,amountTokenDesired:e.t1,amountTokenMin:e.t2,amountETHMin:e.t3,to:e.t4,deadline:e.t5,needCreate:e.t6},C=u.tokenAddress===D.a.trxFakeAddress?x:v,e.next=33,Object(re.c)(V,g,Object(z.a)(C)._toIntegerDown()._toHex());case 33:T=e.sent,e.next=53;break;case 36:return q=new z.a(10).pow(u.tokenDecimal),L=new z.a(10).pow(d.tokenDecimal),e.t7=u.tokenAddress,e.t8=d.tokenAddress,e.t9=w.times(q)._toIntegerDown()._toHex(),e.t10=O.times(L)._toIntegerDown()._toHex(),e.t11=Object(z.a)(j)._toIntegerDown()._toHex(),e.t12=Object(z.a)(h)._toIntegerDown()._toHex(),e.t13=m,e.next=47,Object(re.g)(s.props.sunSwapNetwork.settingDeadlineV2);case 47:return e.t14=e.sent,e.t15=c,I={tokenA:e.t7,tokenB:e.t8,amountADesired:e.t9,amountBDesired:e.t10,amountAMin:e.t11,amountBMin:e.t12,to:e.t13,deadline:e.t14,needCreate:e.t15},e.next=52,Object(re.d)(I,g);case 52:T=e.sent;case 53:T?(F={supplyErrorInfo:"",supplyPopBtn:_.a.get("sunSwap.action.doingBtn"),supplyPopBtnDisabled:!0,actionStarted:!0},(n||a)&&(F={actionInfo:_.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,supplyActionState:"pending",baseActionState:"line",actionStarted:!0}),s.setState(F,(function(){setTimeout(Object(f.a)(Object(k.a)().mark((function e(){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({actionRetry:"",baseActionState:"success",actionStarted:!1,successOneValueStr:S,successTwoValueStr:A}),r.tokenOneValue=-1,r.tokenTwoValue=-1,s.props.sunSwapPool.setData({liqToken:r});case 4:case"end":return e.stop()}}),e)}))),5e3)}))):(B={supplyErrorInfo:_.a.get("sunSwap.action.supplyActErr"),supplyPopBtn:_.a.get("sunSwap.action.retryBtn"),supplyPopBtnDisabled:!1,actionStarted:!0},(n||a)&&(B={baseActionState:"line",supplyActionState:"error",actionRetry:"supplyLiquidity",actionInfo:_.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0}),s.setState(B));case 54:case"end":return e.stop()}}),e)}))),s.gotoPool=function(){var e,t={fromToken:{tokenSymbol:"TRX",tokenAddress:D.a.trxFakeAddress,tokenDecimal:D.a.trxDecimal,trxBalance:new z.a(0),tokenBalance:new z.a(0),approvedAmount:new z.a(re.a),tokenLogoUrl:D.a.trxLogoUrl},fromBalance:null===(e=s.props.network.trxBalance)||void 0===e?void 0:e.balance,toToken:{tokenAddress:"",tokenSymbol:"",approvedAmount:new z.a(0)},toBalance:new z.a(-1),tokenList:[],allTokenList:[],tokenMap:{},tokenStr3:"",tokenStr4:"",pairAddress:"",tokenOneValue:-1,tokenTwoValue:-1};s.props.sunSwapPool.setData({liqToken:t}),s.props.sunSwapPool.setData({exchangeInfo:{price1:"--",price2:"--",myExTokenOne:new z.a(0),myExTokenTwo:new z.a(0),pairTokens:new z.a(0),poolExTokenOne:new z.a(0),poolExTokenTwo:new z.a(0),totalSupply:new z.a(0)}}),s.setState({}),s.setState({addVisible:!1}),s.props.onSuccess()},s.miniPopOk=function(){var e=s.props.sunSwapPool.liqToken,t=e.fromToken,n=e.toToken,a=e.tokenOneValue,o=e.tokenTwoValue,r=new z.a(a),i=new z.a(o);s.setState({miniPopVisible:!1,addVisible:!1},Object(f.a)(Object(k.a)().mark((function e(){var a,o,c,l,p,u,d,b;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.props.hideAddModal(),!Object(z.a)(n.approvedAmount).lt(i)&&!Object(z.a)(t.approvedAmount).lt(r)){e.next=15;break}return a=s.props.sunSwapPool.liqToken,o=a.fromToken,c=a.toToken,l=s.props.network.defaultAccount,e.next=7,Object(re.n)(l,o.tokenAddress,c.tokenAddress);case 7:p=e.sent,u=p.exchangeAddr,d=p.allowanceA,b=p.allowanceB,u&&s.setState({exchangeStatus:0}),o.approvedAmount=d.div(new z.a(10).pow(o.tokenDecimal)),c.approvedAmount=b.div(new z.a(10).pow(c.tokenDecimal)),s.setState({liqToken:a});case 15:case"end":return e.stop()}}),e)}))))},s.miniPopCancel=function(){s.setState({miniPopVisible:!1})},s.state={actionStarted:!1},s}return Object(w.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.sunSwapPool,n=t.liqToken,a=t.exchangeInfo,s=a.poolExTokenOne,o=a.poolExTokenTwo,r=a.totalSupply,i=n.fromToken,c=n.toToken,l=n.tokenOneValue,p=n.tokenTwoValue,u=new z.a(l),d=new z.a(p),b=this.props.sunSwapNetwork.settingSlippageV2,m=this.props.shareOfPool,j=this.state,k=j.successOneValueStr,f=j.successTwoValueStr,h=u.times(Object(z.a)(10).pow(i.tokenDecimal)).times(d.times(Object(z.a)(10).pow(c.tokenDecimal))).sqrt().div(D.a.defaultTokenPrecision),w=d.div(u),O=u.div(d);if(Object(z.a)(a.poolExTokenOne).gt(0)){var x=u.times(r).div(s),v=d.times(r).div(o);h=x.lt(v)?x:v,w=a.price2,O=a.price1}var g=Object(z.l)(h,{dp:D.a.defaultTokenDecimal,cutZero:!0}),S=Object(z.l)(m,{dp:2,cutZero:!0});isNaN(S)?S="--":Object(z.a)(m).gt(0)&&Object(z.a)(m).lt(.01)&&(S="<0.01");var A=this.state,y=A.baseActionState,N=A.supplyPopBtn,P=A.supplyPopBtnDisabled,V=A.supplyErrorInfo,C=A.actionDisabled,q=A.actionInfo,L=A.approveActionOneState,I=A.approveActionTwoState,F=A.approveActionOneError,B=A.approveActionTwoError,E=A.approveActionOneTitle,M=A.approveActionTwoTitle,R=A.supplyActionState,U=A.supplyActionError,H=A.supplyActionTitle,W=A.createActionState,J=A.createActionError,X=A.createActionFailed,Y=A.createActionTitle,Z=A.addVisible;return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(T.a,{title:null,closable:"success"!==y,open:this.props.visible||Z,onCancel:this.cancel,className:"pool-modal add-gai sun-swap-modal",footer:null,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:["line"===y&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{className:"title normal",children:_.a.get("sunSwap.swap.action_supply")}),Object($.jsxs)("div",{className:"ib-parent center",children:[Object($.jsxs)("div",{children:[Object($.jsx)("span",{className:"add-value",children:l}),Object($.jsx)("span",{className:"add-token",children:i.tokenSymbol})]}),Object($.jsx)("span",{className:"plus",children:"+"}),Object($.jsxs)("div",{children:[Object($.jsx)("span",{className:"add-value",children:p}),Object($.jsx)("span",{className:"add-token",children:c.tokenSymbol})]})]}),Object($.jsx)("div",{className:"supplyLineTitle",children:_.a.get("sunSwap.action.supplyLineTitle")}),this.props.needCreate?Object($.jsxs)(se.a,{children:[Object($.jsx)("span",{status:W,err:J,failed:X,children:Y}),"success"!==L&&Object($.jsx)("span",{status:L,err:F,children:E}),"success"!==I&&Object($.jsx)("span",{status:I,err:B,children:M}),Object($.jsx)("span",{status:R,err:U,children:H})]}):Object($.jsxs)(se.a,{children:["success"!==L&&Object($.jsx)("span",{status:L,err:F,children:E}),"success"!==I&&Object($.jsx)("span",{status:I,err:B,children:M}),Object($.jsx)("span",{status:R,err:U,children:H})]}),Object($.jsx)(ae.a,{type:"single",disabled:C,info:q,onClick:this.onRetryAction})]}),"info"===y&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{children:_.a.get("sunSwap.pool.popup_receive_title")}),Object($.jsxs)("div",{className:"amount",children:[Object($.jsxs)("div",{className:"center",children:[Object($.jsx)("p",{className:"amount-num",children:g}),Object($.jsx)("p",{className:"amount-name",children:Object($.jsx)("span",{children:i.tokenSymbol+"/"+c.tokenSymbol+" "+_.a.get("sunSwap.pool.popup_tokens_text")})})]}),Object($.jsx)("p",{className:"amount-tip left",children:_.a.get("sunSwap.pool.popup_receive_tip",{value:b})})]}),Object($.jsxs)("div",{className:"price",children:[Object($.jsxs)("p",{className:"flex param",children:[Object($.jsx)("span",{className:"price-key",children:i.tokenSymbol+" "+_.a.get("sunSwap.pool.popup_deposited_text")}),Object($.jsxs)("span",{className:"price-value",children:[Object($.jsx)("img",{src:i.tokenLogoUrl||ce.a,alt:"",onError:function(e){e.target.onerror=null,e.target.src=ce.a}}),Object($.jsx)("span",{children:l})]})]}),Object($.jsxs)("p",{className:"flex param",children:[Object($.jsx)("span",{className:"price-key",children:c.tokenSymbol+" "+_.a.get("sunSwap.pool.popup_deposited_text")}),Object($.jsxs)("span",{className:"price-value",children:[Object($.jsx)("img",{src:c.tokenLogoUrl||ce.a,alt:"",onError:function(e){e.target.onerror=null,e.target.src=ce.a}}),Object($.jsx)("span",{children:p})]})]}),Object($.jsxs)("div",{className:"flex param",children:[Object($.jsx)("span",{className:"price-key",children:_.a.get("sunSwap.pool.popup_rates_text")}),Object($.jsxs)("div",{className:"price-value ib",children:[Object($.jsxs)("p",{children:["1 ",i.tokenSymbol," ="," ",Object(z.a)(1).div(Object(z.a)(10).pow(Number(c.tokenDecimal))).gt(w)?"< "+Object(z.a)(1).div(Object(z.a)(10).pow(Number(c.tokenDecimal))).toString():Object(z.l)(w,{dp:c.tokenDecimal,cutZero:!0})," ",c.tokenSymbol]}),Object($.jsxs)("p",{children:["1 ",c.tokenSymbol," ="," ",Object(z.a)(1).div(Object(z.a)(10).pow(Number(i.tokenDecimal))).gt(O)?"< "+Object(z.a)(1).div(Object(z.a)(10).pow(Number(i.tokenDecimal))).toString():Object(z.l)(O,{dp:i.tokenDecimal,cutZero:!0})," ",i.tokenSymbol]})]})]}),Object($.jsxs)("div",{className:"flex between mb30",children:[Object($.jsx)("div",{className:"share-title",children:_.a.get("sunSwap.pool.popup_share_text")}),Object($.jsxs)("div",{className:"v-right",children:[S,"%"]})]})]}),V&&Object($.jsx)("div",{className:"errorMsg",children:V}),Object($.jsx)(ae.a,{type:"single",disabled:P,info:N,onClick:function(){return e.beforeSupplyLiquidity()}})]}),"success"===y&&Object($.jsx)($.Fragment,{children:Object($.jsxs)("div",{className:"modal-success",children:[Object($.jsx)("img",{src:ie.a,alt:""}),Object($.jsx)("div",{className:"title green",children:_.a.get("sunSwap.action.supplySuccessTitle")}),Object($.jsxs)("div",{className:"ib-parent center mb40",children:[Object($.jsxs)("div",{children:[Object($.jsx)("span",{className:"add-value",children:k}),Object($.jsx)("span",{className:"add-token",children:i.tokenSymbol})]}),Object($.jsx)("span",{className:"plus",children:"+"}),Object($.jsxs)("div",{children:[Object($.jsx)("span",{className:"add-value",children:f}),Object($.jsx)("span",{className:"add-token",children:c.tokenSymbol})]})]}),Object($.jsx)(ae.a,{type:"single",info:_.a.get("sunSwap.action.closeBtn"),onClick:this.gotoPool}),Object($.jsx)("div",{className:"supplyDescTitle",children:_.a.get("sunSwap.action.supplyDescTitle")})]})})]}),Object($.jsx)(oe.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}}]),n}(g.a.Component))||s)||s)||s)||s),pe=le,ue=n(1370),de=n(1145),be=n(1931),me=n(1933),je=n(1306),ke=Object(A.b)("sunSwapNetwork")(o=Object(A.b)("sunSwapPool")(o=Object(A.c)(o=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).cancel=function(){a.props.cancel&&a.props.cancel()},a.state={},a}return Object(w.a)(n,[{key:"render",value:function(){var e=this.props,t=e.exchangeStatus,n=e.shareOfPool,a=e.loading,s=e.firstCreateInfoVisible,o=this.props.sunSwapPool,r=o.liqToken,i=o.exchangeInfo,c=r.fromToken,l=r.toToken,p=r.tokenOneValue,u=r.tokenTwoValue,d=new z.a(p),b=new z.a(u),m="--",j="--";"--"!==i.price1&&(m=i.price1._toFixed(4,1)),"--"!==i.price2&&(j=i.price2._toFixed(4,1)),b.gt(0)&&d.gt(0)&&(0===t||1===t)&&(m=d.div(b),j=b.div(d));var k="--",f="--";k="--"===m?m:Object(z.a)(m).lt(1e-4)?"< 0.0001":Object(z.a)(m)._toFixed(4,1),f="--"===j?j:Object(z.a)(j).lt(1e-4)?"< 0.0001":Object(z.a)(j)._toFixed(4,1);var h=n._toFixed(2,1);return isNaN(h)?h="--":n.gt(0)&&n.lt(.01)&&(h="<0.01"),Object($.jsxs)(be.a,{className:"exchange-info",gutter:{xs:8,sm:16,md:24},children:[Object($.jsxs)(me.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-30",children:[Object($.jsx)("div",{className:ue.pool_info_title,children:0===t||1===t?_.a.get("sunSwap.pool.create_initial_title"):_.a.get("sunSwap.pool.add_price_title")}),Object($.jsx)(de.a,{items:[{label:_.a.get("sunSwap.pool.add_unit_text",{toToken:l.tokenSymbol||"--",fromToken:c.tokenSymbol||"--"}),value:k},{label:_.a.get("sunSwap.pool.add_unit_text",{toToken:c.tokenSymbol||"--",fromToken:l.tokenSymbol||"--"}),value:f},{label:_.a.get("sunSwap.pool.add_share_text"),value:h+"%"}]})]}),!a&&s&&Object($.jsx)(me.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-30",style:{marginTop:64},children:Object($.jsx)(je.a,{title:_.a.get("sunSwap.pool.create_firstProv_bold"),content:_.a.get("sunSwap.pool.create_first_tip1")})}),0===t||1===t?null:Object($.jsxs)(me.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-30",children:[Object($.jsxs)("div",{className:"flex",children:[Object($.jsx)("span",{className:U()("flex-1",ue.pool_info_title),children:_.a.get("sunSwap.pool.base_posi_title")}),Object($.jsxs)("p",{className:ue.pool_logo,children:[Object($.jsx)("img",{src:c.tokenLogoUrl||ce.a,onError:function(e){e.target.onerror=null,e.target.src=ce.a},alt:""}),Object($.jsx)("img",{className:"ml--6",src:l.tokenLogoUrl||ce.a,onError:function(e){e.target.onerror=null,e.target.src=ce.a},alt:""}),Object($.jsx)("span",{children:c.tokenSymbol||"--"}),Object($.jsx)("span",{className:"symbol",children:"/"}),Object($.jsx)("span",{children:l.tokenSymbol||"--"})]})]}),Object($.jsx)(de.a,{items:[{label:c.tokenSymbol||"--",value:i.myExTokenOne.lt(1e-4)&&i.myExTokenOne.gt(0)?"<0.0001":i.myExTokenOne._toFixed(4,1)},{label:l.tokenSymbol||"--",value:i.myExTokenTwo.lt(1e-4)&&i.myExTokenTwo.gt(0)?"<0.0001":i.myExTokenTwo._toFixed(4,1)},{label:_.a.get("sunSwap.pool.add_tokens_text"),value:i.pairTokens.lt(1e-4)&&i.pairTokens.gt(0)?"<0.0001":i.pairTokens._toFixed(4,1)}]})]})]})}}]),n}(g.a.Component))||o)||o)||o,fe=n(1307),he=n(1134),we=n(338),Oe=Object(A.b)("sunSwapNetwork")(r=Object(A.b)("sunSwapPool")(r=Object(A.b)("network")(r=Object(A.c)(r=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var a,s,o,r;return Object(h.a)(this,n),(r=t.call(this,e)).componentDidMount=Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=r.props.sunSwapPool.liqToken,n=t.fromToken,a=t.toToken,n.tokenAddress!==D.a.wtrxAddress&&a.tokenAddress!==D.a.wtrxAddress||(t.fromToken={tokenAddress:"",tokenSymbol:"",approvedAmount:new z.a(0)},t.toToken={tokenAddress:"",tokenSymbol:"",approvedAmount:new z.a(0)},r.props.sunSwapPool.setData({liqToken:t})),s=setInterval((function(){r.props.network.isConnected&&(r.timer=setInterval((function(){r.afterSelectedToken(a,!1),r.afterSelectedToken(n,!1)}),6e3),r.afterSelectedToken(a,!0),r.afterSelectedToken(n,!0),clearInterval(s))}),1e3),r.initTokenBalance(),e.next=8,r.props.sunSwapPool.setTokenList(3);case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])}))),r.componentWillUnmount=function(){clearInterval(r.timer)},r.setActivePage=function(e){var t=r.props.sunSwapPool.liqToken;t.fromBalance=new z.a(-1),t.toBalance=new z.a(-1),t.tokenOneValue=-1,t.tokenTwoValue=-1,r.setState({fromOrTo:0,bothInputHasNum:!1}),r.props.sunSwapPool.setData({liqToken:t}),r.setState({}),r.props.sunSwapPool.setData({actionLiqV2:e})},r.initInputInfo=function(){var e=r.props.sunSwapPool.liqToken;e.tokenOneValue=-1,e.tokenTwoValue=-1,e.toBalance=new z.a(-1),r.setState({fromOrTo:0,bothInputHasNum:!1}),r.props.sunSwapPool.setData({liqToken:e})},r.initTokenBalance=Object(f.a)(Object(k.a)().mark((function e(){var t,n,a;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.props.network.isConnected&&(t=r.props.sunSwapPool.liqToken,n=t.fromToken,a=t.toToken,n.tokenAddress&&r.getTokenBalance(n,"from"),a.tokenAddress&&r.getTokenBalance(a,"to"));case 1:case"end":return e.stop()}}),e)}))),r.getTokenBalance=function(e,t){return(a=a||Object(f.a)(Object(k.a)().mark((function e(t,n){var a,s,o,i,c,l,p,u;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.props.network.defaultAccount,s=r.props.sunSwapPool,o=s.fromBalance,i=s.toBalance,e.next=4,Object(re.i)(a,[t.tokenAddress]);case 4:c=e.sent,l=c[0].div(new z.a(10).pow(t.tokenDecimal)),"from"!==n||l.eq(o)||((p=r.props.sunSwapPool.liqToken).fromBalance=l,r.props.sunSwapPool.setData({liqToken:p}),r.setShareOfPool()),"to"!==n||l.eq(i)||((u=r.props.sunSwapPool.liqToken).toBalance=l,r.props.sunSwapPool.setData({liqToken:u}),r.setShareOfPool());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r.setInsufficient=function(e,t,n,a){var s=n.tokenSymbol;Object(z.a)(e).gt(Object(z.a)(t))||isNaN(t.toNumber())?("from"===a&&r.setState({insufficientBalanceFrom:s}),"to"===a&&r.setState({insufficientBalanceTo:s})):("from"===a&&r.setState({insufficientBalanceFrom:""}),"to"===a&&r.setState({insufficientBalanceTo:""}))},r.setShareOfPool=function(){var e=r.props.sunSwapPool,t=e.exchangeInfo,n=e.liqToken,a=n.fromBalance,s=n.toBalance,o=n.fromToken,i=n.toToken,c=n.tokenOneValue,l=n.tokenTwoValue,p=new z.a(c),u=new z.a(l),d=t.poolExTokenOne,b=t.poolExTokenTwo;r.setInsufficient(p,a,o,"from"),r.setInsufficient(u,s,i,"to"),p.gt(0)&&u.gt(0)&&(d.gt(0)||b.gt(0))?r.setState({bothInputHasNum:!0,shareOfPool:p.div(p.plus(d)).times(100)||u.div(u.plus(b)).times(100)}):"--"===t.price1&&p.gt(0)&&u.gt(0)?r.setState({bothInputHasNum:!0,shareOfPool:new z.a(100)}):r.setState({bothInputHasNum:!1,shareOfPool:new z.a(0)})},r.setInputValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new z.a(-1),n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=r.props.sunSwapPool,s=a.exchangeInfo,o=a.liqToken,i=o.tokenTwoValue,c=o.tokenOneValue,l=o.fromToken,p=o.toToken,u=o.fromBalance,d=o.toBalance,b=new z.a(c),m=new z.a(i);if(l.tokenAddress&&p.tokenAddress&&"--"!==s.price1){if(4===e){var j=m;t.eq(-1)||(j=t);var k=j.times(s.price1),f="";k.gt(0)&&(f=k._toFixed(Number(l.tokenDecimal),1)),Object(z.D)(f).gt(u)&&n?r.setMaxValue(3):(o.tokenOneValue=f,r.props.sunSwapPool.setData({liqToken:o}),r.setShareOfPool())}else if(3===e){var h=b;t.eq(-1)||(h=t);var w=h.div(s.price1),O="";w.gt(0)&&(O=w._toFixed(Number(p.tokenDecimal),1)),new z.a(O).gt(d)&&n?r.setMaxValue(4):(o.tokenTwoValue=O,r.props.sunSwapPool.setData({liqToken:o}),r.setShareOfPool())}}else 3===e&&(o.tokenOneBNValue=t),4===e&&(o.tokenTwoBNValue=t),r.props.sunSwapPool.setData({liqToken:o}),r.setShareOfPool()},r.initExchangeInfo=function(){r.props.sunSwapPool.setData({exchangeInfo:{price1:"--",price2:"--",myExTokenOne:new z.a(0),myExTokenTwo:new z.a(0),pairTokens:new z.a(0),poolExTokenOne:new z.a(0),poolExTokenTwo:new z.a(0),totalSupply:new z.a(0)}})},r.afterSelectedToken=function(e){return(s=s||Object(f.a)(Object(k.a)().mark((function e(t){var n,a,s,o,i,c,l,p,u,d,b,m,j,f,h,w,O,x,v,g,S,_,A,T,y,N=arguments;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(N.length>1&&void 0!==N[1])||N[1],t.tokenAddress){e.next=3;break}return e.abrupt("return");case 3:if(a=r.state.fromOrTo,s=r.props.sunSwapPool.liqToken,o=s.tokenOneValue,i=s.tokenTwoValue,c=s.fromToken,l=s.toToken,p=new z.a(o),u=new z.a(i),n&&r.initInputInfo(),(4!==a||u.gt(0))&&(3!==a||p.gt(0))&&r.props.network.isConnected){e.next=11;break}return e.abrupt("return");case 11:return d=r.props.network.defaultAccount,e.next=14,Object(re.n)(d,c.tokenAddress,l.tokenAddress);case 14:b=e.sent,m=b.exchangeAddr,j=b.allowanceA,f=b.allowanceB,h=b.exTokenABalance,w=b.exTokenBBalance,O=b.totalLiquidity,x=b.userUniAmount,v=b.userTokenAAmount,g=b.userTokenBAmount,n&&(c.approvedAmount=j.div(new z.a(10).pow(c.tokenDecimal)),l.approvedAmount=f.div(new z.a(10).pow(l.tokenDecimal)),r.props.sunSwapPool.setData({liqToken:s})),m&&m!==D.a.trxFakeAddress?(S="--",_="--",O.gt(0)?(r.setState({exchangeStatus:2}),A=h.div(new z.a(10).pow(c.tokenDecimal)),T=w.div(new z.a(10).pow(l.tokenDecimal)),S=A.div(T),_=T.div(A),n||r.setInputValue(a),y=r.props.sunSwapPool.liqToken,y.pairAddress===m&&r.props.sunSwapPool.setData({exchangeInfo:{myExTokenOne:new z.a(v).div(new z.a(10).pow(c.tokenDecimal)),myExTokenTwo:new z.a(g).div(new z.a(10).pow(l.tokenDecimal)),pairTokens:new z.a(x).div(D.a.defaultTokenPrecision),totalSupply:new z.a(O).div(D.a.defaultTokenPrecision),price1:S,price2:_,poolExTokenOne:A,poolExTokenTwo:T}})):(r.setState({exchangeStatus:1}),n&&r.initExchangeInfo())):(r.setState({exchangeStatus:0,showMigrateBtn:!1}),n&&r.initExchangeInfo()),r.initTokenBalance();case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r.afterEnterNum=function(e,t){return(o=o||Object(f.a)(Object(k.a)().mark((function e(t,n){var a,s,o,i,c,l,p,u,d,b,m,j=arguments;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=j.length>2&&void 0!==j[2]&&j[2],r.state.fromOrTo=n,s=r.props.sunSwapPool.liqToken,o=s.fromBalance,i=s.toBalance,c=s.toToken,l=s.fromToken,!t){e.next=17;break}if(p=t,u=6,u=3===n?l.tokenDecimal:c.tokenDecimal,d=Object(z.w)(t.replace(/,/g,""),u),b=d.valid,m=d.str,!b){e.next=13;break}p=m,e.next=14;break;case 13:return e.abrupt("return");case 14:""===c.tokenSymbol||""===l.tokenSymbol?(3===n&&(s.tokenTwoValue=-1,s.tokenOneValue=p,r.props.sunSwapPool.setData({liqToken:s}),r.setInsufficient(p,o,l,"from")),4===n&&(s.tokenOneValue=-1,s.tokenTwoValue=p,r.props.sunSwapPool.setData({liqToken:s}),r.setInsufficient(p,i,c,"to"))):(3===n&&(s.tokenOneValue=p,r.props.sunSwapPool.setData({liqToken:s})),4===n&&(s.tokenTwoValue=p,r.props.sunSwapPool.setData({liqToken:s})),r.setInputValue(n,Object(z.a)(p),a)),e.next=18;break;case 17:r.initInputInfo();case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r.setMaxValue=function(e){try{var t=r.state.exchangeStatus,n=r.props.sunSwapPool.liqToken,a=n.fromBalance,s=n.toBalance,o=n.fromToken,i=n.toToken,c=a,l=s;c.gt(0)&&l.gt(0)||(c=Object(z.a)(0),l=Object(z.a)(0)),3===e?((0===t||1===t)&&o.tokenAddress&&i.tokenAddress||(n.tokenTwoValue=l.toString(),r.props.sunSwapPool.setData({liqToken:n})),n.tokenOneValue=c.toString(),r.props.sunSwapPool.setData({liqToken:n}),r.setShareOfPool(),s.gt(0)&&r.afterEnterNum(c._toFixed(Number(o.tokenDecimal),1),3,!0)):((0===t||1===t)&&o.tokenAddress&&i.tokenAddress||(n.tokenOneValue=c.toString(),r.props.sunSwapPool.setData({liqToken:n})),n.tokenTwoValue=l.toString(),r.props.sunSwapPool.setData({liqToken:n}),r.setShareOfPool(),a.gt(0)&&r.afterEnterNum(s._toFixed(Number(i.tokenDecimal),1),4,!0))}catch(p){console.log("setMAX error:",p)}},r.showAddModal=function(){r.addModalRef.current.initAddModal()},r.hideAddModal=function(){r.setState({addModalVisible:!1})},r.onChangeToken=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=r.props.sunSwapPool.liqToken,s=a.fromToken,o=a.toToken,i=e.tokenAddress;3===t&&i===s.tokenAddress&&!n||4===t&&i===o.tokenAddress&&!n||(3===t?(i===a.toToken.tokenAddress&&(a.toToken=a.fromToken),a.fromToken=Object(j.a)({},e),a.toBalance=new z.a(-1)):4===t&&(i===a.fromToken.tokenAddress&&(a.fromToken=a.toToken),a.toToken=Object(j.a)({},e),a.fromBalance=new z.a(-1)),Object(z.p)(a),r.props.sunSwapPool.setData({liqToken:a}),r.afterSelectedToken(e,!0),r.props.sunSwapPool.showModal(t,!1))},r.hideMigrateModal=function(e){r.setState({migrateModalVisbile:!1})},r.onChange=function(){r.props.sunSwapPool.setData({actionLiqV2:0})},r.useSafeMax=function(e){var t=r.state.exchangeStatus,n=r.props.sunSwapPool.liqToken,a=n.fromToken,s=n.toToken,o=n.fromBalance,i=n.toBalance,c=(0===t||1===t)&&s.tokenAddress&&a.tokenAddress?D.a.createFeeAmountV2:D.a.addFeeAmountV2;if("from"===e){var l=Object(z.b)(Object(z.D)(o).minus(c));r.afterEnterNum(l,3)}else if("to"===e){var p=Object(z.b)(Object(z.D)(i).minus(c));r.afterEnterNum(p,4)}},r.addLiquidityDisableChange=function(e){r.setState({disableAdd:e})},r.addModalRef=g.a.createRef(),r.tokenRef=g.a.createRef(),r.state={bothInputHasNum:!1,insufficientBalanceFrom:"",insufficientBalanceTo:"",exchangeStatus:-1,shareOfPool:new z.a(0),addModalVisible:!1,fromOrTo:0,showMigrateBtn:!1,migrateModalVisbile:!1,migrateDataV2:{},migrateData:{},migrateTip:"",status:!1,disableAdd:!1},r}return Object(w.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.bothInputHasNum,a=t.exchangeStatus,s=t.addModalVisible,o=t.insufficientBalanceFrom,r=t.insufficientBalanceTo,i=t.status,c=this.props.sunSwapPool,l=c.addLiqFromPools,p=c.liqToken,u=c.modalVisibleInfo,d=p.tokenOneValue,b=p.tokenTwoValue,m=p.fromToken,j=p.toToken,k=p.fromBalance,f=p.toBalance,h=new z.a(d),w=new z.a(b),O="";(o||r)&&(O=_.a.get("sunSwap.pool.add_insufficient_btn",{value:o||r}));var x=h.lt(1e-8)&&h.gt(0)||w.lt(1e-8)&&w.gt(0),v="";O&&(v=O),n&&!x||(v=_.a.get("sunSwap.pool.add_enter_btn"));var g;g=(0===a||1===a)&&j.tokenAddress&&m.tokenAddress;var S=Object(z.b)(h.gte(0)||d.toString().includes(".")?d:""),A=Object(z.b)(w.gte(0)||b.toString().includes(".")?b:""),T=null;T=setTimeout((function(){e.setState({status:!0}),clearTimeout(T)}),3e3);var y=g?D.a.createFeeAmountV2:D.a.addFeeAmountV2;return Object($.jsxs)("section",{className:"swap-and-pool",children:[Object($.jsx)(we.a,{callback:this.addLiquidityDisableChange}),x&&Object($.jsx)("p",{className:"fz14 first-pool-tip red",children:_.a.get("sunSwap.pool.mininum")}),Object($.jsxs)(be.a,{gutter:[{xs:8,sm:16,md:24},10],children:[Object($.jsxs)(me.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"swap-block",children:[Object($.jsxs)("div",{className:"flex select-token-top",children:[Object($.jsxs)("div",{className:m.tokenAddress?"flex":"flex sunswap-chose-token",children:[Object($.jsx)(fe.a,{showModal:function(){e.props.sunSwapPool.showModal(3)},token:m,disabled:l}),Object($.jsx)(ne,{modalVisible:u.visible3&&!l,onCancel:function(){return e.props.sunSwapPool.showModal(3,!1)},type:3,onChangeToken:function(t,n){e.onChangeToken(t,n||3)},ref:this.tokenRef}),Object($.jsx)(he.a,{token:m,showTrx:!0})]}),Object($.jsxs)("div",{className:"swap-balance",children:[Object($.jsx)("span",{children:_.a.get("sunSwap.swap.input_from_balance")}),Object($.jsx)("span",{children:k.gte(0)?Object(z.l)(k,{dp:6,cutZero:!0}):"--"})]})]}),Object($.jsxs)("div",{className:"flex input-block mt-16",children:[Object($.jsx)("div",{className:"flex input-number",children:Object($.jsx)("input",{type:"type",className:"token-sec-input token-sec-input-1",placeholder:_.a.get("sunSwap.pool.add_placeholder_text"),onChange:function(t){return e.afterEnterNum(t.target.value,3)},value:S})}),this.props.network.isConnected?Object($.jsx)("span",{className:"max-btn",onClick:function(t){return e.setMaxValue(3)},children:_.a.get("sunSwap.swap.input_from_max")}):null]})]}),Object($.jsxs)(me.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"swap-block",children:[Object($.jsxs)("div",{className:"flex select-token-top",children:[Object($.jsxs)("div",{className:j.tokenAddress?"flex":"flex sunswap-chose-token",children:[Object($.jsx)(fe.a,{showModal:function(){return e.props.sunSwapPool.showModal(4)},token:j,disabled:l}),Object($.jsx)(ne,{modalVisible:u.visible4&&!l,onCancel:function(){return e.props.sunSwapPool.showModal(4,!1)},type:4,onChangeToken:function(t,n){e.onChangeToken(t,n||4)}}),Object($.jsx)(he.a,{token:j,showTrx:!0})]}),Object($.jsxs)("div",{className:"swap-balance",children:[Object($.jsx)("span",{children:_.a.get("sunSwap.swap.input_to_balance")}),Object($.jsx)("span",{children:f.gte(0)?Object(z.l)(f,{dp:6,cutZero:!0}):"--"})]})]}),Object($.jsxs)("div",{className:"flex input-block mt-16",children:[Object($.jsx)("div",{className:"flex input-number",children:Object($.jsx)("input",{type:"type",className:"token-sec-input token-sec-input-2",placeholder:_.a.get("sunSwap.pool.add_placeholder_text"),onChange:function(t){return e.afterEnterNum(t.target.value,4)},value:A})}),this.props.network.isConnected?Object($.jsx)("span",{className:"max-btn",onClick:function(t){return e.setMaxValue(4)},children:_.a.get("sunSwap.swap.input_from_max")}):null]})]}),Object($.jsx)(me.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"swap-block"})]}),j.tokenAddress&&m.tokenAddress&&Object($.jsx)(ke,{exchangeStatus:this.state.exchangeStatus,shareOfPool:this.state.shareOfPool,loading:!i,firstCreateInfoVisible:g}),Object($.jsxs)(be.a,{gutter:{xs:8,sm:16,md:24},children:[Object($.jsx)(me.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-20",children:i&&"TRX"===m.tokenSymbol&&S?Object(z.D)(k).lt(y)?Object($.jsx)("div",{className:"warning-amount-tip",children:_.a.getHTML("list.trx_tip_3",{value:y})}):Object(z.D)(k).minus(y).lt(Object(z.D)(S))?Object($.jsxs)("div",{className:"safe-amount-tip",children:[_.a.getHTML("list.trx_tip_1",{value:y})," ",Object($.jsx)("span",{className:"safe-amount-set-btn",onClick:function(){return e.useSafeMax("from")},children:_.a.get("sunSwap.list.trx_tip_2")})]}):null:null}),Object($.jsx)(me.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-20",children:i&&"TRX"===j.tokenSymbol&&A?Object(z.D)(f).lt(y)?Object($.jsx)("div",{className:"warning-amount-tip",children:_.a.getHTML("list.trx_tip_3",{value:y})}):Object(z.D)(f).minus(y).lt(Object(z.D)(A))?Object($.jsxs)("div",{className:"safe-amount-tip",children:[_.a.getHTML("list.trx_tip_1",{value:y})," ",Object($.jsx)("span",{className:"safe-amount-set-btn",onClick:function(){return e.useSafeMax("to")},children:_.a.get("sunSwap.list.trx_tip_2")})]}):null:null})]}),this.props.network.isConnected?v?Object($.jsx)($.Fragment,{children:Object($.jsx)(ae.a,{styleName:"mt-40",type:"single",disabled:!0,info:v})}):Object($.jsx)($.Fragment,{children:Object($.jsx)(ae.a,{styleName:"mt-40",type:"single",info:this.state.disableAdd?_.a.get("not_available"):_.a.get("sunSwap.pool.add_supply_btn"),disabled:this.state.disableAdd,onClick:function(){return e.showAddModal()}})}):Object($.jsx)(ae.a,{styleName:"mt-40",type:"single",info:_.a.get("sunSwap.pool.add_connect_btn"),onClick:function(t){e.props.network.setData({loginModalVisible:!0,loginModalStep:1})}}),Object($.jsx)(pe,{visible:s,hideAddModal:this.hideAddModal,needCreate:0===this.state.exchangeStatus,beforeSupplyLiquidity:this.beforeSupplyLiquidity,ref:this.addModalRef,shareOfPool:this.state.shareOfPool,onSuccess:this.props.onSuccess})]})}}]),n}(g.a.Component))||r)||r)||r)||r,xe=Oe,ve=n(1956),ge=n(1139),Se=n(1261),_e=Object(I.a)(window.navigator).any,Ae=Object(A.b)("sunSwapNetwork")(i=Object(A.b)("sunSwapPool")(i=Object(A.c)(i=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).setPercent=function(e){a.props.sunSwapPool.setData({percentNum:e})},a.showSettingModal=function(){a.props.sunSwapNetwork.setData({settingVisibleV2:!0})},a.renderLiqBtn=function(e){var t,n=a.props.sunSwapPool.percentNum;return Object($.jsx)("button",{className:U()((t={},Object(C.a)(t,Se.remove_liq_active_btn,n==e),Object(C.a)(t,Se.remove_liq_btn,n!==e),Object(C.a)(t,"ml-10","25"!==e),t)),onClick:function(t){return a.setPercent(Number(e))},children:"100"===e?_.a.get("sunSwap.pool.remove_max_text"):e+"%"})},a.renderTokenInfo=function(e,t,n){return Object($.jsxs)("div",{children:[Object($.jsxs)("p",{className:U()(Se.remove_liq_token,["flex start"]),children:[Object($.jsx)("img",{src:e.tokenLogoUrl||ce.a,alt:""}),Object($.jsx)("span",{children:e.tokenSymbol})]}),Object($.jsx)("p",{className:U()(Se.remove_liq_value,["mt-12"],["mb-12"]),children:0===n?0:t.times(n).div(100)._toFixed(4,1)<1e-4?"<0.0001":t.times(n).div(100)._toFixed(4,1)})]})},a.settingsRef=g.a.createRef(),a.state={},a}return Object(w.a)(n,[{key:"render",value:function(){var e=this,t=this.props.sunSwapPool,n=t.liqToken,a=t.exchangeInfo,s=t.percentNum,o=n.fromToken,r=n.toToken,i=s,c=function(e,t){return e.isNaN()||e.eq(1/0)?"--":e._toFixed(Number(t),1)},l=c(a.myExTokenTwo.div(a.myExTokenOne),r.tokenDecimal),p=c(a.myExTokenOne.div(a.myExTokenTwo),o.tokenDecimal),u=[{label:Object($.jsx)(he.a,{token:o,showTokenName:!0,showTrx:!0}),value:a.myExTokenOne._toFixed(4,1)},{label:Object($.jsx)(he.a,{styleName:"ml-30",token:r,showTokenName:!0,showTrx:!0}),value:a.myExTokenTwo._toFixed(4,1)},{label:Object($.jsx)("span",{style:{color:"#ffffff",fontSize:"14px"},children:_.a.get("sunSwap.pool.add_tokens_text")}),value:a.pairTokens._toFixed(4,1)}],d=[{label:Object($.jsx)(he.a,{token:o,showTokenName:!0,showTrx:!0}),value:a.myExTokenOne._toFixed(4,1)},{label:Object($.jsx)(he.a,{styleName:"ml-30",token:r,showTokenName:!0,showTrx:!0}),value:a.myExTokenTwo._toFixed(4,1)}];return Object($.jsxs)(be.a,{gutter:[{xs:8,sm:16,md:24},10],children:[Object($.jsxs)(me.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-30",children:[Object($.jsxs)("div",{className:"flex mb-16",children:[Object($.jsx)("div",{className:Se.remove_liq_title,children:_.a.get("sunSwap.pool.base_posi_title")}),_e?Object($.jsxs)("div",{className:Se.remove_liq_fee,children:[Object($.jsxs)("span",{children:[_.a.get("sunSwap.pool.add_tokens_text")," "]}),Object($.jsx)("span",{children:a.pairTokens._toFixed(4,1)})]}):null]}),Object($.jsx)(de.a,{items:_e?d:u,textColor:"#ffffff"}),Object($.jsx)("div",{className:"hide-for-pc",style:{marginTop:"20px"},children:Object($.jsx)(ge.a,{slippage:this.props.sunSwapNetwork.settingSlippageV2,deadline:this.props.sunSwapNetwork.settingDeadlineV2,onChange:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.props.sunSwapNetwork.saveSettingsForV2(t,n),e.swapRef&&e.swapRef.current&&e.swapRef.current.calcPrice()}})})]}),Object($.jsxs)(me.a,{xs:{span:24},sm:{span:24},md:{span:12},lg:{span:12},className:"mt-30",children:[Object($.jsx)("div",{className:Se.remove_liq_title,children:_.a.get("withdraw.share_of_liq")}),Object($.jsxs)("div",{className:"flex",children:[Object($.jsxs)("div",{className:Se.remove_liq_num,children:[Object($.jsx)("span",{className:"percent",children:i}),"%"]}),!_e&&Object($.jsxs)("div",{className:"flex",children:[this.renderLiqBtn("25"),this.renderLiqBtn("50"),this.renderLiqBtn("75"),this.renderLiqBtn("100")]})]}),Object($.jsx)(ve.a,{defaultValue:s,onChange:function(t){return e.setPercent(t)},className:"super-slider",value:s,tooltip:{formatter:null}}),_e&&Object($.jsxs)("div",{className:"flex mb-24 mt-20",children:[this.renderLiqBtn("25"),this.renderLiqBtn("50"),this.renderLiqBtn("75"),this.renderLiqBtn("100")]}),_e?Object($.jsxs)("div",{className:"flex mb-24",children:[Object($.jsxs)("div",{children:[this.renderTokenInfo(o,a.myExTokenOne,s),this.renderTokenInfo(r,a.myExTokenTwo,s)]}),Object($.jsxs)("div",{className:Se.remove_liq_price,children:[Object($.jsxs)("p",{children:["1 ",o.tokenSymbol," ="," ",Object(z.a)(1).div(Object(z.a)(10).pow(r.tokenDecimal)).gt(l)?"< "+Object(z.a)(1).div(Object(z.a)(10).pow(r.tokenDecimal)).toString():l," ",r.tokenSymbol,Object($.jsx)("span",{})]}),Object($.jsxs)("p",{children:[Object($.jsx)("span",{}),"1 ",r.tokenSymbol," ="," ",Object(z.a)(1).div(Object(z.a)(10).pow(o.tokenDecimal)).gt(p)?"< "+Object(z.a)(1).div(Object(z.a)(10).pow(o.tokenDecimal)).toString():p," ",o.tokenSymbol]})]})]}):Object($.jsxs)("div",{className:"flex mt-36",children:[this.renderTokenInfo(o,a.myExTokenOne,s),Object($.jsxs)("div",{className:Se.remove_liq_price,children:[Object($.jsxs)("p",{children:["1 ",o.tokenSymbol," ="," ",Object(z.a)(1).div(Object(z.a)(10).pow(r.tokenDecimal)).gt(l)?"< "+Object(z.a)(1).div(Object(z.a)(10).pow(r.tokenDecimal)).toString():l," ",r.tokenSymbol,Object($.jsx)("span",{})]}),Object($.jsxs)("p",{children:[Object($.jsx)("span",{}),"1 ",r.tokenSymbol," ="," ",Object(z.a)(1).div(Object(z.a)(10).pow(o.tokenDecimal)).gt(p)?"< "+Object(z.a)(1).div(Object(z.a)(10).pow(o.tokenDecimal)).toString():p," ",o.tokenSymbol]})]}),this.renderTokenInfo(r,a.myExTokenTwo,s)]}),Object($.jsx)("div",{className:"hide-for-mobile",style:{marginTop:"28px"},children:Object($.jsx)(ge.a,{slippage:this.props.sunSwapNetwork.settingSlippageV2,deadline:this.props.sunSwapNetwork.settingDeadlineV2,onChange:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.props.sunSwapNetwork.saveSettingsForV2(t,n),e.swapRef&&e.swapRef.current&&e.swapRef.current.calcPrice()}})})]})]})}}]),n}(g.a.Component))||i)||i)||i,Te=Ae,ye=(n.p,Object(A.b)("sunSwapPool")(c=Object(A.b)("sunSwapNetwork")(c=Object(A.b)("network")(c=Object(A.c)(c=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(f.a)(Object(k.a)().mark((function e(){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.getUserPool();case 1:case"end":return e.stop()}}),e)}))),a.getUserPool=Object(f.a)(Object(k.a)().mark((function e(){var t,n,s,o,r,i,c,l,p,u,d,b,m,j,f,h,w,O;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.sunSwapPool.liqToken,n=t.fromToken,s=t.toToken,o=a.props.network.defaultAccount,a.props.sunSwapPool.setData({percentNum:0}),e.next=6,Object(re.n)(o,n.tokenAddress,s.tokenAddress);case 6:r=e.sent,i=r.exchangeAddr,c=r.exTokenABalance,l=r.exTokenBBalance,p=r.totalLiquidity,u=r.userUniAmount,d=r.userTokenAAmount,b=r.userTokenBAmount,m=r.allowancePair,j=m.div(D.a.defaultTokenPrecision),a.setState({pairApprovedAmout:j}),i&&(a.setState({exchangeAddr:i}),f=c.div(new z.a(10).pow(n.tokenDecimal)),h=l.div(new z.a(10).pow(s.tokenDecimal)),w=f.div(h),O=h.div(f),f.gt(0)&&a.props.sunSwapPool.setData({exchangeInfo:{myExTokenOne:new z.a(d).div(new z.a(10).pow(n.tokenDecimal)),myExTokenTwo:new z.a(b).div(new z.a(10).pow(s.tokenDecimal)),pairTokens:new z.a(u).div(D.a.defaultTokenPrecision),totalSupply:new z.a(p).div(D.a.defaultTokenPrecision),price1:w,price2:O,poolExTokenOne:f,poolExTokenTwo:h}}));case 18:case"end":return e.stop()}}),e)}))),a.setLiq=function(e){a.props.sunSwapPool.setData({actionLiqV2:e})},a.beforeRemoveLiq=Object(f.a)(Object(k.a)().mark((function e(){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({actionStarted:!0,removePopBtn:_.a.get("sunSwap.action.startBtn"),removePopBtnDisabled:!0},Object(f.a)(Object(k.a)().mark((function e(){var t,n,s,o,r,i;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.sunSwapPool.liqToken,n=t.fromToken,s=t.toToken,o=a.state,r=o.exchangeAddr,o.pairApprovedAmout.gt(0)){e.next=11;break}return i={title:"pool.add_approve_token",obj:{token:"".concat(n.tokenSymbol,"-").concat(s.tokenSymbol," LP")}},e.next=7,Object(re.f)(r,D.a.v2Contract.router,i);case 7:e.sent?a.toRemoveLiq():a.setState({removeErrorInfo:_.a.get("sunSwap.action.removeActErr"),removePopBtn:_.a.get("sunSwap.action.retryBtn"),removePopBtnDisabled:!1,actionStarted:!0}),e.next=12;break;case 11:a.toRemoveLiq();case 12:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)}))),a.toRemoveLiq=Object(f.a)(Object(k.a)().mark((function e(){var t,n,s,o,r,i,c,l,p,u,d,b,m,j,f,h,w;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.sunSwapPool,n=t.liqToken,s=t.exchangeInfo,o=t.percentNum,r=n.fromToken,i=n.toToken,c=s.myExTokenOne.times(o).div(100),l=s.myExTokenTwo.times(o).div(100),p=s.pairTokens.times(o).div(100).times(D.a.defaultTokenPrecision).integerValue(z.a.ROUND_DOWN),u={title:"sunSwap.pair_actions.remove",obj:{trxAmount:Object(z.k)(Object(z.a)(s.myExTokenOne).times(o).div(100),r.tokenDecimal),trx:r.tokenSymbol,tokenSymbol:i.tokenSymbol,tokenAmount:Object(z.k)(Object(z.a)(s.myExTokenTwo).times(o).div(100),i.tokenDecimal)}},d=a.props.sunSwapNetwork.settingSlippageV2,b=a.props.network.defaultAccount,m="0x".concat(c.gte(0)?c.times(1-d/100).times(new z.a(10).pow(r.tokenDecimal)).integerValue(z.a.ROUND_DOWN).toString(16):0),j="0x".concat(l.gte(0)?l.times(1-d/100).times(new z.a(10).pow(i.tokenDecimal)).integerValue(z.a.ROUND_DOWN).toString(16):0),r.tokenAddress!==D.a.wtrxAddress&&i.tokenAddress!==D.a.wtrxAddress){e.next=25;break}return e.t0=r.tokenAddress===D.a.wtrxAddress?i.tokenAddress:r.tokenAddress,e.t1="0x".concat(p.toString(16)),e.t2=r.tokenAddress===D.a.wtrxAddress?j:m,e.t3=r.tokenAddress===D.a.wtrxAddress?m:j,e.t4=b,e.next=18,Object(re.g)(a.props.sunSwapNetwork.settingDeadlineV2);case 18:return e.t5=e.sent,h={token:e.t0,liquidity:e.t1,amountTokenMin:e.t2,amountETHMin:e.t3,to:e.t4,deadline:e.t5},e.next=22,Object(re.y)(h,u);case 22:f=e.sent,e.next=38;break;case 25:return e.t6=r.tokenAddress,e.t7=i.tokenAddress,e.t8="0x".concat(p.toString(16)),e.t9=m,e.t10=j,e.t11=b,e.next=33,Object(re.g)(a.props.sunSwapNetwork.settingDeadlineV2);case 33:return e.t12=e.sent,w={tokenA:e.t6,tokenB:e.t7,liquidity:e.t8,amountAMin:e.t9,amountBMin:e.t10,to:e.t11,deadline:e.t12},e.next=37,Object(re.z)(w,u);case 37:f=e.sent;case 38:f?a.setState({removeErrorInfo:"",removePopBtn:_.a.get("sunSwap.action.doingBtn"),removePopBtnDisabled:!0,actionStarted:!0},(function(){setTimeout((function(){a.setState({actionState:"success",actionStarted:!1})}),5e3)})):a.setState({removeErrorInfo:_.a.get("sunSwap.action.removeActErr"),removePopBtn:_.a.get("sunSwap.action.retryBtn"),removePopBtnDisabled:!1,actionStarted:!0});case 39:case"end":return e.stop()}}),e)}))),a.initRemoveModal=function(){return{removeErrorInfo:"",removePopBtn:_.a.get("sunSwap.pool.popup_remove_btn"),removePopBtnDisabled:!1,actionState:"info",actionStarted:!1,miniPopVisible:!1}},a.showRemoveModal=function(){var e=a.props.sunSwapPool,t=e.exchangeInfo;e.percentNum>0&&t.pairTokens.gt(0)&&a.setState(Object(j.a)(Object(j.a)({},a.initRemoveModal()),{},{removePopStatus:!0}))},a.beforeHideRemoveModal=function(){a.state.actionStarted?a.setState({miniPopVisible:!0}):a.hideRemoveModal()},a.hideRemoveModal=function(){a.setState({removePopStatus:!1},(function(){setTimeout((function(){a.setState(Object(j.a)({},a.initRemoveModal()))}),1e3)}))},a.miniPopOk=function(){a.setState({miniPopVisible:!1},(function(){a.hideRemoveModal()}))},a.miniPopCancel=function(){a.setState({miniPopVisible:!1})},a.gotoPool=function(){a.props.onSuccess()},a.state={removePopStatus:!1,removeErrorInfo:"",removePopBtn:_.a.get("sunSwap.pool.popup_remove_btn"),removePopBtnDisabled:!1,actionState:"info",actionStarted:!1,miniPopVisible:!1,pairApprovedAmout:new z.a(0)},a}return Object(w.a)(n,[{key:"render",value:function(){var e=this,t=this.state.removePopStatus,n=this.props.sunSwapPool,a=n.liqToken,s=n.exchangeInfo,o=n.percentNum,r=a.fromToken,i=a.toToken,c=function(e,t){return e.isNaN()||e.eq(1/0)?"--":e._toFixed(Number(t),1)},l=c(s.myExTokenTwo.div(s.myExTokenOne),i.tokenDecimal),p=c(s.myExTokenOne.div(s.myExTokenTwo),r.tokenDecimal);return Object($.jsxs)("section",{children:[Object($.jsx)(Te,{}),Object($.jsx)(ae.a,{styleName:"mt-40",type:"single",disabled:o<=0||s.pairTokens.lte(0),info:_.a.get("sunSwap.pool.remove_confirm_btn"),onClick:this.showRemoveModal}),Object($.jsxs)(T.a,{title:null,closable:"success"!==this.state.actionState,open:t,onCancel:this.beforeHideRemoveModal,className:"pool-modal remove-modal sun-swap-modal",footer:null,width:630,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:["info"===this.state.actionState&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{className:"title big",children:_.a.get("sunSwap.pool.popup_remove_title")}),Object($.jsxs)("div",{className:"amount ib-parent center pb25",children:[Object($.jsxs)("div",{children:[Object($.jsx)("p",{className:"add-value",children:s.myExTokenOne.times(o).div(100).lt(1e-4)?"<0.0001":s.myExTokenOne.times(o).div(100)._toFixed(4,1)}),Object($.jsxs)("p",{className:"add-token",children:[Object($.jsx)("img",{src:r.tokenLogoUrl||ce.a,alt:""}),Object($.jsx)("span",{children:r.tokenSymbol})]})]}),Object($.jsx)("span",{className:"plus",children:"+"}),Object($.jsxs)("div",{children:[Object($.jsx)("p",{className:"add-value",children:s.myExTokenTwo.times(o).div(100).lt(1e-4)?"<0.0001":s.myExTokenTwo.times(o).div(100)._toFixed(4,1)}),Object($.jsxs)("p",{className:"add-token",children:[Object($.jsx)("img",{src:i.tokenLogoUrl||ce.a,alt:""}),Object($.jsx)("span",{children:i.tokenSymbol})]})]})]}),Object($.jsxs)("div",{className:"price",children:[Object($.jsxs)("p",{className:"flex param",children:[Object($.jsx)("span",{className:"price-key",children:_.a.get("sunSwap.pool.popup_burned_text")}),Object($.jsxs)("span",{className:"price-value",children:[Object($.jsx)("img",{src:r.tokenLogoUrl||ce.a,alt:""}),Object($.jsx)("img",{src:i.tokenLogoUrl||ce.a,alt:""}),Object($.jsx)("span",{children:s.pairTokens.times(o).div(100).lt(1e-4)?"<0.0001":s.pairTokens.times(o).div(100)._toFixed(4,1)})]})]}),Object($.jsxs)("div",{className:"flex param",children:[Object($.jsx)("span",{className:"price-key",children:_.a.get("sunSwap.pool.popup_price_text")}),Object($.jsxs)("div",{className:"price-value ib right",children:[Object($.jsxs)("p",{children:["1 ",r.tokenSymbol," = ",l," ",i.tokenSymbol]}),Object($.jsxs)("p",{className:"mb20",children:["1 ",i.tokenSymbol," = ",p," ",r.tokenSymbol]})]})]})]}),this.state.removeErrorInfo&&Object($.jsx)("div",{className:"errorMsg",children:this.state.removeErrorInfo}),Object($.jsx)(ae.a,{type:"single",disabled:this.state.removePopBtnDisabled,info:this.state.removePopBtn,onClick:function(){return e.beforeRemoveLiq()}})]}),"success"===this.state.actionState&&Object($.jsx)($.Fragment,{children:Object($.jsxs)("div",{className:"modal-success",children:[Object($.jsx)("img",{src:ie.a,alt:""}),Object($.jsx)("div",{className:"title green",children:_.a.get("sunSwap.action.removeSuccessTitle")}),Object($.jsxs)("div",{className:"ib-parent center mb25",children:[Object($.jsxs)("div",{children:[Object($.jsx)("span",{className:"remove-value",children:s.myExTokenOne.times(o).div(100).lt(1e-4)?"<0.0001":s.myExTokenOne.times(o).div(100)._toFixed(4,1)}),Object($.jsx)("span",{className:"remove-token",children:r.tokenSymbol})]}),Object($.jsx)("span",{className:"plus",children:"+"}),Object($.jsxs)("div",{children:[Object($.jsx)("span",{className:"remove-value",children:s.myExTokenTwo.times(o).div(100).lt(1e-4)?"<0.0001":s.myExTokenTwo.times(o).div(100)._toFixed(4,1)}),Object($.jsx)("span",{className:"remove-token",children:i.tokenSymbol})]})]}),Object($.jsx)(ae.a,{type:"single",info:_.a.get("sunSwap.action.closeBtn"),onClick:this.gotoPool}),Object($.jsx)("div",{className:"endTip",children:_.a.get("sunSwap.action.removeDescTitle")})]})})]}),Object($.jsx)(oe.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}}]),n}(g.a.Component))||c)||c)||c)||c),Ne=n(13),Pe=n(1944),De=n(236),Ve=n(352),Ce=n.n(Ve),qe=function(){function e(t,n,a){Object(h.a)(this,e),Ce()(t.length>0,"PAIRS"),Ce()(t[0].t0.tokenAddress===n.tokenAddress||t[0].t1.tokenAddress===n.tokenAddress,"INPUT"),Ce()("undefined"===typeof a||t[t.length-1].t0.tokenAddress===a.tokenAddress||t[t.length-1].t1.tokenAddress===a.tokenAddress,"OUTPUT");var s=[n];t.map((function(e,t){var n=s[t];Ce()(n.tokenAddress===e.t0.tokenAddress||n===e.t1.tokenAddress,"PATH");var a=n.tokenAddress===e.t0.tokenAddress?e.t1:e.t0;s.push(a)})),this.pairs=t,this.path=s,this.input=n,this.output=a,this.midPrice=this.getMidPrice()}return Object(w.a)(e,[{key:"getMidPrice",value:function(){var e=[];return this.pairs.map((function(t){e.push(Le(t))})),e.reduce((function(e,t){return Object(z.a)(e).times(t.reservePrice)}),1)}}]),e}(),Le=function(e){return{pair:e,reservePrice:Object(z.a)(e.r0).div(e.r1)}},Ie=n(497),Fe=1,Be=2,Ee=Object(z.a)(.005),Me=function(e,t){var n=e.r0,a=e.r1;if(!Object(z.a)(n).gt(0)||!Object(z.a)(a).gt(0))return{value:Object(z.a)(0)};var s=Object(z.a)(t).times(997),o=s.times(a),r=n.times(1e3).plus(s);return{numerator:o,denominator:r,value:o.div(r)}},Re=function(e,t){var n=e.r0,a=e.r1;if(!Object(z.a)(n).gt(0)||!Object(z.a)(a).gt(0))return{value:Object(z.a)(0)};var s=Object(z.a)(n).times(t).times(1e3),o=Object(z.a)(a).minus(t).times(997);return o.eq(0)?{value:Object(z.a)(0)}:{numerator:s,denominator:o,value:s.div(o).plus(1)}},Ue=function(e,t,n,a){if(Ce()(n>0,"MAX_SIZE_ZERO"),Ce()(e.length<=n,"ITEMS_SIZE"),0===e.length)return e.push(t),null;var s=e.length===n;if(s&&a(e[e.length-1],t)<=0)return t;for(var o=0,r=e.length;o<r;){var i=o+r>>>1;a(e[i],t)<=0?o=i+1:r=i}return e.splice(o,0,t),s?e.pop():null},He=function(e,t){var n=function(e,t){return e.outputAmount.outputAmount.eq(t.outputAmount.outputAmount)?e.inputAmount.inputAmount.eq(t.inputAmount.inputAmount)?0:e.inputAmount.inputAmount.lt(t.inputAmount.inputAmount)?-1:1:e.outputAmount.outputAmount.lt(t.outputAmount.outputAmount)?1:-1}(e,t);return 0!==n?n:e.priceImpact.lt(t.priceImpact)?-1:e.priceImpact.gt(t.priceImpact)?1:e.route.path.length-t.route.path.length},We=function e(t,n,a){return(l=l||Object(f.a)(Object(k.a)().mark((function t(n,a,s){var o,r,i,c,l,p,u,d,b,m,f,h,w,O,x,v,g,S,_=arguments;return Object(k.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=(o=_.length>3&&void 0!==_[3]?_[3]:{}).maxNumResults,i=void 0===r?3:r,c=o.maxHops,l=void 0===c?3:c,p=_.length>4&&void 0!==_[4]?_[4]:[],u=_.length>5&&void 0!==_[5]?_[5]:Object(j.a)({},a),d=_.length>6&&void 0!==_[6]?_[6]:[],Ce()(n.length>0,"PAIRS"),Ce()(l>0,"MAX_HOPS"),Ce()(a.tokenAddress===u.tokenAddress||p.length>0,"INVALID_RECURSION"),b=Object(j.a)({},u),m=Object(j.a)({},s),f=0;case 10:if(!(f<n.length)){t.next=50;break}if((h=n[f]).t0.tokenAddress===b.tokenAddress||h.t1.tokenAddress===b.tokenAddress){t.next=14;break}return t.abrupt("continue",47);case 14:if(h.t1.tokenAddress===b.tokenAddress?(null,null,w=L.a.cloneDeep(h.t0),h.t0=L.a.cloneDeep(h.t1),h.t1=Object(j.a)({},w),O=h.r0,h.r0=h.r1,h.r1=O):h.t0.tokenAddress===b.tokenAddress&&(h.t0=Object(j.a)(Object(j.a)({},h.t0),b)),h.r0&&h.r1){t.next=21;break}return t.next=18,Object(re.q)(h.t0.tokenAddress,h.t1.tokenAddress,h.pairAddress||Object(z.h)(h.t0.tokenAddress,h.t1.tokenAddress));case 18:x=t.sent,h.r0=x.reserveA,h.r1=x.reserveB;case 21:if(h.r0.gt(0)&&h.r1.gt(0)){t.next=23;break}return t.abrupt("continue",47);case 23:if(v=void 0,g=null,t.prev=25,h.t0.value=b.value,g=Me(h,b.value),!Object(z.a)(g.value._toFixedNew(Number(h.t1.tokenDecimal),1)).lte(0)){t.next=30;break}return t.abrupt("continue",47);case 30:v=Object(j.a)(Object(j.a)({},h.t1),{},{value:g.value}),h.t1.value=g.value,h.numerator=g.numerator,h.denominator=g.denominator,t.next=39;break;case 36:throw t.prev=36,t.t0=t.catch(25),t.t0;case 39:if(v.tokenAddress!==m.tokenAddress){t.next=43;break}Ue(d,new Ye(new qe([].concat(Object(Ne.a)(p),[Object(j.a)({},h)]),a,s),a,Fe),i,He),t.next=47;break;case 43:if(!(l>1&&n.length>1)){t.next=47;break}return S=n.slice(0,f).concat(n.slice(f+1,n.length)),t.next=47,e(S,a,s,{maxNumResults:i,maxHops:l-1},[].concat(Object(Ne.a)(p),[Object(j.a)({},h)]),v,d);case 47:f++,t.next=10;break;case 50:return t.abrupt("return",d);case 51:case"end":return t.stop()}}),t,null,[[25,36]])})))).apply(this,arguments)},ze=function e(t,n,a,s){return(p=p||Object(f.a)(Object(k.a)().mark((function t(n,a,s,o){var r,i,c,l,p,u,d,b,m,f,h,w,O,x,v,g,S,_=arguments;return Object(k.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=o.maxNumResults,i=void 0===r?3:r,c=o.maxHops,l=void 0===c?3:c,p=_.length>4&&void 0!==_[4]?_[4]:[],u=_.length>5&&void 0!==_[5]?_[5]:s,d=_.length>6&&void 0!==_[6]?_[6]:[],Ce()(n.length>0,"PAIRS"),Ce()(l>0,"MAX_HOPS"),Ce()(s.tokenAddress===u.tokenAddress||p.length>0,"INVALID_RECURSION"),b=Object(j.a)({},u),m=Object(j.a)({},a),f=0;case 10:if(!(f<n.length)){t.next=51;break}if((h=n[f]).t0.tokenAddress===b.tokenAddress||h.t1.tokenAddress===b.tokenAddress){t.next=14;break}return t.abrupt("continue",48);case 14:if(h.t0.tokenAddress===b.tokenAddress?(null,null,w=L.a.cloneDeep(h.t0),h.t0=L.a.cloneDeep(h.t1),h.t1=Object(j.a)({},w),O=h.r0,h.r0=h.r1,h.r1=O):h.t1.tokenAddress===b.tokenAddress&&(h.t1=Object(j.a)(Object(j.a)({},h.t1),b)),h.r0&&h.r1){t.next=21;break}return t.next=18,Object(re.q)(h.t0.tokenAddress,h.t1.tokenAddress,h.pairAddress||Object(z.h)(h.t0.tokenAddress,h.t1.tokenAddress));case 18:x=t.sent,h.r0=x.reserveA,h.r1=x.reserveB;case 21:if(h.r0.gt(0)&&h.r1.gt(0)){t.next=23;break}return t.abrupt("continue",48);case 23:if(v=void 0,g=null,t.prev=25,h.t1.value=b.value,g=Re(h,b.value),!Object(z.a)(g.value._toFixedNew(Number(h.t0.tokenDecimal),1)).lte(0)){t.next=31;break}return console.log("input too low"),t.abrupt("continue",48);case 31:v=Object(j.a)(Object(j.a)({},h.t0),{},{value:g.value}),h.t0.value=g.value,h.numerator=g.numerator,h.denominator=g.denominator,t.next=40;break;case 37:throw t.prev=37,t.t0=t.catch(25),t.t0;case 40:if(v.tokenAddress!==m.tokenAddress){t.next=44;break}Ue(d,new Ye(new qe([Object(j.a)({},h)].concat(Object(Ne.a)(p)),a,s),s,Be),i,He),t.next=48;break;case 44:if(!(l>1&&n.length>1)){t.next=48;break}return S=n.slice(0,f).concat(n.slice(f+1,n.length)),t.next=48,e(S,a,s,{maxNumResults:i,maxHops:l-1},[h].concat(Object(Ne.a)(p)),v,d);case 48:f++,t.next=10;break;case 51:return t.abrupt("return",d);case 52:case"end":return t.stop()}}),t,null,[[25,37]])})))).apply(this,arguments)},Je=function(e,t,n,a,s){return(u=u||Object(f.a)(Object(k.a)().mark((function e(t,n,a,s,o){var r,i,c,l,p,u,d,b,m,f,h,w,O,x,v,g=arguments;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(g.length>5&&void 0!==g[5]?g[5]:{}).maxHops,i=void 0===r?D.a.MAX_HOPS:r,!(Object(z.a)(t).gt(0)&&n.tokenAddress&&a.tokenAddress&&s.length>0)){e.next=72;break}if(1!==i){e.next=33;break}if(c={maxHops:1,maxNumResults:1},o!==Fe){e.next=20;break}return p=Object(j.a)({value:Object(z.a)(t)},n),e.next=8,We(s,p,a,c);case 8:if(e.t1=l=e.sent[0],e.t0=null!==e.t1,!e.t0){e.next=12;break}e.t0=void 0!==l;case 12:if(!e.t0){e.next=16;break}e.t2=l,e.next=17;break;case 16:e.t2=null;case 17:return e.abrupt("return",e.t2);case 20:return d=Object(j.a)({value:Object(z.a)(t)},a),e.next=23,ze(s,n,d,c);case 23:if(e.t4=u=e.sent[0],e.t3=null!==e.t4,!e.t3){e.next=27;break}e.t3=void 0!==u;case 27:if(!e.t3){e.next=31;break}e.t5=u,e.next=32;break;case 31:e.t5=null;case 32:return e.abrupt("return",e.t5);case 33:b=null,m=1;case 35:if(!(m<=i)){e.next=71;break}if(f={maxHops:m,maxNumResults:1},h=null,o!==Fe){e.next=54;break}return O=Object(j.a)({value:Object(z.a)(t)},n),e.next=42,We(s,O,a,f);case 42:if(e.t7=w=e.sent[0],e.t6=null!==e.t7,!e.t6){e.next=46;break}e.t6=void 0!==w;case 46:if(!e.t6){e.next=50;break}e.t8=w,e.next=51;break;case 50:e.t8=null;case 51:h=e.t8,e.next=67;break;case 54:return v=Object(j.a)({value:Object(z.a)(t)},a),e.next=57,ze(s,n,v,f);case 57:if(e.t10=x=e.sent[0],e.t9=null!==e.t10,!e.t9){e.next=61;break}e.t9=void 0!==x;case 61:if(!e.t9){e.next=65;break}e.t11=x,e.next=66;break;case 65:e.t11=null;case 66:h=e.t11;case 67:Xe(b,h,Ee)&&(b=h);case 68:m++,e.next=35;break;case 71:return e.abrupt("return",{bestTrade:b,fromTokenAddress:n.tokenAddress,toTokenAddress:a.tokenAddress,amountSpecified:t});case 72:return e.abrupt("return",{bestTrade:null,fromTokenAddress:n.tokenAddress,toTokenAddress:a.tokenAddress,amountSpecified:t});case 73:case"end":return e.stop()}}),e)})))).apply(this,arguments)},Xe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ie.b;if(e&&!t)return!1;if(t&&!e)return!0;if(e&&t){if(e.tradeType!==t.tradeType||!e.inputAmount.tokenAddress===t.inputAmount.tokenAddress||!e.outputAmount.tokenAddress===t.outputAmount.tokenAddress)throw new Error("Comparing incomparable trades");return n.eq(Ie.b)?e.executionPrice.lt(t.executionPrice):e.executionPrice.times(n.plus(Ie.a)).lt(t.executionPrice)}},Ye=Object(w.a)((function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe;Object(h.a)(this,e),this.route=t,this.tradeType=a;var s=new Array(t.path.length);if(a===Fe){Ce()(n.tokenAddress===t.input.tokenAddress,"INPUT"),s[0]=n;for(var o=0;o<t.path.length-1;o++){var r=t.pairs[o],i=Me(r,r.t0.value);s[o+1]=Object(j.a)(Object(j.a)({},r.t1),{},{value:i.value})}this.inputAmount=Object(j.a)(Object(j.a)({},t.input),{},{inputAmount:t.input.value}),this.outputAmount=Object(j.a)(Object(j.a)({},t.output),{},{numerator:s[s.length-1].numerator,denominator:s[s.length-1].denominator,outputAmount:s[s.length-1].value})}else{Ce()(n.tokenAddress===t.output.tokenAddress,"OUTPUT"),s[s.length-1]=n;for(var c=t.path.length-1;c>0;c--){var l=t.pairs[c-1],p=Re(l,l.t1.value);s[c-1]=Object(j.a)(Object(j.a)({},l.t1),p)}this.inputAmount=Object(j.a)(Object(j.a)({},t.input),{},{numerator:s[0].numerator,denominator:s[0].denominator,inputAmount:s[0].value}),this.outputAmount=Object(j.a)(Object(j.a)({},t.output),{},{numerator:n.numerator,denominator:n.denominator,outputAmount:t.output.value})}this.executionPrice=Object(z.a)(this.outputAmount.outputAmount).div(this.inputAmount.inputAmount),this.priceImpact=Ze(t.midPrice,this.inputAmount,this.outputAmount,t.path||[])})),Ze=function(e,t,n,a){var s=a.length;if(s>0){var o=Object(z.a)(1).minus(Object(z.a)(s-1).times(.003)),r=Object(z.a)(e).times(n.outputAmount).div(t.inputAmount);return o.minus(r).times(100).abs().times(-1)}return null},Qe=(n(1262),n(1263)),Ke=n(1264),Ge=n(1265),$e=(n.p,n(1266),n(1371)),et=(n.p,n.p,Object(I.a)(window.navigator).any),tt=Object(A.b)("sunSwapNetwork")(d=Object(A.b)("sunSwapPool")(d=Object(A.b)("network")(d=Object(A.c)(d=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var a,s,o;return Object(h.a)(this,n),(o=t.call(this,e)).componentWillUnmount=function(){clearInterval(o.timer),clearInterval(o.timer1)},o.isSwapTRX=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).tokenAddress,n=e.tokenAddress,a=D.a.trxFakeAddress,s=D.a.wtrxAddress;return t===a&&n===s||t===s&&n===a},o.checkInput=function(){var e=o.props.sunSwapPool.swapToken.fromToken,t=o.props.sunSwapPool.swapToken.toToken,n=e.tokenAddress,a=t.tokenAddress,s=o.state.dependentValue,r=Object(z.a)(e.balance),i=(t.balance,function(e){o.setState({actionError:e})}),c=o.state,l=c.fromValue,p=c.toValue,u=c.receivedFlag,d=(c.bestTrade,c.recipientAddr),b=c.swapTRXState;if(o.state.miniError)return i(_.a.get("sunSwap.swap.action_zero"));if(!b)if(d){if(!Object(z.t)(d))return o.setState({recipientValid:!1}),i(_.a.get("sunSwap.swap.action_invalid_recipient"));o.setState({recipientValid:!0})}else if(o.setState({recipientValid:!1}),o.state.addRecipient)return i(_.a.get("sunSwap.swap.action_enter_recipient"));if(!n&&!Object(z.q)("t0")||!a&&!Object(z.q)("t1"))return i(_.a.get("sunSwap.swap.action_select_token"));if(!l)return!u&&p?Object(z.a)(p).lte(0)?i(_.a.get("sunSwap.swap.action_enter_amount")):i(_.a.get("sunSwap.swap.action_insufficient_liquidity")):i(_.a.get("sunSwap.swap.action_enter_amount"));if(Object(z.D)(l).lte(0))return i(_.a.get("sunSwap.swap.action_enter_amount"));if(b&&r&&r.lt(Object(z.D)(l)))return i(_.a.get("sunSwap.swap.action_insufficient",{token:e.tokenSymbol}));if(u){if(!p)return i(_.a.get("sunSwap.swap.action_insufficient_liquidity"));if(r&&r.lt(Object(z.D)(l)))return i(_.a.get("sunSwap.swap.action_insufficient",{token:e.tokenSymbol}));if(Object(z.D)(l).gt(e.approvedAmount))return o.setState({actionError:"",needApprove:!0})}else{if(!b&&r.lt(Object(z.D)(s)))return i(_.a.get("sunSwap.swap.action_insufficient",{token:e.tokenSymbol}));if(!b&&Object(z.a)(s).gt(e.approvedAmount))return o.setState({actionError:"",needApprove:!0})}o.setState({actionError:"",needApprove:!1})},o.onFromValueChange=function(e){var t=e.target.value,n=o.state.toValue;if(t){var a=Object(z.w)(t.replace(/,/g,""),o.props.sunSwapPool.swapToken.fromToken.tokenDecimal),s=a.valid,r=a.str;if(!s)return;t=r,o.props.sunSwapPool.swapToken.fromToken.tokenAddress&&o.props.sunSwapPool.swapToken.toToken.tokenAddress||(n="")}else n="";o.setState({fromValue:Object(z.b)(t),toValue:Object(z.b)(n),receivedFlag:!0},Object(f.a)(Object(k.a)().mark((function e(){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.calcPrice();case 2:o.checkInput();case 3:case"end":return e.stop()}}),e)}))))},o.onToValueChange=function(e){var t=o.state.fromValue,n=e.target.value;if(n){var a=Object(z.w)(n.replace(/,/g,""),o.props.sunSwapPool.swapToken.toToken.tokenDecimal),s=a.valid,r=a.str;if(!s)return;n=r,o.props.sunSwapPool.swapToken.fromToken.tokenAddress&&o.props.sunSwapPool.swapToken.toToken.tokenAddress||(t="")}else t="";o.setState({fromValue:Object(z.b)(t),toValue:Object(z.b)(n),receivedFlag:!1},Object(f.a)(Object(k.a)().mark((function e(){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.calcPrice();case 2:case"end":return e.stop()}}),e)}))))},o.onFromValueBlur=function(){var e=o.state.fromValue;e&&o.setState({fromValue:Object(z.b)(e)})},o.onToValueBlur=function(){var e=o.state.toValue;e&&o.setState({toValue:Object(z.b)(e)})},o.calcPriceTRXSwap=function(e,t){var n=o.state,a=n.receivedFlag,s=n.fromValue,r=n.toValue,i=Object(z.a)(10).pow(e.tokenDecimal),c=Object(z.a)(10).pow(t.tokenDecimal);a?r=Object(z.D)(s).gt(0)?Object(z.D)(s).times(i).div(c)._toFixed(Number(t.tokenDecimal),1):"":s=Object(z.D)(r).gt(0)?Object(z.D)(r).times(c).div(i)._toFixed(Number(e.tokenDecimal),1):"",o.setState({fromValue:Object(z.b)(s),toValue:Object(z.b)(r)},(function(){o.checkInput(),o.calcDependentValue(s,r)}))},o.calcPrice=Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s,r,i,c,l,p,u,d,b,m,f,h,w,O,x,v,g,S,_,A,T,y,N,P,D,V,C,q;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=o.props.sunSwapPool.swapToken,n=t.fromToken,a=t.toToken,t.pairAddress,s=t.validPairs,r=void 0===s?[]:s,i=o.state,c=i.receivedFlag,l=i.fromValue,p=i.toValue,!(u=o.isSwapTRX(n,a))){e.next=6;break}return e.abrupt("return",o.setState({swapTRXState:u,priceStr:1,priceInverseStr:1},(function(){o.calcPriceTRXSwap(n,a)})));case 6:return o.setState({swapTRXState:!1}),o.state.swapTRXState=!1,d="-",b="-",m=Object(z.a)(10).pow(n.tokenDecimal),f=Object(z.a)(10).pow(a.tokenDecimal),n.value=Object(z.D)(l).times(m),a.value=Object(z.D)(p).times(f),e.next=16,Je(c?Object(z.D)(l).times(m):Object(z.D)(p).times(f),Object(j.a)({},n),Object(j.a)({},a),Object(Ne.a)(r),c?1:2);case 16:if(h=e.sent,w=h.bestTrade,O=h.fromTokenAddress,x=h.toTokenAddress,v=h.amountSpecified,O!==n.tokenAddress||x!==a.tokenAddress){e.next=40;break}if(!(c&&Object(z.D)(o.state.fromValue).times(m).eq(v)||!c&&Object(z.D)(o.state.toValue).times(f).eq(v))){e.next=39;break}if(o.state.bestTrade=w,o.setState({bestTrade:w}),w){e.next=25;break}return o.initStateData(),e.abrupt("return");case 25:w.tradeType,g=w.inputAmount,S=w.outputAmount,_=w.route,A=w.executionPrice,T=w.priceImpact,y=S.outputAmount,N=g.inputAmount,c?(P=y.div(f)._toFixed(Number(a.tokenDecimal),1),p=Object(z.a)(P).gt(0)?P:""):(D=N.div(m)._toFixed(Number(n.tokenDecimal),1),l=Object(z.a)(D).gt(0)?D:""),d=N.div(y).div(m).times(f),b=A.div(f).times(m),o.calcDependentValue(l,p),V="-",C=Object(z.D)(l),_&&_.path&&_.path.length&&(q=_.path.length,C=C.times(.003).times(q-1),V=C._toFixed(Number(n.tokenDecimal),1)),o.setState({priceStr:d,priceInverseStr:b,fromValue:Object(z.b)(l),toValue:Object(z.b)(p),liquidityProviderFee:V},(function(){o.checkInput()})),o.calcPriceImpact(T),e.next=40;break;case 39:o.checkInput();case 40:e.next=45;break;case 42:e.prev=42,e.t0=e.catch(0),console.error(e.t0);case 45:case"end":return e.stop()}}),e,null,[[0,42]])}))),o.calcDependentValue=function(e,t){var n=o.state.swapTRXState,a=new z.a(o.props.sunSwapNetwork.settingSlippageV2).div(100),s=new z.a(0),r=D.a.trxDecimal;o.state.receivedFlag?(s=n?Object(z.D)(t):Object(z.D)(t).times(Object(z.a)(1).minus(a)),r=o.props.sunSwapPool.swapToken.toToken.tokenDecimal):(s=n?Object(z.D)(e):Object(z.D)(e).times(Object(z.a)(1).plus(a)),r=o.props.sunSwapPool.swapToken.fromToken.tokenDecimal),o.setState({dependentValue:s,dependentValueSunBig:Object(z.a)(s).times(new z.a(10).pow(r))})},o.calcPriceImpact=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"--",t="",n="--";n=Object(z.a)(e).lte(0)&&Object(z.a)(e).gt(-.01)?"0.00%":"".concat(Object(z.a)(e)._toFixed(2),"%"),t=Object(z.a)(e).lte(-15)?"red":Object(z.a)(e).gt(-15)&&Object(z.a)(e).lte(-5)?"orange":"blue",o.setState({priceImpact:n,priceImpactColor:t})},o.setMaxFrom=function(){var e=o.props.sunSwapPool.swapToken.fromToken,t=Object(z.a)(e.balance);if(Object(z.a)(t).gte(0)){var n=t,a=n.gt(0)?n._toFixed(Number(e.tokenDecimal),1):"0";o.setState({fromValue:Object(z.b)(a),receivedFlag:!0},Object(f.a)(Object(k.a)().mark((function e(){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.calcPrice();case 2:case"end":return e.stop()}}),e)}))))}},o.addSolor=function(e){try{e.tokenDecimal=Number(e.tokenDecimal);var t=o.props.sunSwapPool.solor,n=void 0===t?[]:t,a=L.a.findIndex(n,(function(t){return t.tokenAddress===e.tokenAddress}));a>=0?n.splice(a,1,Object(j.a)(Object(j.a)({},e),{},{cst:2})):n.unshift(Object(j.a)(Object(j.a)({},e),{},{cst:2})),o.props.sunSwapPool.setData({solor:n}),window.localStorage.setItem("solor",JSON.stringify(n))}catch(s){console.log(s)}},o.onFromTokenChange=function(e){return(a=a||Object(f.a)(Object(k.a)().mark((function e(t){var n,a;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=o.props.sunSwapPool.swapToken,t.tokenDecimal=Number(t.tokenDecimal),t.tokenAddress!==n.fromToken.tokenAddress){e.next=5;break}return e.abrupt("return");case 5:if(o.props.sunSwapPool.showModal(1,!1),t.cst&&o.addSolor(t),t.tokenAddress!==n.toToken.tokenAddress){e.next=9;break}return e.abrupt("return",o.switchToken());case 9:(a=o.state.fromValue)&&t.tokenDecimal!=n.fromToken.tokenDecimal&&(a=Object(z.D)(a)._toFixed(Number(t.tokenDecimal),1)),n.fromToken=Object(j.a)({},t),o.props.sunSwapPool.setData({swapToken:n}),o.setState({fromValue:Object(z.b)(a),needApprove:!1},Object(f.a)(Object(k.a)().mark((function e(){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.props.sunSwapPool.useAllCurrencyCombinations();case 2:return e.next=4,o.props.sunSwapPool.getBalanceAndApprove();case 4:return e.next=6,o.calcPrice();case 6:case"end":return e.stop()}}),e)})))),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),o.props.sunSwapPool.showModal(1,!1),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)},o.onToTokenChange=function(e){return(s=s||Object(f.a)(Object(k.a)().mark((function e(t){var n,a;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.props.sunSwapPool.swapToken,t.tokenAddress!==n.toToken.tokenAddress){e.next=3;break}return e.abrupt("return");case 3:if(o.props.sunSwapPool.showModal(2,!1),t.cst&&o.addSolor(t),e.prev=5,t.tokenAddress!==n.fromToken.tokenAddress){e.next=8;break}return e.abrupt("return",o.switchToken());case 8:t.tokenDecimal=Number(t.tokenDecimal),(a=o.state.toValue)&&t.tokenDecimal!=n.toToken.tokenDecimal&&(a=new z.a(a)._toFixed(Number(t.tokenDecimal),1)),n.toToken=Object(j.a)({},t),o.props.sunSwapPool.setData({swapToken:n}),o.setState({toValue:a},Object(f.a)(Object(k.a)().mark((function e(){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.props.sunSwapPool.useAllCurrencyCombinations();case 2:return e.next=4,o.props.sunSwapPool.getBalanceAndApprove();case 4:return e.next=6,o.calcPrice();case 6:case"end":return e.stop()}}),e)})))),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),o.props.sunSwapPool.showModal(2,!1),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[5,16]])})))).apply(this,arguments)},o.showAddRecipient=function(){o.setState({addRecipient:!0},(function(){o.checkInput()}))},o.switchPriceInverseFlag=function(){o.setState({priceInverseFlag:!o.state.priceInverseFlag})},o.initStateData=function(){var e=o.state,t=e.receivedFlag,n=e.fromValue,a=e.toValue;t?a="":n="";o.setState({fromValue:Object(z.b)(n),toValue:a,priceStr:"-",priceInverseStr:"-",dependentValue:"",priceImpact:"",priceImpactColor:"",liquidityProviderFee:"",actionError:_.a.get("sunSwap.swap.action_insufficient_liquidity")})},o.switchToken=function(){var e=Object(j.a)({},o.props.sunSwapPool.swapToken.fromToken),t=Object(j.a)({},o.props.sunSwapPool.swapToken.toToken);o.props.sunSwapPool.swapToken.fromToken=t,o.props.sunSwapPool.swapToken.toToken=e;var n=o.props.sunSwapPool.swapToken,a=(n.fromToken,n.toToken,o.state),s=a.receivedFlag,r=a.fromValue,i=a.toValue,c=a.priceInverseFlag;s?(i=o.state.fromValue,r=o.state.toValue):(r=o.state.toValue,i=o.state.fromValue),o.setState({priceInverseFlag:!c,receivedFlag:!s,fromValue:r,toValue:i,needApprove:!1},Object(f.a)(Object(k.a)().mark((function e(){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.calcPrice();case 2:return e.next=4,o.props.sunSwapPool.getBalanceAndApprove();case 4:case"end":return e.stop()}}),e)}))))},o.hideAddRecipient=function(){o.setState({addRecipient:!1,recipientAddr:""},(function(){o.checkInput()}))},o.onRecipientChange=function(e){var t=e.target.value;o.setState({recipientAddr:t},(function(){o.checkInput()}))},o.showSettingModal=function(){o.props.sunSwapNetwork.setData({settingVisibleV2:!0})},o.initSwapModal=function(){var e=o.state.swapTRXState,t=o.props.sunSwapPool.swapToken.fromToken,n=o.props.sunSwapPool.swapToken.toToken,a=!e&&o.state.needApprove,s=o.state.recipientAddr,r=s?_.a.get("sunSwap.swap.action_swapSend"):_.a.get("sunSwap.swap.action_swap"),i=["orange","red"].includes(o.state.priceImpactColor)?_.a.get("sunSwap.swap.action_swapStill"):s?_.a.get("sunSwap.swap.confirm_swapSend"):_.a.get("sunSwap.swap.confirm_swap"),c=s?_.a.get("sunSwap.action.swapSendAct",{from:t.tokenSymbol,to:n.tokenSymbol}):_.a.get("sunSwap.action.swapAct",{from:t.tokenSymbol,to:n.tokenSymbol}),l=s?_.a.get("sunSwap.action.swapSendActErr"):_.a.get("sunSwap.action.swapActErr");return{swapPopTitle:r,swapPopBtn:i,swapPopBtnDisabled:!1,swapErrorInfo:"",approveActionTitle:_.a.get("sunSwap.action.approveAct",{token:t.tokenSymbol}),approveActionError:_.a.get("sunSwap.action.approveActErr"),approveActionState:"",swapActionTitle:c,swapActionError:l,swapActionState:"",actionInfo:_.a.get("sunSwap.action.startBtn"),actionDisabled:!0,actionRetry:"",actionState:a?"line":"info",actionStarted:!1,successFromValue:"",successToValue:"",miniPopVisible:!1}},o.showSwapModal=function(){o.setState(Object(j.a)(Object(j.a)({},o.initSwapModal()),{},{swapVisible:!0}),(function(){o.onRetryAction()}))},o.beforeHideSwapModal=function(){o.state.actionStarted?o.setState({miniPopVisible:!0}):o.hideSwapModal()},o.hideSwapModal=function(){o.setState({swapVisible:!1},(function(){setTimeout((function(){o.setState(Object(j.a)({},o.initSwapModal()))}),1e3)}))},o.approveToken=Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s,r;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.props.sunSwapPool.swapToken,n=t.fromToken,a=t.toToken,!(n&&a&&(n.tokenAddress===D.a.trxFakeAddress&&a.tokenAddress===D.a.wtrxAddress||a.tokenAddress===D.a.trxFakeAddress&&n.tokenAddress===D.a.wtrxAddress))){e.next=3;break}return e.abrupt("return");case 3:return s=o.props.sunSwapPool.swapToken.fromToken.tokenAddress,r=D.a.v2Contract.router,e.next=7,Object(re.e)(s,r,{title:"swap.pop_title_approve",obj:{token:o.props.sunSwapPool.swapToken.fromToken.tokenSymbol}});case 7:e.sent?o.setState({approveActionState:"pending",actionInfo:_.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,actionStarted:!0,needApprove:!1},(function(){setTimeout((function(){o.setState({approveActionState:"success",actionState:"info"})}),5e3)})):o.setState({approveActionState:"error",actionRetry:"approveToken",actionInfo:_.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0});case 9:case"end":return e.stop()}}),e)}))),o.beforeSwapToken=Object(f.a)(Object(k.a)().mark((function e(){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.setState({actionStarted:!0,swapPopBtn:_.a.get("sunSwap.action.startBtn"),swapPopBtnDisabled:!0},(function(){o.swapToken()}));case 1:case"end":return e.stop()}}),e)}))),o.getSwapFuncType=function(e,t){var n=o.state,a=n.receivedFlag;return n.swapTRXState?e.tokenAddress===D.a.trxFakeAddress?"deposit":"withdraw":a?e.tokenAddress===D.a.trxFakeAddress?"swapExactETHForTokens":t.tokenAddress===D.a.trxFakeAddress?"swapExactTokensForETH":"swapExactTokensForTokens":e.tokenAddress===D.a.trxFakeAddress?"swapETHForExactTokens":t.tokenAddress===D.a.trxFakeAddress?"swapTokensForExactETH":"swapTokensForExactTokens"},o.swapToken=Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s,r,i,c,l,p,u,d,b,m,j,h,w,O,x,v,g;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.props.sunSwapPool.swapToken.fromToken,n=o.props.sunSwapPool.swapToken.toToken,a=o.state.fromValue,s=o.state.toValue,r=o.state.recipientAddr,i=o.state,c=i.swapTRXState,l=i.dependentValueSunBig,p=!c&&o.state.needApprove,u=a,d=s,b="",m={title:r&&!c?"swap.pop_title_swap_send":"swap.pop_title_swap",obj:{from:"".concat(Object(z.k)(Object(z.D)(a),t.tokenDecimal)," ").concat(t.tokenSymbol),to:"".concat(Object(z.k)(Object(z.D)(s),n.tokenDecimal)," ").concat(n.tokenSymbol),addr:c?window.defaultAccount:r}},j=o.state.bestTrade,h=o.getSwapFuncType(t,n,j),!c){e.next=19;break}return e.next=16,re.C[h]({amountIn:Object(z.D)(a).times(Object(z.a)(10).pow(t.tokenDecimal))._toIntegerDown()._toHex(),amountOut:Object(z.D)(s).times(Object(z.a)(10).pow(n.tokenDecimal))._toIntegerDown()._toHex(),intlObj:m});case 16:b=e.sent,e.next=37;break;case 19:return w=o.state.bestTrade.route,O=w.path||[],x=O.map((function(e){return e.tokenAddress===D.a.trxFakeAddress?D.a.wtrxAddress:e.tokenAddress})),e.t0=re.C,e.t1=h,e.t2=Object(z.D)(a).times(Object(z.a)(10).pow(t.tokenDecimal))._toIntegerDown()._toHex(),e.t3=Object(z.D)(s).times(Object(z.a)(10).pow(n.tokenDecimal))._toIntegerDown()._toHex(),e.t4=Object(z.a)(l)._toIntegerDown()._toHex(),e.next=29,Object(re.g)(o.props.sunSwapNetwork.settingDeadlineV2);case 29:return e.t5=e.sent,e.t6=r||window.defaultAccount,e.t7=x,e.t8=m,e.t9={amountIn:e.t2,amountOut:e.t3,dependentValueSunBig:e.t4,deadline:e.t5,to:e.t6,path:e.t7,intlObj:e.t8},e.next=36,e.t0[e.t1].call(e.t0,e.t9);case 36:b=e.sent;case 37:b?(v={swapErrorInfo:"",swapPopBtn:_.a.get("sunSwap.action.doingBtn"),swapPopBtnDisabled:!0,actionStarted:!0},p&&!c&&(v={actionInfo:_.a.get("sunSwap.action.doingBtn"),actionDisabled:!0,swapActionState:"pending",actionState:"line",actionStarted:!0}),o.setState(v,(function(){setTimeout(Object(f.a)(Object(k.a)().mark((function e(){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.setState({fromValue:"",toValue:"",successFromValue:u,successToValue:d,actionRetry:"",actionState:"success",actionStarted:!1}),e.next=3,o.props.sunSwapPool.getBalanceAndApprove();case 3:return e.next=5,o.calcPrice();case 5:case"end":return e.stop()}}),e)}))),5e3)}))):(g={swapErrorInfo:r?_.a.get("sunSwap.action.swapSendActErr"):_.a.get("sunSwap.action.swapActErr"),swapPopBtn:_.a.get("sunSwap.action.retryBtn"),swapPopBtnDisabled:!1,actionStarted:!0},p&&(g={actionState:"line",swapActionState:"error",actionRetry:"swapToken",actionInfo:_.a.get("sunSwap.action.retryBtn"),actionDisabled:!1,actionStarted:!0}),o.setState(g));case 38:case"end":return e.stop()}}),e)}))),o.onRetryAction=function(){var e=o.state,t=e.actionRetry,n=e.needApprove;switch(e.swapTRXState&&(n=!1),!t&&n&&(t="approveToken"),t){case"approveToken":o.setState({approveActionState:"start",actionInfo:_.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){o.approveToken()}));break;case"swapToken":o.setState({swapActionState:"start",actionInfo:_.a.get("sunSwap.action.startBtn"),actionDisabled:!0},(function(){o.swapToken()}))}},o.miniPopOk=function(){var e=o.state.needApprove;o.setState({miniPopVisible:!1},Object(f.a)(Object(k.a)().mark((function t(){return Object(k.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.hideSwapModal(),!e){t.next=4;break}return t.next=4,o.props.sunSwapPool.getBalanceAndApprove();case 4:case"end":return t.stop()}}),t)}))))},o.miniPopCancel=function(){o.setState({miniPopVisible:!1})},o.transRouteRender=function(){var e=o.state.bestTrade,t=(void 0===e?{}:e).route.path||[];t.length;return Object($.jsx)($.Fragment,{children:Object($.jsx)("ul",{className:"flex wrap",style:{justifyContent:"flex-start"},children:t.map((function(e,n){return Object($.jsxs)("li",{style:{display:"flex",alignItems:"center"},children:[Object($.jsx)("img",{className:"mr-4",src:e.tokenLogoUrl||ce.a,alt:""}),Object($.jsx)("span",{children:null===e||void 0===e?void 0:e.tokenSymbol}),n!=t.length-1&&Object($.jsx)("span",{children:"-0.3%"}),n!=t.length-1&&Object($.jsx)("div",{className:"tr-arrow ml-8"})]},e.tokenAddress)}))})})},o.useSafeMax=function(e){var t=o.props.sunSwapPool.swapToken,n=t.fromToken,a=t.toToken;if("from"===e){var s=Object(z.b)(Object(z.D)(n.balance).minus(D.a.swapFeeAmountV2));o.setState({fromValue:s,receivedFlag:!0},Object(f.a)(Object(k.a)().mark((function e(){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.calcPrice();case 2:case"end":return e.stop()}}),e)}))))}else if("to"===e){var r=Object(z.b)(Object(z.D)(a.balance).minus(D.a.swapFeeAmountV2));o.setState({toValue:r},Object(f.a)(Object(k.a)().mark((function e(){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.calcPrice();case 2:case"end":return e.stop()}}),e)}))))}},o.renderTokenRouter=function(){var e=o.state,t=e.swapTRXState,n=e.bestTrade;return Object($.jsx)($.Fragment,{children:!t&&n&&n.route&&n.route.path.length>0&&Object($.jsxs)("div",{className:et?"flex a-start end trade-route":"flex a-start trade-route",children:[et?"":Object($.jsx)("span",{style:{paddingRight:10,whiteSpace:"nowrap"},children:_.a.get("sunSwap.migrate.trans_route")}),o.transRouteRender()]})})},o.timer=0,o.timer1=0,o.swapFuncType="",o.state={swapTRXState:!1,bestTrade:null,fromValue:"",toValue:"",priceStr:"-",priceInverseStr:"-",priceInverseFlag:!1,dependentValueSunBig:"",dependentValue:"",priceImpact:"",priceImpactColor:"",liquidityProviderFee:"",receivedFlag:!0,addRecipient:!1,recipientAddr:"",recipientValid:!1,needApprove:!0,actionError:_.a.get("sunSwap.swap.action_enter_amount"),swapInfo:_.a.get("sunSwap.swap.action_swap"),swapVisible:!1,priceChartVisible:!1,swapPopTitle:"",swapPopBtn:"",swapPopBtnDisabled:!1,swapErrorInfo:"",approveActionTitle:"",approveActionError:"",approveActionState:"",swapActionTitle:"",swapActionError:"",swapActionState:"",actionInfo:"",actionDisabled:!1,actionRetry:"",actionState:"",actionStarted:!1,successFromValue:"",successToValue:"",miniPopVisible:!1,betterPrice:!1,notCreatedOfNew:!1,transRouteArr:[{symbol:"trx"},{symbol:"btt"},{symbol:"wbtt"},{symbol:"sunold"},{symbol:"nft"},{symbol:"usdj"}]},o}return Object(w.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.sunSwapPool.getBalanceAndApprove(),this.timer=setInterval((function(){e.props.sunSwapPool.getBalanceAndApprove()}),6e3),this.timer1=setInterval((function(){e.props.sunSwapPool.getReservesAll()}),3e3),this.checkInput()}},{key:"componentDidUpdate",value:function(e,t){if(this.props.sunSwapNetwork.changedSetting&&this.state.fromValue&&this.state.toValue){var n=Object(z.D)(this.state.fromValue),a=Object(z.D)(this.state.toValue);this.calcDependentValue(n,a),this.props.sunSwapNetwork.setData({changedSetting:!1})}}},{key:"render",value:function(){var e=this,t=this.props.sunSwapPool,n=t.swapToken,a=t.modalVisibleInfo,s=n.fromToken,o=n.toToken,r=this.state,i=r.priceStr,c=r.priceInverseStr,l=r.dependentValue,p=r.swapTRXState;r.bestTrade;return Object($.jsxs)(Pe.a,{className:"swap-content swap-and-pool",children:[Object($.jsxs)(be.a,{gutter:[{xs:8,sm:16,md:24},10],align:"bottom",children:[Object($.jsxs)(me.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},className:"swap-block",children:[Object($.jsxs)("div",{className:"flex select-token-top",children:[Object($.jsx)("div",{className:"flex",children:Object($.jsxs)("div",{className:s.tokenAddress?"flex":"flex sunswap-chose-token",children:[Object($.jsx)(fe.a,{showModal:function(){e.props.sunSwapPool.showModal(1)},token:s}),Object($.jsx)(ne,{modalVisible:a.visible1,onCancel:function(){return e.props.sunSwapPool.showModal(1,!1)},type:1,onChangeToken:function(t){e.onFromTokenChange(t)}}),Object($.jsx)(he.a,{token:s})]})}),Object($.jsxs)("div",{className:"swap-balance",children:[Object($.jsx)("span",{children:_.a.get("sunSwap.swap.input_from_balance")}),Object($.jsx)("span",{children:Object(z.l)(s.balance,{dp:6,cutZero:!0})})]})]}),Object($.jsx)("div",{className:"flex mt-16",children:Object($.jsxs)("div",{className:"flex input-block",children:[Object($.jsx)("div",{className:"flex input-number",children:Object($.jsx)("input",{value:this.state.fromValue,onChange:this.onFromValueChange,onBlur:this.onFromValueBlur,placeholder:_.a.get("sunSwap.swap.input_placeholder")})}),this.props.network.isConnected?Object($.jsx)("span",{className:"max-btn",onClick:this.setMaxFrom,children:_.a.get("sunSwapV3.swap.input_from_max")}):null]})})]}),Object($.jsx)(me.a,{xs:{span:24},sm:{span:24},md:{span:2},lg:{span:2},style:{textAlign:"center"},children:Object($.jsxs)("div",{className:"flex center",children:[Object($.jsx)("span",{className:"swap-arrow",onClick:this.switchToken}),Object($.jsx)("div",{style:{paddingLeft:32,textAlign:"left",flex:1},className:"sunswap-trade-router media-trade-router-mobile",children:this.renderTokenRouter()})]})}),Object($.jsxs)(me.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},className:"swap-block",children:[Object($.jsxs)("div",{className:"flex",children:[Object($.jsxs)("div",{className:o.tokenAddress?"flex":"flex sunswap-chose-token",children:[Object($.jsx)(fe.a,{showModal:function(){e.props.sunSwapPool.showModal(2)},token:o}),Object($.jsx)(ne,{modalVisible:a.visible2,onCancel:function(){return e.props.sunSwapPool.showModal(2,!1)},type:2,onChangeToken:function(t){e.onToTokenChange(t)}}),Object($.jsx)(he.a,{token:o})]}),Object($.jsxs)("div",{className:"swap-balance",children:[Object($.jsx)("span",{children:_.a.get("sunSwap.swap.input_to_balance")}),Object($.jsx)("span",{children:Object(z.l)(o.balance,{dp:6,cutZero:!0})})]})]}),Object($.jsx)("div",{className:"flex mt-16",children:Object($.jsx)("div",{className:"flex input-block",children:Object($.jsx)("div",{className:"flex input-number",children:Object($.jsx)("input",{value:this.state.toValue,onChange:this.onToValueChange,onBlur:this.onToValueBlur,placeholder:_.a.get("sunSwap.swap.input_placeholder")})})})})]})]}),Object($.jsxs)(be.a,{gutter:[{xs:8,sm:16,md:24},10],className:"mt-20",children:[Object($.jsxs)(me.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},className:"flex-swap-block",children:[!p&&Object($.jsx)($.Fragment,{children:this.state.addRecipient?Object($.jsxs)(g.a.Fragment,{children:[Object($.jsxs)("div",{className:"add-recipient add-recipient-remove",onClick:this.hideAddRecipient,children:[_.a.get("sunSwap.swap.input_remove_recipient"),Object($.jsx)("img",{className:"ml-12 recipient-icon",src:Ge.a,alt:""})]}),Object($.jsxs)("div",{className:"recipient-list",children:[Object($.jsx)("div",{className:"flex",children:this.state.recipientAddr&&this.state.recipientValid?Object($.jsx)("a",{className:"link",href:"".concat(D.a.tronscanUrl,"/address/").concat(this.state.recipientAddr),target:"_blank",rel:"noreferrer",children:_.a.get("sunSwap.swap.input_recipient_tronscan")}):null}),Object($.jsx)("input",{className:"mt-15",value:this.state.recipientAddr,onChange:this.onRecipientChange,placeholder:_.a.get("sunSwap.swap.input_recipient_placeholder")})]})]}):Object($.jsxs)("div",{className:"add-recipient",onClick:this.showAddRecipient,children:[_.a.get("sunSwap.swap.input_add_recipient"),Object($.jsx)("img",{className:"ml-12 recipient-icon",src:Ke.a,alt:""})]})}),s.tokenAddress&&o.tokenAddress?Object($.jsxs)("div",{className:"flex start rates mt-20",children:[_.a.get("sunSwap.swap.input_from_price"),Object($.jsx)("span",{className:"swap-token",children:this.state.priceInverseFlag?Object($.jsxs)($.Fragment,{children:[Object($.jsxs)("span",{className:"token-rates",children:[Object(z.l)(c,{miniText:D.a.minPrice,miniTextNoZero:!0,separator:!1,dp:o.tokenDecimal,cutZero:!0})," ",o.tokenSymbol]})," ",_.a.get("sunSwapV3.per"),Object($.jsx)("span",{className:"token-rates",children:s.tokenSymbol})]}):Object($.jsxs)($.Fragment,{children:[Object($.jsxs)("span",{className:"token-rates",children:[Object(z.l)(i,{miniText:D.a.minPrice,miniTextNoZero:!0,separator:!1,dp:s.tokenDecimal,cutZero:!0})," ",s.tokenSymbol]})," ",_.a.get("sunSwapV3.per"),Object($.jsx)("span",{className:"token-rates",children:o.tokenSymbol})]})}),Object($.jsx)("img",{className:"ml-12",src:Qe.a,alt:"",onClick:this.switchPriceInverseFlag})]}):null,Object($.jsx)("div",{className:"flex",children:Object($.jsx)("div",{className:"sunswap-trade-router media-trade-router-pc mt-20",children:this.renderTokenRouter()})})]}),Object($.jsx)(me.a,{xs:{span:24},sm:{span:24},md:{span:2},lg:{span:2},style:{textAlign:"center"},children:Object($.jsx)("span",{})}),Object($.jsxs)(me.a,{xs:{span:24},sm:{span:24},md:{span:11},lg:{span:11},className:"flex-swap-block",children:[!p&&Object($.jsx)($.Fragment,{children:"0.5"!=this.props.sunSwapNetwork.settingSlippageV2?Object($.jsxs)("div",{className:"flex start detail-item",children:[Object($.jsxs)("div",{children:[_.a.get("sunSwap.swap.detail_slippage")," "]}),Object($.jsx)("span",{className:"ml-8",children:(Object(z.a)(this.props.sunSwapNetwork.settingSlippageV2).lt(.01)?"<0.01":this.props.sunSwapNetwork.settingSlippageV2)+"%"})]}):null}),!p&&this.state.fromValue&&this.state.toValue&&this.props.sunSwapPool.swapToken.fromToken.tokenAddress&&this.props.sunSwapPool.swapToken.toToken.tokenAddress?Object($.jsxs)("div",{children:[Object($.jsx)("div",{className:"flex start mt-8 detail-item",children:this.state.receivedFlag?Object($.jsxs)(g.a.Fragment,{children:[Object($.jsx)(De.a,{tip:_.a.get("sunSwap.swap.detail_min_received_tip"),children:_.a.get("sunSwap.swap.detail_min_received")}),Object($.jsx)("span",{className:"ml-8",children:Object(z.l)(l,{dp:o.tokenDecimal})+" "+o.tokenSymbol})]}):Object($.jsxs)(g.a.Fragment,{children:[Object($.jsx)(De.a,{tip:_.a.get("sunSwap.swap.detail_max_sold_tip"),children:_.a.get("sunSwap.swap.detail_max_sold")}),Object($.jsx)("span",{className:"ml-8",children:Object(z.l)(l,{dp:s.tokenDecimal})+" "+this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]})}),Object($.jsxs)("div",{className:"flex start mt-8 detail-item",children:[Object($.jsx)(De.a,{tip:_.a.get("sunSwap.swap.detail_price_impact_tip"),children:_.a.get("sunSwap.swap.detail_price_impact")}),Object($.jsx)("span",{className:["orange","red"].includes(this.state.priceImpactColor)?this.state.priceImpactColor+" ml-8":"ml-8",children:this.state.priceImpact.indexOf("NaN")>-1?"--":this.state.priceImpact})]}),Object($.jsxs)("div",{className:"flex start mt-8 detail-item",children:[Object($.jsx)(De.a,{tip:_.a.getHTML("swap.detail_liquidity_fee_tip_v2"),children:_.a.get("sunSwap.swap.detail_liquidity_fee")}),Object($.jsx)("span",{className:"ml-8",children:this.state.liquidityProviderFee+" "+this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]})]}):null,"TRX"===s.tokenSymbol&&this.state.fromValue?Object(z.D)(s.balance).lt(D.a.swapFeeAmountV2)?Object($.jsx)("div",{className:"safe-amount-tip mt-20",children:_.a.getHTML("list.trx_tip_3",{value:D.a.swapFeeAmountV2})}):Object(z.D)(s.balance).minus(D.a.swapFeeAmountV2).lt(Object(z.D)(this.state.fromValue))?Object($.jsxs)("div",{className:"safe-amount-tip mt-20",children:[_.a.getHTML("list.trx_tip_1",{value:D.a.swapFeeAmountV2})," ",Object($.jsx)("span",{className:"safe-amount-set-btn",onClick:function(){return e.useSafeMax("from")},children:_.a.get("sunSwap.list.trx_tip_2")})]}):null:null,"TRX"===o.tokenSymbol&&this.state.toValue&&Object(z.D)(o.balance).lt(D.a.swapFeeAmountV2)?Object($.jsx)("div",{className:"safe-amount-tip mt-20",children:_.a.getHTML("list.trx_tip_3",{value:D.a.swapFeeAmountV2})}):null]})]}),Object($.jsx)("div",{className:"action-btns",children:this.props.network.isConnected?Object($.jsx)($.Fragment,{children:this.state.actionError?Object($.jsx)(ae.a,{type:"single",disabled:!0,info:this.state.actionError}):Object($.jsx)(ae.a,{type:"single",btnColor:this.state.priceImpactColor,info:"red"===this.state.priceImpactColor?_.a.get("sunSwap.swap.action_high"):this.state.swapInfo,onClick:this.showSwapModal})}):Object($.jsx)(ae.a,{type:"single",info:_.a.get("sunSwap.swap.action_connect"),onClick:function(){e.props.network.setData({loginModalVisible:!0,loginModalStep:1})}})}),Object($.jsxs)(T.a,{title:null,closable:"success"!==this.state.actionState,open:this.state.swapVisible,onCancel:this.beforeHideSwapModal,footer:null,className:"confirm-swap-modal sun-swap-modal",width:630,centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:["line"===this.state.actionState&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{className:"title big",children:this.state.swapPopTitle}),Object($.jsxs)("div",{className:"ib-parent center trans-modal amount",children:[Object($.jsxs)("div",{className:"from",children:[Object($.jsx)("div",{className:"from-value",children:this.state.fromValue}),Object($.jsx)("div",{className:"from-token",children:this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]}),Object($.jsx)("img",{src:$e.a,alt:"",className:"plus w10"}),Object($.jsxs)("div",{className:"to",children:[Object($.jsx)("div",{className:"to-value",children:this.state.toValue}),Object($.jsx)("div",{className:"to-token",children:this.props.sunSwapPool.swapToken.toToken.tokenSymbol})]}),this.state.recipientAddr&&Object($.jsxs)("div",{className:"recipient",children:[_.a.get("sunSwap.swap.recipient"),this.state.recipientAddr]})]}),Object($.jsx)("div",{className:"middleTip",children:this.state.recipientAddr?_.a.get("sunSwap.action.swapSendLineTitle"):_.a.get("sunSwap.action.swapLineTitle")}),Object($.jsxs)(se.a,{children:[Object($.jsx)("span",{status:this.state.approveActionState,err:this.state.approveActionError,children:this.state.approveActionTitle}),Object($.jsx)("span",{status:this.state.swapActionState,err:this.state.swapActionError,children:this.state.swapActionTitle})]}),Object($.jsx)(ae.a,{type:"single",disabled:this.state.actionDisabled,info:this.state.actionInfo,onClick:this.onRetryAction})]}),"info"===this.state.actionState&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{className:"title big",children:this.state.swapPopTitle}),Object($.jsxs)("div",{className:"ib-parent center tokens amount",children:[Object($.jsxs)("div",{className:"from",children:[Object($.jsx)("div",{className:"from-value",children:this.state.fromValue}),Object($.jsxs)("div",{className:"from-token",children:[Object($.jsx)("img",{src:this.props.sunSwapPool.swapToken.fromToken.tokenLogoUrl,alt:""}),Object($.jsx)("span",{children:this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]})]}),Object($.jsx)("img",{src:$e.a,alt:"",className:"plus w10"}),Object($.jsxs)("div",{className:"to",children:[Object($.jsx)("div",{className:"to-value",children:this.state.toValue}),Object($.jsxs)("div",{className:"to-token",children:[Object($.jsx)("img",{src:this.props.sunSwapPool.swapToken.toToken.tokenLogoUrl,alt:""}),Object($.jsx)("span",{children:this.props.sunSwapPool.swapToken.toToken.tokenSymbol})]})]}),this.state.recipientAddr&&!p&&Object($.jsxs)("div",{className:"recipient",children:[_.a.get("sunSwap.swap.recipient"),this.state.recipientAddr]})]}),Object($.jsxs)("div",{className:"flex justify-content price",children:[Object($.jsx)("div",{className:"",children:_.a.get("sunSwap.swap.input_from_price")}),Object($.jsxs)("div",{className:"right",children:[Object($.jsx)("div",{children:"1 ".concat(this.props.sunSwapPool.swapToken.toToken.tokenSymbol," =\n                    ").concat(Object(z.l)(this.state.priceStr,{dp:this.props.sunSwapPool.swapToken.fromToken.tokenDecimal,cutZero:!0,miniTextNoZero:!0,miniText:D.a.minPrice}),"\n                    ").concat(this.props.sunSwapPool.swapToken.fromToken.tokenSymbol," ")}),Object($.jsx)("div",{className:"mt3",children:"1 ".concat(this.props.sunSwapPool.swapToken.fromToken.tokenSymbol," =\n                    ").concat(Object(z.l)(this.state.priceInverseStr,{dp:this.props.sunSwapPool.swapToken.toToken.tokenDecimal,cutZero:!0,miniTextNoZero:!0,miniText:D.a.minPrice}),"\n                    ").concat(this.props.sunSwapPool.swapToken.toToken.tokenSymbol," ")})]})]}),"0.5"!=this.props.sunSwapNetwork.settingSlippageV2?Object($.jsxs)("div",{className:"flex justify-content detail-slippage",children:[Object($.jsxs)("div",{children:[_.a.get("sunSwap.swap.detail_slippage")," "]}),Object($.jsx)("div",{children:(Object(z.a)(this.props.sunSwapNetwork.settingSlippageV2).lt(.01)?"<0.01":this.props.sunSwapNetwork.settingSlippageV2)+"%"})]}):null,!p&&Object($.jsxs)("div",{className:"detail-list",children:[Object($.jsx)("div",{className:"flex justify-content detail-item",children:this.state.receivedFlag?Object($.jsxs)(g.a.Fragment,{children:[Object($.jsx)(De.a,{tip:_.a.get("sunSwap.swap.detail_min_received_tip"),left:!0,dark:!0,children:_.a.get("sunSwap.swap.detail_min_received")}),Object($.jsx)("span",{className:"right",children:Object(z.l)(l,{dp:o.tokenDecimal})+" "+this.props.sunSwapPool.swapToken.toToken.tokenSymbol})]}):Object($.jsxs)(g.a.Fragment,{children:[Object($.jsx)(De.a,{tip:_.a.get("sunSwap.swap.detail_max_sold_tip"),left:!0,dark:!0,children:_.a.get("sunSwap.swap.detail_max_sold")}),Object($.jsx)("span",{className:"right",children:Object(z.l)(l,{dp:s.tokenDecimal})+" "+this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]})}),Object($.jsxs)("div",{className:"flex justify-content detail-item",children:[Object($.jsx)(De.a,{tip:_.a.get("sunSwap.swap.detail_price_impact_tip"),left:!0,dark:!0,children:_.a.get("sunSwap.swap.detail_price_impact")}),Object($.jsx)("span",{className:"right "+(["orange","red"].includes(this.state.priceImpactColor)?this.state.priceImpactColor:"normal sun-swap-normal-1"),children:this.state.priceImpact.indexOf("NaN")>-1?"--":this.state.priceImpact})]}),Object($.jsxs)("div",{className:"flex justify-content detail-item",children:[Object($.jsx)(De.a,{tip:_.a.getHTML("swap.detail_liquidity_fee_tip_v2"),left:!0,dark:!0,children:_.a.get("sunSwap.swap.detail_liquidity_fee")}),Object($.jsx)("span",{className:"right",children:this.state.liquidityProviderFee+" "+this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]})]}),Object($.jsx)("div",{className:"warning",children:this.state.receivedFlag?Object($.jsx)("div",{children:_.a.get("sunSwap.swap.confirm_warning_output",{amount:Object(z.l)(l,{dp:o.tokenDecimal}),token:this.props.sunSwapPool.swapToken.toToken.tokenSymbol})}):Object($.jsx)("div",{children:_.a.get("sunSwap.swap.confirm_warning_input",{amount:Object(z.l)(l,{dp:s.tokenDecimal}),token:this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})})}),this.state.swapErrorInfo&&Object($.jsx)("div",{className:"errorMsg",children:this.state.swapErrorInfo}),Object($.jsx)(ae.a,{styleName:"mt-40",type:"single",btnColor:this.state.priceImpactColor,disabled:this.state.swapPopBtnDisabled,info:this.state.swapPopBtn,onClick:this.beforeSwapToken})]}),"success"===this.state.actionState&&Object($.jsx)($.Fragment,{children:Object($.jsxs)("div",{className:"modal-success",children:[Object($.jsx)("img",{src:ie.a,alt:""}),this.state.recipientAddr?Object($.jsx)("div",{className:"title green",children:_.a.get("sunSwap.action.swapSendSuccessTitle")}):Object($.jsx)("div",{className:"title green",children:_.a.get("sunSwap.action.swapSuccessTitle")}),Object($.jsxs)("div",{className:"ib-parent center trans-modal mb25",children:[Object($.jsxs)("div",{className:"from",children:[Object($.jsx)("div",{className:"from-value",children:this.state.successFromValue}),Object($.jsx)("div",{className:"from-token",children:this.props.sunSwapPool.swapToken.fromToken.tokenSymbol})]}),Object($.jsx)("img",{src:$e.a,alt:"",className:"plus w10"}),Object($.jsxs)("div",{className:"to",children:[Object($.jsx)("div",{className:"to-value",children:this.state.successToValue}),Object($.jsx)("div",{className:"to-token",children:this.props.sunSwapPool.swapToken.toToken.tokenSymbol})]}),this.state.recipientAddr&&Object($.jsxs)("div",{className:"recipient",children:[_.a.get("sunSwap.swap.recipient"),Object(z.j)(this.state.recipientAddr)]})]}),Object($.jsx)(ae.a,{type:"single",info:_.a.get("sunSwap.action.closeBtn"),onClick:this.hideSwapModal}),this.state.recipientAddr?Object($.jsx)("div",{className:"endTip",children:_.a.get("sunSwap.action.swapSendDescTitle")}):Object($.jsx)("div",{className:"endTip",children:_.a.get("sunSwap.action.swapDescTitle")})]})})]}),Object($.jsx)(oe.a,{visible:this.state.miniPopVisible,confirm:this.miniPopOk,cancel:this.miniPopCancel})]})}}]),n}(g.a.Component))||d)||d)||d)||d,nt=tt,at=n(61),st=n(21),ot=n.n(st),rt=n(57),it=n.n(rt),ct=D.a.swapServiceV2,lt=D.a.swapApiPathV2,pt=lt.statusinfo,ut=lt.allLiquidityVolume,dt=lt.topTokenList,bt=lt.tokenInfo,mt=lt.topPairList,jt=lt.pairInfo,kt=lt.pairListByToken,ft=lt.transactions,ht=lt.searchTokenList,wt=lt.searchPairList,Ot=lt.liquidityuser,xt=function(e,t,n,a,s,o,r,i,c,l,p){function u(){Object(h.a)(this,u)}return Object(w.a)(u,[{key:"getStatusInfo",value:function(){return(e=e||Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s=arguments;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:{},a=function(){return(t=t||Object(f.a)(Object(k.a)().mark((function e(){var t,a;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.a.get("".concat(ct).concat(pt),{params:n});case 2:return t=e.sent,a=t.data,e.abrupt("return",a.data||{});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)},e.abrupt("return",Object(z.z)(a));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"getAllLiquidityVolume",value:function(){return(t=t||Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s=arguments;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:{},a=function(){return(t=t||Object(f.a)(Object(k.a)().mark((function e(){var t,a,s;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.a.get("".concat(ct).concat(ut),{params:n});case 2:return t=e.sent,a=t.data,(s=a.data||[]).map((function(e){e.time=1e3*e.time,e.newTime=it()(e.time).format("YYYY/M/D"),e.volume=Object(z.E)(e.volume),e.liquidity=Object(z.E)(e.liquidity)})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},e.abrupt("return",Object(z.z)(a));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"getTopTokenList",value:function(){return(n=n||Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s=arguments;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:{},a=function(){return(t=t||Object(f.a)(Object(k.a)().mark((function e(){var t,a,s;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.a.get("".concat(ct).concat(dt),{params:n});case 2:return t=e.sent,a=t.data,(s=a.data||[]).map((function(e){e.symbol=Object(z.r)(e.symbol,e.tokenAddress)})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},e.abrupt("return",Object(z.z)(a));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"getTokenInfo",value:function(){return(a=a||Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s=arguments;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:{},a=function(){return(t=t||Object(f.a)(Object(k.a)().mark((function e(){var t,a,s;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.a.get("".concat(ct).concat(bt),{params:n});case 2:return t=e.sent,a=t.data,(s=a.data||{}).symbol=Object(z.r)(s.symbol,s.tokenAddress),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},e.abrupt("return",Object(z.z)(a));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"getTopPairList",value:function(){return(s=s||Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s=arguments;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:{},a=function(){return(t=t||Object(f.a)(Object(k.a)().mark((function e(){var t,a,s;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.a.get("".concat(ct).concat(mt),{params:n});case 2:return t=e.sent,a=t.data,(s=a.data||[]).map((function(e){e.token0Symbol=Object(z.r)(e.token0Symbol,e.token0Address),e.token1Symbol=Object(z.r)(e.token1Symbol,e.token1Address)})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},e.abrupt("return",Object(z.z)(a));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"getPairInfo",value:function(){return(o=o||Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s=arguments;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:{},a=function(){return(t=t||Object(f.a)(Object(k.a)().mark((function e(){var t,a,s;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.a.get("".concat(ct).concat(jt),{params:n});case 2:return t=e.sent,a=t.data,(s=a.data||{}).token0Symbol=Object(z.r)(s.token0Symbol,s.token0Address),s.token1Symbol=Object(z.r)(s.token1Symbol,s.token1Address),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)},e.abrupt("return",Object(z.z)(a));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"getPairListByToken",value:function(){return(r=r||Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s=arguments;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:{},a=function(){return(t=t||Object(f.a)(Object(k.a)().mark((function e(){var t,a,s;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.a.get("".concat(ct).concat(kt),{params:n});case 2:return t=e.sent,a=t.data,(s=a.data||[]).map((function(e){e.token0Symbol=Object(z.r)(e.token0Symbol,e.token0Address),e.token1Symbol=Object(z.r)(e.token1Symbol,e.token1Address)})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},e.abrupt("return",Object(z.z)(a));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"getTransactions",value:function(){return(i=i||Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s=arguments;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:{},a=function(){return(t=t||Object(f.a)(Object(k.a)().mark((function e(){var t,a,s;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.a.get("".concat(ct).concat(ft),{params:n});case 2:return t=e.sent,a=t.data,(s=a.data||[]).map((function(e){e.fromSymbol=Object(z.r)(e.fromSymbol,e.fromTokenAddr),e.toSymbol=Object(z.r)(e.toSymbol,e.toTokenAddr)})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},e.abrupt("return",Object(z.z)(a));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"searchTokenList",value:function(){return(c=c||Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s=arguments;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:{},a=function(){return(t=t||Object(f.a)(Object(k.a)().mark((function e(){var t,a,s;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.a.get("".concat(ct).concat(ht),{params:n});case 2:return a=e.sent,s=a.data,((null===(t=s.data)||void 0===t?void 0:t.list)||[]).map((function(e){e.symbol=Object(z.r)(e.symbol,e.tokenAddress)})),e.abrupt("return",s.data||{hasMore:!1,list:[]});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},e.abrupt("return",Object(z.z)(a));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"searchPairList",value:function(){return(l=l||Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s=arguments;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:{},a=function(){return(t=t||Object(f.a)(Object(k.a)().mark((function e(){var t,a,s;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.a.get("".concat(ct).concat(wt),{params:n});case 2:return a=e.sent,s=a.data,((null===(t=s.data)||void 0===t?void 0:t.list)||[]).map((function(e){e.token0Symbol=Object(z.r)(e.token0Symbol,e.token0Address),e.token1Symbol=Object(z.r)(e.token1Symbol,e.token1Address)})),e.abrupt("return",s.data||{hasMore:!1,list:[]});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},e.abrupt("return",Object(z.z)(a));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},{key:"getLiquidityUserListV2",value:function(){return(p=p||Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s=arguments;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:"",a=function(){return(t=t||Object(f.a)(Object(k.a)().mark((function e(){var t,a;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.a.get("".concat(ct).concat(Ot),{params:{address:n}});case 2:if(0!==(t=e.sent).data.code){e.next=9;break}return(a=t.data.data.liquidityList||[]).map((function(e){e.token0Symbol=Object(z.r)(e.token0Symbol,e.token0Address),e.token1Symbol=Object(z.r)(e.token1Symbol,e.token1Address)})),e.abrupt("return",a);case 9:return e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)},e.abrupt("return",Object(z.z)(a));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}]),u}(),vt=new xt,gt=n(349),St=n(1062),_t=n(1277),At=n(1140),Tt=n(1108),yt=n(526),Nt=n(1097),Pt=n(1374),Dt=n(1372),Vt=n(1267),Ct=n(348),qt=n(1375),Lt=(n(1378),n(1202)),It=n(1276),Ft=Object(I.a)(window.navigator).any,Bt=Object(A.b)("sunSwapNetwork")(b=Object(A.b)("sunSwapPool")(b=Object(A.b)("network")(b=Object(A.c)(b=function(e,t){Object(O.a)(a,e);var n=Object(x.a)(a);function a(e){var t,s;return Object(h.a)(this,a),(s=n.call(this,e)).componentDidMount=Object(f.a)(Object(k.a)().mark((function e(){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.unmount=!1,setTimeout((function(){s.getLiquidityUserData()}),500);case 2:case"end":return e.stop()}}),e)}))),s.componentWillUnmount=function(){s.unmount=!0},s.addLiq=function(e){var t=s.props.sunSwapPool.liqToken;t.fromToken={tokenSymbol:e.token0Address===D.a.wtrxAddress?"TRX":e.token0Symbol,tokenAddress:e.token0Address===D.a.wtrxAddress?D.a.trxFakeAddress:e.token0Address,tokenDecimal:e.token0Address===D.a.wtrxAddress?D.a.trxDecimal:e.token0Decimal,tokenLogoUrl:e.token0Address===D.a.wtrxAddress?gt.a:e.token0Logo},t.toToken={tokenSymbol:e.token1Address===D.a.wtrxAddress?"TRX":e.token1Symbol,tokenAddress:e.token1Address===D.a.wtrxAddress?D.a.trxFakeAddress:e.token1Address,tokenDecimal:e.token1Address===D.a.wtrxAddress?D.a.trxDecimal:e.token1Decimal,tokenLogoUrl:e.token1Address===D.a.wtrxAddress?gt.a:e.token1Logo},Object(z.p)(t),s.props.sunSwapPool.setData({actionLiqV2:Ct.a.ADD_TYPE,addLiqFromPools:!0,liqToken:t})},s.removeLiq=function(e){if(!(e.tokens.times(D.a.defaultTokenPrecision).integerValue(z.a.ROUND_DOWN).gt(0)&&e.trx.times(e.token1Precision).integerValue(z.a.ROUND_DOWN).gt(0)&&e.value.times(e.token0Precision).integerValue(z.a.ROUND_DOWN).gt(0)))return!1;var t={tokenSymbol:e.token0Symbol,tokenAddress:e.token0Address,tokenDecimal:e.token0Decimal,tokenLogoUrl:e.token0Logo},n={tokenSymbol:e.token1Symbol,tokenAddress:e.token1Address,tokenDecimal:e.token1Decimal,tokenLogoUrl:e.token1Logo},a=s.props.sunSwapPool.liqToken;a.fromToken=t,a.toToken=n,s.props.sunSwapPool.setData({actionLiqV2:2,liqToken:a})},s.liqAddBtnClicked=function(){var e=s.props.sunSwapPool.liqToken;e.toToken={tokenAddress:"",tokenSymbol:""},e.fromToken={tokenSymbol:"TRX",tokenAddress:D.a.trxFakeAddress,tokenDecimal:D.a.trxDecimal,trxBalance:new z.a(0),tokenBalance:new z.a(0),approvedAmount:new z.a(re.a),tokenLogoUrl:D.a.trxLogoUrl},e.toBalance=new z.a(-1),s.props.sunSwapPool.setData({actionLiqV2:1,addLiqFromPools:!1,liqToken:e,tokenDetailV2:{trx:new z.a(0),value:new z.a(0),tokens:new z.a(0),price1:"--",price2:"--",exTrx:new z.a(0)}})},s.getContractData=Object(f.a)(Object(k.a)().mark((function e(){var t,n;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=s.state.currentPage,!((n=s.props.sunSwapPool.originLiquidityListNew.slice(Ft?0:(t-1)*s.pageSize,(t-1)*s.pageSize+s.pageSize)).length>0)){e.next=8;break}if(s.props.sunSwapPool.originLiquidityListNew.map((function(e){var t=n.filter((function(t){t.tokenAddress,e.tokenAddress}));t.length>0&&Object.assign(e,t[0])})),!s.unmount){e.next=7;break}return e.abrupt("return");case 7:t===s.state.currentPage&&s.setState({liquidityList:n});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),s.onChange=function(e){return(t=t||Object(f.a)(Object(k.a)().mark((function e(t){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({currentPage:t},(function(){s.getContractData()}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s.showLoginModal=function(e){s.props.network.setData({loginModalVisible:!0,loginModalStep:1})},s.getColumn=function(){return[{title:_.a.get("sunSwap.liquidity_table.name"),dataIndex:"name",key:"name",fixed:!!Ft&&"left",width:Ft?"100px":void 0,render:function(e,t){var n=t.token0Logo,a=t.token1Logo,s=t.token0Symbol,o=t.token1Symbol,r=t.token0Address,i=t.token1Address,c=t.address,l=i===D.a.wtrxAddress||i===D.a.trxFakeAddress;return Object($.jsxs)("div",{children:[Object($.jsx)(At.a,{url:n,className:Pt.pool_list_logo}),Object($.jsx)(At.a,{url:l?gt.a:a,className:Pt.pool_list_logo_right}),Object($.jsxs)(Tt.a,{target:"_blank",href:Object(yt.b)({pathname:"#/scan/pairDetail",search:{version:"v2",pairAddress:c,token0Address:r,token1Address:i}}),children:[s,"/",o]})]})}},{title:_.a.get("sunSwap.liquidity_table.token"),dataIndex:"token0Amount",key:"token0Amount",render:function(e,t){return(t.value?t.value._toFixed(4,1):"-")+" "+t.token0Symbol}},{title:_.a.get("sunSwap.liquidity_table.token"),dataIndex:"token1Amount",key:"token1Amount",render:function(e,t){return(t.trx?t.trx._toFixed(4,1):"-")+" "+t.token1Symbol}},{title:_.a.get("sunSwap.liquidity_table.lp"),dataIndex:"lp",key:"lp",render:function(e,t){return t.value?Object(z.l)(t.tokens,{miniText:1e-4,cutZero:!0,dp:4}):"-"}},{title:_.a.get("sunSwap.liquidity_table.share"),dataIndex:"share",key:"share",render:function(e,t){return t.value?Object($.jsxs)("span",{children:[t.share.gt(0)&&t.share.lt(.01)?"<0.01":isNaN(t.share._toFixed(2,1))?"--":t.share._toFixed(2,1),"%"]}):"-"}},{title:Object($.jsx)("span",{}),dataIndex:"btn",key:"btn",width:200,render:function(e,t){var n=!(t.tokens.times(D.a.defaultTokenPrecision).integerValue(z.a.ROUND_DOWN).gt(0)&&t.trx.times(t.token1Precision).integerValue(z.a.ROUND_DOWN).gt(0)&&t.value.times(t.token0Precision).integerValue(z.a.ROUND_DOWN).gt(0));return Object($.jsx)(Vt.a,{showRemove:!0,showAdd:!0,onAdd:function(){return s.addLiq(t)},onRemove:function(){return s.removeLiq(t)},removeDisabled:n})}}]},s.formatLiquidityList=function(){return s.state.liquidityList.map((function(e){var t=e.token0Logo,n=e.token1Logo,a=e.token0Symbol,s=e.token1Symbol,o=e.token0Address,r=e.token1Address,i=e.address,c=e.value,l=e.trx,p=e.tokens,u=e.token1Precision,d=e.token0Precision,b=r===D.a.wtrxAddress||r===D.a.trxFakeAddress,m=!(p.times(D.a.defaultTokenPrecision).integerValue(z.a.ROUND_DOWN).gt(0)&&l.times(u).integerValue(z.a.ROUND_DOWN).gt(0)&&c.times(d).integerValue(z.a.ROUND_DOWN).gt(0));return{token0:{tokenLogo:t,tokenSymbol:a,amount:c?c._toFixed(4,1):"-"},token1:{tokenLogo:b?gt.a:n,tokenSymbol:s,amount:l?l._toFixed(4,1):"-"},pool_share:(e.share.gt(0)&&e.share.lt(.01)?"<0.01":isNaN(e.share._toFixed(2,1))?"--":e.share._toFixed(2,1))+"%",pool_tokens:c?Object(z.l)(p,{miniText:1e-4,cutZero:!0,dp:4}):"-",originItem:e,disableRemove:m,toScan:Object(yt.b)({pathname:"#/scan/pairDetail",search:{version:"v2",pairAddress:i,token0Address:o,token1Address:r}})}}))},s.timer=0,s.unmount=!1,s.pageSize=Ft?3:10,s.isConnected=e.network.isConnected,s.state={currentPage:1,liquidityList:[],version:"v2.0",loading:!1},s}return Object(w.a)(a,[{key:"componentDidUpdate",value:function(e,t){var n=this;e.sunSwapPool.version!==t.version&&this.setState({currentPage:1,liquidityList:[],version:e.sunSwapPool.version},(function(){n.getLiquidityUserData()}))}},{key:"getLiqData",value:function(){var e=this;this.setState({currentPage:1,liquidityList:[]},(function(){e.getLiquidityUserData()}))}},{key:"getLiquidityUserData",value:function(){return(t=t||Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s,o,r,i,c,l,p,u,d,b,m,j;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.network.defaultAccount){e.next=3;break}return e.abrupt("return");case 3:return this.setState({loading:!0}),n=this.props.sunSwapPool.originLiquidityListNew,a=void 0===n?[]:n,e.next=7,vt.getLiquidityUserListV2(t);case 7:s=e.sent,o=s.filter((function(e){return new z.a(e.jswapBalance).gt(0)})),o.map((function(e){var t=a.filter((function(t){return t.tokenAddress===e.tokenAddress}));if(t.length>0){var n=t[0],s=n.value,o=n.tokens,r=n.trx,i=n.share;Object.assign(e,{value:s,tokens:o,trx:r,share:i,version:"v2.0"})}else Object.assign(e,{value:new z.a(0),tokens:new z.a(0),trx:new z.a(0),share:new z.a(0),version:"v2.0"})})),r=[],i=Object(at.a)(o);try{for(i.s();!(c=i.n()).done;)l=c.value,r.push(l.address)}catch(k){i.e(k)}finally{i.f()}return p=this.props.network.defaultAccount,e.next=16,Object(re.p)(p,r);case 16:for(u=e.sent,d=0;d<(null===(b=u._trx)||void 0===b?void 0:b.length);d++)m=new z.a(10).pow(o[d].token0Decimal),j=new z.a(10).pow(o[d].token1Decimal),o[d].trx=new z.a(u._trx[d]._hex).div(j),o[d].value=new z.a(u._token[d]._hex).div(m),o[d].tokens=new z.a(u._uniToken[d]._hex).div(D.a.defaultTokenPrecision),o[d].share=new z.a(u._uniToken[d]._hex).times(100).div(new z.a(u._totalsupply[d]._hex)),o[d].token0Precision=m,o[d].token1Precision=j;if(this.props.sunSwapPool.setData({originLiquidityListNew:o}),1!==this.state.currentPage){e.next=23;break}return e.next=23,this.getContractData();case 23:this.setState({loading:!1});case 24:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}},{key:"render",value:function(){var e=this,t=this.state,n=t.liquidityList,a=t.loading,s=t.currentPage,o=this.props.network.isConnected,r=this.props.sunSwapPool.originLiquidityListNew,i=void 0===r?[]:r,c=this.formatLiquidityList(),l=i.length||0,p=l>s*this.pageSize;return o!==this.isConnected&&o&&(this.isConnected=o,this.getLiquidityUserData()),Object($.jsxs)("section",{className:Pt.pool_list,children:[Object($.jsx)(Dt.a,{tip:_.a.get("sunSwap.pool.base_list_title_tip"),title:"".concat(_.a.get("sunSwap.pool.base_list_title")).concat(a||!n.length?"":" ("+l+") ")}),o?a||0!==n.length?Object($.jsxs)($.Fragment,{children:[Object($.jsx)("div",{className:"hide-for-mobile",id:"scrollableDiv",style:{maxHeight:430,overflow:"auto"},children:Object($.jsx)(Lt.a,{scrollableTarget:"scrollableDiv",next:function(){if(!a)return e.onChange(e.state.currentPage+1)},hasMore:!!a||p,loader:Object($.jsx)(It.a,{}),endMessage:a?null:Object($.jsx)("div",{className:"sun-swap-empty-text",children:_.a.get("sunSwapV3.pool.base_allLiquidity_tip")}),dataLength:c.length,children:c.map((function(t){return Object($.jsx)(qt.a,Object(j.a)(Object(j.a)({},t),{},{onAdd:e.addLiq,onRemove:e.removeLiq}))}))})}),Object($.jsx)("div",{className:"hide-for-pc",children:Object($.jsx)(Nt.a,{dataSource:n,columns:this.getColumn(),loading:{spinning:a},pagination:{current:this.state.currentPage,pageSize:this.pageSize,onChange:this.onChange,total:i.length},locale:{emptyText:a?Object($.jsx)("span",{}):Object($.jsx)("span",{style:{color:"#fff"},children:_.a.get("sunSwap.pool.base_noLiquidity_tip")})},scroll:{x:700}})})]}):Object($.jsx)(_t.a,{}):Object($.jsx)(St.a,{})]})}}]),a}(g.a.Component))||b)||b)||b)||b,Et=Bt,Mt=n(1),Rt=n(1377),Ut=n(1274),Ht=(n(1272),n(1152),J.a.tokenBrief),Wt=[{textKey:"swap",key:Ct.a.SWAP_TYPE},{textKey:"pools",key:Ct.a.ADD_TYPE,tips:_.a.get("sunSwap.pool.add_addLiq_title_tip")}],zt=Object(A.b)("sunSwapNetwork")(m=Object(A.b)("sunSwapPool")(m=Object(A.c)(m=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(e){var a,s,o,r,i;return Object(h.a)(this,n),(i=t.call(this,e)).componentDidMount=Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s,o,r,c,l,p,u;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.scrollTo(0,0),Object(Mt.Z)(),i.setVersion(),i.props.sunSwapNetwork.setData({defaultSelectedKeys:"1"}),i.props.sunSwapNetwork.getSettingsDataForV2(),e.prev=5,i.props.sunSwapPool.getTokensDataFromLocal(),t=Object(Mt.G)("type"),n=Object(Mt.G)("addLiqFromPools"),i.state.type=t,i.props.sunSwapPool.setTokenList("add"===t?3:1),a=Object(Mt.G)("t0"),s=Object(Mt.G)("t1"),o=Object(Mt.G)("from"),r=i.props.sunSwapPool,c=r.liqToken,l=r.swapToken,"add"!==t){e.next=24;break}(p=c.tokenMap)[a]?(c.fromToken=p[a],s||(c.toToken={tokenAddress:"",tokenSymbol:"",approvedAmount:new Mt.a(0)})):i.showSolorModal(a,0),s&&(p[s]?c.toToken=p[s]:i.showSolorModal(s,1)),Object(z.p)(c),i.props.sunSwapPool.setData({actionLiqV2:Ct.a.ADD_TYPE,liqToken:c,addLiqFromPools:n}),i.setState({activeKey:Ct.a.ADD_TYPE}),e.next=41;break;case 24:if("swap"!==t){e.next=40;break}if(u=l.tokenMap,a?u[a]?l.fromToken=u[a]:i.showSolorModal(a,0):l.fromToken={tokenAddress:"",tokenSymbol:"",approvedAmount:new Mt.a(0)},s?u[s]?l.toToken=u[s]:i.showSolorModal(s,1):l.toToken={tokenAddress:"",tokenSymbol:"",approvedAmount:new Mt.a(0)},"scan"!==o||!u[a]&&!u[s]){e.next=32;break}if(!Object.keys(D.a.deflationToken).includes(l.fromToken.tokenAddress)&&!Object.keys(D.a.deflationToken).includes(l.toToken.tokenAddress)){e.next=32;break}return i.setState({dealWarningVisible:!0,callbacks:i.setTokenAddressCallback,dealWarningSymbol:Object.keys(D.a.deflationToken).includes(l.fromToken.tokenAddress)?l.fromToken.tokenAddress:l.toToken.tokenAddress}),e.abrupt("return");case 32:if(!l.fromToken.tokenAddress||!l.toToken.tokenAddress){e.next=35;break}return e.next=35,i.props.sunSwapPool.useAllCurrencyCombinations();case 35:Object(z.p)(l),i.props.sunSwapPool.setData({actionLiqV2:9,swapToken:l}),i.setState({activeKey:Ct.a.SWAP_TYPE}),e.next=41;break;case 40:"pool"===t?(i.props.sunSwapPool.setData({actionLiqV2:0}),i.setState({activeKey:Ct.a.SWAP_TYPE})):i.props.sunSwapPool.setData({actionLiqV2:9});case 41:return e.next=43,i.props.sunSwapPool.getTokensCategory();case 43:e.next=48;break;case 45:e.prev=45,e.t0=e.catch(5),console.log(e.t0);case 48:i.setState({visible:!window.localStorage.getItem("noRemind"),version:window.localStorage.getItem("swapVersion")});case 49:case"end":return e.stop()}}),e,null,[[5,45]])}))),i.setVersion=function(){window.localStorage.setItem("swapVersion",Rt.b),i.props.sunSwapPool.setData({version:Rt.b})},i.setTokenAddressCallback=Object(f.a)(Object(k.a)().mark((function e(){var t;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=i.props.sunSwapPool.swapToken).fromToken.tokenAddress||!t.toToken.tokenAddress){e.next=4;break}return e.next=4,i.props.sunSwapPool.useAllCurrencyCombinations();case 4:Object(z.p)(t),i.props.sunSwapPool.setData({actionLiqV2:Ct.a.SWAP_TYPE,swapToken:t}),i.setState({activeKey:Ct.a.SWAP_TYPE,dealWarningVisible:!1});case 7:case"end":return e.stop()}}),e)}))),i.showSolorModal=function(e,t){return(a=a||Object(f.a)(Object(k.a)().mark((function e(t,n){var a,s,o,r,c;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ht(t);case 2:if(!(a=e.sent).success){e.next=14;break}if(!(s=a.data).tokenAddr){e.next=14;break}return o=window.localStorage.getItem("swapVersion"),r={tokenAddress:t,address:s.exchangeAddr,addressV1:"v1.0"===o?s.exchangeAddr:null,addressV2:"v1.5"===o?s.exchangeAddr:null,tokenSymbol:s.tokenSymbol,tokenLogoUrl:s.tokenLogo,tokenName:s.tokenName,tokenDecimal:s.tokenDecimal,cst:1,balance:"-"},e.next=10,i.calcItem(r);case 10:c=e.sent,0===n&&i.props.sunSwapPool.setData({tokenBrief:c}),1===n&&i.props.sunSwapPool.setData({tokenBriefAnother:c}),i.props.sunSwapPool.setData({solorModalVisible:!0});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i.calcItem=function(e){return(s=s||Object(f.a)(Object(k.a)().mark((function e(t){var n,a,s,o;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.props.sunSwapPool.allExchanges,a=void 0===n?{}:n,s=D.a.contract.factory,a[0]&&a[0][t.tokenAddress]&&a[0][t.tokenAddress].e||null){e.next=8;break}return e.next=6,Object(re.l)(t.tokenAddress,s);case 6:(o=e.sent)&&(t.addressV1=o);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i.changeTab=function(e){return(o=o||Object(f.a)(Object(k.a)().mark((function e(t){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{i.setState({activeKey:t}),t===Ct.a.SWAP_TYPE?i.props.sunSwapPool.setData({actionLiqV2:Ct.a.SWAP_TYPE}):i.props.sunSwapPool.setData({actionLiqV2:Ct.a.ADD_TYPE})}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i.closeModal=function(){i.setState({visible:!1})},i.mountedActions=function(){i.props.sunSwapPool.getBalanceAndApprove()},i.addSolorTokens=function(e,t,n){return(r=r||Object(f.a)(Object(k.a)().mark((function e(t,n,a){var s,o,r,c,l;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=i.props.sunSwapPool,o=s.solor,r=void 0===o?[]:o,c=s.swapToken,l=s.liqToken,n?"from"===a?c.fromToken=Object(j.a)({},t):c.toToken=Object(j.a)({},t):"from"===a?l.fromToken=Object(j.a)({},t):l.toToken=Object(j.a)({},t),!(L.a.findIndex(r,(function(e){return e.tokenAddress===t.tokenAddress}))>=0)){e.next=6;break}return e.abrupt("return");case 6:return r.unshift(Object(j.a)(Object(j.a)({},t),{},{cst:2})),i.props.sunSwapPool.setData({solor:r,swapToken:c,liqToken:l}),e.next=10,i.props.sunSwapPool.setTokenList(i.props.type);case 10:window.localStorage.setItem("solor",JSON.stringify(r)),n&&i.props.sunSwapPool.getBalanceAndApprove(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)},i.confirmContinue=Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s,o,r;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=i.state,n=t.checkStatus,a=t.type,s=i.props.sunSwapPool,o=s.tokenBrief,r=s.tokenBriefAnother,n){e.next=5;break}return e.abrupt("return");case 5:if(!Object.keys(D.a.deflationToken).includes(o.tokenAddress)&&!Object.keys(D.a.deflationToken).includes(r.tokenAddress)){e.next=9;break}return i.props.sunSwapPool.setData({solorModalVisible:!1}),i.setState({dealWarningVisible:!0,callbacks:i.dealWarningCallback,dealWarningSymbol:o.tokenAddress||r.tokenAddress}),e.abrupt("return");case 9:if(!(Object.keys(o).length>0)){e.next=12;break}return e.next=12,i.addSolorTokens(o,"swap"===a,"from");case 12:if(!(Object.keys(r).length>0)){e.next=15;break}return e.next=15,i.addSolorTokens(r,"swap"===a,"to");case 15:i.props.sunSwapPool.setData({solorModalVisible:!1}),"swap"===a&&i.props.sunSwapPool.useAllCurrencyCombinations(),Object.keys(o).length>0&&"swap"!==a&&i.addRef.current.onChangeToken&&i.addRef.current.onChangeToken(o,3,!0),Object.keys(r).length>0&&"swap"!==a&&i.addRef.current.onChangeToken&&i.addRef.current.onChangeToken(r,4,!0),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0),i.props.sunSwapPool.setData({solorModalVisible:!1});case 25:case"end":return e.stop()}}),e,null,[[0,21]])}))),i.dealWarningCallback=Object(f.a)(Object(k.a)().mark((function e(){var t,n,a,s,o;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i.setState({dealWarningVisible:!1}),t=i.state,t.checkStatus,n=t.type,a=i.props.sunSwapPool,s=a.tokenBrief,o=a.tokenBriefAnother,!(Object.keys(s).length>0)){e.next=7;break}return e.next=7,i.addSolorTokens(s,"swap"===n,"from");case 7:if(!(Object.keys(o).length>0)){e.next=10;break}return e.next=10,i.addSolorTokens(o,"swap"===n,"to");case 10:i.props.sunSwapPool.setData({solorModalVisible:!1}),"swap"===n&&i.props.sunSwapPool.useAllCurrencyCombinations(),Object.keys(s).length>0&&"swap"!==n&&i.addRef.current.onChangeToken&&i.addRef.current.onChangeToken(s,3,!0),Object.keys(o).length>0&&"swap"!==n&&i.addRef.current.onChangeToken&&i.addRef.current.onChangeToken(o,4,!0),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),i.props.sunSwapPool.setData({solorModalVisible:!1});case 20:case"end":return e.stop()}}),e,null,[[0,16]])}))),i.changeCheckStatus=function(e){i.setState({checkStatus:e.target.checked})},i.renderBrief=function(e){return Object($.jsxs)("div",{className:"token-info flex",children:[Object($.jsx)("div",{className:"logo",children:Object($.jsx)("img",{src:e.tokenLogoUrl?e.tokenLogoUrl:ce.a})}),Object($.jsxs)("div",{className:"info",children:[Object($.jsxs)("div",{className:"symbol",children:[e.tokenName,"(",e.tokenSymbol,")"]}),Object($.jsxs)("div",{className:"addr",children:[Object($.jsx)("span",{children:e.tokenAddress}),Object($.jsx)("span",{className:"pointer",title:e.tokenAddress,id:"copySpan",onClick:function(e){Object(z.i)(e,"5px","copySpan")},children:Object($.jsx)(N.a,{})})]})]})]})},i.onVersionChange=function(e){var t=e.route,n=i.props.sunSwapPool,a=n.actionLiqV2,s=n.swapToken,o=void 0===s?{}:s,r=n.liqToken,c=void 0===r?{}:r;if(!t||!t.includes("sun_swap/v2")){var l=L.a.get(o,"fromToken.tokenAddress"),p=L.a.get(o,"toToken.tokenAddress"),u=L.a.get(c,"fromToken.tokenAddress"),d=L.a.get(c,"toToken.tokenAddress"),b=9===a?l:u,m=9===a?p:d,j={};!m||1===a&&m===D.a.trxFakeAddress||(j.t1=m),!b||1===a&&b===D.a.trxFakeAddress||(j.t0=b),9===a?j.type="swap":0===a&&(j.type="pool"),1===a&&(j.type="add"),i.props.history.push(Object(yt.b)({pathname:t,search:j}))}},i.onSettingChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";i.props.sunSwapNetwork.setData({settingVisibleV2:!1}),i.props.sunSwapNetwork.saveSettingsForV2(e,t),i.swapRef.current&&i.swapRef.current.calcPrice()},i.onBack=function(){i.props.sunSwapPool.setData({actionLiqV2:Ct.a.ADD_TYPE,addLiqFromPools:!1})},i.handleSuccess=function(e){var t=i.props.sunSwapPool;switch(e){case Ct.a.ADD_TYPE:t.addLiqFromPools?(t.setData({addLiqFromPools:!1,tokenTwoFixed:!1}),i.updatePoolList()):i.updatePoolList();break;case Ct.a.REMOVE_TYPE:t.setData({addLiqFromPools:!1,actionLiqV2:Ct.a.ADD_TYPE});break;default:t.setData({actionLiqV2:Ct.a.ADD_TYPE,addLiqFromPools:!1})}},i.updatePoolList=function(){i.poolRef&&i.poolRef.current&&i.poolRef.current.getLiqData()},i.settingsRef=g.a.createRef(),i.swapRef=g.a.createRef(),i.addRef=g.a.createRef(),i.poolRef=g.a.createRef(),i.state={lang:window.localStorage.getItem("lang")||_.a.options.currentLocale,activeKey:Ct.a.ADD_TYPE,visible:!1,checkStatus:!1,type:"add",version:Rt.b,dealWarningVisible:!1,selectSearchItem:""},i}return Object(w.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.checkStatus,a=t.dealWarningVisible,s=t.callbacks,o=t.dealWarningSymbol,r=this.props.sunSwapPool,i=r.tokenBrief,c=r.tokenBriefAnother,l=r.solorModalVisible,p=r.actionLiqV2,u=r.addLiqFromPools,d=p===Ct.a.ADD_TYPE&&u,b=p===Ct.a.REMOVE_TYPE,m=d||b;return Object($.jsx)($.Fragment,{children:Object($.jsxs)("div",{children:[Object($.jsxs)(Ut.a,{version:"V2",onVersionChange:this.onVersionChange,routeName:"sun_swap/v2",pageList:Wt,activePage:p,onPageChange:function(t,n){var a=n.key;return e.changeTab(a)},isDetailPage:m,detailPage:{title:_.a.get(d?"sunSwapV3.pool.add_addLiq_title":"sunSwapV3.pool.remove_liq_title"),tip:_.a.get(d?"sunSwapV3.pool.add_addLiq_title_tip":"sunSwapV3.pool.remove_liq_title_tip"),onBack:this.onBack,showSetting:d,onSettingChange:this.onSettingChange,network:this.props.sunSwapNetwork,version:"V2"},network:this.props.sunSwapNetwork,onSettingChange:this.onSettingChange,children:[p===Ct.a.ADD_TYPE&&!d&&Object($.jsx)(xe,{ref:this.addRef,onSuccess:function(){return e.handleSuccess(Ct.a.ADD_TYPE)}}),d&&Object($.jsx)(xe,{ref:this.addRef,onSuccess:function(){return e.handleSuccess(Ct.a.ADD_TYPE)}}),p===Ct.a.SWAP_TYPE&&!m&&Object($.jsx)(nt,{ref:this.swapRef}),b&&Object($.jsx)(ye,{onSuccess:function(){return e.handleSuccess(Ct.a.REMOVE_TYPE)}})]}),!m&&Object($.jsx)(Et,{ref:this.poolRef}),Object($.jsx)(T.a,{title:_.a.get("sunSwap.list.add_token"),closable:!1,open:l,footer:null,width:500,className:"list-addtoken-modal sun-swap-modal",centered:!0,transitionName:"ant-zoom-sun",maskTransitionName:"ant-fade",children:Object($.jsxs)("div",{className:"solor-modal-body",children:[Object($.jsxs)("div",{className:"tips",children:[Object($.jsx)("div",{className:"tips1",children:_.a.get("sunSwap.list.add_token_tip1")}),Object($.jsx)("div",{className:"tips1",children:_.a.get("sunSwap.list.add_token_tip2")}),Object($.jsx)("div",{className:"tips1",children:_.a.get("sunSwap.list.add_token_tip3")})]}),Object.keys(i).length>0&&this.renderBrief(i),Object.keys(c).length>0&&this.renderBrief(c),Object($.jsx)("div",{className:"check-box"+(n?" checked":""),children:Object($.jsx)(y.a,{onChange:this.changeCheckStatus,children:_.a.get("sunSwap.list.add_token_tip4")})}),Object($.jsx)("div",{className:"btns",children:Object($.jsx)("button",{onClick:this.confirmContinue,className:n?"button-active":"",children:_.a.get("sunSwap.list.continue")})})]})}),Object($.jsx)(X.a,{visible:a,cb:s,dealWarningSymbol:o})]})})}}]),n}(g.a.Component))||m)||m)||m;t.default=Object(P.j)(zt)}}]);